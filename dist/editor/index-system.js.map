{"version":3,"file":"index-system.js","sources":["../../node_modules/core-js/internals/global.js","../../node_modules/core-js/internals/fails.js","../../node_modules/core-js/internals/descriptors.js","../../node_modules/core-js/internals/object-property-is-enumerable.js","../../node_modules/core-js/internals/create-property-descriptor.js","../../node_modules/core-js/internals/classof-raw.js","../../node_modules/core-js/internals/indexed-object.js","../../node_modules/core-js/internals/require-object-coercible.js","../../node_modules/core-js/internals/to-indexed-object.js","../../node_modules/core-js/internals/is-object.js","../../node_modules/core-js/internals/to-primitive.js","../../node_modules/core-js/internals/has.js","../../node_modules/core-js/internals/document-create-element.js","../../node_modules/core-js/internals/ie8-dom-define.js","../../node_modules/core-js/internals/object-get-own-property-descriptor.js","../../node_modules/core-js/internals/an-object.js","../../node_modules/core-js/internals/object-define-property.js","../../node_modules/core-js/internals/create-non-enumerable-property.js","../../node_modules/core-js/internals/set-global.js","../../node_modules/core-js/internals/shared-store.js","../../node_modules/core-js/internals/inspect-source.js","../../node_modules/core-js/internals/native-weak-map.js","../../node_modules/core-js/internals/is-pure.js","../../node_modules/core-js/internals/shared.js","../../node_modules/core-js/internals/uid.js","../../node_modules/core-js/internals/shared-key.js","../../node_modules/core-js/internals/hidden-keys.js","../../node_modules/core-js/internals/internal-state.js","../../node_modules/core-js/internals/redefine.js","../../node_modules/core-js/internals/path.js","../../node_modules/core-js/internals/get-built-in.js","../../node_modules/core-js/internals/to-integer.js","../../node_modules/core-js/internals/to-length.js","../../node_modules/core-js/internals/to-absolute-index.js","../../node_modules/core-js/internals/array-includes.js","../../node_modules/core-js/internals/object-keys-internal.js","../../node_modules/core-js/internals/enum-bug-keys.js","../../node_modules/core-js/internals/object-get-own-property-names.js","../../node_modules/core-js/internals/object-get-own-property-symbols.js","../../node_modules/core-js/internals/own-keys.js","../../node_modules/core-js/internals/copy-constructor-properties.js","../../node_modules/core-js/internals/is-forced.js","../../node_modules/core-js/internals/export.js","../../node_modules/core-js/internals/native-symbol.js","../../node_modules/core-js/internals/use-symbol-as-uid.js","../../node_modules/core-js/internals/is-array.js","../../node_modules/core-js/internals/to-object.js","../../node_modules/core-js/internals/object-keys.js","../../node_modules/core-js/internals/object-define-properties.js","../../node_modules/core-js/internals/html.js","../../node_modules/core-js/internals/object-create.js","../../node_modules/core-js/internals/object-get-own-property-names-external.js","../../node_modules/core-js/internals/well-known-symbol.js","../../node_modules/core-js/internals/well-known-symbol-wrapped.js","../../node_modules/core-js/internals/define-well-known-symbol.js","../../node_modules/core-js/internals/set-to-string-tag.js","../../node_modules/core-js/internals/a-function.js","../../node_modules/core-js/internals/function-bind-context.js","../../node_modules/core-js/internals/array-species-create.js","../../node_modules/core-js/internals/array-iteration.js","../../node_modules/core-js/modules/es.symbol.js","../../node_modules/core-js/modules/es.symbol.description.js","../../node_modules/core-js/modules/es.symbol.async-iterator.js","../../node_modules/core-js/modules/es.symbol.has-instance.js","../../node_modules/core-js/modules/es.symbol.is-concat-spreadable.js","../../node_modules/core-js/modules/es.symbol.iterator.js","../../node_modules/core-js/modules/es.symbol.match.js","../../node_modules/core-js/modules/es.symbol.match-all.js","../../node_modules/core-js/modules/es.symbol.replace.js","../../node_modules/core-js/modules/es.symbol.search.js","../../node_modules/core-js/modules/es.symbol.species.js","../../node_modules/core-js/modules/es.symbol.split.js","../../node_modules/core-js/modules/es.symbol.to-primitive.js","../../node_modules/core-js/modules/es.symbol.to-string-tag.js","../../node_modules/core-js/modules/es.symbol.unscopables.js","../../node_modules/core-js/internals/create-property.js","../../node_modules/core-js/internals/engine-user-agent.js","../../node_modules/core-js/internals/engine-v8-version.js","../../node_modules/core-js/internals/array-method-has-species-support.js","../../node_modules/core-js/modules/es.array.concat.js","../../node_modules/core-js/internals/array-copy-within.js","../../node_modules/core-js/internals/add-to-unscopables.js","../../node_modules/core-js/modules/es.array.copy-within.js","../../node_modules/core-js/internals/array-method-is-strict.js","../../node_modules/core-js/internals/array-method-uses-to-length.js","../../node_modules/core-js/modules/es.array.every.js","../../node_modules/core-js/internals/array-fill.js","../../node_modules/core-js/modules/es.array.fill.js","../../node_modules/core-js/modules/es.array.filter.js","../../node_modules/core-js/modules/es.array.find.js","../../node_modules/core-js/modules/es.array.find-index.js","../../node_modules/core-js/internals/flatten-into-array.js","../../node_modules/core-js/modules/es.array.flat.js","../../node_modules/core-js/modules/es.array.flat-map.js","../../node_modules/core-js/internals/array-for-each.js","../../node_modules/core-js/modules/es.array.for-each.js","../../node_modules/core-js/internals/call-with-safe-iteration-closing.js","../../node_modules/core-js/internals/iterators.js","../../node_modules/core-js/internals/is-array-iterator-method.js","../../node_modules/core-js/internals/to-string-tag-support.js","../../node_modules/core-js/internals/classof.js","../../node_modules/core-js/internals/get-iterator-method.js","../../node_modules/core-js/internals/array-from.js","../../node_modules/core-js/internals/check-correctness-of-iteration.js","../../node_modules/core-js/modules/es.array.from.js","../../node_modules/core-js/modules/es.array.includes.js","../../node_modules/core-js/modules/es.array.index-of.js","../../node_modules/core-js/modules/es.array.is-array.js","../../node_modules/core-js/internals/correct-prototype-getter.js","../../node_modules/core-js/internals/object-get-prototype-of.js","../../node_modules/core-js/internals/iterators-core.js","../../node_modules/core-js/internals/create-iterator-constructor.js","../../node_modules/core-js/internals/a-possible-prototype.js","../../node_modules/core-js/internals/object-set-prototype-of.js","../../node_modules/core-js/internals/define-iterator.js","../../node_modules/core-js/modules/es.array.iterator.js","../../node_modules/core-js/modules/es.array.join.js","../../node_modules/core-js/internals/array-last-index-of.js","../../node_modules/core-js/modules/es.array.last-index-of.js","../../node_modules/core-js/modules/es.array.map.js","../../node_modules/core-js/modules/es.array.of.js","../../node_modules/core-js/internals/array-reduce.js","../../node_modules/core-js/modules/es.array.reduce.js","../../node_modules/core-js/modules/es.array.reduce-right.js","../../node_modules/core-js/modules/es.array.reverse.js","../../node_modules/core-js/modules/es.array.slice.js","../../node_modules/core-js/modules/es.array.some.js","../../node_modules/core-js/modules/es.array.sort.js","../../node_modules/core-js/internals/set-species.js","../../node_modules/core-js/modules/es.array.species.js","../../node_modules/core-js/modules/es.array.splice.js","../../node_modules/core-js/modules/es.array.unscopables.flat.js","../../node_modules/core-js/modules/es.array.unscopables.flat-map.js","../../node_modules/core-js/internals/array-buffer-native.js","../../node_modules/core-js/internals/redefine-all.js","../../node_modules/core-js/internals/an-instance.js","../../node_modules/core-js/internals/to-index.js","../../node_modules/core-js/internals/ieee754.js","../../node_modules/core-js/internals/array-buffer.js","../../node_modules/core-js/modules/es.array-buffer.constructor.js","../../node_modules/core-js/internals/array-buffer-view-core.js","../../node_modules/core-js/modules/es.array-buffer.is-view.js","../../node_modules/core-js/internals/species-constructor.js","../../node_modules/core-js/modules/es.array-buffer.slice.js","../../node_modules/core-js/modules/es.data-view.js","../../node_modules/core-js/modules/es.date.now.js","../../node_modules/core-js/internals/string-repeat.js","../../node_modules/core-js/internals/string-pad.js","../../node_modules/core-js/internals/date-to-iso-string.js","../../node_modules/core-js/modules/es.date.to-iso-string.js","../../node_modules/core-js/modules/es.date.to-json.js","../../node_modules/core-js/internals/date-to-primitive.js","../../node_modules/core-js/modules/es.date.to-primitive.js","../../node_modules/core-js/modules/es.date.to-string.js","../../node_modules/core-js/internals/function-bind.js","../../node_modules/core-js/modules/es.function.bind.js","../../node_modules/core-js/modules/es.function.has-instance.js","../../node_modules/core-js/modules/es.function.name.js","../../node_modules/core-js/modules/es.global-this.js","../../node_modules/core-js/modules/es.json.stringify.js","../../node_modules/core-js/modules/es.json.to-string-tag.js","../../node_modules/core-js/internals/freezing.js","../../node_modules/core-js/internals/internal-metadata.js","../../node_modules/core-js/internals/iterate.js","../../node_modules/core-js/internals/inherit-if-required.js","../../node_modules/core-js/internals/collection.js","../../node_modules/core-js/internals/collection-strong.js","../../node_modules/core-js/modules/es.map.js","../../node_modules/core-js/internals/math-log1p.js","../../node_modules/core-js/modules/es.math.acosh.js","../../node_modules/core-js/modules/es.math.asinh.js","../../node_modules/core-js/modules/es.math.atanh.js","../../node_modules/core-js/internals/math-sign.js","../../node_modules/core-js/modules/es.math.cbrt.js","../../node_modules/core-js/modules/es.math.clz32.js","../../node_modules/core-js/internals/math-expm1.js","../../node_modules/core-js/modules/es.math.cosh.js","../../node_modules/core-js/modules/es.math.expm1.js","../../node_modules/core-js/internals/math-fround.js","../../node_modules/core-js/modules/es.math.fround.js","../../node_modules/core-js/modules/es.math.hypot.js","../../node_modules/core-js/modules/es.math.imul.js","../../node_modules/core-js/modules/es.math.log10.js","../../node_modules/core-js/modules/es.math.log1p.js","../../node_modules/core-js/modules/es.math.log2.js","../../node_modules/core-js/modules/es.math.sign.js","../../node_modules/core-js/modules/es.math.sinh.js","../../node_modules/core-js/modules/es.math.tanh.js","../../node_modules/core-js/modules/es.math.to-string-tag.js","../../node_modules/core-js/modules/es.math.trunc.js","../../node_modules/core-js/internals/whitespaces.js","../../node_modules/core-js/internals/string-trim.js","../../node_modules/core-js/modules/es.number.constructor.js","../../node_modules/core-js/modules/es.number.epsilon.js","../../node_modules/core-js/internals/number-is-finite.js","../../node_modules/core-js/modules/es.number.is-finite.js","../../node_modules/core-js/internals/is-integer.js","../../node_modules/core-js/modules/es.number.is-integer.js","../../node_modules/core-js/modules/es.number.is-nan.js","../../node_modules/core-js/modules/es.number.is-safe-integer.js","../../node_modules/core-js/modules/es.number.max-safe-integer.js","../../node_modules/core-js/modules/es.number.min-safe-integer.js","../../node_modules/core-js/internals/number-parse-float.js","../../node_modules/core-js/modules/es.number.parse-float.js","../../node_modules/core-js/internals/number-parse-int.js","../../node_modules/core-js/modules/es.number.parse-int.js","../../node_modules/core-js/internals/this-number-value.js","../../node_modules/core-js/modules/es.number.to-fixed.js","../../node_modules/core-js/modules/es.number.to-precision.js","../../node_modules/core-js/internals/object-assign.js","../../node_modules/core-js/modules/es.object.assign.js","../../node_modules/core-js/modules/es.object.create.js","../../node_modules/core-js/internals/object-prototype-accessors-forced.js","../../node_modules/core-js/modules/es.object.define-getter.js","../../node_modules/core-js/modules/es.object.define-properties.js","../../node_modules/core-js/modules/es.object.define-property.js","../../node_modules/core-js/modules/es.object.define-setter.js","../../node_modules/core-js/internals/object-to-array.js","../../node_modules/core-js/modules/es.object.entries.js","../../node_modules/core-js/modules/es.object.freeze.js","../../node_modules/core-js/modules/es.object.from-entries.js","../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js","../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js","../../node_modules/core-js/modules/es.object.get-own-property-names.js","../../node_modules/core-js/modules/es.object.get-prototype-of.js","../../node_modules/core-js/internals/same-value.js","../../node_modules/core-js/modules/es.object.is.js","../../node_modules/core-js/modules/es.object.is-extensible.js","../../node_modules/core-js/modules/es.object.is-frozen.js","../../node_modules/core-js/modules/es.object.is-sealed.js","../../node_modules/core-js/modules/es.object.keys.js","../../node_modules/core-js/modules/es.object.lookup-getter.js","../../node_modules/core-js/modules/es.object.lookup-setter.js","../../node_modules/core-js/modules/es.object.prevent-extensions.js","../../node_modules/core-js/modules/es.object.seal.js","../../node_modules/core-js/modules/es.object.set-prototype-of.js","../../node_modules/core-js/internals/object-to-string.js","../../node_modules/core-js/modules/es.object.to-string.js","../../node_modules/core-js/modules/es.object.values.js","../../node_modules/core-js/modules/es.parse-float.js","../../node_modules/core-js/modules/es.parse-int.js","../../node_modules/core-js/internals/native-promise-constructor.js","../../node_modules/core-js/internals/engine-is-ios.js","../../node_modules/core-js/internals/task.js","../../node_modules/core-js/internals/microtask.js","../../node_modules/core-js/internals/new-promise-capability.js","../../node_modules/core-js/internals/promise-resolve.js","../../node_modules/core-js/internals/host-report-errors.js","../../node_modules/core-js/internals/perform.js","../../node_modules/core-js/modules/es.promise.js","../../node_modules/core-js/modules/es.promise.all-settled.js","../../node_modules/core-js/modules/es.promise.finally.js","../../node_modules/core-js/modules/es.reflect.apply.js","../../node_modules/core-js/modules/es.reflect.construct.js","../../node_modules/core-js/modules/es.reflect.define-property.js","../../node_modules/core-js/modules/es.reflect.delete-property.js","../../node_modules/core-js/modules/es.reflect.get.js","../../node_modules/core-js/modules/es.reflect.get-own-property-descriptor.js","../../node_modules/core-js/modules/es.reflect.get-prototype-of.js","../../node_modules/core-js/modules/es.reflect.has.js","../../node_modules/core-js/modules/es.reflect.is-extensible.js","../../node_modules/core-js/modules/es.reflect.own-keys.js","../../node_modules/core-js/modules/es.reflect.prevent-extensions.js","../../node_modules/core-js/modules/es.reflect.set.js","../../node_modules/core-js/modules/es.reflect.set-prototype-of.js","../../node_modules/core-js/internals/is-regexp.js","../../node_modules/core-js/internals/regexp-flags.js","../../node_modules/core-js/internals/regexp-sticky-helpers.js","../../node_modules/core-js/modules/es.regexp.constructor.js","../../node_modules/core-js/internals/regexp-exec.js","../../node_modules/core-js/modules/es.regexp.exec.js","../../node_modules/core-js/modules/es.regexp.flags.js","../../node_modules/core-js/modules/es.regexp.sticky.js","../../node_modules/core-js/modules/es.regexp.test.js","../../node_modules/core-js/modules/es.regexp.to-string.js","../../node_modules/core-js/modules/es.set.js","../../node_modules/core-js/internals/string-multibyte.js","../../node_modules/core-js/modules/es.string.code-point-at.js","../../node_modules/core-js/internals/not-a-regexp.js","../../node_modules/core-js/internals/correct-is-regexp-logic.js","../../node_modules/core-js/modules/es.string.ends-with.js","../../node_modules/core-js/modules/es.string.from-code-point.js","../../node_modules/core-js/modules/es.string.includes.js","../../node_modules/core-js/modules/es.string.iterator.js","../../node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","../../node_modules/core-js/internals/advance-string-index.js","../../node_modules/core-js/internals/regexp-exec-abstract.js","../../node_modules/core-js/modules/es.string.match.js","../../node_modules/core-js/modules/es.string.match-all.js","../../node_modules/core-js/internals/string-pad-webkit-bug.js","../../node_modules/core-js/modules/es.string.pad-end.js","../../node_modules/core-js/modules/es.string.pad-start.js","../../node_modules/core-js/modules/es.string.raw.js","../../node_modules/core-js/modules/es.string.repeat.js","../../node_modules/core-js/modules/es.string.replace.js","../../node_modules/core-js/modules/es.string.search.js","../../node_modules/core-js/modules/es.string.split.js","../../node_modules/core-js/modules/es.string.starts-with.js","../../node_modules/core-js/internals/string-trim-forced.js","../../node_modules/core-js/modules/es.string.trim.js","../../node_modules/core-js/modules/es.string.trim-end.js","../../node_modules/core-js/modules/es.string.trim-start.js","../../node_modules/core-js/internals/create-html.js","../../node_modules/core-js/internals/string-html-forced.js","../../node_modules/core-js/modules/es.string.anchor.js","../../node_modules/core-js/modules/es.string.big.js","../../node_modules/core-js/modules/es.string.blink.js","../../node_modules/core-js/modules/es.string.bold.js","../../node_modules/core-js/modules/es.string.fixed.js","../../node_modules/core-js/modules/es.string.fontcolor.js","../../node_modules/core-js/modules/es.string.fontsize.js","../../node_modules/core-js/modules/es.string.italics.js","../../node_modules/core-js/modules/es.string.link.js","../../node_modules/core-js/modules/es.string.small.js","../../node_modules/core-js/modules/es.string.strike.js","../../node_modules/core-js/modules/es.string.sub.js","../../node_modules/core-js/modules/es.string.sup.js","../../node_modules/core-js/internals/typed-array-constructors-require-wrappers.js","../../node_modules/core-js/internals/to-positive-integer.js","../../node_modules/core-js/internals/to-offset.js","../../node_modules/core-js/internals/typed-array-from.js","../../node_modules/core-js/internals/typed-array-constructor.js","../../node_modules/core-js/modules/es.typed-array.float32-array.js","../../node_modules/core-js/modules/es.typed-array.float64-array.js","../../node_modules/core-js/modules/es.typed-array.int8-array.js","../../node_modules/core-js/modules/es.typed-array.int16-array.js","../../node_modules/core-js/modules/es.typed-array.int32-array.js","../../node_modules/core-js/modules/es.typed-array.uint8-array.js","../../node_modules/core-js/modules/es.typed-array.uint8-clamped-array.js","../../node_modules/core-js/modules/es.typed-array.uint16-array.js","../../node_modules/core-js/modules/es.typed-array.uint32-array.js","../../node_modules/core-js/modules/es.typed-array.copy-within.js","../../node_modules/core-js/modules/es.typed-array.every.js","../../node_modules/core-js/modules/es.typed-array.fill.js","../../node_modules/core-js/modules/es.typed-array.filter.js","../../node_modules/core-js/modules/es.typed-array.find.js","../../node_modules/core-js/modules/es.typed-array.find-index.js","../../node_modules/core-js/modules/es.typed-array.for-each.js","../../node_modules/core-js/modules/es.typed-array.from.js","../../node_modules/core-js/modules/es.typed-array.includes.js","../../node_modules/core-js/modules/es.typed-array.index-of.js","../../node_modules/core-js/modules/es.typed-array.iterator.js","../../node_modules/core-js/modules/es.typed-array.join.js","../../node_modules/core-js/modules/es.typed-array.last-index-of.js","../../node_modules/core-js/modules/es.typed-array.map.js","../../node_modules/core-js/modules/es.typed-array.of.js","../../node_modules/core-js/modules/es.typed-array.reduce.js","../../node_modules/core-js/modules/es.typed-array.reduce-right.js","../../node_modules/core-js/modules/es.typed-array.reverse.js","../../node_modules/core-js/modules/es.typed-array.set.js","../../node_modules/core-js/modules/es.typed-array.slice.js","../../node_modules/core-js/modules/es.typed-array.some.js","../../node_modules/core-js/modules/es.typed-array.sort.js","../../node_modules/core-js/modules/es.typed-array.subarray.js","../../node_modules/core-js/modules/es.typed-array.to-locale-string.js","../../node_modules/core-js/modules/es.typed-array.to-string.js","../../node_modules/core-js/internals/collection-weak.js","../../node_modules/core-js/modules/es.weak-map.js","../../node_modules/core-js/modules/es.weak-set.js","../../node_modules/core-js/internals/dom-iterables.js","../../node_modules/core-js/modules/web.dom-collections.for-each.js","../../node_modules/core-js/modules/web.dom-collections.iterator.js","../../node_modules/core-js/modules/web.immediate.js","../../node_modules/core-js/modules/web.queue-microtask.js","../../node_modules/core-js/internals/native-url.js","../../node_modules/core-js/internals/string-punycode-to-ascii.js","../../node_modules/core-js/internals/get-iterator.js","../../node_modules/core-js/modules/web.url-search-params.js","../../node_modules/core-js/modules/web.url.js","../../node_modules/core-js/modules/web.url.to-json.js","../../node_modules/regenerator-runtime/runtime.js","../../src/editor/touch.js","../../src/common/namespaces.js","../../src/common/svgpathseg.js","../../src/common/browser.js","../../src/common/jQuery.attr.js","../../src/common/svgtransformlist.js","../../src/common/units.js","../../src/common/math.js","../../src/common/utilities.js","../../src/editor/contextmenu.js","../../src/external/deparam/deparam.esm.js","../../src/svgcanvas/dbox.js","../../src/svgcanvas/history.js","../../src/svgcanvas/path.js","../../src/common/layer.js","../../src/svgcanvas/historyrecording.js","../../src/svgcanvas/copy-elem.js","../../src/svgcanvas/draw.js","../../src/svgcanvas/sanitize.js","../../src/svgcanvas/coords.js","../../src/svgcanvas/recalculate.js","../../src/svgcanvas/select.js","../../src/svgcanvas/svgcanvas.js","../../src/editor/js-hotkeys/jquery.hotkeys.min.js","../../src/editor/svgicons/jQuery.svgIcons.js","../../src/editor/jgraduate/jQuery.jGraduate.js","../../src/editor/spinbtn/jQuery.SpinButton.js","../../src/editor/contextmenu/jQuery.contextMenu.js","../../src/editor/jgraduate/jQuery.jPicker.js","../../src/editor/locale/locale.js","../../src/editor/svgedit.js","../../src/editor/index.js","../../src/editor/jspdf/underscore-min.js","../../node_modules/rollup-plugin-node-polyfills/polyfills/global.js","../../node_modules/rollup-plugin-node-polyfills/polyfills/buffer-es6.js","../../src/editor/jspdf/jspdf.min.js","../../src/editor/canvg/rgbcolor.js","../../src/editor/jspdf/jspdf.plugin.svgToPdf.js"],"sourcesContent":["var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","module.exports = false;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.6.5',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: 'Â© 2020 Denis Pushkarev (zloirock.ru)'\n});\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","module.exports = {};\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyNames = require('../internals/object-get-own-property-names').f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return nativeGetOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : nativeGetOwnPropertyNames(toIndexedObject(it));\n};\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","var path = require('../internals/path');\nvar has = require('../internals/has');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else if (IS_EVERY) return false;  // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar isSymbol = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return Object(it) instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPrimitive(P, true);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPrimitive(V, true);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPrimitive(P, true);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.github.io/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.github.io/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = String(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.github.io/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.github.io/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.github.io/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  $({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","// `Symbol.prototype.description` getter\n// https://tc39.github.io/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.asyncIterator` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.asynciterator\ndefineWellKnownSymbol('asyncIterator');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.hasInstance` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.hasinstance\ndefineWellKnownSymbol('hasInstance');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.isConcatSpreadable` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.isconcatspreadable\ndefineWellKnownSymbol('isConcatSpreadable');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.match` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.match\ndefineWellKnownSymbol('match');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.matchAll` well-known symbol\ndefineWellKnownSymbol('matchAll');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.replace` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.replace\ndefineWellKnownSymbol('replace');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.search` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.search\ndefineWellKnownSymbol('search');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.species` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.species\ndefineWellKnownSymbol('species');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.split` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.split\ndefineWellKnownSymbol('split');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.toPrimitive` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.toprimitive\ndefineWellKnownSymbol('toPrimitive');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.toStringTag` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.tostringtag\ndefineWellKnownSymbol('toStringTag');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.unscopables` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.unscopables\ndefineWellKnownSymbol('unscopables');\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\nvar min = Math.min;\n\n// `Array.prototype.copyWithin` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.copywithin\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var $ = require('../internals/export');\nvar copyWithin = require('../internals/array-copy-within');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.copyWithin` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.copywithin\n$({ target: 'Array', proto: true }, {\n  copyWithin: copyWithin\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('copyWithin');\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $every = require('../internals/array-iteration').every;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('every');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('every');\n\n// `Array.prototype.every` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.every\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  every: function every(callbackfn /* , thisArg */) {\n    return $every(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND_INDEX);\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","'use strict';\nvar isArray = require('../internals/is-array');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\n\n// `FlattenIntoArray` abstract operation\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar flattenIntoArray = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? bind(mapper, thisArg, 3) : false;\n  var element;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      if (depth > 0 && isArray(element)) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1FFFFFFFFFFFFF) throw TypeError('Exceed the acceptable array length');\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n};\n\nmodule.exports = flattenIntoArray;\n","'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flat` method\n// https://github.com/tc39/proposal-flatMap\n$({ target: 'Array', proto: true }, {\n  flat: function flat(/* depthArg = 1 */) {\n    var depthArg = arguments.length ? arguments[0] : undefined;\n    var O = toObject(this);\n    var sourceLen = toLength(O.length);\n    var A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toInteger(depthArg));\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar aFunction = require('../internals/a-function');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flatMap` method\n// https://github.com/tc39/proposal-flatMap\n$({ target: 'Array', proto: true }, {\n  flatMap: function flatMap(callbackfn /* , thisArg */) {\n    var O = toObject(this);\n    var sourceLen = toLength(O.length);\n    var A;\n    aFunction(callbackfn);\n    A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    return A;\n  }\n});\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","var anObject = require('../internals/an-object');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    var returnMethod = iterator['return'];\n    if (returnMethod !== undefined) anObject(returnMethod.call(iterator));\n    throw error;\n  }\n};\n","module.exports = {};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.github.io/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.github.io/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var $ = require('../internals/export');\nvar isArray = require('../internals/is-array');\n\n// `Array.isArray` method\n// https://tc39.github.io/ecma262/#sec-array.isarray\n$({ target: 'Array', stat: true }, {\n  isArray: isArray\n});\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","'use strict';\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.github.io/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nif (IteratorPrototype == undefined) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif (!IS_PURE && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","var anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.github.io/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.github.io/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.github.io/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar min = Math.min;\nvar nativeLastIndexOf = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!nativeLastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('lastIndexOf');\n// For preventing possible almost infinite loop in non-standard implementations, test the forward version of the method\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\nvar FORCED = NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH;\n\n// `Array.prototype.lastIndexOf` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\nmodule.exports = FORCED ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n  // convert -0 to +0\n  if (NEGATIVE_ZERO) return nativeLastIndexOf.apply(this, arguments) || 0;\n  var O = toIndexedObject(this);\n  var length = toLength(O.length);\n  var index = length - 1;\n  if (arguments.length > 1) index = min(index, toInteger(arguments[1]));\n  if (index < 0) index = length + index;\n  for (;index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;\n  return -1;\n} : nativeLastIndexOf;\n","var $ = require('../internals/export');\nvar lastIndexOf = require('../internals/array-last-index-of');\n\n// `Array.prototype.lastIndexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\n$({ target: 'Array', proto: true, forced: lastIndexOf !== [].lastIndexOf }, {\n  lastIndexOf: lastIndexOf\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar createProperty = require('../internals/create-property');\n\nvar ISNT_GENERIC = fails(function () {\n  function F() { /* empty */ }\n  return !(Array.of.call(F) instanceof F);\n});\n\n// `Array.of` method\n// https://tc39.github.io/ecma262/#sec-array.of\n// WebKit Array.of isn't generic\n$({ target: 'Array', stat: true, forced: ISNT_GENERIC }, {\n  of: function of(/* ...args */) {\n    var index = 0;\n    var argumentsLength = arguments.length;\n    var result = new (typeof this == 'function' ? this : Array)(argumentsLength);\n    while (argumentsLength > index) createProperty(result, index, arguments[index++]);\n    result.length = argumentsLength;\n    return result;\n  }\n});\n","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $reduceRight = require('../internals/array-reduce').right;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduceRight');\n// For preventing possible almost infinite loop in non-standard implementations, test the forward version of the method\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n\n// `Array.prototype.reduceRight` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  reduceRight: function reduceRight(callbackfn /* , initialValue */) {\n    return $reduceRight(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar isArray = require('../internals/is-array');\n\nvar nativeReverse = [].reverse;\nvar test = [1, 2];\n\n// `Array.prototype.reverse` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reverse\n// fix for Safari 12.0 bug\n// https://bugs.webkit.org/show_bug.cgi?id=188794\n$({ target: 'Array', proto: true, forced: String(test) === String(test.reverse()) }, {\n  reverse: function reverse() {\n    // eslint-disable-next-line no-self-assign\n    if (isArray(this)) this.length = this.length;\n    return nativeReverse.call(this);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $some = require('../internals/array-iteration').some;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('some');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('some');\n\n// `Array.prototype.some` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.some\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar test = [];\nvar nativeSort = test.sort;\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar STRICT_METHOD = arrayMethodIsStrict('sort');\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD;\n\n// `Array.prototype.sort` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? nativeSort.call(toObject(this))\n      : nativeSort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","var setSpecies = require('../internals/set-species');\n\n// `Array[@@species]` getter\n// https://tc39.github.io/ecma262/#sec-get-array-@@species\nsetSpecies('Array');\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","// this method was added to unscopables after implementation\n// in popular engines, so it's moved to a separate module\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\naddToUnscopables('flat');\n","// this method was added to unscopables after implementation\n// in popular engines, so it's moved to a separate module\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\naddToUnscopables('flatMap');\n","module.exports = typeof ArrayBuffer !== 'undefined' && typeof DataView !== 'undefined';\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","var toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\n\n// `ToIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-toindex\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length or index');\n  return length;\n};\n","// IEEE754 conversions based on https://github.com/feross/ieee754\n// eslint-disable-next-line no-shadow-restricted-names\nvar Infinity = 1 / 0;\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\n\nvar pack = function (number, mantissaLength, bytes) {\n  var buffer = new Array(bytes);\n  var exponentLength = bytes * 8 - mantissaLength - 1;\n  var eMax = (1 << exponentLength) - 1;\n  var eBias = eMax >> 1;\n  var rt = mantissaLength === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var sign = number < 0 || number === 0 && 1 / number < 0 ? 1 : 0;\n  var index = 0;\n  var exponent, mantissa, c;\n  number = abs(number);\n  // eslint-disable-next-line no-self-compare\n  if (number != number || number === Infinity) {\n    // eslint-disable-next-line no-self-compare\n    mantissa = number != number ? 1 : 0;\n    exponent = eMax;\n  } else {\n    exponent = floor(log(number) / LN2);\n    if (number * (c = pow(2, -exponent)) < 1) {\n      exponent--;\n      c *= 2;\n    }\n    if (exponent + eBias >= 1) {\n      number += rt / c;\n    } else {\n      number += rt * pow(2, 1 - eBias);\n    }\n    if (number * c >= 2) {\n      exponent++;\n      c /= 2;\n    }\n    if (exponent + eBias >= eMax) {\n      mantissa = 0;\n      exponent = eMax;\n    } else if (exponent + eBias >= 1) {\n      mantissa = (number * c - 1) * pow(2, mantissaLength);\n      exponent = exponent + eBias;\n    } else {\n      mantissa = number * pow(2, eBias - 1) * pow(2, mantissaLength);\n      exponent = 0;\n    }\n  }\n  for (; mantissaLength >= 8; buffer[index++] = mantissa & 255, mantissa /= 256, mantissaLength -= 8);\n  exponent = exponent << mantissaLength | mantissa;\n  exponentLength += mantissaLength;\n  for (; exponentLength > 0; buffer[index++] = exponent & 255, exponent /= 256, exponentLength -= 8);\n  buffer[--index] |= sign * 128;\n  return buffer;\n};\n\nvar unpack = function (buffer, mantissaLength) {\n  var bytes = buffer.length;\n  var exponentLength = bytes * 8 - mantissaLength - 1;\n  var eMax = (1 << exponentLength) - 1;\n  var eBias = eMax >> 1;\n  var nBits = exponentLength - 7;\n  var index = bytes - 1;\n  var sign = buffer[index--];\n  var exponent = sign & 127;\n  var mantissa;\n  sign >>= 7;\n  for (; nBits > 0; exponent = exponent * 256 + buffer[index], index--, nBits -= 8);\n  mantissa = exponent & (1 << -nBits) - 1;\n  exponent >>= -nBits;\n  nBits += mantissaLength;\n  for (; nBits > 0; mantissa = mantissa * 256 + buffer[index], index--, nBits -= 8);\n  if (exponent === 0) {\n    exponent = 1 - eBias;\n  } else if (exponent === eMax) {\n    return mantissa ? NaN : sign ? -Infinity : Infinity;\n  } else {\n    mantissa = mantissa + pow(2, mantissaLength);\n    exponent = exponent - eBias;\n  } return (sign ? -1 : 1) * mantissa * pow(2, exponent - mantissaLength);\n};\n\nmodule.exports = {\n  pack: pack,\n  unpack: unpack\n};\n","'use strict';\nvar global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-native');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefineAll = require('../internals/redefine-all');\nvar fails = require('../internals/fails');\nvar anInstance = require('../internals/an-instance');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toIndex = require('../internals/to-index');\nvar IEEE754 = require('../internals/ieee754');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar arrayFill = require('../internals/array-fill');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length';\nvar WRONG_INDEX = 'Wrong index';\nvar NativeArrayBuffer = global[ARRAY_BUFFER];\nvar $ArrayBuffer = NativeArrayBuffer;\nvar $DataView = global[DATA_VIEW];\nvar $DataViewPrototype = $DataView && $DataView[PROTOTYPE];\nvar ObjectPrototype = Object.prototype;\nvar RangeError = global.RangeError;\n\nvar packIEEE754 = IEEE754.pack;\nvar unpackIEEE754 = IEEE754.unpack;\n\nvar packInt8 = function (number) {\n  return [number & 0xFF];\n};\n\nvar packInt16 = function (number) {\n  return [number & 0xFF, number >> 8 & 0xFF];\n};\n\nvar packInt32 = function (number) {\n  return [number & 0xFF, number >> 8 & 0xFF, number >> 16 & 0xFF, number >> 24 & 0xFF];\n};\n\nvar unpackInt32 = function (buffer) {\n  return buffer[3] << 24 | buffer[2] << 16 | buffer[1] << 8 | buffer[0];\n};\n\nvar packFloat32 = function (number) {\n  return packIEEE754(number, 23, 4);\n};\n\nvar packFloat64 = function (number) {\n  return packIEEE754(number, 52, 8);\n};\n\nvar addGetter = function (Constructor, key) {\n  defineProperty(Constructor[PROTOTYPE], key, { get: function () { return getInternalState(this)[key]; } });\n};\n\nvar get = function (view, count, index, isLittleEndian) {\n  var intIndex = toIndex(index);\n  var store = getInternalState(view);\n  if (intIndex + count > store.byteLength) throw RangeError(WRONG_INDEX);\n  var bytes = getInternalState(store.buffer).bytes;\n  var start = intIndex + store.byteOffset;\n  var pack = bytes.slice(start, start + count);\n  return isLittleEndian ? pack : pack.reverse();\n};\n\nvar set = function (view, count, index, conversion, value, isLittleEndian) {\n  var intIndex = toIndex(index);\n  var store = getInternalState(view);\n  if (intIndex + count > store.byteLength) throw RangeError(WRONG_INDEX);\n  var bytes = getInternalState(store.buffer).bytes;\n  var start = intIndex + store.byteOffset;\n  var pack = conversion(+value);\n  for (var i = 0; i < count; i++) bytes[start + i] = pack[isLittleEndian ? i : count - i - 1];\n};\n\nif (!NATIVE_ARRAY_BUFFER) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    setInternalState(this, {\n      bytes: arrayFill.call(new Array(byteLength), 0),\n      byteLength: byteLength\n    });\n    if (!DESCRIPTORS) this.byteLength = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = getInternalState(buffer).byteLength;\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    setInternalState(this, {\n      buffer: buffer,\n      byteLength: byteLength,\n      byteOffset: offset\n    });\n    if (!DESCRIPTORS) {\n      this.buffer = buffer;\n      this.byteLength = byteLength;\n      this.byteOffset = offset;\n    }\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, 'byteLength');\n    addGetter($DataView, 'buffer');\n    addGetter($DataView, 'byteLength');\n    addGetter($DataView, 'byteOffset');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : undefined);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : undefined);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined)) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined), 23);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments.length > 1 ? arguments[1] : undefined), 52);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packInt8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packInt8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packFloat32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packFloat64, value, arguments.length > 2 ? arguments[2] : undefined);\n    }\n  });\n} else {\n  if (!fails(function () {\n    NativeArrayBuffer(1);\n  }) || !fails(function () {\n    new NativeArrayBuffer(-1); // eslint-disable-line no-new\n  }) || fails(function () {\n    new NativeArrayBuffer(); // eslint-disable-line no-new\n    new NativeArrayBuffer(1.5); // eslint-disable-line no-new\n    new NativeArrayBuffer(NaN); // eslint-disable-line no-new\n    return NativeArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new NativeArrayBuffer(toIndex(length));\n    };\n    var ArrayBufferPrototype = $ArrayBuffer[PROTOTYPE] = NativeArrayBuffer[PROTOTYPE];\n    for (var keys = getOwnPropertyNames(NativeArrayBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) {\n        createNonEnumerableProperty($ArrayBuffer, key, NativeArrayBuffer[key]);\n      }\n    }\n    ArrayBufferPrototype.constructor = $ArrayBuffer;\n  }\n\n  // WebKit bug - the same parent prototype for typed arrays and data view\n  if (setPrototypeOf && getPrototypeOf($DataViewPrototype) !== ObjectPrototype) {\n    setPrototypeOf($DataViewPrototype, ObjectPrototype);\n  }\n\n  // iOS Safari 7.x bug\n  var testView = new $DataView(new $ArrayBuffer(2));\n  var nativeSetInt8 = $DataViewPrototype.setInt8;\n  testView.setInt8(0, 2147483648);\n  testView.setInt8(1, 2147483649);\n  if (testView.getInt8(0) || !testView.getInt8(1)) redefineAll($DataViewPrototype, {\n    setInt8: function setInt8(byteOffset, value) {\n      nativeSetInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      nativeSetInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, { unsafe: true });\n}\n\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\n\nmodule.exports = {\n  ArrayBuffer: $ArrayBuffer,\n  DataView: $DataView\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar arrayBufferModule = require('../internals/array-buffer');\nvar setSpecies = require('../internals/set-species');\n\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar ArrayBuffer = arrayBufferModule[ARRAY_BUFFER];\nvar NativeArrayBuffer = global[ARRAY_BUFFER];\n\n// `ArrayBuffer` constructor\n// https://tc39.github.io/ecma262/#sec-arraybuffer-constructor\n$({ global: true, forced: NativeArrayBuffer !== ArrayBuffer }, {\n  ArrayBuffer: ArrayBuffer\n});\n\nsetSpecies(ARRAY_BUFFER);\n","'use strict';\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-native');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar uid = require('../internals/uid');\n\nvar Int8Array = global.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar Uint8ClampedArray = global.Uint8ClampedArray;\nvar Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;\nvar TypedArray = Int8Array && getPrototypeOf(Int8Array);\nvar TypedArrayPrototype = Int8ArrayPrototype && getPrototypeOf(Int8ArrayPrototype);\nvar ObjectPrototype = Object.prototype;\nvar isPrototypeOf = ObjectPrototype.isPrototypeOf;\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar TYPED_ARRAY_TAG = uid('TYPED_ARRAY_TAG');\n// Fixing native typed arrays in Opera Presto crashes the browser, see #595\nvar NATIVE_ARRAY_BUFFER_VIEWS = NATIVE_ARRAY_BUFFER && !!setPrototypeOf && classof(global.opera) !== 'Opera';\nvar TYPED_ARRAY_TAG_REQIRED = false;\nvar NAME;\n\nvar TypedArrayConstructorsList = {\n  Int8Array: 1,\n  Uint8Array: 1,\n  Uint8ClampedArray: 1,\n  Int16Array: 2,\n  Uint16Array: 2,\n  Int32Array: 4,\n  Uint32Array: 4,\n  Float32Array: 4,\n  Float64Array: 8\n};\n\nvar isView = function isView(it) {\n  var klass = classof(it);\n  return klass === 'DataView' || has(TypedArrayConstructorsList, klass);\n};\n\nvar isTypedArray = function (it) {\n  return isObject(it) && has(TypedArrayConstructorsList, classof(it));\n};\n\nvar aTypedArray = function (it) {\n  if (isTypedArray(it)) return it;\n  throw TypeError('Target is not a typed array');\n};\n\nvar aTypedArrayConstructor = function (C) {\n  if (setPrototypeOf) {\n    if (isPrototypeOf.call(TypedArray, C)) return C;\n  } else for (var ARRAY in TypedArrayConstructorsList) if (has(TypedArrayConstructorsList, NAME)) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (C === TypedArrayConstructor || isPrototypeOf.call(TypedArrayConstructor, C))) {\n      return C;\n    }\n  } throw TypeError('Target is not a typed array constructor');\n};\n\nvar exportTypedArrayMethod = function (KEY, property, forced) {\n  if (!DESCRIPTORS) return;\n  if (forced) for (var ARRAY in TypedArrayConstructorsList) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && has(TypedArrayConstructor.prototype, KEY)) {\n      delete TypedArrayConstructor.prototype[KEY];\n    }\n  }\n  if (!TypedArrayPrototype[KEY] || forced) {\n    redefine(TypedArrayPrototype, KEY, forced ? property\n      : NATIVE_ARRAY_BUFFER_VIEWS && Int8ArrayPrototype[KEY] || property);\n  }\n};\n\nvar exportTypedArrayStaticMethod = function (KEY, property, forced) {\n  var ARRAY, TypedArrayConstructor;\n  if (!DESCRIPTORS) return;\n  if (setPrototypeOf) {\n    if (forced) for (ARRAY in TypedArrayConstructorsList) {\n      TypedArrayConstructor = global[ARRAY];\n      if (TypedArrayConstructor && has(TypedArrayConstructor, KEY)) {\n        delete TypedArrayConstructor[KEY];\n      }\n    }\n    if (!TypedArray[KEY] || forced) {\n      // V8 ~ Chrome 49-50 `%TypedArray%` methods are non-writable non-configurable\n      try {\n        return redefine(TypedArray, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && Int8Array[KEY] || property);\n      } catch (error) { /* empty */ }\n    } else return;\n  }\n  for (ARRAY in TypedArrayConstructorsList) {\n    TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {\n      redefine(TypedArrayConstructor, KEY, property);\n    }\n  }\n};\n\nfor (NAME in TypedArrayConstructorsList) {\n  if (!global[NAME]) NATIVE_ARRAY_BUFFER_VIEWS = false;\n}\n\n// WebKit bug - typed arrays constructors prototype is Object.prototype\nif (!NATIVE_ARRAY_BUFFER_VIEWS || typeof TypedArray != 'function' || TypedArray === Function.prototype) {\n  // eslint-disable-next-line no-shadow\n  TypedArray = function TypedArray() {\n    throw TypeError('Incorrect invocation');\n  };\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME], TypedArray);\n  }\n}\n\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !TypedArrayPrototype || TypedArrayPrototype === ObjectPrototype) {\n  TypedArrayPrototype = TypedArray.prototype;\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME].prototype, TypedArrayPrototype);\n  }\n}\n\n// WebKit bug - one more object in Uint8ClampedArray prototype chain\nif (NATIVE_ARRAY_BUFFER_VIEWS && getPrototypeOf(Uint8ClampedArrayPrototype) !== TypedArrayPrototype) {\n  setPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);\n}\n\nif (DESCRIPTORS && !has(TypedArrayPrototype, TO_STRING_TAG)) {\n  TYPED_ARRAY_TAG_REQIRED = true;\n  defineProperty(TypedArrayPrototype, TO_STRING_TAG, { get: function () {\n    return isObject(this) ? this[TYPED_ARRAY_TAG] : undefined;\n  } });\n  for (NAME in TypedArrayConstructorsList) if (global[NAME]) {\n    createNonEnumerableProperty(global[NAME], TYPED_ARRAY_TAG, NAME);\n  }\n}\n\nmodule.exports = {\n  NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS,\n  TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQIRED && TYPED_ARRAY_TAG,\n  aTypedArray: aTypedArray,\n  aTypedArrayConstructor: aTypedArrayConstructor,\n  exportTypedArrayMethod: exportTypedArrayMethod,\n  exportTypedArrayStaticMethod: exportTypedArrayStaticMethod,\n  isView: isView,\n  isTypedArray: isTypedArray,\n  TypedArray: TypedArray,\n  TypedArrayPrototype: TypedArrayPrototype\n};\n","var $ = require('../internals/export');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar NATIVE_ARRAY_BUFFER_VIEWS = ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS;\n\n// `ArrayBuffer.isView` method\n// https://tc39.github.io/ecma262/#sec-arraybuffer.isview\n$({ target: 'ArrayBuffer', stat: true, forced: !NATIVE_ARRAY_BUFFER_VIEWS }, {\n  isView: ArrayBufferViewCore.isView\n});\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.github.io/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar ArrayBufferModule = require('../internals/array-buffer');\nvar anObject = require('../internals/an-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar ArrayBuffer = ArrayBufferModule.ArrayBuffer;\nvar DataView = ArrayBufferModule.DataView;\nvar nativeArrayBufferSlice = ArrayBuffer.prototype.slice;\n\nvar INCORRECT_SLICE = fails(function () {\n  return !new ArrayBuffer(2).slice(1, undefined).byteLength;\n});\n\n// `ArrayBuffer.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-arraybuffer.prototype.slice\n$({ target: 'ArrayBuffer', proto: true, unsafe: true, forced: INCORRECT_SLICE }, {\n  slice: function slice(start, end) {\n    if (nativeArrayBufferSlice !== undefined && end === undefined) {\n      return nativeArrayBufferSlice.call(anObject(this), start); // FF fix\n    }\n    var length = anObject(this).byteLength;\n    var first = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    var result = new (speciesConstructor(this, ArrayBuffer))(toLength(fin - first));\n    var viewSource = new DataView(this);\n    var viewTarget = new DataView(result);\n    var index = 0;\n    while (first < fin) {\n      viewTarget.setUint8(index++, viewSource.getUint8(first++));\n    } return result;\n  }\n});\n","var $ = require('../internals/export');\nvar ArrayBufferModule = require('../internals/array-buffer');\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-native');\n\n// `DataView` constructor\n// https://tc39.github.io/ecma262/#sec-dataview-constructor\n$({ global: true, forced: !NATIVE_ARRAY_BUFFER }, {\n  DataView: ArrayBufferModule.DataView\n});\n","var $ = require('../internals/export');\n\n// `Date.now` method\n// https://tc39.github.io/ecma262/#sec-date.now\n$({ target: 'Date', stat: true }, {\n  now: function now() {\n    return new Date().getTime();\n  }\n});\n","'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.github.io/ecma262/#sec-string.prototype.repeat\nmodule.exports = ''.repeat || function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('../internals/to-length');\nvar repeat = require('../internals/string-repeat');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar ceil = Math.ceil;\n\n// `String.prototype.{ padStart, padEnd }` methods implementation\nvar createMethod = function (IS_END) {\n  return function ($this, maxLength, fillString) {\n    var S = String(requireObjectCoercible($this));\n    var stringLength = S.length;\n    var fillStr = fillString === undefined ? ' ' : String(fillString);\n    var intMaxLength = toLength(maxLength);\n    var fillLen, stringFiller;\n    if (intMaxLength <= stringLength || fillStr == '') return S;\n    fillLen = intMaxLength - stringLength;\n    stringFiller = repeat.call(fillStr, ceil(fillLen / fillStr.length));\n    if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n    return IS_END ? S + stringFiller : stringFiller + S;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.padStart` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.padstart\n  start: createMethod(false),\n  // `String.prototype.padEnd` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.padend\n  end: createMethod(true)\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar padStart = require('../internals/string-pad').start;\n\nvar abs = Math.abs;\nvar DatePrototype = Date.prototype;\nvar getTime = DatePrototype.getTime;\nvar nativeDateToISOString = DatePrototype.toISOString;\n\n// `Date.prototype.toISOString` method implementation\n// https://tc39.github.io/ecma262/#sec-date.prototype.toisostring\n// PhantomJS / old WebKit fails here:\nmodule.exports = (fails(function () {\n  return nativeDateToISOString.call(new Date(-5e13 - 1)) != '0385-07-25T07:06:39.999Z';\n}) || !fails(function () {\n  nativeDateToISOString.call(new Date(NaN));\n})) ? function toISOString() {\n  if (!isFinite(getTime.call(this))) throw RangeError('Invalid time value');\n  var date = this;\n  var year = date.getUTCFullYear();\n  var milliseconds = date.getUTCMilliseconds();\n  var sign = year < 0 ? '-' : year > 9999 ? '+' : '';\n  return sign + padStart(abs(year), sign ? 6 : 4, 0) +\n    '-' + padStart(date.getUTCMonth() + 1, 2, 0) +\n    '-' + padStart(date.getUTCDate(), 2, 0) +\n    'T' + padStart(date.getUTCHours(), 2, 0) +\n    ':' + padStart(date.getUTCMinutes(), 2, 0) +\n    ':' + padStart(date.getUTCSeconds(), 2, 0) +\n    '.' + padStart(milliseconds, 3, 0) +\n    'Z';\n} : nativeDateToISOString;\n","var $ = require('../internals/export');\nvar toISOString = require('../internals/date-to-iso-string');\n\n// `Date.prototype.toISOString` method\n// https://tc39.github.io/ecma262/#sec-date.prototype.toisostring\n// PhantomJS / old WebKit has a broken implementations\n$({ target: 'Date', proto: true, forced: Date.prototype.toISOString !== toISOString }, {\n  toISOString: toISOString\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toObject = require('../internals/to-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar FORCED = fails(function () {\n  return new Date(NaN).toJSON() !== null\n    || Date.prototype.toJSON.call({ toISOString: function () { return 1; } }) !== 1;\n});\n\n// `Date.prototype.toJSON` method\n// https://tc39.github.io/ecma262/#sec-date.prototype.tojson\n$({ target: 'Date', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars\n  toJSON: function toJSON(key) {\n    var O = toObject(this);\n    var pv = toPrimitive(O);\n    return typeof pv == 'number' && !isFinite(pv) ? null : O.toISOString();\n  }\n});\n","'use strict';\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nmodule.exports = function (hint) {\n  if (hint !== 'string' && hint !== 'number' && hint !== 'default') {\n    throw TypeError('Incorrect hint');\n  } return toPrimitive(anObject(this), hint !== 'number');\n};\n","var createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar dateToPrimitive = require('../internals/date-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar DatePrototype = Date.prototype;\n\n// `Date.prototype[@@toPrimitive]` method\n// https://tc39.github.io/ecma262/#sec-date.prototype-@@toprimitive\nif (!(TO_PRIMITIVE in DatePrototype)) {\n  createNonEnumerableProperty(DatePrototype, TO_PRIMITIVE, dateToPrimitive);\n}\n","var redefine = require('../internals/redefine');\n\nvar DatePrototype = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar nativeDateToString = DatePrototype[TO_STRING];\nvar getTime = DatePrototype.getTime;\n\n// `Date.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-date.prototype.tostring\nif (new Date(NaN) + '' != INVALID_DATE) {\n  redefine(DatePrototype, TO_STRING, function toString() {\n    var value = getTime.call(this);\n    // eslint-disable-next-line no-self-compare\n    return value === value ? nativeDateToString.call(this) : INVALID_DATE;\n  });\n}\n","'use strict';\nvar aFunction = require('../internals/a-function');\nvar isObject = require('../internals/is-object');\n\nvar slice = [].slice;\nvar factories = {};\n\nvar construct = function (C, argsLength, args) {\n  if (!(argsLength in factories)) {\n    for (var list = [], i = 0; i < argsLength; i++) list[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[argsLength] = Function('C,a', 'return new C(' + list.join(',') + ')');\n  } return factories[argsLength](C, args);\n};\n\n// `Function.prototype.bind` method implementation\n// https://tc39.github.io/ecma262/#sec-function.prototype.bind\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = slice.call(arguments, 1);\n  var boundFunction = function bound(/* args... */) {\n    var args = partArgs.concat(slice.call(arguments));\n    return this instanceof boundFunction ? construct(fn, args.length, args) : fn.apply(that, args);\n  };\n  if (isObject(fn.prototype)) boundFunction.prototype = fn.prototype;\n  return boundFunction;\n};\n","var $ = require('../internals/export');\nvar bind = require('../internals/function-bind');\n\n// `Function.prototype.bind` method\n// https://tc39.github.io/ecma262/#sec-function.prototype.bind\n$({ target: 'Function', proto: true }, {\n  bind: bind\n});\n","'use strict';\nvar isObject = require('../internals/is-object');\nvar definePropertyModule = require('../internals/object-define-property');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar HAS_INSTANCE = wellKnownSymbol('hasInstance');\nvar FunctionPrototype = Function.prototype;\n\n// `Function.prototype[@@hasInstance]` method\n// https://tc39.github.io/ecma262/#sec-function.prototype-@@hasinstance\nif (!(HAS_INSTANCE in FunctionPrototype)) {\n  definePropertyModule.f(FunctionPrototype, HAS_INSTANCE, { value: function (O) {\n    if (typeof this != 'function' || !isObject(O)) return false;\n    if (!isObject(this.prototype)) return O instanceof this;\n    // for environment w/o native `@@hasInstance` logic enough `instanceof`, but add this:\n    while (O = getPrototypeOf(O)) if (this.prototype === O) return true;\n    return false;\n  } });\n}\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\n\n// `globalThis` object\n// https://github.com/tc39/proposal-global\n$({ global: true }, {\n  globalThis: global\n});\n","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar fails = require('../internals/fails');\n\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar re = /[\\uD800-\\uDFFF]/g;\nvar low = /^[\\uD800-\\uDBFF]$/;\nvar hi = /^[\\uDC00-\\uDFFF]$/;\n\nvar fix = function (match, offset, string) {\n  var prev = string.charAt(offset - 1);\n  var next = string.charAt(offset + 1);\n  if ((low.test(match) && !hi.test(next)) || (hi.test(match) && !low.test(prev))) {\n    return '\\\\u' + match.charCodeAt(0).toString(16);\n  } return match;\n};\n\nvar FORCED = fails(function () {\n  return $stringify('\\uDF06\\uD834') !== '\"\\\\udf06\\\\ud834\"'\n    || $stringify('\\uDEAD') !== '\"\\\\udead\"';\n});\n\nif ($stringify) {\n  // https://github.com/tc39/proposal-well-formed-stringify\n  $({ target: 'JSON', stat: true, forced: FORCED }, {\n    // eslint-disable-next-line no-unused-vars\n    stringify: function stringify(it, replacer, space) {\n      var result = $stringify.apply(null, arguments);\n      return typeof result == 'string' ? result.replace(re, fix) : result;\n    }\n  });\n}\n","var global = require('../internals/global');\nvar setToStringTag = require('../internals/set-to-string-tag');\n\n// JSON[@@toStringTag] property\n// https://tc39.github.io/ecma262/#sec-json-@@tostringtag\nsetToStringTag(global.JSON, 'JSON', true);\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n","var hiddenKeys = require('../internals/hidden-keys');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar defineProperty = require('../internals/object-define-property').f;\nvar uid = require('../internals/uid');\nvar FREEZING = require('../internals/freezing');\n\nvar METADATA = uid('meta');\nvar id = 0;\n\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + ++id, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar meta = module.exports = {\n  REQUIRED: false,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar iterate = module.exports = function (iterable, fn, that, AS_ENTRIES, IS_ITERATOR) {\n  var boundFunction = bind(fn, that, AS_ENTRIES ? 2 : 1);\n  var iterator, iterFn, index, length, result, next, step;\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = AS_ENTRIES\n          ? boundFunction(anObject(step = iterable[index])[0], step[1])\n          : boundFunction(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    result = callWithSafeIterationClosing(iterator, boundFunction, step.value, AS_ENTRIES);\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n\niterate.stop = function (result) {\n  return new Result(true, result);\n};\n","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar iterate = require('../internals/iterate');\nvar anInstance = require('../internals/an-instance');\nvar isObject = require('../internals/is-object');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nmodule.exports = function (CONSTRUCTOR_NAME, wrapper, common) {\n  var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;\n  var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var NativeConstructor = global[CONSTRUCTOR_NAME];\n  var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n  var Constructor = NativeConstructor;\n  var exported = {};\n\n  var fixMethod = function (KEY) {\n    var nativeMethod = NativePrototype[KEY];\n    redefine(NativePrototype, KEY,\n      KEY == 'add' ? function add(value) {\n        nativeMethod.call(this, value === 0 ? 0 : value);\n        return this;\n      } : KEY == 'delete' ? function (key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'get' ? function get(key) {\n        return IS_WEAK && !isObject(key) ? undefined : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'has' ? function has(key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : function set(key, value) {\n        nativeMethod.call(this, key === 0 ? 0 : key, value);\n        return this;\n      }\n    );\n  };\n\n  // eslint-disable-next-line max-len\n  if (isForced(CONSTRUCTOR_NAME, typeof NativeConstructor != 'function' || !(IS_WEAK || NativePrototype.forEach && !fails(function () {\n    new NativeConstructor().entries().next();\n  })))) {\n    // create collection constructor\n    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n    InternalMetadataModule.REQUIRED = true;\n  } else if (isForced(CONSTRUCTOR_NAME, true)) {\n    var instance = new Constructor();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    // eslint-disable-next-line no-new\n    var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function (iterable) { new NativeConstructor(iterable); });\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new NativeConstructor();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n\n    if (!ACCEPT_ITERABLES) {\n      Constructor = wrapper(function (dummy, iterable) {\n        anInstance(dummy, Constructor, CONSTRUCTOR_NAME);\n        var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);\n        if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n        return that;\n      });\n      Constructor.prototype = NativePrototype;\n      NativePrototype.constructor = Constructor;\n    }\n\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n\n    // weak collections should not contains .clear method\n    if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;\n  }\n\n  exported[CONSTRUCTOR_NAME] = Constructor;\n  $({ global: true, forced: Constructor != NativeConstructor }, exported);\n\n  setToStringTag(Constructor, CONSTRUCTOR_NAME);\n\n  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n  return Constructor;\n};\n","'use strict';\nvar defineProperty = require('../internals/object-define-property').f;\nvar create = require('../internals/object-create');\nvar redefineAll = require('../internals/redefine-all');\nvar bind = require('../internals/function-bind-context');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar defineIterator = require('../internals/define-iterator');\nvar setSpecies = require('../internals/set-species');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fastKey = require('../internals/internal-metadata').fastKey;\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        index: create(null),\n        first: undefined,\n        last: undefined,\n        size: 0\n      });\n      if (!DESCRIPTORS) that.size = 0;\n      if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var entry = getEntry(that, key);\n      var previous, index;\n      // change existing entry\n      if (entry) {\n        entry.value = value;\n      // create new entry\n      } else {\n        state.last = entry = {\n          index: index = fastKey(key, true),\n          key: key,\n          value: value,\n          previous: previous = state.last,\n          next: undefined,\n          removed: false\n        };\n        if (!state.first) state.first = entry;\n        if (previous) previous.next = entry;\n        if (DESCRIPTORS) state.size++;\n        else that.size++;\n        // add to index\n        if (index !== 'F') state.index[index] = entry;\n      } return that;\n    };\n\n    var getEntry = function (that, key) {\n      var state = getInternalState(that);\n      // fast case\n      var index = fastKey(key);\n      var entry;\n      if (index !== 'F') return state.index[index];\n      // frozen object case\n      for (entry = state.first; entry; entry = entry.next) {\n        if (entry.key == key) return entry;\n      }\n    };\n\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        var that = this;\n        var state = getInternalState(that);\n        var data = state.index;\n        var entry = state.first;\n        while (entry) {\n          entry.removed = true;\n          if (entry.previous) entry.previous = entry.previous.next = undefined;\n          delete data[entry.index];\n          entry = entry.next;\n        }\n        state.first = state.last = undefined;\n        if (DESCRIPTORS) state.size = 0;\n        else that.size = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = this;\n        var state = getInternalState(that);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.next;\n          var prev = entry.previous;\n          delete state.index[entry.index];\n          entry.removed = true;\n          if (prev) prev.next = next;\n          if (next) next.previous = prev;\n          if (state.first == entry) state.first = next;\n          if (state.last == entry) state.last = prev;\n          if (DESCRIPTORS) state.size--;\n          else that.size--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        var state = getInternalState(this);\n        var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.next : state.first) {\n          boundFunction(entry.value, entry.key, this);\n          // revert to the last existing entry\n          while (entry && entry.removed) entry = entry.previous;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(this, key);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // 23.1.3.6 Map.prototype.get(key)\n      get: function get(key) {\n        var entry = getEntry(this, key);\n        return entry && entry.value;\n      },\n      // 23.1.3.9 Map.prototype.set(key, value)\n      set: function set(key, value) {\n        return define(this, key === 0 ? 0 : key, value);\n      }\n    } : {\n      // 23.2.3.1 Set.prototype.add(value)\n      add: function add(value) {\n        return define(this, value = value === 0 ? 0 : value, value);\n      }\n    });\n    if (DESCRIPTORS) defineProperty(C.prototype, 'size', {\n      get: function () {\n        return getInternalState(this).size;\n      }\n    });\n    return C;\n  },\n  setStrong: function (C, CONSTRUCTOR_NAME, IS_MAP) {\n    var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';\n    var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);\n    var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    defineIterator(C, CONSTRUCTOR_NAME, function (iterated, kind) {\n      setInternalState(this, {\n        type: ITERATOR_NAME,\n        target: iterated,\n        state: getInternalCollectionState(iterated),\n        kind: kind,\n        last: undefined\n      });\n    }, function () {\n      var state = getInternalIteratorState(this);\n      var kind = state.kind;\n      var entry = state.last;\n      // revert to the last existing entry\n      while (entry && entry.removed) entry = entry.previous;\n      // get next entry\n      if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {\n        // or finish the iteration\n        state.target = undefined;\n        return { value: undefined, done: true };\n      }\n      // return step by kind\n      if (kind == 'keys') return { value: entry.key, done: false };\n      if (kind == 'values') return { value: entry.value, done: false };\n      return { value: [entry.key, entry.value], done: false };\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(CONSTRUCTOR_NAME);\n  }\n};\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Map` constructor\n// https://tc39.github.io/ecma262/#sec-map-objects\nmodule.exports = collection('Map', function (init) {\n  return function Map() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","var log = Math.log;\n\n// `Math.log1p` method implementation\n// https://tc39.github.io/ecma262/#sec-math.log1p\nmodule.exports = Math.log1p || function log1p(x) {\n  return (x = +x) > -1e-8 && x < 1e-8 ? x - x * x / 2 : log(1 + x);\n};\n","var $ = require('../internals/export');\nvar log1p = require('../internals/math-log1p');\n\nvar nativeAcosh = Math.acosh;\nvar log = Math.log;\nvar sqrt = Math.sqrt;\nvar LN2 = Math.LN2;\n\nvar FORCED = !nativeAcosh\n  // V8 bug: https://code.google.com/p/v8/issues/detail?id=3509\n  || Math.floor(nativeAcosh(Number.MAX_VALUE)) != 710\n  // Tor Browser bug: Math.acosh(Infinity) -> NaN\n  || nativeAcosh(Infinity) != Infinity;\n\n// `Math.acosh` method\n// https://tc39.github.io/ecma262/#sec-math.acosh\n$({ target: 'Math', stat: true, forced: FORCED }, {\n  acosh: function acosh(x) {\n    return (x = +x) < 1 ? NaN : x > 94906265.62425156\n      ? log(x) + LN2\n      : log1p(x - 1 + sqrt(x - 1) * sqrt(x + 1));\n  }\n});\n","var $ = require('../internals/export');\n\nvar nativeAsinh = Math.asinh;\nvar log = Math.log;\nvar sqrt = Math.sqrt;\n\nfunction asinh(x) {\n  return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : log(x + sqrt(x * x + 1));\n}\n\n// `Math.asinh` method\n// https://tc39.github.io/ecma262/#sec-math.asinh\n// Tor Browser bug: Math.asinh(0) -> -0\n$({ target: 'Math', stat: true, forced: !(nativeAsinh && 1 / nativeAsinh(0) > 0) }, {\n  asinh: asinh\n});\n","var $ = require('../internals/export');\n\nvar nativeAtanh = Math.atanh;\nvar log = Math.log;\n\n// `Math.atanh` method\n// https://tc39.github.io/ecma262/#sec-math.atanh\n// Tor Browser bug: Math.atanh(-0) -> 0\n$({ target: 'Math', stat: true, forced: !(nativeAtanh && 1 / nativeAtanh(-0) < 0) }, {\n  atanh: function atanh(x) {\n    return (x = +x) == 0 ? x : log((1 + x) / (1 - x)) / 2;\n  }\n});\n","// `Math.sign` method implementation\n// https://tc39.github.io/ecma262/#sec-math.sign\nmodule.exports = Math.sign || function sign(x) {\n  // eslint-disable-next-line no-self-compare\n  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\n};\n","var $ = require('../internals/export');\nvar sign = require('../internals/math-sign');\n\nvar abs = Math.abs;\nvar pow = Math.pow;\n\n// `Math.cbrt` method\n// https://tc39.github.io/ecma262/#sec-math.cbrt\n$({ target: 'Math', stat: true }, {\n  cbrt: function cbrt(x) {\n    return sign(x = +x) * pow(abs(x), 1 / 3);\n  }\n});\n","var $ = require('../internals/export');\n\nvar floor = Math.floor;\nvar log = Math.log;\nvar LOG2E = Math.LOG2E;\n\n// `Math.clz32` method\n// https://tc39.github.io/ecma262/#sec-math.clz32\n$({ target: 'Math', stat: true }, {\n  clz32: function clz32(x) {\n    return (x >>>= 0) ? 31 - floor(log(x + 0.5) * LOG2E) : 32;\n  }\n});\n","var nativeExpm1 = Math.expm1;\nvar exp = Math.exp;\n\n// `Math.expm1` method implementation\n// https://tc39.github.io/ecma262/#sec-math.expm1\nmodule.exports = (!nativeExpm1\n  // Old FF bug\n  || nativeExpm1(10) > 22025.465794806719 || nativeExpm1(10) < 22025.4657948067165168\n  // Tor Browser bug\n  || nativeExpm1(-2e-17) != -2e-17\n) ? function expm1(x) {\n  return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : exp(x) - 1;\n} : nativeExpm1;\n","var $ = require('../internals/export');\nvar expm1 = require('../internals/math-expm1');\n\nvar nativeCosh = Math.cosh;\nvar abs = Math.abs;\nvar E = Math.E;\n\n// `Math.cosh` method\n// https://tc39.github.io/ecma262/#sec-math.cosh\n$({ target: 'Math', stat: true, forced: !nativeCosh || nativeCosh(710) === Infinity }, {\n  cosh: function cosh(x) {\n    var t = expm1(abs(x) - 1) + 1;\n    return (t + 1 / (t * E * E)) * (E / 2);\n  }\n});\n","var $ = require('../internals/export');\nvar expm1 = require('../internals/math-expm1');\n\n// `Math.expm1` method\n// https://tc39.github.io/ecma262/#sec-math.expm1\n$({ target: 'Math', stat: true, forced: expm1 != Math.expm1 }, { expm1: expm1 });\n","var sign = require('../internals/math-sign');\n\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar EPSILON = pow(2, -52);\nvar EPSILON32 = pow(2, -23);\nvar MAX32 = pow(2, 127) * (2 - EPSILON32);\nvar MIN32 = pow(2, -126);\n\nvar roundTiesToEven = function (n) {\n  return n + 1 / EPSILON - 1 / EPSILON;\n};\n\n// `Math.fround` method implementation\n// https://tc39.github.io/ecma262/#sec-math.fround\nmodule.exports = Math.fround || function fround(x) {\n  var $abs = abs(x);\n  var $sign = sign(x);\n  var a, result;\n  if ($abs < MIN32) return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32;\n  a = (1 + EPSILON32 / EPSILON) * $abs;\n  result = a - (a - $abs);\n  // eslint-disable-next-line no-self-compare\n  if (result > MAX32 || result != result) return $sign * Infinity;\n  return $sign * result;\n};\n","var $ = require('../internals/export');\nvar fround = require('../internals/math-fround');\n\n// `Math.fround` method\n// https://tc39.github.io/ecma262/#sec-math.fround\n$({ target: 'Math', stat: true }, { fround: fround });\n","var $ = require('../internals/export');\n\nvar $hypot = Math.hypot;\nvar abs = Math.abs;\nvar sqrt = Math.sqrt;\n\n// Chrome 77 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=9546\nvar BUGGY = !!$hypot && $hypot(Infinity, NaN) !== Infinity;\n\n// `Math.hypot` method\n// https://tc39.github.io/ecma262/#sec-math.hypot\n$({ target: 'Math', stat: true, forced: BUGGY }, {\n  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * sqrt(sum);\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\n\nvar nativeImul = Math.imul;\n\nvar FORCED = fails(function () {\n  return nativeImul(0xFFFFFFFF, 5) != -5 || nativeImul.length != 2;\n});\n\n// `Math.imul` method\n// https://tc39.github.io/ecma262/#sec-math.imul\n// some WebKit versions fails with big numbers, some has wrong arity\n$({ target: 'Math', stat: true, forced: FORCED }, {\n  imul: function imul(x, y) {\n    var UINT16 = 0xFFFF;\n    var xn = +x;\n    var yn = +y;\n    var xl = UINT16 & xn;\n    var yl = UINT16 & yn;\n    return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) << 16 >>> 0);\n  }\n});\n","var $ = require('../internals/export');\n\nvar log = Math.log;\nvar LOG10E = Math.LOG10E;\n\n// `Math.log10` method\n// https://tc39.github.io/ecma262/#sec-math.log10\n$({ target: 'Math', stat: true }, {\n  log10: function log10(x) {\n    return log(x) * LOG10E;\n  }\n});\n","var $ = require('../internals/export');\nvar log1p = require('../internals/math-log1p');\n\n// `Math.log1p` method\n// https://tc39.github.io/ecma262/#sec-math.log1p\n$({ target: 'Math', stat: true }, { log1p: log1p });\n","var $ = require('../internals/export');\n\nvar log = Math.log;\nvar LN2 = Math.LN2;\n\n// `Math.log2` method\n// https://tc39.github.io/ecma262/#sec-math.log2\n$({ target: 'Math', stat: true }, {\n  log2: function log2(x) {\n    return log(x) / LN2;\n  }\n});\n","var $ = require('../internals/export');\nvar sign = require('../internals/math-sign');\n\n// `Math.sign` method\n// https://tc39.github.io/ecma262/#sec-math.sign\n$({ target: 'Math', stat: true }, {\n  sign: sign\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar expm1 = require('../internals/math-expm1');\n\nvar abs = Math.abs;\nvar exp = Math.exp;\nvar E = Math.E;\n\nvar FORCED = fails(function () {\n  return Math.sinh(-2e-17) != -2e-17;\n});\n\n// `Math.sinh` method\n// https://tc39.github.io/ecma262/#sec-math.sinh\n// V8 near Chromium 38 has a problem with very small numbers\n$({ target: 'Math', stat: true, forced: FORCED }, {\n  sinh: function sinh(x) {\n    return abs(x = +x) < 1 ? (expm1(x) - expm1(-x)) / 2 : (exp(x - 1) - exp(-x - 1)) * (E / 2);\n  }\n});\n","var $ = require('../internals/export');\nvar expm1 = require('../internals/math-expm1');\n\nvar exp = Math.exp;\n\n// `Math.tanh` method\n// https://tc39.github.io/ecma262/#sec-math.tanh\n$({ target: 'Math', stat: true }, {\n  tanh: function tanh(x) {\n    var a = expm1(x = +x);\n    var b = expm1(-x);\n    return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x));\n  }\n});\n","var setToStringTag = require('../internals/set-to-string-tag');\n\n// Math[@@toStringTag] property\n// https://tc39.github.io/ecma262/#sec-math-@@tostringtag\nsetToStringTag(Math, 'Math', true);\n","var $ = require('../internals/export');\n\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.github.io/ecma262/#sec-math.trunc\n$({ target: 'Math', stat: true }, {\n  trunc: function trunc(it) {\n    return (it > 0 ? floor : ceil)(it);\n  }\n});\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","var $ = require('../internals/export');\n\n// `Number.EPSILON` constant\n// https://tc39.github.io/ecma262/#sec-number.epsilon\n$({ target: 'Number', stat: true }, {\n  EPSILON: Math.pow(2, -52)\n});\n","var global = require('../internals/global');\n\nvar globalIsFinite = global.isFinite;\n\n// `Number.isFinite` method\n// https://tc39.github.io/ecma262/#sec-number.isfinite\nmodule.exports = Number.isFinite || function isFinite(it) {\n  return typeof it == 'number' && globalIsFinite(it);\n};\n","var $ = require('../internals/export');\nvar numberIsFinite = require('../internals/number-is-finite');\n\n// `Number.isFinite` method\n// https://tc39.github.io/ecma262/#sec-number.isfinite\n$({ target: 'Number', stat: true }, { isFinite: numberIsFinite });\n","var isObject = require('../internals/is-object');\n\nvar floor = Math.floor;\n\n// `Number.isInteger` method implementation\n// https://tc39.github.io/ecma262/#sec-number.isinteger\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n","var $ = require('../internals/export');\nvar isInteger = require('../internals/is-integer');\n\n// `Number.isInteger` method\n// https://tc39.github.io/ecma262/#sec-number.isinteger\n$({ target: 'Number', stat: true }, {\n  isInteger: isInteger\n});\n","var $ = require('../internals/export');\n\n// `Number.isNaN` method\n// https://tc39.github.io/ecma262/#sec-number.isnan\n$({ target: 'Number', stat: true }, {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare\n    return number != number;\n  }\n});\n","var $ = require('../internals/export');\nvar isInteger = require('../internals/is-integer');\n\nvar abs = Math.abs;\n\n// `Number.isSafeInteger` method\n// https://tc39.github.io/ecma262/#sec-number.issafeinteger\n$({ target: 'Number', stat: true }, {\n  isSafeInteger: function isSafeInteger(number) {\n    return isInteger(number) && abs(number) <= 0x1FFFFFFFFFFFFF;\n  }\n});\n","var $ = require('../internals/export');\n\n// `Number.MAX_SAFE_INTEGER` constant\n// https://tc39.github.io/ecma262/#sec-number.max_safe_integer\n$({ target: 'Number', stat: true }, {\n  MAX_SAFE_INTEGER: 0x1FFFFFFFFFFFFF\n});\n","var $ = require('../internals/export');\n\n// `Number.MIN_SAFE_INTEGER` constant\n// https://tc39.github.io/ecma262/#sec-number.min_safe_integer\n$({ target: 'Number', stat: true }, {\n  MIN_SAFE_INTEGER: -0x1FFFFFFFFFFFFF\n});\n","var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar $parseFloat = global.parseFloat;\nvar FORCED = 1 / $parseFloat(whitespaces + '-0') !== -Infinity;\n\n// `parseFloat` method\n// https://tc39.github.io/ecma262/#sec-parsefloat-string\nmodule.exports = FORCED ? function parseFloat(string) {\n  var trimmedString = trim(String(string));\n  var result = $parseFloat(trimmedString);\n  return result === 0 && trimmedString.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n","var $ = require('../internals/export');\nvar parseFloat = require('../internals/number-parse-float');\n\n// `Number.parseFloat` method\n// https://tc39.github.io/ecma262/#sec-number.parseFloat\n$({ target: 'Number', stat: true, forced: Number.parseFloat != parseFloat }, {\n  parseFloat: parseFloat\n});\n","var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar $parseInt = global.parseInt;\nvar hex = /^[+-]?0[Xx]/;\nvar FORCED = $parseInt(whitespaces + '08') !== 8 || $parseInt(whitespaces + '0x16') !== 22;\n\n// `parseInt` method\n// https://tc39.github.io/ecma262/#sec-parseint-string-radix\nmodule.exports = FORCED ? function parseInt(string, radix) {\n  var S = trim(String(string));\n  return $parseInt(S, (radix >>> 0) || (hex.test(S) ? 16 : 10));\n} : $parseInt;\n","var $ = require('../internals/export');\nvar parseInt = require('../internals/number-parse-int');\n\n// `Number.parseInt` method\n// https://tc39.github.io/ecma262/#sec-number.parseint\n$({ target: 'Number', stat: true, forced: Number.parseInt != parseInt }, {\n  parseInt: parseInt\n});\n","var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.github.io/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line max-statements\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    var multiply = function (n, c) {\n      var index = -1;\n      var c2 = c;\n      while (++index < 6) {\n        c2 += n * data[index];\n        data[index] = c2 % 1e7;\n        c2 = floor(c2 / 1e7);\n      }\n    };\n\n    var divide = function (n) {\n      var index = 6;\n      var c = 0;\n      while (--index >= 0) {\n        c += data[index];\n        data[index] = floor(c / n);\n        c = (c % n) * 1e7;\n      }\n    };\n\n    var dataToString = function () {\n      var index = 6;\n      var s = '';\n      while (--index >= 0) {\n        if (s !== '' || index === 0 || data[index] !== 0) {\n          var t = String(data[index]);\n          s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n        }\n      } return s;\n    };\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        result = dataToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        result = dataToString() + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar thisNumberValue = require('../internals/this-number-value');\n\nvar nativeToPrecision = 1.0.toPrecision;\n\nvar FORCED = fails(function () {\n  // IE7-\n  return nativeToPrecision.call(1, undefined) !== '1';\n}) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToPrecision.call({});\n});\n\n// `Number.prototype.toPrecision` method\n// https://tc39.github.io/ecma262/#sec-number.prototype.toprecision\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toPrecision: function toPrecision(precision) {\n    return precision === undefined\n      ? nativeToPrecision.call(thisNumberValue(this))\n      : nativeToPrecision.call(thisNumberValue(this), precision);\n  }\n});\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\nvar nativeAssign = Object.assign;\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\nmodule.exports = !nativeAssign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && nativeAssign({ b: 1 }, nativeAssign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : nativeAssign;\n","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar create = require('../internals/object-create');\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  create: create\n});\n","'use strict';\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar fails = require('../internals/fails');\n\n// Forced replacement object prototype accessors methods\nmodule.exports = IS_PURE || !fails(function () {\n  var key = Math.random();\n  // In FF throws only define methods\n  // eslint-disable-next-line no-undef, no-useless-call\n  __defineSetter__.call(null, key, function () { /* empty */ });\n  delete global[key];\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar FORCED = require('../internals/object-prototype-accessors-forced');\nvar toObject = require('../internals/to-object');\nvar aFunction = require('../internals/a-function');\nvar definePropertyModule = require('../internals/object-define-property');\n\n// `Object.prototype.__defineGetter__` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.__defineGetter__\nif (DESCRIPTORS) {\n  $({ target: 'Object', proto: true, forced: FORCED }, {\n    __defineGetter__: function __defineGetter__(P, getter) {\n      definePropertyModule.f(toObject(this), P, { get: aFunction(getter), enumerable: true, configurable: true });\n    }\n  });\n}\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar defineProperties = require('../internals/object-define-properties');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\n$({ target: 'Object', stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {\n  defineProperties: defineProperties\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar objectDefinePropertyModile = require('../internals/object-define-property');\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\n$({ target: 'Object', stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {\n  defineProperty: objectDefinePropertyModile.f\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar FORCED = require('../internals/object-prototype-accessors-forced');\nvar toObject = require('../internals/to-object');\nvar aFunction = require('../internals/a-function');\nvar definePropertyModule = require('../internals/object-define-property');\n\n// `Object.prototype.__defineSetter__` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.__defineSetter__\nif (DESCRIPTORS) {\n  $({ target: 'Object', proto: true, forced: FORCED }, {\n    __defineSetter__: function __defineSetter__(P, setter) {\n      definePropertyModule.f(toObject(this), P, { set: aFunction(setter), enumerable: true, configurable: true });\n    }\n  });\n}\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.github.io/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.github.io/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.github.io/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","var $ = require('../internals/export');\nvar FREEZING = require('../internals/freezing');\nvar fails = require('../internals/fails');\nvar isObject = require('../internals/is-object');\nvar onFreeze = require('../internals/internal-metadata').onFreeze;\n\nvar nativeFreeze = Object.freeze;\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeFreeze(1); });\n\n// `Object.freeze` method\n// https://tc39.github.io/ecma262/#sec-object.freeze\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING }, {\n  freeze: function freeze(it) {\n    return nativeFreeze && isObject(it) ? nativeFreeze(onFreeze(it)) : it;\n  }\n});\n","var $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar createProperty = require('../internals/create-property');\n\n// `Object.fromEntries` method\n// https://github.com/tc39/proposal-object-from-entries\n$({ target: 'Object', stat: true }, {\n  fromEntries: function fromEntries(iterable) {\n    var obj = {};\n    iterate(iterable, function (k, v) {\n      createProperty(obj, k, v);\n    }, undefined, true);\n    return obj;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar nativeGetOwnPropertyNames = require('../internals/object-get-own-property-names-external').f;\n\nvar FAILS_ON_PRIMITIVES = fails(function () { return !Object.getOwnPropertyNames(1); });\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  getOwnPropertyNames: nativeGetOwnPropertyNames\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toObject = require('../internals/to-object');\nvar nativeGetPrototypeOf = require('../internals/object-get-prototype-of');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetPrototypeOf(1); });\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !CORRECT_PROTOTYPE_GETTER }, {\n  getPrototypeOf: function getPrototypeOf(it) {\n    return nativeGetPrototypeOf(toObject(it));\n  }\n});\n\n","// `SameValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-samevalue\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","var $ = require('../internals/export');\nvar is = require('../internals/same-value');\n\n// `Object.is` method\n// https://tc39.github.io/ecma262/#sec-object.is\n$({ target: 'Object', stat: true }, {\n  is: is\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isObject = require('../internals/is-object');\n\nvar nativeIsExtensible = Object.isExtensible;\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeIsExtensible(1); });\n\n// `Object.isExtensible` method\n// https://tc39.github.io/ecma262/#sec-object.isextensible\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  isExtensible: function isExtensible(it) {\n    return isObject(it) ? nativeIsExtensible ? nativeIsExtensible(it) : true : false;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isObject = require('../internals/is-object');\n\nvar nativeIsFrozen = Object.isFrozen;\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeIsFrozen(1); });\n\n// `Object.isFrozen` method\n// https://tc39.github.io/ecma262/#sec-object.isfrozen\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  isFrozen: function isFrozen(it) {\n    return isObject(it) ? nativeIsFrozen ? nativeIsFrozen(it) : false : true;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isObject = require('../internals/is-object');\n\nvar nativeIsSealed = Object.isSealed;\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeIsSealed(1); });\n\n// `Object.isSealed` method\n// https://tc39.github.io/ecma262/#sec-object.issealed\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  isSealed: function isSealed(it) {\n    return isObject(it) ? nativeIsSealed ? nativeIsSealed(it) : false : true;\n  }\n});\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar FORCED = require('../internals/object-prototype-accessors-forced');\nvar toObject = require('../internals/to-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\n\n// `Object.prototype.__lookupGetter__` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.__lookupGetter__\nif (DESCRIPTORS) {\n  $({ target: 'Object', proto: true, forced: FORCED }, {\n    __lookupGetter__: function __lookupGetter__(P) {\n      var O = toObject(this);\n      var key = toPrimitive(P, true);\n      var desc;\n      do {\n        if (desc = getOwnPropertyDescriptor(O, key)) return desc.get;\n      } while (O = getPrototypeOf(O));\n    }\n  });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar FORCED = require('../internals/object-prototype-accessors-forced');\nvar toObject = require('../internals/to-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\n\n// `Object.prototype.__lookupSetter__` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.__lookupSetter__\nif (DESCRIPTORS) {\n  $({ target: 'Object', proto: true, forced: FORCED }, {\n    __lookupSetter__: function __lookupSetter__(P) {\n      var O = toObject(this);\n      var key = toPrimitive(P, true);\n      var desc;\n      do {\n        if (desc = getOwnPropertyDescriptor(O, key)) return desc.set;\n      } while (O = getPrototypeOf(O));\n    }\n  });\n}\n","var $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar onFreeze = require('../internals/internal-metadata').onFreeze;\nvar FREEZING = require('../internals/freezing');\nvar fails = require('../internals/fails');\n\nvar nativePreventExtensions = Object.preventExtensions;\nvar FAILS_ON_PRIMITIVES = fails(function () { nativePreventExtensions(1); });\n\n// `Object.preventExtensions` method\n// https://tc39.github.io/ecma262/#sec-object.preventextensions\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING }, {\n  preventExtensions: function preventExtensions(it) {\n    return nativePreventExtensions && isObject(it) ? nativePreventExtensions(onFreeze(it)) : it;\n  }\n});\n","var $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar onFreeze = require('../internals/internal-metadata').onFreeze;\nvar FREEZING = require('../internals/freezing');\nvar fails = require('../internals/fails');\n\nvar nativeSeal = Object.seal;\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeSeal(1); });\n\n// `Object.seal` method\n// https://tc39.github.io/ecma262/#sec-object.seal\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING }, {\n  seal: function seal(it) {\n    return nativeSeal && isObject(it) ? nativeSeal(onFreeze(it)) : it;\n  }\n});\n","var $ = require('../internals/export');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n$({ target: 'Object', stat: true }, {\n  setPrototypeOf: setPrototypeOf\n});\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.github.io/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","var $ = require('../internals/export');\nvar parseFloatImplementation = require('../internals/number-parse-float');\n\n// `parseFloat` method\n// https://tc39.github.io/ecma262/#sec-parsefloat-string\n$({ global: true, forced: parseFloat != parseFloatImplementation }, {\n  parseFloat: parseFloatImplementation\n});\n","var $ = require('../internals/export');\nvar parseIntImplementation = require('../internals/number-parse-int');\n\n// `parseInt` method\n// https://tc39.github.io/ecma262/#sec-parseint-string-radix\n$({ global: true, forced: parseInt != parseIntImplementation }, {\n  parseInt: parseIntImplementation\n});\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\nvar bind = require('../internals/function-bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (classof(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    typeof postMessage == 'function' &&\n    !global.importScripts &&\n    !fails(post) &&\n    location.protocol !== 'file:'\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar classof = require('../internals/classof-raw');\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/engine-is-ios');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar IS_NODE = classof(process) == 'process';\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  } else if (MutationObserver && !IS_IOS) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar classof = require('../internals/classof-raw');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar PromiseConstructor = NativePromise;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar $fetch = getBuiltIn('fetch');\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar IS_NODE = classof(process) == 'process';\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  if (!GLOBAL_CORE_JS_PROMISE) {\n    // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n    // We can't detect it synchronously, so just check versions\n    if (V8_VERSION === 66) return true;\n    // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    if (!IS_NODE && typeof PromiseRejectionEvent != 'function') return true;\n  }\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructor.prototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = PromiseConstructor.resolve(1);\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (promise, state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(promise, state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(promise, state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (handler = global['on' + name]) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (promise, state) {\n  task.call(global, function () {\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (promise, state) {\n  task.call(global, function () {\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, promise, state, unwrap) {\n  return function (value) {\n    fn(promise, state, value, unwrap);\n  };\n};\n\nvar internalReject = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(promise, state, true);\n};\n\nvar internalResolve = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, promise, wrapper, state),\n            bind(internalReject, promise, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(promise, wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(promise, state, false);\n    }\n  } catch (error) {\n    internalReject(promise, { done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, this, state), bind(internalReject, this, state));\n    } catch (error) {\n      internalReject(this, state, error);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(this, state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, promise, state);\n    this.reject = bind(internalReject, promise, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function') {\n    nativeThen = NativePromise.prototype.then;\n\n    // wrap native Promise#then for native async functions\n    redefine(NativePromise.prototype, 'then', function then(onFulfilled, onRejected) {\n      var that = this;\n      return new PromiseConstructor(function (resolve, reject) {\n        nativeThen.call(that, resolve, reject);\n      }).then(onFulfilled, onRejected);\n    // https://github.com/zloirock/core-js/issues/640\n    }, { unsafe: true });\n\n    // wrap fetch result\n    if (typeof $fetch == 'function') $({ global: true, enumerable: true, forced: true }, {\n      // eslint-disable-next-line no-unused-vars\n      fetch: function fetch(input /* , init */) {\n        return promiseResolve(PromiseConstructor, $fetch.apply(global, arguments));\n      }\n    });\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.github.io/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.github.io/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.github.io/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.github.io/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar iterate = require('../internals/iterate');\n\n// `Promise.allSettled` method\n// https://github.com/tc39/proposal-promise-allSettled\n$({ target: 'Promise', stat: true }, {\n  allSettled: function allSettled(iterable) {\n    var C = this;\n    var capability = newPromiseCapabilityModule.f(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = { status: 'fulfilled', value: value };\n          --remaining || resolve(values);\n        }, function (e) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = { status: 'rejected', reason: e };\n          --remaining || resolve(values);\n        });\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar fails = require('../internals/fails');\nvar getBuiltIn = require('../internals/get-built-in');\nvar speciesConstructor = require('../internals/species-constructor');\nvar promiseResolve = require('../internals/promise-resolve');\nvar redefine = require('../internals/redefine');\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromise && fails(function () {\n  NativePromise.prototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.github.io/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = typeof onFinally == 'function';\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// patch native Promise.prototype for native async functions\nif (!IS_PURE && typeof NativePromise == 'function' && !NativePromise.prototype['finally']) {\n  redefine(NativePromise.prototype, 'finally', getBuiltIn('Promise').prototype['finally']);\n}\n","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar aFunction = require('../internals/a-function');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\n\nvar nativeApply = getBuiltIn('Reflect', 'apply');\nvar functionApply = Function.apply;\n\n// MS Edge argumentsList argument is optional\nvar OPTIONAL_ARGUMENTS_LIST = !fails(function () {\n  nativeApply(function () { /* empty */ });\n});\n\n// `Reflect.apply` method\n// https://tc39.github.io/ecma262/#sec-reflect.apply\n$({ target: 'Reflect', stat: true, forced: OPTIONAL_ARGUMENTS_LIST }, {\n  apply: function apply(target, thisArgument, argumentsList) {\n    aFunction(target);\n    anObject(argumentsList);\n    return nativeApply\n      ? nativeApply(target, thisArgument, argumentsList)\n      : functionApply.call(target, thisArgument, argumentsList);\n  }\n});\n","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar aFunction = require('../internals/a-function');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar bind = require('../internals/function-bind');\nvar fails = require('../internals/fails');\n\nvar nativeConstruct = getBuiltIn('Reflect', 'construct');\n\n// `Reflect.construct` method\n// https://tc39.github.io/ecma262/#sec-reflect.construct\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(nativeConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  nativeConstruct(function () { /* empty */ });\n});\nvar FORCED = NEW_TARGET_BUG || ARGS_BUG;\n\n$({ target: 'Reflect', stat: true, forced: FORCED, sham: FORCED }, {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return nativeConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar fails = require('../internals/fails');\n\n// MS Edge has broken Reflect.defineProperty - throwing instead of returning false\nvar ERROR_INSTEAD_OF_FALSE = fails(function () {\n  // eslint-disable-next-line no-undef\n  Reflect.defineProperty(definePropertyModule.f({}, 1, { value: 1 }), 1, { value: 2 });\n});\n\n// `Reflect.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-reflect.defineproperty\n$({ target: 'Reflect', stat: true, forced: ERROR_INSTEAD_OF_FALSE, sham: !DESCRIPTORS }, {\n  defineProperty: function defineProperty(target, propertyKey, attributes) {\n    anObject(target);\n    var key = toPrimitive(propertyKey, true);\n    anObject(attributes);\n    try {\n      definePropertyModule.f(target, key, attributes);\n      return true;\n    } catch (error) {\n      return false;\n    }\n  }\n});\n","var $ = require('../internals/export');\nvar anObject = require('../internals/an-object');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\n\n// `Reflect.deleteProperty` method\n// https://tc39.github.io/ecma262/#sec-reflect.deleteproperty\n$({ target: 'Reflect', stat: true }, {\n  deleteProperty: function deleteProperty(target, propertyKey) {\n    var descriptor = getOwnPropertyDescriptor(anObject(target), propertyKey);\n    return descriptor && !descriptor.configurable ? false : delete target[propertyKey];\n  }\n});\n","var $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar has = require('../internals/has');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\n\n// `Reflect.get` method\n// https://tc39.github.io/ecma262/#sec-reflect.get\nfunction get(target, propertyKey /* , receiver */) {\n  var receiver = arguments.length < 3 ? target : arguments[2];\n  var descriptor, prototype;\n  if (anObject(target) === receiver) return target[propertyKey];\n  if (descriptor = getOwnPropertyDescriptorModule.f(target, propertyKey)) return has(descriptor, 'value')\n    ? descriptor.value\n    : descriptor.get === undefined\n      ? undefined\n      : descriptor.get.call(receiver);\n  if (isObject(prototype = getPrototypeOf(target))) return get(prototype, propertyKey, receiver);\n}\n\n$({ target: 'Reflect', stat: true }, {\n  get: get\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar anObject = require('../internals/an-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\n\n// `Reflect.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-reflect.getownpropertydescriptor\n$({ target: 'Reflect', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey) {\n    return getOwnPropertyDescriptorModule.f(anObject(target), propertyKey);\n  }\n});\n","var $ = require('../internals/export');\nvar anObject = require('../internals/an-object');\nvar objectGetPrototypeOf = require('../internals/object-get-prototype-of');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\n// `Reflect.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-reflect.getprototypeof\n$({ target: 'Reflect', stat: true, sham: !CORRECT_PROTOTYPE_GETTER }, {\n  getPrototypeOf: function getPrototypeOf(target) {\n    return objectGetPrototypeOf(anObject(target));\n  }\n});\n","var $ = require('../internals/export');\n\n// `Reflect.has` method\n// https://tc39.github.io/ecma262/#sec-reflect.has\n$({ target: 'Reflect', stat: true }, {\n  has: function has(target, propertyKey) {\n    return propertyKey in target;\n  }\n});\n","var $ = require('../internals/export');\nvar anObject = require('../internals/an-object');\n\nvar objectIsExtensible = Object.isExtensible;\n\n// `Reflect.isExtensible` method\n// https://tc39.github.io/ecma262/#sec-reflect.isextensible\n$({ target: 'Reflect', stat: true }, {\n  isExtensible: function isExtensible(target) {\n    anObject(target);\n    return objectIsExtensible ? objectIsExtensible(target) : true;\n  }\n});\n","var $ = require('../internals/export');\nvar ownKeys = require('../internals/own-keys');\n\n// `Reflect.ownKeys` method\n// https://tc39.github.io/ecma262/#sec-reflect.ownkeys\n$({ target: 'Reflect', stat: true }, {\n  ownKeys: ownKeys\n});\n","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar anObject = require('../internals/an-object');\nvar FREEZING = require('../internals/freezing');\n\n// `Reflect.preventExtensions` method\n// https://tc39.github.io/ecma262/#sec-reflect.preventextensions\n$({ target: 'Reflect', stat: true, sham: !FREEZING }, {\n  preventExtensions: function preventExtensions(target) {\n    anObject(target);\n    try {\n      var objectPreventExtensions = getBuiltIn('Object', 'preventExtensions');\n      if (objectPreventExtensions) objectPreventExtensions(target);\n      return true;\n    } catch (error) {\n      return false;\n    }\n  }\n});\n","var $ = require('../internals/export');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar fails = require('../internals/fails');\nvar definePropertyModule = require('../internals/object-define-property');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\n// `Reflect.set` method\n// https://tc39.github.io/ecma262/#sec-reflect.set\nfunction set(target, propertyKey, V /* , receiver */) {\n  var receiver = arguments.length < 4 ? target : arguments[3];\n  var ownDescriptor = getOwnPropertyDescriptorModule.f(anObject(target), propertyKey);\n  var existingDescriptor, prototype;\n  if (!ownDescriptor) {\n    if (isObject(prototype = getPrototypeOf(target))) {\n      return set(prototype, propertyKey, V, receiver);\n    }\n    ownDescriptor = createPropertyDescriptor(0);\n  }\n  if (has(ownDescriptor, 'value')) {\n    if (ownDescriptor.writable === false || !isObject(receiver)) return false;\n    if (existingDescriptor = getOwnPropertyDescriptorModule.f(receiver, propertyKey)) {\n      if (existingDescriptor.get || existingDescriptor.set || existingDescriptor.writable === false) return false;\n      existingDescriptor.value = V;\n      definePropertyModule.f(receiver, propertyKey, existingDescriptor);\n    } else definePropertyModule.f(receiver, propertyKey, createPropertyDescriptor(0, V));\n    return true;\n  }\n  return ownDescriptor.set === undefined ? false : (ownDescriptor.set.call(receiver, V), true);\n}\n\n// MS Edge 17-18 Reflect.set allows setting the property to object\n// with non-writable property on the prototype\nvar MS_EDGE_BUG = fails(function () {\n  var object = definePropertyModule.f({}, 'a', { configurable: true });\n  // eslint-disable-next-line no-undef\n  return Reflect.set(getPrototypeOf(object), 'a', 1, object) !== false;\n});\n\n$({ target: 'Reflect', stat: true, forced: MS_EDGE_BUG }, {\n  set: set\n});\n","var $ = require('../internals/export');\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\nvar objectSetPrototypeOf = require('../internals/object-set-prototype-of');\n\n// `Reflect.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-reflect.setprototypeof\nif (objectSetPrototypeOf) $({ target: 'Reflect', stat: true }, {\n  setPrototypeOf: function setPrototypeOf(target, proto) {\n    anObject(target);\n    aPossiblePrototype(proto);\n    try {\n      objectSetPrototypeOf(target, proto);\n      return true;\n    } catch (error) {\n      return false;\n    }\n  }\n});\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\n\nvar fails = require('./fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n// so we use an intermediate function.\nfunction RE(s, f) {\n  return RegExp(s, f);\n}\n\nexports.UNSUPPORTED_Y = fails(function () {\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar isRegExp = require('../internals/is-regexp');\nvar getFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar setInternalState = require('../internals/internal-state').set;\nvar setSpecies = require('../internals/set-species');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\nvar NativeRegExp = global.RegExp;\nvar RegExpPrototype = NativeRegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n\n// \"new\" should create a new object, old webkit bug\nvar CORRECT_NEW = new NativeRegExp(re1) !== re1;\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\n\nvar FORCED = DESCRIPTORS && isForced('RegExp', (!CORRECT_NEW || UNSUPPORTED_Y || fails(function () {\n  re2[MATCH] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, 'i') != '/a/i';\n})));\n\n// `RegExp` constructor\n// https://tc39.github.io/ecma262/#sec-regexp-constructor\nif (FORCED) {\n  var RegExpWrapper = function RegExp(pattern, flags) {\n    var thisIsRegExp = this instanceof RegExpWrapper;\n    var patternIsRegExp = isRegExp(pattern);\n    var flagsAreUndefined = flags === undefined;\n    var sticky;\n\n    if (!thisIsRegExp && patternIsRegExp && pattern.constructor === RegExpWrapper && flagsAreUndefined) {\n      return pattern;\n    }\n\n    if (CORRECT_NEW) {\n      if (patternIsRegExp && !flagsAreUndefined) pattern = pattern.source;\n    } else if (pattern instanceof RegExpWrapper) {\n      if (flagsAreUndefined) flags = getFlags.call(pattern);\n      pattern = pattern.source;\n    }\n\n    if (UNSUPPORTED_Y) {\n      sticky = !!flags && flags.indexOf('y') > -1;\n      if (sticky) flags = flags.replace(/y/g, '');\n    }\n\n    var result = inheritIfRequired(\n      CORRECT_NEW ? new NativeRegExp(pattern, flags) : NativeRegExp(pattern, flags),\n      thisIsRegExp ? this : RegExpPrototype,\n      RegExpWrapper\n    );\n\n    if (UNSUPPORTED_Y && sticky) setInternalState(result, { sticky: sticky });\n\n    return result;\n  };\n  var proxy = function (key) {\n    key in RegExpWrapper || defineProperty(RegExpWrapper, key, {\n      configurable: true,\n      get: function () { return NativeRegExp[key]; },\n      set: function (it) { NativeRegExp[key] = it; }\n    });\n  };\n  var keys = getOwnPropertyNames(NativeRegExp);\n  var index = 0;\n  while (keys.length > index) proxy(keys[index++]);\n  RegExpPrototype.constructor = RegExpWrapper;\n  RegExpWrapper.prototype = RegExpPrototype;\n  redefine(global, 'RegExp', RegExpWrapper);\n}\n\n// https://tc39.github.io/ecma262/#sec-get-regexp-@@species\nsetSpecies('RegExp');\n","'use strict';\nvar regexpFlags = require('./regexp-flags');\nvar stickyHelpers = require('./regexp-sticky-helpers');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectDefinePropertyModule = require('../internals/object-define-property');\nvar regExpFlags = require('../internals/regexp-flags');\nvar UNSUPPORTED_Y = require('../internals/regexp-sticky-helpers').UNSUPPORTED_Y;\n\n// `RegExp.prototype.flags` getter\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nif (DESCRIPTORS && (/./g.flags != 'g' || UNSUPPORTED_Y)) {\n  objectDefinePropertyModule.f(RegExp.prototype, 'flags', {\n    configurable: true,\n    get: regExpFlags\n  });\n}\n","var DESCRIPTORS = require('../internals/descriptors');\nvar UNSUPPORTED_Y = require('../internals/regexp-sticky-helpers').UNSUPPORTED_Y;\nvar defineProperty = require('../internals/object-define-property').f;\nvar getInternalState = require('../internals/internal-state').get;\nvar RegExpPrototype = RegExp.prototype;\n\n// `RegExp.prototype.sticky` getter\nif (DESCRIPTORS && UNSUPPORTED_Y) {\n  defineProperty(RegExp.prototype, 'sticky', {\n    configurable: true,\n    get: function () {\n      if (this === RegExpPrototype) return undefined;\n      // We can't use InternalStateModule.getterFor because\n      // we don't add metadata for regexps created by a literal.\n      if (this instanceof RegExp) {\n        return !!getInternalState(this).sticky;\n      }\n      throw TypeError('Incompatible receiver, RegExp required');\n    }\n  });\n}\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\n\nvar DELEGATES_TO_EXEC = function () {\n  var execCalled = false;\n  var re = /[ac]/;\n  re.exec = function () {\n    execCalled = true;\n    return /./.exec.apply(this, arguments);\n  };\n  return re.test('abc') === true && execCalled;\n}();\n\nvar nativeTest = /./.test;\n\n$({ target: 'RegExp', proto: true, forced: !DELEGATES_TO_EXEC }, {\n  test: function (str) {\n    if (typeof this.exec !== 'function') {\n      return nativeTest.call(this, str);\n    }\n    var result = this.exec(str);\n    if (result !== null && !isObject(result)) {\n      throw new Error('RegExp exec method returned something other than an Object or null');\n    }\n    return !!result;\n  }\n});\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Set` constructor\n// https://tc39.github.io/ecma262/#sec-set-objects\nmodule.exports = collection('Set', function (init) {\n  return function Set() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar codeAt = require('../internals/string-multibyte').codeAt;\n\n// `String.prototype.codePointAt` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n$({ target: 'String', proto: true }, {\n  codePointAt: function codePointAt(pos) {\n    return codeAt(this, pos);\n  }\n});\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\nvar nativeEndsWith = ''.endsWith;\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('endsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'endsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.endsWith` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.endswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  endsWith: function endsWith(searchString /* , endPosition = @length */) {\n    var that = String(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var endPosition = arguments.length > 1 ? arguments[1] : undefined;\n    var len = toLength(that.length);\n    var end = endPosition === undefined ? len : min(toLength(endPosition), len);\n    var search = String(searchString);\n    return nativeEndsWith\n      ? nativeEndsWith.call(that, search, end)\n      : that.slice(end - search.length, end) === search;\n  }\n});\n","var $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\nvar fromCharCode = String.fromCharCode;\nvar nativeFromCodePoint = String.fromCodePoint;\n\n// length should be 1, old FF problem\nvar INCORRECT_LENGTH = !!nativeFromCodePoint && nativeFromCodePoint.length != 1;\n\n// `String.fromCodePoint` method\n// https://tc39.github.io/ecma262/#sec-string.fromcodepoint\n$({ target: 'String', stat: true, forced: INCORRECT_LENGTH }, {\n  fromCodePoint: function fromCodePoint(x) { // eslint-disable-line no-unused-vars\n    var elements = [];\n    var length = arguments.length;\n    var i = 0;\n    var code;\n    while (length > i) {\n      code = +arguments[i++];\n      if (toAbsoluteIndex(code, 0x10FFFF) !== code) throw RangeError(code + ' is not a valid code point');\n      elements.push(code < 0x10000\n        ? fromCharCode(code)\n        : fromCharCode(((code -= 0x10000) >> 10) + 0xD800, code % 0x400 + 0xDC00)\n      );\n    } return elements.join('');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar regexpExec = require('../internals/regexp-exec');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\nvar REPLACE = wellKnownSymbol('replace');\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !(\n      REPLACE_SUPPORTS_NAMED_GROUPS &&\n      REPLACE_KEEPS_$0 &&\n      !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    )) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    }, {\n      REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n      REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n  }\n\n  if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@match logic\nfixRegExpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : regexp[MATCH];\n      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative(nativeMatch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      if (!rx.global) return regExpExec(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toLength = require('../internals/to-length');\nvar aFunction = require('../internals/a-function');\nvar anObject = require('../internals/an-object');\nvar classof = require('../internals/classof-raw');\nvar isRegExp = require('../internals/is-regexp');\nvar getRegExpFlags = require('../internals/regexp-flags');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar InternalStateModule = require('../internals/internal-state');\nvar IS_PURE = require('../internals/is-pure');\n\nvar MATCH_ALL = wellKnownSymbol('matchAll');\nvar REGEXP_STRING = 'RegExp String';\nvar REGEXP_STRING_ITERATOR = REGEXP_STRING + ' Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(REGEXP_STRING_ITERATOR);\nvar RegExpPrototype = RegExp.prototype;\nvar regExpBuiltinExec = RegExpPrototype.exec;\nvar nativeMatchAll = ''.matchAll;\n\nvar WORKS_WITH_NON_GLOBAL_REGEX = !!nativeMatchAll && !fails(function () {\n  'a'.matchAll(/./);\n});\n\nvar regExpExec = function (R, S) {\n  var exec = R.exec;\n  var result;\n  if (typeof exec == 'function') {\n    result = exec.call(R, S);\n    if (typeof result != 'object') throw TypeError('Incorrect exec result');\n    return result;\n  } return regExpBuiltinExec.call(R, S);\n};\n\n// eslint-disable-next-line max-len\nvar $RegExpStringIterator = createIteratorConstructor(function RegExpStringIterator(regexp, string, global, fullUnicode) {\n  setInternalState(this, {\n    type: REGEXP_STRING_ITERATOR,\n    regexp: regexp,\n    string: string,\n    global: global,\n    unicode: fullUnicode,\n    done: false\n  });\n}, REGEXP_STRING, function next() {\n  var state = getInternalState(this);\n  if (state.done) return { value: undefined, done: true };\n  var R = state.regexp;\n  var S = state.string;\n  var match = regExpExec(R, S);\n  if (match === null) return { value: undefined, done: state.done = true };\n  if (state.global) {\n    if (String(match[0]) == '') R.lastIndex = advanceStringIndex(S, toLength(R.lastIndex), state.unicode);\n    return { value: match, done: false };\n  }\n  state.done = true;\n  return { value: match, done: false };\n});\n\nvar $matchAll = function (string) {\n  var R = anObject(this);\n  var S = String(string);\n  var C, flagsValue, flags, matcher, global, fullUnicode;\n  C = speciesConstructor(R, RegExp);\n  flagsValue = R.flags;\n  if (flagsValue === undefined && R instanceof RegExp && !('flags' in RegExpPrototype)) {\n    flagsValue = getRegExpFlags.call(R);\n  }\n  flags = flagsValue === undefined ? '' : String(flagsValue);\n  matcher = new C(C === RegExp ? R.source : R, flags);\n  global = !!~flags.indexOf('g');\n  fullUnicode = !!~flags.indexOf('u');\n  matcher.lastIndex = toLength(R.lastIndex);\n  return new $RegExpStringIterator(matcher, S, global, fullUnicode);\n};\n\n// `String.prototype.matchAll` method\n// https://github.com/tc39/proposal-string-matchall\n$({ target: 'String', proto: true, forced: WORKS_WITH_NON_GLOBAL_REGEX }, {\n  matchAll: function matchAll(regexp) {\n    var O = requireObjectCoercible(this);\n    var flags, S, matcher, rx;\n    if (regexp != null) {\n      if (isRegExp(regexp)) {\n        flags = String(requireObjectCoercible('flags' in RegExpPrototype\n          ? regexp.flags\n          : getRegExpFlags.call(regexp)\n        ));\n        if (!~flags.indexOf('g')) throw TypeError('`.matchAll` does not allow non-global regexes');\n      }\n      if (WORKS_WITH_NON_GLOBAL_REGEX) return nativeMatchAll.apply(O, arguments);\n      matcher = regexp[MATCH_ALL];\n      if (matcher === undefined && IS_PURE && classof(regexp) == 'RegExp') matcher = $matchAll;\n      if (matcher != null) return aFunction(matcher).call(regexp, O);\n    } else if (WORKS_WITH_NON_GLOBAL_REGEX) return nativeMatchAll.apply(O, arguments);\n    S = String(O);\n    rx = new RegExp(regexp, 'g');\n    return IS_PURE ? $matchAll.call(rx, S) : rx[MATCH_ALL](S);\n  }\n});\n\nIS_PURE || MATCH_ALL in RegExpPrototype || createNonEnumerableProperty(RegExpPrototype, MATCH_ALL, $matchAll);\n","// https://github.com/zloirock/core-js/issues/280\nvar userAgent = require('../internals/engine-user-agent');\n\n// eslint-disable-next-line unicorn/no-unsafe-regex\nmodule.exports = /Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(userAgent);\n","'use strict';\nvar $ = require('../internals/export');\nvar $padEnd = require('../internals/string-pad').end;\nvar WEBKIT_BUG = require('../internals/string-pad-webkit-bug');\n\n// `String.prototype.padEnd` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.padend\n$({ target: 'String', proto: true, forced: WEBKIT_BUG }, {\n  padEnd: function padEnd(maxLength /* , fillString = ' ' */) {\n    return $padEnd(this, maxLength, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $padStart = require('../internals/string-pad').start;\nvar WEBKIT_BUG = require('../internals/string-pad-webkit-bug');\n\n// `String.prototype.padStart` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.padstart\n$({ target: 'String', proto: true, forced: WEBKIT_BUG }, {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $padStart(this, maxLength, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var $ = require('../internals/export');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `String.raw` method\n// https://tc39.github.io/ecma262/#sec-string.raw\n$({ target: 'String', stat: true }, {\n  raw: function raw(template) {\n    var rawTemplate = toIndexedObject(template.raw);\n    var literalSegments = toLength(rawTemplate.length);\n    var argumentsLength = arguments.length;\n    var elements = [];\n    var i = 0;\n    while (literalSegments > i) {\n      elements.push(String(rawTemplate[i++]));\n      if (i < argumentsLength) elements.push(String(arguments[i]));\n    } return elements.join('');\n  }\n});\n","var $ = require('../internals/export');\nvar repeat = require('../internals/string-repeat');\n\n// `String.prototype.repeat` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.repeat\n$({ target: 'String', proto: true }, {\n  repeat: repeat\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n  // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return nativeReplace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar sameValue = require('../internals/same-value');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@search logic\nfixRegExpWellKnownSymbolLogic('search', 1, function (SEARCH, nativeSearch, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = requireObjectCoercible(this);\n      var searcher = regexp == undefined ? undefined : regexp[SEARCH];\n      return searcher !== undefined ? searcher.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@search\n    function (regexp) {\n      var res = maybeCallNative(nativeSearch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\n\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SUPPORTS_Y);\n","'use strict';\nvar $ = require('../internals/export');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\nvar nativeStartsWith = ''.startsWith;\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('startsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'startsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.startsWith` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.startswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = String(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var index = toLength(min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return nativeStartsWith\n      ? nativeStartsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $trimEnd = require('../internals/string-trim').end;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\nvar FORCED = forcedStringTrimMethod('trimEnd');\n\nvar trimEnd = FORCED ? function trimEnd() {\n  return $trimEnd(this);\n} : ''.trimEnd;\n\n// `String.prototype.{ trimEnd, trimRight }` methods\n// https://github.com/tc39/ecmascript-string-left-right-trim\n$({ target: 'String', proto: true, forced: FORCED }, {\n  trimEnd: trimEnd,\n  trimRight: trimEnd\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $trimStart = require('../internals/string-trim').start;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\nvar FORCED = forcedStringTrimMethod('trimStart');\n\nvar trimStart = FORCED ? function trimStart() {\n  return $trimStart(this);\n} : ''.trimStart;\n\n// `String.prototype.{ trimStart, trimLeft }` methods\n// https://github.com/tc39/ecmascript-string-left-right-trim\n$({ target: 'String', proto: true, forced: FORCED }, {\n  trimStart: trimStart,\n  trimLeft: trimStart\n});\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar quot = /\"/g;\n\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\n// https://tc39.github.io/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = String(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.anchor` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.anchor\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('anchor') }, {\n  anchor: function anchor(name) {\n    return createHTML(this, 'a', 'name', name);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.big` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.big\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('big') }, {\n  big: function big() {\n    return createHTML(this, 'big', '', '');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.blink` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.blink\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('blink') }, {\n  blink: function blink() {\n    return createHTML(this, 'blink', '', '');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.bold` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.bold\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('bold') }, {\n  bold: function bold() {\n    return createHTML(this, 'b', '', '');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.fixed` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.fixed\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('fixed') }, {\n  fixed: function fixed() {\n    return createHTML(this, 'tt', '', '');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.fontcolor` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.fontcolor\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('fontcolor') }, {\n  fontcolor: function fontcolor(color) {\n    return createHTML(this, 'font', 'color', color);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.fontsize` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.fontsize\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('fontsize') }, {\n  fontsize: function fontsize(size) {\n    return createHTML(this, 'font', 'size', size);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.italics` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.italics\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('italics') }, {\n  italics: function italics() {\n    return createHTML(this, 'i', '', '');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.link` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.link\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('link') }, {\n  link: function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.small` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.small\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('small') }, {\n  small: function small() {\n    return createHTML(this, 'small', '', '');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.strike` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.strike\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('strike') }, {\n  strike: function strike() {\n    return createHTML(this, 'strike', '', '');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.sub` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.sub\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('sub') }, {\n  sub: function sub() {\n    return createHTML(this, 'sub', '', '');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.sup` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.sup\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('sup') }, {\n  sup: function sup() {\n    return createHTML(this, 'sup', '', '');\n  }\n});\n","/* eslint-disable no-new */\nvar global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar NATIVE_ARRAY_BUFFER_VIEWS = require('../internals/array-buffer-view-core').NATIVE_ARRAY_BUFFER_VIEWS;\n\nvar ArrayBuffer = global.ArrayBuffer;\nvar Int8Array = global.Int8Array;\n\nmodule.exports = !NATIVE_ARRAY_BUFFER_VIEWS || !fails(function () {\n  Int8Array(1);\n}) || !fails(function () {\n  new Int8Array(-1);\n}) || !checkCorrectnessOfIteration(function (iterable) {\n  new Int8Array();\n  new Int8Array(null);\n  new Int8Array(1.5);\n  new Int8Array(iterable);\n}, true) || fails(function () {\n  // Safari (11+) bug - a reason why even Safari 13 should load a typed array polyfill\n  return new Int8Array(new ArrayBuffer(2), 1, undefined).length !== 1;\n});\n","var toInteger = require('../internals/to-integer');\n\nmodule.exports = function (it) {\n  var result = toInteger(it);\n  if (result < 0) throw RangeError(\"The argument can't be less than 0\");\n  return result;\n};\n","var toPositiveInteger = require('../internals/to-positive-integer');\n\nmodule.exports = function (it, BYTES) {\n  var offset = toPositiveInteger(it);\n  if (offset % BYTES) throw RangeError('Wrong offset');\n  return offset;\n};\n","var toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar bind = require('../internals/function-bind-context');\nvar aTypedArrayConstructor = require('../internals/array-buffer-view-core').aTypedArrayConstructor;\n\nmodule.exports = function from(source /* , mapfn, thisArg */) {\n  var O = toObject(source);\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var i, length, result, step, iterator, next;\n  if (iteratorMethod != undefined && !isArrayIteratorMethod(iteratorMethod)) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    O = [];\n    while (!(step = next.call(iterator)).done) {\n      O.push(step.value);\n    }\n  }\n  if (mapping && argumentsLength > 2) {\n    mapfn = bind(mapfn, arguments[2], 2);\n  }\n  length = toLength(O.length);\n  result = new (aTypedArrayConstructor(this))(length);\n  for (i = 0; length > i; i++) {\n    result[i] = mapping ? mapfn(O[i], i) : O[i];\n  }\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = require('../internals/typed-array-constructors-require-wrappers');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar ArrayBufferModule = require('../internals/array-buffer');\nvar anInstance = require('../internals/an-instance');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar toLength = require('../internals/to-length');\nvar toIndex = require('../internals/to-index');\nvar toOffset = require('../internals/to-offset');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar typedArrayFrom = require('../internals/typed-array-from');\nvar forEach = require('../internals/array-iteration').forEach;\nvar setSpecies = require('../internals/set-species');\nvar definePropertyModule = require('../internals/object-define-property');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar InternalStateModule = require('../internals/internal-state');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar round = Math.round;\nvar RangeError = global.RangeError;\nvar ArrayBuffer = ArrayBufferModule.ArrayBuffer;\nvar DataView = ArrayBufferModule.DataView;\nvar NATIVE_ARRAY_BUFFER_VIEWS = ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS;\nvar TYPED_ARRAY_TAG = ArrayBufferViewCore.TYPED_ARRAY_TAG;\nvar TypedArray = ArrayBufferViewCore.TypedArray;\nvar TypedArrayPrototype = ArrayBufferViewCore.TypedArrayPrototype;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar isTypedArray = ArrayBufferViewCore.isTypedArray;\nvar BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\nvar WRONG_LENGTH = 'Wrong length';\n\nvar fromList = function (C, list) {\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n};\n\nvar addGetter = function (it, key) {\n  nativeDefineProperty(it, key, { get: function () {\n    return getInternalState(this)[key];\n  } });\n};\n\nvar isArrayBuffer = function (it) {\n  var klass;\n  return it instanceof ArrayBuffer || (klass = classof(it)) == 'ArrayBuffer' || klass == 'SharedArrayBuffer';\n};\n\nvar isTypedArrayIndex = function (target, key) {\n  return isTypedArray(target)\n    && typeof key != 'symbol'\n    && key in target\n    && String(+key) == String(key);\n};\n\nvar wrappedGetOwnPropertyDescriptor = function getOwnPropertyDescriptor(target, key) {\n  return isTypedArrayIndex(target, key = toPrimitive(key, true))\n    ? createPropertyDescriptor(2, target[key])\n    : nativeGetOwnPropertyDescriptor(target, key);\n};\n\nvar wrappedDefineProperty = function defineProperty(target, key, descriptor) {\n  if (isTypedArrayIndex(target, key = toPrimitive(key, true))\n    && isObject(descriptor)\n    && has(descriptor, 'value')\n    && !has(descriptor, 'get')\n    && !has(descriptor, 'set')\n    // TODO: add validation descriptor w/o calling accessors\n    && !descriptor.configurable\n    && (!has(descriptor, 'writable') || descriptor.writable)\n    && (!has(descriptor, 'enumerable') || descriptor.enumerable)\n  ) {\n    target[key] = descriptor.value;\n    return target;\n  } return nativeDefineProperty(target, key, descriptor);\n};\n\nif (DESCRIPTORS) {\n  if (!NATIVE_ARRAY_BUFFER_VIEWS) {\n    getOwnPropertyDescriptorModule.f = wrappedGetOwnPropertyDescriptor;\n    definePropertyModule.f = wrappedDefineProperty;\n    addGetter(TypedArrayPrototype, 'buffer');\n    addGetter(TypedArrayPrototype, 'byteOffset');\n    addGetter(TypedArrayPrototype, 'byteLength');\n    addGetter(TypedArrayPrototype, 'length');\n  }\n\n  $({ target: 'Object', stat: true, forced: !NATIVE_ARRAY_BUFFER_VIEWS }, {\n    getOwnPropertyDescriptor: wrappedGetOwnPropertyDescriptor,\n    defineProperty: wrappedDefineProperty\n  });\n\n  module.exports = function (TYPE, wrapper, CLAMPED) {\n    var BYTES = TYPE.match(/\\d+$/)[0] / 8;\n    var CONSTRUCTOR_NAME = TYPE + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + TYPE;\n    var SETTER = 'set' + TYPE;\n    var NativeTypedArrayConstructor = global[CONSTRUCTOR_NAME];\n    var TypedArrayConstructor = NativeTypedArrayConstructor;\n    var TypedArrayConstructorPrototype = TypedArrayConstructor && TypedArrayConstructor.prototype;\n    var exported = {};\n\n    var getter = function (that, index) {\n      var data = getInternalState(that);\n      return data.view[GETTER](index * BYTES + data.byteOffset, true);\n    };\n\n    var setter = function (that, index, value) {\n      var data = getInternalState(that);\n      if (CLAMPED) value = (value = round(value)) < 0 ? 0 : value > 0xFF ? 0xFF : value & 0xFF;\n      data.view[SETTER](index * BYTES + data.byteOffset, value, true);\n    };\n\n    var addElement = function (that, index) {\n      nativeDefineProperty(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n\n    if (!NATIVE_ARRAY_BUFFER_VIEWS) {\n      TypedArrayConstructor = wrapper(function (that, data, offset, $length) {\n        anInstance(that, TypedArrayConstructor, CONSTRUCTOR_NAME);\n        var index = 0;\n        var byteOffset = 0;\n        var buffer, byteLength, length;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new ArrayBuffer(byteLength);\n        } else if (isArrayBuffer(data)) {\n          buffer = data;\n          byteOffset = toOffset(offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - byteOffset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + byteOffset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (isTypedArray(data)) {\n          return fromList(TypedArrayConstructor, data);\n        } else {\n          return typedArrayFrom.call(TypedArrayConstructor, data);\n        }\n        setInternalState(that, {\n          buffer: buffer,\n          byteOffset: byteOffset,\n          byteLength: byteLength,\n          length: length,\n          view: new DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n\n      if (setPrototypeOf) setPrototypeOf(TypedArrayConstructor, TypedArray);\n      TypedArrayConstructorPrototype = TypedArrayConstructor.prototype = create(TypedArrayPrototype);\n    } else if (TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS) {\n      TypedArrayConstructor = wrapper(function (dummy, data, typedArrayOffset, $length) {\n        anInstance(dummy, TypedArrayConstructor, CONSTRUCTOR_NAME);\n        return inheritIfRequired(function () {\n          if (!isObject(data)) return new NativeTypedArrayConstructor(toIndex(data));\n          if (isArrayBuffer(data)) return $length !== undefined\n            ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES), $length)\n            : typedArrayOffset !== undefined\n              ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES))\n              : new NativeTypedArrayConstructor(data);\n          if (isTypedArray(data)) return fromList(TypedArrayConstructor, data);\n          return typedArrayFrom.call(TypedArrayConstructor, data);\n        }(), dummy, TypedArrayConstructor);\n      });\n\n      if (setPrototypeOf) setPrototypeOf(TypedArrayConstructor, TypedArray);\n      forEach(getOwnPropertyNames(NativeTypedArrayConstructor), function (key) {\n        if (!(key in TypedArrayConstructor)) {\n          createNonEnumerableProperty(TypedArrayConstructor, key, NativeTypedArrayConstructor[key]);\n        }\n      });\n      TypedArrayConstructor.prototype = TypedArrayConstructorPrototype;\n    }\n\n    if (TypedArrayConstructorPrototype.constructor !== TypedArrayConstructor) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, 'constructor', TypedArrayConstructor);\n    }\n\n    if (TYPED_ARRAY_TAG) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, TYPED_ARRAY_TAG, CONSTRUCTOR_NAME);\n    }\n\n    exported[CONSTRUCTOR_NAME] = TypedArrayConstructor;\n\n    $({\n      global: true, forced: TypedArrayConstructor != NativeTypedArrayConstructor, sham: !NATIVE_ARRAY_BUFFER_VIEWS\n    }, exported);\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayConstructor)) {\n      createNonEnumerableProperty(TypedArrayConstructor, BYTES_PER_ELEMENT, BYTES);\n    }\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayConstructorPrototype)) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, BYTES_PER_ELEMENT, BYTES);\n    }\n\n    setSpecies(CONSTRUCTOR_NAME);\n  };\n} else module.exports = function () { /* empty */ };\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Float32Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Float32', function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Float64Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Float64', function (init) {\n  return function Float64Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Int8Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Int8', function (init) {\n  return function Int8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Int16Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Int16', function (init) {\n  return function Int16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Int32Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Int32', function (init) {\n  return function Int32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Uint8Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Uint8', function (init) {\n  return function Uint8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Uint8ClampedArray` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Uint8', function (init) {\n  return function Uint8ClampedArray(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n}, true);\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Uint16Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Uint16', function (init) {\n  return function Uint16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Uint32Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Uint32', function (init) {\n  return function Uint32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $copyWithin = require('../internals/array-copy-within');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.copyWithin` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.copywithin\nexportTypedArrayMethod('copyWithin', function copyWithin(target, start /* , end */) {\n  return $copyWithin.call(aTypedArray(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $every = require('../internals/array-iteration').every;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.every` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.every\nexportTypedArrayMethod('every', function every(callbackfn /* , thisArg */) {\n  return $every(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $fill = require('../internals/array-fill');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.fill\n// eslint-disable-next-line no-unused-vars\nexportTypedArrayMethod('fill', function fill(value /* , start, end */) {\n  return $fill.apply(aTypedArray(this), arguments);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $filter = require('../internals/array-iteration').filter;\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.filter\nexportTypedArrayMethod('filter', function filter(callbackfn /* , thisArg */) {\n  var list = $filter(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  var C = speciesConstructor(this, this.constructor);\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $find = require('../internals/array-iteration').find;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.find\nexportTypedArrayMethod('find', function find(predicate /* , thisArg */) {\n  return $find(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $findIndex = require('../internals/array-iteration').findIndex;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.findIndex` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.findindex\nexportTypedArrayMethod('findIndex', function findIndex(predicate /* , thisArg */) {\n  return $findIndex(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.foreach\nexportTypedArrayMethod('forEach', function forEach(callbackfn /* , thisArg */) {\n  $forEach(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = require('../internals/typed-array-constructors-require-wrappers');\nvar exportTypedArrayStaticMethod = require('../internals/array-buffer-view-core').exportTypedArrayStaticMethod;\nvar typedArrayFrom = require('../internals/typed-array-from');\n\n// `%TypedArray%.from` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.from\nexportTypedArrayStaticMethod('from', typedArrayFrom, TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $includes = require('../internals/array-includes').includes;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.includes\nexportTypedArrayMethod('includes', function includes(searchElement /* , fromIndex */) {\n  return $includes(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $indexOf = require('../internals/array-includes').indexOf;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.indexof\nexportTypedArrayMethod('indexOf', function indexOf(searchElement /* , fromIndex */) {\n  return $indexOf(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar global = require('../internals/global');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar ArrayIterators = require('../modules/es.array.iterator');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar Uint8Array = global.Uint8Array;\nvar arrayValues = ArrayIterators.values;\nvar arrayKeys = ArrayIterators.keys;\nvar arrayEntries = ArrayIterators.entries;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar nativeTypedArrayIterator = Uint8Array && Uint8Array.prototype[ITERATOR];\n\nvar CORRECT_ITER_NAME = !!nativeTypedArrayIterator\n  && (nativeTypedArrayIterator.name == 'values' || nativeTypedArrayIterator.name == undefined);\n\nvar typedArrayValues = function values() {\n  return arrayValues.call(aTypedArray(this));\n};\n\n// `%TypedArray%.prototype.entries` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.entries\nexportTypedArrayMethod('entries', function entries() {\n  return arrayEntries.call(aTypedArray(this));\n});\n// `%TypedArray%.prototype.keys` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.keys\nexportTypedArrayMethod('keys', function keys() {\n  return arrayKeys.call(aTypedArray(this));\n});\n// `%TypedArray%.prototype.values` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.values\nexportTypedArrayMethod('values', typedArrayValues, !CORRECT_ITER_NAME);\n// `%TypedArray%.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype-@@iterator\nexportTypedArrayMethod(ITERATOR, typedArrayValues, !CORRECT_ITER_NAME);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $join = [].join;\n\n// `%TypedArray%.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.join\n// eslint-disable-next-line no-unused-vars\nexportTypedArrayMethod('join', function join(separator) {\n  return $join.apply(aTypedArray(this), arguments);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $lastIndexOf = require('../internals/array-last-index-of');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.lastIndexOf` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.lastindexof\n// eslint-disable-next-line no-unused-vars\nexportTypedArrayMethod('lastIndexOf', function lastIndexOf(searchElement /* , fromIndex */) {\n  return $lastIndexOf.apply(aTypedArray(this), arguments);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $map = require('../internals/array-iteration').map;\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.map\nexportTypedArrayMethod('map', function map(mapfn /* , thisArg */) {\n  return $map(aTypedArray(this), mapfn, arguments.length > 1 ? arguments[1] : undefined, function (O, length) {\n    return new (aTypedArrayConstructor(speciesConstructor(O, O.constructor)))(length);\n  });\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = require('../internals/typed-array-constructors-require-wrappers');\n\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayStaticMethod = ArrayBufferViewCore.exportTypedArrayStaticMethod;\n\n// `%TypedArray%.of` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.of\nexportTypedArrayStaticMethod('of', function of(/* ...items */) {\n  var index = 0;\n  var length = arguments.length;\n  var result = new (aTypedArrayConstructor(this))(length);\n  while (length > index) result[index] = arguments[index++];\n  return result;\n}, TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $reduce = require('../internals/array-reduce').left;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.reduce\nexportTypedArrayMethod('reduce', function reduce(callbackfn /* , initialValue */) {\n  return $reduce(aTypedArray(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $reduceRight = require('../internals/array-reduce').right;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.reduceRicht` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.reduceright\nexportTypedArrayMethod('reduceRight', function reduceRight(callbackfn /* , initialValue */) {\n  return $reduceRight(aTypedArray(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar floor = Math.floor;\n\n// `%TypedArray%.prototype.reverse` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.reverse\nexportTypedArrayMethod('reverse', function reverse() {\n  var that = this;\n  var length = aTypedArray(that).length;\n  var middle = floor(length / 2);\n  var index = 0;\n  var value;\n  while (index < middle) {\n    value = that[index];\n    that[index++] = that[--length];\n    that[length] = value;\n  } return that;\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar toLength = require('../internals/to-length');\nvar toOffset = require('../internals/to-offset');\nvar toObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\nvar FORCED = fails(function () {\n  // eslint-disable-next-line no-undef\n  new Int8Array(1).set({});\n});\n\n// `%TypedArray%.prototype.set` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.set\nexportTypedArrayMethod('set', function set(arrayLike /* , offset */) {\n  aTypedArray(this);\n  var offset = toOffset(arguments.length > 1 ? arguments[1] : undefined, 1);\n  var length = this.length;\n  var src = toObject(arrayLike);\n  var len = toLength(src.length);\n  var index = 0;\n  if (len + offset > length) throw RangeError('Wrong length');\n  while (index < len) this[offset + index] = src[index++];\n}, FORCED);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar speciesConstructor = require('../internals/species-constructor');\nvar fails = require('../internals/fails');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $slice = [].slice;\n\nvar FORCED = fails(function () {\n  // eslint-disable-next-line no-undef\n  new Int8Array(1).slice();\n});\n\n// `%TypedArray%.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.slice\nexportTypedArrayMethod('slice', function slice(start, end) {\n  var list = $slice.call(aTypedArray(this), start, end);\n  var C = speciesConstructor(this, this.constructor);\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n}, FORCED);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $some = require('../internals/array-iteration').some;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.some` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.some\nexportTypedArrayMethod('some', function some(callbackfn /* , thisArg */) {\n  return $some(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $sort = [].sort;\n\n// `%TypedArray%.prototype.sort` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.sort\nexportTypedArrayMethod('sort', function sort(comparefn) {\n  return $sort.call(aTypedArray(this), comparefn);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.subarray` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.subarray\nexportTypedArrayMethod('subarray', function subarray(begin, end) {\n  var O = aTypedArray(this);\n  var length = O.length;\n  var beginIndex = toAbsoluteIndex(begin, length);\n  return new (speciesConstructor(O, O.constructor))(\n    O.buffer,\n    O.byteOffset + beginIndex * O.BYTES_PER_ELEMENT,\n    toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - beginIndex)\n  );\n});\n","'use strict';\nvar global = require('../internals/global');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar fails = require('../internals/fails');\n\nvar Int8Array = global.Int8Array;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $toLocaleString = [].toLocaleString;\nvar $slice = [].slice;\n\n// iOS Safari 6.x fails here\nvar TO_LOCALE_STRING_BUG = !!Int8Array && fails(function () {\n  $toLocaleString.call(new Int8Array(1));\n});\n\nvar FORCED = fails(function () {\n  return [1, 2].toLocaleString() != new Int8Array([1, 2]).toLocaleString();\n}) || !fails(function () {\n  Int8Array.prototype.toLocaleString.call([1, 2]);\n});\n\n// `%TypedArray%.prototype.toLocaleString` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.tolocalestring\nexportTypedArrayMethod('toLocaleString', function toLocaleString() {\n  return $toLocaleString.apply(TO_LOCALE_STRING_BUG ? $slice.call(aTypedArray(this)) : aTypedArray(this), arguments);\n}, FORCED);\n","'use strict';\nvar exportTypedArrayMethod = require('../internals/array-buffer-view-core').exportTypedArrayMethod;\nvar fails = require('../internals/fails');\nvar global = require('../internals/global');\n\nvar Uint8Array = global.Uint8Array;\nvar Uint8ArrayPrototype = Uint8Array && Uint8Array.prototype || {};\nvar arrayToString = [].toString;\nvar arrayJoin = [].join;\n\nif (fails(function () { arrayToString.call({}); })) {\n  arrayToString = function toString() {\n    return arrayJoin.call(this);\n  };\n}\n\nvar IS_NOT_ARRAY_METHOD = Uint8ArrayPrototype.toString != arrayToString;\n\n// `%TypedArray%.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.tostring\nexportTypedArrayMethod('toString', arrayToString, IS_NOT_ARRAY_METHOD);\n","'use strict';\nvar redefineAll = require('../internals/redefine-all');\nvar getWeakData = require('../internals/internal-metadata').getWeakData;\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar ArrayIterationModule = require('../internals/array-iteration');\nvar $has = require('../internals/has');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\nvar find = ArrayIterationModule.find;\nvar findIndex = ArrayIterationModule.findIndex;\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (store) {\n  return store.frozen || (store.frozen = new UncaughtFrozenStore());\n};\n\nvar UncaughtFrozenStore = function () {\n  this.entries = [];\n};\n\nvar findUncaughtFrozen = function (store, key) {\n  return find(store.entries, function (it) {\n    return it[0] === key;\n  });\n};\n\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.entries.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = findIndex(this.entries, function (it) {\n      return it[0] === key;\n    });\n    if (~index) this.entries.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        id: id++,\n        frozen: undefined\n      });\n      if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var data = getWeakData(anObject(key), true);\n      if (data === true) uncaughtFrozenStore(state).set(key, value);\n      else data[state.id] = value;\n      return that;\n    };\n\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function (key) {\n        var state = getInternalState(this);\n        if (!isObject(key)) return false;\n        var data = getWeakData(key);\n        if (data === true) return uncaughtFrozenStore(state)['delete'](key);\n        return data && $has(data, state.id) && delete data[state.id];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key) {\n        var state = getInternalState(this);\n        if (!isObject(key)) return false;\n        var data = getWeakData(key);\n        if (data === true) return uncaughtFrozenStore(state).has(key);\n        return data && $has(data, state.id);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // 23.3.3.3 WeakMap.prototype.get(key)\n      get: function get(key) {\n        var state = getInternalState(this);\n        if (isObject(key)) {\n          var data = getWeakData(key);\n          if (data === true) return uncaughtFrozenStore(state).get(key);\n          return data ? data[state.id] : undefined;\n        }\n      },\n      // 23.3.3.5 WeakMap.prototype.set(key, value)\n      set: function set(key, value) {\n        return define(this, key, value);\n      }\n    } : {\n      // 23.4.3.1 WeakSet.prototype.add(value)\n      add: function add(value) {\n        return define(this, value, true);\n      }\n    });\n\n    return C;\n  }\n};\n","'use strict';\nvar global = require('../internals/global');\nvar redefineAll = require('../internals/redefine-all');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar collection = require('../internals/collection');\nvar collectionWeak = require('../internals/collection-weak');\nvar isObject = require('../internals/is-object');\nvar enforceIternalState = require('../internals/internal-state').enforce;\nvar NATIVE_WEAK_MAP = require('../internals/native-weak-map');\n\nvar IS_IE11 = !global.ActiveXObject && 'ActiveXObject' in global;\nvar isExtensible = Object.isExtensible;\nvar InternalWeakMap;\n\nvar wrapper = function (init) {\n  return function WeakMap() {\n    return init(this, arguments.length ? arguments[0] : undefined);\n  };\n};\n\n// `WeakMap` constructor\n// https://tc39.github.io/ecma262/#sec-weakmap-constructor\nvar $WeakMap = module.exports = collection('WeakMap', wrapper, collectionWeak);\n\n// IE11 WeakMap frozen keys fix\n// We can't use feature detection because it crash some old IE builds\n// https://github.com/zloirock/core-js/issues/485\nif (NATIVE_WEAK_MAP && IS_IE11) {\n  InternalWeakMap = collectionWeak.getConstructor(wrapper, 'WeakMap', true);\n  InternalMetadataModule.REQUIRED = true;\n  var WeakMapPrototype = $WeakMap.prototype;\n  var nativeDelete = WeakMapPrototype['delete'];\n  var nativeHas = WeakMapPrototype.has;\n  var nativeGet = WeakMapPrototype.get;\n  var nativeSet = WeakMapPrototype.set;\n  redefineAll(WeakMapPrototype, {\n    'delete': function (key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeDelete.call(this, key) || state.frozen['delete'](key);\n      } return nativeDelete.call(this, key);\n    },\n    has: function has(key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeHas.call(this, key) || state.frozen.has(key);\n      } return nativeHas.call(this, key);\n    },\n    get: function get(key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeHas.call(this, key) ? nativeGet.call(this, key) : state.frozen.get(key);\n      } return nativeGet.call(this, key);\n    },\n    set: function set(key, value) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        nativeHas.call(this, key) ? nativeSet.call(this, key, value) : state.frozen.set(key, value);\n      } else nativeSet.call(this, key, value);\n      return this;\n    }\n  });\n}\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionWeak = require('../internals/collection-weak');\n\n// `WeakSet` constructor\n// https://tc39.github.io/ecma262/#sec-weakset-constructor\ncollection('WeakSet', function (init) {\n  return function WeakSet() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionWeak);\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar task = require('../internals/task');\n\nvar FORCED = !global.setImmediate || !global.clearImmediate;\n\n// http://w3c.github.io/setImmediate/\n$({ global: true, bind: true, enumerable: true, forced: FORCED }, {\n  // `setImmediate` method\n  // http://w3c.github.io/setImmediate/#si-setImmediate\n  setImmediate: task.set,\n  // `clearImmediate` method\n  // http://w3c.github.io/setImmediate/#si-clearImmediate\n  clearImmediate: task.clear\n});\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar microtask = require('../internals/microtask');\nvar classof = require('../internals/classof-raw');\n\nvar process = global.process;\nvar isNode = classof(process) == 'process';\n\n// `queueMicrotask` method\n// https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-queuemicrotask\n$({ global: true, enumerable: true, noTargetGet: true }, {\n  queueMicrotask: function queueMicrotask(fn) {\n    var domain = isNode && process.domain;\n    microtask(domain ? domain.bind(fn) : fn);\n  }\n});\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = !fails(function () {\n  var url = new URL('b?a=1&b=2&c=3', 'http://a');\n  var searchParams = url.searchParams;\n  var result = '';\n  url.pathname = 'c%20d';\n  searchParams.forEach(function (value, key) {\n    searchParams['delete']('b');\n    result += key + value;\n  });\n  return (IS_PURE && !url.toJSON)\n    || !searchParams.sort\n    || url.href !== 'http://a/c%20d?a=1&c=3'\n    || searchParams.get('c') !== '3'\n    || String(new URLSearchParams('?a=1')) !== 'a=1'\n    || !searchParams[ITERATOR]\n    // throws in Edge\n    || new URL('https://a@b').username !== 'a'\n    || new URLSearchParams(new URLSearchParams('a=b')).get('a') !== 'b'\n    // not punycoded in Edge\n    || new URL('http://ÑÐµÑÑ').host !== 'xn--e1aybc'\n    // not escaped in Chrome 62-\n    || new URL('http://a#Ð±').hash !== '#%D0%B1'\n    // fails in Chrome 66-\n    || result !== 'a1c3'\n    // throws in Safari\n    || new URL('http://x', undefined).host !== 'x';\n});\n","'use strict';\n// based on https://github.com/bestiejs/punycode.js/blob/master/punycode.js\nvar maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\nvar base = 36;\nvar tMin = 1;\nvar tMax = 26;\nvar skew = 38;\nvar damp = 700;\nvar initialBias = 72;\nvar initialN = 128; // 0x80\nvar delimiter = '-'; // '\\x2D'\nvar regexNonASCII = /[^\\0-\\u007E]/; // non-ASCII chars\nvar regexSeparators = /[.\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\nvar OVERFLOW_ERROR = 'Overflow: input needs wider integers to process';\nvar baseMinusTMin = base - tMin;\nvar floor = Math.floor;\nvar stringFromCharCode = String.fromCharCode;\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n */\nvar ucs2decode = function (string) {\n  var output = [];\n  var counter = 0;\n  var length = string.length;\n  while (counter < length) {\n    var value = string.charCodeAt(counter++);\n    if (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n      // It's a high surrogate, and there is a next character.\n      var extra = string.charCodeAt(counter++);\n      if ((extra & 0xFC00) == 0xDC00) { // Low surrogate.\n        output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n      } else {\n        // It's an unmatched surrogate; only append this code unit, in case the\n        // next code unit is the high surrogate of a surrogate pair.\n        output.push(value);\n        counter--;\n      }\n    } else {\n      output.push(value);\n    }\n  }\n  return output;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n */\nvar digitToBasic = function (digit) {\n  //  0..25 map to ASCII a..z or A..Z\n  // 26..35 map to ASCII 0..9\n  return digit + 22 + 75 * (digit < 26);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n */\nvar adapt = function (delta, numPoints, firstTime) {\n  var k = 0;\n  delta = firstTime ? floor(delta / damp) : delta >> 1;\n  delta += floor(delta / numPoints);\n  for (; delta > baseMinusTMin * tMax >> 1; k += base) {\n    delta = floor(delta / baseMinusTMin);\n  }\n  return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n */\n// eslint-disable-next-line  max-statements\nvar encode = function (input) {\n  var output = [];\n\n  // Convert the input in UCS-2 to an array of Unicode code points.\n  input = ucs2decode(input);\n\n  // Cache the length.\n  var inputLength = input.length;\n\n  // Initialize the state.\n  var n = initialN;\n  var delta = 0;\n  var bias = initialBias;\n  var i, currentValue;\n\n  // Handle the basic code points.\n  for (i = 0; i < input.length; i++) {\n    currentValue = input[i];\n    if (currentValue < 0x80) {\n      output.push(stringFromCharCode(currentValue));\n    }\n  }\n\n  var basicLength = output.length; // number of basic code points.\n  var handledCPCount = basicLength; // number of code points that have been handled;\n\n  // Finish the basic string with a delimiter unless it's empty.\n  if (basicLength) {\n    output.push(delimiter);\n  }\n\n  // Main encoding loop:\n  while (handledCPCount < inputLength) {\n    // All non-basic code points < n have been handled already. Find the next larger one:\n    var m = maxInt;\n    for (i = 0; i < input.length; i++) {\n      currentValue = input[i];\n      if (currentValue >= n && currentValue < m) {\n        m = currentValue;\n      }\n    }\n\n    // Increase `delta` enough to advance the decoder's <n,i> state to <m,0>, but guard against overflow.\n    var handledCPCountPlusOne = handledCPCount + 1;\n    if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n      throw RangeError(OVERFLOW_ERROR);\n    }\n\n    delta += (m - n) * handledCPCountPlusOne;\n    n = m;\n\n    for (i = 0; i < input.length; i++) {\n      currentValue = input[i];\n      if (currentValue < n && ++delta > maxInt) {\n        throw RangeError(OVERFLOW_ERROR);\n      }\n      if (currentValue == n) {\n        // Represent delta as a generalized variable-length integer.\n        var q = delta;\n        for (var k = base; /* no condition */; k += base) {\n          var t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n          if (q < t) break;\n          var qMinusT = q - t;\n          var baseMinusT = base - t;\n          output.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT)));\n          q = floor(qMinusT / baseMinusT);\n        }\n\n        output.push(stringFromCharCode(digitToBasic(q)));\n        bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n        delta = 0;\n        ++handledCPCount;\n      }\n    }\n\n    ++delta;\n    ++n;\n  }\n  return output.join('');\n};\n\nmodule.exports = function (input) {\n  var encoded = [];\n  var labels = input.toLowerCase().replace(regexSeparators, '\\u002E').split('.');\n  var i, label;\n  for (i = 0; i < labels.length; i++) {\n    label = labels[i];\n    encoded.push(regexNonASCII.test(label) ? 'xn--' + encode(label) : label);\n  }\n  return encoded.join('.');\n};\n","var anObject = require('../internals/an-object');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nmodule.exports = function (it) {\n  var iteratorMethod = getIteratorMethod(it);\n  if (typeof iteratorMethod != 'function') {\n    throw TypeError(String(it) + ' is not iterable');\n  } return anObject(iteratorMethod.call(it));\n};\n","'use strict';\n// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\nrequire('../modules/es.array.iterator');\nvar $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar USE_NATIVE_URL = require('../internals/native-url');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar InternalStateModule = require('../internals/internal-state');\nvar anInstance = require('../internals/an-instance');\nvar hasOwn = require('../internals/has');\nvar bind = require('../internals/function-bind-context');\nvar classof = require('../internals/classof');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $fetch = getBuiltIn('fetch');\nvar Headers = getBuiltIn('Headers');\nvar ITERATOR = wellKnownSymbol('iterator');\nvar URL_SEARCH_PARAMS = 'URLSearchParams';\nvar URL_SEARCH_PARAMS_ITERATOR = URL_SEARCH_PARAMS + 'Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalParamsState = InternalStateModule.getterFor(URL_SEARCH_PARAMS);\nvar getInternalIteratorState = InternalStateModule.getterFor(URL_SEARCH_PARAMS_ITERATOR);\n\nvar plus = /\\+/g;\nvar sequences = Array(4);\n\nvar percentSequence = function (bytes) {\n  return sequences[bytes - 1] || (sequences[bytes - 1] = RegExp('((?:%[\\\\da-f]{2}){' + bytes + '})', 'gi'));\n};\n\nvar percentDecode = function (sequence) {\n  try {\n    return decodeURIComponent(sequence);\n  } catch (error) {\n    return sequence;\n  }\n};\n\nvar deserialize = function (it) {\n  var result = it.replace(plus, ' ');\n  var bytes = 4;\n  try {\n    return decodeURIComponent(result);\n  } catch (error) {\n    while (bytes) {\n      result = result.replace(percentSequence(bytes--), percentDecode);\n    }\n    return result;\n  }\n};\n\nvar find = /[!'()~]|%20/g;\n\nvar replace = {\n  '!': '%21',\n  \"'\": '%27',\n  '(': '%28',\n  ')': '%29',\n  '~': '%7E',\n  '%20': '+'\n};\n\nvar replacer = function (match) {\n  return replace[match];\n};\n\nvar serialize = function (it) {\n  return encodeURIComponent(it).replace(find, replacer);\n};\n\nvar parseSearchParams = function (result, query) {\n  if (query) {\n    var attributes = query.split('&');\n    var index = 0;\n    var attribute, entry;\n    while (index < attributes.length) {\n      attribute = attributes[index++];\n      if (attribute.length) {\n        entry = attribute.split('=');\n        result.push({\n          key: deserialize(entry.shift()),\n          value: deserialize(entry.join('='))\n        });\n      }\n    }\n  }\n};\n\nvar updateSearchParams = function (query) {\n  this.entries.length = 0;\n  parseSearchParams(this.entries, query);\n};\n\nvar validateArgumentsLength = function (passed, required) {\n  if (passed < required) throw TypeError('Not enough arguments');\n};\n\nvar URLSearchParamsIterator = createIteratorConstructor(function Iterator(params, kind) {\n  setInternalState(this, {\n    type: URL_SEARCH_PARAMS_ITERATOR,\n    iterator: getIterator(getInternalParamsState(params).entries),\n    kind: kind\n  });\n}, 'Iterator', function next() {\n  var state = getInternalIteratorState(this);\n  var kind = state.kind;\n  var step = state.iterator.next();\n  var entry = step.value;\n  if (!step.done) {\n    step.value = kind === 'keys' ? entry.key : kind === 'values' ? entry.value : [entry.key, entry.value];\n  } return step;\n});\n\n// `URLSearchParams` constructor\n// https://url.spec.whatwg.org/#interface-urlsearchparams\nvar URLSearchParamsConstructor = function URLSearchParams(/* init */) {\n  anInstance(this, URLSearchParamsConstructor, URL_SEARCH_PARAMS);\n  var init = arguments.length > 0 ? arguments[0] : undefined;\n  var that = this;\n  var entries = [];\n  var iteratorMethod, iterator, next, step, entryIterator, entryNext, first, second, key;\n\n  setInternalState(that, {\n    type: URL_SEARCH_PARAMS,\n    entries: entries,\n    updateURL: function () { /* empty */ },\n    updateSearchParams: updateSearchParams\n  });\n\n  if (init !== undefined) {\n    if (isObject(init)) {\n      iteratorMethod = getIteratorMethod(init);\n      if (typeof iteratorMethod === 'function') {\n        iterator = iteratorMethod.call(init);\n        next = iterator.next;\n        while (!(step = next.call(iterator)).done) {\n          entryIterator = getIterator(anObject(step.value));\n          entryNext = entryIterator.next;\n          if (\n            (first = entryNext.call(entryIterator)).done ||\n            (second = entryNext.call(entryIterator)).done ||\n            !entryNext.call(entryIterator).done\n          ) throw TypeError('Expected sequence with length 2');\n          entries.push({ key: first.value + '', value: second.value + '' });\n        }\n      } else for (key in init) if (hasOwn(init, key)) entries.push({ key: key, value: init[key] + '' });\n    } else {\n      parseSearchParams(entries, typeof init === 'string' ? init.charAt(0) === '?' ? init.slice(1) : init : init + '');\n    }\n  }\n};\n\nvar URLSearchParamsPrototype = URLSearchParamsConstructor.prototype;\n\nredefineAll(URLSearchParamsPrototype, {\n  // `URLSearchParams.prototype.appent` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-append\n  append: function append(name, value) {\n    validateArgumentsLength(arguments.length, 2);\n    var state = getInternalParamsState(this);\n    state.entries.push({ key: name + '', value: value + '' });\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.delete` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-delete\n  'delete': function (name) {\n    validateArgumentsLength(arguments.length, 1);\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    var key = name + '';\n    var index = 0;\n    while (index < entries.length) {\n      if (entries[index].key === key) entries.splice(index, 1);\n      else index++;\n    }\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.get` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-get\n  get: function get(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var index = 0;\n    for (; index < entries.length; index++) {\n      if (entries[index].key === key) return entries[index].value;\n    }\n    return null;\n  },\n  // `URLSearchParams.prototype.getAll` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-getall\n  getAll: function getAll(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var result = [];\n    var index = 0;\n    for (; index < entries.length; index++) {\n      if (entries[index].key === key) result.push(entries[index].value);\n    }\n    return result;\n  },\n  // `URLSearchParams.prototype.has` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-has\n  has: function has(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var index = 0;\n    while (index < entries.length) {\n      if (entries[index++].key === key) return true;\n    }\n    return false;\n  },\n  // `URLSearchParams.prototype.set` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-set\n  set: function set(name, value) {\n    validateArgumentsLength(arguments.length, 1);\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    var found = false;\n    var key = name + '';\n    var val = value + '';\n    var index = 0;\n    var entry;\n    for (; index < entries.length; index++) {\n      entry = entries[index];\n      if (entry.key === key) {\n        if (found) entries.splice(index--, 1);\n        else {\n          found = true;\n          entry.value = val;\n        }\n      }\n    }\n    if (!found) entries.push({ key: key, value: val });\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.sort` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-sort\n  sort: function sort() {\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    // Array#sort is not stable in some engines\n    var slice = entries.slice();\n    var entry, entriesIndex, sliceIndex;\n    entries.length = 0;\n    for (sliceIndex = 0; sliceIndex < slice.length; sliceIndex++) {\n      entry = slice[sliceIndex];\n      for (entriesIndex = 0; entriesIndex < sliceIndex; entriesIndex++) {\n        if (entries[entriesIndex].key > entry.key) {\n          entries.splice(entriesIndex, 0, entry);\n          break;\n        }\n      }\n      if (entriesIndex === sliceIndex) entries.push(entry);\n    }\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.forEach` method\n  forEach: function forEach(callback /* , thisArg */) {\n    var entries = getInternalParamsState(this).entries;\n    var boundFunction = bind(callback, arguments.length > 1 ? arguments[1] : undefined, 3);\n    var index = 0;\n    var entry;\n    while (index < entries.length) {\n      entry = entries[index++];\n      boundFunction(entry.value, entry.key, this);\n    }\n  },\n  // `URLSearchParams.prototype.keys` method\n  keys: function keys() {\n    return new URLSearchParamsIterator(this, 'keys');\n  },\n  // `URLSearchParams.prototype.values` method\n  values: function values() {\n    return new URLSearchParamsIterator(this, 'values');\n  },\n  // `URLSearchParams.prototype.entries` method\n  entries: function entries() {\n    return new URLSearchParamsIterator(this, 'entries');\n  }\n}, { enumerable: true });\n\n// `URLSearchParams.prototype[@@iterator]` method\nredefine(URLSearchParamsPrototype, ITERATOR, URLSearchParamsPrototype.entries);\n\n// `URLSearchParams.prototype.toString` method\n// https://url.spec.whatwg.org/#urlsearchparams-stringification-behavior\nredefine(URLSearchParamsPrototype, 'toString', function toString() {\n  var entries = getInternalParamsState(this).entries;\n  var result = [];\n  var index = 0;\n  var entry;\n  while (index < entries.length) {\n    entry = entries[index++];\n    result.push(serialize(entry.key) + '=' + serialize(entry.value));\n  } return result.join('&');\n}, { enumerable: true });\n\nsetToStringTag(URLSearchParamsConstructor, URL_SEARCH_PARAMS);\n\n$({ global: true, forced: !USE_NATIVE_URL }, {\n  URLSearchParams: URLSearchParamsConstructor\n});\n\n// Wrap `fetch` for correct work with polyfilled `URLSearchParams`\n// https://github.com/zloirock/core-js/issues/674\nif (!USE_NATIVE_URL && typeof $fetch == 'function' && typeof Headers == 'function') {\n  $({ global: true, enumerable: true, forced: true }, {\n    fetch: function fetch(input /* , init */) {\n      var args = [input];\n      var init, body, headers;\n      if (arguments.length > 1) {\n        init = arguments[1];\n        if (isObject(init)) {\n          body = init.body;\n          if (classof(body) === URL_SEARCH_PARAMS) {\n            headers = init.headers ? new Headers(init.headers) : new Headers();\n            if (!headers.has('content-type')) {\n              headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n            }\n            init = create(init, {\n              body: createPropertyDescriptor(0, String(body)),\n              headers: createPropertyDescriptor(0, headers)\n            });\n          }\n        }\n        args.push(init);\n      } return $fetch.apply(this, args);\n    }\n  });\n}\n\nmodule.exports = {\n  URLSearchParams: URLSearchParamsConstructor,\n  getState: getInternalParamsState\n};\n","'use strict';\n// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\nrequire('../modules/es.string.iterator');\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar USE_NATIVE_URL = require('../internals/native-url');\nvar global = require('../internals/global');\nvar defineProperties = require('../internals/object-define-properties');\nvar redefine = require('../internals/redefine');\nvar anInstance = require('../internals/an-instance');\nvar has = require('../internals/has');\nvar assign = require('../internals/object-assign');\nvar arrayFrom = require('../internals/array-from');\nvar codeAt = require('../internals/string-multibyte').codeAt;\nvar toASCII = require('../internals/string-punycode-to-ascii');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar URLSearchParamsModule = require('../modules/web.url-search-params');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar NativeURL = global.URL;\nvar URLSearchParams = URLSearchParamsModule.URLSearchParams;\nvar getInternalSearchParamsState = URLSearchParamsModule.getState;\nvar setInternalState = InternalStateModule.set;\nvar getInternalURLState = InternalStateModule.getterFor('URL');\nvar floor = Math.floor;\nvar pow = Math.pow;\n\nvar INVALID_AUTHORITY = 'Invalid authority';\nvar INVALID_SCHEME = 'Invalid scheme';\nvar INVALID_HOST = 'Invalid host';\nvar INVALID_PORT = 'Invalid port';\n\nvar ALPHA = /[A-Za-z]/;\nvar ALPHANUMERIC = /[\\d+-.A-Za-z]/;\nvar DIGIT = /\\d/;\nvar HEX_START = /^(0x|0X)/;\nvar OCT = /^[0-7]+$/;\nvar DEC = /^\\d+$/;\nvar HEX = /^[\\dA-Fa-f]+$/;\n// eslint-disable-next-line no-control-regex\nvar FORBIDDEN_HOST_CODE_POINT = /[\\u0000\\u0009\\u000A\\u000D #%/:?@[\\\\]]/;\n// eslint-disable-next-line no-control-regex\nvar FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT = /[\\u0000\\u0009\\u000A\\u000D #/:?@[\\\\]]/;\n// eslint-disable-next-line no-control-regex\nvar LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE = /^[\\u0000-\\u001F ]+|[\\u0000-\\u001F ]+$/g;\n// eslint-disable-next-line no-control-regex\nvar TAB_AND_NEW_LINE = /[\\u0009\\u000A\\u000D]/g;\nvar EOF;\n\nvar parseHost = function (url, input) {\n  var result, codePoints, index;\n  if (input.charAt(0) == '[') {\n    if (input.charAt(input.length - 1) != ']') return INVALID_HOST;\n    result = parseIPv6(input.slice(1, -1));\n    if (!result) return INVALID_HOST;\n    url.host = result;\n  // opaque host\n  } else if (!isSpecial(url)) {\n    if (FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT.test(input)) return INVALID_HOST;\n    result = '';\n    codePoints = arrayFrom(input);\n    for (index = 0; index < codePoints.length; index++) {\n      result += percentEncode(codePoints[index], C0ControlPercentEncodeSet);\n    }\n    url.host = result;\n  } else {\n    input = toASCII(input);\n    if (FORBIDDEN_HOST_CODE_POINT.test(input)) return INVALID_HOST;\n    result = parseIPv4(input);\n    if (result === null) return INVALID_HOST;\n    url.host = result;\n  }\n};\n\nvar parseIPv4 = function (input) {\n  var parts = input.split('.');\n  var partsLength, numbers, index, part, radix, number, ipv4;\n  if (parts.length && parts[parts.length - 1] == '') {\n    parts.pop();\n  }\n  partsLength = parts.length;\n  if (partsLength > 4) return input;\n  numbers = [];\n  for (index = 0; index < partsLength; index++) {\n    part = parts[index];\n    if (part == '') return input;\n    radix = 10;\n    if (part.length > 1 && part.charAt(0) == '0') {\n      radix = HEX_START.test(part) ? 16 : 8;\n      part = part.slice(radix == 8 ? 1 : 2);\n    }\n    if (part === '') {\n      number = 0;\n    } else {\n      if (!(radix == 10 ? DEC : radix == 8 ? OCT : HEX).test(part)) return input;\n      number = parseInt(part, radix);\n    }\n    numbers.push(number);\n  }\n  for (index = 0; index < partsLength; index++) {\n    number = numbers[index];\n    if (index == partsLength - 1) {\n      if (number >= pow(256, 5 - partsLength)) return null;\n    } else if (number > 255) return null;\n  }\n  ipv4 = numbers.pop();\n  for (index = 0; index < numbers.length; index++) {\n    ipv4 += numbers[index] * pow(256, 3 - index);\n  }\n  return ipv4;\n};\n\n// eslint-disable-next-line max-statements\nvar parseIPv6 = function (input) {\n  var address = [0, 0, 0, 0, 0, 0, 0, 0];\n  var pieceIndex = 0;\n  var compress = null;\n  var pointer = 0;\n  var value, length, numbersSeen, ipv4Piece, number, swaps, swap;\n\n  var char = function () {\n    return input.charAt(pointer);\n  };\n\n  if (char() == ':') {\n    if (input.charAt(1) != ':') return;\n    pointer += 2;\n    pieceIndex++;\n    compress = pieceIndex;\n  }\n  while (char()) {\n    if (pieceIndex == 8) return;\n    if (char() == ':') {\n      if (compress !== null) return;\n      pointer++;\n      pieceIndex++;\n      compress = pieceIndex;\n      continue;\n    }\n    value = length = 0;\n    while (length < 4 && HEX.test(char())) {\n      value = value * 16 + parseInt(char(), 16);\n      pointer++;\n      length++;\n    }\n    if (char() == '.') {\n      if (length == 0) return;\n      pointer -= length;\n      if (pieceIndex > 6) return;\n      numbersSeen = 0;\n      while (char()) {\n        ipv4Piece = null;\n        if (numbersSeen > 0) {\n          if (char() == '.' && numbersSeen < 4) pointer++;\n          else return;\n        }\n        if (!DIGIT.test(char())) return;\n        while (DIGIT.test(char())) {\n          number = parseInt(char(), 10);\n          if (ipv4Piece === null) ipv4Piece = number;\n          else if (ipv4Piece == 0) return;\n          else ipv4Piece = ipv4Piece * 10 + number;\n          if (ipv4Piece > 255) return;\n          pointer++;\n        }\n        address[pieceIndex] = address[pieceIndex] * 256 + ipv4Piece;\n        numbersSeen++;\n        if (numbersSeen == 2 || numbersSeen == 4) pieceIndex++;\n      }\n      if (numbersSeen != 4) return;\n      break;\n    } else if (char() == ':') {\n      pointer++;\n      if (!char()) return;\n    } else if (char()) return;\n    address[pieceIndex++] = value;\n  }\n  if (compress !== null) {\n    swaps = pieceIndex - compress;\n    pieceIndex = 7;\n    while (pieceIndex != 0 && swaps > 0) {\n      swap = address[pieceIndex];\n      address[pieceIndex--] = address[compress + swaps - 1];\n      address[compress + --swaps] = swap;\n    }\n  } else if (pieceIndex != 8) return;\n  return address;\n};\n\nvar findLongestZeroSequence = function (ipv6) {\n  var maxIndex = null;\n  var maxLength = 1;\n  var currStart = null;\n  var currLength = 0;\n  var index = 0;\n  for (; index < 8; index++) {\n    if (ipv6[index] !== 0) {\n      if (currLength > maxLength) {\n        maxIndex = currStart;\n        maxLength = currLength;\n      }\n      currStart = null;\n      currLength = 0;\n    } else {\n      if (currStart === null) currStart = index;\n      ++currLength;\n    }\n  }\n  if (currLength > maxLength) {\n    maxIndex = currStart;\n    maxLength = currLength;\n  }\n  return maxIndex;\n};\n\nvar serializeHost = function (host) {\n  var result, index, compress, ignore0;\n  // ipv4\n  if (typeof host == 'number') {\n    result = [];\n    for (index = 0; index < 4; index++) {\n      result.unshift(host % 256);\n      host = floor(host / 256);\n    } return result.join('.');\n  // ipv6\n  } else if (typeof host == 'object') {\n    result = '';\n    compress = findLongestZeroSequence(host);\n    for (index = 0; index < 8; index++) {\n      if (ignore0 && host[index] === 0) continue;\n      if (ignore0) ignore0 = false;\n      if (compress === index) {\n        result += index ? ':' : '::';\n        ignore0 = true;\n      } else {\n        result += host[index].toString(16);\n        if (index < 7) result += ':';\n      }\n    }\n    return '[' + result + ']';\n  } return host;\n};\n\nvar C0ControlPercentEncodeSet = {};\nvar fragmentPercentEncodeSet = assign({}, C0ControlPercentEncodeSet, {\n  ' ': 1, '\"': 1, '<': 1, '>': 1, '`': 1\n});\nvar pathPercentEncodeSet = assign({}, fragmentPercentEncodeSet, {\n  '#': 1, '?': 1, '{': 1, '}': 1\n});\nvar userinfoPercentEncodeSet = assign({}, pathPercentEncodeSet, {\n  '/': 1, ':': 1, ';': 1, '=': 1, '@': 1, '[': 1, '\\\\': 1, ']': 1, '^': 1, '|': 1\n});\n\nvar percentEncode = function (char, set) {\n  var code = codeAt(char, 0);\n  return code > 0x20 && code < 0x7F && !has(set, char) ? char : encodeURIComponent(char);\n};\n\nvar specialSchemes = {\n  ftp: 21,\n  file: null,\n  http: 80,\n  https: 443,\n  ws: 80,\n  wss: 443\n};\n\nvar isSpecial = function (url) {\n  return has(specialSchemes, url.scheme);\n};\n\nvar includesCredentials = function (url) {\n  return url.username != '' || url.password != '';\n};\n\nvar cannotHaveUsernamePasswordPort = function (url) {\n  return !url.host || url.cannotBeABaseURL || url.scheme == 'file';\n};\n\nvar isWindowsDriveLetter = function (string, normalized) {\n  var second;\n  return string.length == 2 && ALPHA.test(string.charAt(0))\n    && ((second = string.charAt(1)) == ':' || (!normalized && second == '|'));\n};\n\nvar startsWithWindowsDriveLetter = function (string) {\n  var third;\n  return string.length > 1 && isWindowsDriveLetter(string.slice(0, 2)) && (\n    string.length == 2 ||\n    ((third = string.charAt(2)) === '/' || third === '\\\\' || third === '?' || third === '#')\n  );\n};\n\nvar shortenURLsPath = function (url) {\n  var path = url.path;\n  var pathSize = path.length;\n  if (pathSize && (url.scheme != 'file' || pathSize != 1 || !isWindowsDriveLetter(path[0], true))) {\n    path.pop();\n  }\n};\n\nvar isSingleDot = function (segment) {\n  return segment === '.' || segment.toLowerCase() === '%2e';\n};\n\nvar isDoubleDot = function (segment) {\n  segment = segment.toLowerCase();\n  return segment === '..' || segment === '%2e.' || segment === '.%2e' || segment === '%2e%2e';\n};\n\n// States:\nvar SCHEME_START = {};\nvar SCHEME = {};\nvar NO_SCHEME = {};\nvar SPECIAL_RELATIVE_OR_AUTHORITY = {};\nvar PATH_OR_AUTHORITY = {};\nvar RELATIVE = {};\nvar RELATIVE_SLASH = {};\nvar SPECIAL_AUTHORITY_SLASHES = {};\nvar SPECIAL_AUTHORITY_IGNORE_SLASHES = {};\nvar AUTHORITY = {};\nvar HOST = {};\nvar HOSTNAME = {};\nvar PORT = {};\nvar FILE = {};\nvar FILE_SLASH = {};\nvar FILE_HOST = {};\nvar PATH_START = {};\nvar PATH = {};\nvar CANNOT_BE_A_BASE_URL_PATH = {};\nvar QUERY = {};\nvar FRAGMENT = {};\n\n// eslint-disable-next-line max-statements\nvar parseURL = function (url, input, stateOverride, base) {\n  var state = stateOverride || SCHEME_START;\n  var pointer = 0;\n  var buffer = '';\n  var seenAt = false;\n  var seenBracket = false;\n  var seenPasswordToken = false;\n  var codePoints, char, bufferCodePoints, failure;\n\n  if (!stateOverride) {\n    url.scheme = '';\n    url.username = '';\n    url.password = '';\n    url.host = null;\n    url.port = null;\n    url.path = [];\n    url.query = null;\n    url.fragment = null;\n    url.cannotBeABaseURL = false;\n    input = input.replace(LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE, '');\n  }\n\n  input = input.replace(TAB_AND_NEW_LINE, '');\n\n  codePoints = arrayFrom(input);\n\n  while (pointer <= codePoints.length) {\n    char = codePoints[pointer];\n    switch (state) {\n      case SCHEME_START:\n        if (char && ALPHA.test(char)) {\n          buffer += char.toLowerCase();\n          state = SCHEME;\n        } else if (!stateOverride) {\n          state = NO_SCHEME;\n          continue;\n        } else return INVALID_SCHEME;\n        break;\n\n      case SCHEME:\n        if (char && (ALPHANUMERIC.test(char) || char == '+' || char == '-' || char == '.')) {\n          buffer += char.toLowerCase();\n        } else if (char == ':') {\n          if (stateOverride && (\n            (isSpecial(url) != has(specialSchemes, buffer)) ||\n            (buffer == 'file' && (includesCredentials(url) || url.port !== null)) ||\n            (url.scheme == 'file' && !url.host)\n          )) return;\n          url.scheme = buffer;\n          if (stateOverride) {\n            if (isSpecial(url) && specialSchemes[url.scheme] == url.port) url.port = null;\n            return;\n          }\n          buffer = '';\n          if (url.scheme == 'file') {\n            state = FILE;\n          } else if (isSpecial(url) && base && base.scheme == url.scheme) {\n            state = SPECIAL_RELATIVE_OR_AUTHORITY;\n          } else if (isSpecial(url)) {\n            state = SPECIAL_AUTHORITY_SLASHES;\n          } else if (codePoints[pointer + 1] == '/') {\n            state = PATH_OR_AUTHORITY;\n            pointer++;\n          } else {\n            url.cannotBeABaseURL = true;\n            url.path.push('');\n            state = CANNOT_BE_A_BASE_URL_PATH;\n          }\n        } else if (!stateOverride) {\n          buffer = '';\n          state = NO_SCHEME;\n          pointer = 0;\n          continue;\n        } else return INVALID_SCHEME;\n        break;\n\n      case NO_SCHEME:\n        if (!base || (base.cannotBeABaseURL && char != '#')) return INVALID_SCHEME;\n        if (base.cannotBeABaseURL && char == '#') {\n          url.scheme = base.scheme;\n          url.path = base.path.slice();\n          url.query = base.query;\n          url.fragment = '';\n          url.cannotBeABaseURL = true;\n          state = FRAGMENT;\n          break;\n        }\n        state = base.scheme == 'file' ? FILE : RELATIVE;\n        continue;\n\n      case SPECIAL_RELATIVE_OR_AUTHORITY:\n        if (char == '/' && codePoints[pointer + 1] == '/') {\n          state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n          pointer++;\n        } else {\n          state = RELATIVE;\n          continue;\n        } break;\n\n      case PATH_OR_AUTHORITY:\n        if (char == '/') {\n          state = AUTHORITY;\n          break;\n        } else {\n          state = PATH;\n          continue;\n        }\n\n      case RELATIVE:\n        url.scheme = base.scheme;\n        if (char == EOF) {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = base.query;\n        } else if (char == '/' || (char == '\\\\' && isSpecial(url))) {\n          state = RELATIVE_SLASH;\n        } else if (char == '?') {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = '';\n          state = QUERY;\n        } else if (char == '#') {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = base.query;\n          url.fragment = '';\n          state = FRAGMENT;\n        } else {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.path.pop();\n          state = PATH;\n          continue;\n        } break;\n\n      case RELATIVE_SLASH:\n        if (isSpecial(url) && (char == '/' || char == '\\\\')) {\n          state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n        } else if (char == '/') {\n          state = AUTHORITY;\n        } else {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          state = PATH;\n          continue;\n        } break;\n\n      case SPECIAL_AUTHORITY_SLASHES:\n        state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n        if (char != '/' || buffer.charAt(pointer + 1) != '/') continue;\n        pointer++;\n        break;\n\n      case SPECIAL_AUTHORITY_IGNORE_SLASHES:\n        if (char != '/' && char != '\\\\') {\n          state = AUTHORITY;\n          continue;\n        } break;\n\n      case AUTHORITY:\n        if (char == '@') {\n          if (seenAt) buffer = '%40' + buffer;\n          seenAt = true;\n          bufferCodePoints = arrayFrom(buffer);\n          for (var i = 0; i < bufferCodePoints.length; i++) {\n            var codePoint = bufferCodePoints[i];\n            if (codePoint == ':' && !seenPasswordToken) {\n              seenPasswordToken = true;\n              continue;\n            }\n            var encodedCodePoints = percentEncode(codePoint, userinfoPercentEncodeSet);\n            if (seenPasswordToken) url.password += encodedCodePoints;\n            else url.username += encodedCodePoints;\n          }\n          buffer = '';\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url))\n        ) {\n          if (seenAt && buffer == '') return INVALID_AUTHORITY;\n          pointer -= arrayFrom(buffer).length + 1;\n          buffer = '';\n          state = HOST;\n        } else buffer += char;\n        break;\n\n      case HOST:\n      case HOSTNAME:\n        if (stateOverride && url.scheme == 'file') {\n          state = FILE_HOST;\n          continue;\n        } else if (char == ':' && !seenBracket) {\n          if (buffer == '') return INVALID_HOST;\n          failure = parseHost(url, buffer);\n          if (failure) return failure;\n          buffer = '';\n          state = PORT;\n          if (stateOverride == HOSTNAME) return;\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url))\n        ) {\n          if (isSpecial(url) && buffer == '') return INVALID_HOST;\n          if (stateOverride && buffer == '' && (includesCredentials(url) || url.port !== null)) return;\n          failure = parseHost(url, buffer);\n          if (failure) return failure;\n          buffer = '';\n          state = PATH_START;\n          if (stateOverride) return;\n          continue;\n        } else {\n          if (char == '[') seenBracket = true;\n          else if (char == ']') seenBracket = false;\n          buffer += char;\n        } break;\n\n      case PORT:\n        if (DIGIT.test(char)) {\n          buffer += char;\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url)) ||\n          stateOverride\n        ) {\n          if (buffer != '') {\n            var port = parseInt(buffer, 10);\n            if (port > 0xFFFF) return INVALID_PORT;\n            url.port = (isSpecial(url) && port === specialSchemes[url.scheme]) ? null : port;\n            buffer = '';\n          }\n          if (stateOverride) return;\n          state = PATH_START;\n          continue;\n        } else return INVALID_PORT;\n        break;\n\n      case FILE:\n        url.scheme = 'file';\n        if (char == '/' || char == '\\\\') state = FILE_SLASH;\n        else if (base && base.scheme == 'file') {\n          if (char == EOF) {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = base.query;\n          } else if (char == '?') {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = '';\n            state = QUERY;\n          } else if (char == '#') {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = base.query;\n            url.fragment = '';\n            state = FRAGMENT;\n          } else {\n            if (!startsWithWindowsDriveLetter(codePoints.slice(pointer).join(''))) {\n              url.host = base.host;\n              url.path = base.path.slice();\n              shortenURLsPath(url);\n            }\n            state = PATH;\n            continue;\n          }\n        } else {\n          state = PATH;\n          continue;\n        } break;\n\n      case FILE_SLASH:\n        if (char == '/' || char == '\\\\') {\n          state = FILE_HOST;\n          break;\n        }\n        if (base && base.scheme == 'file' && !startsWithWindowsDriveLetter(codePoints.slice(pointer).join(''))) {\n          if (isWindowsDriveLetter(base.path[0], true)) url.path.push(base.path[0]);\n          else url.host = base.host;\n        }\n        state = PATH;\n        continue;\n\n      case FILE_HOST:\n        if (char == EOF || char == '/' || char == '\\\\' || char == '?' || char == '#') {\n          if (!stateOverride && isWindowsDriveLetter(buffer)) {\n            state = PATH;\n          } else if (buffer == '') {\n            url.host = '';\n            if (stateOverride) return;\n            state = PATH_START;\n          } else {\n            failure = parseHost(url, buffer);\n            if (failure) return failure;\n            if (url.host == 'localhost') url.host = '';\n            if (stateOverride) return;\n            buffer = '';\n            state = PATH_START;\n          } continue;\n        } else buffer += char;\n        break;\n\n      case PATH_START:\n        if (isSpecial(url)) {\n          state = PATH;\n          if (char != '/' && char != '\\\\') continue;\n        } else if (!stateOverride && char == '?') {\n          url.query = '';\n          state = QUERY;\n        } else if (!stateOverride && char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          state = PATH;\n          if (char != '/') continue;\n        } break;\n\n      case PATH:\n        if (\n          char == EOF || char == '/' ||\n          (char == '\\\\' && isSpecial(url)) ||\n          (!stateOverride && (char == '?' || char == '#'))\n        ) {\n          if (isDoubleDot(buffer)) {\n            shortenURLsPath(url);\n            if (char != '/' && !(char == '\\\\' && isSpecial(url))) {\n              url.path.push('');\n            }\n          } else if (isSingleDot(buffer)) {\n            if (char != '/' && !(char == '\\\\' && isSpecial(url))) {\n              url.path.push('');\n            }\n          } else {\n            if (url.scheme == 'file' && !url.path.length && isWindowsDriveLetter(buffer)) {\n              if (url.host) url.host = '';\n              buffer = buffer.charAt(0) + ':'; // normalize windows drive letter\n            }\n            url.path.push(buffer);\n          }\n          buffer = '';\n          if (url.scheme == 'file' && (char == EOF || char == '?' || char == '#')) {\n            while (url.path.length > 1 && url.path[0] === '') {\n              url.path.shift();\n            }\n          }\n          if (char == '?') {\n            url.query = '';\n            state = QUERY;\n          } else if (char == '#') {\n            url.fragment = '';\n            state = FRAGMENT;\n          }\n        } else {\n          buffer += percentEncode(char, pathPercentEncodeSet);\n        } break;\n\n      case CANNOT_BE_A_BASE_URL_PATH:\n        if (char == '?') {\n          url.query = '';\n          state = QUERY;\n        } else if (char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          url.path[0] += percentEncode(char, C0ControlPercentEncodeSet);\n        } break;\n\n      case QUERY:\n        if (!stateOverride && char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          if (char == \"'\" && isSpecial(url)) url.query += '%27';\n          else if (char == '#') url.query += '%23';\n          else url.query += percentEncode(char, C0ControlPercentEncodeSet);\n        } break;\n\n      case FRAGMENT:\n        if (char != EOF) url.fragment += percentEncode(char, fragmentPercentEncodeSet);\n        break;\n    }\n\n    pointer++;\n  }\n};\n\n// `URL` constructor\n// https://url.spec.whatwg.org/#url-class\nvar URLConstructor = function URL(url /* , base */) {\n  var that = anInstance(this, URLConstructor, 'URL');\n  var base = arguments.length > 1 ? arguments[1] : undefined;\n  var urlString = String(url);\n  var state = setInternalState(that, { type: 'URL' });\n  var baseState, failure;\n  if (base !== undefined) {\n    if (base instanceof URLConstructor) baseState = getInternalURLState(base);\n    else {\n      failure = parseURL(baseState = {}, String(base));\n      if (failure) throw TypeError(failure);\n    }\n  }\n  failure = parseURL(state, urlString, null, baseState);\n  if (failure) throw TypeError(failure);\n  var searchParams = state.searchParams = new URLSearchParams();\n  var searchParamsState = getInternalSearchParamsState(searchParams);\n  searchParamsState.updateSearchParams(state.query);\n  searchParamsState.updateURL = function () {\n    state.query = String(searchParams) || null;\n  };\n  if (!DESCRIPTORS) {\n    that.href = serializeURL.call(that);\n    that.origin = getOrigin.call(that);\n    that.protocol = getProtocol.call(that);\n    that.username = getUsername.call(that);\n    that.password = getPassword.call(that);\n    that.host = getHost.call(that);\n    that.hostname = getHostname.call(that);\n    that.port = getPort.call(that);\n    that.pathname = getPathname.call(that);\n    that.search = getSearch.call(that);\n    that.searchParams = getSearchParams.call(that);\n    that.hash = getHash.call(that);\n  }\n};\n\nvar URLPrototype = URLConstructor.prototype;\n\nvar serializeURL = function () {\n  var url = getInternalURLState(this);\n  var scheme = url.scheme;\n  var username = url.username;\n  var password = url.password;\n  var host = url.host;\n  var port = url.port;\n  var path = url.path;\n  var query = url.query;\n  var fragment = url.fragment;\n  var output = scheme + ':';\n  if (host !== null) {\n    output += '//';\n    if (includesCredentials(url)) {\n      output += username + (password ? ':' + password : '') + '@';\n    }\n    output += serializeHost(host);\n    if (port !== null) output += ':' + port;\n  } else if (scheme == 'file') output += '//';\n  output += url.cannotBeABaseURL ? path[0] : path.length ? '/' + path.join('/') : '';\n  if (query !== null) output += '?' + query;\n  if (fragment !== null) output += '#' + fragment;\n  return output;\n};\n\nvar getOrigin = function () {\n  var url = getInternalURLState(this);\n  var scheme = url.scheme;\n  var port = url.port;\n  if (scheme == 'blob') try {\n    return new URL(scheme.path[0]).origin;\n  } catch (error) {\n    return 'null';\n  }\n  if (scheme == 'file' || !isSpecial(url)) return 'null';\n  return scheme + '://' + serializeHost(url.host) + (port !== null ? ':' + port : '');\n};\n\nvar getProtocol = function () {\n  return getInternalURLState(this).scheme + ':';\n};\n\nvar getUsername = function () {\n  return getInternalURLState(this).username;\n};\n\nvar getPassword = function () {\n  return getInternalURLState(this).password;\n};\n\nvar getHost = function () {\n  var url = getInternalURLState(this);\n  var host = url.host;\n  var port = url.port;\n  return host === null ? ''\n    : port === null ? serializeHost(host)\n    : serializeHost(host) + ':' + port;\n};\n\nvar getHostname = function () {\n  var host = getInternalURLState(this).host;\n  return host === null ? '' : serializeHost(host);\n};\n\nvar getPort = function () {\n  var port = getInternalURLState(this).port;\n  return port === null ? '' : String(port);\n};\n\nvar getPathname = function () {\n  var url = getInternalURLState(this);\n  var path = url.path;\n  return url.cannotBeABaseURL ? path[0] : path.length ? '/' + path.join('/') : '';\n};\n\nvar getSearch = function () {\n  var query = getInternalURLState(this).query;\n  return query ? '?' + query : '';\n};\n\nvar getSearchParams = function () {\n  return getInternalURLState(this).searchParams;\n};\n\nvar getHash = function () {\n  var fragment = getInternalURLState(this).fragment;\n  return fragment ? '#' + fragment : '';\n};\n\nvar accessorDescriptor = function (getter, setter) {\n  return { get: getter, set: setter, configurable: true, enumerable: true };\n};\n\nif (DESCRIPTORS) {\n  defineProperties(URLPrototype, {\n    // `URL.prototype.href` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-href\n    href: accessorDescriptor(serializeURL, function (href) {\n      var url = getInternalURLState(this);\n      var urlString = String(href);\n      var failure = parseURL(url, urlString);\n      if (failure) throw TypeError(failure);\n      getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);\n    }),\n    // `URL.prototype.origin` getter\n    // https://url.spec.whatwg.org/#dom-url-origin\n    origin: accessorDescriptor(getOrigin),\n    // `URL.prototype.protocol` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-protocol\n    protocol: accessorDescriptor(getProtocol, function (protocol) {\n      var url = getInternalURLState(this);\n      parseURL(url, String(protocol) + ':', SCHEME_START);\n    }),\n    // `URL.prototype.username` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-username\n    username: accessorDescriptor(getUsername, function (username) {\n      var url = getInternalURLState(this);\n      var codePoints = arrayFrom(String(username));\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      url.username = '';\n      for (var i = 0; i < codePoints.length; i++) {\n        url.username += percentEncode(codePoints[i], userinfoPercentEncodeSet);\n      }\n    }),\n    // `URL.prototype.password` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-password\n    password: accessorDescriptor(getPassword, function (password) {\n      var url = getInternalURLState(this);\n      var codePoints = arrayFrom(String(password));\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      url.password = '';\n      for (var i = 0; i < codePoints.length; i++) {\n        url.password += percentEncode(codePoints[i], userinfoPercentEncodeSet);\n      }\n    }),\n    // `URL.prototype.host` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-host\n    host: accessorDescriptor(getHost, function (host) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      parseURL(url, String(host), HOST);\n    }),\n    // `URL.prototype.hostname` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-hostname\n    hostname: accessorDescriptor(getHostname, function (hostname) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      parseURL(url, String(hostname), HOSTNAME);\n    }),\n    // `URL.prototype.port` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-port\n    port: accessorDescriptor(getPort, function (port) {\n      var url = getInternalURLState(this);\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      port = String(port);\n      if (port == '') url.port = null;\n      else parseURL(url, port, PORT);\n    }),\n    // `URL.prototype.pathname` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-pathname\n    pathname: accessorDescriptor(getPathname, function (pathname) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      url.path = [];\n      parseURL(url, pathname + '', PATH_START);\n    }),\n    // `URL.prototype.search` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-search\n    search: accessorDescriptor(getSearch, function (search) {\n      var url = getInternalURLState(this);\n      search = String(search);\n      if (search == '') {\n        url.query = null;\n      } else {\n        if ('?' == search.charAt(0)) search = search.slice(1);\n        url.query = '';\n        parseURL(url, search, QUERY);\n      }\n      getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);\n    }),\n    // `URL.prototype.searchParams` getter\n    // https://url.spec.whatwg.org/#dom-url-searchparams\n    searchParams: accessorDescriptor(getSearchParams),\n    // `URL.prototype.hash` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-hash\n    hash: accessorDescriptor(getHash, function (hash) {\n      var url = getInternalURLState(this);\n      hash = String(hash);\n      if (hash == '') {\n        url.fragment = null;\n        return;\n      }\n      if ('#' == hash.charAt(0)) hash = hash.slice(1);\n      url.fragment = '';\n      parseURL(url, hash, FRAGMENT);\n    })\n  });\n}\n\n// `URL.prototype.toJSON` method\n// https://url.spec.whatwg.org/#dom-url-tojson\nredefine(URLPrototype, 'toJSON', function toJSON() {\n  return serializeURL.call(this);\n}, { enumerable: true });\n\n// `URL.prototype.toString` method\n// https://url.spec.whatwg.org/#URL-stringification-behavior\nredefine(URLPrototype, 'toString', function toString() {\n  return serializeURL.call(this);\n}, { enumerable: true });\n\nif (NativeURL) {\n  var nativeCreateObjectURL = NativeURL.createObjectURL;\n  var nativeRevokeObjectURL = NativeURL.revokeObjectURL;\n  // `URL.createObjectURL` method\n  // https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL\n  // eslint-disable-next-line no-unused-vars\n  if (nativeCreateObjectURL) redefine(URLConstructor, 'createObjectURL', function createObjectURL(blob) {\n    return nativeCreateObjectURL.apply(NativeURL, arguments);\n  });\n  // `URL.revokeObjectURL` method\n  // https://developer.mozilla.org/en-US/docs/Web/API/URL/revokeObjectURL\n  // eslint-disable-next-line no-unused-vars\n  if (nativeRevokeObjectURL) redefine(URLConstructor, 'revokeObjectURL', function revokeObjectURL(url) {\n    return nativeRevokeObjectURL.apply(NativeURL, arguments);\n  });\n}\n\nsetToStringTag(URLConstructor, 'URL');\n\n$({ global: true, forced: !USE_NATIVE_URL, sham: !DESCRIPTORS }, {\n  URL: URLConstructor\n});\n","'use strict';\nvar $ = require('../internals/export');\n\n// `URL.prototype.toJSON` method\n// https://url.spec.whatwg.org/#dom-url-tojson\n$({ target: 'URL', proto: true, enumerable: true }, {\n  toJSON: function toJSON() {\n    return URL.prototype.toString.call(this);\n  }\n});\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","// http://ross.posterous.com/2008/08/19/iphone-touch-events-in-javascript/\n/**\n *\n * @param {Event} ev\n * @returns {void}\n */\nfunction touchHandler (ev) {\n  const {changedTouches} = ev,\n    first = changedTouches[0];\n\n  let type = '';\n  switch (ev.type) {\n  case 'touchstart': type = 'mousedown'; break;\n  case 'touchmove': type = 'mousemove'; break;\n  case 'touchend': type = 'mouseup'; break;\n  default: return;\n  }\n\n  const {screenX, screenY, clientX, clientY} = first; // eslint-disable-line no-shadow\n  const simulatedEvent = new MouseEvent(type, {\n    // Event interface\n    bubbles: true,\n    cancelable: true,\n    // UIEvent interface\n    view: window,\n    detail: 1, // click count\n    // MouseEvent interface (customized)\n    screenX, screenY, clientX, clientY,\n    // MouseEvent interface (defaults) - these could be removed\n    ctrlKey: false,\n    altKey: false,\n    shiftKey: false,\n    metaKey: false,\n    button: 0, // main button (usually left)\n    relatedTarget: null\n  });\n  if (changedTouches.length < 2) {\n    first.target.dispatchEvent(simulatedEvent);\n    ev.preventDefault();\n  }\n}\n\ndocument.addEventListener('touchstart', touchHandler, true);\ndocument.addEventListener('touchmove', touchHandler, true);\ndocument.addEventListener('touchend', touchHandler, true);\ndocument.addEventListener('touchcancel', touchHandler, true);\n","/**\n * Namespaces or tools therefor.\n * @module namespaces\n * @license MIT\n*/\n\n/**\n* Common namepaces constants in alpha order.\n* @enum {string}\n* @type {PlainObject}\n* @memberof module:namespaces\n*/\nexport const NS = {\n  HTML: 'http://www.w3.org/1999/xhtml',\n  MATH: 'http://www.w3.org/1998/Math/MathML',\n  SE: 'http://svg-edit.googlecode.com',\n  SVG: 'http://www.w3.org/2000/svg',\n  XLINK: 'http://www.w3.org/1999/xlink',\n  XML: 'http://www.w3.org/XML/1998/namespace',\n  XMLNS: 'http://www.w3.org/2000/xmlns/' // see http://www.w3.org/TR/REC-xml-names/#xmlReserved\n};\n\n/**\n* @function module:namespaces.getReverseNS\n* @returns {string} The NS with key values switched and lowercase\n*/\nexport const getReverseNS = function () {\n  const reverseNS = {};\n  Object.entries(NS).forEach(([name, URI]) => {\n    reverseNS[URI] = name.toLowerCase();\n  });\n  return reverseNS;\n};\n","/* eslint-disable import/unambiguous, max-len */\n/* globals SVGPathSeg, SVGPathSegMovetoRel, SVGPathSegMovetoAbs,\n    SVGPathSegMovetoRel, SVGPathSegLinetoRel, SVGPathSegLinetoAbs,\n    SVGPathSegLinetoHorizontalRel, SVGPathSegLinetoHorizontalAbs,\n    SVGPathSegLinetoVerticalRel, SVGPathSegLinetoVerticalAbs,\n    SVGPathSegClosePath, SVGPathSegCurvetoCubicRel,\n    SVGPathSegCurvetoCubicAbs, SVGPathSegCurvetoCubicSmoothRel,\n    SVGPathSegCurvetoCubicSmoothAbs, SVGPathSegCurvetoQuadraticRel,\n    SVGPathSegCurvetoQuadraticAbs, SVGPathSegCurvetoQuadraticSmoothRel,\n    SVGPathSegCurvetoQuadraticSmoothAbs, SVGPathSegArcRel, SVGPathSegArcAbs */\n/**\n* SVGPathSeg API polyfill\n* https://github.com/progers/pathseg\n*\n* This is a drop-in replacement for the `SVGPathSeg` and `SVGPathSegList` APIs\n* that were removed from SVG2 ({@link https://lists.w3.org/Archives/Public/www-svg/2015Jun/0044.html}),\n* including the latest spec changes which were implemented in Firefox 43 and\n* Chrome 46.\n*/\n/* eslint-disable no-shadow, class-methods-use-this, jsdoc/require-jsdoc */\n// Linting: We avoid `no-shadow` as ESLint thinks these are still available globals\n// Linting: We avoid `class-methods-use-this` as this is a polyfill that must\n//   follow the conventions\n(() => {\nif (!('SVGPathSeg' in window)) {\n  // Spec: https://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGPathSeg\n  class SVGPathSeg {\n    constructor (type, typeAsLetter, owningPathSegList) {\n      this.pathSegType = type;\n      this.pathSegTypeAsLetter = typeAsLetter;\n      this._owningPathSegList = owningPathSegList;\n    }\n    // Notify owning PathSegList on any changes so they can be synchronized back to the path element.\n    _segmentChanged () {\n      if (this._owningPathSegList) {\n        this._owningPathSegList.segmentChanged(this);\n      }\n    }\n  }\n  SVGPathSeg.prototype.classname = 'SVGPathSeg';\n\n  SVGPathSeg.PATHSEG_UNKNOWN = 0;\n  SVGPathSeg.PATHSEG_CLOSEPATH = 1;\n  SVGPathSeg.PATHSEG_MOVETO_ABS = 2;\n  SVGPathSeg.PATHSEG_MOVETO_REL = 3;\n  SVGPathSeg.PATHSEG_LINETO_ABS = 4;\n  SVGPathSeg.PATHSEG_LINETO_REL = 5;\n  SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS = 6;\n  SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL = 7;\n  SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS = 8;\n  SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL = 9;\n  SVGPathSeg.PATHSEG_ARC_ABS = 10;\n  SVGPathSeg.PATHSEG_ARC_REL = 11;\n  SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS = 12;\n  SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL = 13;\n  SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS = 14;\n  SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL = 15;\n  SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS = 16;\n  SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL = 17;\n  SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS = 18;\n  SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL = 19;\n\n  class SVGPathSegClosePath extends SVGPathSeg {\n    constructor (owningPathSegList) {\n      super(SVGPathSeg.PATHSEG_CLOSEPATH, 'z', owningPathSegList);\n    }\n    toString () { return '[object SVGPathSegClosePath]'; }\n    _asPathString () { return this.pathSegTypeAsLetter; }\n    clone () { return new SVGPathSegClosePath(undefined); }\n  }\n\n  class SVGPathSegMovetoAbs extends SVGPathSeg {\n    constructor (owningPathSegList, x, y) {\n      super(SVGPathSeg.PATHSEG_MOVETO_ABS, 'M', owningPathSegList);\n      this._x = x;\n      this._y = y;\n    }\n    toString () { return '[object SVGPathSegMovetoAbs]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegMovetoAbs(undefined, this._x, this._y); }\n  }\n  Object.defineProperties(SVGPathSegMovetoAbs.prototype, {\n    x: {\n      get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true\n    },\n    y: {\n      get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true\n    }\n  });\n\n  class SVGPathSegMovetoRel extends SVGPathSeg {\n    constructor (owningPathSegList, x, y) {\n      super(SVGPathSeg.PATHSEG_MOVETO_REL, 'm', owningPathSegList);\n      this._x = x;\n      this._y = y;\n    }\n    toString () { return '[object SVGPathSegMovetoRel]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegMovetoRel(undefined, this._x, this._y); }\n  }\n  Object.defineProperties(SVGPathSegMovetoRel.prototype, {\n    x: {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true},\n    y: {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true}\n  });\n\n  class SVGPathSegLinetoAbs extends SVGPathSeg {\n    constructor (owningPathSegList, x, y) {\n      super(SVGPathSeg.PATHSEG_LINETO_ABS, 'L', owningPathSegList);\n      this._x = x;\n      this._y = y;\n    }\n    toString () { return '[object SVGPathSegLinetoAbs]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegLinetoAbs(undefined, this._x, this._y); }\n  }\n  Object.defineProperties(SVGPathSegLinetoAbs.prototype, {\n    x: {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true},\n    y: {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true}\n  });\n\n  class SVGPathSegLinetoRel extends SVGPathSeg {\n    constructor (owningPathSegList, x, y) {\n      super(SVGPathSeg.PATHSEG_LINETO_REL, 'l', owningPathSegList);\n      this._x = x;\n      this._y = y;\n    }\n    toString () { return '[object SVGPathSegLinetoRel]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegLinetoRel(undefined, this._x, this._y); }\n  }\n  Object.defineProperties(SVGPathSegLinetoRel.prototype, {\n    x: {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true},\n    y: {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true}\n  });\n\n  class SVGPathSegCurvetoCubicAbs extends SVGPathSeg {\n    constructor (owningPathSegList, x, y, x1, y1, x2, y2) {\n      super(SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS, 'C', owningPathSegList);\n      this._x = x;\n      this._y = y;\n      this._x1 = x1;\n      this._y1 = y1;\n      this._x2 = x2;\n      this._y2 = y2;\n    }\n    toString () { return '[object SVGPathSegCurvetoCubicAbs]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x1 + ' ' + this._y1 + ' ' + this._x2 + ' ' + this._y2 + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegCurvetoCubicAbs(undefined, this._x, this._y, this._x1, this._y1, this._x2, this._y2); }\n  }\n  Object.defineProperties(SVGPathSegCurvetoCubicAbs.prototype, {\n    x: {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true},\n    y: {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true},\n    x1: {get () { return this._x1; }, set (x1) { this._x1 = x1; this._segmentChanged(); }, enumerable: true},\n    y1: {get () { return this._y1; }, set (y1) { this._y1 = y1; this._segmentChanged(); }, enumerable: true},\n    x2: {get () { return this._x2; }, set (x2) { this._x2 = x2; this._segmentChanged(); }, enumerable: true},\n    y2: {get () { return this._y2; }, set (y2) { this._y2 = y2; this._segmentChanged(); }, enumerable: true}\n  });\n\n  class SVGPathSegCurvetoCubicRel extends SVGPathSeg {\n    constructor (owningPathSegList, x, y, x1, y1, x2, y2) {\n      super(SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL, 'c', owningPathSegList);\n      this._x = x;\n      this._y = y;\n      this._x1 = x1;\n      this._y1 = y1;\n      this._x2 = x2;\n      this._y2 = y2;\n    }\n    toString () { return '[object SVGPathSegCurvetoCubicRel]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x1 + ' ' + this._y1 + ' ' + this._x2 + ' ' + this._y2 + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegCurvetoCubicRel(undefined, this._x, this._y, this._x1, this._y1, this._x2, this._y2); }\n  }\n  Object.defineProperties(SVGPathSegCurvetoCubicRel.prototype, {\n    x: {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true},\n    y: {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true},\n    x1: {get () { return this._x1; }, set (x1) { this._x1 = x1; this._segmentChanged(); }, enumerable: true},\n    y1: {get () { return this._y1; }, set (y1) { this._y1 = y1; this._segmentChanged(); }, enumerable: true},\n    x2: {get () { return this._x2; }, set (x2) { this._x2 = x2; this._segmentChanged(); }, enumerable: true},\n    y2: {get () { return this._y2; }, set (y2) { this._y2 = y2; this._segmentChanged(); }, enumerable: true}\n  });\n\n  class SVGPathSegCurvetoQuadraticAbs extends SVGPathSeg {\n    constructor (owningPathSegList, x, y, x1, y1) {\n      super(SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS, 'Q', owningPathSegList);\n      this._x = x;\n      this._y = y;\n      this._x1 = x1;\n      this._y1 = y1;\n    }\n    toString () { return '[object SVGPathSegCurvetoQuadraticAbs]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x1 + ' ' + this._y1 + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegCurvetoQuadraticAbs(undefined, this._x, this._y, this._x1, this._y1); }\n  }\n  Object.defineProperties(SVGPathSegCurvetoQuadraticAbs.prototype, {\n    x: {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true},\n    y: {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true},\n    x1: {get () { return this._x1; }, set (x1) { this._x1 = x1; this._segmentChanged(); }, enumerable: true},\n    y1: {get () { return this._y1; }, set (y1) { this._y1 = y1; this._segmentChanged(); }, enumerable: true}\n  });\n\n  class SVGPathSegCurvetoQuadraticRel extends SVGPathSeg {\n    constructor (owningPathSegList, x, y, x1, y1) {\n      super(SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL, 'q', owningPathSegList);\n      this._x = x;\n      this._y = y;\n      this._x1 = x1;\n      this._y1 = y1;\n    }\n    toString () { return '[object SVGPathSegCurvetoQuadraticRel]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x1 + ' ' + this._y1 + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegCurvetoQuadraticRel(undefined, this._x, this._y, this._x1, this._y1); }\n  }\n  Object.defineProperties(SVGPathSegCurvetoQuadraticRel.prototype, {\n    x: {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true},\n    y: {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true},\n    x1: {get () { return this._x1; }, set (x1) { this._x1 = x1; this._segmentChanged(); }, enumerable: true},\n    y1: {get () { return this._y1; }, set (y1) { this._y1 = y1; this._segmentChanged(); }, enumerable: true}\n  });\n\n  class SVGPathSegArcAbs extends SVGPathSeg {\n    constructor (owningPathSegList, x, y, r1, r2, angle, largeArcFlag, sweepFlag) {\n      super(SVGPathSeg.PATHSEG_ARC_ABS, 'A', owningPathSegList);\n      this._x = x;\n      this._y = y;\n      this._r1 = r1;\n      this._r2 = r2;\n      this._angle = angle;\n      this._largeArcFlag = largeArcFlag;\n      this._sweepFlag = sweepFlag;\n    }\n    toString () { return '[object SVGPathSegArcAbs]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._r1 + ' ' + this._r2 + ' ' + this._angle + ' ' + (this._largeArcFlag ? '1' : '0') + ' ' + (this._sweepFlag ? '1' : '0') + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegArcAbs(undefined, this._x, this._y, this._r1, this._r2, this._angle, this._largeArcFlag, this._sweepFlag); }\n  }\n  Object.defineProperties(SVGPathSegArcAbs.prototype, {\n    x: {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true},\n    y: {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true},\n    r1: {get () { return this._r1; }, set (r1) { this._r1 = r1; this._segmentChanged(); }, enumerable: true},\n    r2: {get () { return this._r2; }, set (r2) { this._r2 = r2; this._segmentChanged(); }, enumerable: true},\n    angle: {get () { return this._angle; }, set (angle) { this._angle = angle; this._segmentChanged(); }, enumerable: true},\n    largeArcFlag: {get () { return this._largeArcFlag; }, set (largeArcFlag) { this._largeArcFlag = largeArcFlag; this._segmentChanged(); }, enumerable: true},\n    sweepFlag: {get () { return this._sweepFlag; }, set (sweepFlag) { this._sweepFlag = sweepFlag; this._segmentChanged(); }, enumerable: true}\n  });\n\n  class SVGPathSegArcRel extends SVGPathSeg {\n    constructor (owningPathSegList, x, y, r1, r2, angle, largeArcFlag, sweepFlag) {\n      super(SVGPathSeg.PATHSEG_ARC_REL, 'a', owningPathSegList);\n      this._x = x;\n      this._y = y;\n      this._r1 = r1;\n      this._r2 = r2;\n      this._angle = angle;\n      this._largeArcFlag = largeArcFlag;\n      this._sweepFlag = sweepFlag;\n    }\n    toString () { return '[object SVGPathSegArcRel]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._r1 + ' ' + this._r2 + ' ' + this._angle + ' ' + (this._largeArcFlag ? '1' : '0') + ' ' + (this._sweepFlag ? '1' : '0') + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegArcRel(undefined, this._x, this._y, this._r1, this._r2, this._angle, this._largeArcFlag, this._sweepFlag); }\n  }\n  Object.defineProperties(SVGPathSegArcRel.prototype, {\n    x: {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true},\n    y: {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true},\n    r1: {get () { return this._r1; }, set (r1) { this._r1 = r1; this._segmentChanged(); }, enumerable: true},\n    r2: {get () { return this._r2; }, set (r2) { this._r2 = r2; this._segmentChanged(); }, enumerable: true},\n    angle: {get () { return this._angle; }, set (angle) { this._angle = angle; this._segmentChanged(); }, enumerable: true},\n    largeArcFlag: {get () { return this._largeArcFlag; }, set (largeArcFlag) { this._largeArcFlag = largeArcFlag; this._segmentChanged(); }, enumerable: true},\n    sweepFlag: {get () { return this._sweepFlag; }, set (sweepFlag) { this._sweepFlag = sweepFlag; this._segmentChanged(); }, enumerable: true}\n  });\n\n  class SVGPathSegLinetoHorizontalAbs extends SVGPathSeg {\n    constructor (owningPathSegList, x) {\n      super(SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS, 'H', owningPathSegList);\n      this._x = x;\n    }\n    toString () { return '[object SVGPathSegLinetoHorizontalAbs]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x; }\n    clone () { return new SVGPathSegLinetoHorizontalAbs(undefined, this._x); }\n  }\n  Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype, 'x', {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true});\n\n  class SVGPathSegLinetoHorizontalRel extends SVGPathSeg {\n    constructor (owningPathSegList, x) {\n      super(SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL, 'h', owningPathSegList);\n      this._x = x;\n    }\n    toString () { return '[object SVGPathSegLinetoHorizontalRel]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x; }\n    clone () { return new SVGPathSegLinetoHorizontalRel(undefined, this._x); }\n  }\n  Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype, 'x', {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true});\n\n  class SVGPathSegLinetoVerticalAbs extends SVGPathSeg {\n    constructor (owningPathSegList, y) {\n      super(SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS, 'V', owningPathSegList);\n      this._y = y;\n    }\n    toString () { return '[object SVGPathSegLinetoVerticalAbs]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._y; }\n    clone () { return new SVGPathSegLinetoVerticalAbs(undefined, this._y); }\n  }\n  Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype, 'y', {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true});\n\n  class SVGPathSegLinetoVerticalRel extends SVGPathSeg {\n    constructor (owningPathSegList, y) {\n      super(SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL, 'v', owningPathSegList);\n      this._y = y;\n    }\n    toString () { return '[object SVGPathSegLinetoVerticalRel]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._y; }\n    clone () { return new SVGPathSegLinetoVerticalRel(undefined, this._y); }\n  }\n  Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype, 'y', {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true});\n\n  class SVGPathSegCurvetoCubicSmoothAbs extends SVGPathSeg {\n    constructor (owningPathSegList, x, y, x2, y2) {\n      super(SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS, 'S', owningPathSegList);\n      this._x = x;\n      this._y = y;\n      this._x2 = x2;\n      this._y2 = y2;\n    }\n    toString () { return '[object SVGPathSegCurvetoCubicSmoothAbs]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x2 + ' ' + this._y2 + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegCurvetoCubicSmoothAbs(undefined, this._x, this._y, this._x2, this._y2); }\n  }\n  Object.defineProperties(SVGPathSegCurvetoCubicSmoothAbs.prototype, {\n    x: {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true},\n    y: {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true},\n    x2: {get () { return this._x2; }, set (x2) { this._x2 = x2; this._segmentChanged(); }, enumerable: true},\n    y2: {get () { return this._y2; }, set (y2) { this._y2 = y2; this._segmentChanged(); }, enumerable: true}\n  });\n\n  class SVGPathSegCurvetoCubicSmoothRel extends SVGPathSeg {\n    constructor (owningPathSegList, x, y, x2, y2) {\n      super(SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL, 's', owningPathSegList);\n      this._x = x;\n      this._y = y;\n      this._x2 = x2;\n      this._y2 = y2;\n    }\n    toString () { return '[object SVGPathSegCurvetoCubicSmoothRel]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x2 + ' ' + this._y2 + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegCurvetoCubicSmoothRel(undefined, this._x, this._y, this._x2, this._y2); }\n  }\n  Object.defineProperties(SVGPathSegCurvetoCubicSmoothRel.prototype, {\n    x: {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true},\n    y: {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true},\n    x2: {get () { return this._x2; }, set (x2) { this._x2 = x2; this._segmentChanged(); }, enumerable: true},\n    y2: {get () { return this._y2; }, set (y2) { this._y2 = y2; this._segmentChanged(); }, enumerable: true}\n  });\n\n  class SVGPathSegCurvetoQuadraticSmoothAbs extends SVGPathSeg {\n    constructor (owningPathSegList, x, y) {\n      super(SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS, 'T', owningPathSegList);\n      this._x = x;\n      this._y = y;\n    }\n    toString () { return '[object SVGPathSegCurvetoQuadraticSmoothAbs]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegCurvetoQuadraticSmoothAbs(undefined, this._x, this._y); }\n  }\n  Object.defineProperties(SVGPathSegCurvetoQuadraticSmoothAbs.prototype, {\n    x: {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true},\n    y: {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true}\n  });\n\n  class SVGPathSegCurvetoQuadraticSmoothRel extends SVGPathSeg {\n    constructor (owningPathSegList, x, y) {\n      super(SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL, 't', owningPathSegList);\n      this._x = x;\n      this._y = y;\n    }\n    toString () { return '[object SVGPathSegCurvetoQuadraticSmoothRel]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegCurvetoQuadraticSmoothRel(undefined, this._x, this._y); }\n  }\n  Object.defineProperties(SVGPathSegCurvetoQuadraticSmoothRel.prototype, {\n    x: {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true},\n    y: {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true}\n  });\n\n  // Add createSVGPathSeg* functions to SVGPathElement.\n  // Spec: https://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGPathElement.\n  SVGPathElement.prototype.createSVGPathSegClosePath = function () { return new SVGPathSegClosePath(undefined); };\n  SVGPathElement.prototype.createSVGPathSegMovetoAbs = function (x, y) { return new SVGPathSegMovetoAbs(undefined, x, y); };\n  SVGPathElement.prototype.createSVGPathSegMovetoRel = function (x, y) { return new SVGPathSegMovetoRel(undefined, x, y); };\n  SVGPathElement.prototype.createSVGPathSegLinetoAbs = function (x, y) { return new SVGPathSegLinetoAbs(undefined, x, y); };\n  SVGPathElement.prototype.createSVGPathSegLinetoRel = function (x, y) { return new SVGPathSegLinetoRel(undefined, x, y); };\n  SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs = function (x, y, x1, y1, x2, y2) { return new SVGPathSegCurvetoCubicAbs(undefined, x, y, x1, y1, x2, y2); };\n  SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel = function (x, y, x1, y1, x2, y2) { return new SVGPathSegCurvetoCubicRel(undefined, x, y, x1, y1, x2, y2); };\n  SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs = function (x, y, x1, y1) { return new SVGPathSegCurvetoQuadraticAbs(undefined, x, y, x1, y1); };\n  SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel = function (x, y, x1, y1) { return new SVGPathSegCurvetoQuadraticRel(undefined, x, y, x1, y1); };\n  SVGPathElement.prototype.createSVGPathSegArcAbs = function (x, y, r1, r2, angle, largeArcFlag, sweepFlag) { return new SVGPathSegArcAbs(undefined, x, y, r1, r2, angle, largeArcFlag, sweepFlag); };\n  SVGPathElement.prototype.createSVGPathSegArcRel = function (x, y, r1, r2, angle, largeArcFlag, sweepFlag) { return new SVGPathSegArcRel(undefined, x, y, r1, r2, angle, largeArcFlag, sweepFlag); };\n  SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs = function (x) { return new SVGPathSegLinetoHorizontalAbs(undefined, x); };\n  SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel = function (x) { return new SVGPathSegLinetoHorizontalRel(undefined, x); };\n  SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs = function (y) { return new SVGPathSegLinetoVerticalAbs(undefined, y); };\n  SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel = function (y) { return new SVGPathSegLinetoVerticalRel(undefined, y); };\n  SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs = function (x, y, x2, y2) { return new SVGPathSegCurvetoCubicSmoothAbs(undefined, x, y, x2, y2); };\n  SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel = function (x, y, x2, y2) { return new SVGPathSegCurvetoCubicSmoothRel(undefined, x, y, x2, y2); };\n  SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs = function (x, y) { return new SVGPathSegCurvetoQuadraticSmoothAbs(undefined, x, y); };\n  SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel = function (x, y) { return new SVGPathSegCurvetoQuadraticSmoothRel(undefined, x, y); };\n\n  if (!('getPathSegAtLength' in SVGPathElement.prototype)) {\n    // Add getPathSegAtLength to SVGPathElement.\n    // Spec: https://www.w3.org/TR/SVG11/single-page.html#paths-__svg__SVGPathElement__getPathSegAtLength\n    // This polyfill requires SVGPathElement.getTotalLength to implement the distance-along-a-path algorithm.\n    SVGPathElement.prototype.getPathSegAtLength = function (distance) {\n      if (distance === undefined || !isFinite(distance)) {\n        throw new Error('Invalid arguments.');\n      }\n\n      const measurementElement = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n      measurementElement.setAttribute('d', this.getAttribute('d'));\n      let lastPathSegment = measurementElement.pathSegList.numberOfItems - 1;\n\n      // If the path is empty, return 0.\n      if (lastPathSegment <= 0) {\n        return 0;\n      }\n\n      do {\n        measurementElement.pathSegList.removeItem(lastPathSegment);\n        if (distance > measurementElement.getTotalLength()) {\n          break;\n        }\n        lastPathSegment--;\n      } while (lastPathSegment > 0);\n      return lastPathSegment;\n    };\n  }\n\n  window.SVGPathSeg = SVGPathSeg;\n  window.SVGPathSegClosePath = SVGPathSegClosePath;\n  window.SVGPathSegMovetoAbs = SVGPathSegMovetoAbs;\n  window.SVGPathSegMovetoRel = SVGPathSegMovetoRel;\n  window.SVGPathSegLinetoAbs = SVGPathSegLinetoAbs;\n  window.SVGPathSegLinetoRel = SVGPathSegLinetoRel;\n  window.SVGPathSegCurvetoCubicAbs = SVGPathSegCurvetoCubicAbs;\n  window.SVGPathSegCurvetoCubicRel = SVGPathSegCurvetoCubicRel;\n  window.SVGPathSegCurvetoQuadraticAbs = SVGPathSegCurvetoQuadraticAbs;\n  window.SVGPathSegCurvetoQuadraticRel = SVGPathSegCurvetoQuadraticRel;\n  window.SVGPathSegArcAbs = SVGPathSegArcAbs;\n  window.SVGPathSegArcRel = SVGPathSegArcRel;\n  window.SVGPathSegLinetoHorizontalAbs = SVGPathSegLinetoHorizontalAbs;\n  window.SVGPathSegLinetoHorizontalRel = SVGPathSegLinetoHorizontalRel;\n  window.SVGPathSegLinetoVerticalAbs = SVGPathSegLinetoVerticalAbs;\n  window.SVGPathSegLinetoVerticalRel = SVGPathSegLinetoVerticalRel;\n  window.SVGPathSegCurvetoCubicSmoothAbs = SVGPathSegCurvetoCubicSmoothAbs;\n  window.SVGPathSegCurvetoCubicSmoothRel = SVGPathSegCurvetoCubicSmoothRel;\n  window.SVGPathSegCurvetoQuadraticSmoothAbs = SVGPathSegCurvetoQuadraticSmoothAbs;\n  window.SVGPathSegCurvetoQuadraticSmoothRel = SVGPathSegCurvetoQuadraticSmoothRel;\n}\n\n// Checking for SVGPathSegList in window checks for the case of an implementation without the\n// SVGPathSegList API.\n// The second check for appendItem is specific to Firefox 59+ which removed only parts of the\n// SVGPathSegList API (e.g., appendItem). In this case we need to re-implement the entire API\n// so the polyfill data (i.e., _list) is used throughout.\nif (!('SVGPathSegList' in window) || !('appendItem' in window.SVGPathSegList.prototype)) {\n  // Spec: https://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGPathSegList\n  class SVGPathSegList {\n    constructor (pathElement) {\n      this._pathElement = pathElement;\n      this._list = this._parsePath(this._pathElement.getAttribute('d'));\n\n      // Use a MutationObserver to catch changes to the path's \"d\" attribute.\n      this._mutationObserverConfig = {attributes: true, attributeFilter: ['d']};\n      this._pathElementMutationObserver = new MutationObserver(this._updateListFromPathMutations.bind(this));\n      this._pathElementMutationObserver.observe(this._pathElement, this._mutationObserverConfig);\n    }\n    // Process any pending mutations to the path element and update the list as needed.\n    // This should be the first call of all public functions and is needed because\n    // MutationObservers are not synchronous so we can have pending asynchronous mutations.\n    _checkPathSynchronizedToList () {\n      this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords());\n    }\n\n    _updateListFromPathMutations (mutationRecords) {\n      if (!this._pathElement) {\n        return;\n      }\n      let hasPathMutations = false;\n      mutationRecords.forEach((record) => {\n        if (record.attributeName === 'd') {\n          hasPathMutations = true;\n        }\n      });\n      if (hasPathMutations) {\n        this._list = this._parsePath(this._pathElement.getAttribute('d'));\n      }\n    }\n\n    // Serialize the list and update the path's 'd' attribute.\n    _writeListToPath () {\n      this._pathElementMutationObserver.disconnect();\n      this._pathElement.setAttribute('d', SVGPathSegList._pathSegArrayAsString(this._list));\n      this._pathElementMutationObserver.observe(this._pathElement, this._mutationObserverConfig);\n    }\n\n    // When a path segment changes the list needs to be synchronized back to the path element.\n    segmentChanged (pathSeg) {\n      this._writeListToPath();\n    }\n\n    clear () {\n      this._checkPathSynchronizedToList();\n\n      this._list.forEach((pathSeg) => {\n        pathSeg._owningPathSegList = null;\n      });\n      this._list = [];\n      this._writeListToPath();\n    }\n\n    initialize (newItem) {\n      this._checkPathSynchronizedToList();\n\n      this._list = [newItem];\n      newItem._owningPathSegList = this;\n      this._writeListToPath();\n      return newItem;\n    }\n\n    _checkValidIndex (index) {\n      if (isNaN(index) || index < 0 || index >= this.numberOfItems) {\n        throw new Error('INDEX_SIZE_ERR');\n      }\n    }\n\n    getItem (index) {\n      this._checkPathSynchronizedToList();\n\n      this._checkValidIndex(index);\n      return this._list[index];\n    }\n\n    insertItemBefore (newItem, index) {\n      this._checkPathSynchronizedToList();\n\n      // Spec: If the index is greater than or equal to numberOfItems, then the new item is appended to the end of the list.\n      if (index > this.numberOfItems) {\n        index = this.numberOfItems;\n      }\n      if (newItem._owningPathSegList) {\n        // SVG2 spec says to make a copy.\n        newItem = newItem.clone();\n      }\n      this._list.splice(index, 0, newItem);\n      newItem._owningPathSegList = this;\n      this._writeListToPath();\n      return newItem;\n    }\n\n    replaceItem (newItem, index) {\n      this._checkPathSynchronizedToList();\n\n      if (newItem._owningPathSegList) {\n        // SVG2 spec says to make a copy.\n        newItem = newItem.clone();\n      }\n      this._checkValidIndex(index);\n      this._list[index] = newItem;\n      newItem._owningPathSegList = this;\n      this._writeListToPath();\n      return newItem;\n    }\n\n    removeItem (index) {\n      this._checkPathSynchronizedToList();\n\n      this._checkValidIndex(index);\n      const item = this._list[index];\n      this._list.splice(index, 1);\n      this._writeListToPath();\n      return item;\n    }\n\n    appendItem (newItem) {\n      this._checkPathSynchronizedToList();\n\n      if (newItem._owningPathSegList) {\n        // SVG2 spec says to make a copy.\n        newItem = newItem.clone();\n      }\n      this._list.push(newItem);\n      newItem._owningPathSegList = this;\n      // TODO: Optimize this to just append to the existing attribute.\n      this._writeListToPath();\n      return newItem;\n    }\n\n    // This closely follows SVGPathParser::parsePath from Source/core/svg/SVGPathParser.cpp.\n    _parsePath (string) {\n      if (!string || !string.length) {\n        return [];\n      }\n\n      const owningPathSegList = this;\n\n      class Builder {\n        constructor () {\n          this.pathSegList = [];\n        }\n        appendSegment (pathSeg) {\n          this.pathSegList.push(pathSeg);\n        }\n      }\n\n      class Source {\n        constructor (string) {\n          this._string = string;\n          this._currentIndex = 0;\n          this._endIndex = this._string.length;\n          this._previousCommand = SVGPathSeg.PATHSEG_UNKNOWN;\n\n          this._skipOptionalSpaces();\n        }\n        _isCurrentSpace () {\n          const character = this._string[this._currentIndex];\n          return character <= ' ' && (character === ' ' || character === '\\n' || character === '\\t' || character === '\\r' || character === '\\f');\n        }\n\n        _skipOptionalSpaces () {\n          while (this._currentIndex < this._endIndex && this._isCurrentSpace()) {\n            this._currentIndex++;\n          }\n          return this._currentIndex < this._endIndex;\n        }\n\n        _skipOptionalSpacesOrDelimiter () {\n          if (this._currentIndex < this._endIndex && !this._isCurrentSpace() && this._string.charAt(this._currentIndex) !== ',') {\n            return false;\n          }\n          if (this._skipOptionalSpaces()) {\n            if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) === ',') {\n              this._currentIndex++;\n              this._skipOptionalSpaces();\n            }\n          }\n          return this._currentIndex < this._endIndex;\n        }\n\n        hasMoreData () {\n          return this._currentIndex < this._endIndex;\n        }\n\n        peekSegmentType () {\n          const lookahead = this._string[this._currentIndex];\n          return this._pathSegTypeFromChar(lookahead);\n        }\n\n        _pathSegTypeFromChar (lookahead) {\n          switch (lookahead) {\n          case 'Z':\n          case 'z':\n            return SVGPathSeg.PATHSEG_CLOSEPATH;\n          case 'M':\n            return SVGPathSeg.PATHSEG_MOVETO_ABS;\n          case 'm':\n            return SVGPathSeg.PATHSEG_MOVETO_REL;\n          case 'L':\n            return SVGPathSeg.PATHSEG_LINETO_ABS;\n          case 'l':\n            return SVGPathSeg.PATHSEG_LINETO_REL;\n          case 'C':\n            return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;\n          case 'c':\n            return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;\n          case 'Q':\n            return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;\n          case 'q':\n            return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;\n          case 'A':\n            return SVGPathSeg.PATHSEG_ARC_ABS;\n          case 'a':\n            return SVGPathSeg.PATHSEG_ARC_REL;\n          case 'H':\n            return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;\n          case 'h':\n            return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;\n          case 'V':\n            return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;\n          case 'v':\n            return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;\n          case 'S':\n            return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;\n          case 's':\n            return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;\n          case 'T':\n            return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;\n          case 't':\n            return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;\n          default:\n            return SVGPathSeg.PATHSEG_UNKNOWN;\n          }\n        }\n\n        _nextCommandHelper (lookahead, previousCommand) {\n          // Check for remaining coordinates in the current command.\n          if ((lookahead === '+' || lookahead === '-' || lookahead === '.' || (lookahead >= '0' && lookahead <= '9')) && previousCommand !== SVGPathSeg.PATHSEG_CLOSEPATH) {\n            if (previousCommand === SVGPathSeg.PATHSEG_MOVETO_ABS) {\n              return SVGPathSeg.PATHSEG_LINETO_ABS;\n            }\n            if (previousCommand === SVGPathSeg.PATHSEG_MOVETO_REL) {\n              return SVGPathSeg.PATHSEG_LINETO_REL;\n            }\n            return previousCommand;\n          }\n          return SVGPathSeg.PATHSEG_UNKNOWN;\n        }\n\n        initialCommandIsMoveTo () {\n          // If the path is empty it is still valid, so return true.\n          if (!this.hasMoreData()) {\n            return true;\n          }\n          const command = this.peekSegmentType();\n          // Path must start with moveTo.\n          return command === SVGPathSeg.PATHSEG_MOVETO_ABS || command === SVGPathSeg.PATHSEG_MOVETO_REL;\n        }\n\n        // Parse a number from an SVG path. This very closely follows genericParseNumber(...) from Source/core/svg/SVGParserUtilities.cpp.\n        // Spec: https://www.w3.org/TR/SVG11/single-page.html#paths-PathDataBNF\n        _parseNumber () {\n          let exponent = 0;\n          let integer = 0;\n          let frac = 1;\n          let decimal = 0;\n          let sign = 1;\n          let expsign = 1;\n\n          const startIndex = this._currentIndex;\n\n          this._skipOptionalSpaces();\n\n          // Read the sign.\n          if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) === '+') {\n            this._currentIndex++;\n          } else if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) === '-') {\n            this._currentIndex++;\n            sign = -1;\n          }\n\n          if (this._currentIndex === this._endIndex || ((this._string.charAt(this._currentIndex) < '0' || this._string.charAt(this._currentIndex) > '9') && this._string.charAt(this._currentIndex) !== '.')) {\n            // The first character of a number must be one of [0-9+-.].\n            return undefined;\n          }\n\n          // Read the integer part, build right-to-left.\n          const startIntPartIndex = this._currentIndex;\n          while (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= '0' && this._string.charAt(this._currentIndex) <= '9') {\n            this._currentIndex++; // Advance to first non-digit.\n          }\n\n          if (this._currentIndex !== startIntPartIndex) {\n            let scanIntPartIndex = this._currentIndex - 1;\n            let multiplier = 1;\n            while (scanIntPartIndex >= startIntPartIndex) {\n              integer += multiplier * (this._string.charAt(scanIntPartIndex--) - '0');\n              multiplier *= 10;\n            }\n          }\n\n          // Read the decimals.\n          if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) === '.') {\n            this._currentIndex++;\n\n            // There must be a least one digit following the .\n            if (this._currentIndex >= this._endIndex || this._string.charAt(this._currentIndex) < '0' || this._string.charAt(this._currentIndex) > '9') {\n              return undefined;\n            }\n            while (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= '0' && this._string.charAt(this._currentIndex) <= '9') {\n              frac *= 10;\n              decimal += (this._string.charAt(this._currentIndex) - '0') / frac;\n              this._currentIndex += 1;\n            }\n          }\n\n          // Read the exponent part.\n          if (this._currentIndex !== startIndex && this._currentIndex + 1 < this._endIndex && (this._string.charAt(this._currentIndex) === 'e' || this._string.charAt(this._currentIndex) === 'E') && (this._string.charAt(this._currentIndex + 1) !== 'x' && this._string.charAt(this._currentIndex + 1) !== 'm')) {\n            this._currentIndex++;\n\n            // Read the sign of the exponent.\n            if (this._string.charAt(this._currentIndex) === '+') {\n              this._currentIndex++;\n            } else if (this._string.charAt(this._currentIndex) === '-') {\n              this._currentIndex++;\n              expsign = -1;\n            }\n\n            // There must be an exponent.\n            if (this._currentIndex >= this._endIndex || this._string.charAt(this._currentIndex) < '0' || this._string.charAt(this._currentIndex) > '9') {\n              return undefined;\n            }\n\n            while (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= '0' && this._string.charAt(this._currentIndex) <= '9') {\n              exponent *= 10;\n              exponent += (this._string.charAt(this._currentIndex) - '0');\n              this._currentIndex++;\n            }\n          }\n\n          let number = integer + decimal;\n          number *= sign;\n\n          if (exponent) {\n            number *= 10 ** (expsign * exponent);\n          }\n\n          if (startIndex === this._currentIndex) {\n            return undefined;\n          }\n\n          this._skipOptionalSpacesOrDelimiter();\n\n          return number;\n        }\n\n        _parseArcFlag () {\n          if (this._currentIndex >= this._endIndex) {\n            return undefined;\n          }\n          let flag = false;\n          const flagChar = this._string.charAt(this._currentIndex++);\n          if (flagChar === '0') {\n            flag = false;\n          } else if (flagChar === '1') {\n            flag = true;\n          } else {\n            return undefined;\n          }\n\n          this._skipOptionalSpacesOrDelimiter();\n          return flag;\n        }\n\n        parseSegment () {\n          const lookahead = this._string[this._currentIndex];\n          let command = this._pathSegTypeFromChar(lookahead);\n          if (command === SVGPathSeg.PATHSEG_UNKNOWN) {\n            // Possibly an implicit command. Not allowed if this is the first command.\n            if (this._previousCommand === SVGPathSeg.PATHSEG_UNKNOWN) {\n              return null;\n            }\n            command = this._nextCommandHelper(lookahead, this._previousCommand);\n            if (command === SVGPathSeg.PATHSEG_UNKNOWN) {\n              return null;\n            }\n          } else {\n            this._currentIndex++;\n          }\n\n          this._previousCommand = command;\n\n          switch (command) {\n          case SVGPathSeg.PATHSEG_MOVETO_REL:\n            return new SVGPathSegMovetoRel(owningPathSegList, this._parseNumber(), this._parseNumber());\n          case SVGPathSeg.PATHSEG_MOVETO_ABS:\n            return new SVGPathSegMovetoAbs(owningPathSegList, this._parseNumber(), this._parseNumber());\n          case SVGPathSeg.PATHSEG_LINETO_REL:\n            return new SVGPathSegLinetoRel(owningPathSegList, this._parseNumber(), this._parseNumber());\n          case SVGPathSeg.PATHSEG_LINETO_ABS:\n            return new SVGPathSegLinetoAbs(owningPathSegList, this._parseNumber(), this._parseNumber());\n          case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:\n            return new SVGPathSegLinetoHorizontalRel(owningPathSegList, this._parseNumber());\n          case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:\n            return new SVGPathSegLinetoHorizontalAbs(owningPathSegList, this._parseNumber());\n          case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:\n            return new SVGPathSegLinetoVerticalRel(owningPathSegList, this._parseNumber());\n          case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:\n            return new SVGPathSegLinetoVerticalAbs(owningPathSegList, this._parseNumber());\n          case SVGPathSeg.PATHSEG_CLOSEPATH:\n            this._skipOptionalSpaces();\n            return new SVGPathSegClosePath(owningPathSegList);\n          case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL: {\n            const points = {x1: this._parseNumber(), y1: this._parseNumber(), x2: this._parseNumber(), y2: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber()};\n            return new SVGPathSegCurvetoCubicRel(owningPathSegList, points.x, points.y, points.x1, points.y1, points.x2, points.y2);\n          } case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS: {\n            const points = {x1: this._parseNumber(), y1: this._parseNumber(), x2: this._parseNumber(), y2: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber()};\n            return new SVGPathSegCurvetoCubicAbs(owningPathSegList, points.x, points.y, points.x1, points.y1, points.x2, points.y2);\n          } case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL: {\n            const points = {x2: this._parseNumber(), y2: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber()};\n            return new SVGPathSegCurvetoCubicSmoothRel(owningPathSegList, points.x, points.y, points.x2, points.y2);\n          } case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS: {\n            const points = {x2: this._parseNumber(), y2: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber()};\n            return new SVGPathSegCurvetoCubicSmoothAbs(owningPathSegList, points.x, points.y, points.x2, points.y2);\n          } case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL: {\n            const points = {x1: this._parseNumber(), y1: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber()};\n            return new SVGPathSegCurvetoQuadraticRel(owningPathSegList, points.x, points.y, points.x1, points.y1);\n          } case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS: {\n            const points = {x1: this._parseNumber(), y1: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber()};\n            return new SVGPathSegCurvetoQuadraticAbs(owningPathSegList, points.x, points.y, points.x1, points.y1);\n          } case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:\n            return new SVGPathSegCurvetoQuadraticSmoothRel(owningPathSegList, this._parseNumber(), this._parseNumber());\n          case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:\n            return new SVGPathSegCurvetoQuadraticSmoothAbs(owningPathSegList, this._parseNumber(), this._parseNumber());\n          case SVGPathSeg.PATHSEG_ARC_REL: {\n            const points = {x1: this._parseNumber(), y1: this._parseNumber(), arcAngle: this._parseNumber(), arcLarge: this._parseArcFlag(), arcSweep: this._parseArcFlag(), x: this._parseNumber(), y: this._parseNumber()};\n            return new SVGPathSegArcRel(owningPathSegList, points.x, points.y, points.x1, points.y1, points.arcAngle, points.arcLarge, points.arcSweep);\n          } case SVGPathSeg.PATHSEG_ARC_ABS: {\n            const points = {x1: this._parseNumber(), y1: this._parseNumber(), arcAngle: this._parseNumber(), arcLarge: this._parseArcFlag(), arcSweep: this._parseArcFlag(), x: this._parseNumber(), y: this._parseNumber()};\n            return new SVGPathSegArcAbs(owningPathSegList, points.x, points.y, points.x1, points.y1, points.arcAngle, points.arcLarge, points.arcSweep);\n          } default:\n            throw new Error('Unknown path seg type.');\n          }\n        }\n      }\n\n      const builder = new Builder();\n      const source = new Source(string);\n\n      if (!source.initialCommandIsMoveTo()) {\n        return [];\n      }\n      while (source.hasMoreData()) {\n        const pathSeg = source.parseSegment();\n        if (!pathSeg) {\n          return [];\n        }\n        builder.appendSegment(pathSeg);\n      }\n\n      return builder.pathSegList;\n    }\n\n    // STATIC\n    static _pathSegArrayAsString (pathSegArray) {\n      let string = '';\n      let first = true;\n      pathSegArray.forEach((pathSeg) => {\n        if (first) {\n          first = false;\n          string += pathSeg._asPathString();\n        } else {\n          string += ' ' + pathSeg._asPathString();\n        }\n      });\n      return string;\n    }\n  }\n\n  SVGPathSegList.prototype.classname = 'SVGPathSegList';\n\n  Object.defineProperty(SVGPathSegList.prototype, 'numberOfItems', {\n    get () {\n      this._checkPathSynchronizedToList();\n      return this._list.length;\n    },\n    enumerable: true\n  });\n\n  // Add the pathSegList accessors to SVGPathElement.\n  // Spec: https://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGAnimatedPathData\n  Object.defineProperties(SVGPathElement.prototype, {\n    pathSegList: {\n      get () {\n        if (!this._pathSegList) {\n          this._pathSegList = new SVGPathSegList(this);\n        }\n        return this._pathSegList;\n      },\n      enumerable: true\n    },\n    // TODO: The following are not implemented and simply return SVGPathElement.pathSegList.\n    normalizedPathSegList: {get () { return this.pathSegList; }, enumerable: true},\n    animatedPathSegList: {get () { return this.pathSegList; }, enumerable: true},\n    animatedNormalizedPathSegList: {get () { return this.pathSegList; }, enumerable: true}\n  });\n  window.SVGPathSegList = SVGPathSegList;\n}\n})();\n","/* globals jQuery */\n/**\n * Browser detection.\n * @module browser\n * @license MIT\n *\n * @copyright 2010 Jeff Schiller, 2010 Alexis Deveria\n */\n\n// Dependencies:\n// 1) jQuery (for $.alert())\n\nimport './svgpathseg.js';\nimport {NS} from './namespaces.js';\n\nconst $ = jQuery;\n\nconst supportsSVG_ = (function () {\nreturn Boolean(document.createElementNS && document.createElementNS(NS.SVG, 'svg').createSVGRect);\n}());\n\n/**\n * @function module:browser.supportsSvg\n * @returns {boolean}\n*/\nexport const supportsSvg = () => supportsSVG_;\n\nconst {userAgent} = navigator;\nconst svg = document.createElementNS(NS.SVG, 'svg');\n\n// Note: Browser sniffing should only be used if no other detection method is possible\nconst isOpera_ = Boolean(window.opera);\nconst isWebkit_ = userAgent.includes('AppleWebKit');\nconst isGecko_ = userAgent.includes('Gecko/');\nconst isIE_ = userAgent.includes('MSIE');\nconst isChrome_ = userAgent.includes('Chrome/');\nconst isWindows_ = userAgent.includes('Windows');\nconst isMac_ = userAgent.includes('Macintosh');\nconst isTouch_ = 'ontouchstart' in window;\n\nconst supportsSelectors_ = (function () {\nreturn Boolean(svg.querySelector);\n}());\n\nconst supportsXpath_ = (function () {\nreturn Boolean(document.evaluate);\n}());\n\n// segList functions (for FF1.5 and 2.0)\nconst supportsPathReplaceItem_ = (function () {\nconst path = document.createElementNS(NS.SVG, 'path');\npath.setAttribute('d', 'M0,0 10,10');\nconst seglist = path.pathSegList;\nconst seg = path.createSVGPathSegLinetoAbs(5, 5);\ntry {\n  seglist.replaceItem(seg, 1);\n  return true;\n} catch (err) {}\nreturn false;\n}());\n\nconst supportsPathInsertItemBefore_ = (function () {\nconst path = document.createElementNS(NS.SVG, 'path');\npath.setAttribute('d', 'M0,0 10,10');\nconst seglist = path.pathSegList;\nconst seg = path.createSVGPathSegLinetoAbs(5, 5);\ntry {\n  seglist.insertItemBefore(seg, 1);\n  return true;\n} catch (err) {}\nreturn false;\n}());\n\n// text character positioning (for IE9 and now Chrome)\nconst supportsGoodTextCharPos_ = (function () {\nconst svgroot = document.createElementNS(NS.SVG, 'svg');\nconst svgcontent = document.createElementNS(NS.SVG, 'svg');\ndocument.documentElement.append(svgroot);\nsvgcontent.setAttribute('x', 5);\nsvgroot.append(svgcontent);\nconst text = document.createElementNS(NS.SVG, 'text');\ntext.textContent = 'a';\nsvgcontent.append(text);\ntry { // Chrome now fails here\n  const pos = text.getStartPositionOfChar(0).x;\n  return (pos === 0);\n} catch (err) {\n  return false;\n} finally {\n  svgroot.remove();\n}\n}());\n\nconst supportsPathBBox_ = (function () {\nconst svgcontent = document.createElementNS(NS.SVG, 'svg');\ndocument.documentElement.append(svgcontent);\nconst path = document.createElementNS(NS.SVG, 'path');\npath.setAttribute('d', 'M0,0 C0,0 10,10 10,0');\nsvgcontent.append(path);\nconst bbox = path.getBBox();\nsvgcontent.remove();\nreturn (bbox.height > 4 && bbox.height < 5);\n}());\n\n// Support for correct bbox sizing on groups with horizontal/vertical lines\nconst supportsHVLineContainerBBox_ = (function () {\nconst svgcontent = document.createElementNS(NS.SVG, 'svg');\ndocument.documentElement.append(svgcontent);\nconst path = document.createElementNS(NS.SVG, 'path');\npath.setAttribute('d', 'M0,0 10,0');\nconst path2 = document.createElementNS(NS.SVG, 'path');\npath2.setAttribute('d', 'M5,0 15,0');\nconst g = document.createElementNS(NS.SVG, 'g');\ng.append(path, path2);\nsvgcontent.append(g);\nconst bbox = g.getBBox();\nsvgcontent.remove();\n// Webkit gives 0, FF gives 10, Opera (correctly) gives 15\nreturn (bbox.width === 15);\n}());\n\nconst supportsEditableText_ = (function () {\n// TODO: Find better way to check support for this\nreturn isOpera_;\n}());\n\nconst supportsGoodDecimals_ = (function () {\n// Correct decimals on clone attributes (Opera < 10.5/win/non-en)\nconst rect = document.createElementNS(NS.SVG, 'rect');\nrect.setAttribute('x', 0.1);\nconst crect = rect.cloneNode(false);\nconst retValue = (!crect.getAttribute('x').includes(','));\nif (!retValue) {\n  // Todo: i18nize or remove\n  $.alert(\n    'NOTE: This version of Opera is known to contain bugs in SVG-edit.\\n' +\n    'Please upgrade to the <a href=\"http://opera.com\">latest version</a> in which the problems have been fixed.'\n  );\n}\nreturn retValue;\n}());\n\nconst supportsNonScalingStroke_ = (function () {\nconst rect = document.createElementNS(NS.SVG, 'rect');\nrect.setAttribute('style', 'vector-effect:non-scaling-stroke');\nreturn rect.style.vectorEffect === 'non-scaling-stroke';\n}());\n\nlet supportsNativeSVGTransformLists_ = (function () {\nconst rect = document.createElementNS(NS.SVG, 'rect');\nconst rxform = rect.transform.baseVal;\nconst t1 = svg.createSVGTransform();\nrxform.appendItem(t1);\nconst r1 = rxform.getItem(0);\nconst isSVGTransform = (o) => {\n  // https://developer.mozilla.org/en-US/docs/Web/API/SVGTransform\n  return o && typeof o === 'object' && typeof o.setMatrix === 'function' && 'angle' in o;\n};\nreturn isSVGTransform(r1) && isSVGTransform(t1) &&\n  r1.type === t1.type && r1.angle === t1.angle &&\n  r1.matrix.a === t1.matrix.a &&\n  r1.matrix.b === t1.matrix.b &&\n  r1.matrix.c === t1.matrix.c &&\n  r1.matrix.d === t1.matrix.d &&\n  r1.matrix.e === t1.matrix.e &&\n  r1.matrix.f === t1.matrix.f;\n}());\n\n// Public API\n\n/**\n * @function module:browser.isOpera\n * @returns {boolean}\n*/\nexport const isOpera = () => isOpera_;\n/**\n * @function module:browser.isWebkit\n * @returns {boolean}\n*/\nexport const isWebkit = () => isWebkit_;\n/**\n * @function module:browser.isGecko\n * @returns {boolean}\n*/\nexport const isGecko = () => isGecko_;\n/**\n * @function module:browser.isIE\n * @returns {boolean}\n*/\nexport const isIE = () => isIE_;\n/**\n * @function module:browser.isChrome\n * @returns {boolean}\n*/\nexport const isChrome = () => isChrome_;\n/**\n * @function module:browser.isWindows\n * @returns {boolean}\n*/\nexport const isWindows = () => isWindows_;\n/**\n * @function module:browser.isMac\n * @returns {boolean}\n*/\nexport const isMac = () => isMac_;\n/**\n * @function module:browser.isTouch\n * @returns {boolean}\n*/\nexport const isTouch = () => isTouch_;\n\n/**\n * @function module:browser.supportsSelectors\n * @returns {boolean}\n*/\nexport const supportsSelectors = () => supportsSelectors_;\n\n/**\n * @function module:browser.supportsXpath\n * @returns {boolean}\n*/\nexport const supportsXpath = () => supportsXpath_;\n\n/**\n * @function module:browser.supportsPathReplaceItem\n * @returns {boolean}\n*/\nexport const supportsPathReplaceItem = () => supportsPathReplaceItem_;\n\n/**\n * @function module:browser.supportsPathInsertItemBefore\n * @returns {boolean}\n*/\nexport const supportsPathInsertItemBefore = () => supportsPathInsertItemBefore_;\n\n/**\n * @function module:browser.supportsPathBBox\n * @returns {boolean}\n*/\nexport const supportsPathBBox = () => supportsPathBBox_;\n\n/**\n * @function module:browser.supportsHVLineContainerBBox\n * @returns {boolean}\n*/\nexport const supportsHVLineContainerBBox = () => supportsHVLineContainerBBox_;\n\n/**\n * @function module:browser.supportsGoodTextCharPos\n * @returns {boolean}\n*/\nexport const supportsGoodTextCharPos = () => supportsGoodTextCharPos_;\n\n/**\n* @function module:browser.supportsEditableText\n * @returns {boolean}\n*/\nexport const supportsEditableText = () => supportsEditableText_;\n\n/**\n * @function module:browser.supportsGoodDecimals\n * @returns {boolean}\n*/\nexport const supportsGoodDecimals = () => supportsGoodDecimals_;\n\n/**\n* @function module:browser.supportsNonScalingStroke\n* @returns {boolean}\n*/\nexport const supportsNonScalingStroke = () => supportsNonScalingStroke_;\n\n/**\n* @function module:browser.supportsNativeTransformLists\n* @returns {boolean}\n*/\nexport const supportsNativeTransformLists = () => supportsNativeSVGTransformLists_;\n\n/**\n * Set `supportsNativeSVGTransformLists_` to `false` (for unit testing).\n * @function module:browser.disableSupportsNativeTransformLists\n * @returns {void}\n*/\nexport const disableSupportsNativeTransformLists = () => {\n  supportsNativeSVGTransformLists_ = false;\n};\n","/**\n * A jQuery module to work with SVG attributes.\n * @module jQueryAttr\n * @license MIT\n */\n\n/**\n* This fixes `$(...).attr()` to work as expected with SVG elements.\n* Does not currently use `*AttributeNS()` since we rarely need that.\n* Adds {@link external:jQuery.fn.attr}.\n* See {@link https://api.jquery.com/attr/} for basic documentation of `.attr()`.\n*\n* Additional functionality:\n* - When getting attributes, a string that's a number is returned as type number.\n* - If an array is supplied as the first parameter, multiple values are returned\n*    as an object with values for each given attribute.\n* @function module:jQueryAttr.jQueryAttr\n* @param {external:jQuery} $ The jQuery object to which to add the plug-in\n* @returns {external:jQuery}\n*/\nexport default function jQueryPluginSVG ($) {\n  const proxied = $.fn.attr,\n    svgns = 'http://www.w3.org/2000/svg';\n  /**\n  * @typedef {PlainObject<string, string|Float>} module:jQueryAttr.Attributes\n  */\n  /**\n  * @function external:jQuery.fn.attr\n  * @param {string|string[]|PlainObject<string, string>} key\n  * @param {string} value\n  * @returns {external:jQuery|module:jQueryAttr.Attributes}\n  */\n  $.fn.attr = function (key, value) {\n    const len = this.length;\n    if (!len) { return proxied.call(this, key, value); }\n    for (let i = 0; i < len; ++i) {\n      const elem = this[i];\n      // set/get SVG attribute\n      if (elem.namespaceURI === svgns) {\n        // Setting attribute\n        if (value !== undefined) {\n          elem.setAttribute(key, value);\n        } else if (Array.isArray(key)) {\n          // Getting attributes from array\n          const obj = {};\n          let j = key.length;\n\n          while (j--) {\n            const aname = key[j];\n            let attr = elem.getAttribute(aname);\n            // This returns a number when appropriate\n            if (attr || attr === '0') {\n              attr = isNaN(attr) ? attr : (attr - 0);\n            }\n            obj[aname] = attr;\n          }\n          return obj;\n        }\n        if (typeof key === 'object') {\n          // Setting attributes from object\n          for (const [name, val] of Object.entries(key)) {\n            elem.setAttribute(name, val);\n          }\n        // Getting attribute\n        } else {\n          let attr = elem.getAttribute(key);\n          if (attr || attr === '0') {\n            attr = isNaN(attr) ? attr : (attr - 0);\n          }\n          return attr;\n        }\n      } else {\n        return proxied.call(this, key, value);\n      }\n    }\n    return this;\n  };\n  return $;\n}\n","/**\n * Partial polyfill of `SVGTransformList`\n * @module SVGTransformList\n *\n * @license MIT\n *\n * @copyright 2010 Alexis Deveria, 2010 Jeff Schiller\n */\n\nimport {NS} from './namespaces.js';\nimport {supportsNativeTransformLists} from './browser.js';\n\nconst svgroot = document.createElementNS(NS.SVG, 'svg');\n\n/**\n * Helper function to convert `SVGTransform` to a string.\n * @param {SVGTransform} xform\n * @returns {string}\n */\nfunction transformToString (xform) {\n  const m = xform.matrix;\n  let text = '';\n  switch (xform.type) {\n  case 1: // MATRIX\n    text = 'matrix(' + [m.a, m.b, m.c, m.d, m.e, m.f].join(',') + ')';\n    break;\n  case 2: // TRANSLATE\n    text = 'translate(' + m.e + ',' + m.f + ')';\n    break;\n  case 3: // SCALE\n    if (m.a === m.d) {\n      text = 'scale(' + m.a + ')';\n    } else {\n      text = 'scale(' + m.a + ',' + m.d + ')';\n    }\n    break;\n  case 4: { // ROTATE\n    let cx = 0;\n    let cy = 0;\n    // this prevents divide by zero\n    if (xform.angle !== 0) {\n      const K = 1 - m.a;\n      cy = (K * m.f + m.b * m.e) / (K * K + m.b * m.b);\n      cx = (m.e - m.b * cy) / K;\n    }\n    text = 'rotate(' + xform.angle + ' ' + cx + ',' + cy + ')';\n    break;\n  }\n  }\n  return text;\n}\n\n/**\n * Map of SVGTransformList objects.\n */\nlet listMap_ = {};\n\n/**\n* @interface module:SVGTransformList.SVGEditTransformList\n* @property {Integer} numberOfItems unsigned long\n*/\n/**\n* @function module:SVGTransformList.SVGEditTransformList#clear\n* @returns {void}\n*/\n/**\n* @function module:SVGTransformList.SVGEditTransformList#initialize\n* @param {SVGTransform} newItem\n* @returns {SVGTransform}\n*/\n/**\n* DOES NOT THROW DOMException, INDEX_SIZE_ERR.\n* @function module:SVGTransformList.SVGEditTransformList#getItem\n* @param {Integer} index unsigned long\n* @returns {SVGTransform}\n*/\n/**\n* DOES NOT THROW DOMException, INDEX_SIZE_ERR.\n* @function module:SVGTransformList.SVGEditTransformList#insertItemBefore\n* @param {SVGTransform} newItem\n* @param {Integer} index unsigned long\n* @returns {SVGTransform}\n*/\n/**\n* DOES NOT THROW DOMException, INDEX_SIZE_ERR.\n* @function module:SVGTransformList.SVGEditTransformList#replaceItem\n* @param {SVGTransform} newItem\n* @param {Integer} index unsigned long\n* @returns {SVGTransform}\n*/\n/**\n* DOES NOT THROW DOMException, INDEX_SIZE_ERR.\n* @function module:SVGTransformList.SVGEditTransformList#removeItem\n* @param {Integer} index unsigned long\n* @returns {SVGTransform}\n*/\n/**\n* @function module:SVGTransformList.SVGEditTransformList#appendItem\n* @param {SVGTransform} newItem\n* @returns {SVGTransform}\n*/\n/**\n* NOT IMPLEMENTED.\n* @ignore\n* @function module:SVGTransformList.SVGEditTransformList#createSVGTransformFromMatrix\n* @param {SVGMatrix} matrix\n* @returns {SVGTransform}\n*/\n/**\n* NOT IMPLEMENTED.\n* @ignore\n* @function module:SVGTransformList.SVGEditTransformList#consolidate\n* @returns {SVGTransform}\n*/\n\n/**\n* SVGTransformList implementation for Webkit.\n* These methods do not currently raise any exceptions.\n* These methods also do not check that transforms are being inserted.  This is basically\n* implementing as much of SVGTransformList that we need to get the job done.\n* @implements {module:SVGTransformList.SVGEditTransformList}\n*/\nexport class SVGTransformList { // eslint-disable-line no-shadow\n  /**\n  * @param {Element} elem\n  * @returns {SVGTransformList}\n  */\n  constructor (elem) {\n    this._elem = elem || null;\n    this._xforms = [];\n    // TODO: how do we capture the undo-ability in the changed transform list?\n    this._update = function () {\n      let tstr = '';\n      // /* const concatMatrix = */ svgroot.createSVGMatrix();\n      for (let i = 0; i < this.numberOfItems; ++i) {\n        const xform = this._list.getItem(i);\n        tstr += transformToString(xform) + ' ';\n      }\n      this._elem.setAttribute('transform', tstr);\n    };\n    this._list = this;\n    this._init = function () {\n      // Transform attribute parser\n      let str = this._elem.getAttribute('transform');\n      if (!str) { return; }\n\n      // TODO: Add skew support in future\n      const re = /\\s*((scale|matrix|rotate|translate)\\s*\\(.*?\\))\\s*,?\\s*/;\n      // const re = /\\s*(?<xform>(?:scale|matrix|rotate|translate)\\s*\\(.*?\\))\\s*,?\\s*/;\n      let m = true;\n      while (m) {\n        m = str.match(re);\n        str = str.replace(re, '');\n        if (m && m[1]) {\n          const x = m[1];\n          const bits = x.split(/\\s*\\(/);\n          const name = bits[0];\n          const valBits = bits[1].match(/\\s*(.*?)\\s*\\)/);\n          valBits[1] = valBits[1].replace(/(\\d)-/g, '$1 -');\n          const valArr = valBits[1].split(/[, ]+/);\n          const letters = 'abcdef'.split('');\n          /*\n        if (m && m.groups.xform) {\n          const x = m.groups.xform;\n          const [name, bits] = x.split(/\\s*\\(/);\n          const valBits = bits.match(/\\s*(?<nonWhitespace>.*?)\\s*\\)/);\n          valBits.groups.nonWhitespace = valBits.groups.nonWhitespace.replace(\n            /(?<digit>\\d)-/g, '$<digit> -'\n          );\n          const valArr = valBits.groups.nonWhitespace.split(/[, ]+/);\n          const letters = [...'abcdef'];\n          */\n          const mtx = svgroot.createSVGMatrix();\n          Object.values(valArr).forEach(function (item, i) {\n            valArr[i] = Number.parseFloat(item);\n            if (name === 'matrix') {\n              mtx[letters[i]] = valArr[i];\n            }\n          });\n          const xform = svgroot.createSVGTransform();\n          const fname = 'set' + name.charAt(0).toUpperCase() + name.slice(1);\n          const values = name === 'matrix' ? [mtx] : valArr;\n\n          if (name === 'scale' && values.length === 1) {\n            values.push(values[0]);\n          } else if (name === 'translate' && values.length === 1) {\n            values.push(0);\n          } else if (name === 'rotate' && values.length === 1) {\n            values.push(0, 0);\n          }\n          xform[fname](...values);\n          this._list.appendItem(xform);\n        }\n      }\n    };\n    this._removeFromOtherLists = function (item) {\n      if (item) {\n        // Check if this transform is already in a transformlist, and\n        // remove it if so.\n        Object.values(listMap_).some((tl) => {\n          for (let i = 0, len = tl._xforms.length; i < len; ++i) {\n            if (tl._xforms[i] === item) {\n              tl.removeItem(i);\n              return true;\n            }\n          }\n          return false;\n        });\n      }\n    };\n\n    this.numberOfItems = 0;\n  }\n  /**\n  * @returns {void}\n  */\n  clear () {\n    this.numberOfItems = 0;\n    this._xforms = [];\n  }\n\n  /**\n  * @param {SVGTransform} newItem\n  * @returns {void}\n  */\n  initialize (newItem) {\n    this.numberOfItems = 1;\n    this._removeFromOtherLists(newItem);\n    this._xforms = [newItem];\n  }\n\n  /**\n  * @param {Integer} index unsigned long\n  * @throws {Error}\n  * @returns {SVGTransform}\n  */\n  getItem (index) {\n    if (index < this.numberOfItems && index >= 0) {\n      return this._xforms[index];\n    }\n    const err = new Error('DOMException with code=INDEX_SIZE_ERR');\n    err.code = 1;\n    throw err;\n  }\n\n  /**\n  * @param {SVGTransform} newItem\n  * @param {Integer} index unsigned long\n  * @returns {SVGTransform}\n  */\n  insertItemBefore (newItem, index) {\n    let retValue = null;\n    if (index >= 0) {\n      if (index < this.numberOfItems) {\n        this._removeFromOtherLists(newItem);\n        const newxforms = new Array(this.numberOfItems + 1);\n        // TODO: use array copying and slicing\n        let i;\n        for (i = 0; i < index; ++i) {\n          newxforms[i] = this._xforms[i];\n        }\n        newxforms[i] = newItem;\n        for (let j = i + 1; i < this.numberOfItems; ++j, ++i) {\n          newxforms[j] = this._xforms[i];\n        }\n        this.numberOfItems++;\n        this._xforms = newxforms;\n        retValue = newItem;\n        this._list._update();\n      } else {\n        retValue = this._list.appendItem(newItem);\n      }\n    }\n    return retValue;\n  }\n\n  /**\n  * @param {SVGTransform} newItem\n  * @param {Integer} index unsigned long\n  * @returns {SVGTransform}\n  */\n  replaceItem (newItem, index) {\n    let retValue = null;\n    if (index < this.numberOfItems && index >= 0) {\n      this._removeFromOtherLists(newItem);\n      this._xforms[index] = newItem;\n      retValue = newItem;\n      this._list._update();\n    }\n    return retValue;\n  }\n\n  /**\n  * @param {Integer} index unsigned long\n  * @throws {Error}\n  * @returns {SVGTransform}\n  */\n  removeItem (index) {\n    if (index < this.numberOfItems && index >= 0) {\n      const retValue = this._xforms[index];\n      const newxforms = new Array(this.numberOfItems - 1);\n      let i;\n      for (i = 0; i < index; ++i) {\n        newxforms[i] = this._xforms[i];\n      }\n      for (let j = i; j < this.numberOfItems - 1; ++j, ++i) {\n        newxforms[j] = this._xforms[i + 1];\n      }\n      this.numberOfItems--;\n      this._xforms = newxforms;\n      this._list._update();\n      return retValue;\n    }\n    const err = new Error('DOMException with code=INDEX_SIZE_ERR');\n    err.code = 1;\n    throw err;\n  }\n\n  /**\n  * @param {SVGTransform} newItem\n  * @returns {SVGTransform}\n  */\n  appendItem (newItem) {\n    this._removeFromOtherLists(newItem);\n    this._xforms.push(newItem);\n    this.numberOfItems++;\n    this._list._update();\n    return newItem;\n  }\n}\n\n/**\n* @function module:SVGTransformList.resetListMap\n* @returns {void}\n*/\nexport const resetListMap = function () {\n  listMap_ = {};\n};\n\n/**\n * Removes transforms of the given element from the map.\n * @function module:SVGTransformList.removeElementFromListMap\n * @param {Element} elem - a DOM Element\n * @returns {void}\n */\nexport let removeElementFromListMap = function (elem) { // eslint-disable-line import/no-mutable-exports\n  if (elem.id && listMap_[elem.id]) {\n    delete listMap_[elem.id];\n  }\n};\n\n/**\n* Returns an object that behaves like a `SVGTransformList` for the given DOM element.\n* @function module:SVGTransformList.getTransformList\n* @param {Element} elem - DOM element to get a transformlist from\n* @todo The polyfill should have `SVGAnimatedTransformList` and this should use it\n* @returns {SVGAnimatedTransformList|SVGTransformList}\n*/\nexport const getTransformList = function (elem) {\n  if (!supportsNativeTransformLists()) {\n    const id = elem.id || 'temp';\n    let t = listMap_[id];\n    if (!t || id === 'temp') {\n      listMap_[id] = new SVGTransformList(elem);\n      listMap_[id]._init();\n      t = listMap_[id];\n    }\n    return t;\n  }\n  if (elem.transform) {\n    return elem.transform.baseVal;\n  }\n  if (elem.gradientTransform) {\n    return elem.gradientTransform.baseVal;\n  }\n  if (elem.patternTransform) {\n    return elem.patternTransform.baseVal;\n  }\n\n  return null;\n};\n\n/**\n* @callback module:SVGTransformList.removeElementFromListMap\n* @param {Element} elem\n* @returns {void}\n*/\n/**\n* Replace `removeElementFromListMap` for unit-testing.\n* @function module:SVGTransformList.changeRemoveElementFromListMap\n* @param {module:SVGTransformList.removeElementFromListMap} cb Passed a single argument `elem`\n* @returns {void}\n*/\n\nexport const changeRemoveElementFromListMap = function (cb) { // eslint-disable-line promise/prefer-await-to-callbacks\n  removeElementFromListMap = cb;\n};\n","/**\n * Tools for working with units.\n * @module units\n * @license MIT\n *\n * @copyright 2010 Alexis Deveria, 2010 Jeff Schiller\n */\n\nimport {NS} from './namespaces.js';\n\nconst wAttrs = ['x', 'x1', 'cx', 'rx', 'width'];\nconst hAttrs = ['y', 'y1', 'cy', 'ry', 'height'];\nconst unitAttrs = ['r', 'radius', ...wAttrs, ...hAttrs];\n// unused\n/*\nconst unitNumMap = {\n  '%': 2,\n  em: 3,\n  ex: 4,\n  px: 5,\n  cm: 6,\n  mm: 7,\n  in: 8,\n  pt: 9,\n  pc: 10\n};\n*/\n// Container of elements.\nlet elementContainer_;\n\n// Stores mapping of unit type to user coordinates.\nlet typeMap_ = {};\n\n/**\n * @interface module:units.ElementContainer\n */\n/**\n * @function module:units.ElementContainer#getBaseUnit\n * @returns {string} The base unit type of the container ('em')\n */\n/**\n * @function module:units.ElementContainer#getElement\n * @returns {?Element} An element in the container given an id\n */\n/**\n * @function module:units.ElementContainer#getHeight\n * @returns {Float} The container's height\n */\n/**\n * @function module:units.ElementContainer#getWidth\n * @returns {Float} The container's width\n */\n/**\n * @function module:units.ElementContainer#getRoundDigits\n * @returns {Integer} The number of digits number should be rounded to\n */\n\n/* eslint-disable jsdoc/valid-types */\n/**\n * @typedef {PlainObject} module:units.TypeMap\n * @property {Float} em\n * @property {Float} ex\n * @property {Float} in\n * @property {Float} cm\n * @property {Float} mm\n * @property {Float} pt\n * @property {Float} pc\n * @property {Integer} px\n * @property {0} %\n */\n/* eslint-enable jsdoc/valid-types */\n\n/**\n * Initializes this module.\n *\n * @function module:units.init\n * @param {module:units.ElementContainer} elementContainer - An object implementing the ElementContainer interface.\n * @returns {void}\n */\nexport const init = function (elementContainer) {\n  elementContainer_ = elementContainer;\n\n  // Get correct em/ex values by creating a temporary SVG.\n  const svg = document.createElementNS(NS.SVG, 'svg');\n  document.body.append(svg);\n  const rect = document.createElementNS(NS.SVG, 'rect');\n  rect.setAttribute('width', '1em');\n  rect.setAttribute('height', '1ex');\n  rect.setAttribute('x', '1in');\n  svg.append(rect);\n  const bb = rect.getBBox();\n  svg.remove();\n\n  const inch = bb.x;\n  typeMap_ = {\n    em: bb.width,\n    ex: bb.height,\n    in: inch,\n    cm: inch / 2.54,\n    mm: inch / 25.4,\n    pt: inch / 72,\n    pc: inch / 6,\n    px: 1,\n    '%': 0\n  };\n};\n\n/**\n* Group: Unit conversion functions.\n*/\n\n/**\n * @function module:units.getTypeMap\n * @returns {module:units.TypeMap} The unit object with values for each unit\n*/\nexport const getTypeMap = function () {\n  return typeMap_;\n};\n\n/**\n* @typedef {GenericArray} module:units.CompareNumbers\n* @property {Integer} length 2\n* @property {Float} 0\n* @property {Float} 1\n*/\n\n/**\n* Rounds a given value to a float with number of digits defined in\n* `round_digits` of `saveOptions`\n*\n* @function module:units.shortFloat\n* @param {string|Float|module:units.CompareNumbers} val - The value (or Array of two numbers) to be rounded\n* @returns {Float|string} If a string/number was given, returns a Float. If an array, return a string\n* with comma-separated floats\n*/\nexport const shortFloat = function (val) {\n  const digits = elementContainer_.getRoundDigits();\n  if (!isNaN(val)) {\n    return Number(Number(val).toFixed(digits));\n  }\n  if (Array.isArray(val)) {\n    return shortFloat(val[0]) + ',' + shortFloat(val[1]);\n  }\n  return Number.parseFloat(val).toFixed(digits) - 0;\n};\n\n/**\n* Converts the number to given unit or baseUnit.\n* @function module:units.convertUnit\n* @param {string|Float} val\n* @param {\"em\"|\"ex\"|\"in\"|\"cm\"|\"mm\"|\"pt\"|\"pc\"|\"px\"|\"%\"} [unit]\n* @returns {Float}\n*/\nexport const convertUnit = function (val, unit) {\n  unit = unit || elementContainer_.getBaseUnit();\n  // baseVal.convertToSpecifiedUnits(unitNumMap[unit]);\n  // const val = baseVal.valueInSpecifiedUnits;\n  // baseVal.convertToSpecifiedUnits(1);\n  return shortFloat(val / typeMap_[unit]);\n};\n\n/**\n* Sets an element's attribute based on the unit in its current value.\n*\n* @function module:units.setUnitAttr\n* @param {Element} elem - DOM element to be changed\n* @param {string} attr - Name of the attribute associated with the value\n* @param {string} val - Attribute value to convert\n* @returns {void}\n*/\nexport const setUnitAttr = function (elem, attr, val) {\n  //  if (!isNaN(val)) {\n  // New value is a number, so check currently used unit\n  // const oldVal = elem.getAttribute(attr);\n\n  // Enable this for alternate mode\n  // if (oldVal !== null && (isNaN(oldVal) || elementContainer_.getBaseUnit() !== 'px')) {\n  //   // Old value was a number, so get unit, then convert\n  //   let unit;\n  //   if (oldVal.substr(-1) === '%') {\n  //     const res = getResolution();\n  //     unit = '%';\n  //     val *= 100;\n  //     if (wAttrs.includes(attr)) {\n  //       val = val / res.w;\n  //     } else if (hAttrs.includes(attr)) {\n  //       val = val / res.h;\n  //     } else {\n  //       return val / Math.sqrt((res.w*res.w) + (res.h*res.h))/Math.sqrt(2);\n  //     }\n  //   } else {\n  //     if (elementContainer_.getBaseUnit() !== 'px') {\n  //       unit = elementContainer_.getBaseUnit();\n  //     } else {\n  //       unit = oldVal.substr(-2);\n  //     }\n  //     val = val / typeMap_[unit];\n  //   }\n  //\n  // val += unit;\n  // }\n  // }\n  elem.setAttribute(attr, val);\n};\n\nconst attrsToConvert = {\n  line: ['x1', 'x2', 'y1', 'y2'],\n  circle: ['cx', 'cy', 'r'],\n  ellipse: ['cx', 'cy', 'rx', 'ry'],\n  foreignObject: ['x', 'y', 'width', 'height'],\n  rect: ['x', 'y', 'width', 'height'],\n  image: ['x', 'y', 'width', 'height'],\n  use: ['x', 'y', 'width', 'height'],\n  text: ['x', 'y']\n};\n\n/**\n* Converts all applicable attributes to the configured baseUnit.\n* @function module:units.convertAttrs\n* @param {Element} element - A DOM element whose attributes should be converted\n* @returns {void}\n*/\nexport const convertAttrs = function (element) {\n  const elName = element.tagName;\n  const unit = elementContainer_.getBaseUnit();\n  const attrs = attrsToConvert[elName];\n  if (!attrs) { return; }\n\n  const len = attrs.length;\n  for (let i = 0; i < len; i++) {\n    const attr = attrs[i];\n    const cur = element.getAttribute(attr);\n    if (cur) {\n      if (!isNaN(cur)) {\n        element.setAttribute(attr, (cur / typeMap_[unit]) + unit);\n      }\n      // else {\n      // Convert existing?\n      // }\n    }\n  }\n};\n\n/**\n* Converts given values to numbers. Attributes must be supplied in\n* case a percentage is given.\n*\n* @function module:units.convertToNum\n* @param {string} attr - Name of the attribute associated with the value\n* @param {string} val - Attribute value to convert\n* @returns {Float} The converted number\n*/\nexport const convertToNum = function (attr, val) {\n  // Return a number if that's what it already is\n  if (!isNaN(val)) { return val - 0; }\n  if (val.substr(-1) === '%') {\n    // Deal with percentage, depends on attribute\n    const num = val.substr(0, val.length - 1) / 100;\n    const width = elementContainer_.getWidth();\n    const height = elementContainer_.getHeight();\n\n    if (wAttrs.includes(attr)) {\n      return num * width;\n    }\n    if (hAttrs.includes(attr)) {\n      return num * height;\n    }\n    return num * Math.sqrt((width * width) + (height * height)) / Math.sqrt(2);\n  }\n  const unit = val.substr(-2);\n  const num = val.substr(0, val.length - 2);\n  // Note that this multiplication turns the string into a number\n  return num * typeMap_[unit];\n};\n\n/**\n* Check if an attribute's value is in a valid format.\n* @function module:units.isValidUnit\n* @param {string} attr - The name of the attribute associated with the value\n* @param {string} val - The attribute value to check\n* @param {Element} selectedElement\n* @returns {boolean} Whether the unit is valid\n*/\nexport const isValidUnit = function (attr, val, selectedElement) {\n  if (unitAttrs.includes(attr)) {\n    // True if it's just a number\n    if (!isNaN(val)) {\n      return true;\n    }\n    // Not a number, check if it has a valid unit\n    val = val.toLowerCase();\n    return Object.keys(typeMap_).some((unit) => {\n      const re = new RegExp('^-?[\\\\d\\\\.]+' + unit + '$');\n      return re.test(val);\n    });\n  }\n  if (attr === 'id') {\n    // if we're trying to change the id, make sure it's not already present in the doc\n    // and the id value is valid.\n\n    let result = false;\n    // because getElem() can throw an exception in the case of an invalid id\n    // (according to https://www.w3.org/TR/xml-id/ IDs must be a NCName)\n    // we wrap it in an exception and only return true if the ID was valid and\n    // not already present\n    try {\n      const elem = elementContainer_.getElement(val);\n      result = (!elem || elem === selectedElement);\n    } catch (e) {}\n    return result;\n  }\n  return true;\n};\n","/**\n * Mathematical utilities.\n * @module math\n * @license MIT\n *\n * @copyright 2010 Alexis Deveria, 2010 Jeff Schiller\n */\n\n/**\n* @typedef {PlainObject} module:math.AngleCoord45\n* @property {Float} x - The angle-snapped x value\n* @property {Float} y - The angle-snapped y value\n* @property {Integer} a - The angle at which to snap\n*/\n\n/**\n* @typedef {PlainObject} module:math.XYObject\n* @property {Float} x\n* @property {Float} y\n*/\n\nimport {NS} from './namespaces.js';\nimport {getTransformList} from './svgtransformlist.js';\n\n// Constants\nconst NEAR_ZERO = 1e-14;\n\n// Throw away SVGSVGElement used for creating matrices/transforms.\nconst svg = document.createElementNS(NS.SVG, 'svg');\n\n/**\n * A (hopefully) quicker function to transform a point by a matrix\n * (this function avoids any DOM calls and just does the math).\n * @function module:math.transformPoint\n * @param {Float} x - Float representing the x coordinate\n * @param {Float} y - Float representing the y coordinate\n * @param {SVGMatrix} m - Matrix object to transform the point with\n * @returns {module:math.XYObject} An x, y object representing the transformed point\n*/\nexport const transformPoint = function (x, y, m) {\n  return {x: m.a * x + m.c * y + m.e, y: m.b * x + m.d * y + m.f};\n};\n\n/**\n * Helper function to check if the matrix performs no actual transform\n * (i.e. exists for identity purposes).\n * @function module:math.isIdentity\n * @param {SVGMatrix} m - The matrix object to check\n * @returns {boolean} Indicates whether or not the matrix is 1,0,0,1,0,0\n*/\nexport const isIdentity = function (m) {\n  return (m.a === 1 && m.b === 0 && m.c === 0 && m.d === 1 && m.e === 0 && m.f === 0);\n};\n\n/**\n * This function tries to return a `SVGMatrix` that is the multiplication `m1 * m2`.\n * We also round to zero when it's near zero.\n * @function module:math.matrixMultiply\n * @param {...SVGMatrix} args - Matrix objects to multiply\n * @returns {SVGMatrix} The matrix object resulting from the calculation\n*/\nexport const matrixMultiply = function (...args) {\n  const m = args.reduceRight((prev, m1) => {\n    return m1.multiply(prev);\n  });\n\n  if (Math.abs(m.a) < NEAR_ZERO) { m.a = 0; }\n  if (Math.abs(m.b) < NEAR_ZERO) { m.b = 0; }\n  if (Math.abs(m.c) < NEAR_ZERO) { m.c = 0; }\n  if (Math.abs(m.d) < NEAR_ZERO) { m.d = 0; }\n  if (Math.abs(m.e) < NEAR_ZERO) { m.e = 0; }\n  if (Math.abs(m.f) < NEAR_ZERO) { m.f = 0; }\n\n  return m;\n};\n\n/**\n * See if the given transformlist includes a non-indentity matrix transform.\n * @function module:math.hasMatrixTransform\n * @param {SVGTransformList} [tlist] - The transformlist to check\n * @returns {boolean} Whether or not a matrix transform was found\n*/\nexport const hasMatrixTransform = function (tlist) {\n  if (!tlist) { return false; }\n  let num = tlist.numberOfItems;\n  while (num--) {\n    const xform = tlist.getItem(num);\n    if (xform.type === 1 && !isIdentity(xform.matrix)) { return true; }\n  }\n  return false;\n};\n\n/**\n* @typedef {PlainObject} module:math.TransformedBox An object with the following values\n* @property {module:math.XYObject} tl - The top left coordinate\n* @property {module:math.XYObject} tr - The top right coordinate\n* @property {module:math.XYObject} bl - The bottom left coordinate\n* @property {module:math.XYObject} br - The bottom right coordinate\n* @property {PlainObject} aabox - Object with the following values:\n* @property {Float} aabox.x - Float with the axis-aligned x coordinate\n* @property {Float} aabox.y - Float with the axis-aligned y coordinate\n* @property {Float} aabox.width - Float with the axis-aligned width coordinate\n* @property {Float} aabox.height - Float with the axis-aligned height coordinate\n*/\n\n/**\n * Transforms a rectangle based on the given matrix.\n * @function module:math.transformBox\n * @param {Float} l - Float with the box's left coordinate\n * @param {Float} t - Float with the box's top coordinate\n * @param {Float} w - Float with the box width\n * @param {Float} h - Float with the box height\n * @param {SVGMatrix} m - Matrix object to transform the box by\n * @returns {module:math.TransformedBox}\n*/\nexport const transformBox = function (l, t, w, h, m) {\n  const tl = transformPoint(l, t, m),\n    tr = transformPoint((l + w), t, m),\n    bl = transformPoint(l, (t + h), m),\n    br = transformPoint((l + w), (t + h), m),\n\n    minx = Math.min(tl.x, tr.x, bl.x, br.x),\n    maxx = Math.max(tl.x, tr.x, bl.x, br.x),\n    miny = Math.min(tl.y, tr.y, bl.y, br.y),\n    maxy = Math.max(tl.y, tr.y, bl.y, br.y);\n\n  return {\n    tl,\n    tr,\n    bl,\n    br,\n    aabox: {\n      x: minx,\n      y: miny,\n      width: (maxx - minx),\n      height: (maxy - miny)\n    }\n  };\n};\n\n/**\n * This returns a single matrix Transform for a given Transform List\n * (this is the equivalent of `SVGTransformList.consolidate()` but unlike\n * that method, this one does not modify the actual `SVGTransformList`).\n * This function is very liberal with its `min`, `max` arguments.\n * @function module:math.transformListToTransform\n * @param {SVGTransformList} tlist - The transformlist object\n * @param {Integer} [min=0] - Optional integer indicating start transform position\n * @param {Integer} [max] - Optional integer indicating end transform position;\n *   defaults to one less than the tlist's `numberOfItems`\n * @returns {SVGTransform} A single matrix transform object\n*/\nexport const transformListToTransform = function (tlist, min, max) {\n  if (!tlist) {\n    // Or should tlist = null have been prevented before this?\n    return svg.createSVGTransformFromMatrix(svg.createSVGMatrix());\n  }\n  min = min || 0;\n  max = max || (tlist.numberOfItems - 1);\n  min = Number.parseInt(min);\n  max = Number.parseInt(max);\n  if (min > max) { const temp = max; max = min; min = temp; }\n  let m = svg.createSVGMatrix();\n  for (let i = min; i <= max; ++i) {\n    // if our indices are out of range, just use a harmless identity matrix\n    const mtom = (i >= 0 && i < tlist.numberOfItems\n      ? tlist.getItem(i).matrix\n      : svg.createSVGMatrix());\n    m = matrixMultiply(m, mtom);\n  }\n  return svg.createSVGTransformFromMatrix(m);\n};\n\n/**\n * Get the matrix object for a given element.\n * @function module:math.getMatrix\n * @param {Element} elem - The DOM element to check\n * @returns {SVGMatrix} The matrix object associated with the element's transformlist\n*/\nexport const getMatrix = function (elem) {\n  const tlist = getTransformList(elem);\n  return transformListToTransform(tlist).matrix;\n};\n\n/**\n * Returns a 45 degree angle coordinate associated with the two given\n * coordinates.\n * @function module:math.snapToAngle\n * @param {Integer} x1 - First coordinate's x value\n * @param {Integer} y1 - First coordinate's y value\n * @param {Integer} x2 - Second coordinate's x value\n * @param {Integer} y2 - Second coordinate's y value\n * @returns {module:math.AngleCoord45}\n*/\nexport const snapToAngle = function (x1, y1, x2, y2) {\n  const snap = Math.PI / 4; // 45 degrees\n  const dx = x2 - x1;\n  const dy = y2 - y1;\n  const angle = Math.atan2(dy, dx);\n  const dist = Math.sqrt(dx * dx + dy * dy);\n  const snapangle = Math.round(angle / snap) * snap;\n\n  return {\n    x: x1 + dist * Math.cos(snapangle),\n    y: y1 + dist * Math.sin(snapangle),\n    a: snapangle\n  };\n};\n\n/**\n * Check if two rectangles (BBoxes objects) intersect each other.\n * @function module:math.rectsIntersect\n * @param {SVGRect} r1 - The first BBox-like object\n * @param {SVGRect} r2 - The second BBox-like object\n * @returns {boolean} True if rectangles intersect\n */\nexport const rectsIntersect = function (r1, r2) {\n  return r2.x < (r1.x + r1.width) &&\n    (r2.x + r2.width) > r1.x &&\n    r2.y < (r1.y + r1.height) &&\n    (r2.y + r2.height) > r1.y;\n};\n","/* globals jQuery */\n/**\n * Miscellaneous utilities.\n * @module utilities\n * @license MIT\n *\n * @copyright 2010 Alexis Deveria, 2010 Jeff Schiller\n */\n\nimport './svgpathseg.js';\nimport jQueryPluginSVG from './jQuery.attr.js'; // Needed for SVG attribute setting and array form with `attr`\nimport {NS} from './namespaces.js';\nimport {getTransformList} from './svgtransformlist.js';\nimport {setUnitAttr, getTypeMap} from './units.js';\nimport {\n  hasMatrixTransform, transformListToTransform, transformBox\n} from './math.js';\nimport {\n  isWebkit, supportsHVLineContainerBBox, supportsPathBBox, supportsXpath,\n  supportsSelectors\n} from './browser.js';\n\n// Constants\nconst $ = jQueryPluginSVG(jQuery);\n\n// String used to encode base64.\nconst KEYSTR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n// Much faster than running getBBox() every time\nconst visElems = 'a,circle,ellipse,foreignObject,g,image,line,path,polygon,polyline,rect,svg,text,tspan,use,clipPath';\nconst visElemsArr = visElems.split(',');\n// const hidElems = 'defs,desc,feGaussianBlur,filter,linearGradient,marker,mask,metadata,pattern,radialGradient,stop,switch,symbol,title,textPath';\n\nlet editorContext_ = null;\nlet domdoc_ = null;\nlet domcontainer_ = null;\nlet svgroot_ = null;\n\n/**\n* Object with the following keys/values.\n* @typedef {PlainObject} module:utilities.SVGElementJSON\n* @property {string} element - Tag name of the SVG element to create\n* @property {PlainObject<string, string>} attr - Has key-value attributes to assign to the new element. An `id` should be set so that {@link module:utilities.EditorContext#addSVGElementFromJson} can later re-identify the element for modification or replacement.\n* @property {boolean} [curStyles=false] - Indicates whether current style attributes should be applied first\n* @property {module:utilities.SVGElementJSON[]} [children] - Data objects to be added recursively as children\n* @property {string} [namespace=\"http://www.w3.org/2000/svg\"] - Indicate a (non-SVG) namespace\n*/\n\n/**\n * An object that creates SVG elements for the canvas.\n *\n * @interface module:utilities.EditorContext\n * @property {module:path.pathActions} pathActions\n */\n/**\n * @function module:utilities.EditorContext#getSVGContent\n * @returns {SVGSVGElement}\n */\n/**\n * Create a new SVG element based on the given object keys/values and add it\n * to the current layer.\n * The element will be run through `cleanupElement` before being returned.\n * @function module:utilities.EditorContext#addSVGElementFromJson\n * @param {module:utilities.SVGElementJSON} data\n * @returns {Element} The new element\n*/\n/**\n * @function module:utilities.EditorContext#getSelectedElements\n * @returns {Element[]} the array with selected DOM elements\n*/\n/**\n * @function module:utilities.EditorContext#getDOMDocument\n * @returns {HTMLDocument}\n*/\n/**\n * @function module:utilities.EditorContext#getDOMContainer\n * @returns {HTMLElement}\n*/\n/**\n * @function module:utilities.EditorContext#getSVGRoot\n * @returns {SVGSVGElement}\n*/\n/**\n * @function module:utilities.EditorContext#getBaseUnit\n * @returns {string}\n*/\n/**\n * @function module:utilities.EditorContext#getSnappingStep\n * @returns {Float|string}\n*/\n\n/**\n* @function module:utilities.init\n* @param {module:utilities.EditorContext} editorContext\n* @returns {void}\n*/\nexport const init = function (editorContext) {\n  editorContext_ = editorContext;\n  domdoc_ = editorContext.getDOMDocument();\n  domcontainer_ = editorContext.getDOMContainer();\n  svgroot_ = editorContext.getSVGRoot();\n};\n\n/**\n * Used to prevent the [Billion laughs attack]{@link https://en.wikipedia.org/wiki/Billion_laughs_attack}.\n * @function module:utilities.dropXMLInternalSubset\n * @param {string} str String to be processed\n * @returns {string} The string with entity declarations in the internal subset removed\n * @todo This might be needed in other places `parseFromString` is used even without LGTM flagging\n */\nexport const dropXMLInternalSubset = (str) => {\n  return str.replace(/(<!DOCTYPE\\s+\\w*\\s*\\[).*(\\?]>)/, '$1$2');\n  // return str.replace(/(?<doctypeOpen><!DOCTYPE\\s+\\w*\\s*\\[).*(?<doctypeClose>\\?\\]>)/, '$<doctypeOpen>$<doctypeClose>');\n};\n\n/**\n* Converts characters in a string to XML-friendly entities.\n* @function module:utilities.toXml\n* @example `&` becomes `&amp;`\n* @param {string} str - The string to be converted\n* @returns {string} The converted string\n*/\nexport const toXml = function (str) {\n  // &apos; is ok in XML, but not HTML\n  // &gt; does not normally need escaping, though it can if within a CDATA expression (and preceded by \"]]\")\n  return str\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#x27;'); // Note: `&apos;` is XML only\n};\n\n/**\n* Converts XML entities in a string to single characters.\n* @function module:utilities.fromXml\n* @example `&amp;` becomes `&`\n* @param {string} str - The string to be converted\n* @returns {string} The converted string\n*/\nexport function fromXml (str) {\n  return $('<p/>').html(str).text();\n}\n\n// This code was written by Tyler Akins and has been placed in the\n// public domain.  It would be nice if you left this header intact.\n// Base64 code from Tyler Akins -- http://rumkin.com\n\n// schiller: Removed string concatenation in favour of Array.join() optimization,\n//        also precalculate the size of the array needed.\n\n/**\n* Converts a string to base64.\n* @function module:utilities.encode64\n* @param {string} input\n* @returns {string} Base64 output\n*/\nexport function encode64 (input) {\n  // base64 strings are 4/3 larger than the original string\n  input = encodeUTF8(input); // convert non-ASCII characters\n  // input = convertToXMLReferences(input);\n  if (window.btoa) {\n    return window.btoa(input); // Use native if available\n  }\n  const output = new Array(Math.floor((input.length + 2) / 3) * 4);\n\n  let i = 0,\n    p = 0;\n  do {\n    const chr1 = input.charCodeAt(i++);\n    const chr2 = input.charCodeAt(i++);\n    const chr3 = input.charCodeAt(i++);\n\n    /* eslint-disable no-bitwise */\n    const enc1 = chr1 >> 2;\n    const enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n\n    let enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n    let enc4 = chr3 & 63;\n    /* eslint-enable no-bitwise */\n\n    if (Number.isNaN(chr2)) {\n      enc3 = 64;\n      enc4 = 64;\n    } else if (Number.isNaN(chr3)) {\n      enc4 = 64;\n    }\n\n    output[p++] = KEYSTR.charAt(enc1);\n    output[p++] = KEYSTR.charAt(enc2);\n    output[p++] = KEYSTR.charAt(enc3);\n    output[p++] = KEYSTR.charAt(enc4);\n  } while (i < input.length);\n\n  return output.join('');\n}\n\n/**\n* Converts a string from base64.\n* @function module:utilities.decode64\n* @param {string} input Base64-encoded input\n* @returns {string} Decoded output\n*/\nexport function decode64 (input) {\n  if (window.atob) {\n    return decodeUTF8(window.atob(input));\n  }\n\n  // remove all characters that are not A-Z, a-z, 0-9, +, /, or =\n  input = input.replace(/[^A-Za-z\\d+/=]/g, '');\n\n  let output = '';\n  let i = 0;\n\n  do {\n    const enc1 = KEYSTR.indexOf(input.charAt(i++));\n    const enc2 = KEYSTR.indexOf(input.charAt(i++));\n    const enc3 = KEYSTR.indexOf(input.charAt(i++));\n    const enc4 = KEYSTR.indexOf(input.charAt(i++));\n\n    /* eslint-disable no-bitwise */\n    const chr1 = (enc1 << 2) | (enc2 >> 4);\n    const chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n    const chr3 = ((enc3 & 3) << 6) | enc4;\n    /* eslint-enable no-bitwise */\n\n    output += String.fromCharCode(chr1);\n\n    if (enc3 !== 64) {\n      output += String.fromCharCode(chr2);\n    }\n    if (enc4 !== 64) {\n      output += String.fromCharCode(chr3);\n    }\n  } while (i < input.length);\n  return decodeUTF8(output);\n}\n\n/**\n* @function module:utilities.decodeUTF8\n* @param {string} argString\n* @returns {string}\n*/\nexport function decodeUTF8 (argString) {\n  return decodeURIComponent(escape(argString));\n}\n\n// codedread:does not seem to work with webkit-based browsers on OSX // Brettz9: please test again as function upgraded\n/**\n* @function module:utilities.encodeUTF8\n* @param {string} argString\n* @returns {string}\n*/\nexport const encodeUTF8 = function (argString) {\n  return unescape(encodeURIComponent(argString));\n};\n\n/**\n * Convert dataURL to object URL.\n * @function module:utilities.dataURLToObjectURL\n * @param {string} dataurl\n * @returns {string} object URL or empty string\n */\nexport const dataURLToObjectURL = function (dataurl) {\n  if (typeof Uint8Array === 'undefined' || typeof Blob === 'undefined' || typeof URL === 'undefined' || !URL.createObjectURL) {\n    return '';\n  }\n  const arr = dataurl.split(','),\n    mime = arr[0].match(/:(.*?);/)[1],\n    bstr = atob(arr[1]);\n  /*\n  const [prefix, suffix] = dataurl.split(','),\n    {groups: {mime}} = prefix.match(/:(?<mime>.*?);/),\n    bstr = atob(suffix);\n  */\n  let n = bstr.length;\n  const u8arr = new Uint8Array(n);\n  while (n--) {\n    u8arr[n] = bstr.charCodeAt(n);\n  }\n  const blob = new Blob([u8arr], {type: mime});\n  return URL.createObjectURL(blob);\n};\n\n/**\n * Get object URL for a blob object.\n * @function module:utilities.createObjectURL\n * @param {Blob} blob A Blob object or File object\n * @returns {string} object URL or empty string\n */\nexport const createObjectURL = function (blob) {\n  if (!blob || typeof URL === 'undefined' || !URL.createObjectURL) {\n    return '';\n  }\n  return URL.createObjectURL(blob);\n};\n\n/**\n * @property {string} blankPageObjectURL\n */\nexport const blankPageObjectURL = (function () {\n  if (typeof Blob === 'undefined') {\n    return '';\n  }\n  const blob = new Blob(['<html><head><title>SVG-edit</title></head><body>&nbsp;</body></html>'], {type: 'text/html'});\n  return createObjectURL(blob);\n})();\n\n/**\n* Converts a string to use XML references (for non-ASCII).\n* @function module:utilities.convertToXMLReferences\n* @param {string} input\n* @returns {string} Decimal numeric character references\n*/\nexport const convertToXMLReferences = function (input) {\n  let output = '';\n  [...input].forEach((ch) => {\n    const c = ch.charCodeAt();\n    if (c <= 127) {\n      output += ch;\n    } else {\n      output += `&#${c};`;\n    }\n  });\n  return output;\n};\n\n/**\n* Cross-browser compatible method of converting a string to an XML tree.\n* Found this function [here]{@link http://groups.google.com/group/jquery-dev/browse_thread/thread/c6d11387c580a77f}.\n* @function module:utilities.text2xml\n* @param {string} sXML\n* @throws {Error}\n* @returns {XMLDocument}\n*/\nexport const text2xml = function (sXML) {\n  if (sXML.includes('<svg:svg')) {\n    sXML = sXML.replace(/<(\\/?)svg:/g, '<$1').replace('xmlns:svg', 'xmlns');\n  }\n\n  let out, dXML;\n  try {\n    dXML = (window.DOMParser) ? new DOMParser() : new window.ActiveXObject('Microsoft.XMLDOM');\n    dXML.async = false;\n  } catch (e) {\n    throw new Error('XML Parser could not be instantiated');\n  }\n  try {\n    if (dXML.loadXML) {\n      out = (dXML.loadXML(sXML)) ? dXML : false;\n    } else {\n      out = dXML.parseFromString(sXML, 'text/xml');\n    }\n  } catch (e2) { throw new Error('Error parsing XML string'); }\n  return out;\n};\n\n/**\n* @typedef {PlainObject} module:utilities.BBoxObject (like `DOMRect`)\n* @property {Float} x\n* @property {Float} y\n* @property {Float} width\n* @property {Float} height\n*/\n\n/**\n* Converts a `SVGRect` into an object.\n* @function module:utilities.bboxToObj\n* @param {SVGRect} bbox - a SVGRect\n* @returns {module:utilities.BBoxObject} An object with properties names x, y, width, height.\n*/\nexport const bboxToObj = function ({x, y, width, height}) {\n  return {x, y, width, height};\n};\n\n/**\n* @callback module:utilities.TreeWalker\n* @param {Element} elem - DOM element being traversed\n* @returns {void}\n*/\n\n/**\n* Walks the tree and executes the callback on each element in a top-down fashion.\n* @function module:utilities.walkTree\n* @param {Element} elem - DOM element to traverse\n* @param {module:utilities.TreeWalker} cbFn - Callback function to run on each element\n* @returns {void}\n*/\nexport const walkTree = function (elem, cbFn) {\n  if (elem && elem.nodeType === 1) {\n    cbFn(elem);\n    let i = elem.childNodes.length;\n    while (i--) {\n      walkTree(elem.childNodes.item(i), cbFn);\n    }\n  }\n};\n\n/**\n* Walks the tree and executes the callback on each element in a depth-first fashion.\n* @function module:utilities.walkTreePost\n* @todo Shouldn't this be calling walkTreePost?\n* @param {Element} elem - DOM element to traverse\n* @param {module:utilities.TreeWalker} cbFn - Callback function to run on each element\n* @returns {void}\n*/\nexport const walkTreePost = function (elem, cbFn) {\n  if (elem && elem.nodeType === 1) {\n    let i = elem.childNodes.length;\n    while (i--) {\n      walkTree(elem.childNodes.item(i), cbFn);\n    }\n    cbFn(elem);\n  }\n};\n\n/**\n* Extracts the URL from the `url(...)` syntax of some attributes.\n* Three variants:\n*  - `<circle fill=\"url(someFile.svg#foo)\" />`\n*  - `<circle fill=\"url('someFile.svg#foo')\" />`\n*  - `<circle fill='url(\"someFile.svg#foo\")' />`\n* @function module:utilities.getUrlFromAttr\n* @param {string} attrVal The attribute value as a string\n* @returns {string} String with just the URL, like \"someFile.svg#foo\"\n*/\nexport const getUrlFromAttr = function (attrVal) {\n  if (attrVal) {\n    // url('#somegrad')\n    if (attrVal.startsWith('url(\"')) {\n      return attrVal.substring(5, attrVal.indexOf('\"', 6));\n    }\n    // url('#somegrad')\n    if (attrVal.startsWith(\"url('\")) {\n      return attrVal.substring(5, attrVal.indexOf(\"'\", 6));\n    }\n    if (attrVal.startsWith('url(')) {\n      return attrVal.substring(4, attrVal.indexOf(')'));\n    }\n  }\n  return null;\n};\n\n/**\n* @function module:utilities.getHref\n* @param {Element} elem\n* @returns {string} The given element's `xlink:href` value\n*/\nexport let getHref = function (elem) { // eslint-disable-line import/no-mutable-exports\n  return elem.getAttributeNS(NS.XLINK, 'href');\n};\n\n/**\n* Sets the given element's `xlink:href` value.\n* @function module:utilities.setHref\n* @param {Element} elem\n* @param {string} val\n* @returns {void}\n*/\nexport let setHref = function (elem, val) { // eslint-disable-line import/no-mutable-exports\n  elem.setAttributeNS(NS.XLINK, 'xlink:href', val);\n};\n\n/**\n* @function module:utilities.findDefs\n* @returns {SVGDefsElement} The document's `<defs>` element, creating it first if necessary\n*/\nexport const findDefs = function () {\n  const svgElement = editorContext_.getSVGContent();\n  let defs = svgElement.getElementsByTagNameNS(NS.SVG, 'defs');\n  if (defs.length > 0) {\n    defs = defs[0];\n  } else {\n    defs = svgElement.ownerDocument.createElementNS(NS.SVG, 'defs');\n    if (svgElement.firstChild) {\n      // first child is a comment, so call nextSibling\n      svgElement.insertBefore(defs, svgElement.firstChild.nextSibling);\n      // svgElement.firstChild.nextSibling.before(defs); // Not safe\n    } else {\n      svgElement.append(defs);\n    }\n  }\n  return defs;\n};\n\n// TODO(codedread): Consider moving the next to functions to bbox.js\n\n/**\n* Get correct BBox for a path in Webkit.\n* Converted from code found [here]{@link http://blog.hackers-cafe.net/2009/06/how-to-calculate-bezier-curves-bounding.html}.\n* @function module:utilities.getPathBBox\n* @param {SVGPathElement} path - The path DOM element to get the BBox for\n* @returns {module:utilities.BBoxObject} A BBox-like object\n*/\nexport const getPathBBox = function (path) {\n  const seglist = path.pathSegList;\n  const tot = seglist.numberOfItems;\n\n  const bounds = [[], []];\n  const start = seglist.getItem(0);\n  let P0 = [start.x, start.y];\n\n  const getCalc = function (j, P1, P2, P3) {\n    return function (t) {\n      return 1 - t ** 3 * P0[j] +\n        3 * 1 - t ** 2 * t * P1[j] +\n        3 * (1 - t) * t ** 2 * P2[j] +\n        t ** 3 * P3[j];\n    };\n  };\n\n  for (let i = 0; i < tot; i++) {\n    const seg = seglist.getItem(i);\n\n    if (seg.x === undefined) { continue; }\n\n    // Add actual points to limits\n    bounds[0].push(P0[0]);\n    bounds[1].push(P0[1]);\n\n    if (seg.x1) {\n      const P1 = [seg.x1, seg.y1],\n        P2 = [seg.x2, seg.y2],\n        P3 = [seg.x, seg.y];\n\n      for (let j = 0; j < 2; j++) {\n        const calc = getCalc(j, P1, P2, P3);\n\n        const b = 6 * P0[j] - 12 * P1[j] + 6 * P2[j];\n        const a = -3 * P0[j] + 9 * P1[j] - 9 * P2[j] + 3 * P3[j];\n        const c = 3 * P1[j] - 3 * P0[j];\n\n        if (a === 0) {\n          if (b === 0) { continue; }\n          const t = -c / b;\n          if (t > 0 && t < 1) {\n            bounds[j].push(calc(t));\n          }\n          continue;\n        }\n        const b2ac = b ** 2 - 4 * c * a;\n        if (b2ac < 0) { continue; }\n        const t1 = (-b + Math.sqrt(b2ac)) / (2 * a);\n        if (t1 > 0 && t1 < 1) { bounds[j].push(calc(t1)); }\n        const t2 = (-b - Math.sqrt(b2ac)) / (2 * a);\n        if (t2 > 0 && t2 < 1) { bounds[j].push(calc(t2)); }\n      }\n      P0 = P3;\n    } else {\n      bounds[0].push(seg.x);\n      bounds[1].push(seg.y);\n    }\n  }\n\n  const x = Math.min.apply(null, bounds[0]);\n  const w = Math.max.apply(null, bounds[0]) - x;\n  const y = Math.min.apply(null, bounds[1]);\n  const h = Math.max.apply(null, bounds[1]) - y;\n  return {\n    x,\n    y,\n    width: w,\n    height: h\n  };\n};\n\n/**\n* Get the given/selected element's bounding box object, checking for\n* horizontal/vertical lines (see issue 717)\n* Note that performance is currently terrible, so some way to improve would\n* be great.\n* @param {Element} selected - Container or `<use>` DOM element\n* @returns {DOMRect} Bounding box object\n*/\nfunction groupBBFix (selected) {\n  if (supportsHVLineContainerBBox()) {\n    try { return selected.getBBox(); } catch (e) {}\n  }\n  const ref = $.data(selected, 'ref');\n  let matched = null;\n  let ret, copy;\n\n  if (ref) {\n    copy = $(ref).children().clone().attr('visibility', 'hidden');\n    $(svgroot_).append(copy);\n    matched = copy.filter('line, path');\n  } else {\n    matched = $(selected).find('line, path');\n  }\n\n  let issue = false;\n  if (matched.length) {\n    matched.each(function () {\n      const bb = this.getBBox();\n      if (!bb.width || !bb.height) {\n        issue = true;\n      }\n    });\n    if (issue) {\n      const elems = ref ? copy : $(selected).children();\n      ret = getStrokedBBox(elems);\n    } else {\n      ret = selected.getBBox();\n    }\n  } else {\n    ret = selected.getBBox();\n  }\n  if (ref) {\n    copy.remove();\n  }\n  return ret;\n}\n\n/**\n* Get the given/selected element's bounding box object, convert it to be more\n* usable when necessary.\n* @function module:utilities.getBBox\n* @param {Element} elem - Optional DOM element to get the BBox for\n* @returns {module:utilities.BBoxObject} Bounding box object\n*/\nexport const getBBox = function (elem) {\n  const selected = elem || editorContext_.geSelectedElements()[0];\n  if (elem.nodeType !== 1) { return null; }\n  const elname = selected.nodeName;\n\n  let ret = null;\n  switch (elname) {\n  case 'text':\n    if (selected.textContent === '') {\n      selected.textContent = 'a'; // Some character needed for the selector to use.\n      ret = selected.getBBox();\n      selected.textContent = '';\n    } else if (selected.getBBox) {\n      ret = selected.getBBox();\n    }\n    break;\n  case 'path':\n    if (!supportsPathBBox()) {\n      ret = getPathBBox(selected);\n    } else if (selected.getBBox) {\n      ret = selected.getBBox();\n    }\n    break;\n  case 'g':\n  case 'a':\n    ret = groupBBFix(selected);\n    break;\n  default:\n\n    if (elname === 'use') {\n      ret = groupBBFix(selected); // , true);\n    }\n    if (elname === 'use' || (elname === 'foreignObject' && isWebkit())) {\n      if (!ret) { ret = selected.getBBox(); }\n      // This is resolved in later versions of webkit, perhaps we should\n      // have a featured detection for correct 'use' behavior?\n      // ââââââââââ\n      if (!isWebkit()) {\n        const {x, y, width, height} = ret;\n        const bb = {\n          width,\n          height,\n          x: x + Number.parseFloat(selected.getAttribute('x') || 0),\n          y: y + Number.parseFloat(selected.getAttribute('y') || 0)\n        };\n        ret = bb;\n      }\n    } else if (visElemsArr.includes(elname)) {\n      if (selected) {\n        try {\n          ret = selected.getBBox();\n        } catch (err) {\n          // tspan (and textPath apparently) have no `getBBox` in Firefox: https://bugzilla.mozilla.org/show_bug.cgi?id=937268\n          // Re: Chrome returning bbox for containing text element, see: https://bugs.chromium.org/p/chromium/issues/detail?id=349835\n          const extent = selected.getExtentOfChar(0); // pos+dimensions of the first glyph\n          const width = selected.getComputedTextLength(); // width of the tspan\n          ret = {\n            x: extent.x,\n            y: extent.y,\n            width,\n            height: extent.height\n          };\n        }\n      } else {\n        // Check if element is child of a foreignObject\n        const fo = $(selected).closest('foreignObject');\n        if (fo.length) {\n          if (fo[0].getBBox) {\n            ret = fo[0].getBBox();\n          }\n        }\n      }\n    }\n  }\n  if (ret) {\n    ret = bboxToObj(ret);\n  }\n\n  // get the bounding box from the DOM (which is in that element's coordinate system)\n  return ret;\n};\n\n/**\n* @typedef {GenericArray} module:utilities.PathSegmentArray\n* @property {Integer} length 2\n* @property {\"M\"|\"L\"|\"C\"|\"Z\"} 0\n* @property {Float[]} 1\n*/\n\n/**\n* Create a path 'd' attribute from path segments.\n* Each segment is an array of the form: `[singleChar, [x,y, x,y, ...]]`\n* @function module:utilities.getPathDFromSegments\n* @param {module:utilities.PathSegmentArray[]} pathSegments - An array of path segments to be converted\n* @returns {string} The converted path d attribute.\n*/\nexport const getPathDFromSegments = function (pathSegments) {\n  let d = '';\n\n  $.each(pathSegments, function (j, [singleChar, pts]) {\n    d += singleChar;\n    for (let i = 0; i < pts.length; i += 2) {\n      d += (pts[i] + ',' + pts[i + 1]) + ' ';\n    }\n  });\n\n  return d;\n};\n\n/**\n* Make a path 'd' attribute from a simple SVG element shape.\n* @function module:utilities.getPathDFromElement\n* @param {Element} elem - The element to be converted\n* @returns {string} The path d attribute or `undefined` if the element type is unknown.\n*/\nexport const getPathDFromElement = function (elem) {\n  // Possibly the cubed root of 6, but 1.81 works best\n  let num = 1.81;\n  let d, a, rx, ry;\n  switch (elem.tagName) {\n  case 'ellipse':\n  case 'circle': {\n    a = $(elem).attr(['rx', 'ry', 'cx', 'cy']);\n    const {cx, cy} = a;\n    ({rx, ry} = a);\n    if (elem.tagName === 'circle') {\n      ry = $(elem).attr('r');\n      rx = ry;\n    }\n\n    d = getPathDFromSegments([\n      ['M', [(cx - rx), (cy)]],\n      ['C', [(cx - rx), (cy - ry / num), (cx - rx / num), (cy - ry), (cx), (cy - ry)]],\n      ['C', [(cx + rx / num), (cy - ry), (cx + rx), (cy - ry / num), (cx + rx), (cy)]],\n      ['C', [(cx + rx), (cy + ry / num), (cx + rx / num), (cy + ry), (cx), (cy + ry)]],\n      ['C', [(cx - rx / num), (cy + ry), (cx - rx), (cy + ry / num), (cx - rx), (cy)]],\n      ['Z', []]\n    ]);\n    break;\n  } case 'path':\n    d = elem.getAttribute('d');\n    break;\n  case 'line':\n    a = $(elem).attr(['x1', 'y1', 'x2', 'y2']);\n    d = 'M' + a.x1 + ',' + a.y1 + 'L' + a.x2 + ',' + a.y2;\n    break;\n  case 'polyline':\n    d = 'M' + elem.getAttribute('points');\n    break;\n  case 'polygon':\n    d = 'M' + elem.getAttribute('points') + ' Z';\n    break;\n  case 'rect': {\n    const r = $(elem).attr(['rx', 'ry']);\n    ({rx, ry} = r);\n    const b = elem.getBBox();\n    const {x, y} = b,\n      w = b.width,\n      h = b.height;\n    num = 4 - num; // Why? Because!\n\n    if (!rx && !ry) {\n      // Regular rect\n      d = getPathDFromSegments([\n        ['M', [x, y]],\n        ['L', [x + w, y]],\n        ['L', [x + w, y + h]],\n        ['L', [x, y + h]],\n        ['L', [x, y]],\n        ['Z', []]\n      ]);\n    } else {\n      d = getPathDFromSegments([\n        ['M', [x, y + ry]],\n        ['C', [x, y + ry / num, x + rx / num, y, x + rx, y]],\n        ['L', [x + w - rx, y]],\n        ['C', [x + w - rx / num, y, x + w, y + ry / num, x + w, y + ry]],\n        ['L', [x + w, y + h - ry]],\n        ['C', [x + w, y + h - ry / num, x + w - rx / num, y + h, x + w - rx, y + h]],\n        ['L', [x + rx, y + h]],\n        ['C', [x + rx / num, y + h, x, y + h - ry / num, x, y + h - ry]],\n        ['L', [x, y + ry]],\n        ['Z', []]\n      ]);\n    }\n    break;\n  } default:\n    break;\n  }\n\n  return d;\n};\n\n/**\n* Get a set of attributes from an element that is useful for convertToPath.\n* @function module:utilities.getExtraAttributesForConvertToPath\n* @param {Element} elem - The element to be probed\n* @returns {PlainObject<\"marker-start\"|\"marker-end\"|\"marker-mid\"|\"filter\"|\"clip-path\", string>} An object with attributes.\n*/\nexport const getExtraAttributesForConvertToPath = function (elem) {\n  const attrs = {};\n  // TODO: make this list global so that we can properly maintain it\n  // TODO: what about @transform, @clip-rule, @fill-rule, etc?\n  $.each(['marker-start', 'marker-end', 'marker-mid', 'filter', 'clip-path'], function () {\n    const a = elem.getAttribute(this);\n    if (a) {\n      attrs[this] = a;\n    }\n  });\n  return attrs;\n};\n\n/**\n* Get the BBox of an element-as-path.\n* @function module:utilities.getBBoxOfElementAsPath\n* @param {Element} elem - The DOM element to be probed\n* @param {module:utilities.EditorContext#addSVGElementFromJson} addSVGElementFromJson - Function to add the path element to the current layer. See canvas.addSVGElementFromJson\n* @param {module:path.pathActions} pathActions - If a transform exists, `pathActions.resetOrientation()` is used. See: canvas.pathActions.\n* @returns {DOMRect|false} The resulting path's bounding box object.\n*/\nexport const getBBoxOfElementAsPath = function (elem, addSVGElementFromJson, pathActions) {\n  const path = addSVGElementFromJson({\n    element: 'path',\n    attr: getExtraAttributesForConvertToPath(elem)\n  });\n\n  const eltrans = elem.getAttribute('transform');\n  if (eltrans) {\n    path.setAttribute('transform', eltrans);\n  }\n\n  const {parentNode} = elem;\n  if (elem.nextSibling) {\n    elem.before(path);\n  } else {\n    parentNode.append(path);\n  }\n\n  const d = getPathDFromElement(elem);\n  if (d) {\n    path.setAttribute('d', d);\n  } else {\n    path.remove();\n  }\n\n  // Get the correct BBox of the new path, then discard it\n  pathActions.resetOrientation(path);\n  let bb = false;\n  try {\n    bb = path.getBBox();\n  } catch (e) {\n    // Firefox fails\n  }\n  path.remove();\n  return bb;\n};\n\n/**\n* Convert selected element to a path.\n* @function module:utilities.convertToPath\n* @param {Element} elem - The DOM element to be converted\n* @param {module:utilities.SVGElementJSON} attrs - Apply attributes to new path. see canvas.convertToPath\n* @param {module:utilities.EditorContext#addSVGElementFromJson} addSVGElementFromJson - Function to add the path element to the current layer. See canvas.addSVGElementFromJson\n* @param {module:path.pathActions} pathActions - If a transform exists, pathActions.resetOrientation() is used. See: canvas.pathActions.\n* @param {module:draw.DrawCanvasInit#clearSelection|module:path.EditorContext#clearSelection} clearSelection - see [canvas.clearSelection]{@link module:svgcanvas.SvgCanvas#clearSelection}\n* @param {module:path.EditorContext#addToSelection} addToSelection - see [canvas.addToSelection]{@link module:svgcanvas.SvgCanvas#addToSelection}\n* @param {module:history} hstry - see history module\n* @param {module:path.EditorContext#addCommandToHistory|module:draw.DrawCanvasInit#addCommandToHistory} addCommandToHistory - see [canvas.addCommandToHistory]{@link module:svgcanvas~addCommandToHistory}\n* @returns {SVGPathElement|null} The converted path element or null if the DOM element was not recognized.\n*/\nexport const convertToPath = function (\n  elem, attrs, addSVGElementFromJson, pathActions,\n  clearSelection, addToSelection, hstry, addCommandToHistory\n) {\n  const batchCmd = new hstry.BatchCommand('Convert element to Path');\n\n  // Any attribute on the element not covered by the passed-in attributes\n  attrs = $.extend({}, attrs, getExtraAttributesForConvertToPath(elem));\n\n  const path = addSVGElementFromJson({\n    element: 'path',\n    attr: attrs\n  });\n\n  const eltrans = elem.getAttribute('transform');\n  if (eltrans) {\n    path.setAttribute('transform', eltrans);\n  }\n\n  const {id} = elem;\n  const {parentNode} = elem;\n  if (elem.nextSibling) {\n    elem.before(path);\n  } else {\n    parentNode.append(path);\n  }\n\n  const d = getPathDFromElement(elem);\n  if (d) {\n    path.setAttribute('d', d);\n\n    // Replace the current element with the converted one\n\n    // Reorient if it has a matrix\n    if (eltrans) {\n      const tlist = getTransformList(path);\n      if (hasMatrixTransform(tlist)) {\n        pathActions.resetOrientation(path);\n      }\n    }\n\n    const {nextSibling} = elem;\n    batchCmd.addSubCommand(new hstry.RemoveElementCommand(elem, nextSibling, parent));\n    batchCmd.addSubCommand(new hstry.InsertElementCommand(path));\n\n    clearSelection();\n    elem.remove();\n    path.setAttribute('id', id);\n    path.removeAttribute('visibility');\n    addToSelection([path], true);\n\n    addCommandToHistory(batchCmd);\n\n    return path;\n  }\n  // the elem.tagName was not recognized, so no \"d\" attribute. Remove it, so we've haven't changed anything.\n  path.remove();\n  return null;\n};\n\n/**\n* Can the bbox be optimized over the native getBBox? The optimized bbox is the same as the native getBBox when\n* the rotation angle is a multiple of 90 degrees and there are no complex transforms.\n* Getting an optimized bbox can be dramatically slower, so we want to make sure it's worth it.\n*\n* The best example for this is a circle rotate 45 degrees. The circle doesn't get wider or taller when rotated\n* about it's center.\n*\n* The standard, unoptimized technique gets the native bbox of the circle, rotates the box 45 degrees, uses\n* that width and height, and applies any transforms to get the final bbox. This means the calculated bbox\n* is much wider than the original circle. If the angle had been 0, 90, 180, etc. both techniques render the\n* same bbox.\n*\n* The optimization is not needed if the rotation is a multiple 90 degrees. The default technique is to call\n* getBBox then apply the angle and any transforms.\n*\n* @param {Float} angle - The rotation angle in degrees\n* @param {boolean} hasAMatrixTransform - True if there is a matrix transform\n* @returns {boolean} True if the bbox can be optimized.\n*/\nfunction bBoxCanBeOptimizedOverNativeGetBBox (angle, hasAMatrixTransform) {\n  const angleModulo90 = angle % 90;\n  const closeTo90 = angleModulo90 < -89.99 || angleModulo90 > 89.99;\n  const closeTo0 = angleModulo90 > -0.001 && angleModulo90 < 0.001;\n  return hasAMatrixTransform || !(closeTo0 || closeTo90);\n}\n\n/**\n* Get bounding box that includes any transforms.\n* @function module:utilities.getBBoxWithTransform\n* @param {Element} elem - The DOM element to be converted\n* @param {module:utilities.EditorContext#addSVGElementFromJson} addSVGElementFromJson - Function to add the path element to the current layer. See canvas.addSVGElementFromJson\n* @param {module:path.pathActions} pathActions - If a transform exists, pathActions.resetOrientation() is used. See: canvas.pathActions.\n* @returns {module:utilities.BBoxObject|module:math.TransformedBox|DOMRect} A single bounding box object\n*/\nexport const getBBoxWithTransform = function (elem, addSVGElementFromJson, pathActions) {\n  // TODO: Fix issue with rotated groups. Currently they work\n  // fine in FF, but not in other browsers (same problem mentioned\n  // in Issue 339 comment #2).\n\n  let bb = getBBox(elem);\n\n  if (!bb) {\n    return null;\n  }\n\n  const tlist = getTransformList(elem);\n  const angle = getRotationAngleFromTransformList(tlist);\n  const hasMatrixXForm = hasMatrixTransform(tlist);\n\n  if (angle || hasMatrixXForm) {\n    let goodBb = false;\n    if (bBoxCanBeOptimizedOverNativeGetBBox(angle, hasMatrixXForm)) {\n      // Get the BBox from the raw path for these elements\n      // TODO: why ellipse and not circle\n      const elemNames = ['ellipse', 'path', 'line', 'polyline', 'polygon'];\n      if (elemNames.includes(elem.tagName)) {\n        goodBb = getBBoxOfElementAsPath(elem, addSVGElementFromJson, pathActions);\n        bb = goodBb;\n      } else if (elem.tagName === 'rect') {\n        // Look for radius\n        const rx = elem.getAttribute('rx');\n        const ry = elem.getAttribute('ry');\n        if (rx || ry) {\n          goodBb = getBBoxOfElementAsPath(elem, addSVGElementFromJson, pathActions);\n          bb = goodBb;\n        }\n      }\n    }\n\n    if (!goodBb) {\n      const {matrix} = transformListToTransform(tlist);\n      bb = transformBox(bb.x, bb.y, bb.width, bb.height, matrix).aabox;\n\n      // Old technique that was exceedingly slow with large documents.\n      //\n      // Accurate way to get BBox of rotated element in Firefox:\n      // Put element in group and get its BBox\n      //\n      // Must use clone else FF freaks out\n      // const clone = elem.cloneNode(true);\n      // const g = document.createElementNS(NS.SVG, 'g');\n      // const parent = elem.parentNode;\n      // parent.append(g);\n      // g.append(clone);\n      // const bb2 = bboxToObj(g.getBBox());\n      // g.remove();\n    }\n  }\n  return bb;\n};\n\n/**\n * @param {Element} elem\n * @returns {Float}\n * @todo This is problematic with large stroke-width and, for example, a single\n * horizontal line. The calculated BBox extends way beyond left and right sides.\n */\nfunction getStrokeOffsetForBBox (elem) {\n  const sw = elem.getAttribute('stroke-width');\n  return (!isNaN(sw) && elem.getAttribute('stroke') !== 'none') ? sw / 2 : 0;\n}\n\n/**\n * @typedef {PlainObject} BBox\n * @property {Integer} x The x value\n * @property {Integer} y The y value\n * @property {Float} width\n * @property {Float} height\n */\n\n/**\n* Get the bounding box for one or more stroked and/or transformed elements.\n* @function module:utilities.getStrokedBBox\n* @param {Element[]} elems - Array with DOM elements to check\n* @param {module:utilities.EditorContext#addSVGElementFromJson} addSVGElementFromJson - Function to add the path element to the current layer. See canvas.addSVGElementFromJson\n* @param {module:path.pathActions} pathActions - If a transform exists, pathActions.resetOrientation() is used. See: canvas.pathActions.\n* @returns {module:utilities.BBoxObject|module:math.TransformedBox|DOMRect} A single bounding box object\n*/\nexport const getStrokedBBox = function (elems, addSVGElementFromJson, pathActions) {\n  if (!elems || !elems.length) { return false; }\n\n  let fullBb;\n  $.each(elems, function () {\n    if (fullBb) { return; }\n    if (!this.parentNode) { return; }\n    fullBb = getBBoxWithTransform(this, addSVGElementFromJson, pathActions);\n  });\n\n  // This shouldn't ever happen...\n  if (fullBb === undefined) { return null; }\n\n  // fullBb doesn't include the stoke, so this does no good!\n  // if (elems.length == 1) return fullBb;\n\n  let maxX = fullBb.x + fullBb.width;\n  let maxY = fullBb.y + fullBb.height;\n  let minX = fullBb.x;\n  let minY = fullBb.y;\n\n  // If only one elem, don't call the potentially slow getBBoxWithTransform method again.\n  if (elems.length === 1) {\n    const offset = getStrokeOffsetForBBox(elems[0]);\n    minX -= offset;\n    minY -= offset;\n    maxX += offset;\n    maxY += offset;\n  } else {\n    $.each(elems, function (i, elem) {\n      const curBb = getBBoxWithTransform(elem, addSVGElementFromJson, pathActions);\n      if (curBb) {\n        const offset = getStrokeOffsetForBBox(elem);\n        minX = Math.min(minX, curBb.x - offset);\n        minY = Math.min(minY, curBb.y - offset);\n        // TODO: The old code had this test for max, but not min. I suspect this test should be for both min and max\n        if (elem.nodeType === 1) {\n          maxX = Math.max(maxX, curBb.x + curBb.width + offset);\n          maxY = Math.max(maxY, curBb.y + curBb.height + offset);\n        }\n      }\n    });\n  }\n\n  fullBb.x = minX;\n  fullBb.y = minY;\n  fullBb.width = maxX - minX;\n  fullBb.height = maxY - minY;\n  return fullBb;\n};\n\n/**\n* Get all elements that have a BBox (excludes `<defs>`, `<title>`, etc).\n* Note that 0-opacity, off-screen etc elements are still considered \"visible\"\n* for this function.\n* @function module:utilities.getVisibleElements\n* @param {Element} parentElement - The parent DOM element to search within\n* @returns {Element[]} All \"visible\" elements.\n*/\nexport const getVisibleElements = function (parentElement) {\n  if (!parentElement) {\n    parentElement = $(editorContext_.getSVGContent()).children(); // Prevent layers from being included\n  }\n\n  const contentElems = [];\n  $(parentElement).children().each(function (i, elem) {\n    if (elem.getBBox) {\n      contentElems.push(elem);\n    }\n  });\n  return contentElems.reverse();\n};\n\n/**\n* Get the bounding box for one or more stroked and/or transformed elements.\n* @function module:utilities.getStrokedBBoxDefaultVisible\n* @param {Element[]} elems - Array with DOM elements to check\n* @returns {module:utilities.BBoxObject} A single bounding box object\n*/\nexport const getStrokedBBoxDefaultVisible = function (elems) {\n  if (!elems) { elems = getVisibleElements(); }\n  return getStrokedBBox(\n    elems,\n    editorContext_.addSVGElementFromJson,\n    editorContext_.pathActions\n  );\n};\n\n/**\n* Get the rotation angle of the given transform list.\n* @function module:utilities.getRotationAngleFromTransformList\n* @param {SVGTransformList} tlist - List of transforms\n* @param {boolean} toRad - When true returns the value in radians rather than degrees\n* @returns {Float} The angle in degrees or radians\n*/\nexport const getRotationAngleFromTransformList = function (tlist, toRad) {\n  if (!tlist) { return 0; } // <svg> elements have no tlist\n  const N = tlist.numberOfItems;\n  for (let i = 0; i < N; ++i) {\n    const xform = tlist.getItem(i);\n    if (xform.type === 4) {\n      return toRad ? xform.angle * Math.PI / 180.0 : xform.angle;\n    }\n  }\n  return 0.0;\n};\n\n/**\n* Get the rotation angle of the given/selected DOM element.\n* @function module:utilities.getRotationAngle\n* @param {Element} [elem] - DOM element to get the angle for. Default to first of selected elements.\n* @param {boolean} [toRad=false] - When true returns the value in radians rather than degrees\n* @returns {Float} The angle in degrees or radians\n*/\nexport let getRotationAngle = function (elem, toRad) { // eslint-disable-line import/no-mutable-exports\n  const selected = elem || editorContext_.getSelectedElements()[0];\n  // find the rotation transform (if any) and set it\n  const tlist = getTransformList(selected);\n  return getRotationAngleFromTransformList(tlist, toRad);\n};\n\n/**\n* Get the reference element associated with the given attribute value.\n* @function module:utilities.getRefElem\n* @param {string} attrVal - The attribute value as a string\n* @returns {Element} Reference element\n*/\nexport const getRefElem = function (attrVal) {\n  return getElem(getUrlFromAttr(attrVal).substr(1));\n};\n\n/**\n* Get a DOM element by ID within the SVG root element.\n* @function module:utilities.getElem\n* @param {string} id - String with the element's new ID\n* @returns {?Element}\n*/\nexport const getElem = (supportsSelectors())\n  ? function (id) {\n    // querySelector lookup\n    return svgroot_.querySelector('#' + id);\n  }\n  : supportsXpath()\n    ? function (id) {\n      // xpath lookup\n      return domdoc_.evaluate(\n        'svg:svg[@id=\"svgroot\"]//svg:*[@id=\"' + id + '\"]',\n        domcontainer_,\n        function () { return NS.SVG; },\n        9,\n        null\n      ).singleNodeValue;\n    }\n    : function (id) {\n      // jQuery lookup: twice as slow as xpath in FF\n      return $(svgroot_).find(`[id=${id}]`)[0];\n    };\n\n/**\n* Assigns multiple attributes to an element.\n* @function module:utilities.assignAttributes\n* @param {Element} elem - DOM element to apply new attribute values to\n* @param {PlainObject<string, string>} attrs - Object with attribute keys/values\n* @param {Integer} [suspendLength] - Milliseconds to suspend redraw\n* @param {boolean} [unitCheck=false] - Boolean to indicate the need to use units.setUnitAttr\n* @returns {void}\n*/\nexport const assignAttributes = function (elem, attrs, suspendLength, unitCheck) {\n  for (const [key, value] of Object.entries(attrs)) {\n    const ns = (key.substr(0, 4) === 'xml:'\n      ? NS.XML\n      : key.substr(0, 6) === 'xlink:' ? NS.XLINK : null);\n    if (isNullish(value)) {\n      if (ns) {\n        elem.removeAttributeNS(ns, key);\n      } else {\n        elem.removeAttribute(key);\n      }\n      continue;\n    }\n    if (ns) {\n      elem.setAttributeNS(ns, key, value);\n    } else if (!unitCheck) {\n      elem.setAttribute(key, value);\n    } else {\n      setUnitAttr(elem, key, value);\n    }\n  }\n};\n\n/**\n* Remove unneeded (default) attributes, making resulting SVG smaller.\n* @function module:utilities.cleanupElement\n* @param {Element} element - DOM element to clean up\n* @returns {void}\n*/\nexport const cleanupElement = function (element) {\n  const defaults = {\n    'fill-opacity': 1,\n    'stop-opacity': 1,\n    opacity: 1,\n    stroke: 'none',\n    'stroke-dasharray': 'none',\n    'stroke-linejoin': 'miter',\n    'stroke-linecap': 'butt',\n    'stroke-opacity': 1,\n    'stroke-width': 1,\n    rx: 0,\n    ry: 0\n  };\n\n  if (element.nodeName === 'ellipse') {\n    // Ellipse elements require rx and ry attributes\n    delete defaults.rx;\n    delete defaults.ry;\n  }\n\n  Object.entries(defaults).forEach(([attr, val]) => {\n    if (element.getAttribute(attr) === String(val)) {\n      element.removeAttribute(attr);\n    }\n  });\n};\n\n/**\n* Round value to for snapping.\n* @function module:utilities.snapToGrid\n* @param {Float} value\n* @returns {Integer}\n*/\nexport const snapToGrid = function (value) {\n  const unit = editorContext_.getBaseUnit();\n  let stepSize = editorContext_.getSnappingStep();\n  if (unit !== 'px') {\n    stepSize *= getTypeMap()[unit];\n  }\n  value = Math.round(value / stepSize) * stepSize;\n  return value;\n};\n\n/**\n* Escapes special characters in a regular expression.\n* @function module:utilities.regexEscape\n* @param {string} str\n* @returns {string}\n*/\nexport const regexEscape = function (str) {\n  // Originally from: http://phpjs.org/functions\n  return String(str).replace(/[.\\\\+*?[^\\]$(){}=!<>|:-]/g, '\\\\$&');\n};\n\n/**\n * Prevents default browser click behaviour on the given element.\n * @function module:utilities.preventClickDefault\n * @param {Element} img - The DOM element to prevent the click on\n * @returns {void}\n */\nexport const preventClickDefault = function (img) {\n  $(img).click(function (e) { e.preventDefault(); });\n};\n\n/**\n * @callback module:utilities.GetNextID\n * @returns {string} The ID\n */\n\n/**\n * Whether a value is `null` or `undefined`.\n * @param {any} val\n * @returns {boolean}\n */\nexport const isNullish = (val) => {\n  return val === null || val === undefined;\n};\n\n/**\n* Overwrite methods for unit testing.\n* @function module:utilities.mock\n* @param {PlainObject} mockMethods\n* @param {module:utilities.getHref} mockMethods.getHref\n* @param {module:utilities.setHref} mockMethods.setHref\n* @param {module:utilities.getRotationAngle} mockMethods.getRotationAngle\n* @returns {void}\n*/\nexport const mock = ({\n  getHref: getHrefUser, setHref: setHrefUser, getRotationAngle: getRotationAngleUser\n}) => {\n  getHref = getHrefUser;\n  setHref = setHrefUser;\n  getRotationAngle = getRotationAngleUser;\n};\n\nexport const $q = (sel) => document.querySelector(sel);\nexport const $qq = (sel) => [...document.querySelectorAll(sel)];\n","/* globals jQuery */\n/**\n * Adds context menu functionality.\n * @module contextmenu\n * @license Apache-2.0\n * @author Adam Bender\n */\n// Dependencies:\n// 1) jQuery (for dom injection of context menus)\n\nconst $ = jQuery;\n\nlet contextMenuExtensions = {};\n\n/**\n * Signature depends on what the user adds; in the case of our uses with\n * SVGEditor, no parameters are passed nor anything expected for a return.\n * @callback module:contextmenu.MenuItemAction\n * @param {...args} args\n * @returns {any}\n*/\n\n/**\n* @typedef {PlainObject} module:contextmenu.MenuItem\n* @property {string} id\n* @property {string} label\n* @property {module:contextmenu.MenuItemAction} action\n*/\n\n/**\n* @param {module:contextmenu.MenuItem} menuItem\n* @returns {boolean}\n*/\nconst menuItemIsValid = function (menuItem) {\n  return menuItem && menuItem.id && menuItem.label && menuItem.action && typeof menuItem.action === 'function';\n};\n\n/**\n* @function module:contextmenu.add\n* @param {module:contextmenu.MenuItem} menuItem\n* @throws {Error|TypeError}\n* @returns {void}\n*/\nexport const add = function (menuItem) {\n  // menuItem: {id, label, shortcut, action}\n  if (!menuItemIsValid(menuItem)) {\n    throw new TypeError(\n      'Menu items must be defined and have at least properties: ' +\n      'id, label, action, where action must be a function'\n    );\n  }\n  if (menuItem.id in contextMenuExtensions) {\n    throw new Error('Cannot add extension \"' + menuItem.id + '\", an extension by that name already exists\"');\n  }\n  // Register menuItem action, see below for deferred menu dom injection\n  console.log('Registered contextmenu item: {id:' + menuItem.id + ', label:' + menuItem.label + '}'); // eslint-disable-line no-console\n  contextMenuExtensions[menuItem.id] = menuItem;\n  // TODO: Need to consider how to handle custom enable/disable behavior\n};\n\n/**\n* @function module:contextmenu.hasCustomHandler\n* @param {string} handlerKey\n* @returns {boolean}\n*/\nexport const hasCustomHandler = function (handlerKey) {\n  return Boolean(contextMenuExtensions[handlerKey]);\n};\n\n/**\n* @function module:contextmenu.getCustomHandler\n* @param {string} handlerKey\n* @returns {module:contextmenu.MenuItemAction}\n*/\nexport const getCustomHandler = function (handlerKey) {\n  return contextMenuExtensions[handlerKey].action;\n};\n\n/**\n* @param {module:contextmenu.MenuItem} menuItem\n* @returns {void}\n*/\nconst injectExtendedContextMenuItemIntoDom = function (menuItem) {\n  if (!Object.keys(contextMenuExtensions).length) {\n    // all menuItems appear at the bottom of the menu in their own container.\n    // if this is the first extension menu we need to add the separator.\n    $('#cmenu_canvas').append(\"<li class='separator'>\");\n  }\n  const shortcut = menuItem.shortcut || '';\n  $('#cmenu_canvas').append(\"<li class='disabled'><a href='#\" + menuItem.id + \"'>\" +\n    menuItem.label + \"<span class='shortcut'>\" +\n    shortcut + '</span></a></li>');\n};\n\n/**\n* @function module:contextmenu.injectExtendedContextMenuItemsIntoDom\n* @returns {void}\n*/\nexport const injectExtendedContextMenuItemsIntoDom = function () {\n  Object.values(contextMenuExtensions).forEach((menuItem) => {\n    injectExtendedContextMenuItemIntoDom(menuItem);\n  });\n};\n/**\n* @function module:contextmenu.resetCustomMenus\n* @returns {void}\n*/\nexport const resetCustomMenus = function () { contextMenuExtensions = {}; };\n","/**\n * Created by alexey2baranov on 28.01.17.\n */\n/*\n An extraction of the deparam method from Ben Alman's jQuery BBQ\n http://benalman.com/projects/jquery-bbq-plugin/\n */\n\nconst coerce_types = {'true': !0, 'false': !1, 'null': null};\n\nfunction deparam (params, coerce) {\n  // console.log(params)\n  const obj = {};\n\n  // Iterate over all name=value pairs.\n  params.replace(/\\+/g, ' ').split('&').forEach(function (v) {\n    const param = v.split('=');\n\n    let\n      key = decodeURIComponent(param[0]),\n      // If key is more complex than 'foo', like 'a[]' or 'a[b][c]', split it\n      // into its component parts.\n      keys = key.split(']['),\n      keys_last = keys.length - 1;\n\n    // If the first keys part contains [ and the last ends with ], then []\n    // are correctly balanced.\n    if (/\\[/.test(keys[0]) && /\\]$/.test(keys[keys_last])) {\n      // Remove the trailing ] from the last keys part.\n      keys[keys_last] = keys[keys_last].replace(/\\]$/, '');\n\n      // Split first keys part into two parts on the [ and add them back onto\n      // the beginning of the keys array.\n      keys = keys.shift().split('[').concat(keys);\n\n      keys_last = keys.length - 1;\n    } else {\n      // Basic 'foo' style key.\n      keys_last = 0;\n    }\n\n    // Are we dealing with a name=value pair, or just a name?\n    if (param.length >= 2) {\n      let val = decodeURIComponent(param.slice(1).join('='));\n\n      // Coerce values.\n      if (coerce) {\n        val = val && !isNaN(val) ? +val              // number\n          : val === 'undefined' ? undefined         // undefined\n            : coerce_types[val] !== undefined ? coerce_types[val] // true, false, null\n              : val;                                                // string\n      }\n\n      if (keys_last) {\n        let cur = obj;\n        // Complex key, build deep object structure based on a few rules:\n        // * The 'cur' pointer starts at the object top-level.\n        // * [] = array push (n is set to array length), [n] = array if n is\n        //   numeric, otherwise object.\n        // * If at the last keys part, set the value.\n        // * For each keys part, if the current level is undefined create an\n        //   object or array based on the type of the next keys part.\n        // * Move the 'cur' pointer to the next level.\n        // * Rinse & repeat.\n        for (let i = 0; i <= keys_last; i++) {\n          key = keys[i] === '' ? cur.length : keys[i];\n          cur = cur[key] = i < keys_last\n            ? cur[key] || (keys[i + 1] && isNaN(keys[i + 1]) ? {} : [])\n            : val;\n        }\n\n      } else {\n        // Simple key, even simpler rules, since only scalars and shallow\n        // arrays are allowed.\n\n        if (Array.isArray(obj[key])) {\n          // val is already an array, so push on the next value.\n          obj[key].push(val);\n\n        } else if (obj[key] !== undefined) {\n          // val isn't an array, but since a second value has been specified,\n          // convert val into an array.\n          obj[key] = [obj[key], val];\n\n        } else {\n          // val is a scalar.\n          obj[key] = val;\n        }\n      }\n\n    } else if (key) {\n      // No value was defined, so set something meaningful.\n      obj[key] = coerce\n        ? undefined\n        : '';\n    }\n  });\n\n  return obj;\n}\n\nexport default deparam;\n","/**\n * @module jQueryPluginDBox\n */\n/**\n* @param {external:jQuery} $\n* @param {PlainObject} [strings]\n* @param {PlainObject} [strings.ok]\n* @param {PlainObject} [strings.cancel]\n* @returns {external:jQuery}\n*/\nexport default function jQueryPluginDBox ($, {\n  ok: okString = 'Ok',\n  cancel: cancelString = 'Cancel'\n} = {}) {\n  // This sets up alternative dialog boxes. They mostly work the same way as\n  // their UI counterparts, expect instead of returning the result, a callback\n  // needs to be included that returns the result as its first parameter.\n  // In the future we may want to add additional types of dialog boxes, since\n  // they should be easy to handle this way.\n  $('#dialog_container').draggable({\n    cancel: '#dialog_content, #dialog_buttons *',\n    containment: 'window'\n  }).css('position', 'absolute');\n\n  const box = $('#dialog_box'),\n    btnHolder = $('#dialog_buttons'),\n    dialogContent = $('#dialog_content');\n\n  /**\n  * @typedef {PlainObject} module:jQueryPluginDBox.PromiseResultObject\n  * @property {string|true} response\n  * @property {boolean} checked\n  */\n\n  /**\n  * Resolves to `false` (if cancelled), for prompts and selects\n  * without checkboxes, it resolves to the value of the form control. For other\n  * types without checkboxes, it resolves to `true`. For checkboxes, it resolves\n  * to an object with the `response` key containing the same value as the previous\n  * mentioned (string or `true`) and a `checked` (boolean) property.\n  * @typedef {Promise<boolean|string|module:jQueryPluginDBox.PromiseResultObject>} module:jQueryPluginDBox.ResultPromise\n  */\n  /**\n  * @typedef {PlainObject} module:jQueryPluginDBox.SelectOption\n  * @property {string} text\n  * @property {string} value\n  */\n  /**\n  * @typedef {PlainObject} module:jQueryPluginDBox.CheckboxInfo\n  * @property {string} label Label for the checkbox\n  * @property {string} value Value of the checkbox\n  * @property {string} tooltip Tooltip on the checkbox label\n  * @property {boolean} checked Whether the checkbox is checked by default\n  */\n  /**\n   * Triggered upon a change of value for the select pull-down.\n   * @callback module:jQueryPluginDBox.SelectChangeListener\n   * @returns {void}\n   */\n  /**\n   * Creates a dialog of the specified type with a given message\n   *  and any defaults and type-specific metadata. Returns a `Promise`\n   *  which resolves differently depending on whether the dialog\n   *  was cancelled or okayed (with the response and any checked state).\n   * @param {\"alert\"|\"prompt\"|\"select\"|\"process\"} type\n   * @param {string} msg\n   * @param {string} [defaultVal]\n   * @param {module:jQueryPluginDBox.SelectOption[]} [opts]\n   * @param {module:jQueryPluginDBox.SelectChangeListener} [changeListener]\n   * @param {module:jQueryPluginDBox.CheckboxInfo} [checkbox]\n   * @returns {jQueryPluginDBox.ResultPromise}\n  */\n  function dbox (type, msg, defaultVal, opts, changeListener, checkbox) {\n    dialogContent.html('<p>' + msg.replace(/\\n/g, '</p><p>') + '</p>')\n      .toggleClass('prompt', (type === 'prompt'));\n    btnHolder.empty();\n\n    const ok = $('<input type=\"button\" data-ok=\"\" value=\"' + okString + '\">').appendTo(btnHolder);\n\n    return new Promise((resolve, reject) => { // eslint-disable-line promise/avoid-new\n      if (type !== 'alert') {\n        $('<input type=\"button\" value=\"' + cancelString + '\">')\n          .appendTo(btnHolder)\n          .click(function () {\n            box.hide();\n            resolve(false);\n          });\n      }\n\n      let ctrl, chkbx;\n      if (type === 'prompt') {\n        ctrl = $('<input type=\"text\">').prependTo(btnHolder);\n        ctrl.val(defaultVal || '');\n        ctrl.bind('keydown', 'return', function () { ok.click(); });\n      } else if (type === 'select') {\n        const div = $('<div style=\"text-align:center;\">');\n        ctrl = $(`<select aria-label=\"${msg}\">`).appendTo(div);\n        if (checkbox) {\n          const label = $('<label>').text(checkbox.label);\n          chkbx = $('<input type=\"checkbox\">').appendTo(label);\n          chkbx.val(checkbox.value);\n          if (checkbox.tooltip) {\n            label.attr('title', checkbox.tooltip);\n          }\n          chkbx.prop('checked', Boolean(checkbox.checked));\n          div.append($('<div>').append(label));\n        }\n        $.each(opts || [], function (opt, val) {\n          if (typeof val === 'object') {\n            ctrl.append($('<option>').val(val.value).html(val.text));\n          } else {\n            ctrl.append($('<option>').html(val));\n          }\n        });\n        dialogContent.append(div);\n        if (defaultVal) {\n          ctrl.val(defaultVal);\n        }\n        if (changeListener) {\n          ctrl.bind('change', 'return', changeListener);\n        }\n        ctrl.bind('keydown', 'return', function () { ok.click(); });\n      } else if (type === 'process') {\n        ok.hide();\n      }\n\n      box.show();\n\n      ok.click(function () {\n        box.hide();\n        const response = (type === 'prompt' || type === 'select') ? ctrl.val() : true;\n        if (chkbx) {\n          resolve({response, checked: chkbx.prop('checked')});\n          return;\n        }\n        resolve(response);\n      }).focus();\n\n      if (type === 'prompt' || type === 'select') {\n        ctrl.focus();\n      }\n    });\n  }\n\n  /**\n  * @param {string} msg Message to alert\n  * @returns {jQueryPluginDBox.ResultPromise}\n  */\n  $.alert = function (msg) {\n    return dbox('alert', msg);\n  };\n  /**\n  * @param {string} msg Message for which to ask confirmation\n  * @returns {jQueryPluginDBox.ResultPromise}\n  */\n  $.confirm = function (msg) {\n    return dbox('confirm', msg);\n  };\n  /**\n  * @param {string} msg Message to indicate upon cancelable indicator\n  * @returns {jQueryPluginDBox.ResultPromise}\n  */\n  $.process_cancel = function (msg) {\n    return dbox('process', msg);\n  };\n  /**\n  * @param {string} msg Message to accompany the prompt\n  * @param {string} [defaultText=''] The default text to show for the prompt\n  * @returns {jQueryPluginDBox.ResultPromise}\n  */\n  $.prompt = function (msg, defaultText = '') {\n    return dbox('prompt', msg, defaultText);\n  };\n  $.select = function (msg, opts, changeListener, txt, checkbox) {\n    return dbox('select', msg, txt, opts, changeListener, checkbox);\n  };\n  return $;\n}\n","/* eslint-disable no-console */\n/**\n * For command history tracking and undo functionality.\n * @module history\n * @license MIT\n * @copyright 2010 Jeff Schiller\n */\n\nimport {getHref, setHref, getRotationAngle, isNullish} from '../common/utilities.js';\nimport {removeElementFromListMap} from '../common/svgtransformlist.js';\n\n/**\n* Group: Undo/Redo history management.\n*/\nexport const HistoryEventTypes = {\n  BEFORE_APPLY: 'before_apply',\n  AFTER_APPLY: 'after_apply',\n  BEFORE_UNAPPLY: 'before_unapply',\n  AFTER_UNAPPLY: 'after_unapply'\n};\n\n/**\n* Base class for commands.\n*/\nexport class Command {\n  /**\n  * @returns {string}\n  */\n  getText () {\n    return this.text;\n  }\n  /**\n   * @param {module:history.HistoryEventHandler} handler\n   * @param {callback} applyFunction\n   * @returns {void}\n  */\n  apply (handler, applyFunction) {\n    handler && handler.handleHistoryEvent(HistoryEventTypes.BEFORE_APPLY, this);\n    applyFunction(handler);\n    handler && handler.handleHistoryEvent(HistoryEventTypes.AFTER_APPLY, this);\n  }\n\n  /**\n   * @param {module:history.HistoryEventHandler} handler\n   * @param {callback} unapplyFunction\n   * @returns {void}\n  */\n  unapply (handler, unapplyFunction) {\n    handler && handler.handleHistoryEvent(HistoryEventTypes.BEFORE_UNAPPLY, this);\n    unapplyFunction();\n    handler && handler.handleHistoryEvent(HistoryEventTypes.AFTER_UNAPPLY, this);\n  }\n\n  /**\n   * @returns {Element[]} Array with element associated with this command\n   * This function needs to be surcharged if multiple elements are returned.\n  */\n  elements () {\n    return [this.elem];\n  }\n\n  /**\n    * @returns {string} String with element associated with this command\n  */\n  type () {\n    return this.constructor.name;\n  }\n}\n\n// Todo: Figure out why the interface members aren't showing\n//   up (with or without modules applied), despite our apparently following\n//   http://usejsdoc.org/tags-interface.html#virtual-comments\n\n/**\n * An interface that all command objects must implement.\n * @interface module:history.HistoryCommand\n*/\n/**\n * Applies.\n *\n * @function module:history.HistoryCommand#apply\n * @param {module:history.HistoryEventHandler} handler\n * @fires module:history~Command#event:history\n * @returns {void|true}\n */\n/**\n *\n * Unapplies.\n * @function module:history.HistoryCommand#unapply\n * @param {module:history.HistoryEventHandler} handler\n * @fires module:history~Command#event:history\n * @returns {void|true}\n */\n/**\n * Returns the elements.\n * @function module:history.HistoryCommand#elements\n * @returns {Element[]}\n */\n/**\n * Gets the text.\n * @function module:history.HistoryCommand#getText\n * @returns {string}\n */\n/**\n * Gives the type.\n * @function module:history.HistoryCommand.type\n * @returns {string}\n */\n\n/**\n * @event module:history~Command#event:history\n * @type {module:history.HistoryCommand}\n */\n\n/**\n * An interface for objects that will handle history events.\n * @interface module:history.HistoryEventHandler\n */\n/**\n *\n * @function module:history.HistoryEventHandler#handleHistoryEvent\n * @param {string} eventType One of the HistoryEvent types\n * @param {module:history~Command#event:history} command\n * @listens module:history~Command#event:history\n * @returns {void}\n *\n */\n\n/**\n * History command for an element that had its DOM position changed.\n * @implements {module:history.HistoryCommand}\n*/\nexport class MoveElementCommand extends Command {\n  /**\n  * @param {Element} elem - The DOM element that was moved\n  * @param {Element} oldNextSibling - The element's next sibling before it was moved\n  * @param {Element} oldParent - The element's parent before it was moved\n  * @param {string} [text] - An optional string visible to user related to this change\n  */\n  constructor (elem, oldNextSibling, oldParent, text) {\n    super();\n    this.elem = elem;\n    this.text = text ? ('Move ' + elem.tagName + ' to ' + text) : ('Move ' + elem.tagName);\n    this.oldNextSibling = oldNextSibling;\n    this.oldParent = oldParent;\n    this.newNextSibling = elem.nextSibling;\n    this.newParent = elem.parentNode;\n  }\n\n  /**\n   * Re-positions the element.\n   * @param {module:history.HistoryEventHandler} handler\n   * @fires module:history~Command#event:history\n   * @returns {void}\n  */\n  apply (handler) {\n    super.apply(handler, () => {\n      this.elem = this.newParent.insertBefore(this.elem, this.newNextSibling);\n    });\n  }\n\n  /**\n   * Positions the element back to its original location.\n   * @param {module:history.HistoryEventHandler} handler\n   * @fires module:history~Command#event:history\n   * @returns {void}\n  */\n  unapply (handler) {\n    super.unapply(handler, () => {\n      this.elem = this.oldParent.insertBefore(this.elem, this.oldNextSibling);\n    });\n  }\n}\n\n/**\n* History command for an element that was added to the DOM.\n* @implements {module:history.HistoryCommand}\n*/\nexport class InsertElementCommand extends Command {\n  /**\n   * @param {Element} elem - The newly added DOM element\n   * @param {string} text - An optional string visible to user related to this change\n  */\n  constructor (elem, text) {\n    super();\n    this.elem = elem;\n    this.text = text || ('Create ' + elem.tagName);\n    this.parent = elem.parentNode;\n    this.nextSibling = this.elem.nextSibling;\n  }\n\n  /**\n  * Re-inserts the new element.\n  * @param {module:history.HistoryEventHandler} handler\n  * @fires module:history~Command#event:history\n  * @returns {void}\n  */\n  apply (handler) {\n    super.apply(handler, () => {\n      this.elem = this.parent.insertBefore(this.elem, this.nextSibling);\n    });\n  }\n\n  /**\n  * Removes the element.\n  * @param {module:history.HistoryEventHandler} handler\n  * @fires module:history~Command#event:history\n  * @returns {void}\n  */\n  unapply (handler) {\n    super.unapply(handler, () => {\n      this.parent = this.elem.parentNode;\n      this.elem.remove();\n    });\n  }\n}\n\n/**\n* History command for an element removed from the DOM.\n* @implements {module:history.HistoryCommand}\n*/\nexport class RemoveElementCommand extends Command {\n  /**\n  * @param {Element} elem - The removed DOM element\n  * @param {Node} oldNextSibling - The DOM element's nextSibling when it was in the DOM\n  * @param {Element} oldParent - The DOM element's parent\n  * @param {string} [text] - An optional string visible to user related to this change\n  */\n  constructor (elem, oldNextSibling, oldParent, text) {\n    super();\n    this.elem = elem;\n    this.text = text || ('Delete ' + elem.tagName);\n    this.nextSibling = oldNextSibling;\n    this.parent = oldParent;\n\n    // special hack for webkit: remove this element's entry in the svgTransformLists map\n    removeElementFromListMap(elem);\n  }\n\n  /**\n  * Re-removes the new element.\n  * @param {module:history.HistoryEventHandler} handler\n  * @fires module:history~Command#event:history\n  * @returns {void}\n  */\n  apply (handler) {\n    super.apply(handler, () => {\n      removeElementFromListMap(this.elem);\n      this.parent = this.elem.parentNode;\n      this.elem.remove();\n    });\n  }\n\n  /**\n  * Re-adds the new element.\n  * @param {module:history.HistoryEventHandler} handler\n  * @fires module:history~Command#event:history\n  * @returns {void}\n  */\n  unapply (handler) {\n    super.unapply(handler, () => {\n      removeElementFromListMap(this.elem);\n      if (isNullish(this.nextSibling)) {\n        if (window.console) {\n          console.error('Reference element was lost');\n        }\n      }\n      this.parent.insertBefore(this.elem, this.nextSibling); // Don't use `before` or `prepend` as `this.nextSibling` may be `null`\n    });\n  }\n}\n\n/**\n* @typedef {\"#text\"|\"#href\"|string} module:history.CommandAttributeName\n*/\n/**\n* @typedef {PlainObject<module:history.CommandAttributeName, string>} module:history.CommandAttributes\n*/\n\n/**\n* History command to make a change to an element.\n* Usually an attribute change, but can also be textcontent.\n* @implements {module:history.HistoryCommand}\n*/\nexport class ChangeElementCommand extends Command {\n  /**\n  * @param {Element} elem - The DOM element that was changed\n  * @param {module:history.CommandAttributes} attrs - Attributes to be changed with the values they had *before* the change\n  * @param {string} text - An optional string visible to user related to this change\n   */\n  constructor (elem, attrs, text) {\n    super();\n    this.elem = elem;\n    this.text = text ? ('Change ' + elem.tagName + ' ' + text) : ('Change ' + elem.tagName);\n    this.newValues = {};\n    this.oldValues = attrs;\n    for (const attr in attrs) {\n      if (attr === '#text') {\n        this.newValues[attr] = elem.textContent;\n      } else if (attr === '#href') {\n        this.newValues[attr] = getHref(elem);\n      } else {\n        this.newValues[attr] = elem.getAttribute(attr);\n      }\n    }\n  }\n\n  /**\n  * Performs the stored change action.\n  * @param {module:history.HistoryEventHandler} handler\n  * @fires module:history~Command#event:history\n  * @returns {void}\n  */\n  apply (handler) {\n    super.apply(handler, () => {\n      let bChangedTransform = false;\n      Object.entries(this.newValues).forEach(([attr, value]) => {\n        if (value) {\n          if (attr === '#text') {\n            this.elem.textContent = value;\n          } else if (attr === '#href') {\n            setHref(this.elem, value);\n          } else {\n            this.elem.setAttribute(attr, value);\n          }\n        } else if (attr === '#text') {\n          this.elem.textContent = '';\n        } else {\n          this.elem.setAttribute(attr, '');\n          this.elem.removeAttribute(attr);\n        }\n\n        if (attr === 'transform') { bChangedTransform = true; }\n      });\n\n      // relocate rotational transform, if necessary\n      if (!bChangedTransform) {\n        const angle = getRotationAngle(this.elem);\n        if (angle) {\n          const bbox = this.elem.getBBox();\n          const cx = bbox.x + bbox.width / 2;\n          const cy = bbox.y + bbox.height / 2;\n          const rotate = ['rotate(', angle, ' ', cx, ',', cy, ')'].join('');\n          if (rotate !== this.elem.getAttribute('transform')) {\n            this.elem.setAttribute('transform', rotate);\n          }\n        }\n      }\n    });\n  }\n\n  /**\n  * Reverses the stored change action.\n  * @param {module:history.HistoryEventHandler} handler\n  * @fires module:history~Command#event:history\n  * @returns {void}\n  */\n  unapply (handler) {\n    super.unapply(handler, () => {\n      let bChangedTransform = false;\n      Object.entries(this.oldValues).forEach(([attr, value]) => {\n        if (value) {\n          if (attr === '#text') {\n            this.elem.textContent = value;\n          } else if (attr === '#href') {\n            setHref(this.elem, value);\n          } else {\n            this.elem.setAttribute(attr, value);\n          }\n        } else if (attr === '#text') {\n          this.elem.textContent = '';\n        } else {\n          this.elem.removeAttribute(attr);\n        }\n        if (attr === 'transform') { bChangedTransform = true; }\n      });\n      // relocate rotational transform, if necessary\n      if (!bChangedTransform) {\n        const angle = getRotationAngle(this.elem);\n        if (angle) {\n          const bbox = this.elem.getBBox();\n          const cx = bbox.x + bbox.width / 2,\n            cy = bbox.y + bbox.height / 2;\n          const rotate = ['rotate(', angle, ' ', cx, ',', cy, ')'].join('');\n          if (rotate !== this.elem.getAttribute('transform')) {\n            this.elem.setAttribute('transform', rotate);\n          }\n        }\n      }\n      // Remove transformlist to prevent confusion that causes bugs like 575.\n      removeElementFromListMap(this.elem);\n    });\n  }\n}\n\n// TODO: create a 'typing' command object that tracks changes in text\n// if a new Typing command is created and the top command on the stack is also a Typing\n// and they both affect the same element, then collapse the two commands into one\n\n/**\n* History command that can contain/execute multiple other commands.\n* @implements {module:history.HistoryCommand}\n*/\nexport class BatchCommand extends Command {\n  /**\n  * @param {string} [text] - An optional string visible to user related to this change\n  */\n  constructor (text) {\n    super();\n    this.text = text || 'Batch Command';\n    this.stack = [];\n  }\n\n  /**\n  * Runs \"apply\" on all subcommands.\n  * @param {module:history.HistoryEventHandler} handler\n  * @fires module:history~Command#event:history\n  * @returns {void}\n  */\n  apply (handler) {\n    super.apply(handler, () => {\n      this.stack.forEach((stackItem) => {\n        console.assert(stackItem, 'stack item should not be null');\n        stackItem && stackItem.apply(handler);\n      });\n    });\n  }\n\n  /**\n  * Runs \"unapply\" on all subcommands.\n  * @param {module:history.HistoryEventHandler} handler\n  * @fires module:history~Command#event:history\n  * @returns {void}\n  */\n  unapply (handler) {\n    super.unapply(handler, () => {\n      this.stack.reverse().forEach((stackItem) => {\n        console.assert(stackItem, 'stack item should not be null');\n        stackItem && stackItem.unapply(handler);\n      });\n    });\n  }\n\n  /**\n  * Iterate through all our subcommands.\n  * @returns {Element[]} All the elements we are changing\n  */\n  elements () {\n    const elems = [];\n    let cmd = this.stack.length;\n    while (cmd--) {\n      if (!this.stack[cmd]) continue;\n      const thisElems = this.stack[cmd].elements();\n      let elem = thisElems.length;\n      while (elem--) {\n        if (!elems.includes(thisElems[elem])) { elems.push(thisElems[elem]); }\n      }\n    }\n    return elems;\n  }\n\n  /**\n  * Adds a given command to the history stack.\n  * @param {Command} cmd - The undo command object to add\n  * @returns {void}\n  */\n  addSubCommand (cmd) {\n    console.assert(cmd !== null, 'cmd should not be null');\n    this.stack.push(cmd);\n  }\n\n  /**\n  * @returns {boolean} Indicates whether or not the batch command is empty\n  */\n  isEmpty () {\n    return !this.stack.length;\n  }\n}\n\n/**\n*\n*/\nexport class UndoManager {\n  /**\n  * @param {module:history.HistoryEventHandler} historyEventHandler\n  */\n  constructor (historyEventHandler) {\n    this.handler_ = historyEventHandler || null;\n    this.undoStackPointer = 0;\n    this.undoStack = [];\n\n    // this is the stack that stores the original values, the elements and\n    // the attribute name for begin/finish\n    this.undoChangeStackPointer = -1;\n    this.undoableChangeStack = [];\n  }\n\n  /**\n  * Resets the undo stack, effectively clearing the undo/redo history.\n  * @returns {void}\n  */\n  resetUndoStack () {\n    this.undoStack = [];\n    this.undoStackPointer = 0;\n  }\n\n  /**\n  * @returns {Integer} Current size of the undo history stack\n  */\n  getUndoStackSize () {\n    return this.undoStackPointer;\n  }\n\n  /**\n  * @returns {Integer} Current size of the redo history stack\n  */\n  getRedoStackSize () {\n    return this.undoStack.length - this.undoStackPointer;\n  }\n\n  /**\n  * @returns {string} String associated with the next undo command\n  */\n  getNextUndoCommandText () {\n    return this.undoStackPointer > 0 ? this.undoStack[this.undoStackPointer - 1].getText() : '';\n  }\n\n  /**\n  * @returns {string} String associated with the next redo command\n  */\n  getNextRedoCommandText () {\n    return this.undoStackPointer < this.undoStack.length ? this.undoStack[this.undoStackPointer].getText() : '';\n  }\n\n  /**\n  * Performs an undo step.\n  * @returns {void}\n  */\n  undo () {\n    if (this.undoStackPointer > 0) {\n      const cmd = this.undoStack[--this.undoStackPointer];\n      cmd.unapply(this.handler_);\n    }\n  }\n\n  /**\n  * Performs a redo step.\n  * @returns {void}\n  */\n  redo () {\n    if (this.undoStackPointer < this.undoStack.length && this.undoStack.length > 0) {\n      const cmd = this.undoStack[this.undoStackPointer++];\n      cmd.apply(this.handler_);\n    }\n  }\n\n  /**\n  * Adds a command object to the undo history stack.\n  * @param {Command} cmd - The command object to add\n  * @returns {void}\n  */\n  addCommandToHistory (cmd) {\n    // TODO: we MUST compress consecutive text changes to the same element\n    // (right now each keystroke is saved as a separate command that includes the\n    // entire text contents of the text element)\n    // TODO: consider limiting the history that we store here (need to do some slicing)\n\n    // if our stack pointer is not at the end, then we have to remove\n    // all commands after the pointer and insert the new command\n    if (this.undoStackPointer < this.undoStack.length && this.undoStack.length > 0) {\n      this.undoStack = this.undoStack.splice(0, this.undoStackPointer);\n    }\n    this.undoStack.push(cmd);\n    this.undoStackPointer = this.undoStack.length;\n  }\n\n  /**\n  * This function tells the canvas to remember the old values of the\n  * `attrName` attribute for each element sent in.  The elements and values\n  * are stored on a stack, so the next call to `finishUndoableChange()` will\n  * pop the elements and old values off the stack, gets the current values\n  * from the DOM and uses all of these to construct the undo-able command.\n  * @param {string} attrName - The name of the attribute being changed\n  * @param {Element[]} elems - Array of DOM elements being changed\n  * @returns {void}\n  */\n  beginUndoableChange (attrName, elems) {\n    const p = ++this.undoChangeStackPointer;\n    let i = elems.length;\n    const oldValues = new Array(i), elements = new Array(i);\n    while (i--) {\n      const elem = elems[i];\n      if (isNullish(elem)) { continue; }\n      elements[i] = elem;\n      oldValues[i] = elem.getAttribute(attrName);\n    }\n    this.undoableChangeStack[p] = {\n      attrName,\n      oldValues,\n      elements\n    };\n  }\n\n  /**\n  * This function returns a `BatchCommand` object which summarizes the\n  * change since `beginUndoableChange` was called.  The command can then\n  * be added to the command history.\n  * @returns {BatchCommand} Batch command object with resulting changes\n  */\n  finishUndoableChange () {\n    const p = this.undoChangeStackPointer--;\n    const changeset = this.undoableChangeStack[p];\n    const {attrName} = changeset;\n    const batchCmd = new BatchCommand('Change ' + attrName);\n    let i = changeset.elements.length;\n    while (i--) {\n      const elem = changeset.elements[i];\n      if (isNullish(elem)) { continue; }\n      const changes = {};\n      changes[attrName] = changeset.oldValues[i];\n      if (changes[attrName] !== elem.getAttribute(attrName)) {\n        batchCmd.addSubCommand(new ChangeElementCommand(elem, changes, attrName));\n      }\n    }\n    this.undoableChangeStack[p] = null;\n    return batchCmd;\n  }\n}\n","/* globals jQuery */\n/**\n * Path functionality.\n * @module path\n * @license MIT\n *\n * @copyright 2011 Alexis Deveria, 2011 Jeff Schiller\n */\n\nimport '../common/svgpathseg.js';\nimport {NS} from '../common/namespaces.js';\nimport {getTransformList} from '../common/svgtransformlist.js';\nimport {shortFloat} from '../common/units.js';\nimport {ChangeElementCommand, BatchCommand} from './history.js';\nimport {\n  transformPoint, getMatrix, snapToAngle, rectsIntersect,\n  transformListToTransform\n} from '../common/math.js';\nimport {\n  assignAttributes, getElem, getRotationAngle, getBBox,\n  getRefElem, findDefs, snapToGrid, isNullish,\n  getBBox as utilsGetBBox\n} from '../common/utilities.js';\nimport {\n  supportsPathInsertItemBefore, supportsPathReplaceItem, isWebkit\n} from '../common/browser.js';\n\nconst $ = jQuery;\n\nconst segData = {\n  2: ['x', 'y'], // PATHSEG_MOVETO_ABS\n  4: ['x', 'y'], // PATHSEG_LINETO_ABS\n  6: ['x', 'y', 'x1', 'y1', 'x2', 'y2'], // PATHSEG_CURVETO_CUBIC_ABS\n  8: ['x', 'y', 'x1', 'y1'], // PATHSEG_CURVETO_QUADRATIC_ABS\n  10: ['x', 'y', 'r1', 'r2', 'angle', 'largeArcFlag', 'sweepFlag'], // PATHSEG_ARC_ABS\n  12: ['x'], // PATHSEG_LINETO_HORIZONTAL_ABS\n  14: ['y'], // PATHSEG_LINETO_VERTICAL_ABS\n  16: ['x', 'y', 'x2', 'y2'], // PATHSEG_CURVETO_CUBIC_SMOOTH_ABS\n  18: ['x', 'y'] // PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS\n};\n\n/**\n * @tutorial LocaleDocs\n * @typedef {module:locale.LocaleStrings|PlainObject} module:path.uiStrings\n * @property {PlainObject<string, string>} ui\n*/\n\nconst uiStrings = {};\n/**\n* @function module:path.setUiStrings\n* @param {module:path.uiStrings} strs\n* @returns {void}\n*/\nexport const setUiStrings = function (strs) {\n  Object.assign(uiStrings, strs.ui);\n};\n\nlet pathFuncs = [];\n\nlet linkControlPts = true;\n\n// Stores references to paths via IDs.\n// TODO: Make this cross-document happy.\nlet pathData = {};\n\n/**\n* @function module:path.setLinkControlPoints\n* @param {boolean} lcp\n* @returns {void}\n*/\nexport const setLinkControlPoints = function (lcp) {\n  linkControlPts = lcp;\n};\n\n/**\n * @name module:path.path\n * @type {null|module:path.Path}\n * @memberof module:path\n*/\nexport let path = null; // eslint-disable-line import/no-mutable-exports\n\nlet editorContext_ = null;\n\n/**\n* @external MouseEvent\n*/\n\n/**\n* Object with the following keys/values.\n* @typedef {PlainObject} module:path.SVGElementJSON\n* @property {string} element - Tag name of the SVG element to create\n* @property {PlainObject<string, string>} attr - Has key-value attributes to assign to the new element. An `id` should be set so that {@link module:utilities.EditorContext#addSVGElementFromJson} can later re-identify the element for modification or replacement.\n* @property {boolean} [curStyles=false] - Indicates whether current style attributes should be applied first\n* @property {module:path.SVGElementJSON[]} [children] - Data objects to be added recursively as children\n* @property {string} [namespace=\"http://www.w3.org/2000/svg\"] - Indicate a (non-SVG) namespace\n*/\n/**\n * @interface module:path.EditorContext\n * @property {module:select.SelectorManager} selectorManager\n * @property {module:svgcanvas.SvgCanvas} canvas\n */\n/**\n * @function module:path.EditorContext#call\n * @param {\"selected\"|\"changed\"} ev - String with the event name\n * @param {module:svgcanvas.SvgCanvas#event:selected|module:svgcanvas.SvgCanvas#event:changed} arg - Argument to pass through to the callback function. If the event is \"changed\", an array of `Element`s is passed; if \"selected\", a single-item array of `Element` is passed.\n * @returns {void}\n */\n/**\n * @function module:path.EditorContext#resetD\n * @param {SVGPathElement} p\n * @returns {void}\n*/\n/**\n * Note: This doesn't round to an integer necessarily.\n * @function module:path.EditorContext#round\n * @param {Float} val\n * @returns {Float} Rounded value to nearest value based on `currentZoom`\n */\n/**\n * @function module:path.EditorContext#clearSelection\n * @param {boolean} [noCall] - When `true`, does not call the \"selected\" handler\n * @returns {void}\n*/\n/**\n * @function module:path.EditorContext#addToSelection\n * @param {Element[]} elemsToAdd - An array of DOM elements to add to the selection\n * @param {boolean} showGrips - Indicates whether the resize grips should be shown\n * @returns {void}\n*/\n/**\n * @function module:path.EditorContext#addCommandToHistory\n * @param {Command} cmd\n * @returns {void}\n */\n/**\n * @function module:path.EditorContext#remapElement\n * @param {Element} selected - DOM element to be changed\n * @param {PlainObject<string, string>} changes - Object with changes to be remapped\n * @param {SVGMatrix} m - Matrix object to use for remapping coordinates\n * @returns {void}\n */\n/**\n * @function module:path.EditorContext#addSVGElementFromJson\n * @param {module:path.SVGElementJSON} data\n * @returns {Element} The new element\n*/\n/**\n * @function module:path.EditorContext#getGridSnapping\n * @returns {boolean}\n */\n/**\n * @function module:path.EditorContext#getOpacity\n * @returns {Float}\n */\n/**\n * @function module:path.EditorContext#getSelectedElements\n * @returns {Element[]} the array with selected DOM elements\n*/\n/**\n * @function module:path.EditorContext#getContainer\n * @returns {Element}\n */\n/**\n * @function module:path.EditorContext#setStarted\n * @param {boolean} s\n * @returns {void}\n */\n/**\n * @function module:path.EditorContext#getRubberBox\n * @returns {SVGRectElement}\n*/\n/**\n * @function module:path.EditorContext#setRubberBox\n * @param {SVGRectElement} rb\n * @returns {SVGRectElement} Same as parameter passed in\n */\n/**\n * @function module:path.EditorContext#addPtsToSelection\n * @param {PlainObject} cfg\n * @param {boolean} cfg.closedSubpath\n * @param {SVGCircleElement[]} cfg.grips\n * @returns {void}\n */\n/**\n * @function module:path.EditorContext#endChanges\n * @param {PlainObject} cfg\n * @param {string} cfg.cmd\n * @param {Element} cfg.elem\n * @returns {void}\n*/\n/**\n * @function module:path.EditorContext#getCurrentZoom\n * @returns {Float} The current zoom level\n */\n/**\n * Returns the last created DOM element ID string.\n * @function module:path.EditorContext#getId\n * @returns {string}\n */\n/**\n * Creates and returns a unique ID string for a DOM element.\n * @function module:path.EditorContext#getNextId\n * @returns {string}\n*/\n/**\n * Gets the desired element from a mouse event.\n * @function module:path.EditorContext#getMouseTarget\n * @param {external:MouseEvent} evt - Event object from the mouse event\n * @returns {Element} DOM element we want\n */\n/**\n * @function module:path.EditorContext#getCurrentMode\n * @returns {string}\n */\n/**\n * @function module:path.EditorContext#setCurrentMode\n * @param {string} cm The mode\n * @returns {string} The same mode as passed in\n*/\n/**\n * @function module:path.EditorContext#getDrawnPath\n * @returns {SVGPathElement|null}\n */\n/**\n * @function module:path.EditorContext#setDrawnPath\n * @param {SVGPathElement|null} dp\n * @returns {SVGPathElement|null} The same value as passed in\n */\n/**\n * @function module:path.EditorContext#getSVGRoot\n * @returns {SVGSVGElement}\n*/\n\n/**\n* @function module:path.init\n* @param {module:path.EditorContext} editorContext\n* @returns {void}\n*/\nexport const init = function (editorContext) {\n  editorContext_ = editorContext;\n\n  pathFuncs = [0, 'ClosePath'];\n  const pathFuncsStrs = [\n    'Moveto', 'Lineto', 'CurvetoCubic', 'CurvetoQuadratic', 'Arc',\n    'LinetoHorizontal', 'LinetoVertical', 'CurvetoCubicSmooth', 'CurvetoQuadraticSmooth'\n  ];\n  $.each(pathFuncsStrs, function (i, s) {\n    pathFuncs.push(s + 'Abs');\n    pathFuncs.push(s + 'Rel');\n  });\n};\n\n/**\n* @function module:path.insertItemBefore\n* @param {Element} elem\n* @param {Segment} newseg\n* @param {Integer} index\n* @returns {void}\n*/\nexport const insertItemBefore = function (elem, newseg, index) {\n  // Support insertItemBefore on paths for FF2\n  const list = elem.pathSegList;\n\n  if (supportsPathInsertItemBefore()) {\n    list.insertItemBefore(newseg, index);\n    return;\n  }\n  const len = list.numberOfItems;\n  const arr = [];\n  for (let i = 0; i < len; i++) {\n    const curSeg = list.getItem(i);\n    arr.push(curSeg);\n  }\n  list.clear();\n  for (let i = 0; i < len; i++) {\n    if (i === index) { // index + 1\n      list.appendItem(newseg);\n    }\n    list.appendItem(arr[i]);\n  }\n};\n\n/**\n* @function module:path.ptObjToArr\n* @todo See if this should just live in `replacePathSeg`\n* @param {string} type\n* @param {SVGPathSegMovetoAbs|SVGPathSegLinetoAbs|SVGPathSegCurvetoCubicAbs|SVGPathSegCurvetoQuadraticAbs|SVGPathSegArcAbs|SVGPathSegLinetoHorizontalAbs|SVGPathSegLinetoVerticalAbs|SVGPathSegCurvetoCubicSmoothAbs|SVGPathSegCurvetoQuadraticSmoothAbs} segItem\n* @returns {ArgumentsArray}\n*/\nexport const ptObjToArr = function (type, segItem) {\n  const props = segData[type];\n  return props.map((prop) => {\n    return segItem[prop];\n  });\n};\n\n/**\n* @function module:path.getGripPt\n* @param {Segment} seg\n* @param {module:math.XYObject} altPt\n* @returns {module:math.XYObject}\n*/\nexport const getGripPt = function (seg, altPt) {\n  const {path: pth} = seg;\n  let out = {\n    x: altPt ? altPt.x : seg.item.x,\n    y: altPt ? altPt.y : seg.item.y\n  };\n\n  if (pth.matrix) {\n    const pt = transformPoint(out.x, out.y, pth.matrix);\n    out = pt;\n  }\n\n  const currentZoom = editorContext_.getCurrentZoom();\n  out.x *= currentZoom;\n  out.y *= currentZoom;\n\n  return out;\n};\n\n/**\n* @function module:path.getPointFromGrip\n* @param {module:math.XYObject} pt\n* @param {module:path.Path} pth\n* @returns {module:math.XYObject}\n*/\nexport const getPointFromGrip = function (pt, pth) {\n  const out = {\n    x: pt.x,\n    y: pt.y\n  };\n\n  if (pth.matrix) {\n    pt = transformPoint(out.x, out.y, pth.imatrix);\n    out.x = pt.x;\n    out.y = pt.y;\n  }\n\n  const currentZoom = editorContext_.getCurrentZoom();\n  out.x /= currentZoom;\n  out.y /= currentZoom;\n\n  return out;\n};\n\n/**\n* Requires prior call to `setUiStrings` if `xlink:title`\n*    to be set on the grip.\n* @function module:path.addPointGrip\n* @param {Integer} index\n* @param {Integer} x\n* @param {Integer} y\n* @returns {SVGCircleElement}\n*/\nexport const addPointGrip = function (index, x, y) {\n  // create the container of all the point grips\n  const pointGripContainer = getGripContainer();\n\n  let pointGrip = getElem('pathpointgrip_' + index);\n  // create it\n  if (!pointGrip) {\n    pointGrip = document.createElementNS(NS.SVG, 'circle');\n    const atts = {\n      id: 'pathpointgrip_' + index,\n      display: 'none',\n      r: 4,\n      fill: '#0FF',\n      stroke: '#00F',\n      'stroke-width': 2,\n      cursor: 'move',\n      style: 'pointer-events:all'\n    };\n    if ('pathNodeTooltip' in uiStrings) { // May be empty if running path.js without svg-editor\n      atts['xlink:title'] = uiStrings.pathNodeTooltip;\n    }\n    assignAttributes(pointGrip, atts);\n    pointGrip = pointGripContainer.appendChild(pointGrip);\n\n    const grip = $('#pathpointgrip_' + index);\n    grip.dblclick(function () {\n      if (path) {\n        path.setSegType();\n      }\n    });\n  }\n  if (x && y) {\n    // set up the point grip element and display it\n    assignAttributes(pointGrip, {\n      cx: x,\n      cy: y,\n      display: 'inline'\n    });\n  }\n  return pointGrip;\n};\n\n/**\n* @function module:path.getGripContainer\n* @returns {Element}\n*/\nexport const getGripContainer = function () {\n  let c = getElem('pathpointgrip_container');\n  if (!c) {\n    const parentElement = getElem('selectorParentGroup');\n    c = parentElement.appendChild(document.createElementNS(NS.SVG, 'g'));\n    c.id = 'pathpointgrip_container';\n  }\n  return c;\n};\n\n/**\n* Requires prior call to `setUiStrings` if `xlink:title`\n*    to be set on the grip.\n* @function module:path.addCtrlGrip\n* @param {string} id\n* @returns {SVGCircleElement}\n*/\nexport const addCtrlGrip = function (id) {\n  let pointGrip = getElem('ctrlpointgrip_' + id);\n  if (pointGrip) { return pointGrip; }\n\n  pointGrip = document.createElementNS(NS.SVG, 'circle');\n  const atts = {\n    id: 'ctrlpointgrip_' + id,\n    display: 'none',\n    r: 4,\n    fill: '#0FF',\n    stroke: '#55F',\n    'stroke-width': 1,\n    cursor: 'move',\n    style: 'pointer-events:all'\n  };\n  if ('pathCtrlPtTooltip' in uiStrings) { // May be empty if running path.js without svg-editor\n    atts['xlink:title'] = uiStrings.pathCtrlPtTooltip;\n  }\n  assignAttributes(pointGrip, atts);\n  getGripContainer().append(pointGrip);\n  return pointGrip;\n};\n\n/**\n* @function module:path.getCtrlLine\n* @param {string} id\n* @returns {SVGLineElement}\n*/\nexport const getCtrlLine = function (id) {\n  let ctrlLine = getElem('ctrlLine_' + id);\n  if (ctrlLine) { return ctrlLine; }\n\n  ctrlLine = document.createElementNS(NS.SVG, 'line');\n  assignAttributes(ctrlLine, {\n    id: 'ctrlLine_' + id,\n    stroke: '#555',\n    'stroke-width': 1,\n    style: 'pointer-events:none'\n  });\n  getGripContainer().append(ctrlLine);\n  return ctrlLine;\n};\n\n/**\n* @function module:path.getPointGrip\n* @param {Segment} seg\n* @param {boolean} update\n* @returns {SVGCircleElement}\n*/\nexport const getPointGrip = function (seg, update) {\n  const {index} = seg;\n  const pointGrip = addPointGrip(index);\n\n  if (update) {\n    const pt = getGripPt(seg);\n    assignAttributes(pointGrip, {\n      cx: pt.x,\n      cy: pt.y,\n      display: 'inline'\n    });\n  }\n\n  return pointGrip;\n};\n\n/**\n* @function module:path.getControlPoints\n* @param {Segment} seg\n* @returns {PlainObject<string, SVGLineElement|SVGCircleElement>}\n*/\nexport const getControlPoints = function (seg) {\n  const {item, index} = seg;\n  if (!('x1' in item) || !('x2' in item)) { return null; }\n  const cpt = {};\n  /* const pointGripContainer = */ getGripContainer();\n\n  // Note that this is intentionally not seg.prev.item\n  const prev = path.segs[index - 1].item;\n\n  const segItems = [prev, item];\n\n  for (let i = 1; i < 3; i++) {\n    const id = index + 'c' + i;\n\n    const ctrlLine = cpt['c' + i + '_line'] = getCtrlLine(id);\n\n    const pt = getGripPt(seg, {x: item['x' + i], y: item['y' + i]});\n    const gpt = getGripPt(seg, {x: segItems[i - 1].x, y: segItems[i - 1].y});\n\n    assignAttributes(ctrlLine, {\n      x1: pt.x,\n      y1: pt.y,\n      x2: gpt.x,\n      y2: gpt.y,\n      display: 'inline'\n    });\n\n    cpt['c' + i + '_line'] = ctrlLine;\n\n    // create it\n    const pointGrip = cpt['c' + i] = addCtrlGrip(id);\n\n    assignAttributes(pointGrip, {\n      cx: pt.x,\n      cy: pt.y,\n      display: 'inline'\n    });\n    cpt['c' + i] = pointGrip;\n  }\n  return cpt;\n};\n\n/**\n* This replaces the segment at the given index. Type is given as number.\n* @function module:path.replacePathSeg\n* @param {Integer} type Possible values set during {@link module:path.init}\n* @param {Integer} index\n* @param {ArgumentsArray} pts\n* @param {SVGPathElement} elem\n* @returns {void}\n*/\nexport const replacePathSeg = function (type, index, pts, elem) {\n  const pth = elem || path.elem;\n\n  const func = 'createSVGPathSeg' + pathFuncs[type];\n  const seg = pth[func](...pts);\n\n  if (supportsPathReplaceItem()) {\n    pth.pathSegList.replaceItem(seg, index);\n  } else {\n    const segList = pth.pathSegList;\n    const len = segList.numberOfItems;\n    const arr = [];\n    for (let i = 0; i < len; i++) {\n      const curSeg = segList.getItem(i);\n      arr.push(curSeg);\n    }\n    segList.clear();\n    for (let i = 0; i < len; i++) {\n      if (i === index) {\n        segList.appendItem(seg);\n      } else {\n        segList.appendItem(arr[i]);\n      }\n    }\n  }\n};\n\n/**\n* @function module:path.getSegSelector\n* @param {Segment} seg\n* @param {boolean} update\n* @returns {SVGPathElement}\n*/\nexport const getSegSelector = function (seg, update) {\n  const {index} = seg;\n  let segLine = getElem('segline_' + index);\n  if (!segLine) {\n    const pointGripContainer = getGripContainer();\n    // create segline\n    segLine = document.createElementNS(NS.SVG, 'path');\n    assignAttributes(segLine, {\n      id: 'segline_' + index,\n      display: 'none',\n      fill: 'none',\n      stroke: '#0FF',\n      'stroke-width': 2,\n      style: 'pointer-events:none',\n      d: 'M0,0 0,0'\n    });\n    pointGripContainer.append(segLine);\n  }\n\n  if (update) {\n    const {prev} = seg;\n    if (!prev) {\n      segLine.setAttribute('display', 'none');\n      return segLine;\n    }\n\n    const pt = getGripPt(prev);\n    // Set start point\n    replacePathSeg(2, 0, [pt.x, pt.y], segLine);\n\n    const pts = ptObjToArr(seg.type, seg.item); // , true);\n    for (let i = 0; i < pts.length; i += 2) {\n      const point = getGripPt(seg, {x: pts[i], y: pts[i + 1]});\n      pts[i] = point.x;\n      pts[i + 1] = point.y;\n    }\n\n    replacePathSeg(seg.type, 1, pts, segLine);\n  }\n  return segLine;\n};\n\n/**\n * @typedef {PlainObject} Point\n * @property {Integer} x The x value\n * @property {Integer} y The y value\n */\n\n/**\n* Takes three points and creates a smoother line based on them.\n* @function module:path.smoothControlPoints\n* @param {Point} ct1 - Object with x and y values (first control point)\n* @param {Point} ct2 - Object with x and y values (second control point)\n* @param {Point} pt - Object with x and y values (third point)\n* @returns {Point[]} Array of two \"smoothed\" point objects\n*/\nexport const smoothControlPoints = function (ct1, ct2, pt) {\n  // each point must not be the origin\n  const x1 = ct1.x - pt.x,\n    y1 = ct1.y - pt.y,\n    x2 = ct2.x - pt.x,\n    y2 = ct2.y - pt.y;\n\n  if ((x1 !== 0 || y1 !== 0) && (x2 !== 0 || y2 !== 0)) {\n    const\n      r1 = Math.sqrt(x1 * x1 + y1 * y1),\n      r2 = Math.sqrt(x2 * x2 + y2 * y2),\n      nct1 = editorContext_.getSVGRoot().createSVGPoint(),\n      nct2 = editorContext_.getSVGRoot().createSVGPoint();\n    let anglea = Math.atan2(y1, x1),\n      angleb = Math.atan2(y2, x2);\n    if (anglea < 0) { anglea += 2 * Math.PI; }\n    if (angleb < 0) { angleb += 2 * Math.PI; }\n\n    const angleBetween = Math.abs(anglea - angleb),\n      angleDiff = Math.abs(Math.PI - angleBetween) / 2;\n\n    let newAnglea, newAngleb;\n    if (anglea - angleb > 0) {\n      newAnglea = angleBetween < Math.PI ? (anglea + angleDiff) : (anglea - angleDiff);\n      newAngleb = angleBetween < Math.PI ? (angleb - angleDiff) : (angleb + angleDiff);\n    } else {\n      newAnglea = angleBetween < Math.PI ? (anglea - angleDiff) : (anglea + angleDiff);\n      newAngleb = angleBetween < Math.PI ? (angleb + angleDiff) : (angleb - angleDiff);\n    }\n\n    // rotate the points\n    nct1.x = r1 * Math.cos(newAnglea) + pt.x;\n    nct1.y = r1 * Math.sin(newAnglea) + pt.y;\n    nct2.x = r2 * Math.cos(newAngleb) + pt.x;\n    nct2.y = r2 * Math.sin(newAngleb) + pt.y;\n\n    return [nct1, nct2];\n  }\n  return undefined;\n};\n\n/**\n*\n*/\nexport class Segment {\n  /**\n  * @param {Integer} index\n  * @param {SVGPathSeg} item\n  * @todo Is `item` be more constrained here?\n  */\n  constructor (index, item) {\n    this.selected = false;\n    this.index = index;\n    this.item = item;\n    this.type = item.pathSegType;\n\n    this.ctrlpts = [];\n    this.ptgrip = null;\n    this.segsel = null;\n  }\n\n  /**\n   * @param {boolean} y\n   * @returns {void}\n   */\n  showCtrlPts (y) {\n    for (const i in this.ctrlpts) {\n      if ({}.hasOwnProperty.call(this.ctrlpts, i)) {\n        this.ctrlpts[i].setAttribute('display', y ? 'inline' : 'none');\n      }\n    }\n  }\n\n  /**\n   * @param {boolean} y\n   * @returns {void}\n   */\n  selectCtrls (y) {\n    $('#ctrlpointgrip_' + this.index + 'c1, #ctrlpointgrip_' + this.index + 'c2')\n      .attr('fill', y ? '#0FF' : '#EEE');\n  }\n\n  /**\n   * @param {boolean} y\n   * @returns {void}\n   */\n  show (y) {\n    if (this.ptgrip) {\n      this.ptgrip.setAttribute('display', y ? 'inline' : 'none');\n      this.segsel.setAttribute('display', y ? 'inline' : 'none');\n      // Show/hide all control points if available\n      this.showCtrlPts(y);\n    }\n  }\n\n  /**\n   * @param {boolean} y\n   * @returns {void}\n   */\n  select (y) {\n    if (this.ptgrip) {\n      this.ptgrip.setAttribute('stroke', y ? '#0FF' : '#00F');\n      this.segsel.setAttribute('display', y ? 'inline' : 'none');\n      if (this.ctrlpts) {\n        this.selectCtrls(y);\n      }\n      this.selected = y;\n    }\n  }\n\n  /**\n   * @returns {void}\n   */\n  addGrip () {\n    this.ptgrip = getPointGrip(this, true);\n    this.ctrlpts = getControlPoints(this); // , true);\n    this.segsel = getSegSelector(this, true);\n  }\n\n  /**\n   * @param {boolean} full\n   * @returns {void}\n   */\n  update (full) {\n    if (this.ptgrip) {\n      const pt = getGripPt(this);\n      assignAttributes(this.ptgrip, {\n        cx: pt.x,\n        cy: pt.y\n      });\n\n      getSegSelector(this, true);\n\n      if (this.ctrlpts) {\n        if (full) {\n          this.item = path.elem.pathSegList.getItem(this.index);\n          this.type = this.item.pathSegType;\n        }\n        getControlPoints(this);\n      }\n      // this.segsel.setAttribute('display', y ? 'inline' : 'none');\n    }\n  }\n\n  /**\n   * @param {Integer} dx\n   * @param {Integer} dy\n   * @returns {void}\n   */\n  move (dx, dy) {\n    const {item} = this;\n\n    const curPts = this.ctrlpts\n      ? [\n        item.x += dx, item.y += dy,\n        item.x1, item.y1, item.x2 += dx, item.y2 += dy\n      ]\n      : [item.x += dx, item.y += dy];\n\n    replacePathSeg(\n      this.type,\n      this.index,\n      // type 10 means ARC\n      this.type === 10 ? ptObjToArr(this.type, item) : curPts\n    );\n\n    if (this.next && this.next.ctrlpts) {\n      const next = this.next.item;\n      const nextPts = [\n        next.x, next.y,\n        next.x1 += dx, next.y1 += dy, next.x2, next.y2\n      ];\n      replacePathSeg(this.next.type, this.next.index, nextPts);\n    }\n\n    if (this.mate) {\n      // The last point of a closed subpath has a 'mate',\n      // which is the 'M' segment of the subpath\n      const {item: itm} = this.mate;\n      const pts = [itm.x += dx, itm.y += dy];\n      replacePathSeg(this.mate.type, this.mate.index, pts);\n      // Has no grip, so does not need 'updating'?\n    }\n\n    this.update(true);\n    if (this.next) { this.next.update(true); }\n  }\n\n  /**\n   * @param {Integer} num\n   * @returns {void}\n   */\n  setLinked (num) {\n    let seg, anum, pt;\n    if (num === 2) {\n      anum = 1;\n      seg = this.next;\n      if (!seg) { return; }\n      pt = this.item;\n    } else {\n      anum = 2;\n      seg = this.prev;\n      if (!seg) { return; }\n      pt = seg.item;\n    }\n\n    const {item} = seg;\n    item['x' + anum] = pt.x + (pt.x - this.item['x' + num]);\n    item['y' + anum] = pt.y + (pt.y - this.item['y' + num]);\n\n    const pts = [\n      item.x, item.y,\n      item.x1, item.y1,\n      item.x2, item.y2\n    ];\n\n    replacePathSeg(seg.type, seg.index, pts);\n    seg.update(true);\n  }\n\n  /**\n   * @param {Integer} num\n   * @param {Integer} dx\n   * @param {Integer} dy\n   * @returns {void}\n   */\n  moveCtrl (num, dx, dy) {\n    const {item} = this;\n    item['x' + num] += dx;\n    item['y' + num] += dy;\n\n    const pts = [\n      item.x, item.y,\n      item.x1, item.y1, item.x2, item.y2\n    ];\n\n    replacePathSeg(this.type, this.index, pts);\n    this.update(true);\n  }\n\n  /**\n   * @param {Integer} newType Possible values set during {@link module:path.init}\n   * @param {ArgumentsArray} pts\n   * @returns {void}\n   */\n  setType (newType, pts) {\n    replacePathSeg(newType, this.index, pts);\n    this.type = newType;\n    this.item = path.elem.pathSegList.getItem(this.index);\n    this.showCtrlPts(newType === 6);\n    this.ctrlpts = getControlPoints(this);\n    this.update(true);\n  }\n}\n\n/**\n*\n*/\nexport class Path {\n  /**\n  * @param {SVGPathElement} elem\n  * @throws {Error} If constructed without a path element\n  */\n  constructor (elem) {\n    if (!elem || elem.tagName !== 'path') {\n      throw new Error('svgedit.path.Path constructed without a <path> element');\n    }\n\n    this.elem = elem;\n    this.segs = [];\n    this.selected_pts = [];\n    path = this;\n\n    this.init();\n  }\n\n  /**\n  * Reset path data.\n  * @returns {module:path.Path}\n  */\n  init () {\n    // Hide all grips, etc\n\n    // fixed, needed to work on all found elements, not just first\n    $(getGripContainer()).find('*').each(function () {\n      $(this).attr('display', 'none');\n    });\n\n    const segList = this.elem.pathSegList;\n    const len = segList.numberOfItems;\n    this.segs = [];\n    this.selected_pts = [];\n    this.first_seg = null;\n\n    // Set up segs array\n    for (let i = 0; i < len; i++) {\n      const item = segList.getItem(i);\n      const segment = new Segment(i, item);\n      segment.path = this;\n      this.segs.push(segment);\n    }\n\n    const {segs} = this;\n\n    let startI = null;\n    for (let i = 0; i < len; i++) {\n      const seg = segs[i];\n      const nextSeg = (i + 1) >= len ? null : segs[i + 1];\n      const prevSeg = (i - 1) < 0 ? null : segs[i - 1];\n      if (seg.type === 2) {\n        if (prevSeg && prevSeg.type !== 1) {\n          // New sub-path, last one is open,\n          // so add a grip to last sub-path's first point\n          const startSeg = segs[startI];\n          startSeg.next = segs[startI + 1];\n          startSeg.next.prev = startSeg;\n          startSeg.addGrip();\n        }\n        // Remember that this is a starter seg\n        startI = i;\n      } else if (nextSeg && nextSeg.type === 1) {\n        // This is the last real segment of a closed sub-path\n        // Next is first seg after \"M\"\n        seg.next = segs[startI + 1];\n\n        // First seg after \"M\"'s prev is this\n        seg.next.prev = seg;\n        seg.mate = segs[startI];\n        seg.addGrip();\n        if (isNullish(this.first_seg)) {\n          this.first_seg = seg;\n        }\n      } else if (!nextSeg) {\n        if (seg.type !== 1) {\n          // Last seg, doesn't close so add a grip\n          // to last sub-path's first point\n          const startSeg = segs[startI];\n          startSeg.next = segs[startI + 1];\n          startSeg.next.prev = startSeg;\n          startSeg.addGrip();\n          seg.addGrip();\n\n          if (!this.first_seg) {\n            // Open path, so set first as real first and add grip\n            this.first_seg = segs[startI];\n          }\n        }\n      } else if (seg.type !== 1) {\n        // Regular segment, so add grip and its \"next\"\n        seg.addGrip();\n\n        // Don't set its \"next\" if it's an \"M\"\n        if (nextSeg && nextSeg.type !== 2) {\n          seg.next = nextSeg;\n          seg.next.prev = seg;\n        }\n      }\n    }\n    return this;\n  }\n\n  /**\n  * @callback module:path.PathEachSegCallback\n  * @this module:path.Segment\n  * @param {Integer} i The index of the seg being iterated\n  * @returns {boolean|void} Will stop execution of `eachSeg` if returns `false`\n  */\n  /**\n  * @param {module:path.PathEachSegCallback} fn\n  * @returns {void}\n  */\n  eachSeg (fn) {\n    const len = this.segs.length;\n    for (let i = 0; i < len; i++) {\n      const ret = fn.call(this.segs[i], i);\n      if (ret === false) { break; }\n    }\n  }\n\n  /**\n  * @param {Integer} index\n  * @returns {void}\n  */\n  addSeg (index) {\n    // Adds a new segment\n    const seg = this.segs[index];\n    if (!seg.prev) { return; }\n\n    const {prev} = seg;\n    let newseg, newX, newY;\n    switch (seg.item.pathSegType) {\n    case 4: {\n      newX = (seg.item.x + prev.item.x) / 2;\n      newY = (seg.item.y + prev.item.y) / 2;\n      newseg = this.elem.createSVGPathSegLinetoAbs(newX, newY);\n      break;\n    } case 6: { // make it a curved segment to preserve the shape (WRS)\n      // https://en.wikipedia.org/wiki/De_Casteljau%27s_algorithm#Geometric_interpretation\n      const p0x = (prev.item.x + seg.item.x1) / 2;\n      const p1x = (seg.item.x1 + seg.item.x2) / 2;\n      const p2x = (seg.item.x2 + seg.item.x) / 2;\n      const p01x = (p0x + p1x) / 2;\n      const p12x = (p1x + p2x) / 2;\n      newX = (p01x + p12x) / 2;\n      const p0y = (prev.item.y + seg.item.y1) / 2;\n      const p1y = (seg.item.y1 + seg.item.y2) / 2;\n      const p2y = (seg.item.y2 + seg.item.y) / 2;\n      const p01y = (p0y + p1y) / 2;\n      const p12y = (p1y + p2y) / 2;\n      newY = (p01y + p12y) / 2;\n      newseg = this.elem.createSVGPathSegCurvetoCubicAbs(newX, newY, p0x, p0y, p01x, p01y);\n      const pts = [seg.item.x, seg.item.y, p12x, p12y, p2x, p2y];\n      replacePathSeg(seg.type, index, pts);\n      break;\n    }\n    }\n\n    insertItemBefore(this.elem, newseg, index);\n  }\n\n  /**\n  * @param {Integer} index\n  * @returns {void}\n  */\n  deleteSeg (index) {\n    const seg = this.segs[index];\n    const list = this.elem.pathSegList;\n\n    seg.show(false);\n    const {next} = seg;\n    if (seg.mate) {\n      // Make the next point be the \"M\" point\n      const pt = [next.item.x, next.item.y];\n      replacePathSeg(2, next.index, pt);\n\n      // Reposition last node\n      replacePathSeg(4, seg.index, pt);\n\n      list.removeItem(seg.mate.index);\n    } else if (!seg.prev) {\n      // First node of open path, make next point the M\n      // const {item} = seg;\n      const pt = [next.item.x, next.item.y];\n      replacePathSeg(2, seg.next.index, pt);\n      list.removeItem(index);\n    } else {\n      list.removeItem(index);\n    }\n  }\n\n  /**\n  * @param {Integer} index\n  * @returns {void}\n  */\n  removePtFromSelection (index) {\n    const pos = this.selected_pts.indexOf(index);\n    if (pos === -1) {\n      return;\n    }\n    this.segs[index].select(false);\n    this.selected_pts.splice(pos, 1);\n  }\n\n  /**\n  * @returns {void}\n  */\n  clearSelection () {\n    this.eachSeg(function () {\n      // 'this' is the segment here\n      this.select(false);\n    });\n    this.selected_pts = [];\n  }\n\n  /**\n  * @returns {void}\n  */\n  storeD () {\n    this.last_d = this.elem.getAttribute('d');\n  }\n\n  /**\n  * @param {Integer} y\n  * @returns {Path}\n  */\n  show (y) {\n    // Shows this path's segment grips\n    this.eachSeg(function () {\n      // 'this' is the segment here\n      this.show(y);\n    });\n    if (y) {\n      this.selectPt(this.first_seg.index);\n    }\n    return this;\n  }\n\n  /**\n  * Move selected points.\n  * @param {Integer} dx\n  * @param {Integer} dy\n  * @returns {void}\n  */\n  movePts (dx, dy) {\n    let i = this.selected_pts.length;\n    while (i--) {\n      const seg = this.segs[this.selected_pts[i]];\n      seg.move(dx, dy);\n    }\n  }\n\n  /**\n  * @param {Integer} dx\n  * @param {Integer} dy\n  * @returns {void}\n  */\n  moveCtrl (dx, dy) {\n    const seg = this.segs[this.selected_pts[0]];\n    seg.moveCtrl(this.dragctrl, dx, dy);\n    if (linkControlPts) {\n      seg.setLinked(this.dragctrl);\n    }\n  }\n\n  /**\n  * @param {?Integer} newType See {@link https://www.w3.org/TR/SVG/single-page.html#paths-InterfaceSVGPathSeg}\n  * @returns {void}\n  */\n  setSegType (newType) {\n    this.storeD();\n    let i = this.selected_pts.length;\n    let text;\n    while (i--) {\n      const selPt = this.selected_pts[i];\n\n      // Selected seg\n      const cur = this.segs[selPt];\n      const {prev} = cur;\n      if (!prev) { continue; }\n\n      if (!newType) { // double-click, so just toggle\n        text = 'Toggle Path Segment Type';\n\n        // Toggle segment to curve/straight line\n        const oldType = cur.type;\n\n        newType = (oldType === 6) ? 4 : 6;\n      }\n\n      newType = Number(newType);\n\n      const curX = cur.item.x;\n      const curY = cur.item.y;\n      const prevX = prev.item.x;\n      const prevY = prev.item.y;\n      let points;\n      switch (newType) {\n      case 6: {\n        if (cur.olditem) {\n          const old = cur.olditem;\n          points = [curX, curY, old.x1, old.y1, old.x2, old.y2];\n        } else {\n          const diffX = curX - prevX;\n          const diffY = curY - prevY;\n          // get control points from straight line segment\n          /*\n          const ct1x = (prevX + (diffY/2));\n          const ct1y = (prevY - (diffX/2));\n          const ct2x = (curX + (diffY/2));\n          const ct2y = (curY - (diffX/2));\n          */\n          // create control points on the line to preserve the shape (WRS)\n          const ct1x = (prevX + (diffX / 3));\n          const ct1y = (prevY + (diffY / 3));\n          const ct2x = (curX - (diffX / 3));\n          const ct2y = (curY - (diffY / 3));\n          points = [curX, curY, ct1x, ct1y, ct2x, ct2y];\n        }\n        break;\n      } case 4: {\n        points = [curX, curY];\n\n        // Store original prevve segment nums\n        cur.olditem = cur.item;\n        break;\n      }\n      }\n\n      cur.setType(newType, points);\n    }\n    path.endChanges(text);\n  }\n\n  /**\n  * @param {Integer} pt\n  * @param {Integer} ctrlNum\n  * @returns {void}\n  */\n  selectPt (pt, ctrlNum) {\n    this.clearSelection();\n    if (isNullish(pt)) {\n      this.eachSeg(function (i) {\n        // 'this' is the segment here.\n        if (this.prev) {\n          pt = i;\n        }\n      });\n    }\n    this.addPtsToSelection(pt);\n    if (ctrlNum) {\n      this.dragctrl = ctrlNum;\n\n      if (linkControlPts) {\n        this.segs[pt].setLinked(ctrlNum);\n      }\n    }\n  }\n\n  /**\n  * Update position of all points.\n  * @returns {Path}\n  */\n  update () {\n    const {elem} = this;\n    if (getRotationAngle(elem)) {\n      this.matrix = getMatrix(elem);\n      this.imatrix = this.matrix.inverse();\n    } else {\n      this.matrix = null;\n      this.imatrix = null;\n    }\n\n    this.eachSeg(function (i) {\n      this.item = elem.pathSegList.getItem(i);\n      this.update();\n    });\n\n    return this;\n  }\n\n  /**\n  * @param {string} text\n  * @returns {void}\n  */\n  endChanges (text) {\n    if (isWebkit()) { editorContext_.resetD(this.elem); }\n    const cmd = new ChangeElementCommand(this.elem, {d: this.last_d}, text);\n    editorContext_.endChanges({cmd, elem: this.elem});\n  }\n\n  /**\n  * @param {Integer|Integer[]} indexes\n  * @returns {void}\n  */\n  addPtsToSelection (indexes) {\n    if (!Array.isArray(indexes)) { indexes = [indexes]; }\n    indexes.forEach((index) => {\n      const seg = this.segs[index];\n      if (seg.ptgrip) {\n        if (!this.selected_pts.includes(index) && index >= 0) {\n          this.selected_pts.push(index);\n        }\n      }\n    });\n    this.selected_pts.sort();\n    let i = this.selected_pts.length;\n    const grips = [];\n    grips.length = i;\n    // Loop through points to be selected and highlight each\n    while (i--) {\n      const pt = this.selected_pts[i];\n      const seg = this.segs[pt];\n      seg.select(true);\n      grips[i] = seg.ptgrip;\n    }\n\n    const closedSubpath = Path.subpathIsClosed(this.selected_pts[0]);\n    editorContext_.addPtsToSelection({grips, closedSubpath});\n  }\n\n  // STATIC\n  /**\n  * @param {Integer} index\n  * @returns {boolean}\n  */\n  static subpathIsClosed (index) {\n    let clsd = false;\n    // Check if subpath is already open\n    path.eachSeg(function (i) {\n      if (i <= index) { return true; }\n      if (this.type === 2) {\n        // Found M first, so open\n        return false;\n      }\n      if (this.type === 1) {\n        // Found Z first, so closed\n        clsd = true;\n        return false;\n      }\n      return true;\n    });\n\n    return clsd;\n  }\n}\n\n/**\n* @function module:path.getPath_\n* @param {SVGPathElement} elem\n* @returns {module:path.Path}\n*/\nexport const getPath_ = function (elem) {\n  let p = pathData[elem.id];\n  if (!p) {\n    p = pathData[elem.id] = new Path(elem);\n  }\n  return p;\n};\n\n/**\n* @function module:path.removePath_\n* @param {string} id\n* @returns {void}\n*/\nexport const removePath_ = function (id) {\n  if (id in pathData) { delete pathData[id]; }\n};\n\nlet newcx, newcy, oldcx, oldcy, angle;\n\nconst getRotVals = function (x, y) {\n  let dx = x - oldcx;\n  let dy = y - oldcy;\n\n  // rotate the point around the old center\n  let r = Math.sqrt(dx * dx + dy * dy);\n  let theta = Math.atan2(dy, dx) + angle;\n  dx = r * Math.cos(theta) + oldcx;\n  dy = r * Math.sin(theta) + oldcy;\n\n  // dx,dy should now hold the actual coordinates of each\n  // point after being rotated\n\n  // now we want to rotate them around the new center in the reverse direction\n  dx -= newcx;\n  dy -= newcy;\n\n  r = Math.sqrt(dx * dx + dy * dy);\n  theta = Math.atan2(dy, dx) - angle;\n\n  return {x: r * Math.cos(theta) + newcx,\n    y: r * Math.sin(theta) + newcy};\n};\n\n// If the path was rotated, we must now pay the piper:\n// Every path point must be rotated into the rotated coordinate system of\n// its old center, then determine the new center, then rotate it back\n// This is because we want the path to remember its rotation\n\n/**\n* @function module:path.recalcRotatedPath\n* @todo This is still using ye olde transform methods, can probably\n* be optimized or even taken care of by `recalculateDimensions`\n* @returns {void}\n*/\nexport const recalcRotatedPath = function () {\n  const currentPath = path.elem;\n  angle = getRotationAngle(currentPath, true);\n  if (!angle) { return; }\n  // selectedBBoxes[0] = path.oldbbox;\n  const oldbox = path.oldbbox; // selectedBBoxes[0],\n  oldcx = oldbox.x + oldbox.width / 2;\n  oldcy = oldbox.y + oldbox.height / 2;\n  const box = getBBox(currentPath);\n  newcx = box.x + box.width / 2;\n  newcy = box.y + box.height / 2;\n\n  // un-rotate the new center to the proper position\n  const dx = newcx - oldcx,\n    dy = newcy - oldcy,\n    r = Math.sqrt(dx * dx + dy * dy),\n    theta = Math.atan2(dy, dx) + angle;\n\n  newcx = r * Math.cos(theta) + oldcx;\n  newcy = r * Math.sin(theta) + oldcy;\n\n  const list = currentPath.pathSegList;\n\n  let i = list.numberOfItems;\n  while (i) {\n    i -= 1;\n    const seg = list.getItem(i),\n      type = seg.pathSegType;\n    if (type === 1) { continue; }\n\n    const rvals = getRotVals(seg.x, seg.y),\n      points = [rvals.x, rvals.y];\n    if (!isNullish(seg.x1) && !isNullish(seg.x2)) {\n      const cVals1 = getRotVals(seg.x1, seg.y1);\n      const cVals2 = getRotVals(seg.x2, seg.y2);\n      points.splice(points.length, 0, cVals1.x, cVals1.y, cVals2.x, cVals2.y);\n    }\n    replacePathSeg(type, i, points);\n  } // loop for each point\n\n  /* box = */ getBBox(currentPath);\n  // selectedBBoxes[0].x = box.x; selectedBBoxes[0].y = box.y;\n  // selectedBBoxes[0].width = box.width; selectedBBoxes[0].height = box.height;\n\n  // now we must set the new transform to be rotated around the new center\n  const Rnc = editorContext_.getSVGRoot().createSVGTransform(),\n    tlist = getTransformList(currentPath);\n  Rnc.setRotate((angle * 180.0 / Math.PI), newcx, newcy);\n  tlist.replaceItem(Rnc, 0);\n};\n\n// ====================================\n// Public API starts here\n\n/**\n* @function module:path.clearData\n* @returns {void}\n*/\nexport const clearData = function () {\n  pathData = {};\n};\n\n// Making public for mocking\n/**\n* @function module:path.reorientGrads\n* @param {Element} elem\n* @param {SVGMatrix} m\n* @returns {void}\n*/\nexport const reorientGrads = function (elem, m) {\n  const bb = utilsGetBBox(elem);\n  for (let i = 0; i < 2; i++) {\n    const type = i === 0 ? 'fill' : 'stroke';\n    const attrVal = elem.getAttribute(type);\n    if (attrVal && attrVal.startsWith('url(')) {\n      const grad = getRefElem(attrVal);\n      if (grad.tagName === 'linearGradient') {\n        let x1 = grad.getAttribute('x1') || 0;\n        let y1 = grad.getAttribute('y1') || 0;\n        let x2 = grad.getAttribute('x2') || 1;\n        let y2 = grad.getAttribute('y2') || 0;\n\n        // Convert to USOU points\n        x1 = (bb.width * x1) + bb.x;\n        y1 = (bb.height * y1) + bb.y;\n        x2 = (bb.width * x2) + bb.x;\n        y2 = (bb.height * y2) + bb.y;\n\n        // Transform those points\n        const pt1 = transformPoint(x1, y1, m);\n        const pt2 = transformPoint(x2, y2, m);\n\n        // Convert back to BB points\n        const gCoords = {\n          x1: (pt1.x - bb.x) / bb.width,\n          y1: (pt1.y - bb.y) / bb.height,\n          x2: (pt2.x - bb.x) / bb.width,\n          y2: (pt2.y - bb.y) / bb.height\n        };\n\n        const newgrad = grad.cloneNode(true);\n        $(newgrad).attr(gCoords);\n\n        newgrad.id = editorContext_.getNextId();\n        findDefs().append(newgrad);\n        elem.setAttribute(type, 'url(#' + newgrad.id + ')');\n      }\n    }\n  }\n};\n\n/**\n* This is how we map paths to our preferred relative segment types.\n* @name module:path.pathMap\n* @type {GenericArray}\n*/\nconst pathMap = [\n  0, 'z', 'M', 'm', 'L', 'l', 'C', 'c', 'Q', 'q', 'A', 'a',\n  'H', 'h', 'V', 'v', 'S', 's', 'T', 't'\n];\n\n/**\n * Convert a path to one with only absolute or relative values.\n * @todo move to pathActions.js\n * @function module:path.convertPath\n * @param {SVGPathElement} pth - the path to convert\n * @param {boolean} toRel - true of convert to relative\n * @returns {string}\n */\nexport const convertPath = function (pth, toRel) {\n  const {pathSegList} = pth;\n  const len = pathSegList.numberOfItems;\n  let curx = 0, cury = 0;\n  let d = '';\n  let lastM = null;\n\n  for (let i = 0; i < len; ++i) {\n    const seg = pathSegList.getItem(i);\n    // if these properties are not in the segment, set them to zero\n    let x = seg.x || 0,\n      y = seg.y || 0,\n      x1 = seg.x1 || 0,\n      y1 = seg.y1 || 0,\n      x2 = seg.x2 || 0,\n      y2 = seg.y2 || 0;\n\n    const type = seg.pathSegType;\n    let letter = pathMap[type][toRel ? 'toLowerCase' : 'toUpperCase']();\n\n    switch (type) {\n    case 1: // z,Z closepath (Z/z)\n      d += 'z';\n      if (lastM && !toRel) {\n        curx = lastM[0];\n        cury = lastM[1];\n      }\n      break;\n    case 12: // absolute horizontal line (H)\n      x -= curx;\n      // Fallthrough\n    case 13: // relative horizontal line (h)\n      if (toRel) {\n        y = 0;\n        curx += x;\n        letter = 'l';\n      } else {\n        y = cury;\n        x += curx;\n        curx = x;\n        letter = 'L';\n      }\n      // Convert to \"line\" for easier editing\n      d += pathDSegment(letter, [[x, y]]);\n      break;\n    case 14: // absolute vertical line (V)\n      y -= cury;\n      // Fallthrough\n    case 15: // relative vertical line (v)\n      if (toRel) {\n        x = 0;\n        cury += y;\n        letter = 'l';\n      } else {\n        x = curx;\n        y += cury;\n        cury = y;\n        letter = 'L';\n      }\n      // Convert to \"line\" for easier editing\n      d += pathDSegment(letter, [[x, y]]);\n      break;\n    case 2: // absolute move (M)\n    case 4: // absolute line (L)\n    case 18: // absolute smooth quad (T)\n      x -= curx;\n      y -= cury;\n      // Fallthrough\n    case 5: // relative line (l)\n    case 3: // relative move (m)\n    case 19: // relative smooth quad (t)\n      if (toRel) {\n        curx += x;\n        cury += y;\n      } else {\n        x += curx;\n        y += cury;\n        curx = x;\n        cury = y;\n      }\n      if (type === 2 || type === 3) { lastM = [curx, cury]; }\n\n      d += pathDSegment(letter, [[x, y]]);\n      break;\n    case 6: // absolute cubic (C)\n      x -= curx; x1 -= curx; x2 -= curx;\n      y -= cury; y1 -= cury; y2 -= cury;\n      // Fallthrough\n    case 7: // relative cubic (c)\n      if (toRel) {\n        curx += x;\n        cury += y;\n      } else {\n        x += curx; x1 += curx; x2 += curx;\n        y += cury; y1 += cury; y2 += cury;\n        curx = x;\n        cury = y;\n      }\n      d += pathDSegment(letter, [[x1, y1], [x2, y2], [x, y]]);\n      break;\n    case 8: // absolute quad (Q)\n      x -= curx; x1 -= curx;\n      y -= cury; y1 -= cury;\n      // Fallthrough\n    case 9: // relative quad (q)\n      if (toRel) {\n        curx += x;\n        cury += y;\n      } else {\n        x += curx; x1 += curx;\n        y += cury; y1 += cury;\n        curx = x;\n        cury = y;\n      }\n      d += pathDSegment(letter, [[x1, y1], [x, y]]);\n      break;\n    // eslint-disable-next-line sonarjs/no-duplicated-branches\n    case 10: // absolute elliptical arc (A)\n      x -= curx;\n      y -= cury;\n      // Fallthrough\n    case 11: // relative elliptical arc (a)\n      if (toRel) {\n        curx += x;\n        cury += y;\n      } else {\n        x += curx;\n        y += cury;\n        curx = x;\n        cury = y;\n      }\n      d += pathDSegment(letter, [[seg.r1, seg.r2]], [\n        seg.angle,\n        (seg.largeArcFlag ? 1 : 0),\n        (seg.sweepFlag ? 1 : 0)\n      ], [x, y]);\n      break;\n    case 16: // absolute smooth cubic (S)\n      x -= curx; x2 -= curx;\n      y -= cury; y2 -= cury;\n      // Fallthrough\n    case 17: // relative smooth cubic (s)\n      if (toRel) {\n        curx += x;\n        cury += y;\n      } else {\n        x += curx; x2 += curx;\n        y += cury; y2 += cury;\n        curx = x;\n        cury = y;\n      }\n      d += pathDSegment(letter, [[x2, y2], [x, y]]);\n      break;\n    } // switch on path segment type\n  } // for each segment\n  return d;\n};\n\n/**\n * TODO: refactor callers in `convertPath` to use `getPathDFromSegments` instead of this function.\n * Legacy code refactored from `svgcanvas.pathActions.convertPath`.\n * @param {string} letter - path segment command (letter in potentially either case from {@link module:path.pathMap}; see [SVGPathSeg#pathSegTypeAsLetter]{@link https://www.w3.org/TR/SVG/single-page.html#paths-__svg__SVGPathSeg__pathSegTypeAsLetter})\n * @param {GenericArray<GenericArray<Integer>>} points - x,y points\n * @param {GenericArray<GenericArray<Integer>>} [morePoints] - x,y points\n * @param {Integer[]} [lastPoint] - x,y point\n * @returns {string}\n */\nfunction pathDSegment (letter, points, morePoints, lastPoint) {\n  $.each(points, function (i, pnt) {\n    points[i] = shortFloat(pnt);\n  });\n  let segment = letter + points.join(' ');\n  if (morePoints) {\n    segment += ' ' + morePoints.join(' ');\n  }\n  if (lastPoint) {\n    segment += ' ' + shortFloat(lastPoint);\n  }\n  return segment;\n}\n\n/* eslint-disable jsdoc/require-property */\n/**\n* Group: Path edit functions.\n* Functions relating to editing path elements.\n* @namespace {PlainObject} pathActions\n* @memberof module:path\n*/\nexport const pathActions = (function () {\n  /* eslint-enable jsdoc/require-property */\n  let subpath = false;\n  let newPoint, firstCtrl;\n\n  let currentPath = null;\n  let hasMoved = false;\n  // No `editorContext_` yet but should be ok as is `null` by default\n  // editorContext_.setDrawnPath(null);\n\n  /**\n  * This function converts a polyline (created by the fh_path tool) into\n  * a path element and coverts every three line segments into a single bezier\n  * curve in an attempt to smooth out the free-hand.\n  * @function smoothPolylineIntoPath\n  * @param {Element} element\n  * @returns {Element}\n  */\n  const smoothPolylineIntoPath = function (element) {\n    let i;\n    const {points} = element;\n    const N = points.numberOfItems;\n    if (N >= 4) {\n      // loop through every 3 points and convert to a cubic bezier curve segment\n      //\n      // NOTE: this is cheating, it means that every 3 points has the potential to\n      // be a corner instead of treating each point in an equal manner. In general,\n      // this technique does not look that good.\n      //\n      // I am open to better ideas!\n      //\n      // Reading:\n      // - http://www.efg2.com/Lab/Graphics/Jean-YvesQueinecBezierCurves.htm\n      // - https://www.codeproject.com/KB/graphics/BezierSpline.aspx?msg=2956963\n      // - https://www.ian-ko.com/ET_GeoWizards/UserGuide/smooth.htm\n      // - https://www.cs.mtu.edu/~shene/COURSES/cs3621/NOTES/spline/Bezier/bezier-der.html\n      let curpos = points.getItem(0), prevCtlPt = null;\n      let d = [];\n      d.push(['M', curpos.x, ',', curpos.y, ' C'].join(''));\n      for (i = 1; i <= (N - 4); i += 3) {\n        let ct1 = points.getItem(i);\n        const ct2 = points.getItem(i + 1);\n        const end = points.getItem(i + 2);\n\n        // if the previous segment had a control point, we want to smooth out\n        // the control points on both sides\n        if (prevCtlPt) {\n          const newpts = smoothControlPoints(prevCtlPt, ct1, curpos);\n          if (newpts && newpts.length === 2) {\n            const prevArr = d[d.length - 1].split(',');\n            prevArr[2] = newpts[0].x;\n            prevArr[3] = newpts[0].y;\n            d[d.length - 1] = prevArr.join(',');\n            ct1 = newpts[1];\n          }\n        }\n\n        d.push([ct1.x, ct1.y, ct2.x, ct2.y, end.x, end.y].join(','));\n\n        curpos = end;\n        prevCtlPt = ct2;\n      }\n      // handle remaining line segments\n      d.push('L');\n      while (i < N) {\n        const pt = points.getItem(i);\n        d.push([pt.x, pt.y].join(','));\n        i++;\n      }\n      d = d.join(' ');\n\n      // create new path element\n      element = editorContext_.addSVGElementFromJson({\n        element: 'path',\n        curStyles: true,\n        attr: {\n          id: editorContext_.getId(),\n          d,\n          fill: 'none'\n        }\n      });\n      // No need to call \"changed\", as this is already done under mouseUp\n    }\n    return element;\n  };\n\n  return (/** @lends module:path.pathActions */ {\n    /**\n    * @param {MouseEvent} evt\n    * @param {Element} mouseTarget\n    * @param {Float} startX\n    * @param {Float} startY\n    * @returns {boolean|void}\n    */\n    mouseDown (evt, mouseTarget, startX, startY) {\n      let id;\n      if (editorContext_.getCurrentMode() === 'path') {\n        let mouseX = startX; // Was this meant to work with the other `mouseX`? (was defined globally so adding `let` to at least avoid a global)\n        let mouseY = startY; // Was this meant to work with the other `mouseY`? (was defined globally so adding `let` to at least avoid a global)\n\n        const currentZoom = editorContext_.getCurrentZoom();\n        let x = mouseX / currentZoom,\n          y = mouseY / currentZoom,\n          stretchy = getElem('path_stretch_line');\n        newPoint = [x, y];\n\n        if (editorContext_.getGridSnapping()) {\n          x = snapToGrid(x);\n          y = snapToGrid(y);\n          mouseX = snapToGrid(mouseX);\n          mouseY = snapToGrid(mouseY);\n        }\n\n        if (!stretchy) {\n          stretchy = document.createElementNS(NS.SVG, 'path');\n          assignAttributes(stretchy, {\n            id: 'path_stretch_line',\n            stroke: '#22C',\n            'stroke-width': '0.5',\n            fill: 'none'\n          });\n          stretchy = getElem('selectorParentGroup').appendChild(stretchy);\n        }\n        stretchy.setAttribute('display', 'inline');\n\n        let keep = null;\n        let index;\n        // if pts array is empty, create path element with M at current point\n        const drawnPath = editorContext_.getDrawnPath();\n        if (!drawnPath) {\n          const dAttr = 'M' + x + ',' + y + ' '; // Was this meant to work with the other `dAttr`? (was defined globally so adding `var` to at least avoid a global)\n          /* drawnPath = */ editorContext_.setDrawnPath(editorContext_.addSVGElementFromJson({\n            element: 'path',\n            curStyles: true,\n            attr: {\n              d: dAttr,\n              id: editorContext_.getNextId(),\n              opacity: editorContext_.getOpacity() / 2\n            }\n          }));\n          // set stretchy line to first point\n          stretchy.setAttribute('d', ['M', mouseX, mouseY, mouseX, mouseY].join(' '));\n          index = subpath ? path.segs.length : 0;\n          addPointGrip(index, mouseX, mouseY);\n        } else {\n          // determine if we clicked on an existing point\n          const seglist = drawnPath.pathSegList;\n          let i = seglist.numberOfItems;\n          const FUZZ = 6 / currentZoom;\n          let clickOnPoint = false;\n          while (i) {\n            i--;\n            const item = seglist.getItem(i);\n            const px = item.x, py = item.y;\n            // found a matching point\n            if (x >= (px - FUZZ) && x <= (px + FUZZ) &&\n              y >= (py - FUZZ) && y <= (py + FUZZ)\n            ) {\n              clickOnPoint = true;\n              break;\n            }\n          }\n\n          // get path element that we are in the process of creating\n          id = editorContext_.getId();\n\n          // Remove previous path object if previously created\n          removePath_(id);\n\n          const newpath = getElem(id);\n          let newseg;\n          let sSeg;\n          const len = seglist.numberOfItems;\n          // if we clicked on an existing point, then we are done this path, commit it\n          // (i, i+1) are the x,y that were clicked on\n          if (clickOnPoint) {\n            // if clicked on any other point but the first OR\n            // the first point was clicked on and there are less than 3 points\n            // then leave the path open\n            // otherwise, close the path\n            if (i <= 1 && len >= 2) {\n              // Create end segment\n              const absX = seglist.getItem(0).x;\n              const absY = seglist.getItem(0).y;\n\n              sSeg = stretchy.pathSegList.getItem(1);\n              if (sSeg.pathSegType === 4) {\n                newseg = drawnPath.createSVGPathSegLinetoAbs(absX, absY);\n              } else {\n                newseg = drawnPath.createSVGPathSegCurvetoCubicAbs(\n                  absX,\n                  absY,\n                  sSeg.x1 / currentZoom,\n                  sSeg.y1 / currentZoom,\n                  absX,\n                  absY\n                );\n              }\n\n              const endseg = drawnPath.createSVGPathSegClosePath();\n              seglist.appendItem(newseg);\n              seglist.appendItem(endseg);\n            } else if (len < 3) {\n              keep = false;\n              return keep;\n            }\n            $(stretchy).remove();\n\n            // This will signal to commit the path\n            // const element = newpath; // Other event handlers define own `element`, so this was probably not meant to interact with them or one which shares state (as there were none); I therefore adding a missing `var` to avoid a global\n            /* drawnPath = */ editorContext_.setDrawnPath(null);\n            editorContext_.setStarted(false);\n\n            if (subpath) {\n              if (path.matrix) {\n                editorContext_.remapElement(newpath, {}, path.matrix.inverse());\n              }\n\n              const newD = newpath.getAttribute('d');\n              const origD = $(path.elem).attr('d');\n              $(path.elem).attr('d', origD + newD);\n              $(newpath).remove();\n              if (path.matrix) {\n                recalcRotatedPath();\n              }\n              init();\n              pathActions.toEditMode(path.elem);\n              path.selectPt();\n              return false;\n            }\n          // else, create a new point, update path element\n          } else {\n            // Checks if current target or parents are #svgcontent\n            if (!$.contains(\n              editorContext_.getContainer(),\n              editorContext_.getMouseTarget(evt)\n            )) {\n              // Clicked outside canvas, so don't make point\n              // console.log('Clicked outside canvas');\n              return false;\n            }\n\n            const num = drawnPath.pathSegList.numberOfItems;\n            const last = drawnPath.pathSegList.getItem(num - 1);\n            const lastx = last.x, lasty = last.y;\n\n            if (evt.shiftKey) {\n              const xya = snapToAngle(lastx, lasty, x, y);\n              ({x, y} = xya);\n            }\n\n            // Use the segment defined by stretchy\n            sSeg = stretchy.pathSegList.getItem(1);\n            if (sSeg.pathSegType === 4) {\n              newseg = drawnPath.createSVGPathSegLinetoAbs(\n                editorContext_.round(x),\n                editorContext_.round(y)\n              );\n            } else {\n              newseg = drawnPath.createSVGPathSegCurvetoCubicAbs(\n                editorContext_.round(x),\n                editorContext_.round(y),\n                sSeg.x1 / currentZoom,\n                sSeg.y1 / currentZoom,\n                sSeg.x2 / currentZoom,\n                sSeg.y2 / currentZoom\n              );\n            }\n\n            drawnPath.pathSegList.appendItem(newseg);\n\n            x *= currentZoom;\n            y *= currentZoom;\n\n            // set stretchy line to latest point\n            stretchy.setAttribute('d', ['M', x, y, x, y].join(' '));\n            index = num;\n            if (subpath) { index += path.segs.length; }\n            addPointGrip(index, x, y);\n          }\n          // keep = true;\n        }\n\n        return undefined;\n      }\n\n      // TODO: Make sure currentPath isn't null at this point\n      if (!path) { return undefined; }\n\n      path.storeD();\n\n      ({id} = evt.target);\n      let curPt;\n      if (id.substr(0, 14) === 'pathpointgrip_') {\n        // Select this point\n        curPt = path.cur_pt = Number.parseInt(id.substr(14));\n        path.dragging = [startX, startY];\n        const seg = path.segs[curPt];\n\n        // only clear selection if shift is not pressed (otherwise, add\n        // node to selection)\n        if (!evt.shiftKey) {\n          if (path.selected_pts.length <= 1 || !seg.selected) {\n            path.clearSelection();\n          }\n          path.addPtsToSelection(curPt);\n        } else if (seg.selected) {\n          path.removePtFromSelection(curPt);\n        } else {\n          path.addPtsToSelection(curPt);\n        }\n      } else if (id.startsWith('ctrlpointgrip_')) {\n        path.dragging = [startX, startY];\n\n        const parts = id.split('_')[1].split('c');\n        curPt = Number(parts[0]);\n        const ctrlNum = Number(parts[1]);\n        path.selectPt(curPt, ctrlNum);\n      }\n\n      // Start selection box\n      if (!path.dragging) {\n        let rubberBox = editorContext_.getRubberBox();\n        if (isNullish(rubberBox)) {\n          rubberBox = editorContext_.setRubberBox(\n            editorContext_.selectorManager.getRubberBandBox()\n          );\n        }\n        const currentZoom = editorContext_.getCurrentZoom();\n        assignAttributes(rubberBox, {\n          x: startX * currentZoom,\n          y: startY * currentZoom,\n          width: 0,\n          height: 0,\n          display: 'inline'\n        }, 100);\n      }\n      return undefined;\n    },\n    /**\n    * @param {Float} mouseX\n    * @param {Float} mouseY\n    * @returns {void}\n    */\n    mouseMove (mouseX, mouseY) {\n      const currentZoom = editorContext_.getCurrentZoom();\n      hasMoved = true;\n      const drawnPath = editorContext_.getDrawnPath();\n      if (editorContext_.getCurrentMode() === 'path') {\n        if (!drawnPath) { return; }\n        const seglist = drawnPath.pathSegList;\n        const index = seglist.numberOfItems - 1;\n\n        if (newPoint) {\n          // First point\n          // if (!index) { return; }\n\n          // Set control points\n          const pointGrip1 = addCtrlGrip('1c1');\n          const pointGrip2 = addCtrlGrip('0c2');\n\n          // dragging pointGrip1\n          pointGrip1.setAttribute('cx', mouseX);\n          pointGrip1.setAttribute('cy', mouseY);\n          pointGrip1.setAttribute('display', 'inline');\n\n          const ptX = newPoint[0];\n          const ptY = newPoint[1];\n\n          // set curve\n          // const seg = seglist.getItem(index);\n          const curX = mouseX / currentZoom;\n          const curY = mouseY / currentZoom;\n          const altX = (ptX + (ptX - curX));\n          const altY = (ptY + (ptY - curY));\n\n          pointGrip2.setAttribute('cx', altX * currentZoom);\n          pointGrip2.setAttribute('cy', altY * currentZoom);\n          pointGrip2.setAttribute('display', 'inline');\n\n          const ctrlLine = getCtrlLine(1);\n          assignAttributes(ctrlLine, {\n            x1: mouseX,\n            y1: mouseY,\n            x2: altX * currentZoom,\n            y2: altY * currentZoom,\n            display: 'inline'\n          });\n\n          if (index === 0) {\n            firstCtrl = [mouseX, mouseY];\n          } else {\n            const last = seglist.getItem(index - 1);\n            let lastX = last.x;\n            let lastY = last.y;\n\n            if (last.pathSegType === 6) {\n              lastX += (lastX - last.x2);\n              lastY += (lastY - last.y2);\n            } else if (firstCtrl) {\n              lastX = firstCtrl[0] / currentZoom;\n              lastY = firstCtrl[1] / currentZoom;\n            }\n            replacePathSeg(6, index, [ptX, ptY, lastX, lastY, altX, altY], drawnPath);\n          }\n        } else {\n          const stretchy = getElem('path_stretch_line');\n          if (stretchy) {\n            const prev = seglist.getItem(index);\n            if (prev.pathSegType === 6) {\n              const prevX = prev.x + (prev.x - prev.x2);\n              const prevY = prev.y + (prev.y - prev.y2);\n              replacePathSeg(6, 1, [mouseX, mouseY, prevX * currentZoom, prevY * currentZoom, mouseX, mouseY], stretchy);\n            } else if (firstCtrl) {\n              replacePathSeg(6, 1, [mouseX, mouseY, firstCtrl[0], firstCtrl[1], mouseX, mouseY], stretchy);\n            } else {\n              replacePathSeg(4, 1, [mouseX, mouseY], stretchy);\n            }\n          }\n        }\n        return;\n      }\n      // if we are dragging a point, let's move it\n      if (path.dragging) {\n        const pt = getPointFromGrip({\n          x: path.dragging[0],\n          y: path.dragging[1]\n        }, path);\n        const mpt = getPointFromGrip({\n          x: mouseX,\n          y: mouseY\n        }, path);\n        const diffX = mpt.x - pt.x;\n        const diffY = mpt.y - pt.y;\n        path.dragging = [mouseX, mouseY];\n\n        if (path.dragctrl) {\n          path.moveCtrl(diffX, diffY);\n        } else {\n          path.movePts(diffX, diffY);\n        }\n      } else {\n        path.selected_pts = [];\n        path.eachSeg(function (i) {\n          const seg = this;\n          if (!seg.next && !seg.prev) { return; }\n\n          // const {item} = seg;\n          const rubberBox = editorContext_.getRubberBox();\n          const rbb = rubberBox.getBBox();\n\n          const pt = getGripPt(seg);\n          const ptBb = {\n            x: pt.x,\n            y: pt.y,\n            width: 0,\n            height: 0\n          };\n\n          const sel = rectsIntersect(rbb, ptBb);\n\n          this.select(sel);\n          // Note that addPtsToSelection is not being run\n          if (sel) { path.selected_pts.push(seg.index); }\n        });\n      }\n    },\n    /**\n     * @typedef module:path.keepElement\n     * @type {PlainObject}\n     * @property {boolean} keep\n     * @property {Element} element\n     */\n    /**\n    * @param {Event} evt\n    * @param {Element} element\n    * @param {Float} mouseX\n    * @param {Float} mouseY\n    * @returns {module:path.keepElement|void}\n    */\n    mouseUp (evt, element, mouseX, mouseY) {\n      const drawnPath = editorContext_.getDrawnPath();\n      // Create mode\n      if (editorContext_.getCurrentMode() === 'path') {\n        newPoint = null;\n        if (!drawnPath) {\n          element = getElem(editorContext_.getId());\n          editorContext_.setStarted(false);\n          firstCtrl = null;\n        }\n\n        return {\n          keep: true,\n          element\n        };\n      }\n\n      // Edit mode\n      const rubberBox = editorContext_.getRubberBox();\n      if (path.dragging) {\n        const lastPt = path.cur_pt;\n\n        path.dragging = false;\n        path.dragctrl = false;\n        path.update();\n\n        if (hasMoved) {\n          path.endChanges('Move path point(s)');\n        }\n\n        if (!evt.shiftKey && !hasMoved) {\n          path.selectPt(lastPt);\n        }\n      } else if (rubberBox && rubberBox.getAttribute('display') !== 'none') {\n        // Done with multi-node-select\n        rubberBox.setAttribute('display', 'none');\n\n        if (rubberBox.getAttribute('width') <= 2 && rubberBox.getAttribute('height') <= 2) {\n          pathActions.toSelectMode(evt.target);\n        }\n\n      // else, move back to select mode\n      } else {\n        pathActions.toSelectMode(evt.target);\n      }\n      hasMoved = false;\n      return undefined;\n    },\n    /**\n    * @param {Element} element\n    * @returns {void}\n    */\n    toEditMode (element) {\n      path = getPath_(element);\n      editorContext_.setCurrentMode('pathedit');\n      editorContext_.clearSelection();\n      path.show(true).update();\n      path.oldbbox = utilsGetBBox(path.elem);\n      subpath = false;\n    },\n    /**\n    * @param {Element} elem\n    * @fires module:svgcanvas.SvgCanvas#event:selected\n    * @returns {void}\n    */\n    toSelectMode (elem) {\n      const selPath = (elem === path.elem);\n      editorContext_.setCurrentMode('select');\n      path.show(false);\n      currentPath = false;\n      editorContext_.clearSelection();\n\n      if (path.matrix) {\n        // Rotated, so may need to re-calculate the center\n        recalcRotatedPath();\n      }\n\n      if (selPath) {\n        editorContext_.call('selected', [elem]);\n        editorContext_.addToSelection([elem], true);\n      }\n    },\n    /**\n    * @param {boolean} on\n    * @returns {void}\n    */\n    addSubPath (on) {\n      if (on) {\n        // Internally we go into \"path\" mode, but in the UI it will\n        // still appear as if in \"pathedit\" mode.\n        editorContext_.setCurrentMode('path');\n        subpath = true;\n      } else {\n        pathActions.clear(true);\n        pathActions.toEditMode(path.elem);\n      }\n    },\n    /**\n    * @param {Element} target\n    * @returns {void}\n    */\n    select (target) {\n      if (currentPath === target) {\n        pathActions.toEditMode(target);\n        editorContext_.setCurrentMode('pathedit');\n      // going into pathedit mode\n      } else {\n        currentPath = target;\n      }\n    },\n    /**\n    * @fires module:svgcanvas.SvgCanvas#event:changed\n    * @returns {void}\n    */\n    reorient () {\n      const elem = editorContext_.getSelectedElements()[0];\n      if (!elem) { return; }\n      const angl = getRotationAngle(elem);\n      if (angl === 0) { return; }\n\n      const batchCmd = new BatchCommand('Reorient path');\n      const changes = {\n        d: elem.getAttribute('d'),\n        transform: elem.getAttribute('transform')\n      };\n      batchCmd.addSubCommand(new ChangeElementCommand(elem, changes));\n      editorContext_.clearSelection();\n      this.resetOrientation(elem);\n\n      editorContext_.addCommandToHistory(batchCmd);\n\n      // Set matrix to null\n      getPath_(elem).show(false).matrix = null;\n\n      this.clear();\n\n      editorContext_.addToSelection([elem], true);\n      editorContext_.call('changed', editorContext_.getSelectedElements());\n    },\n\n    /**\n    * @param {boolean} remove Not in use\n    * @returns {void}\n    */\n    clear (remove) {\n      const drawnPath = editorContext_.getDrawnPath();\n      currentPath = null;\n      if (drawnPath) {\n        const elem = getElem(editorContext_.getId());\n        $(getElem('path_stretch_line')).remove();\n        $(elem).remove();\n        $(getElem('pathpointgrip_container')).find('*').attr('display', 'none');\n        firstCtrl = null;\n        editorContext_.setDrawnPath(null);\n        editorContext_.setStarted(false);\n      } else if (editorContext_.getCurrentMode() === 'pathedit') {\n        this.toSelectMode();\n      }\n      if (path) { path.init().show(false); }\n    },\n    /**\n    * @param {?(Element|SVGPathElement)} pth\n    * @returns {false|void}\n    */\n    resetOrientation (pth) {\n      if (isNullish(pth) || pth.nodeName !== 'path') { return false; }\n      const tlist = getTransformList(pth);\n      const m = transformListToTransform(tlist).matrix;\n      tlist.clear();\n      pth.removeAttribute('transform');\n      const segList = pth.pathSegList;\n\n      // Opera/win/non-EN throws an error here.\n      // TODO: Find out why!\n      // Presumed fixed in Opera 10.5, so commented out for now\n\n      // try {\n      const len = segList.numberOfItems;\n      // } catch(err) {\n      //   const fixed_d = pathActions.convertPath(pth);\n      //   pth.setAttribute('d', fixed_d);\n      //   segList = pth.pathSegList;\n      //   const len = segList.numberOfItems;\n      // }\n      // let lastX, lastY;\n      for (let i = 0; i < len; ++i) {\n        const seg = segList.getItem(i);\n        const type = seg.pathSegType;\n        if (type === 1) { continue; }\n        const pts = [];\n        $.each(['', 1, 2], function (j, n) {\n          const x = seg['x' + n], y = seg['y' + n];\n          if (x !== undefined && y !== undefined) {\n            const pt = transformPoint(x, y, m);\n            pts.splice(pts.length, 0, pt.x, pt.y);\n          }\n        });\n        replacePathSeg(type, i, pts, pth);\n      }\n\n      reorientGrads(pth, m);\n      return undefined;\n    },\n    /**\n    * @returns {void}\n    */\n    zoomChange () {\n      if (editorContext_.getCurrentMode() === 'pathedit') {\n        path.update();\n      }\n    },\n    /**\n    * @typedef {PlainObject} module:path.NodePoint\n    * @property {Float} x\n    * @property {Float} y\n    * @property {Integer} type\n    */\n    /**\n    * @returns {module:path.NodePoint}\n    */\n    getNodePoint () {\n      const selPt = path.selected_pts.length ? path.selected_pts[0] : 1;\n\n      const seg = path.segs[selPt];\n      return {\n        x: seg.item.x,\n        y: seg.item.y,\n        type: seg.type\n      };\n    },\n    /**\n    * @param {boolean} linkPoints\n    * @returns {void}\n    */\n    linkControlPoints (linkPoints) {\n      setLinkControlPoints(linkPoints);\n    },\n    /**\n    * @returns {void}\n    */\n    clonePathNode () {\n      path.storeD();\n\n      const selPts = path.selected_pts;\n      // const {segs} = path;\n\n      let i = selPts.length;\n      const nums = [];\n\n      while (i--) {\n        const pt = selPts[i];\n        path.addSeg(pt);\n\n        nums.push(pt + i);\n        nums.push(pt + i + 1);\n      }\n      path.init().addPtsToSelection(nums);\n\n      path.endChanges('Clone path node(s)');\n    },\n    /**\n    * @returns {void}\n    */\n    opencloseSubPath () {\n      const selPts = path.selected_pts;\n      // Only allow one selected node for now\n      if (selPts.length !== 1) { return; }\n\n      const {elem} = path;\n      const list = elem.pathSegList;\n\n      // const len = list.numberOfItems;\n\n      const index = selPts[0];\n\n      let openPt = null;\n      let startItem = null;\n\n      // Check if subpath is already open\n      path.eachSeg(function (i) {\n        if (this.type === 2 && i <= index) {\n          startItem = this.item;\n        }\n        if (i <= index) { return true; }\n        if (this.type === 2) {\n          // Found M first, so open\n          openPt = i;\n          return false;\n        }\n        if (this.type === 1) {\n          // Found Z first, so closed\n          openPt = false;\n          return false;\n        }\n        return true;\n      });\n\n      if (isNullish(openPt)) {\n        // Single path, so close last seg\n        openPt = path.segs.length - 1;\n      }\n\n      if (openPt !== false) {\n        // Close this path\n\n        // Create a line going to the previous \"M\"\n        const newseg = elem.createSVGPathSegLinetoAbs(startItem.x, startItem.y);\n\n        const closer = elem.createSVGPathSegClosePath();\n        if (openPt === path.segs.length - 1) {\n          list.appendItem(newseg);\n          list.appendItem(closer);\n        } else {\n          insertItemBefore(elem, closer, openPt);\n          insertItemBefore(elem, newseg, openPt);\n        }\n\n        path.init().selectPt(openPt + 1);\n        return;\n      }\n\n      // M 1,1 L 2,2 L 3,3 L 1,1 z // open at 2,2\n      // M 2,2 L 3,3 L 1,1\n\n      // M 1,1 L 2,2 L 1,1 z M 4,4 L 5,5 L6,6 L 5,5 z\n      // M 1,1 L 2,2 L 1,1 z [M 4,4] L 5,5 L(M)6,6 L 5,5 z\n\n      const seg = path.segs[index];\n\n      if (seg.mate) {\n        list.removeItem(index); // Removes last \"L\"\n        list.removeItem(index); // Removes the \"Z\"\n        path.init().selectPt(index - 1);\n        return;\n      }\n\n      let lastM, zSeg;\n\n      // Find this sub-path's closing point and remove\n      for (let i = 0; i < list.numberOfItems; i++) {\n        const item = list.getItem(i);\n\n        if (item.pathSegType === 2) {\n          // Find the preceding M\n          lastM = i;\n        } else if (i === index) {\n          // Remove it\n          list.removeItem(lastM);\n          // index--;\n        } else if (item.pathSegType === 1 && index < i) {\n          // Remove the closing seg of this subpath\n          zSeg = i - 1;\n          list.removeItem(i);\n          break;\n        }\n      }\n\n      let num = (index - lastM) - 1;\n\n      while (num--) {\n        insertItemBefore(elem, list.getItem(lastM), zSeg);\n      }\n\n      const pt = list.getItem(lastM);\n\n      // Make this point the new \"M\"\n      replacePathSeg(2, lastM, [pt.x, pt.y]);\n\n      // i = index; // i is local here, so has no effect; what was the intent for this?\n\n      path.init().selectPt(0);\n    },\n    /**\n    * @returns {void}\n    */\n    deletePathNode () {\n      if (!pathActions.canDeleteNodes) { return; }\n      path.storeD();\n\n      const selPts = path.selected_pts;\n\n      let i = selPts.length;\n      while (i--) {\n        const pt = selPts[i];\n        path.deleteSeg(pt);\n      }\n\n      // Cleanup\n      const cleanup = function () {\n        const segList = path.elem.pathSegList;\n        let len = segList.numberOfItems;\n\n        const remItems = function (pos, count) {\n          while (count--) {\n            segList.removeItem(pos);\n          }\n        };\n\n        if (len <= 1) { return true; }\n\n        while (len--) {\n          const item = segList.getItem(len);\n          if (item.pathSegType === 1) {\n            const prev = segList.getItem(len - 1);\n            const nprev = segList.getItem(len - 2);\n            if (prev.pathSegType === 2) {\n              remItems(len - 1, 2);\n              cleanup();\n              break;\n            } else if (nprev.pathSegType === 2) {\n              remItems(len - 2, 3);\n              cleanup();\n              break;\n            }\n          } else if (item.pathSegType === 2) {\n            if (len > 0) {\n              const prevType = segList.getItem(len - 1).pathSegType;\n              // Path has M M\n              if (prevType === 2) {\n                remItems(len - 1, 1);\n                cleanup();\n                break;\n              // Entire path ends with Z M\n              } else if (prevType === 1 && segList.numberOfItems - 1 === len) {\n                remItems(len, 1);\n                cleanup();\n                break;\n              }\n            }\n          }\n        }\n        return false;\n      };\n\n      cleanup();\n\n      // Completely delete a path with 1 or 0 segments\n      if (path.elem.pathSegList.numberOfItems <= 1) {\n        pathActions.toSelectMode(path.elem);\n        editorContext_.canvas.deleteSelectedElements();\n        return;\n      }\n\n      path.init();\n      path.clearSelection();\n\n      // TODO: Find right way to select point now\n      // path.selectPt(selPt);\n      if (window.opera) { // Opera repaints incorrectly\n        const cp = $(path.elem);\n        cp.attr('d', cp.attr('d'));\n      }\n      path.endChanges('Delete path node(s)');\n    },\n    /* eslint-disable jsdoc/require-returns */\n    // Can't seem to use `@borrows` here, so using `@see`\n    /**\n    * Smooth polyline into path.\n    * @function module:path.pathActions.smoothPolylineIntoPath\n    * @see module:path~smoothPolylineIntoPath\n    */\n    smoothPolylineIntoPath,\n    /* eslint-enable jsdoc/require-returns */\n    /**\n    * @param {?Integer} v See {@link https://www.w3.org/TR/SVG/single-page.html#paths-InterfaceSVGPathSeg}\n    * @returns {void}\n    */\n    setSegType (v) {\n      path.setSegType(v);\n    },\n    /**\n    * @param {string} attr\n    * @param {Float} newValue\n    * @returns {void}\n    */\n    moveNode (attr, newValue) {\n      const selPts = path.selected_pts;\n      if (!selPts.length) { return; }\n\n      path.storeD();\n\n      // Get first selected point\n      const seg = path.segs[selPts[0]];\n      const diff = {x: 0, y: 0};\n      diff[attr] = newValue - seg.item[attr];\n\n      seg.move(diff.x, diff.y);\n      path.endChanges('Move path point');\n    },\n    /**\n    * @param {Element} elem\n    * @returns {void}\n    */\n    fixEnd (elem) {\n      // Adds an extra segment if the last seg before a Z doesn't end\n      // at its M point\n      // M0,0 L0,100 L100,100 z\n      const segList = elem.pathSegList;\n      const len = segList.numberOfItems;\n      let lastM;\n      for (let i = 0; i < len; ++i) {\n        const item = segList.getItem(i);\n        if (item.pathSegType === 2) {\n          lastM = item;\n        }\n\n        if (item.pathSegType === 1) {\n          const prev = segList.getItem(i - 1);\n          if (prev.x !== lastM.x || prev.y !== lastM.y) {\n            // Add an L segment here\n            const newseg = elem.createSVGPathSegLinetoAbs(lastM.x, lastM.y);\n            insertItemBefore(elem, newseg, i);\n            // Can this be done better?\n            pathActions.fixEnd(elem);\n            break;\n          }\n        }\n      }\n      if (isWebkit()) { editorContext_.resetD(elem); }\n    },\n    /* eslint-disable jsdoc/require-returns */\n    // Can't seem to use `@borrows` here, so using `@see`\n    /**\n    * Convert a path to one with only absolute or relative values.\n    * @function module:path.pathActions.convertPath\n    * @see module:path.convertPath\n    */\n    convertPath\n    /* eslint-enable jsdoc/require-returns */\n  });\n})();\n// end pathActions\n","/* globals jQuery */\n/**\n * Provides tools for the layer concept.\n * @module layer\n * @license MIT\n *\n * @copyright 2011 Jeff Schiller, 2016 Flint O'Brien\n */\n\nimport {NS} from './namespaces.js';\nimport {toXml, walkTree, isNullish} from './utilities.js';\n\nconst $ = jQuery;\n\n/**\n * This class encapsulates the concept of a layer in the drawing. It can be constructed with\n * an existing group element or, with three parameters, will create a new layer group element.\n *\n * @example\n * const l1 = new Layer('name', group); // Use the existing group for this layer.\n * const l2 = new Layer('name', group, svgElem); // Create a new group and add it to the DOM after group.\n * const l3 = new Layer('name', null, svgElem); // Create a new group and add it to the DOM as the last layer.\n * @memberof module:layer\n */\nclass Layer {\n  /**\n  * @param {string} name - Layer name\n  * @param {SVGGElement|null} group - An existing SVG group element or null.\n  *     If group and no svgElem, use group for this layer.\n  *     If group and svgElem, create a new group element and insert it in the DOM after group.\n  *     If no group and svgElem, create a new group element and insert it in the DOM as the last layer.\n  * @param {SVGGElement} [svgElem] - The SVG DOM element. If defined, use this to add\n  *     a new layer to the document.\n  */\n  constructor (name, group, svgElem) {\n    this.name_ = name;\n    this.group_ = svgElem ? null : group;\n\n    if (svgElem) {\n      // Create a group element with title and add it to the DOM.\n      const svgdoc = svgElem.ownerDocument;\n      this.group_ = svgdoc.createElementNS(NS.SVG, 'g');\n      const layerTitle = svgdoc.createElementNS(NS.SVG, 'title');\n      layerTitle.textContent = name;\n      this.group_.append(layerTitle);\n      if (group) {\n        $(group).after(this.group_);\n      } else {\n        svgElem.append(this.group_);\n      }\n    }\n\n    addLayerClass(this.group_);\n    walkTree(this.group_, function (e) {\n      e.setAttribute('style', 'pointer-events:inherit');\n    });\n\n    this.group_.setAttribute('style', svgElem ? 'pointer-events:all' : 'pointer-events:none');\n  }\n\n  /**\n   * Get the layer's name.\n   * @returns {string} The layer name\n   */\n  getName () {\n    return this.name_;\n  }\n\n  /**\n   * Get the group element for this layer.\n   * @returns {SVGGElement} The layer SVG group\n   */\n  getGroup () {\n    return this.group_;\n  }\n\n  /**\n   * Active this layer so it takes pointer events.\n   * @returns {void}\n   */\n  activate () {\n    this.group_.setAttribute('style', 'pointer-events:all');\n  }\n\n  /**\n   * Deactive this layer so it does NOT take pointer events.\n   * @returns {void}\n   */\n  deactivate () {\n    this.group_.setAttribute('style', 'pointer-events:none');\n  }\n\n  /**\n   * Set this layer visible or hidden based on 'visible' parameter.\n   * @param {boolean} visible - If true, make visible; otherwise, hide it.\n   * @returns {void}\n   */\n  setVisible (visible) {\n    const expected = visible === undefined || visible ? 'inline' : 'none';\n    const oldDisplay = this.group_.getAttribute('display');\n    if (oldDisplay !== expected) {\n      this.group_.setAttribute('display', expected);\n    }\n  }\n\n  /**\n   * Is this layer visible?\n   * @returns {boolean} True if visible.\n   */\n  isVisible () {\n    return this.group_.getAttribute('display') !== 'none';\n  }\n\n  /**\n   * Get layer opacity.\n   * @returns {Float} Opacity value.\n   */\n  getOpacity () {\n    const opacity = this.group_.getAttribute('opacity');\n    if (isNullish(opacity)) {\n      return 1;\n    }\n    return Number.parseFloat(opacity);\n  }\n\n  /**\n   * Sets the opacity of this layer. If opacity is not a value between 0.0 and 1.0,\n   * nothing happens.\n   * @param {Float} opacity - A float value in the range 0.0-1.0\n   * @returns {void}\n   */\n  setOpacity (opacity) {\n    if (typeof opacity === 'number' && opacity >= 0.0 && opacity <= 1.0) {\n      this.group_.setAttribute('opacity', opacity);\n    }\n  }\n\n  /**\n   * Append children to this layer.\n   * @param {SVGGElement} children - The children to append to this layer.\n   * @returns {void}\n   */\n  appendChildren (children) {\n    for (const child of children) {\n      this.group_.append(child);\n    }\n  }\n\n  /**\n  * @returns {SVGTitleElement|null}\n  */\n  getTitleElement () {\n    const len = this.group_.childNodes.length;\n    for (let i = 0; i < len; ++i) {\n      const child = this.group_.childNodes.item(i);\n      if (child && child.tagName === 'title') {\n        return child;\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Set the name of this layer.\n   * @param {string} name - The new name.\n   * @param {module:history.HistoryRecordingService} hrService - History recording service\n   * @returns {string|null} The new name if changed; otherwise, null.\n   */\n  setName (name, hrService) {\n    const previousName = this.name_;\n    name = toXml(name);\n    // now change the underlying title element contents\n    const title = this.getTitleElement();\n    if (title) {\n      $(title).empty();\n      title.textContent = name;\n      this.name_ = name;\n      if (hrService) {\n        hrService.changeElement(title, {'#text': previousName});\n      }\n      return this.name_;\n    }\n    return null;\n  }\n\n  /**\n   * Remove this layer's group from the DOM. No more functions on group can be called after this.\n   * @returns {SVGGElement} The layer SVG group that was just removed.\n   */\n  removeGroup () {\n    const group = this.group_;\n    this.group_.remove();\n    this.group_ = undefined;\n    return group;\n  }\n}\n/**\n * @property {string} CLASS_NAME - class attribute assigned to all layer groups.\n */\nLayer.CLASS_NAME = 'layer';\n\n/**\n * @property {RegExp} CLASS_REGEX - Used to test presence of class Layer.CLASS_NAME\n */\nLayer.CLASS_REGEX = new RegExp('(\\\\s|^)' + Layer.CLASS_NAME + '(\\\\s|$)');\n\n/**\n * Add class `Layer.CLASS_NAME` to the element (usually `class='layer'`).\n *\n * @param {SVGGElement} elem - The SVG element to update\n * @returns {void}\n */\nfunction addLayerClass (elem) {\n  const classes = elem.getAttribute('class');\n  if (isNullish(classes) || !classes.length) {\n    elem.setAttribute('class', Layer.CLASS_NAME);\n  } else if (!Layer.CLASS_REGEX.test(classes)) {\n    elem.setAttribute('class', classes + ' ' + Layer.CLASS_NAME);\n  }\n}\n\nexport default Layer;\n","/**\n * HistoryRecordingService component of history.\n * @module history\n * @license MIT\n * @copyright 2016 Flint O'Brien\n */\n\nimport {\n  BatchCommand, MoveElementCommand, InsertElementCommand, RemoveElementCommand,\n  ChangeElementCommand\n} from './history.js';\n\n/**\n * History recording service.\n *\n * A self-contained service interface for recording history. Once injected, no other dependencies\n * or globals are required (example: UndoManager, command types, etc.). Easy to mock for unit tests.\n * Built on top of history classes in history.js.\n *\n * There is a simple start/end interface for batch commands.\n *\n * HistoryRecordingService.NO_HISTORY is a singleton that can be passed in to functions\n * that record history. This helps when the caller requires that no history be recorded.\n *\n * The following will record history: insert, batch, insert.\n * @example\n * hrService = new HistoryRecordingService(this.undoMgr);\n * hrService.insertElement(elem, text); // add simple command to history.\n * hrService.startBatchCommand('create two elements');\n * hrService.changeElement(elem, attrs, text); // add to batchCommand\n * hrService.changeElement(elem, attrs2, text); // add to batchCommand\n * hrService.endBatchCommand(); // add batch command with two change commands to history.\n * hrService.insertElement(elem, text); // add simple command to history.\n *\n * @example\n * // Note that all functions return this, so commands can be chained, like so:\n * hrService\n *   .startBatchCommand('create two elements')\n *   .insertElement(elem, text)\n *   .changeElement(elem, attrs, text)\n *   .endBatchCommand();\n *\n * @memberof module:history\n */\nclass HistoryRecordingService {\n  /**\n  * @param {history.UndoManager|null} undoManager - The undo manager.\n  *     A value of `null` is valid for cases where no history recording is required.\n  *     See singleton: {@link module:history.HistoryRecordingService.HistoryRecordingService.NO_HISTORY}\n  */\n  constructor (undoManager) {\n    this.undoManager_ = undoManager;\n    this.currentBatchCommand_ = null;\n    this.batchCommandStack_ = [];\n  }\n\n  /**\n   * Start a batch command so multiple commands can recorded as a single history command.\n   * Requires a corresponding call to endBatchCommand. Start and end commands can be nested.\n   *\n   * @param {string} text - Optional string describing the batch command.\n   * @returns {module:history.HistoryRecordingService}\n   */\n  startBatchCommand (text) {\n    if (!this.undoManager_) { return this; }\n    this.currentBatchCommand_ = new BatchCommand(text);\n    this.batchCommandStack_.push(this.currentBatchCommand_);\n    return this;\n  }\n\n  /**\n   * End a batch command and add it to the history or a parent batch command.\n   * @returns {module:history.HistoryRecordingService}\n   */\n  endBatchCommand () {\n    if (!this.undoManager_) { return this; }\n    if (this.currentBatchCommand_) {\n      const batchCommand = this.currentBatchCommand_;\n      this.batchCommandStack_.pop();\n      const {length: len} = this.batchCommandStack_;\n      this.currentBatchCommand_ = len ? this.batchCommandStack_[len - 1] : null;\n      this.addCommand_(batchCommand);\n    }\n    return this;\n  }\n\n  /**\n   * Add a `MoveElementCommand` to the history or current batch command.\n   * @param {Element} elem - The DOM element that was moved\n   * @param {Element} oldNextSibling - The element's next sibling before it was moved\n   * @param {Element} oldParent - The element's parent before it was moved\n   * @param {string} [text] - An optional string visible to user related to this change\n   * @returns {module:history.HistoryRecordingService}\n   */\n  moveElement (elem, oldNextSibling, oldParent, text) {\n    if (!this.undoManager_) { return this; }\n    this.addCommand_(new MoveElementCommand(elem, oldNextSibling, oldParent, text));\n    return this;\n  }\n\n  /**\n   * Add an `InsertElementCommand` to the history or current batch command.\n   * @param {Element} elem - The DOM element that was added\n   * @param {string} [text] - An optional string visible to user related to this change\n   * @returns {module:history.HistoryRecordingService}\n   */\n  insertElement (elem, text) {\n    if (!this.undoManager_) { return this; }\n    this.addCommand_(new InsertElementCommand(elem, text));\n    return this;\n  }\n\n  /**\n   * Add a `RemoveElementCommand` to the history or current batch command.\n   * @param {Element} elem - The DOM element that was removed\n   * @param {Element} oldNextSibling - The element's next sibling before it was removed\n   * @param {Element} oldParent - The element's parent before it was removed\n   * @param {string} [text] - An optional string visible to user related to this change\n   * @returns {module:history.HistoryRecordingService}\n   */\n  removeElement (elem, oldNextSibling, oldParent, text) {\n    if (!this.undoManager_) { return this; }\n    this.addCommand_(new RemoveElementCommand(elem, oldNextSibling, oldParent, text));\n    return this;\n  }\n\n  /**\n   * Add a `ChangeElementCommand` to the history or current batch command.\n   * @param {Element} elem - The DOM element that was changed\n   * @param {module:history.CommandAttributes} attrs - An object with the attributes to be changed and the values they had *before* the change\n   * @param {string} [text] - An optional string visible to user related to this change\n   * @returns {module:history.HistoryRecordingService}\n   */\n  changeElement (elem, attrs, text) {\n    if (!this.undoManager_) { return this; }\n    this.addCommand_(new ChangeElementCommand(elem, attrs, text));\n    return this;\n  }\n\n  /**\n   * Private function to add a command to the history or current batch command.\n   * @private\n   * @param {Command} cmd\n   * @returns {module:history.HistoryRecordingService|void}\n   */\n  addCommand_ (cmd) {\n    if (!this.undoManager_) { return this; }\n    if (this.currentBatchCommand_) {\n      this.currentBatchCommand_.addSubCommand(cmd);\n    } else {\n      this.undoManager_.addCommandToHistory(cmd);\n    }\n    return undefined;\n  }\n}\n/**\n * @memberof module:history.HistoryRecordingService\n * @property {module:history.HistoryRecordingService} NO_HISTORY - Singleton that can be passed to functions that record history, but the caller requires that no history be recorded.\n */\nHistoryRecordingService.NO_HISTORY = new HistoryRecordingService();\nexport default HistoryRecordingService;\n","/* globals jQuery */\n\nimport jQueryPluginSVG from '../common/jQuery.attr.js'; // Needed for SVG attribute setting and array form with `attr`\nimport {isWebkit} from '../common/browser.js';\nimport {convertPath} from './path.js';\nimport {preventClickDefault} from '../common/utilities.js';\n\n// Constants\nconst $ = jQueryPluginSVG(jQuery);\n\n/**\n * Create a clone of an element, updating its ID and its children's IDs when needed.\n * @function module:utilities.copyElem\n * @param {Element} el - DOM element to clone\n * @param {module:utilities.GetNextID} getNextId - The getter of the next unique ID.\n * @returns {Element} The cloned element\n */\nexport const copyElem = function (el, getNextId) {\n  // manually create a copy of the element\n  const newEl = document.createElementNS(el.namespaceURI, el.nodeName);\n  $.each(el.attributes, function (i, attr) {\n    if (attr.localName !== '-moz-math-font-style') {\n      newEl.setAttributeNS(attr.namespaceURI, attr.nodeName, attr.value);\n    }\n  });\n  // set the copied element's new id\n  newEl.removeAttribute('id');\n  newEl.id = getNextId();\n\n  // Opera's \"d\" value needs to be reset for Opera/Win/non-EN\n  // Also needed for webkit (else does not keep curved segments on clone)\n  if (isWebkit() && el.nodeName === 'path') {\n    const fixedD = convertPath(el);\n    newEl.setAttribute('d', fixedD);\n  }\n\n  // now create copies of all children\n  $.each(el.childNodes, function (i, child) {\n    switch (child.nodeType) {\n    case 1: // element node\n      newEl.append(copyElem(child, getNextId));\n      break;\n    case 3: // text node\n      newEl.textContent = child.nodeValue;\n      break;\n    default:\n      break;\n    }\n  });\n\n  if ($(el).data('gsvg')) {\n    $(newEl).data('gsvg', newEl.firstChild);\n  } else if ($(el).data('symbol')) {\n    const ref = $(el).data('symbol');\n    $(newEl).data('ref', ref).data('symbol', ref);\n  } else if (newEl.tagName === 'image') {\n    preventClickDefault(newEl);\n  }\n\n  return newEl;\n};\n","/* globals jQuery */\n/**\n * Tools for drawing.\n * @module draw\n * @license MIT\n * @copyright 2011 Jeff Schiller\n */\n\nimport Layer from '../common/layer.js';\nimport HistoryRecordingService from './historyrecording.js';\n\nimport {NS} from '../common/namespaces.js';\nimport {isOpera} from '../common/browser.js';\nimport {\n  toXml, getElem\n} from '../common/utilities.js';\nimport {\n  copyElem as utilCopyElem\n} from './copy-elem.js';\nimport {\n  BatchCommand, RemoveElementCommand, MoveElementCommand, ChangeElementCommand\n} from './history.js';\n\nconst $ = jQuery;\n\nconst visElems = 'a,circle,ellipse,foreignObject,g,image,line,path,polygon,polyline,rect,svg,text,tspan,use'.split(',');\n\nconst RandomizeModes = {\n  LET_DOCUMENT_DECIDE: 0,\n  ALWAYS_RANDOMIZE: 1,\n  NEVER_RANDOMIZE: 2\n};\nlet randIds = RandomizeModes.LET_DOCUMENT_DECIDE;\n// Array with current disabled elements (for in-group editing)\nlet disabledElems = [];\n\n/**\n * Get a HistoryRecordingService.\n * @param {module:history.HistoryRecordingService} [hrService] - if exists, return it instead of creating a new service.\n * @returns {module:history.HistoryRecordingService}\n */\nfunction historyRecordingService (hrService) {\n  return hrService || new HistoryRecordingService(canvas_.undoMgr);\n}\n\n/**\n * Find the layer name in a group element.\n * @param {Element} group The group element to search in.\n * @returns {string} The layer name or empty string.\n */\nfunction findLayerNameInGroup (group) {\n  return $('title', group).text() ||\n    (isOpera() && group.querySelectorAll\n      // Hack for Opera 10.60\n      ? $(group.querySelectorAll('title')).text()\n      : '');\n}\n\n/**\n * Given a set of names, return a new unique name.\n * @param {string[]} existingLayerNames - Existing layer names.\n * @returns {string} - The new name.\n */\nfunction getNewLayerName (existingLayerNames) {\n  let i = 1;\n  // TODO(codedread): What about internationalization of \"Layer\"?\n  while (existingLayerNames.includes(('Layer ' + i))) { i++; }\n  return 'Layer ' + i;\n}\n\n/**\n * This class encapsulates the concept of a SVG-edit drawing.\n */\nexport class Drawing {\n  /**\n  * @param {SVGSVGElement} svgElem - The SVG DOM Element that this JS object\n  *     encapsulates.  If the svgElem has a se:nonce attribute on it, then\n  *     IDs will use the nonce as they are generated.\n  * @param {string} [optIdPrefix=svg_] - The ID prefix to use.\n  * @throws {Error} If not initialized with an SVG element\n  */\n  constructor (svgElem, optIdPrefix) {\n    if (!svgElem || !svgElem.tagName || !svgElem.namespaceURI ||\n      svgElem.tagName !== 'svg' || svgElem.namespaceURI !== NS.SVG) {\n      throw new Error('Error: svgedit.draw.Drawing instance initialized without a <svg> element');\n    }\n\n    /**\n    * The SVG DOM Element that represents this drawing.\n    * @type {SVGSVGElement}\n    */\n    this.svgElem_ = svgElem;\n\n    /**\n    * The latest object number used in this drawing.\n    * @type {Integer}\n    */\n    this.obj_num = 0;\n\n    /**\n    * The prefix to prepend to each element id in the drawing.\n    * @type {string}\n    */\n    this.idPrefix = optIdPrefix || 'svg_';\n\n    /**\n    * An array of released element ids to immediately reuse.\n    * @type {Integer[]}\n    */\n    this.releasedNums = [];\n\n    /**\n    * The z-ordered array of Layer objects. Each layer has a name\n    * and group element.\n    * The first layer is the one at the bottom of the rendering.\n    * @type {Layer[]}\n    */\n    this.all_layers = [];\n\n    /**\n    * Map of all_layers by name.\n    *\n    * Note: Layers are ordered, but referenced externally by name; so, we need both container\n    * types depending on which function is called (i.e. all_layers and layer_map).\n    *\n    * @type {PlainObject<string, Layer>}\n    */\n    this.layer_map = {};\n\n    /**\n    * The current layer being used.\n    * @type {Layer}\n    */\n    this.current_layer = null;\n\n    /**\n    * The nonce to use to uniquely identify elements across drawings.\n    * @type {!string}\n    */\n    this.nonce_ = '';\n    const n = this.svgElem_.getAttributeNS(NS.SE, 'nonce');\n    // If already set in the DOM, use the nonce throughout the document\n    // else, if randomizeIds(true) has been called, create and set the nonce.\n    if (n && randIds !== RandomizeModes.NEVER_RANDOMIZE) {\n      this.nonce_ = n;\n    } else if (randIds === RandomizeModes.ALWAYS_RANDOMIZE) {\n      this.setNonce(Math.floor(Math.random() * 100001));\n    }\n  }\n\n  /**\n   * @param {string} id Element ID to retrieve\n   * @returns {Element} SVG element within the root SVGSVGElement\n  */\n  getElem_ (id) {\n    if (this.svgElem_.querySelector) {\n      // querySelector lookup\n      return this.svgElem_.querySelector('#' + id);\n    }\n    // jQuery lookup: twice as slow as xpath in FF\n    return $(this.svgElem_).find('[id=' + id + ']')[0];\n  }\n\n  /**\n   * @returns {SVGSVGElement}\n   */\n  getSvgElem () {\n    return this.svgElem_;\n  }\n\n  /**\n   * @returns {!(string|Integer)} The previously set nonce\n   */\n  getNonce () {\n    return this.nonce_;\n  }\n\n  /**\n   * @param {!(string|Integer)} n The nonce to set\n   * @returns {void}\n   */\n  setNonce (n) {\n    this.svgElem_.setAttributeNS(NS.XMLNS, 'xmlns:se', NS.SE);\n    this.svgElem_.setAttributeNS(NS.SE, 'se:nonce', n);\n    this.nonce_ = n;\n  }\n\n  /**\n   * Clears any previously set nonce.\n   * @returns {void}\n   */\n  clearNonce () {\n    // We deliberately leave any se:nonce attributes alone,\n    // we just don't use it to randomize ids.\n    this.nonce_ = '';\n  }\n\n  /**\n   * Returns the latest object id as a string.\n   * @returns {string} The latest object Id.\n   */\n  getId () {\n    return this.nonce_\n      ? this.idPrefix + this.nonce_ + '_' + this.obj_num\n      : this.idPrefix + this.obj_num;\n  }\n\n  /**\n   * Returns the next object Id as a string.\n   * @returns {string} The next object Id to use.\n   */\n  getNextId () {\n    const oldObjNum = this.obj_num;\n    let restoreOldObjNum = false;\n\n    // If there are any released numbers in the release stack,\n    // use the last one instead of the next obj_num.\n    // We need to temporarily use obj_num as that is what getId() depends on.\n    if (this.releasedNums.length > 0) {\n      this.obj_num = this.releasedNums.pop();\n      restoreOldObjNum = true;\n    } else {\n      // If we are not using a released id, then increment the obj_num.\n      this.obj_num++;\n    }\n\n    // Ensure the ID does not exist.\n    let id = this.getId();\n    while (this.getElem_(id)) {\n      if (restoreOldObjNum) {\n        this.obj_num = oldObjNum;\n        restoreOldObjNum = false;\n      }\n      this.obj_num++;\n      id = this.getId();\n    }\n    // Restore the old object number if required.\n    if (restoreOldObjNum) {\n      this.obj_num = oldObjNum;\n    }\n    return id;\n  }\n\n  /**\n   * Releases the object Id, letting it be used as the next id in getNextId().\n   * This method DOES NOT remove any elements from the DOM, it is expected\n   * that client code will do this.\n   * @param {string} id - The id to release.\n   * @returns {boolean} True if the id was valid to be released, false otherwise.\n  */\n  releaseId (id) {\n    // confirm if this is a valid id for this Document, else return false\n    const front = this.idPrefix + (this.nonce_ ? this.nonce_ + '_' : '');\n    if (typeof id !== 'string' || !id.startsWith(front)) {\n      return false;\n    }\n    // extract the obj_num of this id\n    const num = Number.parseInt(id.substr(front.length));\n\n    // if we didn't get a positive number or we already released this number\n    // then return false.\n    if (typeof num !== 'number' || num <= 0 || this.releasedNums.includes(num)) {\n      return false;\n    }\n\n    // push the released number into the released queue\n    this.releasedNums.push(num);\n\n    return true;\n  }\n\n  /**\n   * Returns the number of layers in the current drawing.\n   * @returns {Integer} The number of layers in the current drawing.\n  */\n  getNumLayers () {\n    return this.all_layers.length;\n  }\n\n  /**\n   * Check if layer with given name already exists.\n   * @param {string} name - The layer name to check\n   * @returns {boolean}\n  */\n  hasLayer (name) {\n    return this.layer_map[name] !== undefined;\n  }\n\n  /**\n   * Returns the name of the ith layer. If the index is out of range, an empty string is returned.\n   * @param {Integer} i - The zero-based index of the layer you are querying.\n   * @returns {string} The name of the ith layer (or the empty string if none found)\n  */\n  getLayerName (i) {\n    return i >= 0 && i < this.getNumLayers() ? this.all_layers[i].getName() : '';\n  }\n\n  /**\n   * @returns {SVGGElement|null} The SVGGElement representing the current layer.\n   */\n  getCurrentLayer () {\n    return this.current_layer ? this.current_layer.getGroup() : null;\n  }\n\n  /**\n   * Get a layer by name.\n   * @param {string} name\n   * @returns {SVGGElement} The SVGGElement representing the named layer or null.\n   */\n  getLayerByName (name) {\n    const layer = this.layer_map[name];\n    return layer ? layer.getGroup() : null;\n  }\n\n  /**\n   * Returns the name of the currently selected layer. If an error occurs, an empty string\n   * is returned.\n   * @returns {string} The name of the currently active layer (or the empty string if none found).\n  */\n  getCurrentLayerName () {\n    return this.current_layer ? this.current_layer.getName() : '';\n  }\n\n  /**\n   * Set the current layer's name.\n   * @param {string} name - The new name.\n   * @param {module:history.HistoryRecordingService} hrService - History recording service\n   * @returns {string|null} The new name if changed; otherwise, null.\n   */\n  setCurrentLayerName (name, hrService) {\n    let finalName = null;\n    if (this.current_layer) {\n      const oldName = this.current_layer.getName();\n      finalName = this.current_layer.setName(name, hrService);\n      if (finalName) {\n        delete this.layer_map[oldName];\n        this.layer_map[finalName] = this.current_layer;\n      }\n    }\n    return finalName;\n  }\n\n  /**\n   * Set the current layer's position.\n   * @param {Integer} newpos - The zero-based index of the new position of the layer. Range should be 0 to layers-1\n   * @returns {{title: SVGGElement, previousName: string}|null} If the name was changed, returns {title:SVGGElement, previousName:string}; otherwise null.\n   */\n  setCurrentLayerPosition (newpos) {\n    const layerCount = this.getNumLayers();\n    if (!this.current_layer || newpos < 0 || newpos >= layerCount) {\n      return null;\n    }\n\n    let oldpos;\n    for (oldpos = 0; oldpos < layerCount; ++oldpos) {\n      if (this.all_layers[oldpos] === this.current_layer) { break; }\n    }\n    // some unknown error condition (current_layer not in all_layers)\n    if (oldpos === layerCount) { return null; }\n\n    if (oldpos !== newpos) {\n      // if our new position is below us, we need to insert before the node after newpos\n      const currentGroup = this.current_layer.getGroup();\n      const oldNextSibling = currentGroup.nextSibling;\n\n      let refGroup = null;\n      if (newpos > oldpos) {\n        if (newpos < layerCount - 1) {\n          refGroup = this.all_layers[newpos + 1].getGroup();\n        }\n      // if our new position is above us, we need to insert before the node at newpos\n      } else {\n        refGroup = this.all_layers[newpos].getGroup();\n      }\n      this.svgElem_.insertBefore(currentGroup, refGroup); // Ok to replace with `refGroup.before(currentGroup);`?\n\n      this.identifyLayers();\n      this.setCurrentLayer(this.getLayerName(newpos));\n\n      return {\n        currentGroup,\n        oldNextSibling\n      };\n    }\n    return null;\n  }\n\n  /**\n  * @param {module:history.HistoryRecordingService} hrService\n  * @returns {void}\n  */\n  mergeLayer (hrService) {\n    const currentGroup = this.current_layer.getGroup();\n    const prevGroup = $(currentGroup).prev()[0];\n    if (!prevGroup) { return; }\n\n    hrService.startBatchCommand('Merge Layer');\n\n    const layerNextSibling = currentGroup.nextSibling;\n    hrService.removeElement(currentGroup, layerNextSibling, this.svgElem_);\n\n    while (currentGroup.firstChild) {\n      const child = currentGroup.firstChild;\n      if (child.localName === 'title') {\n        hrService.removeElement(child, child.nextSibling, currentGroup);\n        child.remove();\n        continue;\n      }\n      const oldNextSibling = child.nextSibling;\n      prevGroup.append(child);\n      hrService.moveElement(child, oldNextSibling, currentGroup);\n    }\n\n    // Remove current layer's group\n    this.current_layer.removeGroup();\n    // Remove the current layer and set the previous layer as the new current layer\n    const index = this.all_layers.indexOf(this.current_layer);\n    if (index > 0) {\n      const name = this.current_layer.getName();\n      this.current_layer = this.all_layers[index - 1];\n      this.all_layers.splice(index, 1);\n      delete this.layer_map[name];\n    }\n\n    hrService.endBatchCommand();\n  }\n\n  /**\n  * @param {module:history.HistoryRecordingService} hrService\n  * @returns {void}\n  */\n  mergeAllLayers (hrService) {\n    // Set the current layer to the last layer.\n    this.current_layer = this.all_layers[this.all_layers.length - 1];\n\n    hrService.startBatchCommand('Merge all Layers');\n    while (this.all_layers.length > 1) {\n      this.mergeLayer(hrService);\n    }\n    hrService.endBatchCommand();\n  }\n\n  /**\n   * Sets the current layer. If the name is not a valid layer name, then this\n   * function returns `false`. Otherwise it returns `true`. This is not an\n   * undo-able action.\n   * @param {string} name - The name of the layer you want to switch to.\n   * @returns {boolean} `true` if the current layer was switched, otherwise `false`\n   */\n  setCurrentLayer (name) {\n    const layer = this.layer_map[name];\n    if (layer) {\n      if (this.current_layer) {\n        this.current_layer.deactivate();\n      }\n      this.current_layer = layer;\n      this.current_layer.activate();\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Deletes the current layer from the drawing and then clears the selection.\n   * This function then calls the 'changed' handler.  This is an undoable action.\n   * @todo Does this actually call the 'changed' handler?\n   * @returns {SVGGElement} The SVGGElement of the layer removed or null.\n   */\n  deleteCurrentLayer () {\n    if (this.current_layer && this.getNumLayers() > 1) {\n      const oldLayerGroup = this.current_layer.removeGroup();\n      this.identifyLayers();\n      return oldLayerGroup;\n    }\n    return null;\n  }\n\n  /**\n   * Updates layer system and sets the current layer to the\n   * top-most layer (last `<g>` child of this drawing).\n   * @returns {void}\n  */\n  identifyLayers () {\n    this.all_layers = [];\n    this.layer_map = {};\n    const numchildren = this.svgElem_.childNodes.length;\n    // loop through all children of SVG element\n    const orphans = [], layernames = [];\n    let layer = null;\n    let childgroups = false;\n    for (let i = 0; i < numchildren; ++i) {\n      const child = this.svgElem_.childNodes.item(i);\n      // for each g, find its layer name\n      if (child && child.nodeType === 1) {\n        if (child.tagName === 'g') {\n          childgroups = true;\n          const name = findLayerNameInGroup(child);\n          if (name) {\n            layernames.push(name);\n            layer = new Layer(name, child);\n            this.all_layers.push(layer);\n            this.layer_map[name] = layer;\n          } else {\n            // if group did not have a name, it is an orphan\n            orphans.push(child);\n          }\n        } else if (visElems.includes(child.nodeName)) {\n          // Child is \"visible\" (i.e. not a <title> or <defs> element), so it is an orphan\n          orphans.push(child);\n        }\n      }\n    }\n\n    // If orphans or no layers found, create a new layer and add all the orphans to it\n    if (orphans.length > 0 || !childgroups) {\n      layer = new Layer(getNewLayerName(layernames), null, this.svgElem_);\n      layer.appendChildren(orphans);\n      this.all_layers.push(layer);\n      this.layer_map[name] = layer;\n    } else {\n      layer.activate();\n    }\n    this.current_layer = layer;\n  }\n\n  /**\n   * Creates a new top-level layer in the drawing with the given name and\n   * makes it the current layer.\n   * @param {string} name - The given name. If the layer name exists, a new name will be generated.\n   * @param {module:history.HistoryRecordingService} hrService - History recording service\n   * @returns {SVGGElement} The SVGGElement of the new layer, which is\n   *     also the current layer of this drawing.\n  */\n  createLayer (name, hrService) {\n    if (this.current_layer) {\n      this.current_layer.deactivate();\n    }\n    // Check for duplicate name.\n    if (name === undefined || name === null || name === '' || this.layer_map[name]) {\n      name = getNewLayerName(Object.keys(this.layer_map));\n    }\n\n    // Crate new layer and add to DOM as last layer\n    const layer = new Layer(name, null, this.svgElem_);\n    // Like to assume hrService exists, but this is backwards compatible with old version of createLayer.\n    if (hrService) {\n      hrService.startBatchCommand('Create Layer');\n      hrService.insertElement(layer.getGroup());\n      hrService.endBatchCommand();\n    }\n\n    this.all_layers.push(layer);\n    this.layer_map[name] = layer;\n    this.current_layer = layer;\n    return layer.getGroup();\n  }\n\n  /**\n   * Creates a copy of the current layer with the given name and makes it the current layer.\n   * @param {string} name - The given name. If the layer name exists, a new name will be generated.\n   * @param {module:history.HistoryRecordingService} hrService - History recording service\n   * @returns {SVGGElement} The SVGGElement of the new layer, which is\n   *     also the current layer of this drawing.\n  */\n  cloneLayer (name, hrService) {\n    if (!this.current_layer) { return null; }\n    this.current_layer.deactivate();\n    // Check for duplicate name.\n    if (name === undefined || name === null || name === '' || this.layer_map[name]) {\n      name = getNewLayerName(Object.keys(this.layer_map));\n    }\n\n    // Create new group and add to DOM just after current_layer\n    const currentGroup = this.current_layer.getGroup();\n    const layer = new Layer(name, currentGroup, this.svgElem_);\n    const group = layer.getGroup();\n\n    // Clone children\n    const children = [...currentGroup.childNodes];\n    children.forEach((child) => {\n      if (child.localName === 'title') { return; }\n      group.append(this.copyElem(child));\n    });\n\n    if (hrService) {\n      hrService.startBatchCommand('Duplicate Layer');\n      hrService.insertElement(group);\n      hrService.endBatchCommand();\n    }\n\n    // Update layer containers and current_layer.\n    const index = this.all_layers.indexOf(this.current_layer);\n    if (index >= 0) {\n      this.all_layers.splice(index + 1, 0, layer);\n    } else {\n      this.all_layers.push(layer);\n    }\n    this.layer_map[name] = layer;\n    this.current_layer = layer;\n    return group;\n  }\n\n  /**\n   * Returns whether the layer is visible.  If the layer name is not valid,\n   * then this function returns `false`.\n   * @param {string} layerName - The name of the layer which you want to query.\n   * @returns {boolean} The visibility state of the layer, or `false` if the layer name was invalid.\n  */\n  getLayerVisibility (layerName) {\n    const layer = this.layer_map[layerName];\n    return layer ? layer.isVisible() : false;\n  }\n\n  /**\n   * Sets the visibility of the layer. If the layer name is not valid, this\n   * function returns `null`, otherwise it returns the `SVGElement` representing\n   * the layer. This is an undo-able action.\n   * @param {string} layerName - The name of the layer to change the visibility\n   * @param {boolean} bVisible - Whether the layer should be visible\n   * @returns {?SVGGElement} The SVGGElement representing the layer if the\n   *   `layerName` was valid, otherwise `null`.\n  */\n  setLayerVisibility (layerName, bVisible) {\n    if (typeof bVisible !== 'boolean') {\n      return null;\n    }\n    const layer = this.layer_map[layerName];\n    if (!layer) { return null; }\n    layer.setVisible(bVisible);\n    return layer.getGroup();\n  }\n\n  /**\n   * Returns the opacity of the given layer.  If the input name is not a layer, `null` is returned.\n   * @param {string} layerName - name of the layer on which to get the opacity\n   * @returns {?Float} The opacity value of the given layer.  This will be a value between 0.0 and 1.0, or `null`\n   * if `layerName` is not a valid layer\n  */\n  getLayerOpacity (layerName) {\n    const layer = this.layer_map[layerName];\n    if (!layer) { return null; }\n    return layer.getOpacity();\n  }\n\n  /**\n   * Sets the opacity of the given layer.  If the input name is not a layer,\n   * nothing happens. If opacity is not a value between 0.0 and 1.0, then\n   * nothing happens.\n   * NOTE: this function exists solely to apply a highlighting/de-emphasis\n   * effect to a layer. When it is possible for a user to affect the opacity\n   * of a layer, we will need to allow this function to produce an undo-able\n   * action.\n   * @param {string} layerName - Name of the layer on which to set the opacity\n   * @param {Float} opacity - A float value in the range 0.0-1.0\n   * @returns {void}\n  */\n  setLayerOpacity (layerName, opacity) {\n    if (typeof opacity !== 'number' || opacity < 0.0 || opacity > 1.0) {\n      return;\n    }\n    const layer = this.layer_map[layerName];\n    if (layer) {\n      layer.setOpacity(opacity);\n    }\n  }\n\n  /**\n   * Create a clone of an element, updating its ID and its children's IDs when needed.\n   * @param {Element} el - DOM element to clone\n   * @returns {Element}\n   */\n  copyElem (el) {\n    const that = this;\n    const getNextIdClosure = function () { return that.getNextId(); };\n    return utilCopyElem(el, getNextIdClosure);\n  }\n}\n\n/**\n * Called to ensure that drawings will or will not have randomized ids.\n * The currentDrawing will have its nonce set if it doesn't already.\n * @function module:draw.randomizeIds\n * @param {boolean} enableRandomization - flag indicating if documents should have randomized ids\n * @param {draw.Drawing} currentDrawing\n * @returns {void}\n */\nexport const randomizeIds = function (enableRandomization, currentDrawing) {\n  randIds = enableRandomization === false\n    ? RandomizeModes.NEVER_RANDOMIZE\n    : RandomizeModes.ALWAYS_RANDOMIZE;\n\n  if (randIds === RandomizeModes.ALWAYS_RANDOMIZE && !currentDrawing.getNonce()) {\n    currentDrawing.setNonce(Math.floor(Math.random() * 100001));\n  } else if (randIds === RandomizeModes.NEVER_RANDOMIZE && currentDrawing.getNonce()) {\n    currentDrawing.clearNonce();\n  }\n};\n\n// Layer API Functions\n\n/**\n* Group: Layers.\n*/\n\n/**\n * @see {@link https://api.jquery.com/jQuery.data/}\n * @name external:jQuery.data\n */\n\n/**\n * @interface module:draw.DrawCanvasInit\n * @property {module:path.pathActions} pathActions\n * @property {external:jQuery.data} elData\n * @property {module:history.UndoManager} undoMgr\n */\n/**\n * @function module:draw.DrawCanvasInit#getCurrentGroup\n * @returns {Element}\n */\n/**\n * @function module:draw.DrawCanvasInit#setCurrentGroup\n * @param {Element} cg\n * @returns {void}\n*/\n/**\n * @function module:draw.DrawCanvasInit#getSelectedElements\n * @returns {Element[]} the array with selected DOM elements\n*/\n/**\n * @function module:draw.DrawCanvasInit#getSVGContent\n * @returns {SVGSVGElement}\n */\n/**\n * @function module:draw.DrawCanvasInit#getCurrentDrawing\n * @returns {module:draw.Drawing}\n */\n/**\n * @function module:draw.DrawCanvasInit#clearSelection\n * @param {boolean} [noCall] - When `true`, does not call the \"selected\" handler\n * @returns {void}\n*/\n/**\n * Run the callback function associated with the given event.\n * @function module:draw.DrawCanvasInit#call\n * @param {\"changed\"|\"contextset\"} ev - String with the event name\n * @param {module:svgcanvas.SvgCanvas#event:changed|module:svgcanvas.SvgCanvas#event:contextset} arg - Argument to pass through to the callback\n * function. If the event is \"changed\", a (single-item) array of `Element`s is\n * passed. If the event is \"contextset\", the arg is `null` or `Element`.\n * @returns {void}\n */\n/**\n * @function module:draw.DrawCanvasInit#addCommandToHistory\n * @param {Command} cmd\n * @returns {void}\n*/\n/**\n * @function module:draw.DrawCanvasInit#changeSVGContent\n * @returns {void}\n */\n\nlet canvas_;\n/**\n* @function module:draw.init\n* @param {module:draw.DrawCanvasInit} canvas\n* @returns {void}\n*/\nexport const init = function (canvas) {\n  canvas_ = canvas;\n};\n\n/**\n* Updates layer system.\n* @function module:draw.identifyLayers\n* @returns {void}\n*/\nexport const identifyLayers = function () {\n  leaveContext();\n  canvas_.getCurrentDrawing().identifyLayers();\n};\n\n/**\n* Creates a new top-level layer in the drawing with the given name, sets the current layer\n* to it, and then clears the selection. This function then calls the 'changed' handler.\n* This is an undoable action.\n* @function module:draw.createLayer\n* @param {string} name - The given name\n* @param {module:history.HistoryRecordingService} hrService\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {void}\n*/\nexport const createLayer = function (name, hrService) {\n  const newLayer = canvas_.getCurrentDrawing().createLayer(\n    name,\n    historyRecordingService(hrService)\n  );\n  canvas_.clearSelection();\n  canvas_.call('changed', [newLayer]);\n};\n\n/**\n * Creates a new top-level layer in the drawing with the given name, copies all the current layer's contents\n * to it, and then clears the selection. This function then calls the 'changed' handler.\n * This is an undoable action.\n * @function module:draw.cloneLayer\n * @param {string} name - The given name. If the layer name exists, a new name will be generated.\n * @param {module:history.HistoryRecordingService} hrService - History recording service\n * @fires module:svgcanvas.SvgCanvas#event:changed\n * @returns {void}\n */\nexport const cloneLayer = function (name, hrService) {\n  // Clone the current layer and make the cloned layer the new current layer\n  const newLayer = canvas_.getCurrentDrawing().cloneLayer(name, historyRecordingService(hrService));\n\n  canvas_.clearSelection();\n  leaveContext();\n  canvas_.call('changed', [newLayer]);\n};\n\n/**\n* Deletes the current layer from the drawing and then clears the selection. This function\n* then calls the 'changed' handler. This is an undoable action.\n* @function module:draw.deleteCurrentLayer\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {boolean} `true` if an old layer group was found to delete\n*/\nexport const deleteCurrentLayer = function () {\n  let currentLayer = canvas_.getCurrentDrawing().getCurrentLayer();\n  const {nextSibling} = currentLayer;\n  const parent = currentLayer.parentNode;\n  currentLayer = canvas_.getCurrentDrawing().deleteCurrentLayer();\n  if (currentLayer) {\n    const batchCmd = new BatchCommand('Delete Layer');\n    // store in our Undo History\n    batchCmd.addSubCommand(new RemoveElementCommand(currentLayer, nextSibling, parent));\n    canvas_.addCommandToHistory(batchCmd);\n    canvas_.clearSelection();\n    canvas_.call('changed', [parent]);\n    return true;\n  }\n  return false;\n};\n\n/**\n* Sets the current layer. If the name is not a valid layer name, then this function returns\n* false. Otherwise it returns true. This is not an undo-able action.\n* @function module:draw.setCurrentLayer\n* @param {string} name - The name of the layer you want to switch to.\n* @returns {boolean} true if the current layer was switched, otherwise false\n*/\nexport const setCurrentLayer = function (name) {\n  const result = canvas_.getCurrentDrawing().setCurrentLayer(toXml(name));\n  if (result) {\n    canvas_.clearSelection();\n  }\n  return result;\n};\n\n/**\n* Renames the current layer. If the layer name is not valid (i.e. unique), then this function\n* does nothing and returns `false`, otherwise it returns `true`. This is an undo-able action.\n* @function module:draw.renameCurrentLayer\n* @param {string} newName - the new name you want to give the current layer. This name must\n* be unique among all layer names.\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {boolean} Whether the rename succeeded\n*/\nexport const renameCurrentLayer = function (newName) {\n  const drawing = canvas_.getCurrentDrawing();\n  const layer = drawing.getCurrentLayer();\n  if (layer) {\n    const result = drawing.setCurrentLayerName(newName, historyRecordingService());\n    if (result) {\n      canvas_.call('changed', [layer]);\n      return true;\n    }\n  }\n  return false;\n};\n\n/**\n* Changes the position of the current layer to the new value. If the new index is not valid,\n* this function does nothing and returns false, otherwise it returns true. This is an\n* undo-able action.\n* @function module:draw.setCurrentLayerPosition\n* @param {Integer} newPos - The zero-based index of the new position of the layer. This should be between\n* 0 and (number of layers - 1)\n* @returns {boolean} `true` if the current layer position was changed, `false` otherwise.\n*/\nexport const setCurrentLayerPosition = function (newPos) {\n  const drawing = canvas_.getCurrentDrawing();\n  const result = drawing.setCurrentLayerPosition(newPos);\n  if (result) {\n    canvas_.addCommandToHistory(new MoveElementCommand(result.currentGroup, result.oldNextSibling, canvas_.getSVGContent()));\n    return true;\n  }\n  return false;\n};\n\n/**\n* Sets the visibility of the layer. If the layer name is not valid, this function return\n* `false`, otherwise it returns `true`. This is an undo-able action.\n* @function module:draw.setLayerVisibility\n* @param {string} layerName - The name of the layer to change the visibility\n* @param {boolean} bVisible - Whether the layer should be visible\n* @returns {boolean} true if the layer's visibility was set, false otherwise\n*/\nexport const setLayerVisibility = function (layerName, bVisible) {\n  const drawing = canvas_.getCurrentDrawing();\n  const prevVisibility = drawing.getLayerVisibility(layerName);\n  const layer = drawing.setLayerVisibility(layerName, bVisible);\n  if (layer) {\n    const oldDisplay = prevVisibility ? 'inline' : 'none';\n    canvas_.addCommandToHistory(new ChangeElementCommand(layer, {display: oldDisplay}, 'Layer Visibility'));\n  } else {\n    return false;\n  }\n\n  if (layer === drawing.getCurrentLayer()) {\n    canvas_.clearSelection();\n    canvas_.pathActions.clear();\n  }\n  // call('changed', [selected]);\n  return true;\n};\n\n/**\n* Moves the selected elements to layerName. If the name is not a valid layer name, then `false`\n* is returned. Otherwise it returns `true`. This is an undo-able action.\n* @function module:draw.moveSelectedToLayer\n* @param {string} layerName - The name of the layer you want to which you want to move the selected elements\n* @returns {boolean} Whether the selected elements were moved to the layer.\n*/\nexport const moveSelectedToLayer = function (layerName) {\n  // find the layer\n  const drawing = canvas_.getCurrentDrawing();\n  const layer = drawing.getLayerByName(layerName);\n  if (!layer) { return false; }\n\n  const batchCmd = new BatchCommand('Move Elements to Layer');\n\n  // loop for each selected element and move it\n  const selElems = canvas_.getSelectedElements();\n  let i = selElems.length;\n  while (i--) {\n    const elem = selElems[i];\n    if (!elem) { continue; }\n    const oldNextSibling = elem.nextSibling;\n    // TODO: this is pretty brittle!\n    const oldLayer = elem.parentNode;\n    layer.append(elem);\n    batchCmd.addSubCommand(new MoveElementCommand(elem, oldNextSibling, oldLayer));\n  }\n\n  canvas_.addCommandToHistory(batchCmd);\n\n  return true;\n};\n\n/**\n* @function module:draw.mergeLayer\n* @param {module:history.HistoryRecordingService} hrService\n* @returns {void}\n*/\nexport const mergeLayer = function (hrService) {\n  canvas_.getCurrentDrawing().mergeLayer(historyRecordingService(hrService));\n  canvas_.clearSelection();\n  leaveContext();\n  canvas_.changeSVGContent();\n};\n\n/**\n* @function module:draw.mergeAllLayers\n* @param {module:history.HistoryRecordingService} hrService\n* @returns {void}\n*/\nexport const mergeAllLayers = function (hrService) {\n  canvas_.getCurrentDrawing().mergeAllLayers(historyRecordingService(hrService));\n  canvas_.clearSelection();\n  leaveContext();\n  canvas_.changeSVGContent();\n};\n\n/**\n* Return from a group context to the regular kind, make any previously\n* disabled elements enabled again.\n* @function module:draw.leaveContext\n* @fires module:svgcanvas.SvgCanvas#event:contextset\n* @returns {void}\n*/\nexport const leaveContext = function () {\n  const len = disabledElems.length;\n  if (len) {\n    for (let i = 0; i < len; i++) {\n      const elem = disabledElems[i];\n      const orig = canvas_.elData(elem, 'orig_opac');\n      if (orig !== 1) {\n        elem.setAttribute('opacity', orig);\n      } else {\n        elem.removeAttribute('opacity');\n      }\n      elem.setAttribute('style', 'pointer-events: inherit');\n    }\n    disabledElems = [];\n    canvas_.clearSelection(true);\n    canvas_.call('contextset', null);\n  }\n  canvas_.setCurrentGroup(null);\n};\n\n/**\n* Set the current context (for in-group editing).\n* @function module:draw.setContext\n* @param {Element} elem\n* @fires module:svgcanvas.SvgCanvas#event:contextset\n* @returns {void}\n*/\nexport const setContext = function (elem) {\n  leaveContext();\n  if (typeof elem === 'string') {\n    elem = getElem(elem);\n  }\n\n  // Edit inside this group\n  canvas_.setCurrentGroup(elem);\n\n  // Disable other elements\n  $(elem).parentsUntil('#svgcontent').andSelf().siblings().each(function () {\n    const opac = this.getAttribute('opacity') || 1;\n    // Store the original's opacity\n    canvas_.elData(this, 'orig_opac', opac);\n    this.setAttribute('opacity', opac * 0.33);\n    this.setAttribute('style', 'pointer-events: none');\n    disabledElems.push(this);\n  });\n\n  canvas_.clearSelection();\n  canvas_.call('contextset', canvas_.getCurrentGroup());\n};\n\n/**\n* @memberof module:draw\n* @class Layer\n* @see {@link module:layer.Layer}\n*/\nexport {Layer};\n","/**\n * Tools for SVG sanitization.\n * @module sanitize\n * @license MIT\n *\n * @copyright 2010 Alexis Deveria, 2010 Jeff Schiller\n */\n\nimport {getReverseNS, NS} from '../common/namespaces.js';\nimport {isGecko} from '../common/browser.js';\nimport {getHref, setHref, getUrlFromAttr} from '../common/utilities.js';\n\nconst REVERSE_NS = getReverseNS();\n\n// Todo: Split out into core attributes, presentation attributes, etc. so consistent\n/**\n * This defines which elements and attributes that we support (or at least\n * don't remove).\n * @type {PlainObject}\n */\n/* eslint-disable max-len */\nconst svgWhiteList_ = {\n  // SVG Elements\n  a: ['class', 'clip-path', 'clip-rule', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'id', 'mask', 'opacity', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'style', 'systemLanguage', 'transform', 'xlink:href', 'xlink:title'],\n  circle: ['class', 'clip-path', 'clip-rule', 'cx', 'cy', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'id', 'mask', 'opacity', 'r', 'requiredFeatures', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'style', 'systemLanguage', 'transform'],\n  clipPath: ['class', 'clipPathUnits', 'id'],\n  defs: [],\n  style: ['type'],\n  desc: [],\n  ellipse: ['class', 'clip-path', 'clip-rule', 'cx', 'cy', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'id', 'mask', 'opacity', 'requiredFeatures', 'rx', 'ry', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'style', 'systemLanguage', 'transform'],\n  feGaussianBlur: ['class', 'color-interpolation-filters', 'id', 'requiredFeatures', 'stdDeviation'],\n  feMorphology: ['class', 'in', 'operator', 'radius'],\n  filter: ['class', 'color-interpolation-filters', 'filterRes', 'filterUnits', 'height', 'id', 'primitiveUnits', 'requiredFeatures', 'width', 'x', 'xlink:href', 'y'],\n  foreignObject: ['class', 'font-size', 'height', 'id', 'opacity', 'requiredFeatures', 'style', 'transform', 'width', 'x', 'y'],\n  g: ['class', 'clip-path', 'clip-rule', 'id', 'display', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'mask', 'opacity', 'requiredFeatures', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'style', 'systemLanguage', 'transform', 'font-family', 'font-size', 'font-style', 'font-weight', 'text-anchor'],\n  image: ['class', 'clip-path', 'clip-rule', 'filter', 'height', 'id', 'mask', 'opacity', 'requiredFeatures', 'style', 'systemLanguage', 'transform', 'width', 'x', 'xlink:href', 'xlink:title', 'y'],\n  line: ['class', 'clip-path', 'clip-rule', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'id', 'marker-end', 'marker-mid', 'marker-start', 'mask', 'opacity', 'requiredFeatures', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'style', 'systemLanguage', 'transform', 'x1', 'x2', 'y1', 'y2'],\n  linearGradient: ['class', 'id', 'gradientTransform', 'gradientUnits', 'requiredFeatures', 'spreadMethod', 'systemLanguage', 'x1', 'x2', 'xlink:href', 'y1', 'y2'],\n  marker: ['id', 'class', 'markerHeight', 'markerUnits', 'markerWidth', 'orient', 'preserveAspectRatio', 'refX', 'refY', 'systemLanguage', 'viewBox'],\n  mask: ['class', 'height', 'id', 'maskContentUnits', 'maskUnits', 'width', 'x', 'y'],\n  metadata: ['class', 'id'],\n  path: ['class', 'clip-path', 'clip-rule', 'd', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'id', 'marker-end', 'marker-mid', 'marker-start', 'mask', 'opacity', 'requiredFeatures', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'style', 'systemLanguage', 'transform'],\n  pattern: ['class', 'height', 'id', 'patternContentUnits', 'patternTransform', 'patternUnits', 'requiredFeatures', 'style', 'systemLanguage', 'viewBox', 'width', 'x', 'xlink:href', 'y'],\n  polygon: ['class', 'clip-path', 'clip-rule', 'id', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'id', 'class', 'marker-end', 'marker-mid', 'marker-start', 'mask', 'opacity', 'points', 'requiredFeatures', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'style', 'systemLanguage', 'transform'],\n  polyline: ['class', 'clip-path', 'clip-rule', 'id', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'marker-end', 'marker-mid', 'marker-start', 'mask', 'opacity', 'points', 'requiredFeatures', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'style', 'systemLanguage', 'transform'],\n  radialGradient: ['class', 'cx', 'cy', 'fx', 'fy', 'gradientTransform', 'gradientUnits', 'id', 'r', 'requiredFeatures', 'spreadMethod', 'systemLanguage', 'xlink:href'],\n  rect: ['class', 'clip-path', 'clip-rule', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'height', 'id', 'mask', 'opacity', 'requiredFeatures', 'rx', 'ry', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'style', 'systemLanguage', 'transform', 'width', 'x', 'y'],\n  stop: ['class', 'id', 'offset', 'requiredFeatures', 'stop-color', 'stop-opacity', 'style', 'systemLanguage'],\n  svg: ['class', 'clip-path', 'clip-rule', 'filter', 'id', 'height', 'mask', 'preserveAspectRatio', 'requiredFeatures', 'style', 'systemLanguage', 'viewBox', 'width', 'x', 'xmlns', 'xmlns:se', 'xmlns:xlink', 'y'],\n  switch: ['class', 'id', 'requiredFeatures', 'systemLanguage'],\n  symbol: ['class', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'font-family', 'font-size', 'font-style', 'font-weight', 'id', 'opacity', 'preserveAspectRatio', 'requiredFeatures', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'style', 'systemLanguage', 'transform', 'viewBox'],\n  text: ['class', 'clip-path', 'clip-rule', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'font-family', 'font-size', 'font-style', 'font-weight', 'id', 'mask', 'opacity', 'requiredFeatures', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'style', 'systemLanguage', 'text-anchor', 'transform', 'x', 'xml:space', 'y'],\n  textPath: ['class', 'id', 'method', 'requiredFeatures', 'spacing', 'startOffset', 'style', 'systemLanguage', 'transform', 'xlink:href'],\n  title: [],\n  tspan: ['class', 'clip-path', 'clip-rule', 'dx', 'dy', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'font-family', 'font-size', 'font-style', 'font-weight', 'id', 'mask', 'opacity', 'requiredFeatures', 'rotate', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'style', 'systemLanguage', 'text-anchor', 'textLength', 'transform', 'x', 'xml:space', 'y'],\n  use: ['class', 'clip-path', 'clip-rule', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'height', 'id', 'mask', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'style', 'transform', 'width', 'x', 'xlink:href', 'y'],\n\n  // MathML Elements\n  annotation: ['encoding'],\n  'annotation-xml': ['encoding'],\n  maction: ['actiontype', 'other', 'selection'],\n  math: ['class', 'id', 'display', 'xmlns'],\n  menclose: ['notation'],\n  merror: [],\n  mfrac: ['linethickness'],\n  mi: ['mathvariant'],\n  mmultiscripts: [],\n  mn: [],\n  mo: ['fence', 'lspace', 'maxsize', 'minsize', 'rspace', 'stretchy'],\n  mover: [],\n  mpadded: ['lspace', 'width', 'height', 'depth', 'voffset'],\n  mphantom: [],\n  mprescripts: [],\n  mroot: [],\n  mrow: ['xlink:href', 'xlink:type', 'xmlns:xlink'],\n  mspace: ['depth', 'height', 'width'],\n  msqrt: [],\n  mstyle: ['displaystyle', 'mathbackground', 'mathcolor', 'mathvariant', 'scriptlevel'],\n  msub: [],\n  msubsup: [],\n  msup: [],\n  mtable: ['align', 'columnalign', 'columnlines', 'columnspacing', 'displaystyle', 'equalcolumns', 'equalrows', 'frame', 'rowalign', 'rowlines', 'rowspacing', 'width'],\n  mtd: ['columnalign', 'columnspan', 'rowalign', 'rowspan'],\n  mtext: [],\n  mtr: ['columnalign', 'rowalign'],\n  munder: [],\n  munderover: [],\n  none: [],\n  semantics: []\n};\n/* eslint-enable max-len */\n\n// Produce a Namespace-aware version of svgWhitelist\nconst svgWhiteListNS_ = {};\nObject.entries(svgWhiteList_).forEach(function ([elt, atts]) {\n  const attNS = {};\n  Object.entries(atts).forEach(function ([i, att]) {\n    if (att.includes(':')) {\n      const v = att.split(':');\n      attNS[v[1]] = NS[(v[0]).toUpperCase()];\n    } else {\n      attNS[att] = att === 'xmlns' ? NS.XMLNS : null;\n    }\n  });\n  svgWhiteListNS_[elt] = attNS;\n});\n\n/**\n* Sanitizes the input node and its children.\n* It only keeps what is allowed from our whitelist defined above.\n* @function module:sanitize.sanitizeSvg\n* @param {Text|Element} node - The DOM element to be checked (we'll also check its children) or text node to be cleaned up\n* @returns {void}\n*/\nexport const sanitizeSvg = function (node) {\n  // Cleanup text nodes\n  if (node.nodeType === 3) { // 3 === TEXT_NODE\n    // Trim whitespace\n    node.nodeValue = node.nodeValue.replace(/^\\s+|\\s+$/g, '');\n    // Remove if empty\n    if (!node.nodeValue.length) {\n      node.remove();\n    }\n  }\n\n  // We only care about element nodes.\n  // Automatically return for all non-element nodes, such as comments, etc.\n  if (node.nodeType !== 1) { // 1 == ELEMENT_NODE\n    return;\n  }\n\n  const doc = node.ownerDocument;\n  const parent = node.parentNode;\n  // can parent ever be null here?  I think the root node's parent is the document...\n  if (!doc || !parent) {\n    return;\n  }\n\n  const allowedAttrs = svgWhiteList_[node.nodeName];\n  const allowedAttrsNS = svgWhiteListNS_[node.nodeName];\n  // if this element is supported, sanitize it\n  if (typeof allowedAttrs !== 'undefined') {\n    const seAttrs = [];\n    let i = node.attributes.length;\n    while (i--) {\n      // if the attribute is not in our whitelist, then remove it\n      // could use jQuery's inArray(), but I don't know if that's any better\n      const attr = node.attributes.item(i);\n      const attrName = attr.nodeName;\n      const attrLocalName = attr.localName;\n      const attrNsURI = attr.namespaceURI;\n      // Check that an attribute with the correct localName in the correct namespace is on\n      // our whitelist or is a namespace declaration for one of our allowed namespaces\n      if (!({}.hasOwnProperty.call(allowedAttrsNS, attrLocalName) &&\n        attrNsURI === allowedAttrsNS[attrLocalName] && attrNsURI !== NS.XMLNS\n      ) &&\n        !(attrNsURI === NS.XMLNS && REVERSE_NS[attr.value])) {\n        // TODO(codedread): Programmatically add the se: attributes to the NS-aware whitelist.\n        // Bypassing the whitelist to allow se: prefixes.\n        // Is there a more appropriate way to do this?\n        if (attrName.startsWith('se:') || attrName.startsWith('data-')) {\n          seAttrs.push([attrName, attr.value]);\n        }\n        node.removeAttributeNS(attrNsURI, attrLocalName);\n      }\n\n      // Add spaces before negative signs where necessary\n      if (isGecko()) {\n        switch (attrName) {\n        case 'transform':\n        case 'gradientTransform':\n        case 'patternTransform': {\n          const val = attr.value.replace(/(\\d)-/g, '$1 -');\n          // const val = attr.value.replace(/(?<digit>\\d)-/g, '$<digit> -');\n          node.setAttribute(attrName, val);\n          break;\n        }\n        }\n      }\n\n      // For the style attribute, rewrite it in terms of XML presentational attributes\n      if (attrName === 'style') {\n        const props = attr.value.split(';');\n        let p = props.length;\n        while (p--) {\n          const [name, val] = props[p].split(':');\n          const styleAttrName = (name || '').trim();\n          const styleAttrVal = (val || '').trim();\n          // Now check that this attribute is supported\n          if (allowedAttrs.includes(styleAttrName)) {\n            node.setAttribute(styleAttrName, styleAttrVal);\n          }\n        }\n        node.removeAttribute('style');\n      }\n    }\n\n    Object.values(seAttrs).forEach(([att, val]) => {\n      node.setAttributeNS(NS.SE, att, val);\n    });\n\n    // for some elements that have a xlink:href, ensure the URI refers to a local element\n    // (but not for links)\n    const href = getHref(node);\n    if (href &&\n      ['filter', 'linearGradient', 'pattern',\n        'radialGradient', 'textPath', 'use'].includes(node.nodeName)) {\n      // TODO: we simply check if the first character is a #, is this bullet-proof?\n      if (href[0] !== '#') {\n        // remove the attribute (but keep the element)\n        setHref(node, '');\n        node.removeAttributeNS(NS.XLINK, 'href');\n      }\n    }\n\n    // Safari crashes on a <use> without a xlink:href, so we just remove the node here\n    if (node.nodeName === 'use' && !getHref(node)) {\n      node.remove();\n      return;\n    }\n    // if the element has attributes pointing to a non-local reference,\n    // need to remove the attribute\n    Object.values(['clip-path', 'fill', 'filter', 'marker-end', 'marker-mid', 'marker-start', 'mask', 'stroke'], function (attr) {\n      let val = node.getAttribute(attr);\n      if (val) {\n        val = getUrlFromAttr(val);\n        // simply check for first character being a '#'\n        if (val && val[0] !== '#') {\n          node.setAttribute(attr, '');\n          node.removeAttribute(attr);\n        }\n      }\n    });\n\n    // recurse to children\n    i = node.childNodes.length;\n    while (i--) { sanitizeSvg(node.childNodes.item(i)); }\n  // else (element not supported), remove it\n  } else {\n    // remove all children from this node and insert them before this node\n    // TODO: in the case of animation elements this will hardly ever be correct\n    const children = [];\n    while (node.hasChildNodes()) {\n      children.push(parent.insertBefore(node.firstChild, node));\n    }\n\n    // remove this node from the document altogether\n    node.remove();\n\n    // call sanitizeSvg on each of those children\n    let i = children.length;\n    while (i--) { sanitizeSvg(children[i]); }\n  }\n};\n","/* globals jQuery */\n/**\n * Manipulating coordinates.\n * @module coords\n * @license MIT\n */\n\nimport '../common/svgpathseg.js';\nimport {\n  snapToGrid, assignAttributes, getBBox, getRefElem, findDefs\n} from '../common/utilities.js';\nimport {\n  transformPoint, transformListToTransform, matrixMultiply, transformBox\n} from '../common/math.js';\nimport {getTransformList} from '../common/svgtransformlist.js';\n\nconst $ = jQuery;\n\n// this is how we map paths to our preferred relative segment types\nconst pathMap = [\n  0, 'z', 'M', 'm', 'L', 'l', 'C', 'c', 'Q', 'q', 'A', 'a',\n  'H', 'h', 'V', 'v', 'S', 's', 'T', 't'\n];\n\n/**\n * @interface module:coords.EditorContext\n */\n/**\n * @function module:coords.EditorContext#getGridSnapping\n * @returns {boolean}\n */\n/**\n * @function module:coords.EditorContext#getDrawing\n * @returns {module:draw.Drawing}\n*/\n/**\n * @function module:coords.EditorContext#getSVGRoot\n * @returns {SVGSVGElement}\n*/\n\nlet editorContext_ = null;\n\n/**\n* @function module:coords.init\n* @param {module:svgcanvas.SvgCanvas#event:pointsAdded} editorContext\n* @returns {void}\n*/\nexport const init = function (editorContext) {\n  editorContext_ = editorContext;\n};\n\n/**\n * Applies coordinate changes to an element based on the given matrix.\n * @name module:coords.remapElement\n * @type {module:path.EditorContext#remapElement}\n*/\nexport const remapElement = function (selected, changes, m) {\n  const remap = function (x, y) { return transformPoint(x, y, m); },\n    scalew = function (w) { return m.a * w; },\n    scaleh = function (h) { return m.d * h; },\n    doSnapping = editorContext_.getGridSnapping() && selected.parentNode.parentNode.localName === 'svg',\n    finishUp = function () {\n      if (doSnapping) {\n        Object.entries(changes).forEach(([o, value]) => {\n          changes[o] = snapToGrid(value);\n        });\n      }\n      assignAttributes(selected, changes, 1000, true);\n    },\n    box = getBBox(selected);\n\n  for (let i = 0; i < 2; i++) {\n    const type = i === 0 ? 'fill' : 'stroke';\n    const attrVal = selected.getAttribute(type);\n    if (attrVal && attrVal.startsWith('url(')) {\n      if (m.a < 0 || m.d < 0) {\n        const grad = getRefElem(attrVal);\n        const newgrad = grad.cloneNode(true);\n        if (m.a < 0) {\n          // flip x\n          const x1 = newgrad.getAttribute('x1');\n          const x2 = newgrad.getAttribute('x2');\n          newgrad.setAttribute('x1', -(x1 - 1));\n          newgrad.setAttribute('x2', -(x2 - 1));\n        }\n\n        if (m.d < 0) {\n          // flip y\n          const y1 = newgrad.getAttribute('y1');\n          const y2 = newgrad.getAttribute('y2');\n          newgrad.setAttribute('y1', -(y1 - 1));\n          newgrad.setAttribute('y2', -(y2 - 1));\n        }\n        newgrad.id = editorContext_.getDrawing().getNextId();\n        findDefs().append(newgrad);\n        selected.setAttribute(type, 'url(#' + newgrad.id + ')');\n      }\n\n      // Not really working :(\n      // if (selected.tagName === 'path') {\n      //   reorientGrads(selected, m);\n      // }\n    }\n  }\n\n  const elName = selected.tagName;\n  if (elName === 'g' || elName === 'text' || elName === 'tspan' || elName === 'use') {\n    // if it was a translate, then just update x,y\n    if (m.a === 1 && m.b === 0 && m.c === 0 && m.d === 1 && (m.e !== 0 || m.f !== 0)) {\n      // [T][M] = [M][T']\n      // therefore [T'] = [M_inv][T][M]\n      const existing = transformListToTransform(selected).matrix,\n        tNew = matrixMultiply(existing.inverse(), m, existing);\n      changes.x = Number.parseFloat(changes.x) + tNew.e;\n      changes.y = Number.parseFloat(changes.y) + tNew.f;\n    } else {\n      // we just absorb all matrices into the element and don't do any remapping\n      const chlist = getTransformList(selected);\n      const mt = editorContext_.getSVGRoot().createSVGTransform();\n      mt.setMatrix(matrixMultiply(transformListToTransform(chlist).matrix, m));\n      chlist.clear();\n      chlist.appendItem(mt);\n    }\n  }\n\n  // now we have a set of changes and an applied reduced transform list\n  // we apply the changes directly to the DOM\n  switch (elName) {\n  case 'foreignObject':\n  case 'rect':\n  case 'image': {\n    // Allow images to be inverted (give them matrix when flipped)\n    if (elName === 'image' && (m.a < 0 || m.d < 0)) {\n      // Convert to matrix\n      const chlist = getTransformList(selected);\n      const mt = editorContext_.getSVGRoot().createSVGTransform();\n      mt.setMatrix(matrixMultiply(transformListToTransform(chlist).matrix, m));\n      chlist.clear();\n      chlist.appendItem(mt);\n    } else {\n      const pt1 = remap(changes.x, changes.y);\n      changes.width = scalew(changes.width);\n      changes.height = scaleh(changes.height);\n      changes.x = pt1.x + Math.min(0, changes.width);\n      changes.y = pt1.y + Math.min(0, changes.height);\n      changes.width = Math.abs(changes.width);\n      changes.height = Math.abs(changes.height);\n    }\n    finishUp();\n    break;\n  } case 'ellipse': {\n    const c = remap(changes.cx, changes.cy);\n    changes.cx = c.x;\n    changes.cy = c.y;\n    changes.rx = scalew(changes.rx);\n    changes.ry = scaleh(changes.ry);\n    changes.rx = Math.abs(changes.rx);\n    changes.ry = Math.abs(changes.ry);\n    finishUp();\n    break;\n  } case 'circle': {\n    const c = remap(changes.cx, changes.cy);\n    changes.cx = c.x;\n    changes.cy = c.y;\n    // take the minimum of the new selected box's dimensions for the new circle radius\n    const tbox = transformBox(box.x, box.y, box.width, box.height, m);\n    const w = tbox.tr.x - tbox.tl.x, h = tbox.bl.y - tbox.tl.y;\n    changes.r = Math.min(w / 2, h / 2);\n\n    if (changes.r) { changes.r = Math.abs(changes.r); }\n    finishUp();\n    break;\n  } case 'line': {\n    const pt1 = remap(changes.x1, changes.y1);\n    const pt2 = remap(changes.x2, changes.y2);\n    changes.x1 = pt1.x;\n    changes.y1 = pt1.y;\n    changes.x2 = pt2.x;\n    changes.y2 = pt2.y;\n  } // Fallthrough\n  case 'text':\n  case 'tspan':\n  case 'use': {\n    finishUp();\n    break;\n  } case 'g': {\n    const gsvg = $(selected).data('gsvg');\n    if (gsvg) {\n      assignAttributes(gsvg, changes, 1000, true);\n    }\n    break;\n  } case 'polyline':\n  case 'polygon': {\n    const len = changes.points.length;\n    for (let i = 0; i < len; ++i) {\n      const pt = changes.points[i];\n      const {x, y} = remap(pt.x, pt.y);\n      changes.points[i].x = x;\n      changes.points[i].y = y;\n    }\n\n    // const len = changes.points.length;\n    let pstr = '';\n    for (let i = 0; i < len; ++i) {\n      const pt = changes.points[i];\n      pstr += pt.x + ',' + pt.y + ' ';\n    }\n    selected.setAttribute('points', pstr);\n    break;\n  } case 'path': {\n    const segList = selected.pathSegList;\n    let len = segList.numberOfItems;\n    changes.d = [];\n    for (let i = 0; i < len; ++i) {\n      const seg = segList.getItem(i);\n      changes.d[i] = {\n        type: seg.pathSegType,\n        x: seg.x,\n        y: seg.y,\n        x1: seg.x1,\n        y1: seg.y1,\n        x2: seg.x2,\n        y2: seg.y2,\n        r1: seg.r1,\n        r2: seg.r2,\n        angle: seg.angle,\n        largeArcFlag: seg.largeArcFlag,\n        sweepFlag: seg.sweepFlag\n      };\n    }\n\n    len = changes.d.length;\n    const firstseg = changes.d[0],\n      currentpt = remap(firstseg.x, firstseg.y);\n    changes.d[0].x = currentpt.x;\n    changes.d[0].y = currentpt.y;\n    for (let i = 1; i < len; ++i) {\n      const seg = changes.d[i];\n      const {type} = seg;\n      // if absolute or first segment, we want to remap x, y, x1, y1, x2, y2\n      // if relative, we want to scalew, scaleh\n      if (type % 2 === 0) { // absolute\n        const thisx = (seg.x !== undefined) ? seg.x : currentpt.x, // for V commands\n          thisy = (seg.y !== undefined) ? seg.y : currentpt.y; // for H commands\n        const pt = remap(thisx, thisy);\n        const pt1 = remap(seg.x1, seg.y1);\n        const pt2 = remap(seg.x2, seg.y2);\n        seg.x = pt.x;\n        seg.y = pt.y;\n        seg.x1 = pt1.x;\n        seg.y1 = pt1.y;\n        seg.x2 = pt2.x;\n        seg.y2 = pt2.y;\n        seg.r1 = scalew(seg.r1);\n        seg.r2 = scaleh(seg.r2);\n      } else { // relative\n        seg.x = scalew(seg.x);\n        seg.y = scaleh(seg.y);\n        seg.x1 = scalew(seg.x1);\n        seg.y1 = scaleh(seg.y1);\n        seg.x2 = scalew(seg.x2);\n        seg.y2 = scaleh(seg.y2);\n        seg.r1 = scalew(seg.r1);\n        seg.r2 = scaleh(seg.r2);\n      }\n    } // for each segment\n\n    let dstr = '';\n    len = changes.d.length;\n    for (let i = 0; i < len; ++i) {\n      const seg = changes.d[i];\n      const {type} = seg;\n      dstr += pathMap[type];\n      switch (type) {\n      case 13: // relative horizontal line (h)\n      case 12: // absolute horizontal line (H)\n        dstr += seg.x + ' ';\n        break;\n      case 15: // relative vertical line (v)\n      case 14: // absolute vertical line (V)\n        dstr += seg.y + ' ';\n        break;\n      case 3: // relative move (m)\n      case 5: // relative line (l)\n      case 19: // relative smooth quad (t)\n      case 2: // absolute move (M)\n      case 4: // absolute line (L)\n      case 18: // absolute smooth quad (T)\n        dstr += seg.x + ',' + seg.y + ' ';\n        break;\n      case 7: // relative cubic (c)\n      case 6: // absolute cubic (C)\n        dstr += seg.x1 + ',' + seg.y1 + ' ' + seg.x2 + ',' + seg.y2 + ' ' +\n          seg.x + ',' + seg.y + ' ';\n        break;\n      case 9: // relative quad (q)\n      case 8: // absolute quad (Q)\n        dstr += seg.x1 + ',' + seg.y1 + ' ' + seg.x + ',' + seg.y + ' ';\n        break;\n      case 11: // relative elliptical arc (a)\n      case 10: // absolute elliptical arc (A)\n        dstr += seg.r1 + ',' + seg.r2 + ' ' + seg.angle + ' ' + Number(seg.largeArcFlag) +\n          ' ' + Number(seg.sweepFlag) + ' ' + seg.x + ',' + seg.y + ' ';\n        break;\n      case 17: // relative smooth cubic (s)\n      case 16: // absolute smooth cubic (S)\n        dstr += seg.x2 + ',' + seg.y2 + ' ' + seg.x + ',' + seg.y + ' ';\n        break;\n      }\n    }\n\n    selected.setAttribute('d', dstr);\n    break;\n  }\n  }\n};\n","/* globals jQuery */\n/**\n * Recalculate.\n * @module recalculate\n * @license MIT\n */\n\nimport jQueryPluginSVG from '../common/jQuery.attr.js'; // Needed for SVG attribute setting and array form with `attr`\nimport {NS} from '../common/namespaces.js';\nimport {convertToNum} from '../common/units.js';\nimport {isWebkit} from '../common/browser.js';\nimport {getTransformList} from '../common/svgtransformlist.js';\nimport {getRotationAngle, getHref, getBBox, getRefElem, isNullish} from '../common/utilities.js';\nimport {BatchCommand, ChangeElementCommand} from './history.js';\nimport {remapElement} from './coords.js';\nimport {\n  isIdentity, matrixMultiply, transformPoint, transformListToTransform,\n  hasMatrixTransform\n} from '../common/math.js';\n\nconst $ = jQueryPluginSVG(jQuery);\n\nlet context_;\n\n/**\n* @interface module:recalculate.EditorContext\n*/\n/**\n * @function module:recalculate.EditorContext#getSVGRoot\n * @returns {SVGSVGElement} The root DOM element\n */\n/**\n * @function module:recalculate.EditorContext#getStartTransform\n * @returns {string}\n*/\n/**\n * @function module:recalculate.EditorContext#setStartTransform\n * @param {string} transform\n * @returns {void}\n */\n\n/**\n* @function module:recalculate.init\n* @param {module:recalculate.EditorContext} editorContext\n* @returns {void}\n*/\nexport const init = function (editorContext) {\n  context_ = editorContext;\n};\n\n/**\n* Updates a `<clipPath>`s values based on the given translation of an element.\n* @function module:recalculate.updateClipPath\n* @param {string} attr - The clip-path attribute value with the clipPath's ID\n* @param {Float} tx - The translation's x value\n* @param {Float} ty - The translation's y value\n* @returns {void}\n*/\nexport const updateClipPath = function (attr, tx, ty) {\n  const path = getRefElem(attr).firstChild;\n  const cpXform = getTransformList(path);\n  const newxlate = context_.getSVGRoot().createSVGTransform();\n  newxlate.setTranslate(tx, ty);\n\n  cpXform.appendItem(newxlate);\n\n  // Update clipPath's dimensions\n  recalculateDimensions(path);\n};\n\n/**\n* Decides the course of action based on the element's transform list.\n* @function module:recalculate.recalculateDimensions\n* @param {Element} selected - The DOM element to recalculate\n* @returns {Command} Undo command object with the resulting change\n*/\nexport const recalculateDimensions = function (selected) {\n  if (isNullish(selected)) { return null; }\n\n  // Firefox Issue - 1081\n  if (selected.nodeName === 'svg' && navigator.userAgent.includes('Firefox/20')) {\n    return null;\n  }\n\n  const svgroot = context_.getSVGRoot();\n  const tlist = getTransformList(selected);\n\n  // remove any unnecessary transforms\n  if (tlist && tlist.numberOfItems > 0) {\n    let k = tlist.numberOfItems;\n    const noi = k;\n    while (k--) {\n      const xform = tlist.getItem(k);\n      if (xform.type === 0) {\n        tlist.removeItem(k);\n      // remove identity matrices\n      } else if (xform.type === 1) {\n        if (isIdentity(xform.matrix)) {\n          if (noi === 1) {\n            // Overcome Chrome bug (though only when noi is 1) with\n            //    `removeItem` preventing `removeAttribute` from\n            //    subsequently working\n            // See https://bugs.chromium.org/p/chromium/issues/detail?id=843901\n            selected.removeAttribute('transform');\n            return null;\n          }\n          tlist.removeItem(k);\n        }\n      // remove zero-degree rotations\n      } else if (xform.type === 4) {\n        if (xform.angle === 0) {\n          tlist.removeItem(k);\n        }\n      }\n    }\n    // End here if all it has is a rotation\n    if (tlist.numberOfItems === 1 &&\n        getRotationAngle(selected)) { return null; }\n  }\n\n  // if this element had no transforms, we are done\n  if (!tlist || tlist.numberOfItems === 0) {\n    // Chrome apparently had a bug that requires clearing the attribute first.\n    selected.setAttribute('transform', '');\n    // However, this still next line currently doesn't work at all in Chrome\n    selected.removeAttribute('transform');\n    // selected.transform.baseVal.clear(); // Didn't help for Chrome bug\n    return null;\n  }\n\n  // TODO: Make this work for more than 2\n  if (tlist) {\n    let mxs = [];\n    let k = tlist.numberOfItems;\n    while (k--) {\n      const xform = tlist.getItem(k);\n      if (xform.type === 1) {\n        mxs.push([xform.matrix, k]);\n      } else if (mxs.length) {\n        mxs = [];\n      }\n    }\n    if (mxs.length === 2) {\n      const mNew = svgroot.createSVGTransformFromMatrix(matrixMultiply(mxs[1][0], mxs[0][0]));\n      tlist.removeItem(mxs[0][1]);\n      tlist.removeItem(mxs[1][1]);\n      tlist.insertItemBefore(mNew, mxs[1][1]);\n    }\n\n    // combine matrix + translate\n    k = tlist.numberOfItems;\n    if (k >= 2 && tlist.getItem(k - 2).type === 1 && tlist.getItem(k - 1).type === 2) {\n      const mt = svgroot.createSVGTransform();\n\n      const m = matrixMultiply(\n        tlist.getItem(k - 2).matrix,\n        tlist.getItem(k - 1).matrix\n      );\n      mt.setMatrix(m);\n      tlist.removeItem(k - 2);\n      tlist.removeItem(k - 2);\n      tlist.appendItem(mt);\n    }\n  }\n\n  // If it still has a single [M] or [R][M], return null too (prevents BatchCommand from being returned).\n  switch (selected.tagName) {\n  // Ignore these elements, as they can absorb the [M]\n  case 'line':\n  case 'polyline':\n  case 'polygon':\n  case 'path':\n    break;\n  default:\n    if ((tlist.numberOfItems === 1 && tlist.getItem(0).type === 1) ||\n        (tlist.numberOfItems === 2 && tlist.getItem(0).type === 1 && tlist.getItem(0).type === 4)) {\n      return null;\n    }\n  }\n\n  // Grouped SVG element\n  const gsvg = $(selected).data('gsvg');\n\n  // we know we have some transforms, so set up return variable\n  const batchCmd = new BatchCommand('Transform');\n\n  // store initial values that will be affected by reducing the transform list\n  let changes = {};\n  let initial = null;\n  let attrs = [];\n  switch (selected.tagName) {\n  case 'line':\n    attrs = ['x1', 'y1', 'x2', 'y2'];\n    break;\n  case 'circle':\n    attrs = ['cx', 'cy', 'r'];\n    break;\n  case 'ellipse':\n    attrs = ['cx', 'cy', 'rx', 'ry'];\n    break;\n  case 'foreignObject':\n  case 'rect':\n  case 'image':\n    attrs = ['width', 'height', 'x', 'y'];\n    break;\n  case 'use':\n  case 'text':\n  case 'tspan':\n    attrs = ['x', 'y'];\n    break;\n  case 'polygon':\n  case 'polyline': {\n    initial = {};\n    initial.points = selected.getAttribute('points');\n    const list = selected.points;\n    const len = list.numberOfItems;\n    changes.points = new Array(len);\n    for (let i = 0; i < len; ++i) {\n      const pt = list.getItem(i);\n      changes.points[i] = {x: pt.x, y: pt.y};\n    }\n    break;\n  } case 'path':\n    initial = {};\n    initial.d = selected.getAttribute('d');\n    changes.d = selected.getAttribute('d');\n    break;\n  } // switch on element type to get initial values\n\n  if (attrs.length) {\n    changes = $(selected).attr(attrs);\n    $.each(changes, function (attr, val) {\n      changes[attr] = convertToNum(attr, val);\n    });\n  } else if (gsvg) {\n    // GSVG exception\n    changes = {\n      x: $(gsvg).attr('x') || 0,\n      y: $(gsvg).attr('y') || 0\n    };\n  }\n\n  // if we haven't created an initial array in polygon/polyline/path, then\n  // make a copy of initial values and include the transform\n  if (isNullish(initial)) {\n    initial = $.extend(true, {}, changes);\n    $.each(initial, function (attr, val) {\n      initial[attr] = convertToNum(attr, val);\n    });\n  }\n  // save the start transform value too\n  initial.transform = context_.getStartTransform() || '';\n\n  let oldcenter, newcenter;\n\n  // if it's a regular group, we have special processing to flatten transforms\n  if ((selected.tagName === 'g' && !gsvg) || selected.tagName === 'a') {\n    const box = getBBox(selected);\n\n    oldcenter = {x: box.x + box.width / 2, y: box.y + box.height / 2};\n    newcenter = transformPoint(\n      box.x + box.width / 2,\n      box.y + box.height / 2,\n      transformListToTransform(tlist).matrix\n    );\n    // let m = svgroot.createSVGMatrix();\n\n    // temporarily strip off the rotate and save the old center\n    const gangle = getRotationAngle(selected);\n    if (gangle) {\n      const a = gangle * Math.PI / 180;\n      let s;\n      if (Math.abs(a) > (1.0e-10)) {\n        s = Math.sin(a) / (1 - Math.cos(a));\n      } else {\n        // TODO: This blows up if the angle is exactly 0!\n        s = 2 / a;\n      }\n      for (let i = 0; i < tlist.numberOfItems; ++i) {\n        const xform = tlist.getItem(i);\n        if (xform.type === 4) {\n          // extract old center through mystical arts\n          const rm = xform.matrix;\n          oldcenter.y = (s * rm.e + rm.f) / 2;\n          oldcenter.x = (rm.e - s * rm.f) / 2;\n          tlist.removeItem(i);\n          break;\n        }\n      }\n    }\n    const N = tlist.numberOfItems;\n    let tx = 0, ty = 0, operation = 0;\n\n    let firstM;\n    if (N) {\n      firstM = tlist.getItem(0).matrix;\n    }\n\n    let oldStartTransform;\n    // first, if it was a scale then the second-last transform will be it\n    if (N >= 3 && tlist.getItem(N - 2).type === 3 &&\n      tlist.getItem(N - 3).type === 2 && tlist.getItem(N - 1).type === 2) {\n      operation = 3; // scale\n\n      // if the children are unrotated, pass the scale down directly\n      // otherwise pass the equivalent matrix() down directly\n      const tm = tlist.getItem(N - 3).matrix,\n        sm = tlist.getItem(N - 2).matrix,\n        tmn = tlist.getItem(N - 1).matrix;\n\n      const children = selected.childNodes;\n      let c = children.length;\n      while (c--) {\n        const child = children.item(c);\n        tx = 0;\n        ty = 0;\n        if (child.nodeType === 1) {\n          const childTlist = getTransformList(child);\n\n          // some children might not have a transform (<metadata>, <defs>, etc)\n          if (!childTlist) { continue; }\n\n          const m = transformListToTransform(childTlist).matrix;\n\n          // Convert a matrix to a scale if applicable\n          // if (hasMatrixTransform(childTlist) && childTlist.numberOfItems == 1) {\n          //   if (m.b==0 && m.c==0 && m.e==0 && m.f==0) {\n          //     childTlist.removeItem(0);\n          //     const translateOrigin = svgroot.createSVGTransform(),\n          //       scale = svgroot.createSVGTransform(),\n          //       translateBack = svgroot.createSVGTransform();\n          //     translateOrigin.setTranslate(0, 0);\n          //     scale.setScale(m.a, m.d);\n          //     translateBack.setTranslate(0, 0);\n          //     childTlist.appendItem(translateBack);\n          //     childTlist.appendItem(scale);\n          //     childTlist.appendItem(translateOrigin);\n          //   }\n          // }\n\n          const angle = getRotationAngle(child);\n          oldStartTransform = context_.getStartTransform();\n          // const childxforms = [];\n          context_.setStartTransform(child.getAttribute('transform'));\n          if (angle || hasMatrixTransform(childTlist)) {\n            const e2t = svgroot.createSVGTransform();\n            e2t.setMatrix(matrixMultiply(tm, sm, tmn, m));\n            childTlist.clear();\n            childTlist.appendItem(e2t);\n            // childxforms.push(e2t);\n          // if not rotated or skewed, push the [T][S][-T] down to the child\n          } else {\n            // update the transform list with translate,scale,translate\n\n            // slide the [T][S][-T] from the front to the back\n            // [T][S][-T][M] = [M][T2][S2][-T2]\n\n            // (only bringing [-T] to the right of [M])\n            // [T][S][-T][M] = [T][S][M][-T2]\n            // [-T2] = [M_inv][-T][M]\n            const t2n = matrixMultiply(m.inverse(), tmn, m);\n            // [T2] is always negative translation of [-T2]\n            const t2 = svgroot.createSVGMatrix();\n            t2.e = -t2n.e;\n            t2.f = -t2n.f;\n\n            // [T][S][-T][M] = [M][T2][S2][-T2]\n            // [S2] = [T2_inv][M_inv][T][S][-T][M][-T2_inv]\n            const s2 = matrixMultiply(t2.inverse(), m.inverse(), tm, sm, tmn, m, t2n.inverse());\n\n            const translateOrigin = svgroot.createSVGTransform(),\n              scale = svgroot.createSVGTransform(),\n              translateBack = svgroot.createSVGTransform();\n            translateOrigin.setTranslate(t2n.e, t2n.f);\n            scale.setScale(s2.a, s2.d);\n            translateBack.setTranslate(t2.e, t2.f);\n            childTlist.appendItem(translateBack);\n            childTlist.appendItem(scale);\n            childTlist.appendItem(translateOrigin);\n            // childxforms.push(translateBack);\n            // childxforms.push(scale);\n            // childxforms.push(translateOrigin);\n            // logMatrix(translateBack.matrix);\n            // logMatrix(scale.matrix);\n          } // not rotated\n          batchCmd.addSubCommand(recalculateDimensions(child));\n          // TODO: If any <use> have this group as a parent and are\n          // referencing this child, then we need to impose a reverse\n          // scale on it so that when it won't get double-translated\n          // const uses = selected.getElementsByTagNameNS(NS.SVG, 'use');\n          // const href = '#' + child.id;\n          // let u = uses.length;\n          // while (u--) {\n          //   const useElem = uses.item(u);\n          //   if (href == getHref(useElem)) {\n          //     const usexlate = svgroot.createSVGTransform();\n          //     usexlate.setTranslate(-tx,-ty);\n          //     getTransformList(useElem).insertItemBefore(usexlate,0);\n          //     batchCmd.addSubCommand( recalculateDimensions(useElem) );\n          //   }\n          // }\n          context_.setStartTransform(oldStartTransform);\n        } // element\n      } // for each child\n      // Remove these transforms from group\n      tlist.removeItem(N - 1);\n      tlist.removeItem(N - 2);\n      tlist.removeItem(N - 3);\n    } else if (N >= 3 && tlist.getItem(N - 1).type === 1) {\n      operation = 3; // scale\n      const m = transformListToTransform(tlist).matrix;\n      const e2t = svgroot.createSVGTransform();\n      e2t.setMatrix(m);\n      tlist.clear();\n      tlist.appendItem(e2t);\n    // next, check if the first transform was a translate\n    // if we had [ T1 ] [ M ] we want to transform this into [ M ] [ T2 ]\n    // therefore [ T2 ] = [ M_inv ] [ T1 ] [ M ]\n    } else if ((N === 1 || (N > 1 && tlist.getItem(1).type !== 3)) &&\n      tlist.getItem(0).type === 2) {\n      operation = 2; // translate\n      const T_M = transformListToTransform(tlist).matrix;\n      tlist.removeItem(0);\n      const mInv = transformListToTransform(tlist).matrix.inverse();\n      const M2 = matrixMultiply(mInv, T_M);\n\n      tx = M2.e;\n      ty = M2.f;\n\n      if (tx !== 0 || ty !== 0) {\n        // we pass the translates down to the individual children\n        const children = selected.childNodes;\n        let c = children.length;\n\n        const clipPathsDone = [];\n        while (c--) {\n          const child = children.item(c);\n          if (child.nodeType === 1) {\n            // Check if child has clip-path\n            if (child.getAttribute('clip-path')) {\n              // tx, ty\n              const attr = child.getAttribute('clip-path');\n              if (!clipPathsDone.includes(attr)) {\n                updateClipPath(attr, tx, ty);\n                clipPathsDone.push(attr);\n              }\n            }\n\n            oldStartTransform = context_.getStartTransform();\n            context_.setStartTransform(child.getAttribute('transform'));\n\n            const childTlist = getTransformList(child);\n            // some children might not have a transform (<metadata>, <defs>, etc)\n            if (childTlist) {\n              const newxlate = svgroot.createSVGTransform();\n              newxlate.setTranslate(tx, ty);\n              if (childTlist.numberOfItems) {\n                childTlist.insertItemBefore(newxlate, 0);\n              } else {\n                childTlist.appendItem(newxlate);\n              }\n              batchCmd.addSubCommand(recalculateDimensions(child));\n              // If any <use> have this group as a parent and are\n              // referencing this child, then impose a reverse translate on it\n              // so that when it won't get double-translated\n              const uses = selected.getElementsByTagNameNS(NS.SVG, 'use');\n              const href = '#' + child.id;\n              let u = uses.length;\n              while (u--) {\n                const useElem = uses.item(u);\n                if (href === getHref(useElem)) {\n                  const usexlate = svgroot.createSVGTransform();\n                  usexlate.setTranslate(-tx, -ty);\n                  getTransformList(useElem).insertItemBefore(usexlate, 0);\n                  batchCmd.addSubCommand(recalculateDimensions(useElem));\n                }\n              }\n              context_.setStartTransform(oldStartTransform);\n            }\n          }\n        }\n        context_.setStartTransform(oldStartTransform);\n      }\n    // else, a matrix imposition from a parent group\n    // keep pushing it down to the children\n    } else if (N === 1 && tlist.getItem(0).type === 1 && !gangle) {\n      operation = 1;\n      const m = tlist.getItem(0).matrix,\n        children = selected.childNodes;\n      let c = children.length;\n      while (c--) {\n        const child = children.item(c);\n        if (child.nodeType === 1) {\n          oldStartTransform = context_.getStartTransform();\n          context_.setStartTransform(child.getAttribute('transform'));\n          const childTlist = getTransformList(child);\n\n          if (!childTlist) { continue; }\n\n          const em = matrixMultiply(m, transformListToTransform(childTlist).matrix);\n          const e2m = svgroot.createSVGTransform();\n          e2m.setMatrix(em);\n          childTlist.clear();\n          childTlist.appendItem(e2m, 0);\n\n          batchCmd.addSubCommand(recalculateDimensions(child));\n          context_.setStartTransform(oldStartTransform);\n\n          // Convert stroke\n          // TODO: Find out if this should actually happen somewhere else\n          const sw = child.getAttribute('stroke-width');\n          if (child.getAttribute('stroke') !== 'none' && !isNaN(sw)) {\n            const avg = (Math.abs(em.a) + Math.abs(em.d)) / 2;\n            child.setAttribute('stroke-width', sw * avg);\n          }\n        }\n      }\n      tlist.clear();\n    // else it was just a rotate\n    } else {\n      if (gangle) {\n        const newRot = svgroot.createSVGTransform();\n        newRot.setRotate(gangle, newcenter.x, newcenter.y);\n        if (tlist.numberOfItems) {\n          tlist.insertItemBefore(newRot, 0);\n        } else {\n          tlist.appendItem(newRot);\n        }\n      }\n      if (tlist.numberOfItems === 0) {\n        selected.removeAttribute('transform');\n      }\n      return null;\n    }\n\n    // if it was a translate, put back the rotate at the new center\n    if (operation === 2) {\n      if (gangle) {\n        newcenter = {\n          x: oldcenter.x + firstM.e,\n          y: oldcenter.y + firstM.f\n        };\n\n        const newRot = svgroot.createSVGTransform();\n        newRot.setRotate(gangle, newcenter.x, newcenter.y);\n        if (tlist.numberOfItems) {\n          tlist.insertItemBefore(newRot, 0);\n        } else {\n          tlist.appendItem(newRot);\n        }\n      }\n    // if it was a resize\n    } else if (operation === 3) {\n      const m = transformListToTransform(tlist).matrix;\n      const roldt = svgroot.createSVGTransform();\n      roldt.setRotate(gangle, oldcenter.x, oldcenter.y);\n      const rold = roldt.matrix;\n      const rnew = svgroot.createSVGTransform();\n      rnew.setRotate(gangle, newcenter.x, newcenter.y);\n      const rnewInv = rnew.matrix.inverse(),\n        mInv = m.inverse(),\n        extrat = matrixMultiply(mInv, rnewInv, rold, m);\n\n      tx = extrat.e;\n      ty = extrat.f;\n\n      if (tx !== 0 || ty !== 0) {\n        // now push this transform down to the children\n        // we pass the translates down to the individual children\n        const children = selected.childNodes;\n        let c = children.length;\n        while (c--) {\n          const child = children.item(c);\n          if (child.nodeType === 1) {\n            oldStartTransform = context_.getStartTransform();\n            context_.setStartTransform(child.getAttribute('transform'));\n            const childTlist = getTransformList(child);\n            const newxlate = svgroot.createSVGTransform();\n            newxlate.setTranslate(tx, ty);\n            if (childTlist.numberOfItems) {\n              childTlist.insertItemBefore(newxlate, 0);\n            } else {\n              childTlist.appendItem(newxlate);\n            }\n\n            batchCmd.addSubCommand(recalculateDimensions(child));\n            context_.setStartTransform(oldStartTransform);\n          }\n        }\n      }\n\n      if (gangle) {\n        if (tlist.numberOfItems) {\n          tlist.insertItemBefore(rnew, 0);\n        } else {\n          tlist.appendItem(rnew);\n        }\n      }\n    }\n  // else, it's a non-group\n  } else {\n    // TODO: box might be null for some elements (<metadata> etc), need to handle this\n    const box = getBBox(selected);\n\n    // Paths (and possbly other shapes) will have no BBox while still in <defs>,\n    // but we still may need to recalculate them (see issue 595).\n    // TODO: Figure out how to get BBox from these elements in case they\n    // have a rotation transform\n\n    if (!box && selected.tagName !== 'path') return null;\n\n    let m; // = svgroot.createSVGMatrix();\n    // temporarily strip off the rotate and save the old center\n    const angle = getRotationAngle(selected);\n    if (angle) {\n      oldcenter = {x: box.x + box.width / 2, y: box.y + box.height / 2};\n      newcenter = transformPoint(\n        box.x + box.width / 2,\n        box.y + box.height / 2,\n        transformListToTransform(tlist).matrix\n      );\n\n      const a = angle * Math.PI / 180;\n      const s = (Math.abs(a) > (1.0e-10))\n        ? Math.sin(a) / (1 - Math.cos(a))\n        // TODO: This blows up if the angle is exactly 0!\n        : 2 / a;\n\n      for (let i = 0; i < tlist.numberOfItems; ++i) {\n        const xform = tlist.getItem(i);\n        if (xform.type === 4) {\n          // extract old center through mystical arts\n          const rm = xform.matrix;\n          oldcenter.y = (s * rm.e + rm.f) / 2;\n          oldcenter.x = (rm.e - s * rm.f) / 2;\n          tlist.removeItem(i);\n          break;\n        }\n      }\n    }\n\n    // 2 = translate, 3 = scale, 4 = rotate, 1 = matrix imposition\n    let operation = 0;\n    const N = tlist.numberOfItems;\n\n    // Check if it has a gradient with userSpaceOnUse, in which case\n    // adjust it by recalculating the matrix transform.\n    // TODO: Make this work in Webkit using transformlist.SVGTransformList\n    if (!isWebkit()) {\n      const fill = selected.getAttribute('fill');\n      if (fill && fill.startsWith('url(')) {\n        const paint = getRefElem(fill);\n        let type = 'pattern';\n        if (paint.tagName !== type) type = 'gradient';\n        const attrVal = paint.getAttribute(type + 'Units');\n        if (attrVal === 'userSpaceOnUse') {\n          // Update the userSpaceOnUse element\n          m = transformListToTransform(tlist).matrix;\n          const gtlist = getTransformList(paint);\n          const gmatrix = transformListToTransform(gtlist).matrix;\n          m = matrixMultiply(m, gmatrix);\n          const mStr = 'matrix(' + [m.a, m.b, m.c, m.d, m.e, m.f].join(',') + ')';\n          paint.setAttribute(type + 'Transform', mStr);\n        }\n      }\n    }\n\n    // first, if it was a scale of a non-skewed element, then the second-last\n    // transform will be the [S]\n    // if we had [M][T][S][T] we want to extract the matrix equivalent of\n    // [T][S][T] and push it down to the element\n    if (N >= 3 && tlist.getItem(N - 2).type === 3 &&\n      tlist.getItem(N - 3).type === 2 && tlist.getItem(N - 1).type === 2) {\n      // Removed this so a <use> with a given [T][S][T] would convert to a matrix.\n      // Is that bad?\n      //  && selected.nodeName != 'use'\n      operation = 3; // scale\n      m = transformListToTransform(tlist, N - 3, N - 1).matrix;\n      tlist.removeItem(N - 1);\n      tlist.removeItem(N - 2);\n      tlist.removeItem(N - 3);\n    // if we had [T][S][-T][M], then this was a skewed element being resized\n    // Thus, we simply combine it all into one matrix\n    } else if (N === 4 && tlist.getItem(N - 1).type === 1) {\n      operation = 3; // scale\n      m = transformListToTransform(tlist).matrix;\n      const e2t = svgroot.createSVGTransform();\n      e2t.setMatrix(m);\n      tlist.clear();\n      tlist.appendItem(e2t);\n      // reset the matrix so that the element is not re-mapped\n      m = svgroot.createSVGMatrix();\n    // if we had [R][T][S][-T][M], then this was a rotated matrix-element\n    // if we had [T1][M] we want to transform this into [M][T2]\n    // therefore [ T2 ] = [ M_inv ] [ T1 ] [ M ] and we can push [T2]\n    // down to the element\n    } else if ((N === 1 || (N > 1 && tlist.getItem(1).type !== 3)) &&\n      tlist.getItem(0).type === 2) {\n      operation = 2; // translate\n      const oldxlate = tlist.getItem(0).matrix,\n        meq = transformListToTransform(tlist, 1).matrix,\n        meqInv = meq.inverse();\n      m = matrixMultiply(meqInv, oldxlate, meq);\n      tlist.removeItem(0);\n    // else if this child now has a matrix imposition (from a parent group)\n    // we might be able to simplify\n    } else if (N === 1 && tlist.getItem(0).type === 1 && !angle) {\n      // Remap all point-based elements\n      m = transformListToTransform(tlist).matrix;\n      switch (selected.tagName) {\n      case 'line':\n        changes = $(selected).attr(['x1', 'y1', 'x2', 'y2']);\n        // Fallthrough\n      case 'polyline':\n      case 'polygon':\n        changes.points = selected.getAttribute('points');\n        if (changes.points) {\n          const list = selected.points;\n          const len = list.numberOfItems;\n          changes.points = new Array(len);\n          for (let i = 0; i < len; ++i) {\n            const pt = list.getItem(i);\n            changes.points[i] = {x: pt.x, y: pt.y};\n          }\n        }\n        // Fallthrough\n      case 'path':\n        changes.d = selected.getAttribute('d');\n        operation = 1;\n        tlist.clear();\n        break;\n      default:\n        break;\n      }\n    // if it was a rotation, put the rotate back and return without a command\n    // (this function has zero work to do for a rotate())\n    } else {\n      // operation = 4; // rotation\n      if (angle) {\n        const newRot = svgroot.createSVGTransform();\n        newRot.setRotate(angle, newcenter.x, newcenter.y);\n\n        if (tlist.numberOfItems) {\n          tlist.insertItemBefore(newRot, 0);\n        } else {\n          tlist.appendItem(newRot);\n        }\n      }\n      if (tlist.numberOfItems === 0) {\n        selected.removeAttribute('transform');\n      }\n      return null;\n    }\n\n    // if it was a translate or resize, we need to remap the element and absorb the xform\n    if (operation === 1 || operation === 2 || operation === 3) {\n      remapElement(selected, changes, m);\n    } // if we are remapping\n\n    // if it was a translate, put back the rotate at the new center\n    if (operation === 2) {\n      if (angle) {\n        if (!hasMatrixTransform(tlist)) {\n          newcenter = {\n            x: oldcenter.x + m.e,\n            y: oldcenter.y + m.f\n          };\n        }\n        const newRot = svgroot.createSVGTransform();\n        newRot.setRotate(angle, newcenter.x, newcenter.y);\n        if (tlist.numberOfItems) {\n          tlist.insertItemBefore(newRot, 0);\n        } else {\n          tlist.appendItem(newRot);\n        }\n      }\n      // We have special processing for tspans:  Tspans are not transformable\n      // but they can have x,y coordinates (sigh).  Thus, if this was a translate,\n      // on a text element, also translate any tspan children.\n      if (selected.tagName === 'text') {\n        const children = selected.childNodes;\n        let c = children.length;\n        while (c--) {\n          const child = children.item(c);\n          if (child.tagName === 'tspan') {\n            const tspanChanges = {\n              x: $(child).attr('x') || 0,\n              y: $(child).attr('y') || 0\n            };\n            remapElement(child, tspanChanges, m);\n          }\n        }\n      }\n    // [Rold][M][T][S][-T] became [Rold][M]\n    // we want it to be [Rnew][M][Tr] where Tr is the\n    // translation required to re-center it\n    // Therefore, [Tr] = [M_inv][Rnew_inv][Rold][M]\n    } else if (operation === 3 && angle) {\n      const {matrix} = transformListToTransform(tlist);\n      const roldt = svgroot.createSVGTransform();\n      roldt.setRotate(angle, oldcenter.x, oldcenter.y);\n      const rold = roldt.matrix;\n      const rnew = svgroot.createSVGTransform();\n      rnew.setRotate(angle, newcenter.x, newcenter.y);\n      const rnewInv = rnew.matrix.inverse();\n      const mInv = matrix.inverse();\n      const extrat = matrixMultiply(mInv, rnewInv, rold, matrix);\n\n      remapElement(selected, changes, extrat);\n      if (angle) {\n        if (tlist.numberOfItems) {\n          tlist.insertItemBefore(rnew, 0);\n        } else {\n          tlist.appendItem(rnew);\n        }\n      }\n    }\n  } // a non-group\n\n  // if the transform list has been emptied, remove it\n  if (tlist.numberOfItems === 0) {\n    selected.removeAttribute('transform');\n  }\n\n  batchCmd.addSubCommand(new ChangeElementCommand(selected, initial));\n\n  return batchCmd;\n};\n","/* globals jQuery */\n/**\n * DOM element selection box tools.\n * @module select\n * @license MIT\n *\n * @copyright 2010 Alexis Deveria, 2010 Jeff Schiller\n */\n\nimport {isTouch, isWebkit} from '../common/browser.js'; // , isOpera\nimport {getRotationAngle, getBBox, getStrokedBBox, isNullish} from '../common/utilities.js';\nimport {transformListToTransform, transformBox, transformPoint} from '../common/math.js';\nimport {getTransformList} from '../common/svgtransformlist.js';\n\nconst $ = jQuery;\n\nlet svgFactory_;\nlet config_;\nlet selectorManager_; // A Singleton\nconst gripRadius = isTouch() ? 10 : 4;\n\n/**\n* Private class for DOM element selection boxes.\n*/\nexport class Selector {\n  /**\n  * @param {Integer} id - Internally identify the selector\n  * @param {Element} elem - DOM element associated with this selector\n  * @param {module:utilities.BBoxObject} [bbox] - Optional bbox to use for initialization (prevents duplicate `getBBox` call).\n  */\n  constructor (id, elem, bbox) {\n    // this is the selector's unique number\n    this.id = id;\n\n    // this holds a reference to the element for which this selector is being used\n    this.selectedElement = elem;\n\n    // this is a flag used internally to track whether the selector is being used or not\n    this.locked = true;\n\n    // this holds a reference to the <g> element that holds all visual elements of the selector\n    this.selectorGroup = svgFactory_.createSVGElement({\n      element: 'g',\n      attr: {id: ('selectorGroup' + this.id)}\n    });\n\n    // this holds a reference to the path rect\n    this.selectorRect = this.selectorGroup.appendChild(\n      svgFactory_.createSVGElement({\n        element: 'path',\n        attr: {\n          id: ('selectedBox' + this.id),\n          fill: 'none',\n          stroke: '#22C',\n          'stroke-width': '1',\n          'stroke-dasharray': '5,5',\n          // need to specify this so that the rect is not selectable\n          style: 'pointer-events:none'\n        }\n      })\n    );\n\n    // this holds a reference to the grip coordinates for this selector\n    this.gripCoords = {\n      nw: null,\n      n: null,\n      ne: null,\n      e: null,\n      se: null,\n      s: null,\n      sw: null,\n      w: null\n    };\n\n    this.reset(this.selectedElement, bbox);\n  }\n\n  /**\n  * Used to reset the id and element that the selector is attached to.\n  * @param {Element} e - DOM element associated with this selector\n  * @param {module:utilities.BBoxObject} bbox - Optional bbox to use for reset (prevents duplicate getBBox call).\n  * @returns {void}\n  */\n  reset (e, bbox) {\n    this.locked = true;\n    this.selectedElement = e;\n    this.resize(bbox);\n    this.selectorGroup.setAttribute('display', 'inline');\n  }\n\n  /**\n  * Show the resize grips of this selector.\n  * @param {boolean} show - Indicates whether grips should be shown or not\n  * @returns {void}\n  */\n  showGrips (show) {\n    const bShow = show ? 'inline' : 'none';\n    selectorManager_.selectorGripsGroup.setAttribute('display', bShow);\n    const elem = this.selectedElement;\n    this.hasGrips = show;\n    if (elem && show) {\n      this.selectorGroup.append(selectorManager_.selectorGripsGroup);\n      Selector.updateGripCursors(getRotationAngle(elem));\n    }\n  }\n\n  /**\n  * Updates the selector to match the element's size.\n  * @param {module:utilities.BBoxObject} [bbox] - BBox to use for resize (prevents duplicate getBBox call).\n  * @returns {void}\n  */\n  resize (bbox) {\n    const selectedBox = this.selectorRect,\n      mgr = selectorManager_,\n      selectedGrips = mgr.selectorGrips,\n      selected = this.selectedElement,\n      sw = selected.getAttribute('stroke-width'),\n      currentZoom = svgFactory_.getCurrentZoom();\n    let offset = 1 / currentZoom;\n    if (selected.getAttribute('stroke') !== 'none' && !isNaN(sw)) {\n      offset += (sw / 2);\n    }\n\n    const {tagName} = selected;\n    if (tagName === 'text') {\n      offset += 2 / currentZoom;\n    }\n\n    // loop and transform our bounding box until we reach our first rotation\n    const tlist = getTransformList(selected);\n    const m = transformListToTransform(tlist).matrix;\n\n    // This should probably be handled somewhere else, but for now\n    // it keeps the selection box correctly positioned when zoomed\n    m.e *= currentZoom;\n    m.f *= currentZoom;\n\n    if (!bbox) {\n      bbox = getBBox(selected);\n    }\n    // TODO: getBBox (previous line) already knows to call getStrokedBBox when tagName === 'g'. Remove this?\n    // TODO: getBBox doesn't exclude 'gsvg' and calls getStrokedBBox for any 'g'. Should getBBox be updated?\n    if (tagName === 'g' && !$.data(selected, 'gsvg')) {\n      // The bbox for a group does not include stroke vals, so we\n      // get the bbox based on its children.\n      const strokedBbox = getStrokedBBox([selected.childNodes]);\n      if (strokedBbox) {\n        bbox = strokedBbox;\n      }\n    }\n\n    // apply the transforms\n    const l = bbox.x, t = bbox.y, w = bbox.width, h = bbox.height;\n    // bbox = {x: l, y: t, width: w, height: h}; // Not in use\n\n    // we need to handle temporary transforms too\n    // if skewed, get its transformed box, then find its axis-aligned bbox\n\n    // *\n    offset *= currentZoom;\n\n    const nbox = transformBox(l * currentZoom, t * currentZoom, w * currentZoom, h * currentZoom, m),\n      {aabox} = nbox;\n    let nbax = aabox.x - offset,\n      nbay = aabox.y - offset,\n      nbaw = aabox.width + (offset * 2),\n      nbah = aabox.height + (offset * 2);\n\n    // now if the shape is rotated, un-rotate it\n    const cx = nbax + nbaw / 2,\n      cy = nbay + nbah / 2;\n\n    const angle = getRotationAngle(selected);\n    if (angle) {\n      const rot = svgFactory_.svgRoot().createSVGTransform();\n      rot.setRotate(-angle, cx, cy);\n      const rotm = rot.matrix;\n      nbox.tl = transformPoint(nbox.tl.x, nbox.tl.y, rotm);\n      nbox.tr = transformPoint(nbox.tr.x, nbox.tr.y, rotm);\n      nbox.bl = transformPoint(nbox.bl.x, nbox.bl.y, rotm);\n      nbox.br = transformPoint(nbox.br.x, nbox.br.y, rotm);\n\n      // calculate the axis-aligned bbox\n      const {tl} = nbox;\n      let minx = tl.x,\n        miny = tl.y,\n        maxx = tl.x,\n        maxy = tl.y;\n\n      const {min, max} = Math;\n\n      minx = min(minx, min(nbox.tr.x, min(nbox.bl.x, nbox.br.x))) - offset;\n      miny = min(miny, min(nbox.tr.y, min(nbox.bl.y, nbox.br.y))) - offset;\n      maxx = max(maxx, max(nbox.tr.x, max(nbox.bl.x, nbox.br.x))) + offset;\n      maxy = max(maxy, max(nbox.tr.y, max(nbox.bl.y, nbox.br.y))) + offset;\n\n      nbax = minx;\n      nbay = miny;\n      nbaw = (maxx - minx);\n      nbah = (maxy - miny);\n    }\n\n    const dstr = 'M' + nbax + ',' + nbay +\n      ' L' + (nbax + nbaw) + ',' + nbay +\n      ' ' + (nbax + nbaw) + ',' + (nbay + nbah) +\n      ' ' + nbax + ',' + (nbay + nbah) + 'z';\n    selectedBox.setAttribute('d', dstr);\n\n    const xform = angle ? 'rotate(' + [angle, cx, cy].join(',') + ')' : '';\n    this.selectorGroup.setAttribute('transform', xform);\n\n    // TODO(codedread): Is this needed?\n    //  if (selected === selectedElements[0]) {\n    this.gripCoords = {\n      nw: [nbax, nbay],\n      ne: [nbax + nbaw, nbay],\n      sw: [nbax, nbay + nbah],\n      se: [nbax + nbaw, nbay + nbah],\n      n: [nbax + (nbaw) / 2, nbay],\n      w: [nbax, nbay + (nbah) / 2],\n      e: [nbax + nbaw, nbay + (nbah) / 2],\n      s: [nbax + (nbaw) / 2, nbay + nbah]\n    };\n    Object.entries(this.gripCoords).forEach(([dir, coords]) => {\n      selectedGrips[dir].setAttribute('cx', coords[0]);\n      selectedGrips[dir].setAttribute('cy', coords[1]);\n    });\n\n    // we want to go 20 pixels in the negative transformed y direction, ignoring scale\n    mgr.rotateGripConnector.setAttribute('x1', nbax + (nbaw) / 2);\n    mgr.rotateGripConnector.setAttribute('y1', nbay);\n    mgr.rotateGripConnector.setAttribute('x2', nbax + (nbaw) / 2);\n    mgr.rotateGripConnector.setAttribute('y2', nbay - (gripRadius * 5));\n\n    mgr.rotateGrip.setAttribute('cx', nbax + (nbaw) / 2);\n    mgr.rotateGrip.setAttribute('cy', nbay - (gripRadius * 5));\n    // }\n  }\n\n  // STATIC methods\n  /**\n  * Updates cursors for corner grips on rotation so arrows point the right way.\n  * @param {Float} angle - Current rotation angle in degrees\n  * @returns {void}\n  */\n  static updateGripCursors (angle) {\n    const dirArr = Object.keys(selectorManager_.selectorGrips);\n    let steps = Math.round(angle / 45);\n    if (steps < 0) { steps += 8; }\n    while (steps > 0) {\n      dirArr.push(dirArr.shift());\n      steps--;\n    }\n    Object.values(selectorManager_.selectorGrips).forEach((gripElement, i) => {\n      gripElement.setAttribute('style', ('cursor:' + dirArr[i] + '-resize'));\n    });\n  }\n}\n\n/**\n* Manage all selector objects (selection boxes).\n*/\nexport class SelectorManager {\n  /**\n   * Sets up properties and calls `initGroup`.\n   */\n  constructor () {\n    // this will hold the <g> element that contains all selector rects/grips\n    this.selectorParentGroup = null;\n\n    // this is a special rect that is used for multi-select\n    this.rubberBandBox = null;\n\n    // this will hold objects of type Selector (see above)\n    this.selectors = [];\n\n    // this holds a map of SVG elements to their Selector object\n    this.selectorMap = {};\n\n    // this holds a reference to the grip elements\n    this.selectorGrips = {\n      nw: null,\n      n: null,\n      ne: null,\n      e: null,\n      se: null,\n      s: null,\n      sw: null,\n      w: null\n    };\n\n    this.selectorGripsGroup = null;\n    this.rotateGripConnector = null;\n    this.rotateGrip = null;\n\n    this.initGroup();\n  }\n\n  /**\n  * Resets the parent selector group element.\n  * @returns {void}\n  */\n  initGroup () {\n    // remove old selector parent group if it existed\n    if (this.selectorParentGroup && this.selectorParentGroup.parentNode) {\n      this.selectorParentGroup.remove();\n    }\n\n    // create parent selector group and add it to svgroot\n    this.selectorParentGroup = svgFactory_.createSVGElement({\n      element: 'g',\n      attr: {id: 'selectorParentGroup'}\n    });\n    this.selectorGripsGroup = svgFactory_.createSVGElement({\n      element: 'g',\n      attr: {display: 'none'}\n    });\n    this.selectorParentGroup.append(this.selectorGripsGroup);\n    svgFactory_.svgRoot().append(this.selectorParentGroup);\n\n    this.selectorMap = {};\n    this.selectors = [];\n    this.rubberBandBox = null;\n\n    // add the corner grips\n    Object.keys(this.selectorGrips).forEach((dir) => {\n      const grip = svgFactory_.createSVGElement({\n        element: 'circle',\n        attr: {\n          id: ('selectorGrip_resize_' + dir),\n          fill: '#22C',\n          r: gripRadius,\n          style: ('cursor:' + dir + '-resize'),\n          // This expands the mouse-able area of the grips making them\n          // easier to grab with the mouse.\n          // This works in Opera and WebKit, but does not work in Firefox\n          // see https://bugzilla.mozilla.org/show_bug.cgi?id=500174\n          'stroke-width': 2,\n          'pointer-events': 'all'\n        }\n      });\n\n      $.data(grip, 'dir', dir);\n      $.data(grip, 'type', 'resize');\n      this.selectorGrips[dir] = this.selectorGripsGroup.appendChild(grip);\n    });\n\n    // add rotator elems\n    this.rotateGripConnector = this.selectorGripsGroup.appendChild(\n      svgFactory_.createSVGElement({\n        element: 'line',\n        attr: {\n          id: ('selectorGrip_rotateconnector'),\n          stroke: '#22C',\n          'stroke-width': '1'\n        }\n      })\n    );\n\n    this.rotateGrip = this.selectorGripsGroup.appendChild(\n      svgFactory_.createSVGElement({\n        element: 'circle',\n        attr: {\n          id: 'selectorGrip_rotate',\n          fill: 'lime',\n          r: gripRadius,\n          stroke: '#22C',\n          'stroke-width': 2,\n          style: 'cursor:url(' + config_.imgPath + 'rotate.png) 12 12, auto;'\n        }\n      })\n    );\n    $.data(this.rotateGrip, 'type', 'rotate');\n\n    if ($('#canvasBackground').length) { return; }\n\n    const [width, height] = config_.dimensions;\n    const canvasbg = svgFactory_.createSVGElement({\n      element: 'svg',\n      attr: {\n        id: 'canvasBackground',\n        width,\n        height,\n        x: 0,\n        y: 0,\n        overflow: (isWebkit() ? 'none' : 'visible'), // Chrome 7 has a problem with this when zooming out\n        style: 'pointer-events:none'\n      }\n    });\n\n    const rect = svgFactory_.createSVGElement({\n      element: 'rect',\n      attr: {\n        width: '100%',\n        height: '100%',\n        x: 0,\n        y: 0,\n        'stroke-width': 1,\n        stroke: '#000',\n        fill: '#FFF',\n        style: 'pointer-events:none'\n      }\n    });\n\n    // Both Firefox and WebKit are too slow with this filter region (especially at higher\n    // zoom levels) and Opera has at least one bug\n    // if (!isOpera()) rect.setAttribute('filter', 'url(#canvashadow)');\n    canvasbg.append(rect);\n    svgFactory_.svgRoot().insertBefore(canvasbg, svgFactory_.svgContent());\n    // Ok to replace above with `svgFactory_.svgContent().before(canvasbg);`?\n  }\n\n  /**\n  *\n  * @param {Element} elem - DOM element to get the selector for\n  * @param {module:utilities.BBoxObject} [bbox] - Optional bbox to use for reset (prevents duplicate getBBox call).\n  * @returns {Selector} The selector based on the given element\n  */\n  requestSelector (elem, bbox) {\n    if (isNullish(elem)) { return null; }\n\n    const N = this.selectors.length;\n    // If we've already acquired one for this element, return it.\n    if (typeof this.selectorMap[elem.id] === 'object') {\n      this.selectorMap[elem.id].locked = true;\n      return this.selectorMap[elem.id];\n    }\n    for (let i = 0; i < N; ++i) {\n      if (this.selectors[i] && !this.selectors[i].locked) {\n        this.selectors[i].locked = true;\n        this.selectors[i].reset(elem, bbox);\n        this.selectorMap[elem.id] = this.selectors[i];\n        return this.selectors[i];\n      }\n    }\n    // if we reached here, no available selectors were found, we create one\n    this.selectors[N] = new Selector(N, elem, bbox);\n    this.selectorParentGroup.append(this.selectors[N].selectorGroup);\n    this.selectorMap[elem.id] = this.selectors[N];\n    return this.selectors[N];\n  }\n\n  /**\n  * Removes the selector of the given element (hides selection box).\n  *\n  * @param {Element} elem - DOM element to remove the selector for\n  * @returns {void}\n  */\n  releaseSelector (elem) {\n    if (isNullish(elem)) { return; }\n    const N = this.selectors.length,\n      sel = this.selectorMap[elem.id];\n    if (!sel.locked) {\n      // TODO(codedread): Ensure this exists in this module.\n      console.log('WARNING! selector was released but was already unlocked'); // eslint-disable-line no-console\n    }\n    for (let i = 0; i < N; ++i) {\n      if (this.selectors[i] && this.selectors[i] === sel) {\n        delete this.selectorMap[elem.id];\n        sel.locked = false;\n        sel.selectedElement = null;\n        sel.showGrips(false);\n\n        // remove from DOM and store reference in JS but only if it exists in the DOM\n        try {\n          sel.selectorGroup.setAttribute('display', 'none');\n        } catch (e) {}\n\n        break;\n      }\n    }\n  }\n\n  /**\n  * @returns {SVGRectElement} The rubberBandBox DOM element. This is the rectangle drawn by\n  * the user for selecting/zooming\n  */\n  getRubberBandBox () {\n    if (!this.rubberBandBox) {\n      this.rubberBandBox = this.selectorParentGroup.appendChild(\n        svgFactory_.createSVGElement({\n          element: 'rect',\n          attr: {\n            id: 'selectorRubberBand',\n            fill: '#22C',\n            'fill-opacity': 0.15,\n            stroke: '#22C',\n            'stroke-width': 0.5,\n            display: 'none',\n            style: 'pointer-events:none'\n          }\n        })\n      );\n    }\n    return this.rubberBandBox;\n  }\n}\n\n/**\n * An object that creates SVG elements for the canvas.\n *\n * @interface module:select.SVGFactory\n */\n/**\n * @function module:select.SVGFactory#createSVGElement\n * @param {module:utilities.EditorContext#addSVGElementFromJson} jsonMap\n * @returns {SVGElement}\n */\n/**\n * @function module:select.SVGFactory#svgRoot\n * @returns {SVGSVGElement}\n */\n/**\n * @function module:select.SVGFactory#svgContent\n * @returns {SVGSVGElement}\n */\n/**\n * @function module:select.SVGFactory#getCurrentZoom\n * @returns {Float} The current zoom level\n */\n\n/**\n * @typedef {GenericArray} module:select.Dimensions\n * @property {Integer} length 2\n * @property {Float} 0 Width\n * @property {Float} 1 Height\n */\n/**\n * @typedef {PlainObject} module:select.Config\n * @property {string} imgPath\n * @property {module:select.Dimensions} dimensions\n */\n\n/**\n * Initializes this module.\n * @function module:select.init\n * @param {module:select.Config} config - An object containing configurable parameters (imgPath)\n * @param {module:select.SVGFactory} svgFactory - An object implementing the SVGFactory interface.\n * @returns {void}\n */\nexport const init = function (config, svgFactory) {\n  config_ = config;\n  svgFactory_ = svgFactory;\n  selectorManager_ = new SelectorManager();\n};\n\n/**\n * @function module:select.getSelectorManager\n * @returns {module:select.SelectorManager} The SelectorManager instance.\n */\nexport const getSelectorManager = () => selectorManager_;\n","/* eslint-disable indent */\n/* globals jQuery, jsPDF */\n/**\n * Numerous tools for working with the editor's \"canvas\".\n * @module svgcanvas\n *\n * @license MIT\n *\n * @copyright 2010 Alexis Deveria, 2010 Pavol Rusnak, 2010 Jeff Schiller\n *\n */\n\n/* Dependencies:\n1. Also expects jQuery UI for `svgCanvasToString` and\n`convertToGroup` use of `:data()` selector\n*/\n\n// Todo: Obtain/adapt latest jsPDF to utilize ES Module for `jsPDF`/avoid global\n\nimport '../common/svgpathseg.js';\nimport jQueryPluginSVG from '../common/jQuery.attr.js'; // Needed for SVG attribute setting and array form with `attr`\nimport jQueryPluginDBox from './dbox.js';\n\nimport * as pathModule from './path.js';\nimport * as hstry from './history.js';\nimport * as draw from './draw.js';\n// eslint-disable-next-line no-duplicate-imports\nimport {\n  identifyLayers, createLayer, cloneLayer, deleteCurrentLayer,\n  setCurrentLayer, renameCurrentLayer, setCurrentLayerPosition,\n  setLayerVisibility, moveSelectedToLayer, mergeLayer, mergeAllLayers,\n  leaveContext, setContext\n} from './draw.js';\nimport {sanitizeSvg} from './sanitize.js';\nimport {getReverseNS, NS} from '../common/namespaces.js';\nimport {\n  text2xml, assignAttributes, cleanupElement, getElem, getUrlFromAttr,\n  findDefs, getHref, setHref, getRefElem, getRotationAngle, getPathBBox,\n  preventClickDefault, snapToGrid, walkTree, walkTreePost,\n  getBBoxOfElementAsPath, convertToPath, toXml, encode64, decode64,\n  dataURLToObjectURL, createObjectURL,\n  getVisibleElements, dropXMLInternalSubset,\n  init as utilsInit, getBBox as utilsGetBBox, getStrokedBBoxDefaultVisible,\n  isNullish\n} from '../common/utilities.js';\nimport {\n  transformPoint, matrixMultiply, hasMatrixTransform, transformListToTransform,\n  getMatrix, snapToAngle, isIdentity, rectsIntersect, transformBox\n} from '../common/math.js';\nimport {\n  convertToNum, convertAttrs, convertUnit, shortFloat, getTypeMap,\n  init as unitsInit\n} from '../common/units.js';\nimport {\n  isGecko, isChrome, isIE, isWebkit, supportsNonScalingStroke, supportsGoodTextCharPos\n} from '../common/browser.js'; // , supportsEditableText\nimport {\n  getTransformList, resetListMap,\n  SVGTransformList as SVGEditTransformList\n} from '../common/svgtransformlist.js';\nimport {\n  remapElement,\n  init as coordsInit\n} from './coords.js';\nimport {\n  recalculateDimensions,\n  init as recalculateInit\n} from './recalculate.js';\nimport {\n  getSelectorManager,\n  Selector,\n  init as selectInit\n} from './select.js';\n\nlet $ = jQueryPluginSVG(jQuery);\nconst {\n  MoveElementCommand, InsertElementCommand, RemoveElementCommand,\n  ChangeElementCommand, BatchCommand, UndoManager, HistoryEventTypes\n} = hstry;\n\nif (!window.console) {\n  window.console = {};\n  window.console.log = function (str) { /* */ };\n  window.console.dir = function (str) { /* */ };\n}\n\nif (window.opera) {\n  window.console.log = function (str) { window.opera.postError(str); };\n  window.console.dir = function (str) { /* */ };\n}\n\n// Reenable after fixing eslint-plugin-jsdoc to handle\n/**\n* The main SvgCanvas class that manages all SVG-related functions.\n* @memberof module:svgcanvas\n*\n* @borrows module:coords.remapElement as #remapElement\n* @borrows module:recalculate.recalculateDimensions as #recalculateDimensions\n*\n* @borrows module:utilities.cleanupElement as #cleanupElement\n* @borrows module:utilities.getStrokedBBoxDefaultVisible as #getStrokedBBox\n* @borrows module:utilities.getVisibleElements as #getVisibleElements\n* @borrows module:utilities.findDefs as #findDefs\n* @borrows module:utilities.getUrlFromAttr as #getUrlFromAttr\n* @borrows module:utilities.getHref as #getHref\n* @borrows module:utilities.setHref as #setHref\n* @borrows module:utilities.getRotationAngle as #getRotationAngle\n* @borrows module:utilities.getBBox as #getBBox\n* @borrows module:utilities.getElem as #getElem\n* @borrows module:utilities.getRefElem as #getRefElem\n* @borrows module:utilities.assignAttributes as #assignAttributes\n*\n* @borrows module:SVGTransformList.getTransformList as #getTransformList\n* @borrows module:math.matrixMultiply as #matrixMultiply\n* @borrows module:math.hasMatrixTransform as #hasMatrixTransform\n* @borrows module:math.transformListToTransform as #transformListToTransform\n* @borrows module:units.convertToNum as #convertToNum\n* @borrows module:sanitize.sanitizeSvg as #sanitizeSvg\n* @borrows module:path.pathActions.linkControlPoints as #linkControlPoints\n*/\nclass SvgCanvas {\n  /**\n  * @param {HTMLElement} container - The container HTML element that should hold the SVG root element\n  * @param {module:SVGEditor.curConfig} config - An object that contains configuration data\n  */\n  constructor (container, config) {\n// Alias Namespace constants\n\n// Default configuration options\nconst curConfig = {\n  show_outside_canvas: true,\n  selectNew: true,\n  dimensions: [640, 480]\n};\n\n// Update config with new one if given\nif (config) {\n  $.extend(curConfig, config);\n}\n\n// Array with width/height of canvas\nconst {dimensions} = curConfig;\n\nconst canvas = this;\n\n// \"document\" element associated with the container (same as window.document using default svg-editor.js)\n// NOTE: This is not actually a SVG document, but an HTML document.\n// JFH const svgdoc = container.ownerDocument;\nconst svgdoc = window.document;\n\n// This is a container for the document being edited, not the document itself.\n/**\n * @name module:svgcanvas~svgroot\n * @type {SVGSVGElement}\n */\nconst svgroot = svgdoc.importNode(\n  text2xml(\n    '<svg id=\"svgroot\" xmlns=\"' + NS.SVG + '\" xlinkns=\"' + NS.XLINK + '\" ' +\n      'width=\"' + dimensions[0] + '\" height=\"' + dimensions[1] +\n        '\" x=\"' + dimensions[0] + '\" y=\"' + dimensions[1] + '\" overflow=\"visible\">' +\n      '<defs>' +\n        '<filter id=\"canvashadow\" filterUnits=\"objectBoundingBox\">' +\n          '<feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"4\" result=\"blur\"/>' +\n          '<feOffset in=\"blur\" dx=\"5\" dy=\"5\" result=\"offsetBlur\"/>' +\n          '<feMerge>' +\n            '<feMergeNode in=\"offsetBlur\"/>' +\n            '<feMergeNode in=\"SourceGraphic\"/>' +\n          '</feMerge>' +\n        '</filter>' +\n      '</defs>' +\n    '</svg>'\n  ).documentElement,\n  true\n);\ncontainer.append(svgroot);\n\n/**\n * The actual element that represents the final output SVG element.\n * @name module:svgcanvas~svgcontent\n * @type {SVGSVGElement}\n */\nlet svgcontent = svgdoc.createElementNS(NS.SVG, 'svg');\n\n/**\n* This function resets the svgcontent element while keeping it in the DOM.\n* @function module:svgcanvas.SvgCanvas#clearSvgContentElement\n* @returns {void}\n*/\nconst clearSvgContentElement = canvas.clearSvgContentElement = function () {\n  $(svgcontent).empty();\n\n  // TODO: Clear out all other attributes first?\n  $(svgcontent).attr({\n    id: 'svgcontent',\n    width: dimensions[0],\n    height: dimensions[1],\n    x: dimensions[0],\n    y: dimensions[1],\n    overflow: curConfig.show_outside_canvas ? 'visible' : 'hidden',\n    xmlns: NS.SVG,\n    'xmlns:se': NS.SE,\n    'xmlns:xlink': NS.XLINK\n  }).appendTo(svgroot);\n\n  // TODO: make this string optional and set by the client\n  const comment = svgdoc.createComment(' Created with SVG-edit - https://github.com/SVG-Edit/svgedit');\n  svgcontent.append(comment);\n};\nclearSvgContentElement();\n\n// Prefix string for element IDs\nlet idprefix = 'svg_';\n\n/**\n* Changes the ID prefix to the given value.\n* @function module:svgcanvas.SvgCanvas#setIdPrefix\n* @param {string} p - String with the new prefix\n* @returns {void}\n*/\ncanvas.setIdPrefix = function (p) {\n  idprefix = p;\n};\n\n/**\n* Current `draw.Drawing` object.\n* @type {module:draw.Drawing}\n* @name module:svgcanvas.SvgCanvas#current_drawing_\n*/\ncanvas.current_drawing_ = new draw.Drawing(svgcontent, idprefix);\n\n/**\n* Returns the current Drawing.\n* @name module:svgcanvas.SvgCanvas#getCurrentDrawing\n* @type {module:draw.DrawCanvasInit#getCurrentDrawing}\n*/\nconst getCurrentDrawing = canvas.getCurrentDrawing = function () {\n  return canvas.current_drawing_;\n};\n\n/**\n* Float displaying the current zoom level (1 = 100%, .5 = 50%, etc.).\n* @type {Float}\n*/\nlet currentZoom = 1;\n\n// pointer to current group (for in-group editing)\nlet currentGroup = null;\n\n// Object containing data for the currently selected styles\nconst allProperties = {\n  shape: {\n    fill: (curConfig.initFill.color === 'none' ? '' : '#') + curConfig.initFill.color,\n    fill_paint: null,\n    fill_opacity: curConfig.initFill.opacity,\n    stroke: '#' + curConfig.initStroke.color,\n    stroke_paint: null,\n    stroke_opacity: curConfig.initStroke.opacity,\n    stroke_width: curConfig.initStroke.width,\n    stroke_dasharray: 'none',\n    stroke_linejoin: 'miter',\n    stroke_linecap: 'butt',\n    opacity: curConfig.initOpacity\n  }\n};\n\nallProperties.text = $.extend(true, {}, allProperties.shape);\n$.extend(allProperties.text, {\n  fill: '#000000',\n  stroke_width: curConfig.text && curConfig.text.stroke_width,\n  font_size: curConfig.text && curConfig.text.font_size,\n  font_family: curConfig.text && curConfig.text.font_family\n});\n\n// Current shape style properties\nconst curShape = allProperties.shape;\n\n// Array with all the currently selected elements\n// default size of 1 until it needs to grow bigger\nlet selectedElements = [];\n\n/**\n* @typedef {PlainObject} module:svgcanvas.SVGAsJSON\n* @property {string} element\n* @property {PlainObject<string, string>} attr\n* @property {module:svgcanvas.SVGAsJSON[]} children\n*/\n\n/**\n* @function module:svgcanvas.SvgCanvas#getContentElem\n* @param {Text|Element} data\n* @returns {module:svgcanvas.SVGAsJSON}\n*/\nconst getJsonFromSvgElement = this.getJsonFromSvgElement = function (data) {\n  // Text node\n  if (data.nodeType === 3) return data.nodeValue;\n\n  const retval = {\n    element: data.tagName,\n    // namespace: nsMap[data.namespaceURI],\n    attr: {},\n    children: []\n  };\n\n  // Iterate attributes\n  for (let i = 0, attr; (attr = data.attributes[i]); i++) {\n    retval.attr[attr.name] = attr.value;\n  }\n\n  // Iterate children\n  for (let i = 0, node; (node = data.childNodes[i]); i++) {\n    retval.children[i] = getJsonFromSvgElement(node);\n  }\n\n  return retval;\n};\n\n/**\n* This should really be an intersection implementing all rather than a union.\n* @name module:svgcanvas.SvgCanvas#addSVGElementFromJson\n* @type {module:utilities.EditorContext#addSVGElementFromJson|module:path.EditorContext#addSVGElementFromJson}\n*/\nconst addSVGElementFromJson = this.addSVGElementFromJson = function (data) {\n  if (typeof data === 'string') return svgdoc.createTextNode(data);\n\n  let shape = getElem(data.attr.id);\n  // if shape is a path but we need to create a rect/ellipse, then remove the path\n  const currentLayer = getCurrentDrawing().getCurrentLayer();\n  if (shape && data.element !== shape.tagName) {\n    shape.remove();\n    shape = null;\n  }\n  if (!shape) {\n    const ns = data.namespace || NS.SVG;\n    shape = svgdoc.createElementNS(ns, data.element);\n    if (currentLayer) {\n      (currentGroup || currentLayer).append(shape);\n    }\n  }\n  if (data.curStyles) {\n    assignAttributes(shape, {\n      fill: curShape.fill,\n      stroke: curShape.stroke,\n      'stroke-width': curShape.stroke_width,\n      'stroke-dasharray': curShape.stroke_dasharray,\n      'stroke-linejoin': curShape.stroke_linejoin,\n      'stroke-linecap': curShape.stroke_linecap,\n      'stroke-opacity': curShape.stroke_opacity,\n      'fill-opacity': curShape.fill_opacity,\n      opacity: curShape.opacity / 2,\n      style: 'pointer-events:inherit'\n    }, 100);\n  }\n  assignAttributes(shape, data.attr, 100);\n  cleanupElement(shape);\n\n  // Children\n  if (data.children) {\n    data.children.forEach((child) => {\n      shape.append(addSVGElementFromJson(child));\n    });\n  }\n\n  return shape;\n};\n\ncanvas.getTransformList = getTransformList;\n\ncanvas.matrixMultiply = matrixMultiply;\ncanvas.hasMatrixTransform = hasMatrixTransform;\ncanvas.transformListToTransform = transformListToTransform;\n\n/**\n* @type {module:utilities.EditorContext#getBaseUnit}\n*/\nconst getBaseUnit = () => { return curConfig.baseUnit; };\n\n/**\n* Initialize from units.js.\n* Send in an object implementing the ElementContainer interface (see units.js).\n*/\nunitsInit(\n  /**\n  * @implements {module:units.ElementContainer}\n  */\n  {\n    getBaseUnit,\n    getElement: getElem,\n    getHeight () { return svgcontent.getAttribute('height') / currentZoom; },\n    getWidth () { return svgcontent.getAttribute('width') / currentZoom; },\n    getRoundDigits () { return saveOptions.round_digits; }\n  }\n);\n\ncanvas.convertToNum = convertToNum;\n\n/**\n* This should really be an intersection implementing all rather than a union.\n* @type {module:draw.DrawCanvasInit#getSVGContent|module:utilities.EditorContext#getSVGContent}\n*/\nconst getSVGContent = () => { return svgcontent; };\n\n/**\n* Should really be an intersection with all needing to apply rather than a union.\n* @name module:svgcanvas.SvgCanvas#getSelectedElements\n* @type {module:utilities.EditorContext#getSelectedElements|module:draw.DrawCanvasInit#getSelectedElements|module:path.EditorContext#getSelectedElements}\n*/\nconst getSelectedElements = this.getSelectedElems = function () {\n  return selectedElements;\n};\n\nconst {pathActions} = pathModule;\n\n/**\n* This should actually be an intersection as all interfaces should be met.\n* @type {module:utilities.EditorContext#getSVGRoot|module:recalculate.EditorContext#getSVGRoot|module:coords.EditorContext#getSVGRoot|module:path.EditorContext#getSVGRoot}\n*/\nconst getSVGRoot = () => svgroot;\n\nutilsInit(\n  /**\n  * @implements {module:utilities.EditorContext}\n  */\n  {\n    pathActions, // Ok since not modifying\n    getSVGContent,\n    addSVGElementFromJson,\n    getSelectedElements,\n    getDOMDocument () { return svgdoc; },\n    getDOMContainer () { return container; },\n    getSVGRoot,\n    // TODO: replace this mostly with a way to get the current drawing.\n    getBaseUnit,\n    getSnappingStep () { return curConfig.snappingStep; }\n  }\n);\n\ncanvas.findDefs = findDefs;\ncanvas.getUrlFromAttr = getUrlFromAttr;\ncanvas.getHref = getHref;\ncanvas.setHref = setHref;\n/* const getBBox = */ canvas.getBBox = utilsGetBBox;\ncanvas.getRotationAngle = getRotationAngle;\ncanvas.getElem = getElem;\ncanvas.getRefElem = getRefElem;\ncanvas.assignAttributes = assignAttributes;\n\nthis.cleanupElement = cleanupElement;\n\n/**\n* This should actually be an intersection not a union as all should apply.\n* @type {module:coords.EditorContext#getGridSnapping|module:path.EditorContext#getGridSnapping}\n*/\nconst getGridSnapping = () => { return curConfig.gridSnapping; };\n\ncoordsInit(\n  /**\n  * @implements {module:coords.EditorContext}\n  */\n  {\n    getDrawing () { return getCurrentDrawing(); },\n    getSVGRoot,\n    getGridSnapping\n  }\n);\nthis.remapElement = remapElement;\n\nrecalculateInit(\n  /**\n  * @implements {module:recalculate.EditorContext}\n  */\n  {\n    getSVGRoot,\n    getStartTransform () { return startTransform; },\n    setStartTransform (transform) { startTransform = transform; }\n  }\n);\nthis.recalculateDimensions = recalculateDimensions;\n\n// import from sanitize.js\nconst nsMap = getReverseNS();\ncanvas.sanitizeSvg = sanitizeSvg;\n\n/**\n* @name undoMgr\n* @memberof module:svgcanvas.SvgCanvas#\n* @type {module:history.HistoryEventHandler}\n*/\nconst undoMgr = canvas.undoMgr = new UndoManager({\n  /**\n   * @param {string} eventType One of the HistoryEvent types\n   * @param {module:history.HistoryCommand} cmd Fulfills the HistoryCommand interface\n   * @fires module:svgcanvas.SvgCanvas#event:changed\n   * @returns {void}\n   */\n  handleHistoryEvent (eventType, cmd) {\n    const EventTypes = HistoryEventTypes;\n    // TODO: handle setBlurOffsets.\n    if (eventType === EventTypes.BEFORE_UNAPPLY || eventType === EventTypes.BEFORE_APPLY) {\n      canvas.clearSelection();\n    } else if (eventType === EventTypes.AFTER_APPLY || eventType === EventTypes.AFTER_UNAPPLY) {\n      const elems = cmd.elements();\n      canvas.pathActions.clear();\n      call('changed', elems);\n      const cmdType = cmd.type();\n      const isApply = (eventType === EventTypes.AFTER_APPLY);\n      if (cmdType === 'MoveElementCommand') {\n        const parent = isApply ? cmd.newParent : cmd.oldParent;\n        if (parent === svgcontent) {\n          draw.identifyLayers();\n        }\n      } else if (cmdType === 'InsertElementCommand' ||\n          cmdType === 'RemoveElementCommand') {\n        if (cmd.parent === svgcontent) {\n          draw.identifyLayers();\n        }\n        if (cmdType === 'InsertElementCommand') {\n          if (isApply) { restoreRefElems(cmd.elem); }\n        } else if (!isApply) {\n          restoreRefElems(cmd.elem);\n        }\n        if (cmd.elem && cmd.elem.tagName === 'use') {\n          setUseData(cmd.elem);\n        }\n      } else if (cmdType === 'ChangeElementCommand') {\n        // if we are changing layer names, re-identify all layers\n        if (cmd.elem.tagName === 'title' &&\n          cmd.elem.parentNode.parentNode === svgcontent\n        ) {\n          draw.identifyLayers();\n        }\n        const values = isApply ? cmd.newValues : cmd.oldValues;\n        // If stdDeviation was changed, update the blur.\n        if (values.stdDeviation) {\n          canvas.setBlurOffsets(cmd.elem.parentNode, values.stdDeviation);\n        }\n        // This is resolved in later versions of webkit, perhaps we should\n        // have a featured detection for correct 'use' behavior?\n        // ââââââââââ\n        // Remove & Re-add hack for Webkit (issue 775)\n        // if (cmd.elem.tagName === 'use' && isWebkit()) {\n        //  const {elem} = cmd;\n        //  if (!elem.getAttribute('x') && !elem.getAttribute('y')) {\n        //    const parent = elem.parentNode;\n        //    const sib = elem.nextSibling;\n        //    elem.remove();\n        //    parent.insertBefore(elem, sib);\n        //    // Ok to replace above with this? `sib.before(elem);`\n        //  }\n        // }\n      }\n    }\n  }\n});\n\n/**\n* This should really be an intersection applying to all types rather than a union.\n* @name module:svgcanvas~addCommandToHistory\n* @type {module:path.EditorContext#addCommandToHistory|module:draw.DrawCanvasInit#addCommandToHistory}\n*/\nconst addCommandToHistory = function (cmd) {\n  canvas.undoMgr.addCommandToHistory(cmd);\n};\n\n/**\n* This should really be an intersection applying to all types rather than a union.\n* @name module:svgcanvas.SvgCanvas#getZoom\n* @type {module:path.EditorContext#getCurrentZoom|module:select.SVGFactory#getCurrentZoom}\n*/\nconst getCurrentZoom = this.getZoom = function () { return currentZoom; };\n\n/**\n* This method rounds the incoming value to the nearest value based on the `currentZoom`\n* @name module:svgcanvas.SvgCanvas#round\n* @type {module:path.EditorContext#round}\n*/\nconst round = this.round = function (val) {\n  return Number.parseInt(val * currentZoom) / currentZoom;\n};\n\nselectInit(\n  curConfig,\n  /**\n  * Export to select.js.\n  * @implements {module:select.SVGFactory}\n  */\n  {\n    createSVGElement (jsonMap) { return canvas.addSVGElementFromJson(jsonMap); },\n    svgRoot () { return svgroot; },\n    svgContent () { return svgcontent; },\n    getCurrentZoom\n  }\n);\n/**\n* This object manages selectors for us.\n* @name module:svgcanvas.SvgCanvas#selectorManager\n* @type {module:select.SelectorManager}\n*/\nconst selectorManager = this.selectorManager = getSelectorManager();\n\n/**\n* @name module:svgcanvas.SvgCanvas#getNextId\n* @type {module:path.EditorContext#getNextId}\n*/\nconst getNextId = canvas.getNextId = function () {\n  return getCurrentDrawing().getNextId();\n};\n\n/**\n* @name module:svgcanvas.SvgCanvas#getId\n* @type {module:path.EditorContext#getId}\n*/\nconst getId = canvas.getId = function () {\n  return getCurrentDrawing().getId();\n};\n\n/**\n* The \"implements\" should really be an intersection applying to all types rather than a union.\n* @name module:svgcanvas.SvgCanvas#call\n* @type {module:draw.DrawCanvasInit#call|module:path.EditorContext#call}\n*/\nconst call = function (ev, arg) {\n  if (events[ev]) {\n    return events[ev](window, arg);\n  }\n  return undefined;\n};\n\n/**\n* Clears the selection. The 'selected' handler is then optionally called.\n* This should really be an intersection applying to all types rather than a union.\n* @name module:svgcanvas.SvgCanvas#clearSelection\n* @type {module:draw.DrawCanvasInit#clearSelection|module:path.EditorContext#clearSelection}\n* @fires module:svgcanvas.SvgCanvas#event:selected\n*/\nconst clearSelection = this.clearSelection = function (noCall) {\n  selectedElements.forEach((elem) => {\n    if (isNullish(elem)) {\n      return;\n    }\n    selectorManager.releaseSelector(elem);\n  });\n  selectedElements = [];\n\n  if (!noCall) { call('selected', selectedElements); }\n};\n\n/**\n* Adds a list of elements to the selection. The 'selected' handler is then called.\n* @name module:svgcanvas.SvgCanvas#addToSelection\n* @type {module:path.EditorContext#addToSelection}\n* @fires module:svgcanvas.SvgCanvas#event:selected\n*/\nconst addToSelection = this.addToSelection = function (elemsToAdd, showGrips) {\n  if (!elemsToAdd.length) { return; }\n  // find the first null in our selectedElements array\n\n  let j = 0;\n  while (j < selectedElements.length) {\n    if (isNullish(selectedElements[j])) {\n      break;\n    }\n    ++j;\n  }\n\n  // now add each element consecutively\n  let i = elemsToAdd.length;\n  while (i--) {\n    let elem = elemsToAdd[i];\n    if (!elem) { continue; }\n    const bbox = utilsGetBBox(elem);\n    if (!bbox) { continue; }\n\n    if (elem.tagName === 'a' && elem.childNodes.length === 1) {\n      // Make \"a\" element's child be the selected element\n      elem = elem.firstChild;\n    }\n\n    // if it's not already there, add it\n    if (!selectedElements.includes(elem)) {\n      selectedElements[j] = elem;\n\n      // only the first selectedBBoxes element is ever used in the codebase these days\n      // if (j === 0) selectedBBoxes[0] = utilsGetBBox(elem);\n      j++;\n      const sel = selectorManager.requestSelector(elem, bbox);\n\n      if (selectedElements.length > 1) {\n        sel.showGrips(false);\n      }\n    }\n  }\n  if (!selectedElements.length) {\n    return;\n  }\n  call('selected', selectedElements);\n\n  if (selectedElements.length === 1) {\n    selectorManager.requestSelector(selectedElements[0]).showGrips(showGrips);\n  }\n\n  // make sure the elements are in the correct order\n  // See: https://www.w3.org/TR/DOM-Level-3-Core/core.html#Node3-compareDocumentPosition\n\n  selectedElements.sort(function (a, b) {\n    if (a && b && a.compareDocumentPosition) {\n      return 3 - (b.compareDocumentPosition(a) & 6); // eslint-disable-line no-bitwise\n    }\n    if (isNullish(a)) {\n      return 1;\n    }\n    return 0;\n  });\n\n  // Make sure first elements are not null\n  while (isNullish(selectedElements[0])) {\n    selectedElements.shift(0);\n  }\n};\n\n/**\n* @type {module:path.EditorContext#getOpacity}\n*/\nconst getOpacity = function () {\n  return curShape.opacity;\n};\n\n/**\n* @name module:svgcanvas.SvgCanvas#getMouseTarget\n* @type {module:path.EditorContext#getMouseTarget}\n*/\nconst getMouseTarget = this.getMouseTarget = function (evt) {\n  if (isNullish(evt)) {\n    return null;\n  }\n  let mouseTarget = evt.target;\n\n  // if it was a <use>, Opera and WebKit return the SVGElementInstance\n  if (mouseTarget.correspondingUseElement) { mouseTarget = mouseTarget.correspondingUseElement; }\n\n  // for foreign content, go up until we find the foreignObject\n  // WebKit browsers set the mouse target to the svgcanvas div\n  if ([NS.MATH, NS.HTML].includes(mouseTarget.namespaceURI) &&\n    mouseTarget.id !== 'svgcanvas'\n  ) {\n    while (mouseTarget.nodeName !== 'foreignObject') {\n      mouseTarget = mouseTarget.parentNode;\n      if (!mouseTarget) { return svgroot; }\n    }\n  }\n\n  // Get the desired mouseTarget with jQuery selector-fu\n  // If it's root-like, select the root\n  const currentLayer = getCurrentDrawing().getCurrentLayer();\n  if ([svgroot, container, svgcontent, currentLayer].includes(mouseTarget)) {\n    return svgroot;\n  }\n\n  const $target = $(mouseTarget);\n\n  // If it's a selection grip, return the grip parent\n  if ($target.closest('#selectorParentGroup').length) {\n    // While we could instead have just returned mouseTarget,\n    // this makes it easier to indentify as being a selector grip\n    return selectorManager.selectorParentGroup;\n  }\n\n  while (mouseTarget.parentNode !== (currentGroup || currentLayer)) {\n    mouseTarget = mouseTarget.parentNode;\n  }\n\n  //\n  // // go up until we hit a child of a layer\n  // while (mouseTarget.parentNode.parentNode.tagName == 'g') {\n  //   mouseTarget = mouseTarget.parentNode;\n  // }\n  // Webkit bubbles the mouse event all the way up to the div, so we\n  // set the mouseTarget to the svgroot like the other browsers\n  // if (mouseTarget.nodeName.toLowerCase() == 'div') {\n  //   mouseTarget = svgroot;\n  // }\n\n  return mouseTarget;\n};\n\n/**\n* @namespace {module:path.pathActions} pathActions\n* @memberof module:svgcanvas.SvgCanvas#\n* @see module:path.pathActions\n*/\ncanvas.pathActions = pathActions;\n/**\n* @type {module:path.EditorContext#resetD}\n*/\nfunction resetD (p) {\n  p.setAttribute('d', pathActions.convertPath(p));\n}\npathModule.init(\n  /**\n  * @implements {module:path.EditorContext}\n  */\n  {\n    selectorManager, // Ok since not changing\n    canvas, // Ok since not changing\n    call,\n    resetD,\n    round,\n    clearSelection,\n    addToSelection,\n    addCommandToHistory,\n    remapElement,\n    addSVGElementFromJson,\n    getGridSnapping,\n    getOpacity,\n    getSelectedElements,\n    getContainer () {\n      return container;\n    },\n    setStarted (s) {\n      started = s;\n    },\n    getRubberBox () {\n      return rubberBox;\n    },\n    setRubberBox (rb) {\n      rubberBox = rb;\n      return rubberBox;\n    },\n    /**\n     * @param {PlainObject} ptsInfo\n     * @param {boolean} ptsInfo.closedSubpath\n     * @param {SVGCircleElement[]} ptsInfo.grips\n     * @fires module:svgcanvas.SvgCanvas#event:pointsAdded\n     * @fires module:svgcanvas.SvgCanvas#event:selected\n     * @returns {void}\n     */\n    addPtsToSelection ({closedSubpath, grips}) {\n      // TODO: Correct this:\n      pathActions.canDeleteNodes = true;\n      pathActions.closed_subpath = closedSubpath;\n      call('pointsAdded', {closedSubpath, grips});\n      call('selected', grips);\n    },\n    /**\n     * @param {PlainObject} changes\n     * @param {ChangeElementCommand} changes.cmd\n     * @param {SVGPathElement} changes.elem\n     * @fires module:svgcanvas.SvgCanvas#event:changed\n     * @returns {void}\n     */\n    endChanges ({cmd, elem}) {\n      addCommandToHistory(cmd);\n      call('changed', [elem]);\n    },\n    getCurrentZoom,\n    getId,\n    getNextId,\n    getMouseTarget,\n    getCurrentMode () {\n      return currentMode;\n    },\n    setCurrentMode (cm) {\n      currentMode = cm;\n      return currentMode;\n    },\n    getDrawnPath () {\n      return drawnPath;\n    },\n    setDrawnPath (dp) {\n      drawnPath = dp;\n      return drawnPath;\n    },\n    getSVGRoot\n  }\n);\n\n// Interface strings, usually for title elements\nconst uiStrings = {};\n\nconst visElems = 'a,circle,ellipse,foreignObject,g,image,line,path,polygon,polyline,rect,svg,text,tspan,use';\nconst refAttrs = ['clip-path', 'fill', 'filter', 'marker-end', 'marker-mid', 'marker-start', 'mask', 'stroke'];\n\nconst elData = $.data;\n\n// Animation element to change the opacity of any newly created element\nconst opacAni = document.createElementNS(NS.SVG, 'animate');\n$(opacAni).attr({\n  attributeName: 'opacity',\n  begin: 'indefinite',\n  dur: 1,\n  fill: 'freeze'\n}).appendTo(svgroot);\n\nconst restoreRefElems = function (elem) {\n  // Look for missing reference elements, restore any found\n  const attrs = $(elem).attr(refAttrs);\n  Object.values(attrs).forEach((val) => {\n    if (val && val.startsWith('url(')) {\n      const id = getUrlFromAttr(val).substr(1);\n      const ref = getElem(id);\n      if (!ref) {\n        findDefs().append(removedElements[id]);\n        delete removedElements[id];\n      }\n    }\n  });\n\n  const childs = elem.getElementsByTagName('*');\n\n  if (childs.length) {\n    for (let i = 0, l = childs.length; i < l; i++) {\n      restoreRefElems(childs[i]);\n    }\n  }\n};\n\n// (function () {\n// TODO For Issue 208: this is a start on a thumbnail\n//  const svgthumb = svgdoc.createElementNS(NS.SVG, 'use');\n//  svgthumb.setAttribute('width', '100');\n//  svgthumb.setAttribute('height', '100');\n//  setHref(svgthumb, '#svgcontent');\n//  svgroot.append(svgthumb);\n// }());\n\n/**\n * @typedef {PlainObject} module:svgcanvas.SaveOptions\n * @property {boolean} apply\n * @property {\"embed\"} [image]\n * @property {Integer} round_digits\n */\n\n// Object to contain image data for raster images that were found encodable\nconst encodableImages = {},\n\n  // Object with save options\n  /**\n   * @type {module:svgcanvas.SaveOptions}\n   */\n  saveOptions = {round_digits: 5},\n\n  // Object with IDs for imported files, to see if one was already added\n  importIds = {},\n\n  // Current text style properties\n  curText = allProperties.text,\n\n  // Object to contain all included extensions\n  extensions = {},\n\n  // Map of deleted reference elements\n  removedElements = {};\n\nlet\n  // String with image URL of last loadable image\n  lastGoodImgUrl = curConfig.imgPath + 'logo.png',\n\n  // Boolean indicating whether or not a draw action has been started\n  started = false,\n\n  // String with an element's initial transform attribute value\n  startTransform = null,\n\n  // String indicating the current editor mode\n  currentMode = 'select',\n\n  // String with the current direction in which an element is being resized\n  currentResizeMode = 'none',\n\n  // Current general properties\n  curProperties = curShape,\n\n  // Array with selected elements' Bounding box object\n  // selectedBBoxes = new Array(1),\n\n  // The DOM element that was just selected\n  justSelected = null,\n\n  // DOM element for selection rectangle drawn by the user\n  rubberBox = null,\n\n  // Array of current BBoxes, used in getIntersectionList().\n  curBBoxes = [],\n\n  // Canvas point for the most recent right click\n  lastClickPoint = null;\n\nthis.runExtension = function (name, action, vars) {\n  return this.runExtensions(action, vars, false, (n) => n === name);\n};\n/**\n* @typedef {module:svgcanvas.ExtensionMouseDownStatus|module:svgcanvas.ExtensionMouseUpStatus|module:svgcanvas.ExtensionIDsUpdatedStatus|module:locale.ExtensionLocaleData[]|void} module:svgcanvas.ExtensionStatus\n* @tutorial ExtensionDocs\n*/\n/**\n* @callback module:svgcanvas.ExtensionVarBuilder\n* @param {string} name The name of the extension\n* @returns {module:svgcanvas.SvgCanvas#event:ext_addLangData}\n*/\n/**\n* @callback module:svgcanvas.ExtensionNameFilter\n* @param {string} name\n* @returns {boolean}\n*/\n/**\n* @todo Consider: Should this return an array by default, so extension results aren't overwritten?\n* @todo Would be easier to document if passing in object with key of action and vars as value; could then define an interface which tied both together\n* @function module:svgcanvas.SvgCanvas#runExtensions\n* @param {\"mouseDown\"|\"mouseMove\"|\"mouseUp\"|\"zoomChanged\"|\"IDsUpdated\"|\"canvasUpdated\"|\"toolButtonStateUpdate\"|\"selectedChanged\"|\"elementTransition\"|\"elementChanged\"|\"langReady\"|\"langChanged\"|\"addLangData\"|\"onNewDocument\"|\"workareaResized\"} action\n* @param {module:svgcanvas.SvgCanvas#event:ext_mouseDown|module:svgcanvas.SvgCanvas#event:ext_mouseMove|module:svgcanvas.SvgCanvas#event:ext_mouseUp|module:svgcanvas.SvgCanvas#event:ext_zoomChanged|module:svgcanvas.SvgCanvas#event:ext_IDsUpdated|module:svgcanvas.SvgCanvas#event:ext_canvasUpdated|module:svgcanvas.SvgCanvas#event:ext_toolButtonStateUpdate|module:svgcanvas.SvgCanvas#event:ext_selectedChanged|module:svgcanvas.SvgCanvas#event:ext_elementTransition|module:svgcanvas.SvgCanvas#event:ext_elementChanged|module:svgcanvas.SvgCanvas#event:ext_langReady|module:svgcanvas.SvgCanvas#event:ext_langChanged|module:svgcanvas.SvgCanvas#event:ext_addLangData|module:svgcanvas.SvgCanvas#event:ext_onNewDocument|module:svgcanvas.SvgCanvas#event:ext_workareaResized|module:svgcanvas.ExtensionVarBuilder} [vars]\n* @param {boolean} [returnArray]\n* @param {module:svgcanvas.ExtensionNameFilter} nameFilter\n* @returns {GenericArray<module:svgcanvas.ExtensionStatus>|module:svgcanvas.ExtensionStatus|false} See {@tutorial ExtensionDocs} on the ExtensionStatus.\n*/\nconst runExtensions = this.runExtensions = function (action, vars, returnArray, nameFilter) {\n  let result = returnArray ? [] : false;\n  $.each(extensions, function (name, ext) {\n    if (nameFilter && !nameFilter(name)) {\n      return;\n    }\n    if (ext && action in ext) {\n      if (typeof vars === 'function') {\n        vars = vars(name); // ext, action\n      }\n      if (returnArray) {\n        result.push(ext[action](vars));\n      } else {\n        result = ext[action](vars);\n      }\n    }\n  });\n  return result;\n};\n\n/**\n* @typedef {PlainObject} module:svgcanvas.ExtensionMouseDownStatus\n* @property {boolean} started Indicates that creating/editing has started\n*/\n/**\n* @typedef {PlainObject} module:svgcanvas.ExtensionMouseUpStatus\n* @property {boolean} keep Indicates if the current element should be kept\n* @property {boolean} started Indicates if editing should still be considered as \"started\"\n* @property {Element} element The element being affected\n*/\n/**\n* @typedef {PlainObject} module:svgcanvas.ExtensionIDsUpdatedStatus\n* @property {string[]} remove Contains string IDs (used by `ext-connector.js`)\n*/\n\n/**\n * @interface module:svgcanvas.ExtensionInitResponse\n * @property {module:SVGEditor.ContextTool[]|PlainObject<string, module:SVGEditor.ContextTool>} [context_tools]\n * @property {module:SVGEditor.Button[]|PlainObject<Integer, module:SVGEditor.Button>} [buttons]\n * @property {string} [svgicons] The location of a local SVG or SVGz file\n*/\n/**\n * @function module:svgcanvas.ExtensionInitResponse#mouseDown\n * @param {module:svgcanvas.SvgCanvas#event:ext_mouseDown} arg\n * @returns {void|module:svgcanvas.ExtensionMouseDownStatus}\n */\n/**\n * @function module:svgcanvas.ExtensionInitResponse#mouseMove\n * @param {module:svgcanvas.SvgCanvas#event:ext_mouseMove} arg\n * @returns {void}\n*/\n/**\n * @function module:svgcanvas.ExtensionInitResponse#mouseUp\n * @param {module:svgcanvas.SvgCanvas#event:ext_mouseUp} arg\n * @returns {module:svgcanvas.ExtensionMouseUpStatus}\n */\n/**\n * @function module:svgcanvas.ExtensionInitResponse#zoomChanged\n * @param {module:svgcanvas.SvgCanvas#event:ext_zoomChanged} arg\n * @returns {void}\n*/\n/**\n * @function module:svgcanvas.ExtensionInitResponse#IDsUpdated\n * @param {module:svgcanvas.SvgCanvas#event:ext_IDsUpdated} arg\n * @returns {module:svgcanvas.ExtensionIDsUpdatedStatus}\n */\n/**\n * @function module:svgcanvas.ExtensionInitResponse#canvasUpdated\n * @param {module:svgcanvas.SvgCanvas#event:ext_canvasUpdated} arg\n * @returns {void}\n*/\n/**\n * @function module:svgcanvas.ExtensionInitResponse#toolButtonStateUpdate\n * @param {module:svgcanvas.SvgCanvas#event:ext_toolButtonStateUpdate} arg\n * @returns {void}\n*/\n/**\n * @function module:svgcanvas.ExtensionInitResponse#selectedChanged\n * @param {module:svgcanvas.SvgCanvas#event:ext_selectedChanged} arg\n * @returns {void}\n*/\n/**\n * @function module:svgcanvas.ExtensionInitResponse#elementTransition\n * @param {module:svgcanvas.SvgCanvas#event:ext_elementTransition} arg\n * @returns {void}\n*/\n/**\n * @function module:svgcanvas.ExtensionInitResponse#elementChanged\n * @param {module:svgcanvas.SvgCanvas#event:ext_elementChanged} arg\n * @returns {void}\n*/\n/**\n * @function module:svgcanvas.ExtensionInitResponse#langReady\n * @param {module:svgcanvas.SvgCanvas#event:ext_langReady} arg\n * @returns {void}\n*/\n/**\n * @function module:svgcanvas.ExtensionInitResponse#langChanged\n * @param {module:svgcanvas.SvgCanvas#event:ext_langChanged} arg\n * @returns {void}\n*/\n/**\n * @function module:svgcanvas.ExtensionInitResponse#addLangData\n * @param {module:svgcanvas.SvgCanvas#event:ext_addLangData} arg\n * @returns {Promise<module:locale.ExtensionLocaleData>} Resolves to {@link module:locale.ExtensionLocaleData}\n*/\n/**\n * @function module:svgcanvas.ExtensionInitResponse#onNewDocument\n * @param {module:svgcanvas.SvgCanvas#event:ext_onNewDocument} arg\n * @returns {void}\n*/\n/**\n * @function module:svgcanvas.ExtensionInitResponse#workareaResized\n * @param {module:svgcanvas.SvgCanvas#event:ext_workareaResized} arg\n * @returns {void}\n*/\n/**\n * @function module:svgcanvas.ExtensionInitResponse#callback\n * @this module:SVGEditor\n * @param {module:svgcanvas.SvgCanvas#event:ext_callback} arg\n * @returns {void}\n*/\n\n/**\n* @callback module:svgcanvas.ExtensionInitCallback\n* @this module:SVGEditor\n* @param {module:svgcanvas.ExtensionArgumentObject} arg\n* @returns {Promise<module:svgcanvas.ExtensionInitResponse|void>} Resolves to [ExtensionInitResponse]{@link module:svgcanvas.ExtensionInitResponse} or `undefined`\n*/\n/**\n* @typedef {PlainObject} module:svgcanvas.ExtensionInitArgs\n* @property {external:jQuery} $\n* @property {module:SVGEditor~ImportLocale} importLocale\n*/\n/**\n* Add an extension to the editor.\n* @function module:svgcanvas.SvgCanvas#addExtension\n* @param {string} name - String with the ID of the extension. Used internally; no need for i18n.\n* @param {module:svgcanvas.ExtensionInitCallback} [extInitFunc] - Function supplied by the extension with its data\n* @param {module:svgcanvas.ExtensionInitArgs} initArgs\n* @fires module:svgcanvas.SvgCanvas#event:extension_added\n* @throws {TypeError|Error} `TypeError` if `extInitFunc` is not a function, `Error`\n*   if extension of supplied name already exists\n* @returns {Promise<void>} Resolves to `undefined`\n*/\nthis.addExtension = async function (name, extInitFunc, {$: jq, importLocale}) {\n  if (typeof extInitFunc !== 'function') {\n    throw new TypeError('Function argument expected for `svgcanvas.addExtension`');\n  }\n  if (name in extensions) {\n    throw new Error('Cannot add extension \"' + name + '\", an extension by that name already exists.');\n  }\n  // Provide private vars/funcs here. Is there a better way to do this?\n  /**\n   * @typedef {module:svgcanvas.PrivateMethods} module:svgcanvas.ExtensionArgumentObject\n   * @property {SVGSVGElement} svgroot See {@link module:svgcanvas~svgroot}\n   * @property {SVGSVGElement} svgcontent See {@link module:svgcanvas~svgcontent}\n   * @property {!(string|Integer)} nonce See {@link module:draw.Drawing#getNonce}\n   * @property {module:select.SelectorManager} selectorManager\n   * @property {module:SVGEditor~ImportLocale} importLocale\n   */\n  /**\n   * @type {module:svgcanvas.ExtensionArgumentObject}\n   * @see {@link module:svgcanvas.PrivateMethods} source for the other methods/properties\n   */\n  const argObj = $.extend(canvas.getPrivateMethods(), {\n    $: jq,\n    importLocale,\n    svgroot,\n    svgcontent,\n    nonce: getCurrentDrawing().getNonce(),\n    selectorManager\n  });\n  const extObj = await extInitFunc(argObj);\n  if (extObj) {\n    extObj.name = name;\n  }\n\n  extensions[name] = extObj;\n  return call('extension_added', extObj);\n};\n\n/**\n* This method sends back an array or a NodeList full of elements that\n* intersect the multi-select rubber-band-box on the currentLayer only.\n*\n* We brute-force `getIntersectionList` for browsers that do not support it (Firefox).\n*\n* Reference:\n* Firefox does not implement `getIntersectionList()`, see {@link https://bugzilla.mozilla.org/show_bug.cgi?id=501421}.\n* @function module:svgcanvas.SvgCanvas#getIntersectionList\n* @param {SVGRect} rect\n* @returns {Element[]|NodeList} Bbox elements\n*/\nconst getIntersectionList = this.getIntersectionList = function (rect) {\n  if (isNullish(rubberBox)) { return null; }\n\n  const parent = currentGroup || getCurrentDrawing().getCurrentLayer();\n\n  let rubberBBox;\n  if (!rect) {\n    rubberBBox = rubberBox.getBBox();\n    const bb = svgcontent.createSVGRect();\n\n    ['x', 'y', 'width', 'height', 'top', 'right', 'bottom', 'left'].forEach((o) => {\n      bb[o] = rubberBBox[o] / currentZoom;\n    });\n    rubberBBox = bb;\n  } else {\n    rubberBBox = svgcontent.createSVGRect();\n    rubberBBox.x = rect.x;\n    rubberBBox.y = rect.y;\n    rubberBBox.width = rect.width;\n    rubberBBox.height = rect.height;\n  }\n\n  let resultList = null;\n  if (!isIE()) {\n    if (typeof svgroot.getIntersectionList === 'function') {\n      // Offset the bbox of the rubber box by the offset of the svgcontent element.\n      rubberBBox.x += Number.parseInt(svgcontent.getAttribute('x'));\n      rubberBBox.y += Number.parseInt(svgcontent.getAttribute('y'));\n\n      resultList = svgroot.getIntersectionList(rubberBBox, parent);\n    }\n  }\n\n  if (isNullish(resultList) || typeof resultList.item !== 'function') {\n    resultList = [];\n\n    if (!curBBoxes.length) {\n      // Cache all bboxes\n      curBBoxes = getVisibleElementsAndBBoxes(parent);\n    }\n    let i = curBBoxes.length;\n    while (i--) {\n      if (!rubberBBox.width) { continue; }\n      if (rectsIntersect(rubberBBox, curBBoxes[i].bbox)) {\n        resultList.push(curBBoxes[i].elem);\n      }\n    }\n  }\n\n  // addToSelection expects an array, but it's ok to pass a NodeList\n  // because using square-bracket notation is allowed:\n  // https://www.w3.org/TR/DOM-Level-2-Core/ecma-script-binding.html\n  return resultList;\n};\n\nthis.getStrokedBBox = getStrokedBBoxDefaultVisible;\n\nthis.getVisibleElements = getVisibleElements;\n\n/**\n* @typedef {PlainObject} ElementAndBBox\n* @property {Element} elem - The element\n* @property {module:utilities.BBoxObject} bbox - The element's BBox as retrieved from `getStrokedBBoxDefaultVisible`\n*/\n\n/**\n* Get all elements that have a BBox (excludes `<defs>`, `<title>`, etc).\n* Note that 0-opacity, off-screen etc elements are still considered \"visible\"\n* for this function.\n* @function module:svgcanvas.SvgCanvas#getVisibleElementsAndBBoxes\n* @param {Element} parent - The parent DOM element to search within\n* @returns {ElementAndBBox[]} An array with objects that include:\n*/\nconst getVisibleElementsAndBBoxes = this.getVisibleElementsAndBBoxes = function (parent) {\n  if (!parent) {\n    parent = $(svgcontent).children(); // Prevent layers from being included\n  }\n  const contentElems = [];\n  $(parent).children().each(function (i, elem) {\n    if (elem.getBBox) {\n      contentElems.push({elem, bbox: getStrokedBBoxDefaultVisible([elem])});\n    }\n  });\n  return contentElems.reverse();\n};\n\n/**\n* Wrap an SVG element into a group element, mark the group as 'gsvg'.\n* @function module:svgcanvas.SvgCanvas#groupSvgElem\n* @param {Element} elem - SVG element to wrap\n* @returns {void}\n*/\nconst groupSvgElem = this.groupSvgElem = function (elem) {\n  const g = document.createElementNS(NS.SVG, 'g');\n  elem.replaceWith(g);\n  $(g).append(elem).data('gsvg', elem)[0].id = getNextId();\n};\n\n// Set scope for these functions\n\n// Object to contain editor event names and callback functions\nconst events = {};\n\ncanvas.call = call;\n/**\n * Array of what was changed (elements, layers).\n * @event module:svgcanvas.SvgCanvas#event:changed\n * @type {Element[]}\n */\n/**\n * Array of selected elements.\n * @event module:svgcanvas.SvgCanvas#event:selected\n * @type {Element[]}\n */\n/**\n * Array of selected elements.\n * @event module:svgcanvas.SvgCanvas#event:transition\n * @type {Element[]}\n */\n/**\n * The Element is always `SVGGElement`?\n * If not `null`, will be the set current group element.\n * @event module:svgcanvas.SvgCanvas#event:contextset\n * @type {null|Element}\n */\n/**\n * @event module:svgcanvas.SvgCanvas#event:pointsAdded\n * @type {PlainObject}\n * @property {boolean} closedSubpath\n * @property {SVGCircleElement[]} grips Grips elements\n */\n\n/**\n * @event module:svgcanvas.SvgCanvas#event:zoomed\n * @type {PlainObject}\n * @property {Float} x\n * @property {Float} y\n * @property {Float} width\n * @property {Float} height\n * @property {0.5|2} factor\n * @see module:SVGEditor.BBoxObjectWithFactor\n */\n/**\n * @event module:svgcanvas.SvgCanvas#event:updateCanvas\n * @type {PlainObject}\n * @property {false} center\n * @property {module:math.XYObject} newCtr\n */\n/**\n * @typedef {PlainObject} module:svgcanvas.ExtensionInitResponsePlusName\n * @implements {module:svgcanvas.ExtensionInitResponse}\n * @property {string} name The extension's resolved ID (whether explicit or based on file name)\n */\n/**\n * Generalized extension object response of\n * [`init()`]{@link module:svgcanvas.ExtensionInitCallback}\n * along with the name of the extension.\n * @event module:svgcanvas.SvgCanvas#event:extension_added\n * @type {module:svgcanvas.ExtensionInitResponsePlusName|void}\n */\n/**\n * @event module:svgcanvas.SvgCanvas#event:extensions_added\n * @type {void}\n*/\n/**\n * @typedef {PlainObject} module:svgcanvas.Message\n * @property {any} data The data\n * @property {string} origin The origin\n */\n/**\n * @event module:svgcanvas.SvgCanvas#event:message\n * @type {module:svgcanvas.Message}\n */\n/**\n * SVG canvas converted to string.\n * @event module:svgcanvas.SvgCanvas#event:saved\n * @type {string}\n */\n/**\n * @event module:svgcanvas.SvgCanvas#event:setnonce\n * @type {!(string|Integer)}\n */\n/**\n * @event module:svgcanvas.SvgCanvas#event:unsetnonce\n * @type {void}\n */\n/**\n * @event module:svgcanvas.SvgCanvas#event:zoomDone\n * @type {void}\n*/\n/**\n * @event module:svgcanvas.SvgCanvas#event:cleared\n * @type {void}\n*/\n\n/**\n * @event module:svgcanvas.SvgCanvas#event:exported\n * @type {module:svgcanvas.ImageExportedResults}\n */\n/**\n * @event module:svgcanvas.SvgCanvas#event:exportedPDF\n * @type {module:svgcanvas.PDFExportedResults}\n */\n/**\n * Creating a cover-all class until {@link https://github.com/jsdoc3/jsdoc/issues/1545} may be supported.\n * `undefined` may be returned by {@link module:svgcanvas.SvgCanvas#event:extension_added} if the extension's `init` returns `undefined` It is also the type for the following events \"zoomDone\", \"unsetnonce\", \"cleared\", and \"extensions_added\".\n * @event module:svgcanvas.SvgCanvas#event:GenericCanvasEvent\n * @type {module:svgcanvas.SvgCanvas#event:selected|module:svgcanvas.SvgCanvas#event:changed|module:svgcanvas.SvgCanvas#event:contextset|module:svgcanvas.SvgCanvas#event:pointsAdded|module:svgcanvas.SvgCanvas#event:extension_added|module:svgcanvas.SvgCanvas#event:extensions_added|module:svgcanvas.SvgCanvas#event:message|module:svgcanvas.SvgCanvas#event:transition|module:svgcanvas.SvgCanvas#event:zoomed|module:svgcanvas.SvgCanvas#event:updateCanvas|module:svgcanvas.SvgCanvas#event:saved|module:svgcanvas.SvgCanvas#event:exported|module:svgcanvas.SvgCanvas#event:exportedPDF|module:svgcanvas.SvgCanvas#event:setnonce|module:svgcanvas.SvgCanvas#event:unsetnonce|void}\n */\n\n/**\n * The promise return, if present, resolves to `undefined`\n *  (`extension_added`, `exported`, `saved`).\n * @typedef {Promise<void>|void} module:svgcanvas.EventHandlerReturn\n*/\n\n/**\n* @callback module:svgcanvas.EventHandler\n* @param {external:Window} win\n* @param {module:svgcanvas.SvgCanvas#event:GenericCanvasEvent} arg\n* @listens module:svgcanvas.SvgCanvas#event:GenericCanvasEvent\n* @returns {module:svgcanvas.EventHandlerReturn}\n*/\n\n/**\n* Attaches a callback function to an event.\n* @function module:svgcanvas.SvgCanvas#bind\n* @param {\"changed\"|\"contextset\"|\"selected\"|\"pointsAdded\"|\"extension_added\"|\"extensions_added\"|\"message\"|\"transition\"|\"zoomed\"|\"updateCanvas\"|\"zoomDone\"|\"saved\"|\"exported\"|\"exportedPDF\"|\"setnonce\"|\"unsetnonce\"|\"cleared\"} ev - String indicating the name of the event\n* @param {module:svgcanvas.EventHandler} f - The callback function to bind to the event\n* @returns {module:svgcanvas.EventHandler} The previous event\n*/\ncanvas.bind = function (ev, f) {\n  const old = events[ev];\n  events[ev] = f;\n  return old;\n};\n\n/**\n* Runs the SVG Document through the sanitizer and then updates its paths.\n* @function module:svgcanvas.SvgCanvas#prepareSvg\n* @param {XMLDocument} newDoc - The SVG DOM document\n* @returns {void}\n*/\nthis.prepareSvg = function (newDoc) {\n  this.sanitizeSvg(newDoc.documentElement);\n\n  // convert paths into absolute commands\n  const paths = [...newDoc.getElementsByTagNameNS(NS.SVG, 'path')];\n  paths.forEach((path) => {\n    path.setAttribute('d', pathActions.convertPath(path));\n    pathActions.fixEnd(path);\n  });\n};\n\n/**\n* Hack for Firefox bugs where text element features aren't updated or get\n* messed up. See issue 136 and issue 137.\n* This function clones the element and re-selects it.\n* @function module:svgcanvas~ffClone\n* @todo Test for this bug on load and add it to \"support\" object instead of\n* browser sniffing\n* @param {Element} elem - The (text) DOM element to clone\n* @returns {Element} Cloned element\n*/\nconst ffClone = function (elem) {\n  if (!isGecko()) { return elem; }\n  const clone = elem.cloneNode(true);\n  elem.before(clone);\n  elem.remove();\n  selectorManager.releaseSelector(elem);\n  selectedElements[0] = clone;\n  selectorManager.requestSelector(clone).showGrips(true);\n  return clone;\n};\n\n// `this.each` is deprecated, if any extension used this it can be recreated by doing this:\n// * @example $(canvas.getRootElem()).children().each(...)\n// * @function module:svgcanvas.SvgCanvas#each\n// this.each = function (cb) {\n//  $(svgroot).children().each(cb);\n// };\n\n/**\n* Removes any old rotations if present, prepends a new rotation at the\n* transformed center.\n* @function module:svgcanvas.SvgCanvas#setRotationAngle\n* @param {string|Float} val - The new rotation angle in degrees\n* @param {boolean} preventUndo - Indicates whether the action should be undoable or not\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {void}\n*/\nthis.setRotationAngle = function (val, preventUndo) {\n  // ensure val is the proper type\n  val = Number.parseFloat(val);\n  const elem = selectedElements[0];\n  const oldTransform = elem.getAttribute('transform');\n  const bbox = utilsGetBBox(elem);\n  const cx = bbox.x + bbox.width / 2, cy = bbox.y + bbox.height / 2;\n  const tlist = getTransformList(elem);\n\n  // only remove the real rotational transform if present (i.e. at index=0)\n  if (tlist.numberOfItems > 0) {\n    const xform = tlist.getItem(0);\n    if (xform.type === 4) {\n      tlist.removeItem(0);\n    }\n  }\n  // find Rnc and insert it\n  if (val !== 0) {\n    const center = transformPoint(cx, cy, transformListToTransform(tlist).matrix);\n    const Rnc = svgroot.createSVGTransform();\n    Rnc.setRotate(val, center.x, center.y);\n    if (tlist.numberOfItems) {\n      tlist.insertItemBefore(Rnc, 0);\n    } else {\n      tlist.appendItem(Rnc);\n    }\n  } else if (tlist.numberOfItems === 0) {\n    elem.removeAttribute('transform');\n  }\n\n  if (!preventUndo) {\n    // we need to undo it, then redo it so it can be undo-able! :)\n    // TODO: figure out how to make changes to transform list undo-able cross-browser?\n    const newTransform = elem.getAttribute('transform');\n    elem.setAttribute('transform', oldTransform);\n    changeSelectedAttribute('transform', newTransform, selectedElements);\n    call('changed', selectedElements);\n  }\n  // const pointGripContainer = getElem('pathpointgrip_container');\n  // if (elem.nodeName === 'path' && pointGripContainer) {\n  //   pathActions.setPointContainerTransform(elem.getAttribute('transform'));\n  // }\n  const selector = selectorManager.requestSelector(selectedElements[0]);\n  selector.resize();\n  Selector.updateGripCursors(val);\n};\n\n/**\n* Runs `recalculateDimensions` on the selected elements,\n* adding the changes to a single batch command.\n* @function module:svgcanvas.SvgCanvas#recalculateAllSelectedDimensions\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {void}\n*/\nconst recalculateAllSelectedDimensions = this.recalculateAllSelectedDimensions = function () {\n  const text = (currentResizeMode === 'none' ? 'position' : 'size');\n  const batchCmd = new BatchCommand(text);\n\n  let i = selectedElements.length;\n  while (i--) {\n    const elem = selectedElements[i];\n    // if (getRotationAngle(elem) && !hasMatrixTransform(getTransformList(elem))) { continue; }\n    const cmd = recalculateDimensions(elem);\n    if (cmd) {\n      batchCmd.addSubCommand(cmd);\n    }\n  }\n\n  if (!batchCmd.isEmpty()) {\n    addCommandToHistory(batchCmd);\n    call('changed', selectedElements);\n  }\n};\n\n/**\n * Debug tool to easily see the current matrix in the browser's console.\n * @function module:svgcanvas~logMatrix\n * @param {SVGMatrix} m The matrix\n * @returns {void}\n */\nconst logMatrix = function (m) {\n  console.log([m.a, m.b, m.c, m.d, m.e, m.f]); // eslint-disable-line no-console\n};\n\n// Root Current Transformation Matrix in user units\nlet rootSctm = null;\n\n/**\n* Group: Selection.\n*/\n\n// TODO: do we need to worry about selectedBBoxes here?\n\n/**\n* Selects only the given elements, shortcut for `clearSelection(); addToSelection()`.\n* @function module:svgcanvas.SvgCanvas#selectOnly\n* @param {Element[]} elems - an array of DOM elements to be selected\n* @param {boolean} showGrips - Indicates whether the resize grips should be shown\n* @returns {void}\n*/\nconst selectOnly = this.selectOnly = function (elems, showGrips) {\n  clearSelection(true);\n  addToSelection(elems, showGrips);\n};\n\n// TODO: could use slice here to make this faster?\n// TODO: should the 'selected' handler\n\n/**\n* Removes elements from the selection.\n* @function module:svgcanvas.SvgCanvas#removeFromSelection\n* @param {Element[]} elemsToRemove - An array of elements to remove from selection\n* @returns {void}\n*/\n/* const removeFromSelection = */ this.removeFromSelection = function (elemsToRemove) {\n  if (isNullish(selectedElements[0])) { return; }\n  if (!elemsToRemove.length) { return; }\n\n  // find every element and remove it from our array copy\n  const newSelectedItems = [],\n    len = selectedElements.length;\n  for (let i = 0; i < len; ++i) {\n    const elem = selectedElements[i];\n    if (elem) {\n      // keep the item\n      if (!elemsToRemove.includes(elem)) {\n        newSelectedItems.push(elem);\n      } else { // remove the item and its selector\n        selectorManager.releaseSelector(elem);\n      }\n    }\n  }\n  // the copy becomes the master now\n  selectedElements = newSelectedItems;\n};\n\n/**\n* Clears the selection, then adds all elements in the current layer to the selection.\n* @function module:svgcanvas.SvgCanvas#selectAllInCurrentLayer\n* @returns {void}\n*/\nthis.selectAllInCurrentLayer = function () {\n  const currentLayer = getCurrentDrawing().getCurrentLayer();\n  if (currentLayer) {\n    currentMode = 'select';\n    selectOnly($(currentGroup || currentLayer).children());\n  }\n};\n\nlet drawnPath = null;\n\n// Mouse events\n(function () {\nconst freehand = {\n  minx: null,\n  miny: null,\n  maxx: null,\n  maxy: null\n};\nconst THRESHOLD_DIST = 0.8,\n  STEP_COUNT = 10;\nlet dAttr = null,\n  startX = null,\n  startY = null,\n  rStartX = null,\n  rStartY = null,\n  initBbox = {},\n  sumDistance = 0,\n  controllPoint2 = {x: 0, y: 0},\n  controllPoint1 = {x: 0, y: 0},\n  start = {x: 0, y: 0},\n  end = {x: 0, y: 0},\n  bSpline = {x: 0, y: 0},\n  nextPos = {x: 0, y: 0},\n  parameter,\n  nextParameter;\n\nconst getBsplinePoint = function (t) {\n  const spline = {x: 0, y: 0},\n    p0 = controllPoint2,\n    p1 = controllPoint1,\n    p2 = start,\n    p3 = end,\n    S = 1.0 / 6.0,\n    t2 = t * t,\n    t3 = t2 * t;\n\n  const m = [\n    [-1, 3, -3, 1],\n    [3, -6, 3, 0],\n    [-3, 0, 3, 0],\n    [1, 4, 1, 0]\n  ];\n\n  spline.x = S * (\n    (p0.x * m[0][0] + p1.x * m[0][1] + p2.x * m[0][2] + p3.x * m[0][3]) * t3 +\n      (p0.x * m[1][0] + p1.x * m[1][1] + p2.x * m[1][2] + p3.x * m[1][3]) * t2 +\n      (p0.x * m[2][0] + p1.x * m[2][1] + p2.x * m[2][2] + p3.x * m[2][3]) * t +\n      (p0.x * m[3][0] + p1.x * m[3][1] + p2.x * m[3][2] + p3.x * m[3][3])\n  );\n  spline.y = S * (\n    (p0.y * m[0][0] + p1.y * m[0][1] + p2.y * m[0][2] + p3.y * m[0][3]) * t3 +\n      (p0.y * m[1][0] + p1.y * m[1][1] + p2.y * m[1][2] + p3.y * m[1][3]) * t2 +\n      (p0.y * m[2][0] + p1.y * m[2][1] + p2.y * m[2][2] + p3.y * m[2][3]) * t +\n      (p0.y * m[3][0] + p1.y * m[3][1] + p2.y * m[3][2] + p3.y * m[3][3])\n  );\n\n  return {\n    x: spline.x,\n    y: spline.y\n  };\n};\n/**\n * Follows these conditions:\n * - When we are in a create mode, the element is added to the canvas but the\n *   action is not recorded until mousing up.\n * - When we are in select mode, select the element, remember the position\n *   and do nothing else.\n * @param {MouseEvent} evt\n * @fires module:svgcanvas.SvgCanvas#event:ext_mouseDown\n * @returns {void}\n */\nconst mouseDown = function (evt) {\n  if (canvas.spaceKey || evt.button === 1) { return; }\n\n  const rightClick = evt.button === 2;\n\n  if (evt.altKey) { // duplicate when dragging\n    canvas.cloneSelectedElements(0, 0);\n  }\n\n  rootSctm = $('#svgcontent g')[0].getScreenCTM().inverse();\n\n  const pt = transformPoint(evt.pageX, evt.pageY, rootSctm),\n    mouseX = pt.x * currentZoom,\n    mouseY = pt.y * currentZoom;\n\n  evt.preventDefault();\n\n  if (rightClick) {\n    currentMode = 'select';\n    lastClickPoint = pt;\n  }\n\n  // This would seem to be unnecessary...\n  // if (!['select', 'resize'].includes(currentMode)) {\n  //   setGradient();\n  // }\n\n  let x = mouseX / currentZoom,\n    y = mouseY / currentZoom;\n  let mouseTarget = getMouseTarget(evt);\n\n  if (mouseTarget.tagName === 'a' && mouseTarget.childNodes.length === 1) {\n    mouseTarget = mouseTarget.firstChild;\n  }\n\n  // realX/y ignores grid-snap value\n  const realX = x;\n  rStartX = startX = x;\n  const realY = y;\n  rStartY = startY = y;\n\n  if (curConfig.gridSnapping) {\n    x = snapToGrid(x);\n    y = snapToGrid(y);\n    startX = snapToGrid(startX);\n    startY = snapToGrid(startY);\n  }\n\n  // if it is a selector grip, then it must be a single element selected,\n  // set the mouseTarget to that and update the mode to rotate/resize\n\n  if (mouseTarget === selectorManager.selectorParentGroup && !isNullish(selectedElements[0])) {\n    const grip = evt.target;\n    const griptype = elData(grip, 'type');\n    // rotating\n    if (griptype === 'rotate') {\n      currentMode = 'rotate';\n    // resizing\n    } else if (griptype === 'resize') {\n      currentMode = 'resize';\n      currentResizeMode = elData(grip, 'dir');\n    }\n    mouseTarget = selectedElements[0];\n  }\n\n  startTransform = mouseTarget.getAttribute('transform');\n\n  const tlist = getTransformList(mouseTarget);\n  switch (currentMode) {\n  case 'select':\n    started = true;\n    currentResizeMode = 'none';\n    if (rightClick) { started = false; }\n\n    if (mouseTarget !== svgroot) {\n      // if this element is not yet selected, clear selection and select it\n      if (!selectedElements.includes(mouseTarget)) {\n        // only clear selection if shift is not pressed (otherwise, add\n        // element to selection)\n        if (!evt.shiftKey) {\n          // No need to do the call here as it will be done on addToSelection\n          clearSelection(true);\n        }\n        addToSelection([mouseTarget]);\n        justSelected = mouseTarget;\n        pathActions.clear();\n      }\n      // else if it's a path, go into pathedit mode in mouseup\n\n      if (!rightClick) {\n        // insert a dummy transform so if the element(s) are moved it will have\n        // a transform to use for its translate\n        for (const selectedElement of selectedElements) {\n          if (isNullish(selectedElement)) { continue; }\n          const slist = getTransformList(selectedElement);\n          if (slist.numberOfItems) {\n            slist.insertItemBefore(svgroot.createSVGTransform(), 0);\n          } else {\n            slist.appendItem(svgroot.createSVGTransform());\n          }\n        }\n      }\n    } else if (!rightClick) {\n      clearSelection();\n      currentMode = 'multiselect';\n      if (isNullish(rubberBox)) {\n        rubberBox = selectorManager.getRubberBandBox();\n      }\n      rStartX *= currentZoom;\n      rStartY *= currentZoom;\n      // console.log('p',[evt.pageX, evt.pageY]);\n      // console.log('c',[evt.clientX, evt.clientY]);\n      // console.log('o',[evt.offsetX, evt.offsetY]);\n      // console.log('s',[startX, startY]);\n\n      assignAttributes(rubberBox, {\n        x: rStartX,\n        y: rStartY,\n        width: 0,\n        height: 0,\n        display: 'inline'\n      }, 100);\n    }\n    break;\n  case 'zoom':\n    started = true;\n    if (isNullish(rubberBox)) {\n      rubberBox = selectorManager.getRubberBandBox();\n    }\n    assignAttributes(rubberBox, {\n      x: realX * currentZoom,\n      y: realX * currentZoom,\n      width: 0,\n      height: 0,\n      display: 'inline'\n    }, 100);\n    break;\n  case 'resize': {\n    started = true;\n    startX = x;\n    startY = y;\n\n    // Getting the BBox from the selection box, since we know we\n    // want to orient around it\n    initBbox = utilsGetBBox($('#selectedBox0')[0]);\n    const bb = {};\n    $.each(initBbox, function (key, val) {\n      bb[key] = val / currentZoom;\n    });\n    initBbox = bb;\n\n    // append three dummy transforms to the tlist so that\n    // we can translate,scale,translate in mousemove\n    const pos = getRotationAngle(mouseTarget) ? 1 : 0;\n\n    if (hasMatrixTransform(tlist)) {\n      tlist.insertItemBefore(svgroot.createSVGTransform(), pos);\n      tlist.insertItemBefore(svgroot.createSVGTransform(), pos);\n      tlist.insertItemBefore(svgroot.createSVGTransform(), pos);\n    } else {\n      tlist.appendItem(svgroot.createSVGTransform());\n      tlist.appendItem(svgroot.createSVGTransform());\n      tlist.appendItem(svgroot.createSVGTransform());\n\n      if (supportsNonScalingStroke()) {\n        // Handle crash for newer Chrome and Safari 6 (Mobile and Desktop):\n        // https://code.google.com/p/svg-edit/issues/detail?id=904\n        // Chromium issue: https://code.google.com/p/chromium/issues/detail?id=114625\n        // TODO: Remove this workaround once vendor fixes the issue\n        const iswebkit = isWebkit();\n\n        let delayedStroke;\n        if (iswebkit) {\n          delayedStroke = function (ele) {\n            const stroke_ = ele.getAttribute('stroke');\n            ele.removeAttribute('stroke');\n            // Re-apply stroke after delay. Anything higher than 1 seems to cause flicker\n            if (stroke_ !== null) setTimeout(function () { ele.setAttribute('stroke', stroke_); }, 0);\n          };\n        }\n        mouseTarget.style.vectorEffect = 'non-scaling-stroke';\n        if (iswebkit) { delayedStroke(mouseTarget); }\n\n        const all = mouseTarget.getElementsByTagName('*'),\n          len = all.length;\n        for (let i = 0; i < len; i++) {\n          if (!all[i].style) { // mathML\n            continue;\n          }\n          all[i].style.vectorEffect = 'non-scaling-stroke';\n          if (iswebkit) { delayedStroke(all[i]); }\n        }\n      }\n    }\n    break;\n  }\n  case 'fhellipse':\n  case 'fhrect':\n  case 'fhpath':\n    start.x = realX;\n    start.y = realY;\n    controllPoint1 = {x: 0, y: 0};\n    controllPoint2 = {x: 0, y: 0};\n    started = true;\n    dAttr = realX + ',' + realY + ' ';\n    // Commented out as doing nothing now:\n    // strokeW = parseFloat(curShape.stroke_width) === 0 ? 1 : curShape.stroke_width;\n    addSVGElementFromJson({\n      element: 'polyline',\n      curStyles: true,\n      attr: {\n        points: dAttr,\n        id: getNextId(),\n        fill: 'none',\n        opacity: curShape.opacity / 2,\n        'stroke-linecap': 'round',\n        style: 'pointer-events:none'\n      }\n    });\n    freehand.minx = realX;\n    freehand.maxx = realX;\n    freehand.miny = realY;\n    freehand.maxy = realY;\n    break;\n  case 'image': {\n    started = true;\n    const newImage = addSVGElementFromJson({\n      element: 'image',\n      attr: {\n        x,\n        y,\n        width: 0,\n        height: 0,\n        id: getNextId(),\n        opacity: curShape.opacity / 2,\n        style: 'pointer-events:inherit'\n      }\n    });\n    setHref(newImage, lastGoodImgUrl);\n    preventClickDefault(newImage);\n    break;\n  } case 'square':\n    // TODO: once we create the rect, we lose information that this was a square\n    // (for resizing purposes this could be important)\n    // Fallthrough\n  case 'rect':\n    started = true;\n    startX = x;\n    startY = y;\n    addSVGElementFromJson({\n      element: 'rect',\n      curStyles: true,\n      attr: {\n        x,\n        y,\n        width: 0,\n        height: 0,\n        id: getNextId(),\n        opacity: curShape.opacity / 2\n      }\n    });\n    break;\n  case 'line': {\n    started = true;\n    const strokeW = Number(curShape.stroke_width) === 0 ? 1 : curShape.stroke_width;\n    addSVGElementFromJson({\n      element: 'line',\n      curStyles: true,\n      attr: {\n        x1: x,\n        y1: y,\n        x2: x,\n        y2: y,\n        id: getNextId(),\n        stroke: curShape.stroke,\n        'stroke-width': strokeW,\n        'stroke-dasharray': curShape.stroke_dasharray,\n        'stroke-linejoin': curShape.stroke_linejoin,\n        'stroke-linecap': curShape.stroke_linecap,\n        'stroke-opacity': curShape.stroke_opacity,\n        fill: 'none',\n        opacity: curShape.opacity / 2,\n        style: 'pointer-events:none'\n      }\n    });\n    break;\n  } case 'circle':\n    started = true;\n    addSVGElementFromJson({\n      element: 'circle',\n      curStyles: true,\n      attr: {\n        cx: x,\n        cy: y,\n        r: 0,\n        id: getNextId(),\n        opacity: curShape.opacity / 2\n      }\n    });\n    break;\n  case 'ellipse':\n    started = true;\n    addSVGElementFromJson({\n      element: 'ellipse',\n      curStyles: true,\n      attr: {\n        cx: x,\n        cy: y,\n        rx: 0,\n        ry: 0,\n        id: getNextId(),\n        opacity: curShape.opacity / 2\n      }\n    });\n    break;\n  case 'text':\n    started = true;\n    /* const newText = */ addSVGElementFromJson({\n      element: 'text',\n      curStyles: true,\n      attr: {\n        x,\n        y,\n        id: getNextId(),\n        fill: curText.fill,\n        'stroke-width': curText.stroke_width,\n        'font-size': curText.font_size,\n        'font-family': curText.font_family,\n        'text-anchor': 'middle',\n        'xml:space': 'preserve',\n        opacity: curShape.opacity\n      }\n    });\n    // newText.textContent = 'text';\n    break;\n  case 'path':\n    // Fall through\n  case 'pathedit':\n    startX *= currentZoom;\n    startY *= currentZoom;\n    pathActions.mouseDown(evt, mouseTarget, startX, startY);\n    started = true;\n    break;\n  case 'textedit':\n    startX *= currentZoom;\n    startY *= currentZoom;\n    textActions.mouseDown(evt, mouseTarget, startX, startY);\n    started = true;\n    break;\n  case 'rotate':\n    started = true;\n    // we are starting an undoable change (a drag-rotation)\n    canvas.undoMgr.beginUndoableChange('transform', selectedElements);\n    break;\n  default:\n    // This could occur in an extension\n    break;\n  }\n\n  /**\n   * The main (left) mouse button is held down on the canvas area.\n   * @event module:svgcanvas.SvgCanvas#event:ext_mouseDown\n   * @type {PlainObject}\n   * @property {MouseEvent} event The event object\n   * @property {Float} start_x x coordinate on canvas\n   * @property {Float} start_y y coordinate on canvas\n   * @property {Element[]} selectedElements An array of the selected Elements\n  */\n  const extResult = runExtensions('mouseDown', /** @type {module:svgcanvas.SvgCanvas#event:ext_mouseDown} */ {\n    event: evt,\n    start_x: startX,\n    start_y: startY,\n    selectedElements\n  }, true);\n\n  $.each(extResult, function (i, r) {\n    if (r && r.started) {\n      started = true;\n    }\n  });\n};\n\n// in this function we do not record any state changes yet (but we do update\n// any elements that are still being created, moved or resized on the canvas)\n/**\n *\n * @param {MouseEvent} evt\n * @fires module:svgcanvas.SvgCanvas#event:transition\n * @fires module:svgcanvas.SvgCanvas#event:ext_mouseMove\n * @returns {void}\n */\nconst mouseMove = function (evt) {\n  if (!started) { return; }\n  if (evt.button === 1 || canvas.spaceKey) { return; }\n\n  let i, xya, c, cx, cy, dx, dy, len, angle, box,\n    selected = selectedElements[0];\n  const\n    pt = transformPoint(evt.pageX, evt.pageY, rootSctm),\n    mouseX = pt.x * currentZoom,\n    mouseY = pt.y * currentZoom,\n    shape = getElem(getId());\n\n  let realX = mouseX / currentZoom;\n  let x = realX;\n  let realY = mouseY / currentZoom;\n  let y = realY;\n\n  if (curConfig.gridSnapping) {\n    x = snapToGrid(x);\n    y = snapToGrid(y);\n  }\n\n  evt.preventDefault();\n  let tlist;\n  switch (currentMode) {\n  case 'select': {\n    // we temporarily use a translate on the element(s) being dragged\n    // this transform is removed upon mousing up and the element is\n    // relocated to the new location\n    if (selectedElements[0] !== null) {\n      dx = x - startX;\n      dy = y - startY;\n\n      if (curConfig.gridSnapping) {\n        dx = snapToGrid(dx);\n        dy = snapToGrid(dy);\n      }\n\n      /*\n      // Commenting out as currently has no effect\n      if (evt.shiftKey) {\n        xya = snapToAngle(startX, startY, x, y);\n        ({x, y} = xya);\n      }\n      */\n\n      if (dx !== 0 || dy !== 0) {\n        len = selectedElements.length;\n        for (i = 0; i < len; ++i) {\n          selected = selectedElements[i];\n          if (isNullish(selected)) { break; }\n          // if (i === 0) {\n          //   const box = utilsGetBBox(selected);\n          //     selectedBBoxes[i].x = box.x + dx;\n          //     selectedBBoxes[i].y = box.y + dy;\n          // }\n\n          // update the dummy transform in our transform list\n          // to be a translate\n          const xform = svgroot.createSVGTransform();\n          tlist = getTransformList(selected);\n          // Note that if Webkit and there's no ID for this\n          // element, the dummy transform may have gotten lost.\n          // This results in unexpected behaviour\n\n          xform.setTranslate(dx, dy);\n          if (tlist.numberOfItems) {\n            tlist.replaceItem(xform, 0);\n          } else {\n            tlist.appendItem(xform);\n          }\n\n          // update our internal bbox that we're tracking while dragging\n          selectorManager.requestSelector(selected).resize();\n        }\n\n        call('transition', selectedElements);\n      }\n    }\n    break;\n  } case 'multiselect': {\n    realX *= currentZoom;\n    realY *= currentZoom;\n    assignAttributes(rubberBox, {\n      x: Math.min(rStartX, realX),\n      y: Math.min(rStartY, realY),\n      width: Math.abs(realX - rStartX),\n      height: Math.abs(realY - rStartY)\n    }, 100);\n\n    // for each selected:\n    // - if newList contains selected, do nothing\n    // - if newList doesn't contain selected, remove it from selected\n    // - for any newList that was not in selectedElements, add it to selected\n    const elemsToRemove = selectedElements.slice(), elemsToAdd = [],\n      newList = getIntersectionList();\n\n    // For every element in the intersection, add if not present in selectedElements.\n    len = newList.length;\n    for (i = 0; i < len; ++i) {\n      const intElem = newList[i];\n      // Found an element that was not selected before, so we should add it.\n      if (!selectedElements.includes(intElem)) {\n        elemsToAdd.push(intElem);\n      }\n      // Found an element that was already selected, so we shouldn't remove it.\n      const foundInd = elemsToRemove.indexOf(intElem);\n      if (foundInd !== -1) {\n        elemsToRemove.splice(foundInd, 1);\n      }\n    }\n\n    if (elemsToRemove.length > 0) {\n      canvas.removeFromSelection(elemsToRemove);\n    }\n\n    if (elemsToAdd.length > 0) {\n      canvas.addToSelection(elemsToAdd);\n    }\n\n    break;\n  } case 'resize': {\n    // we track the resize bounding box and translate/scale the selected element\n    // while the mouse is down, when mouse goes up, we use this to recalculate\n    // the shape's coordinates\n    tlist = getTransformList(selected);\n    const hasMatrix = hasMatrixTransform(tlist);\n    box = hasMatrix ? initBbox : utilsGetBBox(selected);\n    let left = box.x,\n      top = box.y,\n      {width, height} = box;\n    dx = (x - startX);\n    dy = (y - startY);\n\n    if (curConfig.gridSnapping) {\n      dx = snapToGrid(dx);\n      dy = snapToGrid(dy);\n      height = snapToGrid(height);\n      width = snapToGrid(width);\n    }\n\n    // if rotated, adjust the dx,dy values\n    angle = getRotationAngle(selected);\n    if (angle) {\n      const r = Math.sqrt(dx * dx + dy * dy),\n        theta = Math.atan2(dy, dx) - angle * Math.PI / 180.0;\n      dx = r * Math.cos(theta);\n      dy = r * Math.sin(theta);\n    }\n\n    // if not stretching in y direction, set dy to 0\n    // if not stretching in x direction, set dx to 0\n    if (!currentResizeMode.includes('n') && !currentResizeMode.includes('s')) {\n      dy = 0;\n    }\n    if (!currentResizeMode.includes('e') && !currentResizeMode.includes('w')) {\n      dx = 0;\n    }\n\n    let // ts = null,\n      tx = 0, ty = 0,\n      sy = height ? (height + dy) / height : 1,\n      sx = width ? (width + dx) / width : 1;\n    // if we are dragging on the north side, then adjust the scale factor and ty\n    if (currentResizeMode.includes('n')) {\n      sy = height ? (height - dy) / height : 1;\n      ty = height;\n    }\n\n    // if we dragging on the east side, then adjust the scale factor and tx\n    if (currentResizeMode.includes('w')) {\n      sx = width ? (width - dx) / width : 1;\n      tx = width;\n    }\n\n    // update the transform list with translate,scale,translate\n    const translateOrigin = svgroot.createSVGTransform(),\n      scale = svgroot.createSVGTransform(),\n      translateBack = svgroot.createSVGTransform();\n\n    if (curConfig.gridSnapping) {\n      left = snapToGrid(left);\n      tx = snapToGrid(tx);\n      top = snapToGrid(top);\n      ty = snapToGrid(ty);\n    }\n\n    translateOrigin.setTranslate(-(left + tx), -(top + ty));\n    if (evt.shiftKey) {\n      if (sx === 1) {\n        sx = sy;\n      } else { sy = sx; }\n    }\n    scale.setScale(sx, sy);\n\n    translateBack.setTranslate(left + tx, top + ty);\n    if (hasMatrix) {\n      const diff = angle ? 1 : 0;\n      tlist.replaceItem(translateOrigin, 2 + diff);\n      tlist.replaceItem(scale, 1 + diff);\n      tlist.replaceItem(translateBack, Number(diff));\n    } else {\n      const N = tlist.numberOfItems;\n      tlist.replaceItem(translateBack, N - 3);\n      tlist.replaceItem(scale, N - 2);\n      tlist.replaceItem(translateOrigin, N - 1);\n    }\n\n    selectorManager.requestSelector(selected).resize();\n\n    call('transition', selectedElements);\n\n    break;\n  } case 'zoom': {\n    realX *= currentZoom;\n    realY *= currentZoom;\n    assignAttributes(rubberBox, {\n      x: Math.min(rStartX * currentZoom, realX),\n      y: Math.min(rStartY * currentZoom, realY),\n      width: Math.abs(realX - rStartX * currentZoom),\n      height: Math.abs(realY - rStartY * currentZoom)\n    }, 100);\n    break;\n  } case 'text': {\n    assignAttributes(shape, {\n      x,\n      y\n    }, 1000);\n    break;\n  } case 'line': {\n    if (curConfig.gridSnapping) {\n      x = snapToGrid(x);\n      y = snapToGrid(y);\n    }\n\n    let x2 = x;\n    let y2 = y;\n\n    if (evt.shiftKey) {\n      xya = snapToAngle(startX, startY, x2, y2);\n      x2 = xya.x;\n      y2 = xya.y;\n    }\n\n    shape.setAttribute('x2', x2);\n    shape.setAttribute('y2', y2);\n    break;\n  } case 'foreignObject':\n    // fall through\n  case 'square':\n    // fall through\n  case 'rect':\n    // fall through\n  case 'image': {\n    const square = (currentMode === 'square') || evt.shiftKey;\n    let\n      w = Math.abs(x - startX),\n      h = Math.abs(y - startY);\n    let newX, newY;\n    if (square) {\n      w = h = Math.max(w, h);\n      newX = startX < x ? startX : startX - w;\n      newY = startY < y ? startY : startY - h;\n    } else {\n      newX = Math.min(startX, x);\n      newY = Math.min(startY, y);\n    }\n\n    if (curConfig.gridSnapping) {\n      w = snapToGrid(w);\n      h = snapToGrid(h);\n      newX = snapToGrid(newX);\n      newY = snapToGrid(newY);\n    }\n\n    assignAttributes(shape, {\n      width: w,\n      height: h,\n      x: newX,\n      y: newY\n    }, 1000);\n\n    break;\n  } case 'circle': {\n    c = $(shape).attr(['cx', 'cy']);\n    ({cx, cy} = c);\n    let rad = Math.sqrt((x - cx) * (x - cx) + (y - cy) * (y - cy));\n    if (curConfig.gridSnapping) {\n      rad = snapToGrid(rad);\n    }\n    shape.setAttribute('r', rad);\n    break;\n  } case 'ellipse': {\n    c = $(shape).attr(['cx', 'cy']);\n    ({cx, cy} = c);\n    if (curConfig.gridSnapping) {\n      x = snapToGrid(x);\n      cx = snapToGrid(cx);\n      y = snapToGrid(y);\n      cy = snapToGrid(cy);\n    }\n    shape.setAttribute('rx', Math.abs(x - cx));\n    const ry = Math.abs(evt.shiftKey ? (x - cx) : (y - cy));\n    shape.setAttribute('ry', ry);\n    break;\n  }\n  case 'fhellipse':\n  case 'fhrect': {\n    freehand.minx = Math.min(realX, freehand.minx);\n    freehand.maxx = Math.max(realX, freehand.maxx);\n    freehand.miny = Math.min(realY, freehand.miny);\n    freehand.maxy = Math.max(realY, freehand.maxy);\n  }\n  // Fallthrough\n  case 'fhpath': {\n    // dAttr += + realX + ',' + realY + ' ';\n    // shape.setAttribute('points', dAttr);\n    end.x = realX; end.y = realY;\n    if (controllPoint2.x && controllPoint2.y) {\n      for (i = 0; i < STEP_COUNT - 1; i++) {\n        parameter = i / STEP_COUNT;\n        nextParameter = (i + 1) / STEP_COUNT;\n        bSpline = getBsplinePoint(nextParameter);\n        nextPos = bSpline;\n        bSpline = getBsplinePoint(parameter);\n        sumDistance += Math.sqrt((nextPos.x - bSpline.x) *\n          (nextPos.x - bSpline.x) + (nextPos.y - bSpline.y) *\n          (nextPos.y - bSpline.y));\n        if (sumDistance > THRESHOLD_DIST) {\n          sumDistance -= THRESHOLD_DIST;\n\n          // Faster than completely re-writing the points attribute.\n          const point = svgcontent.createSVGPoint();\n          point.x = bSpline.x;\n          point.y = bSpline.y;\n          shape.points.appendItem(point);\n        }\n      }\n    }\n    controllPoint2 = {x: controllPoint1.x, y: controllPoint1.y};\n    controllPoint1 = {x: start.x, y: start.y};\n    start = {x: end.x, y: end.y};\n    break;\n  // update path stretch line coordinates\n} case 'path':\n  // fall through\n  case 'pathedit': {\n    x *= currentZoom;\n    y *= currentZoom;\n\n    if (curConfig.gridSnapping) {\n      x = snapToGrid(x);\n      y = snapToGrid(y);\n      startX = snapToGrid(startX);\n      startY = snapToGrid(startY);\n    }\n    if (evt.shiftKey) {\n      const {path} = pathModule;\n      let x1, y1;\n      if (path) {\n        x1 = path.dragging ? path.dragging[0] : startX;\n        y1 = path.dragging ? path.dragging[1] : startY;\n      } else {\n        x1 = startX;\n        y1 = startY;\n      }\n      xya = snapToAngle(x1, y1, x, y);\n      ({x, y} = xya);\n    }\n\n    if (rubberBox && rubberBox.getAttribute('display') !== 'none') {\n      realX *= currentZoom;\n      realY *= currentZoom;\n      assignAttributes(rubberBox, {\n        x: Math.min(rStartX * currentZoom, realX),\n        y: Math.min(rStartY * currentZoom, realY),\n        width: Math.abs(realX - rStartX * currentZoom),\n        height: Math.abs(realY - rStartY * currentZoom)\n      }, 100);\n    }\n    pathActions.mouseMove(x, y);\n\n    break;\n  } case 'textedit': {\n    x *= currentZoom;\n    y *= currentZoom;\n    // if (rubberBox && rubberBox.getAttribute('display') !== 'none') {\n    //   assignAttributes(rubberBox, {\n    //     x: Math.min(startX, x),\n    //     y: Math.min(startY, y),\n    //     width: Math.abs(x - startX),\n    //     height: Math.abs(y - startY)\n    //   }, 100);\n    // }\n\n    textActions.mouseMove(mouseX, mouseY);\n\n    break;\n  } case 'rotate': {\n    box = utilsGetBBox(selected);\n    cx = box.x + box.width / 2;\n    cy = box.y + box.height / 2;\n    const m = getMatrix(selected),\n      center = transformPoint(cx, cy, m);\n    cx = center.x;\n    cy = center.y;\n    angle = ((Math.atan2(cy - y, cx - x) * (180 / Math.PI)) - 90) % 360;\n    if (curConfig.gridSnapping) {\n      angle = snapToGrid(angle);\n    }\n    if (evt.shiftKey) { // restrict rotations to nice angles (WRS)\n      const snap = 45;\n      angle = Math.round(angle / snap) * snap;\n    }\n\n    canvas.setRotationAngle(angle < -180 ? (360 + angle) : angle, true);\n    call('transition', selectedElements);\n    break;\n  } default:\n    break;\n  }\n\n  /**\n  * The mouse has moved on the canvas area.\n  * @event module:svgcanvas.SvgCanvas#event:ext_mouseMove\n  * @type {PlainObject}\n  * @property {MouseEvent} event The event object\n  * @property {Float} mouse_x x coordinate on canvas\n  * @property {Float} mouse_y y coordinate on canvas\n  * @property {Element} selected Refers to the first selected element\n  */\n  runExtensions('mouseMove', /** @type {module:svgcanvas.SvgCanvas#event:ext_mouseMove} */ {\n    event: evt,\n    mouse_x: mouseX,\n    mouse_y: mouseY,\n    selected\n  });\n}; // mouseMove()\n\n// - in create mode, the element's opacity is set properly, we create an InsertElementCommand\n// and store it on the Undo stack\n// - in move/resize mode, the element's attributes which were affected by the move/resize are\n// identified, a ChangeElementCommand is created and stored on the stack for those attrs\n// this is done in when we recalculate the selected dimensions()\n/**\n *\n * @param {MouseEvent} evt\n * @fires module:svgcanvas.SvgCanvas#event:zoomed\n * @fires module:svgcanvas.SvgCanvas#event:changed\n * @fires module:svgcanvas.SvgCanvas#event:ext_mouseUp\n * @returns {void}\n */\nconst mouseUp = function (evt) {\n  if (evt.button === 2) { return; }\n  const tempJustSelected = justSelected;\n  justSelected = null;\n  if (!started) { return; }\n  const pt = transformPoint(evt.pageX, evt.pageY, rootSctm),\n    mouseX = pt.x * currentZoom,\n    mouseY = pt.y * currentZoom,\n    x = mouseX / currentZoom,\n    y = mouseY / currentZoom;\n\n  let element = getElem(getId());\n  let keep = false;\n\n  const realX = x;\n  const realY = y;\n\n  // TODO: Make true when in multi-unit mode\n  const useUnit = false; // (curConfig.baseUnit !== 'px');\n  started = false;\n  let attrs, t;\n  switch (currentMode) {\n  // intentionally fall-through to select here\n  case 'resize':\n  case 'multiselect':\n    if (!isNullish(rubberBox)) {\n      rubberBox.setAttribute('display', 'none');\n      curBBoxes = [];\n    }\n    currentMode = 'select';\n    // Fallthrough\n  case 'select':\n    if (!isNullish(selectedElements[0])) {\n      // if we only have one selected element\n      if (isNullish(selectedElements[1])) {\n        // set our current stroke/fill properties to the element's\n        const selected = selectedElements[0];\n        switch (selected.tagName) {\n        case 'g':\n        case 'use':\n        case 'image':\n        case 'foreignObject':\n          break;\n        default:\n          curProperties.fill = selected.getAttribute('fill');\n          curProperties.fill_opacity = selected.getAttribute('fill-opacity');\n          curProperties.stroke = selected.getAttribute('stroke');\n          curProperties.stroke_opacity = selected.getAttribute('stroke-opacity');\n          curProperties.stroke_width = selected.getAttribute('stroke-width');\n          curProperties.stroke_dasharray = selected.getAttribute('stroke-dasharray');\n          curProperties.stroke_linejoin = selected.getAttribute('stroke-linejoin');\n          curProperties.stroke_linecap = selected.getAttribute('stroke-linecap');\n        }\n\n        if (selected.tagName === 'text') {\n          curText.font_size = selected.getAttribute('font-size');\n          curText.font_family = selected.getAttribute('font-family');\n        }\n        selectorManager.requestSelector(selected).showGrips(true);\n\n        // This shouldn't be necessary as it was done on mouseDown...\n        // call('selected', [selected]);\n      }\n      // always recalculate dimensions to strip off stray identity transforms\n      recalculateAllSelectedDimensions();\n      // if it was being dragged/resized\n      if (realX !== rStartX || realY !== rStartY) {\n        const len = selectedElements.length;\n        for (let i = 0; i < len; ++i) {\n          if (isNullish(selectedElements[i])) { break; }\n          if (!selectedElements[i].firstChild) {\n            // Not needed for groups (incorrectly resizes elems), possibly not needed at all?\n            selectorManager.requestSelector(selectedElements[i]).resize();\n          }\n        }\n      // no change in position/size, so maybe we should move to pathedit\n      } else {\n        t = evt.target;\n        if (selectedElements[0].nodeName === 'path' && isNullish(selectedElements[1])) {\n          pathActions.select(selectedElements[0]);\n        // if it was a path\n        // else, if it was selected and this is a shift-click, remove it from selection\n        } else if (evt.shiftKey) {\n          if (tempJustSelected !== t) {\n            canvas.removeFromSelection([t]);\n          }\n        }\n      } // no change in mouse position\n\n      // Remove non-scaling stroke\n      if (supportsNonScalingStroke()) {\n        const elem = selectedElements[0];\n        if (elem) {\n          elem.removeAttribute('style');\n          walkTree(elem, function (el) {\n            el.removeAttribute('style');\n          });\n        }\n      }\n    }\n    return;\n  case 'zoom': {\n    if (!isNullish(rubberBox)) {\n      rubberBox.setAttribute('display', 'none');\n    }\n    const factor = evt.shiftKey ? 0.5 : 2;\n    call('zoomed', {\n      x: Math.min(rStartX, realX),\n      y: Math.min(rStartY, realY),\n      width: Math.abs(realX - rStartX),\n      height: Math.abs(realY - rStartY),\n      factor\n    });\n    return;\n  } case 'fhpath': {\n    // Check that the path contains at least 2 points; a degenerate one-point path\n    // causes problems.\n    // Webkit ignores how we set the points attribute with commas and uses space\n    // to separate all coordinates, see https://bugs.webkit.org/show_bug.cgi?id=29870\n    sumDistance = 0;\n    controllPoint2 = {x: 0, y: 0};\n    controllPoint1 = {x: 0, y: 0};\n    start = {x: 0, y: 0};\n    end = {x: 0, y: 0};\n    const coords = element.getAttribute('points');\n    const commaIndex = coords.indexOf(',');\n    if (commaIndex >= 0) {\n      keep = coords.includes(',', commaIndex + 1);\n    } else {\n      keep = coords.includes(' ', coords.indexOf(' ') + 1);\n    }\n    if (keep) {\n      element = pathActions.smoothPolylineIntoPath(element);\n    }\n    break;\n  } case 'line':\n    attrs = $(element).attr(['x1', 'x2', 'y1', 'y2']);\n    keep = (attrs.x1 !== attrs.x2 || attrs.y1 !== attrs.y2);\n    break;\n  case 'foreignObject':\n  case 'square':\n  case 'rect':\n  case 'image':\n    attrs = $(element).attr(['width', 'height']);\n    // Image should be kept regardless of size (use inherit dimensions later)\n    keep = (attrs.width || attrs.height) || currentMode === 'image';\n    break;\n  case 'circle':\n    keep = (element.getAttribute('r') !== '0');\n    break;\n  case 'ellipse':\n    attrs = $(element).attr(['rx', 'ry']);\n    keep = (attrs.rx || attrs.ry);\n    break;\n  case 'fhellipse':\n    if ((freehand.maxx - freehand.minx) > 0 &&\n      (freehand.maxy - freehand.miny) > 0) {\n      element = addSVGElementFromJson({\n        element: 'ellipse',\n        curStyles: true,\n        attr: {\n          cx: (freehand.minx + freehand.maxx) / 2,\n          cy: (freehand.miny + freehand.maxy) / 2,\n          rx: (freehand.maxx - freehand.minx) / 2,\n          ry: (freehand.maxy - freehand.miny) / 2,\n          id: getId()\n        }\n      });\n      call('changed', [element]);\n      keep = true;\n    }\n    break;\n  case 'fhrect':\n    if ((freehand.maxx - freehand.minx) > 0 &&\n      (freehand.maxy - freehand.miny) > 0) {\n      element = addSVGElementFromJson({\n        element: 'rect',\n        curStyles: true,\n        attr: {\n          x: freehand.minx,\n          y: freehand.miny,\n          width: (freehand.maxx - freehand.minx),\n          height: (freehand.maxy - freehand.miny),\n          id: getId()\n        }\n      });\n      call('changed', [element]);\n      keep = true;\n    }\n    break;\n  case 'text':\n    keep = true;\n    selectOnly([element]);\n    textActions.start(element);\n    break;\n  case 'path': {\n    // set element to null here so that it is not removed nor finalized\n    element = null;\n    // continue to be set to true so that mouseMove happens\n    started = true;\n\n    const res = pathActions.mouseUp(evt, element, mouseX, mouseY);\n    ({element} = res);\n    ({keep} = res);\n    break;\n  } case 'pathedit':\n    keep = true;\n    element = null;\n    pathActions.mouseUp(evt);\n    break;\n  case 'textedit':\n    keep = false;\n    element = null;\n    textActions.mouseUp(evt, mouseX, mouseY);\n    break;\n  case 'rotate': {\n    keep = true;\n    element = null;\n    currentMode = 'select';\n    const batchCmd = canvas.undoMgr.finishUndoableChange();\n    if (!batchCmd.isEmpty()) {\n      addCommandToHistory(batchCmd);\n    }\n    // perform recalculation to weed out any stray identity transforms that might get stuck\n    recalculateAllSelectedDimensions();\n    call('changed', selectedElements);\n    break;\n  } default:\n    // This could occur in an extension\n    break;\n  }\n\n  /**\n  * The main (left) mouse button is released (anywhere).\n  * @event module:svgcanvas.SvgCanvas#event:ext_mouseUp\n  * @type {PlainObject}\n  * @property {MouseEvent} event The event object\n  * @property {Float} mouse_x x coordinate on canvas\n  * @property {Float} mouse_y y coordinate on canvas\n  */\n  const extResult = runExtensions('mouseUp', /** @type {module:svgcanvas.SvgCanvas#event:ext_mouseUp} */ {\n    event: evt,\n    mouse_x: mouseX,\n    mouse_y: mouseY\n  }, true);\n\n  $.each(extResult, function (i, r) {\n    if (r) {\n      keep = r.keep || keep;\n      ({element} = r);\n      started = r.started || started;\n    }\n  });\n\n  if (!keep && !isNullish(element)) {\n    getCurrentDrawing().releaseId(getId());\n    element.remove();\n    element = null;\n\n    t = evt.target;\n\n    // if this element is in a group, go up until we reach the top-level group\n    // just below the layer groups\n    // TODO: once we implement links, we also would have to check for <a> elements\n    while (t && t.parentNode && t.parentNode.parentNode && t.parentNode.parentNode.tagName === 'g') {\n      t = t.parentNode;\n    }\n    // if we are not in the middle of creating a path, and we've clicked on some shape,\n    // then go to Select mode.\n    // WebKit returns <div> when the canvas is clicked, Firefox/Opera return <svg>\n    if ((currentMode !== 'path' || !drawnPath) &&\n      t && t.parentNode &&\n      t.parentNode.id !== 'selectorParentGroup' &&\n      t.id !== 'svgcanvas' && t.id !== 'svgroot'\n    ) {\n      // switch into \"select\" mode if we've clicked on an element\n      canvas.setMode('select');\n      selectOnly([t], true);\n    }\n  } else if (!isNullish(element)) {\n    /**\n    * @name module:svgcanvas.SvgCanvas#addedNew\n    * @type {boolean}\n    */\n    canvas.addedNew = true;\n\n    if (useUnit) { convertAttrs(element); }\n\n    let aniDur = 0.2;\n    let cAni;\n    if (opacAni.beginElement && Number.parseFloat(element.getAttribute('opacity')) !== curShape.opacity) {\n      cAni = $(opacAni).clone().attr({\n        to: curShape.opacity,\n        dur: aniDur\n      }).appendTo(element);\n      try {\n        // Fails in FF4 on foreignObject\n        cAni[0].beginElement();\n      } catch (e) {}\n    } else {\n      aniDur = 0;\n    }\n\n    // Ideally this would be done on the endEvent of the animation,\n    // but that doesn't seem to be supported in Webkit\n    setTimeout(function () {\n      if (cAni) { cAni.remove(); }\n      element.setAttribute('opacity', curShape.opacity);\n      element.setAttribute('style', 'pointer-events:inherit');\n      cleanupElement(element);\n      if (currentMode === 'path') {\n        pathActions.toEditMode(element);\n      } else if (curConfig.selectNew) {\n        selectOnly([element], true);\n      }\n      // we create the insert command that is stored on the stack\n      // undo means to call cmd.unapply(), redo means to call cmd.apply()\n      addCommandToHistory(new InsertElementCommand(element));\n\n      call('changed', [element]);\n    }, aniDur * 1000);\n  }\n\n  startTransform = null;\n};\n\nconst dblClick = function (evt) {\n  const evtTarget = evt.target;\n  const parent = evtTarget.parentNode;\n\n  let mouseTarget = getMouseTarget(evt);\n  const {tagName} = mouseTarget;\n\n  if (tagName === 'text' && currentMode !== 'textedit') {\n    const pt = transformPoint(evt.pageX, evt.pageY, rootSctm);\n    textActions.select(mouseTarget, pt.x, pt.y);\n  }\n\n  // Do nothing if already in current group\n  if (parent === currentGroup) { return; }\n\n  if ((tagName === 'g' || tagName === 'a') &&\n    getRotationAngle(mouseTarget)\n  ) {\n    // TODO: Allow method of in-group editing without having to do\n    // this (similar to editing rotated paths)\n\n    // Ungroup and regroup\n    pushGroupProperties(mouseTarget);\n    mouseTarget = selectedElements[0];\n    clearSelection(true);\n  }\n  // Reset context\n  if (currentGroup) {\n    draw.leaveContext();\n  }\n\n  if ((parent.tagName !== 'g' && parent.tagName !== 'a') ||\n    parent === getCurrentDrawing().getCurrentLayer() ||\n    mouseTarget === selectorManager.selectorParentGroup\n  ) {\n    // Escape from in-group edit\n    return;\n  }\n  draw.setContext(mouseTarget);\n};\n\n// prevent links from being followed in the canvas\nconst handleLinkInCanvas = function (e) {\n  e.preventDefault();\n  return false;\n};\n\n// Added mouseup to the container here.\n// TODO(codedread): Figure out why after the Closure compiler, the window mouseup is ignored.\n$(container).mousedown(mouseDown).mousemove(mouseMove).click(handleLinkInCanvas).dblclick(dblClick).mouseup(mouseUp);\n// $(window).mouseup(mouseUp);\n\n// TODO(rafaelcastrocouto): User preference for shift key and zoom factor\n$(container).bind(\n  'mousewheel DOMMouseScroll',\n  /**\n   * @param {Event} e\n   * @fires module:svgcanvas.SvgCanvas#event:updateCanvas\n   * @fires module:svgcanvas.SvgCanvas#event:zoomDone\n   * @returns {void}\n   */\n  function (e) {\n    if (!e.shiftKey) { return; }\n\n    e.preventDefault();\n    const evt = e.originalEvent;\n\n    rootSctm = $('#svgcontent g')[0].getScreenCTM().inverse();\n\n    const workarea = $('#workarea');\n    const scrbar = 15;\n    const rulerwidth = curConfig.showRulers ? 16 : 0;\n\n    // mouse relative to content area in content pixels\n    const pt = transformPoint(evt.pageX, evt.pageY, rootSctm);\n\n    // full work area width in screen pixels\n    const editorFullW = workarea.width();\n    const editorFullH = workarea.height();\n\n    // work area width minus scroll and ruler in screen pixels\n    const editorW = editorFullW - scrbar - rulerwidth;\n    const editorH = editorFullH - scrbar - rulerwidth;\n\n    // work area width in content pixels\n    const workareaViewW = editorW * rootSctm.a;\n    const workareaViewH = editorH * rootSctm.d;\n\n    // content offset from canvas in screen pixels\n    const wOffset = workarea.offset();\n    const wOffsetLeft = wOffset.left + rulerwidth;\n    const wOffsetTop = wOffset.top + rulerwidth;\n\n    const delta = (evt.wheelDelta) ? evt.wheelDelta : (evt.detail) ? -evt.detail : 0;\n    if (!delta) { return; }\n\n    let factor = Math.max(3 / 4, Math.min(4 / 3, (delta)));\n\n    let wZoom, hZoom;\n    if (factor > 1) {\n      wZoom = Math.ceil(editorW / workareaViewW * factor * 100) / 100;\n      hZoom = Math.ceil(editorH / workareaViewH * factor * 100) / 100;\n    } else {\n      wZoom = Math.floor(editorW / workareaViewW * factor * 100) / 100;\n      hZoom = Math.floor(editorH / workareaViewH * factor * 100) / 100;\n    }\n    let zoomlevel = Math.min(wZoom, hZoom);\n    zoomlevel = Math.min(10, Math.max(0.01, zoomlevel));\n    if (zoomlevel === currentZoom) {\n      return;\n    }\n    factor = zoomlevel / currentZoom;\n\n    // top left of workarea in content pixels before zoom\n    const topLeftOld = transformPoint(wOffsetLeft, wOffsetTop, rootSctm);\n\n    // top left of workarea in content pixels after zoom\n    const topLeftNew = {\n      x: pt.x - (pt.x - topLeftOld.x) / factor,\n      y: pt.y - (pt.y - topLeftOld.y) / factor\n    };\n\n    // top left of workarea in canvas pixels relative to content after zoom\n    const topLeftNewCanvas = {\n      x: topLeftNew.x * zoomlevel,\n      y: topLeftNew.y * zoomlevel\n    };\n\n    // new center in canvas pixels\n    const newCtr = {\n      x: topLeftNewCanvas.x - rulerwidth + editorFullW / 2,\n      y: topLeftNewCanvas.y - rulerwidth + editorFullH / 2\n    };\n\n    canvas.setZoom(zoomlevel);\n    $('#zoom').val((zoomlevel * 100).toFixed(1));\n\n    call('updateCanvas', {center: false, newCtr});\n    call('zoomDone');\n  }\n);\n}());\n\n/* eslint-disable jsdoc/require-property */\n/**\n* Group: Text edit functions\n* Functions relating to editing text elements.\n* @namespace {PlainObject} textActions\n* @memberof module:svgcanvas.SvgCanvas#\n*/\nconst textActions = canvas.textActions = (function () {\n/* eslint-enable jsdoc/require-property */\nlet curtext;\nlet textinput;\nlet cursor;\nlet selblock;\nlet blinker;\nlet chardata = [];\nlet textbb; // , transbb;\nlet matrix;\nlet lastX, lastY;\nlet allowDbl;\n\n/**\n *\n * @param {Integer} index\n * @returns {void}\n */\nfunction setCursor (index) {\n  const empty = (textinput.value === '');\n  $(textinput).focus();\n\n  if (!arguments.length) {\n    if (empty) {\n      index = 0;\n    } else {\n      if (textinput.selectionEnd !== textinput.selectionStart) { return; }\n      index = textinput.selectionEnd;\n    }\n  }\n\n  const charbb = chardata[index];\n  if (!empty) {\n    textinput.setSelectionRange(index, index);\n  }\n  cursor = getElem('text_cursor');\n  if (!cursor) {\n    cursor = document.createElementNS(NS.SVG, 'line');\n    assignAttributes(cursor, {\n      id: 'text_cursor',\n      stroke: '#333',\n      'stroke-width': 1\n    });\n    cursor = getElem('selectorParentGroup').appendChild(cursor);\n  }\n\n  if (!blinker) {\n    blinker = setInterval(function () {\n      const show = (cursor.getAttribute('display') === 'none');\n      cursor.setAttribute('display', show ? 'inline' : 'none');\n    }, 600);\n  }\n\n  const startPt = ptToScreen(charbb.x, textbb.y);\n  const endPt = ptToScreen(charbb.x, (textbb.y + textbb.height));\n\n  assignAttributes(cursor, {\n    x1: startPt.x,\n    y1: startPt.y,\n    x2: endPt.x,\n    y2: endPt.y,\n    visibility: 'visible',\n    display: 'inline'\n  });\n\n  if (selblock) { selblock.setAttribute('d', ''); }\n}\n\n/**\n *\n * @param {Integer} start\n * @param {Integer} end\n * @param {boolean} skipInput\n * @returns {void}\n */\nfunction setSelection (start, end, skipInput) {\n  if (start === end) {\n    setCursor(end);\n    return;\n  }\n\n  if (!skipInput) {\n    textinput.setSelectionRange(start, end);\n  }\n\n  selblock = getElem('text_selectblock');\n  if (!selblock) {\n    selblock = document.createElementNS(NS.SVG, 'path');\n    assignAttributes(selblock, {\n      id: 'text_selectblock',\n      fill: 'green',\n      opacity: 0.5,\n      style: 'pointer-events:none'\n    });\n    getElem('selectorParentGroup').append(selblock);\n  }\n\n  const startbb = chardata[start];\n  const endbb = chardata[end];\n\n  cursor.setAttribute('visibility', 'hidden');\n\n  const tl = ptToScreen(startbb.x, textbb.y),\n    tr = ptToScreen(startbb.x + (endbb.x - startbb.x), textbb.y),\n    bl = ptToScreen(startbb.x, textbb.y + textbb.height),\n    br = ptToScreen(startbb.x + (endbb.x - startbb.x), textbb.y + textbb.height);\n\n  const dstr = 'M' + tl.x + ',' + tl.y +\n    ' L' + tr.x + ',' + tr.y +\n    ' ' + br.x + ',' + br.y +\n    ' ' + bl.x + ',' + bl.y + 'z';\n\n  assignAttributes(selblock, {\n    d: dstr,\n    display: 'inline'\n  });\n}\n\n/**\n *\n * @param {Float} mouseX\n * @param {Float} mouseY\n * @returns {Integer}\n */\nfunction getIndexFromPoint (mouseX, mouseY) {\n  // Position cursor here\n  const pt = svgroot.createSVGPoint();\n  pt.x = mouseX;\n  pt.y = mouseY;\n\n  // No content, so return 0\n  if (chardata.length === 1) { return 0; }\n  // Determine if cursor should be on left or right of character\n  let charpos = curtext.getCharNumAtPosition(pt);\n  if (charpos < 0) {\n    // Out of text range, look at mouse coords\n    charpos = chardata.length - 2;\n    if (mouseX <= chardata[0].x) {\n      charpos = 0;\n    }\n  } else if (charpos >= chardata.length - 2) {\n    charpos = chardata.length - 2;\n  }\n  const charbb = chardata[charpos];\n  const mid = charbb.x + (charbb.width / 2);\n  if (mouseX > mid) {\n    charpos++;\n  }\n  return charpos;\n}\n\n/**\n *\n * @param {Float} mouseX\n * @param {Float} mouseY\n * @returns {void}\n */\nfunction setCursorFromPoint (mouseX, mouseY) {\n  setCursor(getIndexFromPoint(mouseX, mouseY));\n}\n\n/**\n *\n * @param {Float} x\n * @param {Float} y\n * @param {boolean} apply\n * @returns {void}\n */\nfunction setEndSelectionFromPoint (x, y, apply) {\n  const i1 = textinput.selectionStart;\n  const i2 = getIndexFromPoint(x, y);\n\n  const start = Math.min(i1, i2);\n  const end = Math.max(i1, i2);\n  setSelection(start, end, !apply);\n}\n\n/**\n *\n * @param {Float} xIn\n * @param {Float} yIn\n * @returns {module:math.XYObject}\n */\nfunction screenToPt (xIn, yIn) {\n  const out = {\n    x: xIn,\n    y: yIn\n  };\n\n  out.x /= currentZoom;\n  out.y /= currentZoom;\n\n  if (matrix) {\n    const pt = transformPoint(out.x, out.y, matrix.inverse());\n    out.x = pt.x;\n    out.y = pt.y;\n  }\n\n  return out;\n}\n\n/**\n *\n * @param {Float} xIn\n * @param {Float} yIn\n * @returns {module:math.XYObject}\n */\nfunction ptToScreen (xIn, yIn) {\n  const out = {\n    x: xIn,\n    y: yIn\n  };\n\n  if (matrix) {\n    const pt = transformPoint(out.x, out.y, matrix);\n    out.x = pt.x;\n    out.y = pt.y;\n  }\n\n  out.x *= currentZoom;\n  out.y *= currentZoom;\n\n  return out;\n}\n\n/*\n// Not currently in use\nfunction hideCursor () {\n  if (cursor) {\n    cursor.setAttribute('visibility', 'hidden');\n  }\n}\n*/\n\n/**\n *\n * @param {Event} evt\n * @returns {void}\n */\nfunction selectAll (evt) {\n  setSelection(0, curtext.textContent.length);\n  $(this).unbind(evt);\n}\n\n/**\n *\n * @param {Event} evt\n * @returns {void}\n */\nfunction selectWord (evt) {\n  if (!allowDbl || !curtext) { return; }\n\n  const ept = transformPoint(evt.pageX, evt.pageY, rootSctm),\n    mouseX = ept.x * currentZoom,\n    mouseY = ept.y * currentZoom;\n  const pt = screenToPt(mouseX, mouseY);\n\n  const index = getIndexFromPoint(pt.x, pt.y);\n  const str = curtext.textContent;\n  const first = str.substr(0, index).replace(/[a-z\\d]+$/i, '').length;\n  const m = str.substr(index).match(/^[a-z\\d]+/i);\n  const last = (m ? m[0].length : 0) + index;\n  setSelection(first, last);\n\n  // Set tripleclick\n  $(evt.target).click(selectAll);\n  setTimeout(function () {\n    $(evt.target).unbind('click', selectAll);\n  }, 300);\n}\n\nreturn /** @lends module:svgcanvas.SvgCanvas#textActions */ {\n  /**\n  * @param {Element} target\n  * @param {Float} x\n  * @param {Float} y\n  * @returns {void}\n  */\n  select (target, x, y) {\n    curtext = target;\n    textActions.toEditMode(x, y);\n  },\n  /**\n  * @param {Element} elem\n  * @returns {void}\n  */\n  start (elem) {\n    curtext = elem;\n    textActions.toEditMode();\n  },\n  /**\n  * @param {external:MouseEvent} evt\n  * @param {Element} mouseTarget\n  * @param {Float} startX\n  * @param {Float} startY\n  * @returns {void}\n  */\n  mouseDown (evt, mouseTarget, startX, startY) {\n    const pt = screenToPt(startX, startY);\n\n    textinput.focus();\n    setCursorFromPoint(pt.x, pt.y);\n    lastX = startX;\n    lastY = startY;\n\n    // TODO: Find way to block native selection\n  },\n  /**\n  * @param {Float} mouseX\n  * @param {Float} mouseY\n  * @returns {void}\n  */\n  mouseMove (mouseX, mouseY) {\n    const pt = screenToPt(mouseX, mouseY);\n    setEndSelectionFromPoint(pt.x, pt.y);\n  },\n  /**\n  * @param {external:MouseEvent} evt\n  * @param {Float} mouseX\n  * @param {Float} mouseY\n  * @returns {void}\n  */\n  mouseUp (evt, mouseX, mouseY) {\n    const pt = screenToPt(mouseX, mouseY);\n\n    setEndSelectionFromPoint(pt.x, pt.y, true);\n\n    // TODO: Find a way to make this work: Use transformed BBox instead of evt.target\n    // if (lastX === mouseX && lastY === mouseY\n    //   && !rectsIntersect(transbb, {x: pt.x, y: pt.y, width: 0, height: 0})) {\n    //   textActions.toSelectMode(true);\n    // }\n\n    if (\n      evt.target !== curtext &&\n      mouseX < lastX + 2 &&\n      mouseX > lastX - 2 &&\n      mouseY < lastY + 2 &&\n      mouseY > lastY - 2\n    ) {\n      textActions.toSelectMode(true);\n    }\n  },\n  /**\n  * @function\n  * @param {Integer} index\n  * @returns {void}\n  */\n  setCursor,\n  /**\n  * @param {Float} x\n  * @param {Float} y\n  * @returns {void}\n  */\n  toEditMode (x, y) {\n    allowDbl = false;\n    currentMode = 'textedit';\n    selectorManager.requestSelector(curtext).showGrips(false);\n    // Make selector group accept clicks\n    /* const selector = */ selectorManager.requestSelector(curtext); // Do we need this? Has side effect of setting lock, so keeping for now, but next line wasn't being used\n    // const sel = selector.selectorRect;\n\n    textActions.init();\n\n    $(curtext).css('cursor', 'text');\n\n    // if (supportsEditableText()) {\n    //   curtext.setAttribute('editable', 'simple');\n    //   return;\n    // }\n\n    if (!arguments.length) {\n      setCursor();\n    } else {\n      const pt = screenToPt(x, y);\n      setCursorFromPoint(pt.x, pt.y);\n    }\n\n    setTimeout(function () {\n      allowDbl = true;\n    }, 300);\n  },\n  /**\n  * @param {boolean|Element} selectElem\n  * @fires module:svgcanvas.SvgCanvas#event:selected\n  * @returns {void}\n  */\n  toSelectMode (selectElem) {\n    currentMode = 'select';\n    clearInterval(blinker);\n    blinker = null;\n    if (selblock) { $(selblock).attr('display', 'none'); }\n    if (cursor) { $(cursor).attr('visibility', 'hidden'); }\n    $(curtext).css('cursor', 'move');\n\n    if (selectElem) {\n      clearSelection();\n      $(curtext).css('cursor', 'move');\n\n      call('selected', [curtext]);\n      addToSelection([curtext], true);\n    }\n    if (curtext && !curtext.textContent.length) {\n      // No content, so delete\n      canvas.deleteSelectedElements();\n    }\n\n    $(textinput).blur();\n\n    curtext = false;\n\n    // if (supportsEditableText()) {\n    //   curtext.removeAttribute('editable');\n    // }\n  },\n  /**\n  * @param {Element} elem\n  * @returns {void}\n  */\n  setInputElem (elem) {\n    textinput = elem;\n    // $(textinput).blur(hideCursor);\n  },\n  /**\n  * @returns {void}\n  */\n  clear () {\n    if (currentMode === 'textedit') {\n      textActions.toSelectMode();\n    }\n  },\n  /**\n  * @param {Element} inputElem Not in use\n  * @returns {void}\n  */\n  init (inputElem) {\n    if (!curtext) { return; }\n    let i, end;\n    // if (supportsEditableText()) {\n    //   curtext.select();\n    //   return;\n    // }\n\n    if (!curtext.parentNode) {\n      // Result of the ffClone, need to get correct element\n      curtext = selectedElements[0];\n      selectorManager.requestSelector(curtext).showGrips(false);\n    }\n\n    const str = curtext.textContent;\n    const len = str.length;\n\n    const xform = curtext.getAttribute('transform');\n\n    textbb = utilsGetBBox(curtext);\n\n    matrix = xform ? getMatrix(curtext) : null;\n\n    chardata = [];\n    chardata.length = len;\n    textinput.focus();\n\n    $(curtext).unbind('dblclick', selectWord).dblclick(selectWord);\n\n    if (!len) {\n      end = {x: textbb.x + (textbb.width / 2), width: 0};\n    }\n\n    for (i = 0; i < len; i++) {\n      const start = curtext.getStartPositionOfChar(i);\n      end = curtext.getEndPositionOfChar(i);\n\n      if (!supportsGoodTextCharPos()) {\n        const offset = canvas.contentW * currentZoom;\n        start.x -= offset;\n        end.x -= offset;\n\n        start.x /= currentZoom;\n        end.x /= currentZoom;\n      }\n\n      // Get a \"bbox\" equivalent for each character. Uses the\n      // bbox data of the actual text for y, height purposes\n\n      // TODO: Decide if y, width and height are actually necessary\n      chardata[i] = {\n        x: start.x,\n        y: textbb.y, // start.y?\n        width: end.x - start.x,\n        height: textbb.height\n      };\n    }\n\n    // Add a last bbox for cursor at end of text\n    chardata.push({\n      x: end.x,\n      width: 0\n    });\n    setSelection(textinput.selectionStart, textinput.selectionEnd, true);\n  }\n};\n}());\n\n/**\n* Group: Serialization.\n*/\n\n/**\n* Looks at DOM elements inside the `<defs>` to see if they are referred to,\n* removes them from the DOM if they are not.\n* @function module:svgcanvas.SvgCanvas#removeUnusedDefElems\n* @returns {Integer} The number of elements that were removed\n*/\nconst removeUnusedDefElems = this.removeUnusedDefElems = function () {\n  const defs = svgcontent.getElementsByTagNameNS(NS.SVG, 'defs');\n  if (!defs || !defs.length) { return 0; }\n\n  // if (!defs.firstChild) { return; }\n\n  const defelemUses = [];\n  let numRemoved = 0;\n  const attrs = ['fill', 'stroke', 'filter', 'marker-start', 'marker-mid', 'marker-end'];\n  const alen = attrs.length;\n\n  const allEls = svgcontent.getElementsByTagNameNS(NS.SVG, '*');\n  const allLen = allEls.length;\n\n  let i, j;\n  for (i = 0; i < allLen; i++) {\n    const el = allEls[i];\n    for (j = 0; j < alen; j++) {\n      const ref = getUrlFromAttr(el.getAttribute(attrs[j]));\n      if (ref) {\n        defelemUses.push(ref.substr(1));\n      }\n    }\n\n    // gradients can refer to other gradients\n    const href = getHref(el);\n    if (href && href.startsWith('#')) {\n      defelemUses.push(href.substr(1));\n    }\n  }\n\n  const defelems = $(defs).find('linearGradient, radialGradient, filter, marker, svg, symbol');\n  i = defelems.length;\n  while (i--) {\n    const defelem = defelems[i];\n    const {id} = defelem;\n    if (!defelemUses.includes(id)) {\n      // Not found, so remove (but remember)\n      removedElements[id] = defelem;\n      defelem.remove();\n      numRemoved++;\n    }\n  }\n\n  return numRemoved;\n};\n\n/**\n* Main function to set up the SVG content for output.\n* @function module:svgcanvas.SvgCanvas#svgCanvasToString\n* @returns {string} The SVG image for output\n*/\nthis.svgCanvasToString = function () {\n  // keep calling it until there are none to remove\n  while (removeUnusedDefElems() > 0) {} // eslint-disable-line no-empty\n\n  pathActions.clear(true);\n\n  // Keep SVG-Edit comment on top\n  $.each(svgcontent.childNodes, function (i, node) {\n    if (i && node.nodeType === 8 && node.data.includes('Created with')) {\n      svgcontent.firstChild.before(node);\n    }\n  });\n\n  // Move out of in-group editing mode\n  if (currentGroup) {\n    draw.leaveContext();\n    selectOnly([currentGroup]);\n  }\n\n  const nakedSvgs = [];\n\n  // Unwrap gsvg if it has no special attributes (only id and style)\n  $(svgcontent).find('g:data(gsvg)').each(function () {\n    const attrs = this.attributes;\n    let len = attrs.length;\n    for (let i = 0; i < len; i++) {\n      if (attrs[i].nodeName === 'id' || attrs[i].nodeName === 'style') {\n        len--;\n      }\n    }\n    // No significant attributes, so ungroup\n    if (len <= 0) {\n      const svg = this.firstChild;\n      nakedSvgs.push(svg);\n      $(this).replaceWith(svg);\n    }\n  });\n  const output = this.svgToString(svgcontent, 0);\n\n  // Rewrap gsvg\n  if (nakedSvgs.length) {\n    $(nakedSvgs).each(function () {\n      groupSvgElem(this);\n    });\n  }\n\n  return output;\n};\n\n/**\n* Sub function ran on each SVG element to convert it to a string as desired.\n* @function module:svgcanvas.SvgCanvas#svgToString\n* @param {Element} elem - The SVG element to convert\n* @param {Integer} indent - Number of spaces to indent this tag\n* @returns {string} The given element as an SVG tag\n*/\nthis.svgToString = function (elem, indent) {\n  const out = [];\n  const unit = curConfig.baseUnit;\n  const unitRe = new RegExp('^-?[\\\\d\\\\.]+' + unit + '$');\n\n  if (elem) {\n    cleanupElement(elem);\n    const attrs = [...elem.attributes];\n    const childs = elem.childNodes;\n    attrs.sort((a, b) => {\n      return a.name > b.name ? -1 : 1;\n    });\n\n    for (let i = 0; i < indent; i++) { out.push(' '); }\n    out.push('<'); out.push(elem.nodeName);\n    if (elem.id === 'svgcontent') {\n      // Process root element separately\n      const res = getResolution();\n\n      const vb = '';\n      // TODO: Allow this by dividing all values by current baseVal\n      // Note that this also means we should properly deal with this on import\n      // if (curConfig.baseUnit !== 'px') {\n      //   const unit = curConfig.baseUnit;\n      //   const unitM = getTypeMap()[unit];\n      //   res.w = shortFloat(res.w / unitM);\n      //   res.h = shortFloat(res.h / unitM);\n      //   vb = ' viewBox=\"' + [0, 0, res.w, res.h].join(' ') + '\"';\n      //   res.w += unit;\n      //   res.h += unit;\n      // }\n\n      if (unit !== 'px') {\n        res.w = convertUnit(res.w, unit) + unit;\n        res.h = convertUnit(res.h, unit) + unit;\n      }\n\n      out.push(' width=\"' + res.w + '\" height=\"' + res.h + '\"' + vb + ' xmlns=\"' + NS.SVG + '\"');\n\n      const nsuris = {};\n\n      // Check elements for namespaces, add if found\n      $(elem).find('*').andSelf().each(function () {\n        // const el = this;\n        // for some elements have no attribute\n        const uri = this.namespaceURI;\n        if (uri && !nsuris[uri] && nsMap[uri] && nsMap[uri] !== 'xmlns' && nsMap[uri] !== 'xml') {\n          nsuris[uri] = true;\n          out.push(' xmlns:' + nsMap[uri] + '=\"' + uri + '\"');\n        }\n\n        $.each(this.attributes, function (i, attr) {\n          const u = attr.namespaceURI;\n          if (u && !nsuris[u] && nsMap[u] !== 'xmlns' && nsMap[u] !== 'xml') {\n            nsuris[u] = true;\n            out.push(' xmlns:' + nsMap[u] + '=\"' + u + '\"');\n          }\n        });\n      });\n\n      let i = attrs.length;\n      const attrNames = ['width', 'height', 'xmlns', 'x', 'y', 'viewBox', 'id', 'overflow'];\n      while (i--) {\n        const attr = attrs[i];\n        const attrVal = toXml(attr.value);\n\n        // Namespaces have already been dealt with, so skip\n        if (attr.nodeName.startsWith('xmlns:')) { continue; }\n\n        // only serialize attributes we don't use internally\n        if (attrVal !== '' && !attrNames.includes(attr.localName)) {\n          if (!attr.namespaceURI || nsMap[attr.namespaceURI]) {\n            out.push(' ');\n            out.push(attr.nodeName); out.push('=\"');\n            out.push(attrVal); out.push('\"');\n          }\n        }\n      }\n    } else {\n      // Skip empty defs\n      if (elem.nodeName === 'defs' && !elem.firstChild) { return ''; }\n\n      const mozAttrs = ['-moz-math-font-style', '_moz-math-font-style'];\n      for (let i = attrs.length - 1; i >= 0; i--) {\n        const attr = attrs[i];\n        let attrVal = toXml(attr.value);\n        // remove bogus attributes added by Gecko\n        if (mozAttrs.includes(attr.localName)) { continue; }\n        if (attrVal === 'null') {\n          const styleName = attr.localName.replace(/-[a-z]/g, (s) => s[1].toUpperCase());\n          if (Object.prototype.hasOwnProperty.call(elem.style, styleName)) { continue; }\n        }\n        if (attrVal !== '') {\n          if (attrVal.startsWith('pointer-events')) { continue; }\n          if (attr.localName === 'class' && attrVal.startsWith('se_')) { continue; }\n          out.push(' ');\n          if (attr.localName === 'd') { attrVal = pathActions.convertPath(elem, true); }\n          if (!isNaN(attrVal)) {\n            attrVal = shortFloat(attrVal);\n          } else if (unitRe.test(attrVal)) {\n            attrVal = shortFloat(attrVal) + unit;\n          }\n\n          // Embed images when saving\n          if (saveOptions.apply &&\n            elem.nodeName === 'image' &&\n            attr.localName === 'href' &&\n            saveOptions.images &&\n            saveOptions.images === 'embed'\n          ) {\n            const img = encodableImages[attrVal];\n            if (img) { attrVal = img; }\n          }\n\n          // map various namespaces to our fixed namespace prefixes\n          // (the default xmlns attribute itself does not get a prefix)\n          if (!attr.namespaceURI || attr.namespaceURI === NS.SVG || nsMap[attr.namespaceURI]) {\n            out.push(attr.nodeName); out.push('=\"');\n            out.push(attrVal); out.push('\"');\n          }\n        }\n      }\n    }\n\n    if (elem.hasChildNodes()) {\n      out.push('>');\n      indent++;\n      let bOneLine = false;\n\n      for (let i = 0; i < childs.length; i++) {\n        const child = childs.item(i);\n        switch (child.nodeType) {\n        case 1: // element node\n          out.push('\\n');\n          out.push(this.svgToString(child, indent));\n          break;\n        case 3: { // text node\n          const str = child.nodeValue.replace(/^\\s+|\\s+$/g, '');\n          if (str !== '') {\n            bOneLine = true;\n            out.push(String(toXml(str)));\n          }\n          break;\n        } case 4: // cdata node\n          out.push('\\n');\n          out.push(new Array(indent + 1).join(' '));\n          out.push('<![CDATA[');\n          out.push(child.nodeValue);\n          out.push(']]>');\n          break;\n        case 8: // comment\n          out.push('\\n');\n          out.push(new Array(indent + 1).join(' '));\n          out.push('<!--');\n          out.push(child.data);\n          out.push('-->');\n          break;\n        } // switch on node type\n      }\n      indent--;\n      if (!bOneLine) {\n        out.push('\\n');\n        for (let i = 0; i < indent; i++) { out.push(' '); }\n      }\n      out.push('</'); out.push(elem.nodeName); out.push('>');\n    } else {\n      out.push('/>');\n    }\n  }\n  return out.join('');\n}; // end svgToString()\n\n/**\n * Function to run when image data is found.\n * @callback module:svgcanvas.ImageEmbeddedCallback\n * @param {string|false} result Data URL\n * @returns {void}\n */\n/**\n* Converts a given image file to a data URL when possible, then runs a given callback.\n* @function module:svgcanvas.SvgCanvas#embedImage\n* @param {string} src - The path/URL of the image\n* @returns {Promise<string|false>} Resolves to a Data URL (string|false)\n*/\nthis.embedImage = function (src) {\n  // Todo: Remove this Promise in favor of making an async/await `Image.load` utility\n  // eslint-disable-next-line promise/avoid-new\n  return new Promise(function (resolve, reject) {\n    // load in the image and once it's loaded, get the dimensions\n    $(new Image()).load(function (response, status, xhr) {\n      if (status === 'error') {\n        reject(new Error('Error loading image: ' + xhr.status + ' ' + xhr.statusText));\n        return;\n      }\n      // create a canvas the same size as the raster image\n      const cvs = document.createElement('canvas');\n      cvs.width = this.width;\n      cvs.height = this.height;\n      // load the raster image into the canvas\n      cvs.getContext('2d').drawImage(this, 0, 0);\n      // retrieve the data: URL\n      try {\n        let urldata = ';svgedit_url=' + encodeURIComponent(src);\n        urldata = cvs.toDataURL().replace(';base64', urldata + ';base64');\n        encodableImages[src] = urldata;\n      } catch (e) {\n        encodableImages[src] = false;\n      }\n      lastGoodImgUrl = src;\n      resolve(encodableImages[src]);\n    }).attr('src', src);\n  });\n};\n\n/**\n* Sets a given URL to be a \"last good image\" URL.\n* @function module:svgcanvas.SvgCanvas#setGoodImage\n* @param {string} val\n* @returns {void}\n*/\nthis.setGoodImage = function (val) {\n  lastGoodImgUrl = val;\n};\n\n/**\n* Does nothing by default, handled by optional widget/extension.\n* @function module:svgcanvas.SvgCanvas#open\n* @returns {void}\n*/\nthis.open = function () {\n  /* */\n};\n\n/**\n* Serializes the current drawing into SVG XML text and passes it to the 'saved' handler.\n* This function also includes the XML prolog. Clients of the `SvgCanvas` bind their save\n* function to the 'saved' event.\n* @function module:svgcanvas.SvgCanvas#save\n* @param {module:svgcanvas.SaveOptions} opts\n* @fires module:svgcanvas.SvgCanvas#event:saved\n* @returns {void}\n*/\nthis.save = function (opts) {\n  // remove the selected outline before serializing\n  clearSelection();\n  // Update save options if provided\n  if (opts) { $.extend(saveOptions, opts); }\n  saveOptions.apply = true;\n\n  // no need for doctype, see https://jwatt.org/svg/authoring/#doctype-declaration\n  const str = this.svgCanvasToString();\n  call('saved', str);\n};\n\n/**\n* @typedef {PlainObject} module:svgcanvas.IssuesAndCodes\n* @property {string[]} issueCodes The locale-independent code names\n* @property {string[]} issues The localized descriptions\n*/\n\n/**\n* Codes only is useful for locale-independent detection.\n* @returns {module:svgcanvas.IssuesAndCodes}\n*/\nfunction getIssues () {\n  // remove the selected outline before serializing\n  clearSelection();\n\n  // Check for known CanVG issues\n  const issues = [];\n  const issueCodes = [];\n\n  // Selector and notice\n  const issueList = {\n    feGaussianBlur: uiStrings.exportNoBlur,\n    foreignObject: uiStrings.exportNoforeignObject,\n    '[stroke-dasharray]': uiStrings.exportNoDashArray\n  };\n  const content = $(svgcontent);\n\n  // Add font/text check if Canvas Text API is not implemented\n  if (!('font' in $('<canvas>')[0].getContext('2d'))) {\n    issueList.text = uiStrings.exportNoText;\n  }\n\n  $.each(issueList, function (sel, descr) {\n    if (content.find(sel).length) {\n      issueCodes.push(sel);\n      issues.push(descr);\n    }\n  });\n  return {issues, issueCodes};\n}\n\nlet canvg;\n/**\n* @typedef {\"feGaussianBlur\"|\"foreignObject\"|\"[stroke-dasharray]\"|\"text\"} module:svgcanvas.IssueCode\n*/\n/**\n* @typedef {PlainObject} module:svgcanvas.ImageExportedResults\n* @property {string} datauri Contents as a Data URL\n* @property {string} bloburl May be the empty string\n* @property {string} svg The SVG contents as a string\n* @property {string[]} issues The localization messages of `issueCodes`\n* @property {module:svgcanvas.IssueCode[]} issueCodes CanVG issues found with the SVG\n* @property {\"PNG\"|\"JPEG\"|\"BMP\"|\"WEBP\"|\"ICO\"} type The chosen image type\n* @property {\"image/png\"|\"image/jpeg\"|\"image/bmp\"|\"image/webp\"} mimeType The image MIME type\n* @property {Float} quality A decimal between 0 and 1 (for use with JPEG or WEBP)\n* @property {string} exportWindowName A convenience for passing along a `window.name` to target a window on which the export could be added\n*/\n\n/**\n* Generates a PNG (or JPG, BMP, WEBP) Data URL based on the current image,\n* then calls \"exported\" with an object including the string, image\n* information, and any issues found.\n* @function module:svgcanvas.SvgCanvas#rasterExport\n* @param {\"PNG\"|\"JPEG\"|\"BMP\"|\"WEBP\"|\"ICO\"} [imgType=\"PNG\"]\n* @param {Float} [quality] Between 0 and 1\n* @param {string} [exportWindowName]\n* @param {PlainObject} [opts]\n* @param {boolean} [opts.avoidEvent]\n* @fires module:svgcanvas.SvgCanvas#event:exported\n* @todo Confirm/fix ICO type\n* @returns {Promise<module:svgcanvas.ImageExportedResults>} Resolves to {@link module:svgcanvas.ImageExportedResults}\n*/\nthis.rasterExport = async function (imgType, quality, exportWindowName, opts = {}) {\n  const type = imgType === 'ICO' ? 'BMP' : (imgType || 'PNG');\n  const mimeType = 'image/' + type.toLowerCase();\n  const {issues, issueCodes} = getIssues();\n  const svg = this.svgCanvasToString();\n\n  if (!canvg) {\n    // eslint-disable-next-line node/no-unsupported-features/es-syntax\n    ({canvg} = await import(curConfig.canvgPath + 'canvg.js').default);\n  }\n  if (!$('#export_canvas').length) {\n    $('<canvas>', {id: 'export_canvas'}).hide().appendTo('body');\n  }\n  const c = $('#export_canvas')[0];\n  c.width = canvas.contentW;\n  c.height = canvas.contentH;\n\n  await canvg(c, svg);\n  // Todo: Make async/await utility in place of `toBlob`, so we can remove this constructor\n  // eslint-disable-next-line promise/avoid-new\n  return new Promise((resolve, reject) => {\n    const dataURLType = type.toLowerCase();\n    const datauri = quality\n      ? c.toDataURL('image/' + dataURLType, quality)\n      : c.toDataURL('image/' + dataURLType);\n    let bloburl;\n    /**\n     * Called when `bloburl` is available for export.\n     * @returns {void}\n     */\n    function done () {\n      const obj = {\n        datauri, bloburl, svg, issues, issueCodes, type: imgType,\n        mimeType, quality, exportWindowName\n      };\n      if (!opts.avoidEvent) {\n        call('exported', obj);\n      }\n      resolve(obj);\n    }\n    if (c.toBlob) {\n      c.toBlob((blob) => {\n        bloburl = createObjectURL(blob);\n        done();\n      }, mimeType, quality);\n      return;\n    }\n    bloburl = dataURLToObjectURL(datauri);\n    done();\n  });\n};\n/**\n * @external jsPDF\n */\n/**\n * @typedef {void|\"save\"|\"arraybuffer\"|\"blob\"|\"datauristring\"|\"dataurlstring\"|\"dataurlnewwindow\"|\"datauri\"|\"dataurl\"} external:jsPDF.OutputType\n * @todo Newer version to add also allows these `outputType` values \"bloburi\"|\"bloburl\" which return strings, so document here and for `outputType` of `module:svgcanvas.PDFExportedResults` below if added\n*/\n/**\n* @typedef {PlainObject} module:svgcanvas.PDFExportedResults\n* @property {string} svg The SVG PDF output\n* @property {string|ArrayBuffer|Blob|window} output The output based on the `outputType`;\n* if `undefined`, \"datauristring\", \"dataurlstring\", \"datauri\",\n* or \"dataurl\", will be a string (`undefined` gives a document, while the others\n* build as Data URLs; \"datauri\" and \"dataurl\" change the location of the current page); if\n* \"arraybuffer\", will return `ArrayBuffer`; if \"blob\", returns a `Blob`;\n* if \"dataurlnewwindow\", will change the current page's location and return a string\n* if in Safari and no window object is found; otherwise opens in, and returns, a new `window`\n* object; if \"save\", will have the same return as \"dataurlnewwindow\" if\n* `navigator.getUserMedia` support is found without `URL.createObjectURL` support; otherwise\n* returns `undefined` but attempts to save\n* @property {external:jsPDF.OutputType} outputType\n* @property {string[]} issues The human-readable localization messages of corresponding `issueCodes`\n* @property {module:svgcanvas.IssueCode[]} issueCodes\n* @property {string} exportWindowName\n*/\n\n/**\n* Generates a PDF based on the current image, then calls \"exportedPDF\" with\n* an object including the string, the data URL, and any issues found.\n* @function module:svgcanvas.SvgCanvas#exportPDF\n* @param {string} [exportWindowName] Will also be used for the download file name here\n* @param {external:jsPDF.OutputType} [outputType=\"dataurlstring\"]\n* @fires module:svgcanvas.SvgCanvas#event:exportedPDF\n* @returns {Promise<module:svgcanvas.PDFExportedResults>} Resolves to {@link module:svgcanvas.PDFExportedResults}\n*/\nthis.exportPDF = async function (\n  exportWindowName,\n  outputType = isChrome() ? 'save' : undefined\n) {\n  if (!window.jsPDF) {\n    // Todo: Switch to `import()` when widely supported and available (also allow customization of path)\n    // eslint-disable-next-line node/no-unsupported-features/es-syntax\n    await import('../editor/jspdf/underscore-min.js');\n    // eslint-disable-next-line node/no-unsupported-features/es-syntax\n    await import('../editor/jspdf/jspdf.min.js');\n    // eslint-disable-next-line node/no-unsupported-features/es-syntax\n    await import('../editor/jspdf/jspdf.plugin.svgToPdf.js');\n  }\n\n  const res = getResolution();\n  const orientation = res.w > res.h ? 'landscape' : 'portrait';\n  const unit = 'pt'; // curConfig.baseUnit; // We could use baseUnit, but that is presumably not intended for export purposes\n\n  // Todo: Give options to use predefined jsPDF formats like \"a4\", etc. from pull-down (with option to keep customizable)\n  const doc = jsPDF({\n    orientation,\n    unit,\n    format: [res.w, res.h]\n    // , compressPdf: true\n  });\n  const docTitle = getDocumentTitle();\n  doc.setProperties({\n    title: docTitle /* ,\n    subject: '',\n    author: '',\n    keywords: '',\n    creator: '' */\n  });\n  const {issues, issueCodes} = getIssues();\n  const svg = this.svgCanvasToString();\n  doc.addSVG(svg, 0, 0);\n\n  // doc.output('save'); // Works to open in a new\n  //  window; todo: configure this and other export\n  //  options to optionally work in this manner as\n  //  opposed to opening a new tab\n  outputType = outputType || 'dataurlstring';\n  const obj = {svg, issues, issueCodes, exportWindowName, outputType};\n  obj.output = doc.output(outputType, outputType === 'save' ? (exportWindowName || 'svg.pdf') : undefined);\n  call('exportedPDF', obj);\n  return obj;\n};\n\n/**\n* Returns the current drawing as raw SVG XML text.\n* @function module:svgcanvas.SvgCanvas#getSvgString\n* @returns {string} The current drawing as raw SVG XML text.\n*/\nthis.getSvgString = function () {\n  saveOptions.apply = false;\n  return this.svgCanvasToString();\n};\n\n/**\n* This function determines whether to use a nonce in the prefix, when\n* generating IDs for future documents in SVG-Edit.\n* If you're controlling SVG-Edit externally, and want randomized IDs, call\n* this BEFORE calling `svgCanvas.setSvgString`.\n* @function module:svgcanvas.SvgCanvas#randomizeIds\n* @param {boolean} [enableRandomization] If true, adds a nonce to the prefix. Thus\n* `svgCanvas.randomizeIds() <==> svgCanvas.randomizeIds(true)`\n* @returns {void}\n*/\nthis.randomizeIds = function (enableRandomization) {\n  if (arguments.length > 0 && enableRandomization === false) {\n    draw.randomizeIds(false, getCurrentDrawing());\n  } else {\n    draw.randomizeIds(true, getCurrentDrawing());\n  }\n};\n\n/**\n* Ensure each element has a unique ID.\n* @function module:svgcanvas.SvgCanvas#uniquifyElems\n* @param {Element} g - The parent element of the tree to give unique IDs\n* @returns {void}\n*/\nconst uniquifyElems = this.uniquifyElems = function (g) {\n  const ids = {};\n  // TODO: Handle markers and connectors. These are not yet re-identified properly\n  // as their referring elements do not get remapped.\n  //\n  // <marker id='se_marker_end_svg_7'/>\n  // <polyline id='svg_7' se:connector='svg_1 svg_6' marker-end='url(#se_marker_end_svg_7)'/>\n  //\n  // Problem #1: if svg_1 gets renamed, we do not update the polyline's se:connector attribute\n  // Problem #2: if the polyline svg_7 gets renamed, we do not update the marker id nor the polyline's marker-end attribute\n  const refElems = ['filter', 'linearGradient', 'pattern', 'radialGradient', 'symbol', 'textPath', 'use'];\n\n  walkTree(g, function (n) {\n    // if it's an element node\n    if (n.nodeType === 1) {\n      // and the element has an ID\n      if (n.id) {\n        // and we haven't tracked this ID yet\n        if (!(n.id in ids)) {\n          // add this id to our map\n          ids[n.id] = {elem: null, attrs: [], hrefs: []};\n        }\n        ids[n.id].elem = n;\n      }\n\n      // now search for all attributes on this element that might refer\n      // to other elements\n      $.each(refAttrs, function (i, attr) {\n        const attrnode = n.getAttributeNode(attr);\n        if (attrnode) {\n          // the incoming file has been sanitized, so we should be able to safely just strip off the leading #\n          const url = getUrlFromAttr(attrnode.value),\n            refid = url ? url.substr(1) : null;\n          if (refid) {\n            if (!(refid in ids)) {\n              // add this id to our map\n              ids[refid] = {elem: null, attrs: [], hrefs: []};\n            }\n            ids[refid].attrs.push(attrnode);\n          }\n        }\n      });\n\n      // check xlink:href now\n      const href = getHref(n);\n      // TODO: what if an <image> or <a> element refers to an element internally?\n      if (href && refElems.includes(n.nodeName)) {\n        const refid = href.substr(1);\n        if (refid) {\n          if (!(refid in ids)) {\n            // add this id to our map\n            ids[refid] = {elem: null, attrs: [], hrefs: []};\n          }\n          ids[refid].hrefs.push(n);\n        }\n      }\n    }\n  });\n\n  // in ids, we now have a map of ids, elements and attributes, let's re-identify\n  for (const oldid in ids) {\n    if (!oldid) { continue; }\n    const {elem} = ids[oldid];\n    if (elem) {\n      const newid = getNextId();\n\n      // assign element its new id\n      elem.id = newid;\n\n      // remap all url() attributes\n      const {attrs} = ids[oldid];\n      let j = attrs.length;\n      while (j--) {\n        const attr = attrs[j];\n        attr.ownerElement.setAttribute(attr.name, 'url(#' + newid + ')');\n      }\n\n      // remap all href attributes\n      const hreffers = ids[oldid].hrefs;\n      let k = hreffers.length;\n      while (k--) {\n        const hreffer = hreffers[k];\n        setHref(hreffer, '#' + newid);\n      }\n    }\n  }\n};\n\n/**\n* Assigns reference data for each use element.\n* @function module:svgcanvas.SvgCanvas#setUseData\n* @param {Element} parent\n* @returns {void}\n*/\nconst setUseData = this.setUseData = function (parent) {\n  let elems = $(parent);\n\n  if (parent.tagName !== 'use') {\n    elems = elems.find('use');\n  }\n\n  elems.each(function () {\n    const id = getHref(this).substr(1);\n    const refElem = getElem(id);\n    if (!refElem) { return; }\n    $(this).data('ref', refElem);\n    if (refElem.tagName === 'symbol' || refElem.tagName === 'svg') {\n      $(this).data('symbol', refElem).data('ref', refElem);\n    }\n  });\n};\n\n/**\n* Converts gradients from userSpaceOnUse to objectBoundingBox.\n* @function module:svgcanvas.SvgCanvas#convertGradients\n* @param {Element} elem\n* @returns {void}\n*/\nconst convertGradients = this.convertGradients = function (elem) {\n  let elems = $(elem).find('linearGradient, radialGradient');\n  if (!elems.length && isWebkit()) {\n    // Bug in webkit prevents regular *Gradient selector search\n    elems = $(elem).find('*').filter(function () {\n      return (this.tagName.includes('Gradient'));\n    });\n  }\n\n  elems.each(function () {\n    const grad = this;\n    if ($(grad).attr('gradientUnits') === 'userSpaceOnUse') {\n      // TODO: Support more than one element with this ref by duplicating parent grad\n      const fillStrokeElems = $(svgcontent).find('[fill=\"url(#' + grad.id + ')\"],[stroke=\"url(#' + grad.id + ')\"]');\n      if (!fillStrokeElems.length) { return; }\n\n      // get object's bounding box\n      const bb = utilsGetBBox(fillStrokeElems[0]);\n\n      // This will occur if the element is inside a <defs> or a <symbol>,\n      // in which we shouldn't need to convert anyway.\n      if (!bb) { return; }\n\n      if (grad.tagName === 'linearGradient') {\n        const gCoords = $(grad).attr(['x1', 'y1', 'x2', 'y2']);\n\n        // If has transform, convert\n        const tlist = grad.gradientTransform.baseVal;\n        if (tlist && tlist.numberOfItems > 0) {\n          const m = transformListToTransform(tlist).matrix;\n          const pt1 = transformPoint(gCoords.x1, gCoords.y1, m);\n          const pt2 = transformPoint(gCoords.x2, gCoords.y2, m);\n\n          gCoords.x1 = pt1.x;\n          gCoords.y1 = pt1.y;\n          gCoords.x2 = pt2.x;\n          gCoords.y2 = pt2.y;\n          grad.removeAttribute('gradientTransform');\n        }\n\n        $(grad).attr({\n          x1: (gCoords.x1 - bb.x) / bb.width,\n          y1: (gCoords.y1 - bb.y) / bb.height,\n          x2: (gCoords.x2 - bb.x) / bb.width,\n          y2: (gCoords.y2 - bb.y) / bb.height\n        });\n        grad.removeAttribute('gradientUnits');\n      }\n      // else {\n      //   Note: radialGradient elements cannot be easily converted\n      //   because userSpaceOnUse will keep circular gradients, while\n      //   objectBoundingBox will x/y scale the gradient according to\n      //   its bbox.\n      //\n      //   For now we'll do nothing, though we should probably have\n      //   the gradient be updated as the element is moved, as\n      //   inkscape/illustrator do.\n      //\n      //   const gCoords = $(grad).attr(['cx', 'cy', 'r']);\n      //\n      //   $(grad).attr({\n      //     cx: (gCoords.cx - bb.x) / bb.width,\n      //     cy: (gCoords.cy - bb.y) / bb.height,\n      //     r: gCoords.r\n      //   });\n      //\n      //   grad.removeAttribute('gradientUnits');\n      // }\n    }\n  });\n};\n\n/**\n* Converts selected/given `<use>` or child SVG element to a group.\n* @function module:svgcanvas.SvgCanvas#convertToGroup\n* @param {Element} elem\n* @fires module:svgcanvas.SvgCanvas#event:selected\n* @returns {void}\n*/\nconst convertToGroup = this.convertToGroup = function (elem) {\n  if (!elem) {\n    elem = selectedElements[0];\n  }\n  const $elem = $(elem);\n  const batchCmd = new BatchCommand();\n  let ts;\n\n  if ($elem.data('gsvg')) {\n    // Use the gsvg as the new group\n    const svg = elem.firstChild;\n    const pt = $(svg).attr(['x', 'y']);\n\n    $(elem.firstChild.firstChild).unwrap();\n    $(elem).removeData('gsvg');\n\n    const tlist = getTransformList(elem);\n    const xform = svgroot.createSVGTransform();\n    xform.setTranslate(pt.x, pt.y);\n    tlist.appendItem(xform);\n    recalculateDimensions(elem);\n    call('selected', [elem]);\n  } else if ($elem.data('symbol')) {\n    elem = $elem.data('symbol');\n\n    ts = $elem.attr('transform');\n    const pos = $elem.attr(['x', 'y']);\n\n    const vb = elem.getAttribute('viewBox');\n\n    if (vb) {\n      const nums = vb.split(' ');\n      pos.x -= Number(nums[0]);\n      pos.y -= Number(nums[1]);\n    }\n\n    // Not ideal, but works\n    ts += ' translate(' + (pos.x || 0) + ',' + (pos.y || 0) + ')';\n\n    const prev = $elem.prev();\n\n    // Remove <use> element\n    batchCmd.addSubCommand(new RemoveElementCommand($elem[0], $elem[0].nextSibling, $elem[0].parentNode));\n    $elem.remove();\n\n    // See if other elements reference this symbol\n    const hasMore = $(svgcontent).find('use:data(symbol)').length;\n\n    const g = svgdoc.createElementNS(NS.SVG, 'g');\n    const childs = elem.childNodes;\n\n    let i;\n    for (i = 0; i < childs.length; i++) {\n      g.append(childs[i].cloneNode(true));\n    }\n\n    // Duplicate the gradients for Gecko, since they weren't included in the <symbol>\n    if (isGecko()) {\n      const dupeGrads = $(findDefs()).children('linearGradient,radialGradient,pattern').clone();\n      $(g).append(dupeGrads);\n    }\n\n    if (ts) {\n      g.setAttribute('transform', ts);\n    }\n\n    const parent = elem.parentNode;\n\n    uniquifyElems(g);\n\n    // Put the dupe gradients back into <defs> (after uniquifying them)\n    if (isGecko()) {\n      $(findDefs()).append($(g).find('linearGradient,radialGradient,pattern'));\n    }\n\n    // now give the g itself a new id\n    g.id = getNextId();\n\n    prev.after(g);\n\n    if (parent) {\n      if (!hasMore) {\n        // remove symbol/svg element\n        const {nextSibling} = elem;\n        elem.remove();\n        batchCmd.addSubCommand(new RemoveElementCommand(elem, nextSibling, parent));\n      }\n      batchCmd.addSubCommand(new InsertElementCommand(g));\n    }\n\n    setUseData(g);\n\n    if (isGecko()) {\n      convertGradients(findDefs());\n    } else {\n      convertGradients(g);\n    }\n\n    // recalculate dimensions on the top-level children so that unnecessary transforms\n    // are removed\n    walkTreePost(g, function (n) {\n      try {\n        recalculateDimensions(n);\n      } catch (e) {\n        console.log(e); // eslint-disable-line no-console\n      }\n    });\n\n    // Give ID for any visible element missing one\n    $(g).find(visElems).each(function () {\n      if (!this.id) { this.id = getNextId(); }\n    });\n\n    selectOnly([g]);\n\n    const cm = pushGroupProperties(g, true);\n    if (cm) {\n      batchCmd.addSubCommand(cm);\n    }\n\n    addCommandToHistory(batchCmd);\n  } else {\n    console.log('Unexpected element to ungroup:', elem); // eslint-disable-line no-console\n  }\n};\n\n/**\n* This function sets the current drawing as the input SVG XML.\n* @function module:svgcanvas.SvgCanvas#setSvgString\n* @param {string} xmlString - The SVG as XML text.\n* @param {boolean} [preventUndo=false] - Indicates if we want to do the\n* changes without adding them to the undo stack - e.g. for initializing a\n* drawing on page load.\n* @fires module:svgcanvas.SvgCanvas#event:setnonce\n* @fires module:svgcanvas.SvgCanvas#event:unsetnonce\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {boolean} This function returns `false` if the set was\n*     unsuccessful, `true` otherwise.\n*/\nthis.setSvgString = function (xmlString, preventUndo) {\n  try {\n    // convert string into XML document\n    const newDoc = text2xml(xmlString);\n    if (newDoc.firstElementChild &&\n      newDoc.firstElementChild.namespaceURI !== NS.SVG) {\n      return false;\n    }\n\n    this.prepareSvg(newDoc);\n\n    const batchCmd = new BatchCommand('Change Source');\n\n    // remove old svg document\n    const {nextSibling} = svgcontent;\n\n    svgcontent.remove();\n    const oldzoom = svgcontent;\n    batchCmd.addSubCommand(new RemoveElementCommand(oldzoom, nextSibling, svgroot));\n\n    // set new svg document\n    // If DOM3 adoptNode() available, use it. Otherwise fall back to DOM2 importNode()\n    if (svgdoc.adoptNode) {\n      svgcontent = svgdoc.adoptNode(newDoc.documentElement);\n    } else {\n      svgcontent = svgdoc.importNode(newDoc.documentElement, true);\n    }\n\n    svgroot.append(svgcontent);\n    const content = $(svgcontent);\n\n    canvas.current_drawing_ = new draw.Drawing(svgcontent, idprefix);\n\n    // retrieve or set the nonce\n    const nonce = getCurrentDrawing().getNonce();\n    if (nonce) {\n      call('setnonce', nonce);\n    } else {\n      call('unsetnonce');\n    }\n\n    // change image href vals if possible\n    content.find('image').each(function () {\n      const image = this;\n      preventClickDefault(image);\n      const val = getHref(this);\n      if (val) {\n        if (val.startsWith('data:')) {\n          // Check if an SVG-edit data URI\n          const m = val.match(/svgedit_url=(.*?);/);\n          // const m = val.match(/svgedit_url=(?<url>.*?);/);\n          if (m) {\n            const url = decodeURIComponent(m[1]);\n            // const url = decodeURIComponent(m.groups.url);\n            $(new Image()).load(function () {\n              image.setAttributeNS(NS.XLINK, 'xlink:href', url);\n            }).attr('src', url);\n          }\n        }\n        // Add to encodableImages if it loads\n        canvas.embedImage(val);\n      }\n    });\n\n    // Wrap child SVGs in group elements\n    content.find('svg').each(function () {\n      // Skip if it's in a <defs>\n      if ($(this).closest('defs').length) { return; }\n\n      uniquifyElems(this);\n\n      // Check if it already has a gsvg group\n      const pa = this.parentNode;\n      if (pa.childNodes.length === 1 && pa.nodeName === 'g') {\n        $(pa).data('gsvg', this);\n        pa.id = pa.id || getNextId();\n      } else {\n        groupSvgElem(this);\n      }\n    });\n\n    // For Firefox: Put all paint elems in defs\n    if (isGecko()) {\n      content.find('linearGradient, radialGradient, pattern').appendTo(findDefs());\n    }\n\n    // Set ref element for <use> elements\n\n    // TODO: This should also be done if the object is re-added through \"redo\"\n    setUseData(content);\n\n    convertGradients(content[0]);\n\n    const attrs = {\n      id: 'svgcontent',\n      overflow: curConfig.show_outside_canvas ? 'visible' : 'hidden'\n    };\n\n    let percs = false;\n\n    // determine proper size\n    if (content.attr('viewBox')) {\n      const vb = content.attr('viewBox').split(' ');\n      attrs.width = vb[2];\n      attrs.height = vb[3];\n    // handle content that doesn't have a viewBox\n    } else {\n      $.each(['width', 'height'], function (i, dim) {\n        // Set to 100 if not given\n        const val = content.attr(dim) || '100%';\n\n        if (String(val).substr(-1) === '%') {\n          // Use user units if percentage given\n          percs = true;\n        } else {\n          attrs[dim] = convertToNum(dim, val);\n        }\n      });\n    }\n\n    // identify layers\n    draw.identifyLayers();\n\n    // Give ID for any visible layer children missing one\n    content.children().find(visElems).each(function () {\n      if (!this.id) { this.id = getNextId(); }\n    });\n\n    // Percentage width/height, so let's base it on visible elements\n    if (percs) {\n      const bb = getStrokedBBoxDefaultVisible();\n      attrs.width = bb.width + bb.x;\n      attrs.height = bb.height + bb.y;\n    }\n\n    // Just in case negative numbers are given or\n    // result from the percs calculation\n    if (attrs.width <= 0) { attrs.width = 100; }\n    if (attrs.height <= 0) { attrs.height = 100; }\n\n    content.attr(attrs);\n    this.contentW = attrs.width;\n    this.contentH = attrs.height;\n\n    batchCmd.addSubCommand(new InsertElementCommand(svgcontent));\n    // update root to the correct size\n    const changes = content.attr(['width', 'height']);\n    batchCmd.addSubCommand(new ChangeElementCommand(svgroot, changes));\n\n    // reset zoom\n    currentZoom = 1;\n\n    // reset transform lists\n    resetListMap();\n    clearSelection();\n    pathModule.clearData();\n    svgroot.append(selectorManager.selectorParentGroup);\n\n    if (!preventUndo) addCommandToHistory(batchCmd);\n    call('changed', [svgcontent]);\n  } catch (e) {\n    console.log(e); // eslint-disable-line no-console\n    return false;\n  }\n\n  return true;\n};\n\n/**\n* This function imports the input SVG XML as a `<symbol>` in the `<defs>`, then adds a\n* `<use>` to the current layer.\n* @function module:svgcanvas.SvgCanvas#importSvgString\n* @param {string} xmlString - The SVG as XML text.\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {null|Element} This function returns null if the import was unsuccessful, or the element otherwise.\n* @todo\n* - properly handle if namespace is introduced by imported content (must add to svgcontent\n* and update all prefixes in the imported node)\n* - properly handle recalculating dimensions, `recalculateDimensions()` doesn't handle\n* arbitrary transform lists, but makes some assumptions about how the transform list\n* was obtained\n*/\nthis.importSvgString = function (xmlString) {\n  let j, ts, useEl;\n  try {\n    // Get unique ID\n    const uid = encode64(xmlString.length + xmlString).substr(0, 32);\n\n    let useExisting = false;\n    // Look for symbol and make sure symbol exists in image\n    if (importIds[uid]) {\n      if ($(importIds[uid].symbol).parents('#svgroot').length) {\n        useExisting = true;\n      }\n    }\n\n    const batchCmd = new BatchCommand('Import Image');\n    let symbol;\n    if (useExisting) {\n      ({symbol} = importIds[uid]);\n      ts = importIds[uid].xform;\n    } else {\n      // convert string into XML document\n      const newDoc = text2xml(xmlString);\n\n      this.prepareSvg(newDoc);\n\n      // import new svg document into our document\n      let svg;\n      // If DOM3 adoptNode() available, use it. Otherwise fall back to DOM2 importNode()\n      if (svgdoc.adoptNode) {\n        svg = svgdoc.adoptNode(newDoc.documentElement);\n      } else {\n        svg = svgdoc.importNode(newDoc.documentElement, true);\n      }\n\n      uniquifyElems(svg);\n\n      const innerw = convertToNum('width', svg.getAttribute('width')),\n        innerh = convertToNum('height', svg.getAttribute('height')),\n        innervb = svg.getAttribute('viewBox'),\n        // if no explicit viewbox, create one out of the width and height\n        vb = innervb ? innervb.split(' ') : [0, 0, innerw, innerh];\n      for (j = 0; j < 4; ++j) {\n        vb[j] = Number(vb[j]);\n      }\n\n      // TODO: properly handle preserveAspectRatio\n      const // canvasw = +svgcontent.getAttribute('width'),\n        canvash = Number(svgcontent.getAttribute('height'));\n      // imported content should be 1/3 of the canvas on its largest dimension\n\n      if (innerh > innerw) {\n        ts = 'scale(' + (canvash / 3) / vb[3] + ')';\n      } else {\n        ts = 'scale(' + (canvash / 3) / vb[2] + ')';\n      }\n\n      // Hack to make recalculateDimensions understand how to scale\n      ts = 'translate(0) ' + ts + ' translate(0)';\n\n      symbol = svgdoc.createElementNS(NS.SVG, 'symbol');\n      const defs = findDefs();\n\n      if (isGecko()) {\n        // Move all gradients into root for Firefox, workaround for this bug:\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=353575\n        // TODO: Make this properly undo-able.\n        $(svg).find('linearGradient, radialGradient, pattern').appendTo(defs);\n      }\n\n      while (svg.firstChild) {\n        const first = svg.firstChild;\n        symbol.append(first);\n      }\n      const attrs = svg.attributes;\n      for (const attr of attrs) { // Ok for `NamedNodeMap`\n        symbol.setAttribute(attr.nodeName, attr.value);\n      }\n      symbol.id = getNextId();\n\n      // Store data\n      importIds[uid] = {\n        symbol,\n        xform: ts\n      };\n\n      findDefs().append(symbol);\n      batchCmd.addSubCommand(new InsertElementCommand(symbol));\n    }\n\n    useEl = svgdoc.createElementNS(NS.SVG, 'use');\n    useEl.id = getNextId();\n    setHref(useEl, '#' + symbol.id);\n\n    (currentGroup || getCurrentDrawing().getCurrentLayer()).append(useEl);\n    batchCmd.addSubCommand(new InsertElementCommand(useEl));\n    clearSelection();\n\n    useEl.setAttribute('transform', ts);\n    recalculateDimensions(useEl);\n    $(useEl).data('symbol', symbol).data('ref', symbol);\n    addToSelection([useEl]);\n\n    // TODO: Find way to add this in a recalculateDimensions-parsable way\n    // if (vb[0] !== 0 || vb[1] !== 0) {\n    //   ts = 'translate(' + (-vb[0]) + ',' + (-vb[1]) + ') ' + ts;\n    // }\n    addCommandToHistory(batchCmd);\n    call('changed', [svgcontent]);\n  } catch (e) {\n    console.log(e); // eslint-disable-line no-console\n    return null;\n  }\n\n  // we want to return the element so we can automatically select it\n  return useEl;\n};\n\n// Could deprecate, but besides external uses, their usage makes clear that\n//  canvas is a dependency for all of these\nconst dr = {\n  identifyLayers, createLayer, cloneLayer, deleteCurrentLayer,\n  setCurrentLayer, renameCurrentLayer, setCurrentLayerPosition,\n  setLayerVisibility, moveSelectedToLayer, mergeLayer, mergeAllLayers,\n  leaveContext, setContext\n};\nObject.entries(dr).forEach(([prop, propVal]) => {\n  canvas[prop] = propVal;\n});\ndraw.init(\n  /**\n  * @implements {module:draw.DrawCanvasInit}\n  */\n  {\n    pathActions,\n    getCurrentGroup () {\n      return currentGroup;\n    },\n    setCurrentGroup (cg) {\n      currentGroup = cg;\n    },\n    getSelectedElements,\n    getSVGContent,\n    undoMgr,\n    elData,\n    getCurrentDrawing,\n    clearSelection,\n    call,\n    addCommandToHistory,\n    /**\n     * @fires module:svgcanvas.SvgCanvas#event:changed\n     * @returns {void}\n     */\n    changeSVGContent () {\n      call('changed', [svgcontent]);\n    }\n  }\n);\n\n/**\n* Group: Document functions.\n*/\n\n/**\n* Clears the current document. This is not an undoable action.\n* @function module:svgcanvas.SvgCanvas#clear\n* @fires module:svgcanvas.SvgCanvas#event:cleared\n* @returns {void}\n*/\nthis.clear = function () {\n  pathActions.clear();\n\n  clearSelection();\n\n  // clear the svgcontent node\n  canvas.clearSvgContentElement();\n\n  // create new document\n  canvas.current_drawing_ = new draw.Drawing(svgcontent);\n\n  // create empty first layer\n  canvas.createLayer('Layer 1');\n\n  // clear the undo stack\n  canvas.undoMgr.resetUndoStack();\n\n  // reset the selector manager\n  selectorManager.initGroup();\n\n  // reset the rubber band box\n  rubberBox = selectorManager.getRubberBandBox();\n\n  call('cleared');\n};\n\n// Alias function\nthis.linkControlPoints = pathActions.linkControlPoints;\n\n/**\n* @function module:svgcanvas.SvgCanvas#getContentElem\n* @returns {Element} The content DOM element\n*/\nthis.getContentElem = function () { return svgcontent; };\n\n/**\n* @function module:svgcanvas.SvgCanvas#getRootElem\n* @returns {SVGSVGElement} The root DOM element\n*/\nthis.getRootElem = function () { return svgroot; };\n\n/**\n* @typedef {PlainObject} DimensionsAndZoom\n* @property {Float} w Width\n* @property {Float} h Height\n* @property {Float} zoom Zoom\n*/\n\n/**\n* @function module:svgcanvas.SvgCanvas#getResolution\n* @returns {DimensionsAndZoom} The current dimensions and zoom level in an object\n*/\nconst getResolution = this.getResolution = function () {\n//    const vb = svgcontent.getAttribute('viewBox').split(' ');\n//    return {w:vb[2], h:vb[3], zoom: currentZoom};\n\n  const w = svgcontent.getAttribute('width') / currentZoom;\n  const h = svgcontent.getAttribute('height') / currentZoom;\n\n  return {\n    w,\n    h,\n    zoom: currentZoom\n  };\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#getSnapToGrid\n* @returns {boolean} The current snap to grid setting\n*/\nthis.getSnapToGrid = function () { return curConfig.gridSnapping; };\n\n/**\n* @function module:svgcanvas.SvgCanvas#getVersion\n* @returns {string} A string which describes the revision number of SvgCanvas.\n*/\nthis.getVersion = function () {\n  return 'svgcanvas.js ($Rev$)';\n};\n\n/**\n* Update interface strings with given values.\n* @function module:svgcanvas.SvgCanvas#setUiStrings\n* @param {module:path.uiStrings} strs - Object with strings (see the [locales API]{@link module:locale.LocaleStrings} and the [tutorial]{@tutorial LocaleDocs})\n* @returns {void}\n*/\nthis.setUiStrings = function (strs) {\n  Object.assign(uiStrings, strs.notification);\n  $ = jQueryPluginDBox($, strs.common);\n  pathModule.setUiStrings(strs);\n};\n\n/**\n* Update configuration options with given values.\n* @function module:svgcanvas.SvgCanvas#setConfig\n* @param {module:SVGEditor.Config} opts - Object with options\n* @returns {void}\n*/\nthis.setConfig = function (opts) {\n  Object.assign(curConfig, opts);\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#getTitle\n* @param {Element} [elem]\n* @returns {string|void} the current group/SVG's title contents or\n* `undefined` if no element is passed nd there are no selected elements.\n*/\nthis.getTitle = function (elem) {\n  elem = elem || selectedElements[0];\n  if (!elem) { return undefined; }\n  elem = $(elem).data('gsvg') || $(elem).data('symbol') || elem;\n  const childs = elem.childNodes;\n  for (const child of childs) {\n    if (child.nodeName === 'title') {\n      return child.textContent;\n    }\n  }\n  return '';\n};\n\n/**\n* Sets the group/SVG's title content.\n* @function module:svgcanvas.SvgCanvas#setGroupTitle\n* @param {string} val\n* @todo Combine this with `setDocumentTitle`\n* @returns {void}\n*/\nthis.setGroupTitle = function (val) {\n  let elem = selectedElements[0];\n  elem = $(elem).data('gsvg') || elem;\n\n  const ts = $(elem).children('title');\n\n  const batchCmd = new BatchCommand('Set Label');\n\n  let title;\n  if (!val.length) {\n    // Remove title element\n    const tsNextSibling = ts.nextSibling;\n    batchCmd.addSubCommand(new RemoveElementCommand(ts[0], tsNextSibling, elem));\n    ts.remove();\n  } else if (ts.length) {\n    // Change title contents\n    title = ts[0];\n    batchCmd.addSubCommand(new ChangeElementCommand(title, {'#text': title.textContent}));\n    title.textContent = val;\n  } else {\n    // Add title element\n    title = svgdoc.createElementNS(NS.SVG, 'title');\n    title.textContent = val;\n    $(elem).prepend(title);\n    batchCmd.addSubCommand(new InsertElementCommand(title));\n  }\n\n  addCommandToHistory(batchCmd);\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#getDocumentTitle\n* @returns {string|void} The current document title or an empty string if not found\n*/\nconst getDocumentTitle = this.getDocumentTitle = function () {\n  return canvas.getTitle(svgcontent);\n};\n\n/**\n* Adds/updates a title element for the document with the given name.\n* This is an undoable action.\n* @function module:svgcanvas.SvgCanvas#setDocumentTitle\n* @param {string} newTitle - String with the new title\n* @returns {void}\n*/\nthis.setDocumentTitle = function (newTitle) {\n  const childs = svgcontent.childNodes;\n  let docTitle = false, oldTitle = '';\n\n  const batchCmd = new BatchCommand('Change Image Title');\n\n  for (const child of childs) {\n    if (child.nodeName === 'title') {\n      docTitle = child;\n      oldTitle = docTitle.textContent;\n      break;\n    }\n  }\n  if (!docTitle) {\n    docTitle = svgdoc.createElementNS(NS.SVG, 'title');\n    svgcontent.insertBefore(docTitle, svgcontent.firstChild);\n    // svgcontent.firstChild.before(docTitle); // Ok to replace above with this?\n  }\n\n  if (newTitle.length) {\n    docTitle.textContent = newTitle;\n  } else {\n    // No title given, so element is not necessary\n    docTitle.remove();\n  }\n  batchCmd.addSubCommand(new ChangeElementCommand(docTitle, {'#text': oldTitle}));\n  addCommandToHistory(batchCmd);\n};\n\n/**\n* Returns the editor's namespace URL, optionally adding it to the root element.\n* @function module:svgcanvas.SvgCanvas#getEditorNS\n* @param {boolean} [add] - Indicates whether or not to add the namespace value\n* @returns {string} The editor's namespace URL\n*/\nthis.getEditorNS = function (add) {\n  if (add) {\n    svgcontent.setAttribute('xmlns:se', NS.SE);\n  }\n  return NS.SE;\n};\n\n/**\n* Changes the document's dimensions to the given size.\n* @function module:svgcanvas.SvgCanvas#setResolution\n* @param {Float|\"fit\"} x - Number with the width of the new dimensions in user units.\n* Can also be the string \"fit\" to indicate \"fit to content\".\n* @param {Float} y - Number with the height of the new dimensions in user units.\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {boolean} Indicates if resolution change was successful.\n* It will fail on \"fit to content\" option with no content to fit to.\n*/\nthis.setResolution = function (x, y) {\n  const res = getResolution();\n  const {w, h} = res;\n  let batchCmd;\n\n  if (x === 'fit') {\n    // Get bounding box\n    const bbox = getStrokedBBoxDefaultVisible();\n\n    if (bbox) {\n      batchCmd = new BatchCommand('Fit Canvas to Content');\n      const visEls = getVisibleElements();\n      addToSelection(visEls);\n      const dx = [], dy = [];\n      $.each(visEls, function (i, item) {\n        dx.push(bbox.x * -1);\n        dy.push(bbox.y * -1);\n      });\n\n      const cmd = canvas.moveSelectedElements(dx, dy, true);\n      batchCmd.addSubCommand(cmd);\n      clearSelection();\n\n      x = Math.round(bbox.width);\n      y = Math.round(bbox.height);\n    } else {\n      return false;\n    }\n  }\n  if (x !== w || y !== h) {\n    if (!batchCmd) {\n      batchCmd = new BatchCommand('Change Image Dimensions');\n    }\n\n    x = convertToNum('width', x);\n    y = convertToNum('height', y);\n\n    svgcontent.setAttribute('width', x);\n    svgcontent.setAttribute('height', y);\n\n    this.contentW = x;\n    this.contentH = y;\n    batchCmd.addSubCommand(new ChangeElementCommand(svgcontent, {width: w, height: h}));\n\n    svgcontent.setAttribute('viewBox', [0, 0, x / currentZoom, y / currentZoom].join(' '));\n    batchCmd.addSubCommand(new ChangeElementCommand(svgcontent, {viewBox: ['0 0', w, h].join(' ')}));\n\n    addCommandToHistory(batchCmd);\n    call('changed', [svgcontent]);\n  }\n  return true;\n};\n\n/**\n* @typedef {module:jQueryAttr.Attributes} module:svgcanvas.ElementPositionInCanvas\n* @property {Float} x\n* @property {Float} y\n*/\n\n/**\n* @function module:svgcanvas.SvgCanvas#getOffset\n* @returns {module:svgcanvas.ElementPositionInCanvas} An object with `x`, `y` values indicating the svgcontent element's\n* position in the editor's canvas.\n*/\nthis.getOffset = function () {\n  return $(svgcontent).attr(['x', 'y']);\n};\n\n/**\n * @typedef {PlainObject} module:svgcanvas.ZoomAndBBox\n * @property {Float} zoom\n * @property {module:utilities.BBoxObject} bbox\n */\n/**\n* Sets the zoom level on the canvas-side based on the given value.\n* @function module:svgcanvas.SvgCanvas#setBBoxZoom\n* @param {\"selection\"|\"canvas\"|\"content\"|\"layer\"|module:SVGEditor.BBoxObjectWithFactor} val - Bounding box object to zoom to or string indicating zoom option. Note: the object value type is defined in `svg-editor.js`\n* @param {Integer} editorW - The editor's workarea box's width\n* @param {Integer} editorH - The editor's workarea box's height\n* @returns {module:svgcanvas.ZoomAndBBox|void}\n*/\nthis.setBBoxZoom = function (val, editorW, editorH) {\n  let spacer = 0.85;\n  let bb;\n  const calcZoom = function (bb) { // eslint-disable-line no-shadow\n    if (!bb) { return false; }\n    const wZoom = Math.round((editorW / bb.width) * 100 * spacer) / 100;\n    const hZoom = Math.round((editorH / bb.height) * 100 * spacer) / 100;\n    const zoom = Math.min(wZoom, hZoom);\n    canvas.setZoom(zoom);\n    return {zoom, bbox: bb};\n  };\n\n  if (typeof val === 'object') {\n    bb = val;\n    if (bb.width === 0 || bb.height === 0) {\n      const newzoom = bb.zoom ? bb.zoom : currentZoom * bb.factor;\n      canvas.setZoom(newzoom);\n      return {zoom: currentZoom, bbox: bb};\n    }\n    return calcZoom(bb);\n  }\n\n  switch (val) {\n  case 'selection': {\n    if (!selectedElements[0]) { return undefined; }\n    const selectedElems = $.map(selectedElements, function (n) {\n      if (n) {\n        return n;\n      }\n      return undefined;\n    });\n    bb = getStrokedBBoxDefaultVisible(selectedElems);\n    break;\n  } case 'canvas': {\n    const res = getResolution();\n    spacer = 0.95;\n    bb = {width: res.w, height: res.h, x: 0, y: 0};\n    break;\n  } case 'content':\n    bb = getStrokedBBoxDefaultVisible();\n    break;\n  case 'layer':\n    bb = getStrokedBBoxDefaultVisible(getVisibleElements(getCurrentDrawing().getCurrentLayer()));\n    break;\n  default:\n    return undefined;\n  }\n  return calcZoom(bb);\n};\n\n/**\n* The zoom level has changed. Supplies the new zoom level as a number (not percentage).\n* @event module:svgcanvas.SvgCanvas#event:ext_zoomChanged\n* @type {Float}\n*/\n/**\n* The bottom panel was updated.\n* @event module:svgcanvas.SvgCanvas#event:ext_toolButtonStateUpdate\n* @type {PlainObject}\n* @property {boolean} nofill Indicates fill is disabled\n* @property {boolean} nostroke Indicates stroke is disabled\n*/\n/**\n* The element selection has changed (elements were added/removed from selection).\n* @event module:svgcanvas.SvgCanvas#event:ext_selectedChanged\n* @type {PlainObject}\n* @property {Element[]} elems Array of the newly selected elements\n* @property {Element|null} selectedElement The single selected element\n* @property {boolean} multiselected Indicates whether one or more elements were selected\n*/\n/**\n* Called when part of element is in process of changing, generally on\n* mousemove actions like rotate, move, etc.\n* @event module:svgcanvas.SvgCanvas#event:ext_elementTransition\n* @type {PlainObject}\n* @property {Element[]} elems Array of transitioning elements\n*/\n/**\n* One or more elements were changed.\n* @event module:svgcanvas.SvgCanvas#event:ext_elementChanged\n* @type {PlainObject}\n* @property {Element[]} elems Array of the affected elements\n*/\n/**\n* Invoked as soon as the locale is ready.\n* @event module:svgcanvas.SvgCanvas#event:ext_langReady\n* @type {PlainObject}\n* @property {string} lang The two-letter language code\n* @property {module:SVGEditor.uiStrings} uiStrings\n* @property {module:SVGEditor~ImportLocale} importLocale\n*/\n/**\n* The language was changed. Two-letter code of the new language.\n* @event module:svgcanvas.SvgCanvas#event:ext_langChanged\n* @type {string}\n*/\n/**\n* Means for an extension to add locale data. The two-letter language code.\n* @event module:svgcanvas.SvgCanvas#event:ext_addLangData\n* @type {PlainObject}\n* @property {string} lang\n* @property {module:SVGEditor~ImportLocale} importLocale\n*/\n/**\n * Called when new image is created.\n * @event module:svgcanvas.SvgCanvas#event:ext_onNewDocument\n * @type {void}\n */\n/**\n * Called when sidepanel is resized or toggled.\n * @event module:svgcanvas.SvgCanvas#event:ext_workareaResized\n * @type {void}\n*/\n/**\n * Called upon addition of the extension, or, if svgicons are set,\n * after the icons are ready when extension SVG icons have loaded.\n * @event module:svgcanvas.SvgCanvas#event:ext_callback\n * @type {void}\n*/\n\n/**\n* Sets the zoom to the given level.\n* @function module:svgcanvas.SvgCanvas#setZoom\n* @param {Float} zoomLevel - Float indicating the zoom level to change to\n* @fires module:svgcanvas.SvgCanvas#event:ext_zoomChanged\n* @returns {void}\n*/\nthis.setZoom = function (zoomLevel) {\n  const res = getResolution();\n  svgcontent.setAttribute('viewBox', '0 0 ' + res.w / zoomLevel + ' ' + res.h / zoomLevel);\n  currentZoom = zoomLevel;\n  $.each(selectedElements, function (i, elem) {\n    if (!elem) { return; }\n    selectorManager.requestSelector(elem).resize();\n  });\n  pathActions.zoomChange();\n  runExtensions('zoomChanged', /** @type {module:svgcanvas.SvgCanvas#event:ext_zoomChanged} */ zoomLevel);\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#getMode\n* @returns {string} The current editor mode string\n*/\nthis.getMode = function () {\n  return currentMode;\n};\n\n/**\n* Sets the editor's mode to the given string.\n* @function module:svgcanvas.SvgCanvas#setMode\n* @param {string} name - String with the new mode to change to\n* @returns {void}\n*/\nthis.setMode = function (name) {\n  pathActions.clear(true);\n  textActions.clear();\n  curProperties = (selectedElements[0] && selectedElements[0].nodeName === 'text') ? curText : curShape;\n  currentMode = name;\n};\n\n/**\n* Group: Element Styling.\n*/\n\n/**\n* @typedef {PlainObject} module:svgcanvas.PaintOptions\n* @property {\"solidColor\"} type\n*/\n\n/**\n* @function module:svgcanvas.SvgCanvas#getColor\n* @param {string} type\n* @returns {string|module:svgcanvas.PaintOptions|Float|module:jGraduate~Paint} The current fill/stroke option\n*/\nthis.getColor = function (type) {\n  return curProperties[type];\n};\n\n/**\n* Change the current stroke/fill color/gradient value.\n* @function module:svgcanvas.SvgCanvas#setColor\n* @param {string} type - String indicating fill or stroke\n* @param {string} val - The value to set the stroke attribute to\n* @param {boolean} preventUndo - Boolean indicating whether or not this should be an undoable option\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {void}\n*/\nthis.setColor = function (type, val, preventUndo) {\n  curShape[type] = val;\n  curProperties[type + '_paint'] = {type: 'solidColor'};\n  const elems = [];\n  /**\n   *\n   * @param {Element} e\n   * @returns {void}\n   */\n  function addNonG (e) {\n    if (e.nodeName !== 'g') {\n      elems.push(e);\n    }\n  }\n  let i = selectedElements.length;\n  while (i--) {\n    const elem = selectedElements[i];\n    if (elem) {\n      if (elem.tagName === 'g') {\n        walkTree(elem, addNonG);\n      } else if (type === 'fill') {\n        if (elem.tagName !== 'polyline' && elem.tagName !== 'line') {\n          elems.push(elem);\n        }\n      } else {\n        elems.push(elem);\n      }\n    }\n  }\n  if (elems.length > 0) {\n    if (!preventUndo) {\n      changeSelectedAttribute(type, val, elems);\n      call('changed', elems);\n    } else {\n      changeSelectedAttributeNoUndo(type, val, elems);\n    }\n  }\n};\n\n/**\n* Apply the current gradient to selected element's fill or stroke.\n* @function module:svgcanvas.SvgCanvas#setGradient\n* @param {\"fill\"|\"stroke\"} type - String indicating \"fill\" or \"stroke\" to apply to an element\n* @returns {void}\n*/\nconst setGradient = this.setGradient = function (type) {\n  if (!curProperties[type + '_paint'] || curProperties[type + '_paint'].type === 'solidColor') { return; }\n  let grad = canvas[type + 'Grad'];\n  // find out if there is a duplicate gradient already in the defs\n  const duplicateGrad = findDuplicateGradient(grad);\n  const defs = findDefs();\n  // no duplicate found, so import gradient into defs\n  if (!duplicateGrad) {\n    // const origGrad = grad;\n    grad = defs.appendChild(svgdoc.importNode(grad, true));\n    // get next id and set it on the grad\n    grad.id = getNextId();\n  } else { // use existing gradient\n    grad = duplicateGrad;\n  }\n  canvas.setColor(type, 'url(#' + grad.id + ')');\n};\n\n/**\n* Check if exact gradient already exists.\n* @function module:svgcanvas~findDuplicateGradient\n* @param {SVGGradientElement} grad - The gradient DOM element to compare to others\n* @returns {SVGGradientElement} The existing gradient if found, `null` if not\n*/\nconst findDuplicateGradient = function (grad) {\n  const defs = findDefs();\n  const existingGrads = $(defs).find('linearGradient, radialGradient');\n  let i = existingGrads.length;\n  const radAttrs = ['r', 'cx', 'cy', 'fx', 'fy'];\n  while (i--) {\n    const og = existingGrads[i];\n    if (grad.tagName === 'linearGradient') {\n      if (grad.getAttribute('x1') !== og.getAttribute('x1') ||\n        grad.getAttribute('y1') !== og.getAttribute('y1') ||\n        grad.getAttribute('x2') !== og.getAttribute('x2') ||\n        grad.getAttribute('y2') !== og.getAttribute('y2')\n      ) {\n        continue;\n      }\n    } else {\n      const gradAttrs = $(grad).attr(radAttrs);\n      const ogAttrs = $(og).attr(radAttrs);\n\n      let diff = false;\n      $.each(radAttrs, function (j, attr) {\n        if (gradAttrs[attr] !== ogAttrs[attr]) { diff = true; }\n      });\n\n      if (diff) { continue; }\n    }\n\n    // else could be a duplicate, iterate through stops\n    const stops = grad.getElementsByTagNameNS(NS.SVG, 'stop');\n    const ostops = og.getElementsByTagNameNS(NS.SVG, 'stop');\n\n    if (stops.length !== ostops.length) {\n      continue;\n    }\n\n    let j = stops.length;\n    while (j--) {\n      const stop = stops[j];\n      const ostop = ostops[j];\n\n      if (stop.getAttribute('offset') !== ostop.getAttribute('offset') ||\n        stop.getAttribute('stop-opacity') !== ostop.getAttribute('stop-opacity') ||\n        stop.getAttribute('stop-color') !== ostop.getAttribute('stop-color')) {\n        break;\n      }\n    }\n\n    if (j === -1) {\n      return og;\n    }\n  } // for each gradient in defs\n\n  return null;\n};\n\n/**\n* Set a color/gradient to a fill/stroke.\n* @function module:svgcanvas.SvgCanvas#setPaint\n* @param {\"fill\"|\"stroke\"} type - String with \"fill\" or \"stroke\"\n* @param {module:jGraduate.jGraduatePaintOptions} paint - The jGraduate paint object to apply\n* @returns {void}\n*/\nthis.setPaint = function (type, paint) {\n  // make a copy\n  const p = new $.jGraduate.Paint(paint);\n  this.setPaintOpacity(type, p.alpha / 100, true);\n\n  // now set the current paint object\n  curProperties[type + '_paint'] = p;\n  switch (p.type) {\n  case 'solidColor':\n    this.setColor(type, p.solidColor !== 'none' ? '#' + p.solidColor : 'none');\n    break;\n  case 'linearGradient':\n  case 'radialGradient':\n    canvas[type + 'Grad'] = p[p.type];\n    setGradient(type);\n    break;\n  }\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#setStrokePaint\n* @param {module:jGraduate~Paint} paint\n* @returns {void}\n*/\nthis.setStrokePaint = function (paint) {\n  this.setPaint('stroke', paint);\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#setFillPaint\n* @param {module:jGraduate~Paint} paint\n* @returns {void}\n*/\nthis.setFillPaint = function (paint) {\n  this.setPaint('fill', paint);\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#getStrokeWidth\n* @returns {Float|string} The current stroke-width value\n*/\nthis.getStrokeWidth = function () {\n  return curProperties.stroke_width;\n};\n\n/**\n* Sets the stroke width for the current selected elements.\n* When attempting to set a line's width to 0, this changes it to 1 instead.\n* @function module:svgcanvas.SvgCanvas#setStrokeWidth\n* @param {Float} val - A Float indicating the new stroke width value\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {void}\n*/\nthis.setStrokeWidth = function (val) {\n  if (val === 0 && ['line', 'path'].includes(currentMode)) {\n    canvas.setStrokeWidth(1);\n    return;\n  }\n  curProperties.stroke_width = val;\n\n  const elems = [];\n  /**\n   *\n   * @param {Element} e\n   * @returns {void}\n   */\n  function addNonG (e) {\n    if (e.nodeName !== 'g') {\n      elems.push(e);\n    }\n  }\n  let i = selectedElements.length;\n  while (i--) {\n    const elem = selectedElements[i];\n    if (elem) {\n      if (elem.tagName === 'g') {\n        walkTree(elem, addNonG);\n      } else {\n        elems.push(elem);\n      }\n    }\n  }\n  if (elems.length > 0) {\n    changeSelectedAttribute('stroke-width', val, elems);\n    call('changed', selectedElements);\n  }\n};\n\n/**\n* Set the given stroke-related attribute the given value for selected elements.\n* @function module:svgcanvas.SvgCanvas#setStrokeAttr\n* @param {string} attr - String with the attribute name\n* @param {string|Float} val - String or number with the attribute value\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {void}\n*/\nthis.setStrokeAttr = function (attr, val) {\n  curShape[attr.replace('-', '_')] = val;\n  const elems = [];\n\n  let i = selectedElements.length;\n  while (i--) {\n    const elem = selectedElements[i];\n    if (elem) {\n      if (elem.tagName === 'g') {\n        walkTree(elem, function (e) { if (e.nodeName !== 'g') { elems.push(e); } });\n      } else {\n        elems.push(elem);\n      }\n    }\n  }\n  if (elems.length > 0) {\n    changeSelectedAttribute(attr, val, elems);\n    call('changed', selectedElements);\n  }\n};\n\n/**\n* @typedef {PlainObject} module:svgcanvas.StyleOptions\n* @property {string} fill\n* @property {Float} fill_opacity\n* @property {string} stroke\n* @property {Float} stroke_width\n* @property {string} stroke_dasharray\n* @property {string} stroke_linejoin\n* @property {string} stroke_linecap\n* @property {Float} stroke_opacity\n* @property {Float} opacity\n*/\n\n/**\n* @function module:svgcanvas.SvgCanvas#getStyle\n* @returns {module:svgcanvas.StyleOptions} current style options\n*/\nthis.getStyle = function () {\n  return curShape;\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#getOpacity\n* @returns {Float} the current opacity\n*/\nthis.getOpacity = getOpacity;\n\n/**\n* Sets the given opacity on the current selected elements.\n* @function module:svgcanvas.SvgCanvas#setOpacity\n* @param {string} val\n* @returns {void}\n*/\nthis.setOpacity = function (val) {\n  curShape.opacity = val;\n  changeSelectedAttribute('opacity', val);\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#getFillOpacity\n* @returns {Float} the current fill opacity\n*/\nthis.getFillOpacity = function () {\n  return curShape.fill_opacity;\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#getStrokeOpacity\n* @returns {string} the current stroke opacity\n*/\nthis.getStrokeOpacity = function () {\n  return curShape.stroke_opacity;\n};\n\n/**\n* Sets the current fill/stroke opacity.\n* @function module:svgcanvas.SvgCanvas#setPaintOpacity\n* @param {string} type - String with \"fill\" or \"stroke\"\n* @param {Float} val - Float with the new opacity value\n* @param {boolean} preventUndo - Indicates whether or not this should be an undoable action\n* @returns {void}\n*/\nthis.setPaintOpacity = function (type, val, preventUndo) {\n  curShape[type + '_opacity'] = val;\n  if (!preventUndo) {\n    changeSelectedAttribute(type + '-opacity', val);\n  } else {\n    changeSelectedAttributeNoUndo(type + '-opacity', val);\n  }\n};\n\n/**\n* Gets the current fill/stroke opacity.\n* @function module:svgcanvas.SvgCanvas#getPaintOpacity\n* @param {\"fill\"|\"stroke\"} type - String with \"fill\" or \"stroke\"\n* @returns {Float} Fill/stroke opacity\n*/\nthis.getPaintOpacity = function (type) {\n  return type === 'fill' ? this.getFillOpacity() : this.getStrokeOpacity();\n};\n\n/**\n* Gets the `stdDeviation` blur value of the given element.\n* @function module:svgcanvas.SvgCanvas#getBlur\n* @param {Element} elem - The element to check the blur value for\n* @returns {string} stdDeviation blur attribute value\n*/\nthis.getBlur = function (elem) {\n  let val = 0;\n  // const elem = selectedElements[0];\n\n  if (elem) {\n    const filterUrl = elem.getAttribute('filter');\n    if (filterUrl) {\n      const blur = getElem(elem.id + '_blur');\n      if (blur) {\n        val = blur.firstChild.getAttribute('stdDeviation');\n      }\n    }\n  }\n  return val;\n};\n\n(function () {\nlet curCommand = null;\nlet filter = null;\nlet filterHidden = false;\n\n/**\n* Sets the `stdDeviation` blur value on the selected element without being undoable.\n* @function module:svgcanvas.SvgCanvas#setBlurNoUndo\n* @param {Float} val - The new `stdDeviation` value\n* @returns {void}\n*/\ncanvas.setBlurNoUndo = function (val) {\n  if (!filter) {\n    canvas.setBlur(val);\n    return;\n  }\n  if (val === 0) {\n    // Don't change the StdDev, as that will hide the element.\n    // Instead, just remove the value for \"filter\"\n    changeSelectedAttributeNoUndo('filter', '');\n    filterHidden = true;\n  } else {\n    const elem = selectedElements[0];\n    if (filterHidden) {\n      changeSelectedAttributeNoUndo('filter', 'url(#' + elem.id + '_blur)');\n    }\n    if (isWebkit()) {\n      // console.log('e', elem); // eslint-disable-line no-console\n      elem.removeAttribute('filter');\n      elem.setAttribute('filter', 'url(#' + elem.id + '_blur)');\n    }\n    changeSelectedAttributeNoUndo('stdDeviation', val, [filter.firstChild]);\n    canvas.setBlurOffsets(filter, val);\n  }\n};\n\n/**\n *\n * @returns {void}\n */\nfunction finishChange () {\n  const bCmd = canvas.undoMgr.finishUndoableChange();\n  curCommand.addSubCommand(bCmd);\n  addCommandToHistory(curCommand);\n  curCommand = null;\n  filter = null;\n}\n\n/**\n* Sets the `x`, `y`, `width`, `height` values of the filter element in order to\n* make the blur not be clipped. Removes them if not neeeded.\n* @function module:svgcanvas.SvgCanvas#setBlurOffsets\n* @param {Element} filterElem - The filter DOM element to update\n* @param {Float} stdDev - The standard deviation value on which to base the offset size\n* @returns {void}\n*/\ncanvas.setBlurOffsets = function (filterElem, stdDev) {\n  if (stdDev > 3) {\n    // TODO: Create algorithm here where size is based on expected blur\n    assignAttributes(filterElem, {\n      x: '-50%',\n      y: '-50%',\n      width: '200%',\n      height: '200%'\n    }, 100);\n  // Removing these attributes hides text in Chrome (see Issue 579)\n  } else if (!isWebkit()) {\n      filterElem.removeAttribute('x');\n      filterElem.removeAttribute('y');\n      filterElem.removeAttribute('width');\n      filterElem.removeAttribute('height');\n  }\n};\n\n/**\n* Adds/updates the blur filter to the selected element.\n* @function module:svgcanvas.SvgCanvas#setBlur\n* @param {Float} val - Float with the new `stdDeviation` blur value\n* @param {boolean} complete - Whether or not the action should be completed (to add to the undo manager)\n* @returns {void}\n*/\ncanvas.setBlur = function (val, complete) {\n  if (curCommand) {\n    finishChange();\n    return;\n  }\n\n  // Looks for associated blur, creates one if not found\n  const elem = selectedElements[0];\n  const elemId = elem.id;\n  filter = getElem(elemId + '_blur');\n\n  val -= 0;\n\n  const batchCmd = new BatchCommand();\n\n  // Blur found!\n  if (filter) {\n    if (val === 0) {\n      filter = null;\n    }\n  } else {\n    // Not found, so create\n    const newblur = addSVGElementFromJson({element: 'feGaussianBlur',\n      attr: {\n        in: 'SourceGraphic',\n        stdDeviation: val\n      }\n    });\n\n    filter = addSVGElementFromJson({element: 'filter',\n      attr: {\n        id: elemId + '_blur'\n      }\n    });\n\n    filter.append(newblur);\n    findDefs().append(filter);\n\n    batchCmd.addSubCommand(new InsertElementCommand(filter));\n  }\n\n  const changes = {filter: elem.getAttribute('filter')};\n\n  if (val === 0) {\n    elem.removeAttribute('filter');\n    batchCmd.addSubCommand(new ChangeElementCommand(elem, changes));\n    return;\n  }\n\n  changeSelectedAttribute('filter', 'url(#' + elemId + '_blur)');\n  batchCmd.addSubCommand(new ChangeElementCommand(elem, changes));\n  canvas.setBlurOffsets(filter, val);\n\n  curCommand = batchCmd;\n  canvas.undoMgr.beginUndoableChange('stdDeviation', [filter ? filter.firstChild : null]);\n  if (complete) {\n    canvas.setBlurNoUndo(val);\n    finishChange();\n  }\n};\n}());\n\n/**\n* Check whether selected element is bold or not.\n* @function module:svgcanvas.SvgCanvas#getBold\n* @returns {boolean} Indicates whether or not element is bold\n*/\nthis.getBold = function () {\n  // should only have one element selected\n  const selected = selectedElements[0];\n  if (!isNullish(selected) && selected.tagName === 'text' &&\n    isNullish(selectedElements[1])) {\n    return (selected.getAttribute('font-weight') === 'bold');\n  }\n  return false;\n};\n\n/**\n* Make the selected element bold or normal.\n* @function module:svgcanvas.SvgCanvas#setBold\n* @param {boolean} b - Indicates bold (`true`) or normal (`false`)\n* @returns {void}\n*/\nthis.setBold = function (b) {\n  const selected = selectedElements[0];\n  if (!isNullish(selected) && selected.tagName === 'text' &&\n    isNullish(selectedElements[1])) {\n    changeSelectedAttribute('font-weight', b ? 'bold' : 'normal');\n  }\n  if (!selectedElements[0].textContent) {\n    textActions.setCursor();\n  }\n};\n\n/**\n* Check whether selected element is in italics or not.\n* @function module:svgcanvas.SvgCanvas#getItalic\n* @returns {boolean} Indicates whether or not element is italic\n*/\nthis.getItalic = function () {\n  const selected = selectedElements[0];\n  if (!isNullish(selected) && selected.tagName === 'text' &&\n    isNullish(selectedElements[1])) {\n    return (selected.getAttribute('font-style') === 'italic');\n  }\n  return false;\n};\n\n/**\n* Make the selected element italic or normal.\n* @function module:svgcanvas.SvgCanvas#setItalic\n* @param {boolean} i - Indicates italic (`true`) or normal (`false`)\n* @returns {void}\n*/\nthis.setItalic = function (i) {\n  const selected = selectedElements[0];\n  if (!isNullish(selected) && selected.tagName === 'text' &&\n    isNullish(selectedElements[1])) {\n    changeSelectedAttribute('font-style', i ? 'italic' : 'normal');\n  }\n  if (!selectedElements[0].textContent) {\n    textActions.setCursor();\n  }\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#getFontFamily\n* @returns {string} The current font family\n*/\nthis.getFontFamily = function () {\n  return curText.font_family;\n};\n\n/**\n* Set the new font family.\n* @function module:svgcanvas.SvgCanvas#setFontFamily\n* @param {string} val - String with the new font family\n* @returns {void}\n*/\nthis.setFontFamily = function (val) {\n  curText.font_family = val;\n  changeSelectedAttribute('font-family', val);\n  if (selectedElements[0] && !selectedElements[0].textContent) {\n    textActions.setCursor();\n  }\n};\n\n/**\n* Set the new font color.\n* @function module:svgcanvas.SvgCanvas#setFontColor\n* @param {string} val - String with the new font color\n* @returns {void}\n*/\nthis.setFontColor = function (val) {\n  curText.fill = val;\n  changeSelectedAttribute('fill', val);\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#getFontColor\n* @returns {string} The current font color\n*/\nthis.getFontColor = function () {\n  return curText.fill;\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#getFontSize\n* @returns {Float} The current font size\n*/\nthis.getFontSize = function () {\n  return curText.font_size;\n};\n\n/**\n* Applies the given font size to the selected element.\n* @function module:svgcanvas.SvgCanvas#setFontSize\n* @param {Float} val - Float with the new font size\n* @returns {void}\n*/\nthis.setFontSize = function (val) {\n  curText.font_size = val;\n  changeSelectedAttribute('font-size', val);\n  if (!selectedElements[0].textContent) {\n    textActions.setCursor();\n  }\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#getText\n* @returns {string} The current text (`textContent`) of the selected element\n*/\nthis.getText = function () {\n  const selected = selectedElements[0];\n  if (isNullish(selected)) { return ''; }\n  return selected.textContent;\n};\n\n/**\n* Updates the text element with the given string.\n* @function module:svgcanvas.SvgCanvas#setTextContent\n* @param {string} val - String with the new text\n* @returns {void}\n*/\nthis.setTextContent = function (val) {\n  changeSelectedAttribute('#text', val);\n  textActions.init(val);\n  textActions.setCursor();\n};\n\n/**\n* Sets the new image URL for the selected image element. Updates its size if\n* a new URL is given.\n* @function module:svgcanvas.SvgCanvas#setImageURL\n* @param {string} val - String with the image URL/path\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {void}\n*/\nthis.setImageURL = function (val) {\n  const elem = selectedElements[0];\n  if (!elem) { return; }\n\n  const attrs = $(elem).attr(['width', 'height']);\n  const setsize = (!attrs.width || !attrs.height);\n\n  const curHref = getHref(elem);\n\n  // Do nothing if no URL change or size change\n  if (curHref === val && !setsize) {\n    return;\n  }\n\n  const batchCmd = new BatchCommand('Change Image URL');\n\n  setHref(elem, val);\n  batchCmd.addSubCommand(new ChangeElementCommand(elem, {\n    '#href': curHref\n  }));\n\n  $(new Image()).load(function () {\n    const changes = $(elem).attr(['width', 'height']);\n\n    $(elem).attr({\n      width: this.width,\n      height: this.height\n    });\n\n    selectorManager.requestSelector(elem).resize();\n\n    batchCmd.addSubCommand(new ChangeElementCommand(elem, changes));\n    addCommandToHistory(batchCmd);\n    call('changed', [elem]);\n  }).attr('src', val);\n};\n\n/**\n* Sets the new link URL for the selected anchor element.\n* @function module:svgcanvas.SvgCanvas#setLinkURL\n* @param {string} val - String with the link URL/path\n* @returns {void}\n*/\nthis.setLinkURL = function (val) {\n  let elem = selectedElements[0];\n  if (!elem) { return; }\n  if (elem.tagName !== 'a') {\n    // See if parent is an anchor\n    const parentsA = $(elem).parents('a');\n    if (parentsA.length) {\n      elem = parentsA[0];\n    } else {\n      return;\n    }\n  }\n\n  const curHref = getHref(elem);\n\n  if (curHref === val) { return; }\n\n  const batchCmd = new BatchCommand('Change Link URL');\n\n  setHref(elem, val);\n  batchCmd.addSubCommand(new ChangeElementCommand(elem, {\n    '#href': curHref\n  }));\n\n  addCommandToHistory(batchCmd);\n};\n\n/**\n* Sets the `rx` and `ry` values to the selected `rect` element\n* to change its corner radius.\n* @function module:svgcanvas.SvgCanvas#setRectRadius\n* @param {string|Float} val - The new radius\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {void}\n*/\nthis.setRectRadius = function (val) {\n  const selected = selectedElements[0];\n  if (!isNullish(selected) && selected.tagName === 'rect') {\n    const r = selected.getAttribute('rx');\n    if (r !== String(val)) {\n      selected.setAttribute('rx', val);\n      selected.setAttribute('ry', val);\n      addCommandToHistory(new ChangeElementCommand(selected, {rx: r, ry: r}, 'Radius'));\n      call('changed', [selected]);\n    }\n  }\n};\n\n/**\n* Wraps the selected element(s) in an anchor element or converts group to one.\n* @function module:svgcanvas.SvgCanvas#makeHyperlink\n* @param {string} url\n* @returns {void}\n*/\nthis.makeHyperlink = function (url) {\n  canvas.groupSelectedElements('a', url);\n\n  // TODO: If element is a single \"g\", convert to \"a\"\n  //  if (selectedElements.length > 1 && selectedElements[1]) {\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#removeHyperlink\n* @returns {void}\n*/\nthis.removeHyperlink = function () {\n  canvas.ungroupSelectedElement();\n};\n\n/**\n* Group: Element manipulation.\n*/\n\n/**\n* Sets the new segment type to the selected segment(s).\n* @function module:svgcanvas.SvgCanvas#setSegType\n* @param {Integer} newType - New segment type. See {@link https://www.w3.org/TR/SVG/paths.html#InterfaceSVGPathSeg} for list\n* @returns {void}\n*/\nthis.setSegType = function (newType) {\n  pathActions.setSegType(newType);\n};\n\n/**\n* Convert selected element to a path, or get the BBox of an element-as-path.\n* @function module:svgcanvas.SvgCanvas#convertToPath\n* @todo (codedread): Remove the getBBox argument and split this function into two.\n* @param {Element} elem - The DOM element to be converted\n* @param {boolean} getBBox - Boolean on whether or not to only return the path's BBox\n* @returns {void|DOMRect|false|SVGPathElement|null} If the getBBox flag is true, the resulting path's bounding box object.\n* Otherwise the resulting path element is returned.\n*/\nthis.convertToPath = function (elem, getBBox) {\n  if (isNullish(elem)) {\n    const elems = selectedElements;\n    $.each(elems, function (i, el) {\n      if (el) { canvas.convertToPath(el); }\n    });\n    return undefined;\n  }\n  if (getBBox) {\n    return getBBoxOfElementAsPath(elem, addSVGElementFromJson, pathActions);\n  }\n  // TODO: Why is this applying attributes from curShape, then inside utilities.convertToPath it's pulling addition attributes from elem?\n  // TODO: If convertToPath is called with one elem, curShape and elem are probably the same; but calling with multiple is a bug or cool feature.\n  const attrs = {\n    fill: curShape.fill,\n    'fill-opacity': curShape.fill_opacity,\n    stroke: curShape.stroke,\n    'stroke-width': curShape.stroke_width,\n    'stroke-dasharray': curShape.stroke_dasharray,\n    'stroke-linejoin': curShape.stroke_linejoin,\n    'stroke-linecap': curShape.stroke_linecap,\n    'stroke-opacity': curShape.stroke_opacity,\n    opacity: curShape.opacity,\n    visibility: 'hidden'\n  };\n  return convertToPath(\n    elem, attrs, addSVGElementFromJson, pathActions,\n    clearSelection, addToSelection, hstry, addCommandToHistory\n  );\n};\n\n/**\n* This function makes the changes to the elements. It does not add the change\n* to the history stack.\n* @param {string} attr - Attribute name\n* @param {string|Float} newValue - String or number with the new attribute value\n* @param {Element[]} elems - The DOM elements to apply the change to\n* @returns {void}\n*/\nconst changeSelectedAttributeNoUndo = function (attr, newValue, elems) {\n  if (currentMode === 'pathedit') {\n    // Editing node\n    pathActions.moveNode(attr, newValue);\n  }\n  elems = elems || selectedElements;\n  let i = elems.length;\n  const noXYElems = ['g', 'polyline', 'path'];\n  // const goodGAttrs = ['transform', 'opacity', 'filter'];\n\n  while (i--) {\n    let elem = elems[i];\n    if (isNullish(elem)) { continue; }\n\n    // Set x,y vals on elements that don't have them\n    if ((attr === 'x' || attr === 'y') && noXYElems.includes(elem.tagName)) {\n      const bbox = getStrokedBBoxDefaultVisible([elem]);\n      const diffX = attr === 'x' ? newValue - bbox.x : 0;\n      const diffY = attr === 'y' ? newValue - bbox.y : 0;\n      canvas.moveSelectedElements(diffX * currentZoom, diffY * currentZoom, true);\n      continue;\n    }\n\n    // only allow the transform/opacity/filter attribute to change on <g> elements, slightly hacky\n    // TODO: Missing statement body\n    // if (elem.tagName === 'g' && goodGAttrs.includes(attr)) {}\n    let oldval = attr === '#text' ? elem.textContent : elem.getAttribute(attr);\n    if (isNullish(oldval)) { oldval = ''; }\n    if (oldval !== String(newValue)) {\n      if (attr === '#text') {\n        // const oldW = utilsGetBBox(elem).width;\n        elem.textContent = newValue;\n\n        // FF bug occurs on on rotated elements\n        if ((/rotate/).test(elem.getAttribute('transform'))) {\n          elem = ffClone(elem);\n        }\n        // Hoped to solve the issue of moving text with text-anchor=\"start\",\n        // but this doesn't actually fix it. Hopefully on the right track, though. -Fyrd\n        // const box = getBBox(elem), left = box.x, top = box.y, {width, height} = box,\n        //   dx = width - oldW, dy = 0;\n        // const angle = getRotationAngle(elem, true);\n        // if (angle) {\n        //   const r = Math.sqrt(dx * dx + dy * dy);\n        //   const theta = Math.atan2(dy, dx) - angle;\n        //   dx = r * Math.cos(theta);\n        //   dy = r * Math.sin(theta);\n        //\n        //   elem.setAttribute('x', elem.getAttribute('x') - dx);\n        //   elem.setAttribute('y', elem.getAttribute('y') - dy);\n        // }\n      } else if (attr === '#href') {\n        setHref(elem, newValue);\n      } else { elem.setAttribute(attr, newValue); }\n\n      // Go into \"select\" mode for text changes\n      // NOTE: Important that this happens AFTER elem.setAttribute() or else attributes like\n      // font-size can get reset to their old value, ultimately by svgEditor.updateContextPanel(),\n      // after calling textActions.toSelectMode() below\n      if (currentMode === 'textedit' && attr !== '#text' && elem.textContent.length) {\n        textActions.toSelectMode(elem);\n      }\n\n      // if (i === 0) {\n      //   selectedBBoxes[0] = utilsGetBBox(elem);\n      // }\n\n      // Use the Firefox ffClone hack for text elements with gradients or\n      // where other text attributes are changed.\n      if (isGecko() && elem.nodeName === 'text' && (/rotate/).test(elem.getAttribute('transform'))) {\n        if (String(newValue).startsWith('url') || (['font-size', 'font-family', 'x', 'y'].includes(attr) && elem.textContent)) {\n          elem = ffClone(elem);\n        }\n      }\n      // Timeout needed for Opera & Firefox\n      // codedread: it is now possible for this function to be called with elements\n      // that are not in the selectedElements array, we need to only request a\n      // selector if the element is in that array\n      if (selectedElements.includes(elem)) {\n        setTimeout(function () {\n          // Due to element replacement, this element may no longer\n          // be part of the DOM\n          if (!elem.parentNode) { return; }\n          selectorManager.requestSelector(elem).resize();\n        }, 0);\n      }\n      // if this element was rotated, and we changed the position of this element\n      // we need to update the rotational transform attribute\n      const angle = getRotationAngle(elem);\n      if (angle !== 0 && attr !== 'transform') {\n        const tlist = getTransformList(elem);\n        let n = tlist.numberOfItems;\n        while (n--) {\n          const xform = tlist.getItem(n);\n          if (xform.type === 4) {\n            // remove old rotate\n            tlist.removeItem(n);\n\n            const box = utilsGetBBox(elem);\n            const center = transformPoint(box.x + box.width / 2, box.y + box.height / 2, transformListToTransform(tlist).matrix);\n            const cx = center.x,\n              cy = center.y;\n            const newrot = svgroot.createSVGTransform();\n            newrot.setRotate(angle, cx, cy);\n            tlist.insertItemBefore(newrot, n);\n            break;\n          }\n        }\n      }\n    } // if oldValue != newValue\n  } // for each elem\n};\n\n/**\n* Change the given/selected element and add the original value to the history stack.\n* If you want to change all `selectedElements`, ignore the `elems` argument.\n* If you want to change only a subset of `selectedElements`, then send the\n* subset to this function in the `elems` argument.\n* @function module:svgcanvas.SvgCanvas#changeSelectedAttribute\n* @param {string} attr - String with the attribute name\n* @param {string|Float} val - String or number with the new attribute value\n* @param {Element[]} elems - The DOM elements to apply the change to\n* @returns {void}\n*/\nconst changeSelectedAttribute = this.changeSelectedAttribute = function (attr, val, elems) {\n  elems = elems || selectedElements;\n  canvas.undoMgr.beginUndoableChange(attr, elems);\n  // const i = elems.length;\n\n  changeSelectedAttributeNoUndo(attr, val, elems);\n\n  const batchCmd = canvas.undoMgr.finishUndoableChange();\n  if (!batchCmd.isEmpty()) {\n    addCommandToHistory(batchCmd);\n  }\n};\n\n/**\n* Removes all selected elements from the DOM and adds the change to the\n* history stack.\n* @function module:svgcanvas.SvgCanvas#deleteSelectedElements\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {void}\n*/\nthis.deleteSelectedElements = function () {\n  const batchCmd = new BatchCommand('Delete Elements');\n  const len = selectedElements.length;\n  const selectedCopy = []; // selectedElements is being deleted\n\n  for (let i = 0; i < len; ++i) {\n    const selected = selectedElements[i];\n    if (isNullish(selected)) { break; }\n\n    let parent = selected.parentNode;\n    let t = selected;\n\n    // this will unselect the element and remove the selectedOutline\n    selectorManager.releaseSelector(t);\n\n    // Remove the path if present.\n    pathModule.removePath_(t.id);\n\n    // Get the parent if it's a single-child anchor\n    if (parent.tagName === 'a' && parent.childNodes.length === 1) {\n      t = parent;\n      parent = parent.parentNode;\n    }\n\n    const {nextSibling} = t;\n    t.remove();\n    const elem = t;\n    selectedCopy.push(selected); // for the copy\n    batchCmd.addSubCommand(new RemoveElementCommand(elem, nextSibling, parent));\n  }\n  selectedElements = [];\n\n  if (!batchCmd.isEmpty()) { addCommandToHistory(batchCmd); }\n  call('changed', selectedCopy);\n  clearSelection();\n};\n\n/**\n* Removes all selected elements from the DOM and adds the change to the\n* history stack. Remembers removed elements on the clipboard.\n* @function module:svgcanvas.SvgCanvas#cutSelectedElements\n* @returns {void}\n*/\nthis.cutSelectedElements = function () {\n  canvas.copySelectedElements();\n  canvas.deleteSelectedElements();\n};\n\nconst CLIPBOARD_ID = 'svgedit_clipboard';\n\n/**\n* Flash the clipboard data momentarily on localStorage so all tabs can see.\n* @returns {void}\n*/\nfunction flashStorage () {\n  const data = sessionStorage.getItem(CLIPBOARD_ID);\n  localStorage.setItem(CLIPBOARD_ID, data);\n  setTimeout(function () {\n    localStorage.removeItem(CLIPBOARD_ID);\n  }, 1);\n}\n\n/**\n* Transfers sessionStorage from one tab to another.\n* @param {!Event} ev Storage event.\n* @returns {void}\n*/\nfunction storageChange (ev) {\n  if (!ev.newValue) return; // This is a call from removeItem.\n  if (ev.key === CLIPBOARD_ID + '_startup') {\n    // Another tab asked for our sessionStorage.\n    localStorage.removeItem(CLIPBOARD_ID + '_startup');\n    flashStorage();\n  } else if (ev.key === CLIPBOARD_ID) {\n    // Another tab sent data.\n    sessionStorage.setItem(CLIPBOARD_ID, ev.newValue);\n  }\n}\n\n// Listen for changes to localStorage.\nwindow.addEventListener('storage', storageChange, false);\n// Ask other tabs for sessionStorage (this is ONLY to trigger event).\nlocalStorage.setItem(CLIPBOARD_ID + '_startup', Math.random());\n\n/**\n* Remembers the current selected elements on the clipboard.\n* @function module:svgcanvas.SvgCanvas#copySelectedElements\n* @returns {void}\n*/\nthis.copySelectedElements = function () {\n  const data =\n      JSON.stringify(selectedElements.map((x) => getJsonFromSvgElement(x)));\n  // Use sessionStorage for the clipboard data.\n  sessionStorage.setItem(CLIPBOARD_ID, data);\n  flashStorage();\n\n  const menu = $('#cmenu_canvas');\n  // Context menu might not exist (it is provided by editor.js).\n  if (menu.enableContextMenuItems) {\n    menu.enableContextMenuItems('#paste,#paste_in_place');\n  }\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#pasteElements\n* @param {\"in_place\"|\"point\"|void} type\n* @param {Integer|void} x Expected if type is \"point\"\n* @param {Integer|void} y Expected if type is \"point\"\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @fires module:svgcanvas.SvgCanvas#event:ext_IDsUpdated\n* @returns {void}\n*/\nthis.pasteElements = function (type, x, y) {\n  let clipb = JSON.parse(sessionStorage.getItem(CLIPBOARD_ID));\n  if (!clipb) return;\n  let len = clipb.length;\n  if (!len) return;\n\n  const pasted = [];\n  const batchCmd = new BatchCommand('Paste elements');\n  // const drawing = getCurrentDrawing();\n  /**\n  * @typedef {PlainObject<string, string>} module:svgcanvas.ChangedIDs\n  */\n  /**\n   * @type {module:svgcanvas.ChangedIDs}\n   */\n  const changedIDs = {};\n\n  // Recursively replace IDs and record the changes\n  /**\n   *\n   * @param {module:svgcanvas.SVGAsJSON} elem\n   * @returns {void}\n   */\n  function checkIDs (elem) {\n    if (elem.attr && elem.attr.id) {\n      changedIDs[elem.attr.id] = getNextId();\n      elem.attr.id = changedIDs[elem.attr.id];\n    }\n    if (elem.children) elem.children.forEach((child) => checkIDs(child));\n  }\n  clipb.forEach((elem) => checkIDs(elem));\n\n  // Give extensions like the connector extension a chance to reflect new IDs and remove invalid elements\n  /**\n  * Triggered when `pasteElements` is called from a paste action (context menu or key).\n  * @event module:svgcanvas.SvgCanvas#event:ext_IDsUpdated\n  * @type {PlainObject}\n  * @property {module:svgcanvas.SVGAsJSON[]} elems\n  * @property {module:svgcanvas.ChangedIDs} changes Maps past ID (on attribute) to current ID\n  */\n  runExtensions(\n    'IDsUpdated',\n    /** @type {module:svgcanvas.SvgCanvas#event:ext_IDsUpdated} */\n    {elems: clipb, changes: changedIDs},\n    true\n  ).forEach(function (extChanges) {\n    if (!extChanges || !('remove' in extChanges)) return;\n\n    extChanges.remove.forEach(function (removeID) {\n      clipb = clipb.filter(function (clipBoardItem) {\n        return clipBoardItem.attr.id !== removeID;\n      });\n    });\n  });\n\n  // Move elements to lastClickPoint\n  while (len--) {\n    const elem = clipb[len];\n    if (!elem) { continue; }\n\n    const copy = addSVGElementFromJson(elem);\n    pasted.push(copy);\n    batchCmd.addSubCommand(new InsertElementCommand(copy));\n\n    restoreRefElems(copy);\n  }\n\n  selectOnly(pasted);\n\n  if (type !== 'in_place') {\n    let ctrX, ctrY;\n\n    if (!type) {\n      ctrX = lastClickPoint.x;\n      ctrY = lastClickPoint.y;\n    } else if (type === 'point') {\n      ctrX = x;\n      ctrY = y;\n    }\n\n    const bbox = getStrokedBBoxDefaultVisible(pasted);\n    const cx = ctrX - (bbox.x + bbox.width / 2),\n      cy = ctrY - (bbox.y + bbox.height / 2),\n      dx = [],\n      dy = [];\n\n    $.each(pasted, function (i, item) {\n      dx.push(cx);\n      dy.push(cy);\n    });\n\n    const cmd = canvas.moveSelectedElements(dx, dy, false);\n    if (cmd) batchCmd.addSubCommand(cmd);\n  }\n\n  addCommandToHistory(batchCmd);\n  call('changed', pasted);\n};\n\n/**\n* Wraps all the selected elements in a group (`g`) element.\n* @function module:svgcanvas.SvgCanvas#groupSelectedElements\n* @param {\"a\"|\"g\"} [type=\"g\"] - type of element to group into, defaults to `<g>`\n* @param {string} [urlArg]\n* @returns {void}\n*/\nthis.groupSelectedElements = function (type, urlArg) {\n  if (!type) { type = 'g'; }\n  let cmdStr = '';\n  let url;\n\n  switch (type) {\n  case 'a': {\n    cmdStr = 'Make hyperlink';\n    url = urlArg || '';\n    break;\n  } default: {\n    type = 'g';\n    cmdStr = 'Group Elements';\n    break;\n  }\n  }\n\n  const batchCmd = new BatchCommand(cmdStr);\n\n  // create and insert the group element\n  const g = addSVGElementFromJson({\n    element: type,\n    attr: {\n      id: getNextId()\n    }\n  });\n  if (type === 'a') {\n    setHref(g, url);\n  }\n  batchCmd.addSubCommand(new InsertElementCommand(g));\n\n  // now move all children into the group\n  let i = selectedElements.length;\n  while (i--) {\n    let elem = selectedElements[i];\n    if (isNullish(elem)) { continue; }\n\n    if (elem.parentNode.tagName === 'a' && elem.parentNode.childNodes.length === 1) {\n      elem = elem.parentNode;\n    }\n\n    const oldNextSibling = elem.nextSibling;\n    const oldParent = elem.parentNode;\n    g.append(elem);\n    batchCmd.addSubCommand(new MoveElementCommand(elem, oldNextSibling, oldParent));\n  }\n  if (!batchCmd.isEmpty()) { addCommandToHistory(batchCmd); }\n\n  // update selection\n  selectOnly([g], true);\n};\n\n/**\n* Pushes all appropriate parent group properties down to its children, then\n* removes them from the group.\n* @function module:svgcanvas.SvgCanvas#pushGroupProperties\n* @param {SVGAElement|SVGGElement} g\n* @param {boolean} undoable\n* @returns {BatchCommand|void}\n*/\nconst pushGroupProperties = this.pushGroupProperties = function (g, undoable) {\n  const children = g.childNodes;\n  const len = children.length;\n  const xform = g.getAttribute('transform');\n\n  const glist = getTransformList(g);\n  const m = transformListToTransform(glist).matrix;\n\n  const batchCmd = new BatchCommand('Push group properties');\n\n  // TODO: get all fill/stroke properties from the group that we are about to destroy\n  // \"fill\", \"fill-opacity\", \"fill-rule\", \"stroke\", \"stroke-dasharray\", \"stroke-dashoffset\",\n  // \"stroke-linecap\", \"stroke-linejoin\", \"stroke-miterlimit\", \"stroke-opacity\",\n  // \"stroke-width\"\n  // and then for each child, if they do not have the attribute (or the value is 'inherit')\n  // then set the child's attribute\n\n  const gangle = getRotationAngle(g);\n\n  const gattrs = $(g).attr(['filter', 'opacity']);\n  let gfilter, gblur, changes;\n  const drawing = getCurrentDrawing();\n\n  for (let i = 0; i < len; i++) {\n    const elem = children[i];\n\n    if (elem.nodeType !== 1) { continue; }\n\n    if (gattrs.opacity !== null && gattrs.opacity !== 1) {\n      // const c_opac = elem.getAttribute('opacity') || 1;\n      const newOpac = Math.round((elem.getAttribute('opacity') || 1) * gattrs.opacity * 100) / 100;\n      changeSelectedAttribute('opacity', newOpac, [elem]);\n    }\n\n    if (gattrs.filter) {\n      let cblur = this.getBlur(elem);\n      const origCblur = cblur;\n      if (!gblur) { gblur = this.getBlur(g); }\n      if (cblur) {\n        // Is this formula correct?\n        cblur = Number(gblur) + Number(cblur);\n      } else if (cblur === 0) {\n        cblur = gblur;\n      }\n\n      // If child has no current filter, get group's filter or clone it.\n      if (!origCblur) {\n        // Set group's filter to use first child's ID\n        if (!gfilter) {\n          gfilter = getRefElem(gattrs.filter);\n        } else {\n          // Clone the group's filter\n          gfilter = drawing.copyElem(gfilter);\n          findDefs().append(gfilter);\n        }\n      } else {\n        gfilter = getRefElem(elem.getAttribute('filter'));\n      }\n\n      // Change this in future for different filters\n      const suffix = (gfilter.firstChild.tagName === 'feGaussianBlur') ? 'blur' : 'filter';\n      gfilter.id = elem.id + '_' + suffix;\n      changeSelectedAttribute('filter', 'url(#' + gfilter.id + ')', [elem]);\n\n      // Update blur value\n      if (cblur) {\n        changeSelectedAttribute('stdDeviation', cblur, [gfilter.firstChild]);\n        canvas.setBlurOffsets(gfilter, cblur);\n      }\n    }\n\n    let chtlist = getTransformList(elem);\n\n    // Don't process gradient transforms\n    if (elem.tagName.includes('Gradient')) { chtlist = null; }\n\n    // Hopefully not a problem to add this. Necessary for elements like <desc/>\n    if (!chtlist) { continue; }\n\n    // Apparently <defs> can get get a transformlist, but we don't want it to have one!\n    if (elem.tagName === 'defs') { continue; }\n\n    if (glist.numberOfItems) {\n      // TODO: if the group's transform is just a rotate, we can always transfer the\n      // rotate() down to the children (collapsing consecutive rotates and factoring\n      // out any translates)\n      if (gangle && glist.numberOfItems === 1) {\n        // [Rg] [Rc] [Mc]\n        // we want [Tr] [Rc2] [Mc] where:\n        //  - [Rc2] is at the child's current center but has the\n        // sum of the group and child's rotation angles\n        //  - [Tr] is the equivalent translation that this child\n        // undergoes if the group wasn't there\n\n        // [Tr] = [Rg] [Rc] [Rc2_inv]\n\n        // get group's rotation matrix (Rg)\n        const rgm = glist.getItem(0).matrix;\n\n        // get child's rotation matrix (Rc)\n        let rcm = svgroot.createSVGMatrix();\n        const cangle = getRotationAngle(elem);\n        if (cangle) {\n          rcm = chtlist.getItem(0).matrix;\n        }\n\n        // get child's old center of rotation\n        const cbox = utilsGetBBox(elem);\n        const ceqm = transformListToTransform(chtlist).matrix;\n        const coldc = transformPoint(cbox.x + cbox.width / 2, cbox.y + cbox.height / 2, ceqm);\n\n        // sum group and child's angles\n        const sangle = gangle + cangle;\n\n        // get child's rotation at the old center (Rc2_inv)\n        const r2 = svgroot.createSVGTransform();\n        r2.setRotate(sangle, coldc.x, coldc.y);\n\n        // calculate equivalent translate\n        const trm = matrixMultiply(rgm, rcm, r2.matrix.inverse());\n\n        // set up tlist\n        if (cangle) {\n          chtlist.removeItem(0);\n        }\n\n        if (sangle) {\n          if (chtlist.numberOfItems) {\n            chtlist.insertItemBefore(r2, 0);\n          } else {\n            chtlist.appendItem(r2);\n          }\n        }\n\n        if (trm.e || trm.f) {\n          const tr = svgroot.createSVGTransform();\n          tr.setTranslate(trm.e, trm.f);\n          if (chtlist.numberOfItems) {\n            chtlist.insertItemBefore(tr, 0);\n          } else {\n            chtlist.appendItem(tr);\n          }\n        }\n      } else { // more complicated than just a rotate\n        // transfer the group's transform down to each child and then\n        // call recalculateDimensions()\n        const oldxform = elem.getAttribute('transform');\n        changes = {};\n        changes.transform = oldxform || '';\n\n        const newxform = svgroot.createSVGTransform();\n\n        // [ gm ] [ chm ] = [ chm ] [ gm' ]\n        // [ gm' ] = [ chmInv ] [ gm ] [ chm ]\n        const chm = transformListToTransform(chtlist).matrix,\n          chmInv = chm.inverse();\n        const gm = matrixMultiply(chmInv, m, chm);\n        newxform.setMatrix(gm);\n        chtlist.appendItem(newxform);\n      }\n      const cmd = recalculateDimensions(elem);\n      if (cmd) { batchCmd.addSubCommand(cmd); }\n    }\n  }\n\n  // remove transform and make it undo-able\n  if (xform) {\n    changes = {};\n    changes.transform = xform;\n    g.setAttribute('transform', '');\n    g.removeAttribute('transform');\n    batchCmd.addSubCommand(new ChangeElementCommand(g, changes));\n  }\n\n  if (undoable && !batchCmd.isEmpty()) {\n    return batchCmd;\n  }\n  return undefined;\n};\n\n/**\n* Unwraps all the elements in a selected group (`g`) element. This requires\n* significant recalculations to apply group's transforms, etc. to its children.\n* @function module:svgcanvas.SvgCanvas#ungroupSelectedElement\n* @returns {void}\n*/\nthis.ungroupSelectedElement = function () {\n  let g = selectedElements[0];\n  if (!g) {\n    return;\n  }\n  if ($(g).data('gsvg') || $(g).data('symbol')) {\n    // Is svg, so actually convert to group\n    convertToGroup(g);\n    return;\n  }\n  if (g.tagName === 'use') {\n    // Somehow doesn't have data set, so retrieve\n    const symbol = getElem(getHref(g).substr(1));\n    $(g).data('symbol', symbol).data('ref', symbol);\n    convertToGroup(g);\n    return;\n  }\n  const parentsA = $(g).parents('a');\n  if (parentsA.length) {\n    g = parentsA[0];\n  }\n\n  // Look for parent \"a\"\n  if (g.tagName === 'g' || g.tagName === 'a') {\n    const batchCmd = new BatchCommand('Ungroup Elements');\n    const cmd = pushGroupProperties(g, true);\n    if (cmd) { batchCmd.addSubCommand(cmd); }\n\n    const parent = g.parentNode;\n    const anchor = g.nextSibling;\n    const children = new Array(g.childNodes.length);\n\n    let i = 0;\n    while (g.firstChild) {\n      const elem = g.firstChild;\n      const oldNextSibling = elem.nextSibling;\n      const oldParent = elem.parentNode;\n\n      // Remove child title elements\n      if (elem.tagName === 'title') {\n        const {nextSibling} = elem;\n        batchCmd.addSubCommand(new RemoveElementCommand(elem, nextSibling, oldParent));\n        elem.remove();\n        continue;\n      }\n\n      if (anchor) {\n        anchor.before(elem);\n      } else {\n        g.after(elem);\n      }\n      children[i++] = elem;\n      batchCmd.addSubCommand(new MoveElementCommand(elem, oldNextSibling, oldParent));\n    }\n\n    // remove the group from the selection\n    clearSelection();\n\n    // delete the group element (but make undo-able)\n    const gNextSibling = g.nextSibling;\n    g.remove();\n    batchCmd.addSubCommand(new RemoveElementCommand(g, gNextSibling, parent));\n\n    if (!batchCmd.isEmpty()) { addCommandToHistory(batchCmd); }\n\n    // update selection\n    addToSelection(children);\n  }\n};\n\n/**\n* Repositions the selected element to the bottom in the DOM to appear on top of\n* other elements.\n* @function module:svgcanvas.SvgCanvas#moveToTopSelectedElement\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {void}\n*/\nthis.moveToTopSelectedElement = function () {\n  const [selected] = selectedElements;\n  if (!isNullish(selected)) {\n    let t = selected;\n    const oldParent = t.parentNode;\n    const oldNextSibling = t.nextSibling;\n    t = t.parentNode.appendChild(t);\n    // If the element actually moved position, add the command and fire the changed\n    // event handler.\n    if (oldNextSibling !== t.nextSibling) {\n      addCommandToHistory(new MoveElementCommand(t, oldNextSibling, oldParent, 'top'));\n      call('changed', [t]);\n    }\n  }\n};\n\n/**\n* Repositions the selected element to the top in the DOM to appear under\n* other elements.\n* @function module:svgcanvas.SvgCanvas#moveToBottomSelectedElement\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {void}\n*/\nthis.moveToBottomSelectedElement = function () {\n  const [selected] = selectedElements;\n  if (!isNullish(selected)) {\n    let t = selected;\n    const oldParent = t.parentNode;\n    const oldNextSibling = t.nextSibling;\n    let {firstChild} = t.parentNode;\n    if (firstChild.tagName === 'title') {\n      firstChild = firstChild.nextSibling;\n    }\n    // This can probably be removed, as the defs should not ever apppear\n    // inside a layer group\n    if (firstChild.tagName === 'defs') {\n      firstChild = firstChild.nextSibling;\n    }\n    t = t.parentNode.insertBefore(t, firstChild);\n    // If the element actually moved position, add the command and fire the changed\n    // event handler.\n    if (oldNextSibling !== t.nextSibling) {\n      addCommandToHistory(new MoveElementCommand(t, oldNextSibling, oldParent, 'bottom'));\n      call('changed', [t]);\n    }\n  }\n};\n\n/**\n* Moves the select element up or down the stack, based on the visibly\n* intersecting elements.\n* @function module:svgcanvas.SvgCanvas#moveUpDownSelected\n* @param {\"Up\"|\"Down\"} dir - String that's either 'Up' or 'Down'\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {void}\n*/\nthis.moveUpDownSelected = function (dir) {\n  const selected = selectedElements[0];\n  if (!selected) { return; }\n\n  curBBoxes = [];\n  let closest, foundCur;\n  // jQuery sorts this list\n  const list = $(getIntersectionList(getStrokedBBoxDefaultVisible([selected]))).toArray();\n  if (dir === 'Down') { list.reverse(); }\n\n  $.each(list, function () {\n    if (!foundCur) {\n      if (this === selected) {\n        foundCur = true;\n      }\n      return true;\n    }\n    closest = this;\n    return false;\n  });\n  if (!closest) { return; }\n\n  const t = selected;\n  const oldParent = t.parentNode;\n  const oldNextSibling = t.nextSibling;\n  $(closest)[dir === 'Down' ? 'before' : 'after'](t);\n  // If the element actually moved position, add the command and fire the changed\n  // event handler.\n  if (oldNextSibling !== t.nextSibling) {\n    addCommandToHistory(new MoveElementCommand(t, oldNextSibling, oldParent, 'Move ' + dir));\n    call('changed', [t]);\n  }\n};\n\n/**\n* Moves selected elements on the X/Y axis.\n* @function module:svgcanvas.SvgCanvas#moveSelectedElements\n* @param {Float} dx - Float with the distance to move on the x-axis\n* @param {Float} dy - Float with the distance to move on the y-axis\n* @param {boolean} undoable - Boolean indicating whether or not the action should be undoable\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {BatchCommand|void} Batch command for the move\n*/\nthis.moveSelectedElements = function (dx, dy, undoable) {\n  // if undoable is not sent, default to true\n  // if single values, scale them to the zoom\n  if (dx.constructor !== Array) {\n    dx /= currentZoom;\n    dy /= currentZoom;\n  }\n  undoable = undoable || true;\n  const batchCmd = new BatchCommand('position');\n  let i = selectedElements.length;\n  while (i--) {\n    const selected = selectedElements[i];\n    if (!isNullish(selected)) {\n      // if (i === 0) {\n      //   selectedBBoxes[0] = utilsGetBBox(selected);\n      // }\n      // const b = {};\n      // for (const j in selectedBBoxes[i]) b[j] = selectedBBoxes[i][j];\n      // selectedBBoxes[i] = b;\n\n      const xform = svgroot.createSVGTransform();\n      const tlist = getTransformList(selected);\n\n      // dx and dy could be arrays\n      if (dx.constructor === Array) {\n        // if (i === 0) {\n        //   selectedBBoxes[0].x += dx[0];\n        //   selectedBBoxes[0].y += dy[0];\n        // }\n        xform.setTranslate(dx[i], dy[i]);\n      } else {\n        // if (i === 0) {\n        //   selectedBBoxes[0].x += dx;\n        //   selectedBBoxes[0].y += dy;\n        // }\n        xform.setTranslate(dx, dy);\n      }\n\n      if (tlist.numberOfItems) {\n        tlist.insertItemBefore(xform, 0);\n      } else {\n        tlist.appendItem(xform);\n      }\n\n      const cmd = recalculateDimensions(selected);\n      if (cmd) {\n        batchCmd.addSubCommand(cmd);\n      }\n\n      selectorManager.requestSelector(selected).resize();\n    }\n  }\n  if (!batchCmd.isEmpty()) {\n    if (undoable) {\n      addCommandToHistory(batchCmd);\n    }\n    call('changed', selectedElements);\n    return batchCmd;\n  }\n  return undefined;\n};\n\n/**\n* Create deep DOM copies (clones) of all selected elements and move them slightly\n* from their originals.\n* @function module:svgcanvas.SvgCanvas#cloneSelectedElements\n* @param {Float} x Float with the distance to move on the x-axis\n* @param {Float} y Float with the distance to move on the y-axis\n* @returns {void}\n*/\nthis.cloneSelectedElements = function (x, y) {\n  let i, elem;\n  const batchCmd = new BatchCommand('Clone Elements');\n  // find all the elements selected (stop at first null)\n  const len = selectedElements.length;\n  /**\n   * Sorts an array numerically and ascending.\n   * @param {Element} a\n   * @param {Element} b\n   * @returns {Integer}\n   */\n  function sortfunction (a, b) {\n    return ($(b).index() - $(a).index());\n  }\n  selectedElements.sort(sortfunction);\n  for (i = 0; i < len; ++i) {\n    elem = selectedElements[i];\n    if (isNullish(elem)) { break; }\n  }\n  // use slice to quickly get the subset of elements we need\n  const copiedElements = selectedElements.slice(0, i);\n  this.clearSelection(true);\n  // note that we loop in the reverse way because of the way elements are added\n  // to the selectedElements array (top-first)\n  const drawing = getCurrentDrawing();\n  i = copiedElements.length;\n  while (i--) {\n    // clone each element and replace it within copiedElements\n    elem = copiedElements[i] = drawing.copyElem(copiedElements[i]);\n    (currentGroup || drawing.getCurrentLayer()).append(elem);\n    batchCmd.addSubCommand(new InsertElementCommand(elem));\n  }\n\n  if (!batchCmd.isEmpty()) {\n    addToSelection(copiedElements.reverse()); // Need to reverse for correct selection-adding\n    this.moveSelectedElements(x, y, false);\n    addCommandToHistory(batchCmd);\n  }\n};\n\n/**\n* Aligns selected elements.\n* @function module:svgcanvas.SvgCanvas#alignSelectedElements\n* @param {string} type - String with single character indicating the alignment type\n* @param {\"selected\"|\"largest\"|\"smallest\"|\"page\"} relativeTo\n* @returns {void}\n*/\nthis.alignSelectedElements = function (type, relativeTo) {\n  const bboxes = []; // angles = [];\n  const len = selectedElements.length;\n  if (!len) { return; }\n  let minx = Number.MAX_VALUE, maxx = Number.MIN_VALUE,\n    miny = Number.MAX_VALUE, maxy = Number.MIN_VALUE;\n  let curwidth = Number.MIN_VALUE, curheight = Number.MIN_VALUE;\n  for (let i = 0; i < len; ++i) {\n    if (isNullish(selectedElements[i])) { break; }\n    const elem = selectedElements[i];\n    bboxes[i] = getStrokedBBoxDefaultVisible([elem]);\n\n    // now bbox is axis-aligned and handles rotation\n    switch (relativeTo) {\n    case 'smallest':\n      if (((type === 'l' || type === 'c' || type === 'r') &&\n        (curwidth === Number.MIN_VALUE || curwidth > bboxes[i].width)) ||\n        ((type === 't' || type === 'm' || type === 'b') &&\n        (curheight === Number.MIN_VALUE || curheight > bboxes[i].height))\n      ) {\n        minx = bboxes[i].x;\n        miny = bboxes[i].y;\n        maxx = bboxes[i].x + bboxes[i].width;\n        maxy = bboxes[i].y + bboxes[i].height;\n        curwidth = bboxes[i].width;\n        curheight = bboxes[i].height;\n      }\n      break;\n    case 'largest':\n      if (((type === 'l' || type === 'c' || type === 'r') &&\n        (curwidth === Number.MIN_VALUE || curwidth < bboxes[i].width)) ||\n        ((type === 't' || type === 'm' || type === 'b') &&\n        (curheight === Number.MIN_VALUE || curheight < bboxes[i].height))\n      ) {\n        minx = bboxes[i].x;\n        miny = bboxes[i].y;\n        maxx = bboxes[i].x + bboxes[i].width;\n        maxy = bboxes[i].y + bboxes[i].height;\n        curwidth = bboxes[i].width;\n        curheight = bboxes[i].height;\n      }\n      break;\n    default: // 'selected'\n      if (bboxes[i].x < minx) { minx = bboxes[i].x; }\n      if (bboxes[i].y < miny) { miny = bboxes[i].y; }\n      if (bboxes[i].x + bboxes[i].width > maxx) { maxx = bboxes[i].x + bboxes[i].width; }\n      if (bboxes[i].y + bboxes[i].height > maxy) { maxy = bboxes[i].y + bboxes[i].height; }\n      break;\n    }\n  } // loop for each element to find the bbox and adjust min/max\n\n  if (relativeTo === 'page') {\n    minx = 0;\n    miny = 0;\n    maxx = canvas.contentW;\n    maxy = canvas.contentH;\n  }\n\n  const dx = new Array(len);\n  const dy = new Array(len);\n  for (let i = 0; i < len; ++i) {\n    if (isNullish(selectedElements[i])) { break; }\n    // const elem = selectedElements[i];\n    const bbox = bboxes[i];\n    dx[i] = 0;\n    dy[i] = 0;\n    switch (type) {\n    case 'l': // left (horizontal)\n      dx[i] = minx - bbox.x;\n      break;\n    case 'c': // center (horizontal)\n      dx[i] = (minx + maxx) / 2 - (bbox.x + bbox.width / 2);\n      break;\n    case 'r': // right (horizontal)\n      dx[i] = maxx - (bbox.x + bbox.width);\n      break;\n    case 't': // top (vertical)\n      dy[i] = miny - bbox.y;\n      break;\n    case 'm': // middle (vertical)\n      dy[i] = (miny + maxy) / 2 - (bbox.y + bbox.height / 2);\n      break;\n    case 'b': // bottom (vertical)\n      dy[i] = maxy - (bbox.y + bbox.height);\n      break;\n    }\n  }\n  this.moveSelectedElements(dx, dy);\n};\n\n/**\n* Group: Additional editor tools.\n*/\n\n/**\n* @name module:svgcanvas.SvgCanvas#contentW\n* @type {Float}\n*/\nthis.contentW = getResolution().w;\n/**\n* @name module:svgcanvas.SvgCanvas#contentH\n* @type {Float}\n*/\nthis.contentH = getResolution().h;\n\n/**\n* @typedef {PlainObject} module:svgcanvas.CanvasInfo\n* @property {Float} x - The canvas' new x coordinate\n* @property {Float} y - The canvas' new y coordinate\n* @property {string} oldX - The canvas' old x coordinate\n* @property {string} oldY - The canvas' old y coordinate\n* @property {Float} d_x - The x position difference\n* @property {Float} d_y - The y position difference\n*/\n\n/**\n* Updates the editor canvas width/height/position after a zoom has occurred.\n* @function module:svgcanvas.SvgCanvas#updateCanvas\n* @param {Float} w - Float with the new width\n* @param {Float} h - Float with the new height\n* @fires module:svgcanvas.SvgCanvas#event:ext_canvasUpdated\n* @returns {module:svgcanvas.CanvasInfo}\n*/\nthis.updateCanvas = function (w, h) {\n  svgroot.setAttribute('width', w);\n  svgroot.setAttribute('height', h);\n  const bg = $('#canvasBackground')[0];\n  const oldX = svgcontent.getAttribute('x');\n  const oldY = svgcontent.getAttribute('y');\n  const x = ((w - this.contentW * currentZoom) / 2);\n  const y = ((h - this.contentH * currentZoom) / 2);\n\n  assignAttributes(svgcontent, {\n    width: this.contentW * currentZoom,\n    height: this.contentH * currentZoom,\n    x,\n    y,\n    viewBox: '0 0 ' + this.contentW + ' ' + this.contentH\n  });\n\n  assignAttributes(bg, {\n    width: svgcontent.getAttribute('width'),\n    height: svgcontent.getAttribute('height'),\n    x,\n    y\n  });\n\n  const bgImg = getElem('background_image');\n  if (bgImg) {\n    assignAttributes(bgImg, {\n      width: '100%',\n      height: '100%'\n    });\n  }\n\n  selectorManager.selectorParentGroup.setAttribute('transform', 'translate(' + x + ',' + y + ')');\n\n  /**\n  * Invoked upon updates to the canvas.\n  * @event module:svgcanvas.SvgCanvas#event:ext_canvasUpdated\n  * @type {PlainObject}\n  * @property {Integer} new_x\n  * @property {Integer} new_y\n  * @property {string} old_x (Of Integer)\n  * @property {string} old_y (Of Integer)\n  * @property {Integer} d_x\n  * @property {Integer} d_y\n  */\n  runExtensions(\n    'canvasUpdated',\n    /**\n     * @type {module:svgcanvas.SvgCanvas#event:ext_canvasUpdated}\n     */\n    {new_x: x, new_y: y, old_x: oldX, old_y: oldY, d_x: x - oldX, d_y: y - oldY}\n  );\n  return {x, y, old_x: oldX, old_y: oldY, d_x: x - oldX, d_y: y - oldY};\n};\n\n/**\n* Set the background of the editor (NOT the actual document).\n* @function module:svgcanvas.SvgCanvas#setBackground\n* @param {string} color - String with fill color to apply\n* @param {string} url - URL or path to image to use\n* @returns {void}\n*/\nthis.setBackground = function (color, url) {\n  const bg = getElem('canvasBackground');\n  const border = $(bg).find('rect')[0];\n  let bgImg = getElem('background_image');\n  let bgPattern = getElem('background_pattern');\n  border.setAttribute('fill', color === 'chessboard' ? '#fff' : color);\n  if (color === 'chessboard') {\n    if (!bgPattern) {\n      bgPattern = svgdoc.createElementNS(NS.SVG, 'foreignObject');\n      assignAttributes(bgPattern, {\n        id: 'background_pattern',\n        width: '100%',\n        height: '100%',\n        preserveAspectRatio: 'xMinYMin',\n        style: 'pointer-events:none'\n      });\n      const div = document.createElement('div');\n      assignAttributes(div, {\n        style: 'pointer-events:none;width:100%;height:100%;' +\n          'background-image:url(data:image/gif;base64,' +\n          'R0lGODlhEAAQAIAAAP///9bW1iH5BAAAAAAALAAAAAAQABAAAAIfjG+' +\n          'gq4jM3IFLJgpswNly/XkcBpIiVaInlLJr9FZWAQA7);'\n      });\n      bgPattern.appendChild(div);\n      bg.append(bgPattern);\n    }\n  } else if (bgPattern) {\n    bgPattern.remove();\n  }\n  if (url) {\n    if (!bgImg) {\n      bgImg = svgdoc.createElementNS(NS.SVG, 'image');\n      assignAttributes(bgImg, {\n        id: 'background_image',\n        width: '100%',\n        height: '100%',\n        preserveAspectRatio: 'xMinYMin',\n        style: 'pointer-events:none'\n      });\n    }\n    setHref(bgImg, url);\n    bg.append(bgImg);\n  } else if (bgImg) {\n    bgImg.remove();\n  }\n};\n\n/**\n* Select the next/previous element within the current layer.\n* @function module:svgcanvas.SvgCanvas#cycleElement\n* @param {boolean} next - true = next and false = previous element\n* @fires module:svgcanvas.SvgCanvas#event:selected\n* @returns {void}\n*/\nthis.cycleElement = function (next) {\n  let num;\n  const curElem = selectedElements[0];\n  let elem = false;\n  const allElems = getVisibleElements(currentGroup || getCurrentDrawing().getCurrentLayer());\n  if (!allElems.length) { return; }\n  if (isNullish(curElem)) {\n    num = next ? allElems.length - 1 : 0;\n    elem = allElems[num];\n  } else {\n    let i = allElems.length;\n    while (i--) {\n      if (allElems[i] === curElem) {\n        num = next ? i - 1 : i + 1;\n        if (num >= allElems.length) {\n          num = 0;\n        } else if (num < 0) {\n          num = allElems.length - 1;\n        }\n        elem = allElems[num];\n        break;\n      }\n    }\n  }\n  selectOnly([elem], true);\n  call('selected', selectedElements);\n};\n\nthis.clear();\n\n/**\n* @interface module:svgcanvas.PrivateMethods\n* @type {PlainObject}\n* @property {module:svgcanvas~addCommandToHistory} addCommandToHistory\n* @property {module:history.HistoryCommand} BatchCommand\n* @property {module:history.HistoryCommand} ChangeElementCommand\n* @property {module:utilities.decode64} decode64\n* @property {module:utilities.dropXMLInternalSubset} dropXMLInternalSubset\n* @property {module:utilities.encode64} encode64\n* @property {module:svgcanvas~ffClone} ffClone\n* @property {module:svgcanvas~findDuplicateGradient} findDuplicateGradient\n* @property {module:utilities.getPathBBox} getPathBBox\n* @property {module:units.getTypeMap} getTypeMap\n* @property {module:draw.identifyLayers} identifyLayers\n* @property {module:history.HistoryCommand} InsertElementCommand\n* @property {module:browser.isChrome} isChrome\n* @property {module:math.isIdentity} isIdentity\n* @property {module:browser.isIE} isIE\n* @property {module:svgcanvas~logMatrix} logMatrix\n* @property {module:history.HistoryCommand} MoveElementCommand\n* @property {module:namespaces.NS} NS\n* @property {module:utilities.preventClickDefault} preventClickDefault\n* @property {module:history.HistoryCommand} RemoveElementCommand\n* @property {module:SVGTransformList.SVGEditTransformList} SVGEditTransformList\n* @property {module:utilities.text2xml} text2xml\n* @property {module:math.transformBox} transformBox\n* @property {module:math.transformPoint} transformPoint\n* @property {module:utilities.walkTree} walkTree\n*/\n/**\n* @deprecated getPrivateMethods\n* Since all methods are/should be public somehow, this function should be removed;\n*  we might require `import` in place of this in the future once ES6 Modules\n*  widespread\n\n* Being able to access private methods publicly seems wrong somehow,\n* but currently appears to be the best way to allow testing and provide\n* access to them to plugins.\n* @function module:svgcanvas.SvgCanvas#getPrivateMethods\n* @returns {module:svgcanvas.PrivateMethods}\n*/\nthis.getPrivateMethods = function () {\n  const obj = {\n    addCommandToHistory,\n    BatchCommand,\n    ChangeElementCommand,\n    decode64,\n    dropXMLInternalSubset,\n    encode64,\n    ffClone,\n    findDefs,\n    findDuplicateGradient,\n    getElem,\n    getPathBBox,\n    getTypeMap,\n    getUrlFromAttr,\n    identifyLayers: draw.identifyLayers,\n    InsertElementCommand,\n    isChrome,\n    isIdentity,\n    isIE,\n    logMatrix,\n    MoveElementCommand,\n    NS,\n    preventClickDefault,\n    RemoveElementCommand,\n    SVGEditTransformList,\n    text2xml,\n    transformBox,\n    transformPoint,\n    walkTree\n  };\n  return obj;\n};\n  } // End constructor\n} // End class\n\nexport default SvgCanvas;\n","// Todo: Update: https://github.com/jeresig/jquery.hotkeys\n/*\n * jQuery Hotkeys Plugin\n * Copyright 2010, John Resig\n * Dual licensed under the MIT or GPL Version 2 licenses.\n *\n * http://github.com/jeresig/jquery.hotkeys\n *\n * Based upon the plugin by Tzury Bar Yochay:\n * http://github.com/tzuryby/hotkeys\n *\n * Original idea by:\n * Binny V A, http://www.openjs.com/scripts/events/keyboard_shortcuts/\n*/\n\n// We *do* want to allow the escape key within textareas (and possibly tab too), so add the condition `n.which !== 27`\n\nexport default function(b){b.hotkeys={version:\"0.8\",specialKeys:{8:\"backspace\",9:\"tab\",13:\"return\",16:\"shift\",17:\"ctrl\",18:\"alt\",19:\"pause\",20:\"capslock\",27:\"esc\",32:\"space\",33:\"pageup\",34:\"pagedown\",35:\"end\",36:\"home\",37:\"left\",38:\"up\",39:\"right\",40:\"down\",45:\"insert\",46:\"del\",96:\"0\",97:\"1\",98:\"2\",99:\"3\",100:\"4\",101:\"5\",102:\"6\",103:\"7\",104:\"8\",105:\"9\",106:\"*\",107:\"+\",109:\"-\",110:\".\",111:\"/\",112:\"f1\",113:\"f2\",114:\"f3\",115:\"f4\",116:\"f5\",117:\"f6\",118:\"f7\",119:\"f8\",120:\"f9\",121:\"f10\",122:\"f11\",123:\"f12\",144:\"numlock\",145:\"scroll\",191:\"/\",224:\"meta\",219:\"[\",221:\"]\"},shiftNums:{\"`\":\"~\",\"1\":\"!\",\"2\":\"@\",\"3\":\"#\",\"4\":\"$\",\"5\":\"%\",\"6\":\"^\",\"7\":\"&\",\"8\":\"*\",\"9\":\"(\",\"0\":\")\",\"-\":\"_\",\"=\":\"+\",\";\":\": \",\"'\":'\"',\",\":\"<\",\".\":\">\",\"/\":\"?\",\"\\\\\":\"|\"}};function a(d){if(typeof d.data!==\"string\"){return}var c=d.handler,e=d.data.toLowerCase().split(\" \");d.handler=function(n){if(this!==n.target&&(n.which !== 27 && (/textarea|select/i.test(n.target.nodeName)||n.target.type===\"text\"))){return}var h=n.type!==\"keypress\"&&b.hotkeys.specialKeys[n.which],o=String.fromCharCode(n.which).toLowerCase(),k,m=\"\",g={};if(n.altKey&&h!==\"alt\"){m+=\"alt+\"}if(n.ctrlKey&&h!==\"ctrl\"){m+=\"ctrl+\"}if(n.metaKey&&!n.ctrlKey&&h!==\"meta\"){m+=\"meta+\"}if(n.shiftKey&&h!==\"shift\"){m+=\"shift+\"}if(h){g[m+h]=true}else{g[m+o]=true;g[m+b.hotkeys.shiftNums[o]]=true;if(m===\"shift+\"){g[b.hotkeys.shiftNums[o]]=true}}for(var j=0,f=e.length;j<f;j++){if(g[e[j]]){return c.apply(this,arguments)}}}}b.each([\"keydown\",\"keyup\",\"keypress\"],function(){b.event.special[this]={add:a}})\n\nreturn b;\n}\n","/**\n * @file SVG Icon Loader 2.0\n *\n * jQuery Plugin for loading SVG icons from a single file\n *\n * Adds {@link external:jQuery.svgIcons}, {@link external:jQuery.getSvgIcon}, {@link external:jQuery.resizeSvgIcons}\n *\n * How to use:\n\n1. Create the SVG master file that includes all icons:\n\nThe master SVG icon-containing file is an SVG file that contains\n`<g>` elements. Each `<g>` element should contain the markup of an SVG\nicon. The `<g>` element has an ID that should\ncorrespond with the ID of the HTML element used on the page that should contain\nor optionally be replaced by the icon. Additionally, one empty element should be\nadded at the end with id \"svg_eof\".\n\n2. Optionally create fallback raster images for each SVG icon.\n\n3. Include the jQuery and the SVG Icon Loader scripts on your page.\n\n4. Run `$.svgIcons()` when the document is ready. See its signature\n\n5. To access an icon at a later point without using the callback, use this:\n  `$.getSvgIcon(id (string), uniqueClone (boolean))`;\n\nThis will return the icon (as jQuery object) with a given ID.\n\n6. To resize icons at a later point without using the callback, use this:\n  `$.resizeSvgIcons(resizeOptions)` (use the same way as the \"resize\" parameter)\n *\n * @module jQuerySVGIcons\n * @license MIT\n * @copyright (c) 2009 Alexis Deveria\n * {@link http://a.deveria.com}\n * @example\n  $(function () {\n     $.svgIcons('my_icon_set.svg'); // The SVG file that contains all icons\n     // No options have been set, so all icons will automatically be inserted\n     // into HTML elements that match the same IDs.\n  });\n\n  * @example\n  $(function () {\n     // The SVG file that contains all icons\n     $.svgIcons('my_icon_set.svg', {\n       callback (icons) { // Custom callback function that sets click\n         // events for each icon\n         $.each(icons, function (id, icon) {\n           icon.click(function () {\n             alert('You clicked on the icon with id ' + id);\n           });\n         });\n       }\n     });\n   });\n\n  * @example\n   $(function () {\n     // The SVGZ file that contains all icons\n     $.svgIcons('my_icon_set.svgz', {\n       w: 32, // All icons will be 32px wide\n       h: 32, // All icons will be 32px high\n       fallback_path: 'icons/', // All fallback files can be found here\n       fallback: {\n         '#open_icon': 'open.png', // The \"open.png\" will be appended to the\n         // HTML element with ID \"open_icon\"\n         '#close_icon': 'close.png',\n         '#save_icon': 'save.png'\n       },\n       placement: {'.open_icon': 'open'}, // The \"open\" icon will be added\n       // to all elements with class \"open_icon\"\n       resize: {\n         '#save_icon .svg_icon': 64 // The \"save\" icon will be resized to 64 x 64px\n       },\n\n       callback (icons) { // Sets background color for \"close\" icon\n         icons.close.css('background', 'red');\n       },\n\n       svgz: true // Indicates that an SVGZ file is being used\n     });\n   });\n*/\n\n// Todo: Move to own module (and have it import a modular base64 encoder)\nimport {encode64} from '../../common/utilities.js';\n\nconst isOpera = Boolean(window.opera);\n\nconst fixIDs = function (svgEl, svgNum, force) {\n  const defs = svgEl.find('defs');\n  if (!defs.length) return svgEl;\n\n  let idElems;\n  if (isOpera) {\n    idElems = defs.find('*').filter(function () {\n      return Boolean(this.id);\n    });\n  } else {\n    idElems = defs.find('[id]');\n  }\n\n  const allElems = svgEl[0].getElementsByTagName('*'),\n    len = allElems.length;\n\n  idElems.each(function (i) {\n    const {id} = this;\n    /*\n    const noDupes = ($(svgdoc).find('#' + id).length <= 1);\n    if (isOpera) noDupes = false; // Opera didn't clone svgEl, so not reliable\n    if(!force && noDupes) return;\n    */\n    const newId = 'x' + id + svgNum + i;\n    this.id = newId;\n\n    const oldVal = 'url(#' + id + ')';\n    const newVal = 'url(#' + newId + ')';\n\n    // Selector method, possibly faster but fails in Opera / jQuery 1.4.3\n    //  svgEl.find('[fill=\"url(#' + id + ')\"]').each(function() {\n    //    this.setAttribute('fill', 'url(#' + newId + ')');\n    //  }).end().find('[stroke=\"url(#' + id + ')\"]').each(function() {\n    //    this.setAttribute('stroke', 'url(#' + newId + ')');\n    //  }).end().find('use').each(function() {\n    //    if(this.getAttribute('xlink:href') == '#' + id) {\n    //      this.setAttributeNS(xlinkns,'href','#' + newId);\n    //    }\n    //  }).end().find('[filter=\"url(#' + id + ')\"]').each(function() {\n    //    this.setAttribute('filter', 'url(#' + newId + ')');\n    //  });\n\n    for (i = 0; i < len; i++) {\n      const elem = allElems[i];\n      if (elem.getAttribute('fill') === oldVal) {\n        elem.setAttribute('fill', newVal);\n      }\n      if (elem.getAttribute('stroke') === oldVal) {\n        elem.setAttribute('stroke', newVal);\n      }\n      if (elem.getAttribute('filter') === oldVal) {\n        elem.setAttribute('filter', newVal);\n      }\n    }\n  });\n  return svgEl;\n};\n\n/**\n* @callback module:jQuerySVGIcons.SVGIconsLoadedCallback\n* @param {PlainObject<string, external:jQuery>} svgIcons IDs keyed to jQuery objects of images\n* @returns {void}\n*/\n\n/**\n * @function module:jQuerySVGIcons.jQuerySVGIcons\n * @param {external:jQuery} $ Its keys include all icon IDs and the values, the icon as a jQuery object\n * @returns {external:jQuery} The enhanced jQuery object\n*/\nexport default function jQueryPluginSVGIcons ($) {\n  const svgIcons = {};\n\n  /**\n   * Map of raster images with each key being the SVG icon ID\n   *   to replace, and the value the image file name.\n   * @typedef {PlainObject<string, string>} external:jQuery.svgIcons.Fallback\n  */\n  /**\n   * Map of raster images with each key being the SVG icon ID\n   *   whose `alt` will be set, and the value being the `alt` text.\n   * @typedef {PlainObject<string, string>} external:jQuery.svgIcons.Alts\n  */\n  /**\n  * @function external:jQuery.svgIcons\n  * @param {string} file The location of a local SVG or SVGz file\n  * @param {PlainObject} [opts]\n  * @param {Float} [opts.w] The icon widths\n  * @param {Float} [opts.h] The icon heights\n  * @param {external:jQuery.svgIcons.Fallback} [opts.fallback]\n  * @param {string} [opts.fallback_path] The path to use for all images\n  *   listed under \"fallback\"\n  * @param {boolean} [opts.replace] If set to `true`, HTML elements will\n  *   be replaced by, rather than include the SVG icon.\n  * @param {PlainObject<string, string>} [opts.placement] Map with selectors\n  *   for keys and SVG icon ids as values. This provides a custom method of\n  *   adding icons.\n  * @param {PlainObject<string, module:jQuerySVGIcons.Size>} [opts.resize] Map\n  *   with selectors for keys and numbers as values. This allows an easy way to\n  *   resize specific icons.\n  * @param {module:jQuerySVGIcons.SVGIconsLoadedCallback} [opts.callback] A\n  *   function to call when all icons have been loaded.\n  * @param {boolean} [opts.id_match=true] Automatically attempt to match\n  *   SVG icon ids with corresponding HTML id\n  * @param {boolean} [opts.no_img] Prevent attempting to convert the icon\n  *   into an `<img>` element (may be faster, help for browser consistency)\n  * @param {boolean} [opts.svgz] Indicate that the file is an SVGZ file, and\n  *   thus not to parse as XML. SVGZ files add compression benefits, but\n  *   getting data from them fails in Firefox 2 and older.\n  * @param {jQuery.svgIcons.Alts} [opts.alts] Map of images with each key\n  *   being the SVG icon ID whose `alt` will be set, and the value being\n  *   the `alt` text\n  * @param {string} [opts.testIconAlt=\"icon\"] Alt text for the injected test image.\n  *   In case wish to ensure have one for accessibility\n  * @returns {void}\n  */\n  $.svgIcons = function (file, opts = {}) {\n    const svgns = 'http://www.w3.org/2000/svg',\n      xlinkns = 'http://www.w3.org/1999/xlink',\n      iconW = opts.w || 24,\n      iconH = opts.h || 24;\n    let elems, svgdoc, testImg,\n      iconsMade = false,\n      dataLoaded = false,\n      loadAttempts = 0;\n    const // ua = navigator.userAgent,\n      // isSafari = (ua.includes('Safari/') && !ua.includes('Chrome/')),\n      dataPre = 'data:image/svg+xml;charset=utf-8;base64,';\n\n    let dataEl;\n    if (opts.svgz) {\n      dataEl = $('<object data=\"' + file + '\" type=image/svg+xml>').appendTo('body').hide();\n      try {\n        svgdoc = dataEl[0].contentDocument;\n        dataEl.load(getIcons);\n        getIcons(0, true); // Opera will not run \"load\" event if file is already cached\n      } catch (err1) {\n        useFallback();\n      }\n    } else {\n      const parser = new DOMParser();\n      $.ajax({\n        url: file,\n        dataType: 'string',\n        success (data) {\n          if (!data) {\n            $(useFallback);\n            return;\n          }\n          svgdoc = parser.parseFromString(data, 'text/xml');\n          $(function () {\n            getIcons('ajax');\n          });\n        },\n        error (err) {\n          // TODO: Fix Opera widget icon bug\n          if (window.opera) {\n            $(function () {\n              useFallback();\n            });\n          } else if (err.responseText) {\n            svgdoc = parser.parseFromString(err.responseText, 'text/xml');\n\n            if (!svgdoc.childNodes.length) {\n              $(useFallback);\n            }\n            $(function () {\n              getIcons('ajax');\n            });\n          } else {\n            $(useFallback);\n          }\n        }\n      });\n    }\n\n    /**\n     *\n     * @param {\"ajax\"|0|void} evt\n     * @param {boolean} [noWait]\n     * @returns {void}\n     */\n    function getIcons (evt, noWait) {\n      if (evt !== 'ajax') {\n        if (dataLoaded) return;\n        // Webkit sometimes says svgdoc is undefined, other times\n        // it fails to load all nodes. Thus we must make sure the \"eof\"\n        // element is loaded.\n        svgdoc = dataEl[0].contentDocument; // Needed again for Webkit\n        const isReady = (svgdoc && svgdoc.getElementById('svg_eof'));\n        if (!isReady && !(noWait && isReady)) {\n          loadAttempts++;\n          if (loadAttempts < 50) {\n            setTimeout(getIcons, 20);\n          } else {\n            useFallback();\n            dataLoaded = true;\n          }\n          return;\n        }\n        dataLoaded = true;\n      }\n\n      elems = $(svgdoc.firstChild).children(); // .getElementsByTagName('foreignContent');\n\n      if (!opts.no_img) {\n        const testSrc = dataPre +\n          'PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zd' +\n          'mciIHdpZHRoPSIyNzUiIGhlaWdodD0iMjc1Ij48L3N2Zz4%3D';\n\n        testImg = $(new Image()).attr({\n          src: testSrc,\n          width: 0,\n          height: 0,\n          alt: opts.testIconAlt || 'icon'\n        }).appendTo('body')\n          .load(function () {\n            // Safari 4 crashes, Opera and Chrome don't\n            makeIcons(true);\n          }).error(function () {\n            makeIcons();\n          });\n      } else {\n        setTimeout(function () {\n          if (!iconsMade) makeIcons();\n        }, 500);\n      }\n    }\n\n    /**\n     *\n     * @param {external:jQuery} target\n     * @param {external:jQuery} icon A wrapped `defs` or Image\n     * @param {string} id SVG icon ID\n     * @param {boolean} setID Whether to set the ID attribute (with `id`)\n     * @returns {void}\n     */\n    function setIcon (target, icon, id, setID) {\n      if (isOpera) icon.css('visibility', 'hidden');\n      if (opts.replace) {\n        if (setID) icon.attr('id', id);\n        const cl = target.attr('class');\n        if (cl) icon.attr('class', 'svg_icon ' + cl);\n        if (!target.alt) {\n          let alt = 'icon';\n          if (opts.alts) {\n            alt = opts.alts[id] || alt;\n          }\n          icon.attr('alt', alt);\n        }\n        target.replaceWith(icon);\n      } else {\n        target.append(icon);\n      }\n      if (isOpera) {\n        setTimeout(function () {\n          icon.removeAttr('style');\n        }, 1);\n      }\n    }\n\n    let holder;\n    /**\n     * @param {external:jQuery} icon A wrapped `defs` or Image\n     * @param {string} id SVG icon ID\n     * @returns {void}\n     */\n    function addIcon (icon, id) {\n      if (opts.id_match === undefined || opts.id_match !== false) {\n        setIcon(holder, icon, id, true);\n      }\n      svgIcons[id] = icon;\n    }\n\n    /**\n     *\n     * @param {boolean} [toImage]\n     * @param {external:jQuery.svgIcons.Fallback} [fallback=false]\n     * @returns {void}\n     */\n    function makeIcons (toImage = false, fallback = false) {\n      if (iconsMade) return;\n      if (opts.no_img) toImage = false;\n\n      let tempHolder;\n      if (toImage) {\n        tempHolder = $(document.createElement('div'));\n        tempHolder.hide().appendTo('body');\n      }\n      if (fallback) {\n        const path = opts.fallback_path || '';\n        $.each(fallback, function (id, imgsrc) {\n          holder = $('#' + id);\n          let alt = 'icon';\n          if (opts.alts) {\n            alt = opts.alts[id] || alt;\n          }\n          const icon = $(new Image())\n            .attr({\n              class: 'svg_icon',\n              src: path + imgsrc,\n              width: iconW,\n              height: iconH,\n              alt\n            });\n\n          addIcon(icon, id);\n        });\n      } else {\n        const len = elems.length;\n        for (let i = 0; i < len; i++) {\n          const elem = elems[i];\n          const {id} = elem;\n          if (id === 'svg_eof') break;\n          holder = $('#' + id);\n          const svgroot = document.createElementNS(svgns, 'svg');\n          // Per https://www.w3.org/TR/xml-names11/#defaulting, the namespace for\n          // attributes should have no value.\n          svgroot.setAttribute('viewBox', [0, 0, iconW, iconH].join(' '));\n\n          let svg = elem.getElementsByTagNameNS(svgns, 'svg')[0];\n\n          // Make flexible by converting width/height to viewBox\n          const w = svg.getAttribute('width');\n          const h = svg.getAttribute('height');\n          svg.removeAttribute('width');\n          svg.removeAttribute('height');\n\n          const vb = svg.getAttribute('viewBox');\n          if (!vb) {\n            svg.setAttribute('viewBox', [0, 0, w, h].join(' '));\n          }\n\n          // Not using jQuery to be a bit faster\n          svgroot.setAttribute('xmlns', svgns);\n          svgroot.setAttribute('width', iconW);\n          svgroot.setAttribute('height', iconH);\n          svgroot.setAttribute('xmlns:xlink', xlinkns);\n          svgroot.setAttribute('class', 'svg_icon');\n\n          // Without cloning, Firefox will make another GET request.\n          // With cloning, causes issue in Opera/Win/Non-EN\n          if (!isOpera) svg = svg.cloneNode(true);\n\n          svgroot.append(svg);\n\n          let icon;\n          if (toImage) {\n            tempHolder.empty().append(svgroot);\n            const str = dataPre + encode64(unescape(encodeURIComponent(\n              new XMLSerializer().serializeToString(svgroot)\n            )));\n            let alt = 'icon';\n            if (opts.alts) {\n              alt = opts.alts[id] || alt;\n            }\n            icon = $(new Image())\n              .attr({class: 'svg_icon', src: str, alt});\n          } else {\n            icon = fixIDs($(svgroot), i);\n          }\n          addIcon(icon, id);\n        }\n      }\n\n      if (opts.placement) {\n        $.each(opts.placement, function (sel, id) {\n          if (!svgIcons[id]) return;\n          $(sel).each(function (i) {\n            let copy = svgIcons[id].clone();\n            if (i > 0 && !toImage) copy = fixIDs(copy, i, true);\n            setIcon($(this), copy, id);\n          });\n        });\n      }\n      if (!fallback) {\n        if (toImage) tempHolder.remove();\n        if (dataEl) dataEl.remove();\n        if (testImg) testImg.remove();\n      }\n      if (opts.resize) $.resizeSvgIcons(opts.resize);\n      iconsMade = true;\n\n      if (opts.callback) opts.callback(svgIcons);\n    }\n\n    /**\n     * @returns {void}\n     */\n    function useFallback () {\n      if (file.includes('.svgz')) {\n        const regFile = file.replace('.svgz', '.svg');\n        if (window.console) {\n          console.log('.svgz failed, trying with .svg'); // eslint-disable-line no-console\n        }\n        $.svgIcons(regFile, opts);\n      } else if (opts.fallback) {\n        makeIcons(false, opts.fallback);\n      }\n    }\n  };\n\n  /**\n  * @function external:jQuery.getSvgIcon\n  * @param {string} id\n  * @param {boolean} uniqueClone Whether to clone\n  * @returns {external:jQuery} The icon (optionally cloned)\n  */\n  $.getSvgIcon = function (id, uniqueClone) {\n    let icon = svgIcons[id];\n    if (uniqueClone && icon) {\n      icon = fixIDs(icon, 0, true).clone(true);\n    }\n    return icon;\n  };\n\n  /**\n  * @typedef {GenericArray} module:jQuerySVGIcons.Dimensions\n  * @property {Integer} length 2\n  * @property {Float} 0 Width\n  * @property {Float} 1 Height\n  */\n\n  /**\n  * If a Float is used, it will represent width and height. Arrays contain\n  *   the width and height.\n  * @typedef {module:jQuerySVGIcons.Dimensions|Float} module:jQuerySVGIcons.Size\n  */\n\n  /**\n  * @function external:jQuery.resizeSvgIcons\n  * @param {PlainObject<string, module:jQuerySVGIcons.Size>} obj Object with\n  *   selectors as keys. The values are sizes.\n  * @returns {void}\n  */\n  $.resizeSvgIcons = function (obj) {\n    // FF2 and older don't detect .svg_icon, so we change it detect svg elems instead\n    const changeSel = !$('.svg_icon:first').length;\n    $.each(obj, function (sel, size) {\n      const arr = Array.isArray(size);\n      const w = arr ? size[0] : size,\n        h = arr ? size[1] : size;\n      if (changeSel) {\n        sel = sel.replace(/\\.svg_icon/g, 'svg');\n      }\n      $(sel).each(function () {\n        this.setAttribute('width', w);\n        this.setAttribute('height', h);\n        if (window.opera && window.widget) {\n          this.parentNode.style.width = w + 'px';\n          this.parentNode.style.height = h + 'px';\n        }\n      });\n    });\n  };\n  return $;\n}\n","/**\n * @file jGraduate 0.4\n *\n * jQuery Plugin for a gradient picker\n *\n * @module jGraduate\n * @copyright 2010 Jeff Schiller {@link http://blog.codedread.com/}, 2010 Alexis Deveria {@link http://a.deveria.com/}\n *\n * @license Apache-2.0\n * @example\n * // The Paint object is described below.\n * $.jGraduate.Paint(); // constructs a 'none' color\n * @example $.jGraduate.Paint({copy: o}); // creates a copy of the paint o\n * @example $.jGraduate.Paint({hex: '#rrggbb'}); // creates a solid color paint with hex = \"#rrggbb\"\n * @example $.jGraduate.Paint({linearGradient: o, a: 50}); // creates a linear gradient paint with opacity=0.5\n * @example $.jGraduate.Paint({radialGradient: o, a: 7}); // creates a radial gradient paint with opacity=0.07\n * @example $.jGraduate.Paint({hex: '#rrggbb', linearGradient: o}); // throws an exception?\n*/\n\n/* eslint-disable jsdoc/require-property */\n/**\n  * The jQuery namespace.\n  * @external jQuery\n*/\n/**\n * The jQuery plugin namespace.\n * @namespace {PlainObject} fn\n * @memberof external:jQuery\n * @see {@link http://learn.jquery.com/plugins/|jQuery Plugins}\n */\n/* eslint-enable jsdoc/require-property */\n\nconst ns = {\n  svg: 'http://www.w3.org/2000/svg',\n  xlink: 'http://www.w3.org/1999/xlink'\n};\n\nif (!window.console) {\n  window.console = {\n    log (str) { /* */ },\n    dir (str) { /* */ }\n  };\n}\n\n/**\n* Adds {@link external:jQuery.jGraduate.Paint},\n* {@link external:jQuery.fn.jGraduateDefaults},\n* {@link external:jQuery.fn.jGraduate}.\n* @function module:jGraduate.jGraduate\n* @param {external:jQuery} $ The jQuery instance to wrap\n* @returns {external:jQuery}\n*/\nexport default function jQueryPluginJGraduate ($) {\n  /**\n  * @typedef {PlainObject} module:jGraduate.jGraduatePaintOptions\n  * @property {Float} [alpha]\n  * @property {module:jGraduate~Paint} [copy] Copy paint object\n  * @property {SVGLinearGradientElement} [linearGradient]\n  * @property {SVGRadialGradientElement} [radialGradient]\n  * @property {string} [solidColor]\n  */\n\n  /**\n  * @memberof module:jGraduate~\n  */\n  class Paint {\n    /**\n     * @param {module:jGraduate.jGraduatePaintOptions} [opt]\n    */\n    constructor (opt) {\n      const options = opt || {};\n      this.alpha = isNaN(options.alpha) ? 100 : options.alpha;\n      // copy paint object\n      if (options.copy) {\n        /**\n         * @name module:jGraduate~Paint#type\n         * @type {\"none\"|\"solidColor\"|\"linearGradient\"|\"radialGradient\"}\n         */\n        this.type = options.copy.type;\n        /**\n         * Represents opacity (0-100).\n         * @name module:jGraduate~Paint#alpha\n         * @type {Float}\n         */\n        this.alpha = options.copy.alpha;\n        /**\n         * Represents #RRGGBB hex of color.\n         * @name module:jGraduate~Paint#solidColor\n         * @type {string}\n         */\n        this.solidColor = null;\n        /**\n         * @name module:jGraduate~Paint#linearGradient\n         * @type {SVGLinearGradientElement}\n         */\n        this.linearGradient = null;\n        /**\n         * @name module:jGraduate~Paint#radialGradient\n         * @type {SVGRadialGradientElement}\n         */\n        this.radialGradient = null;\n\n        switch (this.type) {\n        case 'none':\n          break;\n        case 'solidColor':\n          this.solidColor = options.copy.solidColor;\n          break;\n        case 'linearGradient':\n          this.linearGradient = options.copy.linearGradient.cloneNode(true);\n          break;\n        case 'radialGradient':\n          this.radialGradient = options.copy.radialGradient.cloneNode(true);\n          break;\n        }\n      // create linear gradient paint\n      } else if (options.linearGradient) {\n        this.type = 'linearGradient';\n        this.solidColor = null;\n        this.radialGradient = null;\n        this.linearGradient = options.linearGradient.cloneNode(true);\n      // create linear gradient paint\n      } else if (options.radialGradient) {\n        this.type = 'radialGradient';\n        this.solidColor = null;\n        this.linearGradient = null;\n        this.radialGradient = options.radialGradient.cloneNode(true);\n      // create solid color paint\n      } else if (options.solidColor) {\n        this.type = 'solidColor';\n        this.solidColor = options.solidColor;\n      // create empty paint\n      } else {\n        this.type = 'none';\n        this.solidColor = null;\n        this.linearGradient = null;\n        this.radialGradient = null;\n      }\n    }\n  }\n\n  /* eslint-disable jsdoc/require-property */\n  /**\n  * @namespace {PlainObject} jGraduate\n  * @memberof external:jQuery\n  */\n  $.jGraduate = /** @lends external:jQuery.jGraduate */ {\n    /* eslint-enable jsdoc/require-property */\n    /**\n    * @class external:jQuery.jGraduate.Paint\n    * @see module:jGraduate~Paint\n    */\n    Paint\n  };\n\n  // JSDoc doesn't show this as belonging to our `module:jGraduate.Options` type,\n  //   so we use `@see`\n  /**\n  * @namespace {module:jGraduate.Options} jGraduateDefaults\n  * @memberof external:jQuery.fn\n  */\n  $.fn.jGraduateDefaults = /** @lends external:jQuery.fn.jGraduateDefaults */ {\n    /**\n    * Creates an object with a 'none' color.\n    * @type {external:jQuery.jGraduate.Paint}\n    * @see module:jGraduate.Options\n    */\n    paint: new $.jGraduate.Paint(),\n    /**\n    * @namespace\n    */\n    window: {\n      /**\n      * @type {string}\n      * @see module:jGraduate.Options\n      */\n      pickerTitle: 'Drag markers to pick a paint'\n    },\n    /**\n    * @namespace\n    */\n    images: {\n      /**\n      * @type {string}\n      * @see module:jGraduate.Options\n      */\n      clientPath: 'images/'\n    },\n    /**\n    * @type {string}\n    * @see module:jGraduate.Options\n    */\n    newstop: 'inverse' // same, inverse, black, white\n  };\n\n  const isGecko = navigator.userAgent.includes('Gecko/');\n\n  /**\n  * @typedef {PlainObject<string, string>} module:jGraduate.Attrs\n  */\n  /**\n  * @param {SVGElement} elem\n  * @param {module:jGraduate.Attrs} attrs\n  * @returns {void}\n  */\n  function setAttrs (elem, attrs) {\n    if (isGecko) {\n      Object.entries(attrs).forEach(([aname, val]) => {\n        elem.setAttribute(aname, val);\n      });\n    } else {\n      Object.entries(attrs).forEach(([aname, val]) => {\n        const prop = elem[aname];\n        if (prop && prop.constructor === 'SVGLength') {\n          prop.baseVal.value = val;\n        } else {\n          elem.setAttribute(aname, val);\n        }\n      });\n    }\n  }\n\n  /**\n  * @param {string} name\n  * @param {module:jGraduate.Attrs} attrs\n  * @param {Element} newparent\n  * @returns {SVGElement}\n  */\n  function mkElem (name, attrs, newparent) {\n    const elem = document.createElementNS(ns.svg, name);\n    setAttrs(elem, attrs);\n    if (newparent) {\n      newparent.append(elem);\n    }\n    return elem;\n  }\n\n  /**\n  * @typedef {PlainObject} module:jGraduate.ColorOpac Object may have one or both values\n  * @property {string} [color] #Hex color\n  * @property {Float} [opac] 0-1\n  */\n  /**\n  * @typedef {PlainObject} module:jGraduate.Options\n  * @property {module:jGraduate~Paint} [paint] A Paint object object describing the paint to display initially; defaults to a new instance without options (defaults to opaque white)\n  * @property {external:Window} [window]\n  * @property {string} [window.pickerTitle='Drag markers to pick a paint']\n  * @property {PlainObject} [images]\n  * @property {string} [images.clientPath='images/']\n  * @property {\"same\"|\"inverse\"|\"black\"|\"white\"|module:jGraduate.ColorOpac} [newstop=\"inverse\"]\n  */\n\n  /**\n  * @callback external:jQuery.fn.jGraduate.OkCallback\n  * @param {external:jQuery.jGraduate.Paint} paint\n  * @returns {void}\n  */\n  /**\n  * @callback external:jQuery.fn.jGraduate.CancelCallback\n  * @returns {void}\n  */\n\n  /**\n  * @function external:jQuery.fn.jGraduate\n  * @param {module:jGraduate.Options} [options]\n  * @param {external:jQuery.fn.jGraduate.OkCallback} [okCallback] Called with a Paint object when Ok is pressed\n  * @param {external:jQuery.fn.jGraduate.CancelCallback} [cancelCallback] Called with no arguments when Cancel is pressed\n  * @returns {external:jQuery}\n  */\n  $.fn.jGraduate = function (options, okCallback, cancelCallback) {\n    return this.each(function () {\n      const $this = $(this),\n        $settings = $.extend(true, {}, $.fn.jGraduateDefaults, options || {}),\n        id = $this.attr('id'),\n        idref = '#' + $this.attr('id') + ' ';\n\n      if (!idref) {\n        /* await */ $.alert('Container element must have an id attribute to maintain unique id strings for sub-elements.');\n        return;\n      }\n\n      const okClicked = function () {\n        switch ($this.paint.type) {\n        case 'radialGradient':\n          $this.paint.linearGradient = null;\n          break;\n        case 'linearGradient':\n          $this.paint.radialGradient = null;\n          break;\n        case 'solidColor':\n          $this.paint.radialGradient = $this.paint.linearGradient = null;\n          break;\n        }\n        typeof $this.okCallback === 'function' && $this.okCallback($this.paint);\n        $this.hide();\n      };\n      const cancelClicked = function () {\n        typeof $this.cancelCallback === 'function' && $this.cancelCallback();\n        $this.hide();\n      };\n\n      $.extend(\n        true,\n        $this,\n        // public properties, methods, and callbacks\n        {\n          // make a copy of the incoming paint\n          paint: new $.jGraduate.Paint({copy: $settings.paint}),\n          okCallback: typeof okCallback === 'function' ? okCallback : null,\n          cancelCallback: typeof cancelCallback === 'function' ? cancelCallback : null\n        }\n      );\n\n      let // pos = $this.position(),\n        color = null;\n      const $win = $(window);\n\n      if ($this.paint.type === 'none') {\n        $this.paint = new $.jGraduate.Paint({solidColor: 'ffffff'});\n      }\n\n      $this.addClass('jGraduate_Picker');\n      /* eslint-disable max-len */\n      $this.html(\n        '<ul class=\"jGraduate_tabs\">' +\n          '<li class=\"jGraduate_tab_color jGraduate_tab_current\" data-type=\"col\">Solid Color</li>' +\n          '<li class=\"jGraduate_tab_lingrad\" data-type=\"lg\">Linear Gradient</li>' +\n          '<li class=\"jGraduate_tab_radgrad\" data-type=\"rg\">Radial Gradient</li>' +\n        '</ul>' +\n        '<div class=\"jGraduate_colPick\"></div>' +\n        '<div class=\"jGraduate_gradPick\"></div>' +\n        '<div class=\"jGraduate_LightBox\"></div>' +\n        '<div id=\"' + id + '_jGraduate_stopPicker\" class=\"jGraduate_stopPicker\"></div>'\n      );\n      const colPicker = $(idref + '> .jGraduate_colPick');\n      const gradPicker = $(idref + '> .jGraduate_gradPick');\n\n      gradPicker.html(\n        '<div id=\"' + id + '_jGraduate_Swatch\" class=\"jGraduate_Swatch\">' +\n          '<h2 class=\"jGraduate_Title\">' + $settings.window.pickerTitle + '</h2>' +\n          '<div id=\"' + id + '_jGraduate_GradContainer\" class=\"jGraduate_GradContainer\"></div>' +\n          '<div id=\"' + id + '_jGraduate_StopSlider\" class=\"jGraduate_StopSlider\"></div>' +\n        '</div>' +\n        '<div class=\"jGraduate_Form jGraduate_Points jGraduate_lg_field\">' +\n          '<div class=\"jGraduate_StopSection\">' +\n            '<label class=\"jGraduate_Form_Heading\">Begin Point</label>' +\n            '<div class=\"jGraduate_Form_Section\">' +\n              '<label>x:</label>' +\n              '<input type=\"text\" id=\"' + id + '_jGraduate_x1\" size=\"3\" title=\"Enter starting x value between 0.0 and 1.0\"/>' +\n              '<label>y:</label>' +\n              '<input type=\"text\" id=\"' + id + '_jGraduate_y1\" size=\"3\" title=\"Enter starting y value between 0.0 and 1.0\"/>' +\n            '</div>' +\n          '</div>' +\n          '<div class=\"jGraduate_StopSection\">' +\n            '<label class=\"jGraduate_Form_Heading\">End Point</label>' +\n            '<div class=\"jGraduate_Form_Section\">' +\n              '<label>x:</label>' +\n              '<input type=\"text\" id=\"' + id + '_jGraduate_x2\" size=\"3\" title=\"Enter ending x value between 0.0 and 1.0\"/>' +\n              '<label>y:</label>' +\n              '<input type=\"text\" id=\"' + id + '_jGraduate_y2\" size=\"3\" title=\"Enter ending y value between 0.0 and 1.0\"/>' +\n            '</div>' +\n          '</div>' +\n        '</div>' +\n        '<div class=\"jGraduate_Form jGraduate_Points jGraduate_rg_field\">' +\n          '<div class=\"jGraduate_StopSection\">' +\n            '<label class=\"jGraduate_Form_Heading\">Center Point</label>' +\n            '<div class=\"jGraduate_Form_Section\">' +\n              '<label>x:</label>' +\n              '<input type=\"text\" id=\"' + id + '_jGraduate_cx\" size=\"3\" title=\"Enter x value between 0.0 and 1.0\"/>' +\n              '<label>y:</label>' +\n              '<input type=\"text\" id=\"' + id + '_jGraduate_cy\" size=\"3\" title=\"Enter y value between 0.0 and 1.0\"/>' +\n            '</div>' +\n          '</div>' +\n          '<div class=\"jGraduate_StopSection\">' +\n            '<label class=\"jGraduate_Form_Heading\">Focal Point</label>' +\n            '<div class=\"jGraduate_Form_Section\">' +\n              '<label>Match center: <input type=\"checkbox\" checked=\"checked\" id=\"' + id + '_jGraduate_match_ctr\"/></label><br/>' +\n              '<label>x:</label>' +\n              '<input type=\"text\" id=\"' + id + '_jGraduate_fx\" size=\"3\" title=\"Enter x value between 0.0 and 1.0\"/>' +\n              '<label>y:</label>' +\n              '<input type=\"text\" id=\"' + id + '_jGraduate_fy\" size=\"3\" title=\"Enter y value between 0.0 and 1.0\"/>' +\n            '</div>' +\n          '</div>' +\n        '</div>' +\n        '<div class=\"jGraduate_StopSection jGraduate_SpreadMethod\">' +\n          '<label class=\"jGraduate_Form_Heading\">Spread method</label>' +\n          '<div class=\"jGraduate_Form_Section\">' +\n            '<select class=\"jGraduate_spreadMethod\">' +\n              '<option value=pad selected>Pad</option>' +\n              '<option value=reflect>Reflect</option>' +\n              '<option value=repeat>Repeat</option>' +\n            '</select>' +\n          '</div>' +\n        '</div>' +\n        '<div class=\"jGraduate_Form\">' +\n          '<div class=\"jGraduate_Slider jGraduate_RadiusField jGraduate_rg_field\">' +\n            '<label class=\"prelabel\">Radius:</label>' +\n            '<div id=\"' + id + '_jGraduate_Radius\" class=\"jGraduate_SliderBar jGraduate_Radius\" title=\"Click to set radius\">' +\n              '<img id=\"' + id + '_jGraduate_RadiusArrows\" class=\"jGraduate_RadiusArrows\" src=\"' + $settings.images.clientPath + 'rangearrows2.gif\">' +\n            '</div>' +\n            '<label><input type=\"text\" id=\"' + id + '_jGraduate_RadiusInput\" size=\"3\" value=\"100\"/>%</label>' +\n          '</div>' +\n          '<div class=\"jGraduate_Slider jGraduate_EllipField jGraduate_rg_field\">' +\n            '<label class=\"prelabel\">Ellip:</label>' +\n            '<div id=\"' + id + '_jGraduate_Ellip\" class=\"jGraduate_SliderBar jGraduate_Ellip\" title=\"Click to set Ellip\">' +\n              '<img id=\"' + id + '_jGraduate_EllipArrows\" class=\"jGraduate_EllipArrows\" src=\"' + $settings.images.clientPath + 'rangearrows2.gif\">' +\n            '</div>' +\n            '<label><input type=\"text\" id=\"' + id + '_jGraduate_EllipInput\" size=\"3\" value=\"0\"/>%</label>' +\n          '</div>' +\n          '<div class=\"jGraduate_Slider jGraduate_AngleField jGraduate_rg_field\">' +\n            '<label class=\"prelabel\">Angle:</label>' +\n            '<div id=\"' + id + '_jGraduate_Angle\" class=\"jGraduate_SliderBar jGraduate_Angle\" title=\"Click to set Angle\">' +\n              '<img id=\"' + id + '_jGraduate_AngleArrows\" class=\"jGraduate_AngleArrows\" src=\"' + $settings.images.clientPath + 'rangearrows2.gif\">' +\n            '</div>' +\n            '<label><input type=\"text\" id=\"' + id + '_jGraduate_AngleInput\" size=\"3\" value=\"0\"/>deg</label>' +\n          '</div>' +\n          '<div class=\"jGraduate_Slider jGraduate_OpacField\">' +\n            '<label class=\"prelabel\">Opac:</label>' +\n            '<div id=\"' + id + '_jGraduate_Opac\" class=\"jGraduate_SliderBar jGraduate_Opac\" title=\"Click to set Opac\">' +\n              '<img id=\"' + id + '_jGraduate_OpacArrows\" class=\"jGraduate_OpacArrows\" src=\"' + $settings.images.clientPath + 'rangearrows2.gif\">' +\n            '</div>' +\n            '<label><input type=\"text\" id=\"' + id + '_jGraduate_OpacInput\" size=\"3\" value=\"100\"/>%</label>' +\n          '</div>' +\n        '</div>' +\n        '<div class=\"jGraduate_OkCancel\">' +\n          '<input type=\"button\" id=\"' + id + '_jGraduate_Ok\" class=\"jGraduate_Ok\" value=\"OK\"/>' +\n          '<input type=\"button\" id=\"' + id + '_jGraduate_Cancel\" class=\"jGraduate_Cancel\" value=\"Cancel\"/>' +\n        '</div>'\n      );\n      /* eslint-enable max-len */\n      // --------------\n      // Set up all the SVG elements (the gradient, stops and rectangle)\n      const MAX = 256,\n        MARGINX = 0,\n        MARGINY = 0,\n        // STOP_RADIUS = 15 / 2,\n        SIZEX = MAX - 2 * MARGINX,\n        SIZEY = MAX - 2 * MARGINY;\n\n      const attrInput = {};\n\n      const SLIDERW = 145;\n      $('.jGraduate_SliderBar').width(SLIDERW);\n\n      const container = $('#' + id + '_jGraduate_GradContainer')[0];\n\n      const svg = mkElem('svg', {\n        id: id + '_jgraduate_svg',\n        width: MAX,\n        height: MAX,\n        xmlns: ns.svg\n      }, container);\n\n      // This wasn't working as designed\n      // let curType;\n      // curType = curType || $this.paint.type;\n\n      // if we are sent a gradient, import it\n      let curType = $this.paint.type;\n\n      let grad = $this.paint[curType];\n      let curGradient = grad;\n\n      const gradalpha = $this.paint.alpha;\n\n      const isSolid = curType === 'solidColor';\n\n      // Make any missing gradients\n      switch (curType) {\n      case 'solidColor':\n        // fall through\n      case 'linearGradient':\n        if (!isSolid) {\n          curGradient.id = id + '_lg_jgraduate_grad';\n          grad = curGradient = svg.appendChild(curGradient); // .cloneNode(true));\n        }\n        mkElem('radialGradient', {\n          id: id + '_rg_jgraduate_grad'\n        }, svg);\n        if (curType === 'linearGradient') { break; }\n        // fall through\n      case 'radialGradient':\n        if (!isSolid) {\n          curGradient.id = id + '_rg_jgraduate_grad';\n          grad = curGradient = svg.appendChild(curGradient); // .cloneNode(true));\n        }\n        mkElem('linearGradient', {\n          id: id + '_lg_jgraduate_grad'\n        }, svg);\n      }\n\n      let stopGroup; // eslint-disable-line prefer-const\n      if (isSolid) {\n        grad = curGradient = $('#' + id + '_lg_jgraduate_grad')[0];\n        color = $this.paint[curType];\n        mkStop(0, '#' + color, 1);\n\n        const type = typeof $settings.newstop;\n\n        if (type === 'string') {\n          switch ($settings.newstop) {\n          case 'same':\n            mkStop(1, '#' + color, 1);\n            break;\n\n          case 'inverse': {\n            // Invert current color for second stop\n            let inverted = '';\n            for (let i = 0; i < 6; i += 2) {\n              // const ch = color.substr(i, 2);\n              let inv = (255 - Number.parseInt(color.substr(i, 2), 16)).toString(16);\n              if (inv.length < 2) inv = 0 + inv;\n              inverted += inv;\n            }\n            mkStop(1, '#' + inverted, 1);\n            break;\n          } case 'white':\n            mkStop(1, '#ffffff', 1);\n            break;\n\n          case 'black':\n            mkStop(1, '#000000', 1);\n            break;\n          }\n        } else if (type === 'object') {\n          const opac = ('opac' in $settings.newstop) ? $settings.newstop.opac : 1;\n          mkStop(1, ($settings.newstop.color || '#' + color), opac);\n        }\n      }\n\n      const x1 = Number.parseFloat(grad.getAttribute('x1') || 0.0),\n        y1 = Number.parseFloat(grad.getAttribute('y1') || 0.0),\n        x2 = Number.parseFloat(grad.getAttribute('x2') || 1.0),\n        y2 = Number.parseFloat(grad.getAttribute('y2') || 0.0);\n\n      const cx = Number.parseFloat(grad.getAttribute('cx') || 0.5),\n        cy = Number.parseFloat(grad.getAttribute('cy') || 0.5),\n        fx = Number.parseFloat(grad.getAttribute('fx') || cx),\n        fy = Number.parseFloat(grad.getAttribute('fy') || cy);\n\n      const previewRect = mkElem('rect', {\n        id: id + '_jgraduate_rect',\n        x: MARGINX,\n        y: MARGINY,\n        width: SIZEX,\n        height: SIZEY,\n        fill: 'url(#' + id + '_jgraduate_grad)',\n        'fill-opacity': gradalpha / 100\n      }, svg);\n\n      // stop visuals created here\n      const beginCoord = $('<div/>').attr({\n        class: 'grad_coord jGraduate_lg_field',\n        title: 'Begin Stop'\n      }).text(1).css({\n        top: y1 * MAX,\n        left: x1 * MAX\n      }).data('coord', 'start').appendTo(container);\n\n      const endCoord = beginCoord.clone().text(2).css({\n        top: y2 * MAX,\n        left: x2 * MAX\n      }).attr('title', 'End stop').data('coord', 'end').appendTo(container);\n\n      const centerCoord = $('<div/>').attr({\n        class: 'grad_coord jGraduate_rg_field',\n        title: 'Center stop'\n      }).text('C').css({\n        top: cy * MAX,\n        left: cx * MAX\n      }).data('coord', 'center').appendTo(container);\n\n      const focusCoord = centerCoord.clone().text('F').css({\n        top: fy * MAX,\n        left: fx * MAX,\n        display: 'none'\n      }).attr('title', 'Focus point').data('coord', 'focus').appendTo(container);\n\n      focusCoord[0].id = id + '_jGraduate_focusCoord';\n\n      // const coords = $(idref + ' .grad_coord');\n\n      // $(container).hover(function () {\n      //   coords.animate({\n      //     opacity: 1\n      //   }, 500);\n      // }, function () {\n      //   coords.animate({\n      //     opacity: .2\n      //   }, 500);\n      // });\n\n      let showFocus;\n      $.each(['x1', 'y1', 'x2', 'y2', 'cx', 'cy', 'fx', 'fy'], function (i, attr) {\n        const isRadial = isNaN(attr[1]);\n\n        let attrval = curGradient.getAttribute(attr);\n        if (!attrval) {\n          // Set defaults\n          if (isRadial) {\n            // For radial points\n            attrval = '0.5';\n          } else {\n            // Only x2 is 1\n            attrval = attr === 'x2' ? '1.0' : '0.0';\n          }\n        }\n\n        attrInput[attr] = $('#' + id + '_jGraduate_' + attr)\n          .val(attrval)\n          .change(function () {\n            // TODO: Support values < 0 and > 1 (zoomable preview?)\n            if (isNaN(Number.parseFloat(this.value)) || this.value < 0) {\n              this.value = 0.0;\n            } else if (this.value > 1) {\n              this.value = 1.0;\n            }\n\n            if (!(attr[0] === 'f' && !showFocus)) {\n              if ((isRadial && curType === 'radialGradient') || (!isRadial && curType === 'linearGradient')) {\n                curGradient.setAttribute(attr, this.value);\n              }\n            }\n\n            const $elem = isRadial\n              ? attr[0] === 'c' ? centerCoord : focusCoord\n              : attr[1] === '1' ? beginCoord : endCoord;\n\n            const cssName = attr.includes('x') ? 'left' : 'top';\n\n            $elem.css(cssName, this.value * MAX);\n          }).change();\n      });\n\n      /**\n       *\n       * @param {Float} n\n       * @param {Float|string} colr\n       * @param {Float} opac\n       * @param {boolean} [sel]\n       * @param {SVGStopElement} [stopElem]\n       * @returns {SVGStopElement}\n       */\n      function mkStop (n, colr, opac, sel, stopElem) {\n        const stop = stopElem || mkElem('stop', {\n          'stop-color': colr,\n          'stop-opacity': opac,\n          offset: n\n        }, curGradient);\n        if (stopElem) {\n          colr = stopElem.getAttribute('stop-color');\n          opac = stopElem.getAttribute('stop-opacity');\n          n = stopElem.getAttribute('offset');\n        } else {\n          curGradient.append(stop);\n        }\n        if (opac === null) opac = 1;\n\n        const pickerD = 'M-6.2,0.9c3.6-4,6.7-4.3,6.7-12.4c-0.2,7.9,' +\n          '3.1,8.8,6.5,12.4c3.5,3.8,2.9,9.6,0,12.3c-3.1,2.8-10.4,' +\n          '2.7-13.2,0C-9.6,9.9-9.4,4.4-6.2,0.9z';\n\n        const pathbg = mkElem('path', {\n          d: pickerD,\n          fill: 'url(#jGraduate_trans)',\n          transform: 'translate(' + (10 + n * MAX) + ', 26)'\n        }, stopGroup);\n\n        const path = mkElem('path', {\n          d: pickerD,\n          fill: colr,\n          'fill-opacity': opac,\n          transform: 'translate(' + (10 + n * MAX) + ', 26)',\n          stroke: '#000',\n          'stroke-width': 1.5\n        }, stopGroup);\n\n        $(path).mousedown(function (e) {\n          selectStop(this);\n          drag = curStop;\n          $win.mousemove(dragColor).mouseup(remDrags);\n          stopOffset = stopMakerDiv.offset();\n          e.preventDefault();\n          return false;\n        }).data('stop', stop).data('bg', pathbg).dblclick(function () {\n          $('div.jGraduate_LightBox').show();\n          const colorhandle = this;\n          let stopOpacity = Number(stop.getAttribute('stop-opacity')) || 1;\n          let stopColor = stop.getAttribute('stop-color') || 1;\n          let thisAlpha = (Number.parseFloat(stopOpacity) * 255).toString(16);\n          while (thisAlpha.length < 2) { thisAlpha = '0' + thisAlpha; }\n          colr = stopColor.substr(1) + thisAlpha;\n          $('#' + id + '_jGraduate_stopPicker').css({left: 100, bottom: 15}).jPicker({\n            window: {title: 'Pick the start color and opacity for the gradient'},\n            images: {clientPath: $settings.images.clientPath},\n            color: {active: colr, alphaSupport: true}\n          }, function (clr, arg2) {\n            stopColor = clr.val('hex') ? ('#' + clr.val('hex')) : 'none';\n            stopOpacity = clr.val('a') !== null ? clr.val('a') / 256 : 1;\n            colorhandle.setAttribute('fill', stopColor);\n            colorhandle.setAttribute('fill-opacity', stopOpacity);\n            stop.setAttribute('stop-color', stopColor);\n            stop.setAttribute('stop-opacity', stopOpacity);\n            $('div.jGraduate_LightBox').hide();\n            $('#' + id + '_jGraduate_stopPicker').hide();\n          }, null, function () {\n            $('div.jGraduate_LightBox').hide();\n            $('#' + id + '_jGraduate_stopPicker').hide();\n          });\n        });\n\n        $(curGradient).find('stop').each(function () {\n          const curS = $(this);\n          if (Number(this.getAttribute('offset')) > n) {\n            if (!colr) {\n              const newcolor = this.getAttribute('stop-color');\n              const newopac = this.getAttribute('stop-opacity');\n              stop.setAttribute('stop-color', newcolor);\n              path.setAttribute('fill', newcolor);\n              stop.setAttribute('stop-opacity', newopac === null ? 1 : newopac);\n              path.setAttribute('fill-opacity', newopac === null ? 1 : newopac);\n            }\n            curS.before(stop);\n            return false;\n          }\n          return true;\n        });\n        if (sel) selectStop(path);\n        return stop;\n      }\n\n      /**\n      *\n      * @returns {void}\n      */\n      function remStop () {\n        delStop.setAttribute('display', 'none');\n        const path = $(curStop);\n        const stop = path.data('stop');\n        const bg = path.data('bg');\n        $([curStop, stop, bg]).remove();\n      }\n\n      const stopMakerDiv = $('#' + id + '_jGraduate_StopSlider');\n\n      let stops, curStop, drag;\n\n      const delStop = mkElem('path', {\n        d: 'm9.75,-6l-19.5,19.5m0,-19.5l19.5,19.5',\n        fill: 'none',\n        stroke: '#D00',\n        'stroke-width': 5,\n        display: 'none'\n      }, undefined); // stopMakerSVG);\n\n      /**\n      * @param {Element} item\n      * @returns {void}\n      */\n      function selectStop (item) {\n        if (curStop) curStop.setAttribute('stroke', '#000');\n        item.setAttribute('stroke', 'blue');\n        curStop = item;\n        //   stops = $('stop');\n        //   opac_select.val(curStop.attr('fill-opacity') || 1);\n        //   root.append(delStop);\n      }\n\n      let stopOffset;\n\n      /**\n      *\n      * @returns {void}\n      */\n      function remDrags () {\n        $win.unbind('mousemove', dragColor);\n        if (delStop.getAttribute('display') !== 'none') {\n          remStop();\n        }\n        drag = null;\n      }\n\n      let scaleX = 1, scaleY = 1, angle = 0;\n\n      let cX = cx;\n      let cY = cy;\n      /**\n      *\n      * @returns {void}\n      */\n      function xform () {\n        const rot = angle ? 'rotate(' + angle + ',' + cX + ',' + cY + ') ' : '';\n        if (scaleX === 1 && scaleY === 1) {\n          curGradient.removeAttribute('gradientTransform');\n          // $('#ang').addClass('dis');\n        } else {\n          const x = -cX * (scaleX - 1);\n          const y = -cY * (scaleY - 1);\n          curGradient.setAttribute(\n            'gradientTransform',\n            rot + 'translate(' + x + ',' + y + ') scale(' +\n              scaleX + ',' + scaleY + ')'\n          );\n          // $('#ang').removeClass('dis');\n        }\n      }\n\n      /**\n      * @param {Event} evt\n      * @returns {void}\n      */\n      function dragColor (evt) {\n        let x = evt.pageX - stopOffset.left;\n        const y = evt.pageY - stopOffset.top;\n        x = x < 10\n          ? 10\n          : x > MAX + 10\n            ? MAX + 10\n            : x;\n\n        const xfStr = 'translate(' + x + ', 26)';\n        if (y < -60 || y > 130) {\n          delStop.setAttribute('display', 'block');\n          delStop.setAttribute('transform', xfStr);\n        } else {\n          delStop.setAttribute('display', 'none');\n        }\n\n        drag.setAttribute('transform', xfStr);\n        $.data(drag, 'bg').setAttribute('transform', xfStr);\n        const stop = $.data(drag, 'stop');\n        const sX = (x - 10) / MAX;\n\n        stop.setAttribute('offset', sX);\n\n        let last = 0;\n        $(curGradient).find('stop').each(function (i) {\n          const cur = this.getAttribute('offset');\n          const t = $(this);\n          if (cur < last) {\n            t.prev().before(t);\n            stops = $(curGradient).find('stop');\n          }\n          last = cur;\n        });\n      }\n\n      const stopMakerSVG = mkElem('svg', {\n        width: '100%',\n        height: 45\n      }, stopMakerDiv[0]);\n\n      const transPattern = mkElem('pattern', {\n        width: 16,\n        height: 16,\n        patternUnits: 'userSpaceOnUse',\n        id: 'jGraduate_trans'\n      }, stopMakerSVG);\n\n      const transImg = mkElem('image', {\n        width: 16,\n        height: 16\n      }, transPattern);\n\n      const bgImage = $settings.images.clientPath + 'map-opacity.png';\n\n      transImg.setAttributeNS(ns.xlink, 'xlink:href', bgImage);\n\n      $(stopMakerSVG).click(function (evt) {\n        stopOffset = stopMakerDiv.offset();\n        const {target} = evt;\n        if (target.tagName === 'path') return;\n        let x = evt.pageX - stopOffset.left - 8;\n        x = x < 10 ? 10 : x > MAX + 10 ? MAX + 10 : x;\n        mkStop(x / MAX, 0, 0, true);\n        evt.stopPropagation();\n      });\n\n      $(stopMakerSVG).mouseover(function () {\n        stopMakerSVG.append(delStop);\n      });\n\n      stopGroup = mkElem('g', {}, stopMakerSVG);\n\n      mkElem('line', {\n        x1: 10,\n        y1: 15,\n        x2: MAX + 10,\n        y2: 15,\n        'stroke-width': 2,\n        stroke: '#000'\n      }, stopMakerSVG);\n\n      const spreadMethodOpt = gradPicker.find('.jGraduate_spreadMethod').change(function () {\n        curGradient.setAttribute('spreadMethod', $(this).val());\n      });\n\n      // handle dragging the stop around the swatch\n      let draggingCoord = null;\n\n      const onCoordDrag = function (evt) {\n        let x = evt.pageX - offset.left;\n        let y = evt.pageY - offset.top;\n\n        // clamp stop to the swatch\n        x = x < 0 ? 0 : x > MAX ? MAX : x;\n        y = y < 0 ? 0 : y > MAX ? MAX : y;\n\n        draggingCoord.css('left', x).css('top', y);\n\n        // calculate stop offset\n        const fracx = x / SIZEX;\n        const fracy = y / SIZEY;\n\n        const type = draggingCoord.data('coord');\n        const grd = curGradient;\n\n        switch (type) {\n        case 'start':\n          attrInput.x1.val(fracx);\n          attrInput.y1.val(fracy);\n          grd.setAttribute('x1', fracx);\n          grd.setAttribute('y1', fracy);\n          break;\n        case 'end':\n          attrInput.x2.val(fracx);\n          attrInput.y2.val(fracy);\n          grd.setAttribute('x2', fracx);\n          grd.setAttribute('y2', fracy);\n          break;\n        case 'center':\n          attrInput.cx.val(fracx);\n          attrInput.cy.val(fracy);\n          grd.setAttribute('cx', fracx);\n          grd.setAttribute('cy', fracy);\n          cX = fracx;\n          cY = fracy;\n          xform();\n          break;\n        case 'focus':\n          attrInput.fx.val(fracx);\n          attrInput.fy.val(fracy);\n          grd.setAttribute('fx', fracx);\n          grd.setAttribute('fy', fracy);\n          xform();\n        }\n\n        evt.preventDefault();\n      };\n\n      const onCoordUp = function () {\n        draggingCoord = null;\n        $win.unbind('mousemove', onCoordDrag).unbind('mouseup', onCoordUp);\n      };\n\n      // Linear gradient\n      // (function () {\n\n      stops = curGradient.getElementsByTagNameNS(ns.svg, 'stop');\n\n      let numstops = stops.length;\n      // if there are not at least two stops, then\n      if (numstops < 2) {\n        while (numstops < 2) {\n          curGradient.append(document.createElementNS(ns.svg, 'stop'));\n          ++numstops;\n        }\n        stops = curGradient.getElementsByTagNameNS(ns.svg, 'stop');\n      }\n\n      for (let i = 0; i < numstops; i++) {\n        mkStop(0, 0, 0, 0, stops[i]);\n      }\n\n      spreadMethodOpt.val(curGradient.getAttribute('spreadMethod') || 'pad');\n\n      let offset;\n\n      // No match, so show focus point\n      showFocus = false;\n\n      previewRect.setAttribute('fill-opacity', gradalpha / 100);\n\n      $('#' + id + ' div.grad_coord').mousedown(function (evt) {\n        evt.preventDefault();\n        draggingCoord = $(this);\n        // const sPos = draggingCoord.offset();\n        offset = draggingCoord.parent().offset();\n        $win.mousemove(onCoordDrag).mouseup(onCoordUp);\n      });\n\n      // bind GUI elements\n      $('#' + id + '_jGraduate_Ok').bind('click', function () {\n        $this.paint.type = curType;\n        $this.paint[curType] = curGradient.cloneNode(true);\n        $this.paint.solidColor = null;\n        okClicked();\n      });\n      $('#' + id + '_jGraduate_Cancel').bind('click', function (paint) {\n        cancelClicked();\n      });\n\n      if (curType === 'radialGradient') {\n        if (showFocus) {\n          focusCoord.show();\n        } else {\n          focusCoord.hide();\n          attrInput.fx.val('');\n          attrInput.fy.val('');\n        }\n      }\n\n      $('#' + id + '_jGraduate_match_ctr')[0].checked = !showFocus;\n\n      let lastfx, lastfy;\n\n      $('#' + id + '_jGraduate_match_ctr').change(function () {\n        showFocus = !this.checked;\n        focusCoord.toggle(showFocus);\n        attrInput.fx.val('');\n        attrInput.fy.val('');\n        const grd = curGradient;\n        if (!showFocus) {\n          lastfx = grd.getAttribute('fx');\n          lastfy = grd.getAttribute('fy');\n          grd.removeAttribute('fx');\n          grd.removeAttribute('fy');\n        } else {\n          const fX = lastfx || 0.5;\n          const fY = lastfy || 0.5;\n          grd.setAttribute('fx', fX);\n          grd.setAttribute('fy', fY);\n          attrInput.fx.val(fX);\n          attrInput.fy.val(fY);\n        }\n      });\n\n      stops = curGradient.getElementsByTagNameNS(ns.svg, 'stop');\n      numstops = stops.length;\n      // if there are not at least two stops, then\n      if (numstops < 2) {\n        while (numstops < 2) {\n          curGradient.append(document.createElementNS(ns.svg, 'stop'));\n          ++numstops;\n        }\n        stops = curGradient.getElementsByTagNameNS(ns.svg, 'stop');\n      }\n\n      let slider;\n\n      const setSlider = function (e) {\n        const {offset: {left}} = slider;\n        const div = slider.parent;\n        let x = (e.pageX - left - Number.parseInt(div.css('border-left-width')));\n        if (x > SLIDERW) x = SLIDERW;\n        if (x <= 0) x = 0;\n        const posx = x - 5;\n        x /= SLIDERW;\n\n        switch (slider.type) {\n        case 'radius':\n          x = (x * 2) ** 2.5;\n          if (x > 0.98 && x < 1.02) x = 1;\n          if (x <= 0.01) x = 0.01;\n          curGradient.setAttribute('r', x);\n          break;\n        case 'opacity':\n          $this.paint.alpha = Number.parseInt(x * 100);\n          previewRect.setAttribute('fill-opacity', x);\n          break;\n        case 'ellip':\n          scaleX = 1;\n          scaleY = 1;\n          if (x < 0.5) {\n            x /= 0.5; // 0.001\n            scaleX = x <= 0 ? 0.01 : x;\n          } else if (x > 0.5) {\n            x /= 0.5; // 2\n            x = 2 - x;\n            scaleY = x <= 0 ? 0.01 : x;\n          }\n          xform();\n          x -= 1;\n          if (scaleY === x + 1) {\n            x = Math.abs(x);\n          }\n          break;\n        case 'angle':\n          x -= 0.5;\n          angle = x *= 180;\n          xform();\n          x /= 100;\n          break;\n        }\n        slider.elem.css({'margin-left': posx});\n        x = Math.round(x * 100);\n        slider.input.val(x);\n      };\n\n      let ellipVal = 0, angleVal = 0;\n\n      if (curType === 'radialGradient') {\n        const tlist = curGradient.gradientTransform.baseVal;\n        if (tlist.numberOfItems === 2) {\n          const t = tlist.getItem(0);\n          const s = tlist.getItem(1);\n          if (t.type === 2 && s.type === 3) {\n            const m = s.matrix;\n            if (m.a !== 1) {\n              ellipVal = Math.round(-(1 - m.a) * 100);\n            } else if (m.d !== 1) {\n              ellipVal = Math.round((1 - m.d) * 100);\n            }\n          }\n        } else if (tlist.numberOfItems === 3) {\n          // Assume [R][T][S]\n          const r = tlist.getItem(0);\n          const t = tlist.getItem(1);\n          const s = tlist.getItem(2);\n\n          if (r.type === 4 &&\n            t.type === 2 &&\n            s.type === 3\n          ) {\n            angleVal = Math.round(r.angle);\n            const m = s.matrix;\n            if (m.a !== 1) {\n              ellipVal = Math.round(-(1 - m.a) * 100);\n            } else if (m.d !== 1) {\n              ellipVal = Math.round((1 - m.d) * 100);\n            }\n          }\n        }\n      }\n\n      const sliders = {\n        radius: {\n          handle: '#' + id + '_jGraduate_RadiusArrows',\n          input: '#' + id + '_jGraduate_RadiusInput',\n          val: (curGradient.getAttribute('r') || 0.5) * 100\n        },\n        opacity: {\n          handle: '#' + id + '_jGraduate_OpacArrows',\n          input: '#' + id + '_jGraduate_OpacInput',\n          val: $this.paint.alpha || 100\n        },\n        ellip: {\n          handle: '#' + id + '_jGraduate_EllipArrows',\n          input: '#' + id + '_jGraduate_EllipInput',\n          val: ellipVal\n        },\n        angle: {\n          handle: '#' + id + '_jGraduate_AngleArrows',\n          input: '#' + id + '_jGraduate_AngleInput',\n          val: angleVal\n        }\n      };\n\n      $.each(sliders, function (type, data) {\n        const handle = $(data.handle);\n        handle.mousedown(function (evt) {\n          const parent = handle.parent();\n          slider = {\n            type,\n            elem: handle,\n            input: $(data.input),\n            parent,\n            offset: parent.offset()\n          };\n          $win.mousemove(dragSlider).mouseup(stopSlider);\n          evt.preventDefault();\n        });\n\n        $(data.input).val(data.val).change(function () {\n          const isRad = curType === 'radialGradient';\n          let val = Number(this.value);\n          let xpos = 0;\n          switch (type) {\n          case 'radius':\n            if (isRad) curGradient.setAttribute('r', val / 100);\n            xpos = (((val / 100) ** (1 / 2.5)) / 2) * SLIDERW;\n            break;\n\n          case 'opacity':\n            $this.paint.alpha = val;\n            previewRect.setAttribute('fill-opacity', val / 100);\n            xpos = val * (SLIDERW / 100);\n            break;\n\n          case 'ellip':\n            scaleX = scaleY = 1;\n            if (val === 0) {\n              xpos = SLIDERW * 0.5;\n              break;\n            }\n            if (val > 99.5) val = 99.5;\n            if (val > 0) {\n              scaleY = 1 - (val / 100);\n            } else {\n              scaleX = -(val / 100) - 1;\n            }\n\n            xpos = SLIDERW * ((val + 100) / 2) / 100;\n            if (isRad) xform();\n            break;\n\n          case 'angle':\n            angle = val;\n            xpos = angle / 180;\n            xpos += 0.5;\n            xpos *= SLIDERW;\n            if (isRad) xform();\n          }\n          if (xpos > SLIDERW) {\n            xpos = SLIDERW;\n          } else if (xpos < 0) {\n            xpos = 0;\n          }\n          handle.css({'margin-left': xpos - 5});\n        }).change();\n      });\n\n      const dragSlider = function (evt) {\n        setSlider(evt);\n        evt.preventDefault();\n      };\n\n      const stopSlider = function (evt) {\n        $win.unbind('mousemove', dragSlider).unbind('mouseup', stopSlider);\n        slider = null;\n      };\n\n      // --------------\n      let thisAlpha = ($this.paint.alpha * 255 / 100).toString(16);\n      while (thisAlpha.length < 2) { thisAlpha = '0' + thisAlpha; }\n      thisAlpha = thisAlpha.split('.')[0];\n      color = $this.paint.solidColor === 'none' ? '' : $this.paint.solidColor + thisAlpha;\n\n      if (!isSolid) {\n        color = stops[0].getAttribute('stop-color');\n      }\n\n      // This should be done somewhere else, probably\n      $.extend($.fn.jPicker.defaults.window, {\n        alphaSupport: true, effects: {type: 'show', speed: 0}\n      });\n\n      colPicker.jPicker(\n        {\n          window: {title: $settings.window.pickerTitle},\n          images: {clientPath: $settings.images.clientPath},\n          color: {active: color, alphaSupport: true}\n        },\n        function (clr) {\n          $this.paint.type = 'solidColor';\n          $this.paint.alpha = clr.val('ahex') ? Math.round((clr.val('a') / 255) * 100) : 100;\n          $this.paint.solidColor = clr.val('hex') ? clr.val('hex') : 'none';\n          $this.paint.radialGradient = null;\n          okClicked();\n        },\n        null,\n        function () { cancelClicked(); }\n      );\n\n      const tabs = $(idref + ' .jGraduate_tabs li');\n      tabs.click(function () {\n        tabs.removeClass('jGraduate_tab_current');\n        $(this).addClass('jGraduate_tab_current');\n        $(idref + ' > div').hide();\n        const type = $(this).attr('data-type');\n        /* const container = */ $(idref + ' .jGraduate_gradPick').show();\n        if (type === 'rg' || type === 'lg') {\n          // Show/hide appropriate fields\n          $('.jGraduate_' + type + '_field').show();\n          $('.jGraduate_' + (type === 'lg' ? 'rg' : 'lg') + '_field').hide();\n\n          $('#' + id + '_jgraduate_rect')[0].setAttribute('fill', 'url(#' + id + '_' + type + '_jgraduate_grad)');\n\n          // Copy stops\n\n          curType = type === 'lg' ? 'linearGradient' : 'radialGradient';\n\n          $('#' + id + '_jGraduate_OpacInput').val($this.paint.alpha).change();\n\n          const newGrad = $('#' + id + '_' + type + '_jgraduate_grad')[0];\n\n          if (curGradient !== newGrad) {\n            const curStops = $(curGradient).find('stop');\n            $(newGrad).empty().append(curStops);\n            curGradient = newGrad;\n            const sm = spreadMethodOpt.val();\n            curGradient.setAttribute('spreadMethod', sm);\n          }\n          showFocus = type === 'rg' && curGradient.getAttribute('fx') !== null && !(cx === fx && cy === fy);\n          $('#' + id + '_jGraduate_focusCoord').toggle(showFocus);\n          if (showFocus) {\n            $('#' + id + '_jGraduate_match_ctr')[0].checked = false;\n          }\n        } else {\n          $(idref + ' .jGraduate_gradPick').hide();\n          $(idref + ' .jGraduate_colPick').show();\n        }\n      });\n      $(idref + ' > div').hide();\n      tabs.removeClass('jGraduate_tab_current');\n      let tab;\n      switch ($this.paint.type) {\n      case 'linearGradient':\n        tab = $(idref + ' .jGraduate_tab_lingrad');\n        break;\n      case 'radialGradient':\n        tab = $(idref + ' .jGraduate_tab_radgrad');\n        break;\n      default:\n        tab = $(idref + ' .jGraduate_tab_color');\n        break;\n      }\n      $this.show();\n\n      // jPicker will try to show after a 0ms timeout, so need to fire this after that\n      setTimeout(() => {\n        tab.addClass('jGraduate_tab_current').click();\n      }, 10);\n    });\n  };\n  return $;\n}\n","/**\n * SpinButton control.\n *\n * Adds bells and whistles to any ordinary textbox to\n * make it look and feel like a SpinButton Control.\n *\n * Supplies {@link external:jQuery.fn.SpinButton}).\n *\n * Originally written by George Adamson, Software Unity (george.jquery@softwareunity.com) August 2006:\n * - Added min/max options.\n * - Added step size option.\n * - Added bigStep (page up/down) option.\n *\n * Modifications made by Mark Gibson, (mgibson@designlinks.net) September 2006:\n * - Converted to jQuery plugin.\n * - Allow limited or unlimited min/max values.\n * - Allow custom class names, and add class to input element.\n * - Removed global vars.\n * - Reset (to original or through config) when invalid value entered.\n * - Repeat whilst holding mouse button down (with initial pause, like keyboard repeat).\n * - Support mouse wheel in Firefox.\n * - Fix double click in IE.\n * - Refactored some code and renamed some vars.\n *\n * Modifications by Jeff Schiller, June 2009:\n * - provide callback function for when the value changes based on the following\n *   {@link https://www.mail-archive.com/jquery-en@googlegroups.com/msg36070.html}.\n *\n * Modifications by Jeff Schiller, July 2009:\n * - improve styling for widget in Opera.\n * - consistent key-repeat handling cross-browser.\n *\n * Modifications by Alexis Deveria, October 2009:\n * - provide \"stepfunc\" callback option to allow custom function to run when changing a value.\n * - Made adjustValue(0) only run on certain keyup events, not all.\n *\n * Tested in IE6, Opera9, Firefox 1.5.\n *\n * | Version | Date | Author | Notes |\n * |---------|------|--------|-------|\n * | v1.0 | 11 Aug 2006 | George Adamson | First release |\n * | v1.1 | Aug 2006 | George Adamson | Minor enhancements |\n * | v1.2 | 27 Sep 2006 | Mark Gibson | Major enhancements |\n * | v1.3a | 28 Sep 2006 | George Adamson | Minor enhancements |\n * | v1.4 | 18 Jun 2009 | Jeff Schiller | Added callback function |\n * | v1.5 | 06 Jul 2009 | Jeff Schiller | Fixes for Opera. |\n * | v1.6 | 13 Oct 2009 | Alexis Deveria | Added stepfunc function |\n * | v1.7 | 21 Oct 2009 | Alexis Deveria | Minor fixes.<br />Fast-repeat for keys and live updating as you type. |\n * | v1.8 | 12 Jan 2010 | Benjamin Thomas | Fixes for mouseout behavior.<br />Added smallStep |\n * | v1.9 | 20 May 2018 | Brett Zamir | Avoid SVGEdit dependency via `stateObj` config;<br />convert to ES6 module |\n * .\n *\n * @module jQuerySpinButton\n * @example\n  // Create group of settings to initialise spinbutton(s). (Optional)\n  const myOptions = {\n     min: 0, // Set lower limit.\n     max: 100, // Set upper limit.\n     step: 1, // Set increment size.\n     smallStep: 0.5, // Set shift-click increment size.\n     stateObj: {tool_scale: 1}, // Object to allow passing in live-updating scale\n     spinClass: mySpinBtnClass, // CSS class to style the spinbutton. (Class also specifies url of the up/down button image.)\n     upClass: mySpinUpClass, // CSS class for style when mouse over up button.\n     downClass: mySpinDnClass // CSS class for style when mouse over down button.\n  };\n\n  $(function () {\n     // Initialise INPUT element(s) as SpinButtons: (passing options if desired)\n     $('#myInputElement').SpinButton(myOptions);\n  });\n */\n/**\n * @function module:jQuerySpinButton.jQuerySpinButton\n * @param {external:jQuery} $ The jQuery object to which to add the plug-in\n * @returns {external:jQuery}\n*/\nexport default function jQueryPluginSpinButton ($) {\n  /**\n  * @callback module:jQuerySpinButton.StepCallback\n  * @param {external:jQuery} thisArg Value of `this`\n  * @param {Float} i Value to adjust\n  * @returns {Float}\n  */\n  /**\n  * @callback module:jQuerySpinButton.ValueCallback\n  * @param {external:jQuery.fn.SpinButton} thisArg Spin Button; check its `value` to see how it was changed.\n  * @returns {void}\n  */\n  /**\n   * @typedef {PlainObject} module:jQuerySpinButton.SpinButtonConfig\n   * @property {Float} min Set lower limit\n   * @property {Float} max Set upper limit.\n   * @property {Float} step Set increment size.\n   * @property {module:jQuerySpinButton.StepCallback} stepfunc Custom function to run when changing a value; called with `this` of object and the value to adjust and returns a float.\n   * @property {module:jQuerySpinButton.ValueCallback} callback Called after value adjusted (with `this` of object)\n   * @property {Float} smallStep Set shift-click increment size.\n   * @property {PlainObject} stateObj Object to allow passing in live-updating scale\n   * @property {Float} stateObj.tool_scale\n   * @property {string} spinClass CSS class to style the spinbutton. (Class also specifies url of the up/down button image.)\n   * @property {string} upClass CSS class for style when mouse over up button.\n   * @property {string} downClass CSS class for style when mouse over down button.\n   * @property {Float} page Value to be adjusted on page up/page down\n   * @property {Float} reset Reset value when invalid value entered\n   * @property {Float} delay Millisecond delay\n   * @property {Float} interval Millisecond interval\n  */\n  /**\n  * @function external:jQuery.fn.SpinButton\n  * @param {module:jQuerySpinButton.SpinButtonConfig} cfg\n  * @returns {external:jQuery}\n  */\n  $.fn.SpinButton = function (cfg) {\n    cfg = cfg || {};\n\n    /**\n     *\n     * @param {Element} el\n     * @param {\"offsetLeft\"|\"offsetTop\"} prop\n     * @returns {Integer}\n     */\n    function coord (el, prop) {\n      const b = document.body;\n\n      let c = el[prop];\n      while ((el = el.offsetParent) && (el !== b)) {\n        if (!$.browser.msie || (el.currentStyle.position !== 'relative')) {\n          c += el[prop];\n        }\n      }\n\n      return c;\n    }\n\n    return this.each(function () {\n      this.repeating = false;\n\n      // Apply specified options or defaults:\n      // (Ought to refactor this some day to use $.extend() instead)\n      this.spinCfg = {\n        // min: cfg.min ? Number(cfg.min) : null,\n        // max: cfg.max ? Number(cfg.max) : null,\n        min: !isNaN(Number.parseFloat(cfg.min)) ? Number(cfg.min) : null, // Fixes bug with min:0\n        max: !isNaN(Number.parseFloat(cfg.max)) ? Number(cfg.max) : null,\n        step: cfg.step ? Number(cfg.step) : 1,\n        stepfunc: cfg.stepfunc || false,\n        page: cfg.page ? Number(cfg.page) : 10,\n        upClass: cfg.upClass || 'up',\n        downClass: cfg.downClass || 'down',\n        reset: cfg.reset || this.value,\n        delay: cfg.delay ? Number(cfg.delay) : 500,\n        interval: cfg.interval ? Number(cfg.interval) : 100,\n        _btn_width: 20,\n        _direction: null,\n        _delay: null,\n        _repeat: null,\n        callback: cfg.callback || null\n      };\n\n      // if a smallStep isn't supplied, use half the regular step\n      this.spinCfg.smallStep = cfg.smallStep || this.spinCfg.step / 2;\n\n      this.adjustValue = function (i) {\n        let v;\n        if (isNaN(this.value)) {\n          v = this.spinCfg.reset;\n        } else if (typeof this.spinCfg.stepfunc === 'function') {\n          v = this.spinCfg.stepfunc(this, i);\n        } else {\n          // weirdest JavaScript bug ever: 5.1 + 0.1 = 5.199999999\n          v = Number((Number(this.value) + Number(i)).toFixed(5));\n        }\n        if (this.spinCfg.min !== null) { v = Math.max(v, this.spinCfg.min); }\n        if (this.spinCfg.max !== null) { v = Math.min(v, this.spinCfg.max); }\n        this.value = v;\n        if (typeof this.spinCfg.callback === 'function') {\n          this.spinCfg.callback(this);\n        }\n      };\n\n      $(this)\n        .addClass(cfg.spinClass || 'spin-button')\n\n        .mousemove(function (e) {\n          // Determine which button mouse is over, or not (spin direction):\n          const x = e.pageX || e.x;\n          const y = e.pageY || e.y;\n          const el = e.target;\n          const scale = cfg.stateObj.tool_scale || 1;\n          const height = $(el).height() / 2;\n\n          const direction =\n            (x > coord(el, 'offsetLeft') +\n              el.offsetWidth * scale - this.spinCfg._btn_width)\n              ? ((y < coord(el, 'offsetTop') + height * scale) ? 1 : -1)\n              : 0;\n\n          if (direction !== this.spinCfg._direction) {\n            // Style up/down buttons:\n            switch (direction) {\n            case 1: // Up arrow:\n              $(this).removeClass(this.spinCfg.downClass).addClass(this.spinCfg.upClass);\n              break;\n            case -1: // Down arrow:\n              $(this).removeClass(this.spinCfg.upClass).addClass(this.spinCfg.downClass);\n              break;\n            default: // Mouse is elsewhere in the textbox\n              $(this).removeClass(this.spinCfg.upClass).removeClass(this.spinCfg.downClass);\n            }\n\n            // Set spin direction:\n            this.spinCfg._direction = direction;\n          }\n        })\n\n        .mouseout(function () {\n          // Reset up/down buttons to their normal appearance when mouse moves away:\n          $(this).removeClass(this.spinCfg.upClass).removeClass(this.spinCfg.downClass);\n          this.spinCfg._direction = null;\n          window.clearInterval(this.spinCfg._repeat);\n          window.clearTimeout(this.spinCfg._delay);\n        })\n\n        .mousedown(function (e) {\n          if (e.button === 0 && this.spinCfg._direction !== 0) {\n            // Respond to click on one of the buttons:\n            const stepSize = e.shiftKey ? this.spinCfg.smallStep : this.spinCfg.step;\n\n            const adjust = () => {\n              this.adjustValue(this.spinCfg._direction * stepSize);\n            };\n\n            adjust();\n\n            // Initial delay before repeating adjustment\n            this.spinCfg._delay = window.setTimeout(() => {\n              adjust();\n              // Repeat adjust at regular intervals\n              this.spinCfg._repeat = window.setInterval(adjust, this.spinCfg.interval);\n            }, this.spinCfg.delay);\n          }\n        })\n\n        .mouseup(function (e) {\n          // Cancel repeating adjustment\n          window.clearInterval(this.spinCfg._repeat);\n          window.clearTimeout(this.spinCfg._delay);\n        })\n\n        .dblclick(function (e) {\n          if ($.browser.msie) {\n            this.adjustValue(this.spinCfg._direction * this.spinCfg.step);\n          }\n        })\n\n        .keydown(function (e) {\n          // Respond to up/down arrow keys.\n          switch (e.keyCode) {\n          case 38: this.adjustValue(this.spinCfg.step); break; // Up\n          case 40: this.adjustValue(-this.spinCfg.step); break; // Down\n          case 33: this.adjustValue(this.spinCfg.page); break; // PageUp\n          case 34: this.adjustValue(-this.spinCfg.page); break; // PageDown\n          }\n        })\n\n        /*\n        http://unixpapa.com/js/key.html describes the current state-of-affairs for\n        key repeat events:\n        - Safari 3.1 changed their model so that keydown is reliably repeated going forward\n        - Firefox and Opera still only repeat the keypress event, not the keydown\n        */\n        .keypress(function (e) {\n          if (this.repeating) {\n            // Respond to up/down arrow keys.\n            switch (e.keyCode) {\n            case 38: this.adjustValue(this.spinCfg.step); break; // Up\n            case 40: this.adjustValue(-this.spinCfg.step); break; // Down\n            case 33: this.adjustValue(this.spinCfg.page); break; // PageUp\n            case 34: this.adjustValue(-this.spinCfg.page); break; // PageDown\n            }\n          // we always ignore the first keypress event (use the keydown instead)\n          } else {\n            this.repeating = true;\n          }\n        })\n\n        // clear the 'repeating' flag\n        .keyup(function (e) {\n          this.repeating = false;\n          switch (e.keyCode) {\n          case 38: // Up\n          case 40: // Down\n          case 33: // PageUp\n          case 34: // PageDown\n          case 13: this.adjustValue(0); break; // Enter/Return\n          }\n        })\n\n        .bind('mousewheel', function (e) {\n          // Respond to mouse wheel in IE. (It returns up/dn motion in multiples of 120)\n          if (e.wheelDelta >= 120) {\n            this.adjustValue(this.spinCfg.step);\n          } else if (e.wheelDelta <= -120) {\n            this.adjustValue(-this.spinCfg.step);\n          }\n\n          e.preventDefault();\n        })\n\n        .change(function (e) {\n          this.adjustValue(0);\n        });\n\n      if (this.addEventListener) {\n        // Respond to mouse wheel in Firefox\n        this.addEventListener('DOMMouseScroll', function (e) {\n          if (e.detail > 0) {\n            this.adjustValue(-this.spinCfg.step);\n          } else if (e.detail < 0) {\n            this.adjustValue(this.spinCfg.step);\n          }\n\n          e.preventDefault();\n        });\n      }\n    });\n  };\n  return $;\n}\n","/**\n * @file jQuery Context Menu Plugin\n * Cory S.N. LaViska\n * A Beautiful Site ({@link https://abeautifulsite.net/})\n * Modified by Alexis Deveria\n *\n * More info: {@link https://abeautifulsite.net/2008/09/jquery-context-menu-plugin/}\n *\n * @module jQueryContextMenu\n * @todo Update to latest version and adapt (and needs jQuery update as well): {@link https://github.com/swisnl/jQuery-contextMenu}\n * @version 1.0.1\n *\n * @license (MIT OR GPL-2.0-or-later)\n *\n * This plugin is dual-licensed under the GNU General Public License\n *   and the MIT License and is copyright A Beautiful Site, LLC.\n *\n*/\nimport {isMac} from '../../common/browser.js';\n\n/**\n* @callback module:jQueryContextMenu.jQueryContextMenuListener\n* @param {string} href The `href` value after the first character (for bypassing an initial `#`)\n* @param {external:jQuery} srcElement The wrapped jQuery srcElement\n* @param {{x: Float, y: Float, docX: Float, docY: Float}} coords\n* @returns {void}\n*/\n\n/**\n* @typedef {PlainObject} module:jQueryContextMenu.jQueryContextMenuConfig\n* @property {string} menu\n* @property {Float} inSpeed\n* @property {Float} outSpeed\n* @property {boolean} allowLeft\n*/\n\n/**\n* Adds {@link external:jQuery.fn.contextMenu},\n* {@link external:jQuery.fn.disableContextMenuItems},\n* {@link external:jQuery.fn.enableContextMenuItems},\n* {@link external:jQuery.fn.disableContextMenu},\n* {@link external:jQuery.fn.enableContextMenu},\n* {@link external:jQuery.fn.destroyContextMenu}.\n* @function module:jQueryContextMenu.jQueryContextMenu\n* @param {external:jQuery} $ The jQuery object to wrap (with `contextMenu`, `disableContextMenuItems`, `enableContextMenuItems`, `disableContextMenu`, `enableContextMenu`, `destroyContextMenu`)\n* @returns {external:jQuery}\n*/\nfunction jQueryContextMenu ($) {\n  const win = $(window);\n  const doc = $(document);\n\n  $.extend($.fn, {\n    /**\n    * @memberof external:jQuery.fn\n    * @param {module:jQueryContextMenu.jQueryContextMenuConfig} o\n    * @param {module:jQueryContextMenu.jQueryContextMenuListener} listener\n    * @returns {external:jQuery}\n    */\n    contextMenu (o, listener) {\n      // Defaults\n      if (o.menu === undefined) return false;\n      if (o.inSpeed === undefined) o.inSpeed = 150;\n      if (o.outSpeed === undefined) o.outSpeed = 75;\n      // 0 needs to be -1 for expected results (no fade)\n      if (o.inSpeed === 0) o.inSpeed = -1;\n      if (o.outSpeed === 0) o.outSpeed = -1;\n      // Loop each context menu\n      $(this).each(function () {\n        const el = $(this);\n        const offset = $(el).offset();\n\n        const menu = $('#' + o.menu);\n\n        // Add contextMenu class\n        menu.addClass('contextMenu');\n        // Simulate a true right click\n        $(this).bind('mousedown', function (evt) {\n          $(this).mouseup(function (e) {\n            const srcElement = $(this);\n            srcElement.unbind('mouseup');\n\n            if (!(evt.button === 2 || o.allowLeft ||\n              (evt.ctrlKey && isMac()))) {\n              return undefined;\n            }\n            e.stopPropagation();\n            // Hide context menus that may be showing\n            $('.contextMenu').hide();\n            // Get this context menu\n\n            if (el.hasClass('disabled')) return false;\n\n            // Detect mouse position\n            let x = e.pageX, y = e.pageY;\n\n            const xOff = win.width() - menu.width(),\n              yOff = win.height() - menu.height();\n\n            if (x > xOff - 15) x = xOff - 15;\n            if (y > yOff - 30) y = yOff - 30; // 30 is needed to prevent scrollbars in FF\n\n            // Show the menu\n            doc.unbind('click');\n            menu.css({top: y, left: x}).fadeIn(o.inSpeed);\n            // Hover events\n            menu.find('A').mouseover(function () {\n              menu.find('LI.hover').removeClass('hover');\n              $(this).parent().addClass('hover');\n            }).mouseout(function () {\n              menu.find('LI.hover').removeClass('hover');\n            });\n\n            // Keyboard\n            doc.keypress(function (ev) {\n              switch (ev.keyCode) {\n              case 38: // up\n                if (!menu.find('LI.hover').length) {\n                  menu.find('LI:last').addClass('hover');\n                } else {\n                  menu.find('LI.hover').removeClass('hover').prevAll('LI:not(.disabled)').eq(0).addClass('hover');\n                  if (!menu.find('LI.hover').length) menu.find('LI:last').addClass('hover');\n                }\n                break;\n              case 40: // down\n                if (!menu.find('LI.hover').length) {\n                  menu.find('LI:first').addClass('hover');\n                } else {\n                  menu.find('LI.hover').removeClass('hover').nextAll('LI:not(.disabled)').eq(0).addClass('hover');\n                  if (!menu.find('LI.hover').length) menu.find('LI:first').addClass('hover');\n                }\n                break;\n              case 13: // enter\n                menu.find('LI.hover A').trigger('click');\n                break;\n              case 27: // esc\n                doc.trigger('click');\n                break;\n              }\n            });\n\n            // When items are selected\n            menu.find('A').unbind('mouseup');\n            menu.find('LI:not(.disabled) A').mouseup(function () {\n              doc.unbind('click').unbind('keypress');\n              $('.contextMenu').hide();\n              if (listener) {\n                listener($(this).attr('href').substr(1), $(srcElement), {\n                  x: x - offset.left, y: y - offset.top, docX: x, docY: y\n                });\n              }\n              return false;\n            });\n\n            // Hide bindings\n            setTimeout(function () { // Delay for Mozilla\n              doc.click(function () {\n                doc.unbind('click').unbind('keypress');\n                menu.fadeOut(o.outSpeed);\n                return false;\n              });\n            }, 0);\n            return undefined;\n          });\n        });\n\n        // Disable text selection\n        if ($.browser.mozilla) {\n          $('#' + o.menu).each(function () { $(this).css({MozUserSelect: 'none'}); });\n        } else if ($.browser.msie) {\n          $('#' + o.menu).each(function () { $(this).bind('selectstart.disableTextSelect', function () { return false; }); });\n        } else {\n          $('#' + o.menu).each(function () { $(this).bind('mousedown.disableTextSelect', function () { return false; }); });\n        }\n        // Disable browser context menu (requires both selectors to work in IE/Safari + FF/Chrome)\n        $(el).add($('UL.contextMenu')).bind('contextmenu', function () { return false; });\n      });\n      return $(this);\n    },\n\n    /**\n    * Disable context menu items on the fly.\n    * @memberof external:jQuery.fn\n    * @param {void|string} o Comma-separated\n    * @returns {external:jQuery}\n    */\n    disableContextMenuItems (o) {\n      if (o === undefined) {\n        // Disable all\n        $(this).find('LI').addClass('disabled');\n        return $(this);\n      }\n      $(this).each(function () {\n        if (o !== undefined) {\n          const d = o.split(',');\n          for (const href of d) {\n            $(this).find('A[href=\"' + href + '\"]').parent().addClass('disabled');\n          }\n        }\n      });\n      return $(this);\n    },\n\n    /**\n    * Enable context menu items on the fly.\n    * @memberof external:jQuery.fn\n    * @param {void|string} o Comma-separated\n    * @returns {external:jQuery}\n    */\n    enableContextMenuItems (o) {\n      if (o === undefined) {\n        // Enable all\n        $(this).find('LI.disabled').removeClass('disabled');\n        return $(this);\n      }\n      $(this).each(function () {\n        if (o !== undefined) {\n          const d = o.split(',');\n          for (const href of d) {\n            $(this).find('A[href=\"' + href + '\"]').parent().removeClass('disabled');\n          }\n        }\n      });\n      return $(this);\n    },\n\n    /**\n    * Disable context menu(s).\n    * @memberof external:jQuery.fn\n    * @returns {external:jQuery}\n    */\n    disableContextMenu () {\n      $(this).each(function () {\n        $(this).addClass('disabled');\n      });\n      return $(this);\n    },\n\n    /**\n    * Enable context menu(s).\n    * @memberof external:jQuery.fn\n    * @returns {external:jQuery}\n    */\n    enableContextMenu () {\n      $(this).each(function () {\n        $(this).removeClass('disabled');\n      });\n      return $(this);\n    },\n\n    /**\n    * Destroy context menu(s).\n    * @memberof external:jQuery.fn\n    * @returns {external:jQuery}\n    */\n    destroyContextMenu () {\n      // Destroy specified context menus\n      $(this).each(function () {\n        // Disable action\n        $(this).unbind('mousedown').unbind('mouseup');\n      });\n      return $(this);\n    }\n  });\n  return $;\n}\n\nexport default jQueryContextMenu;\n","/* eslint-disable no-bitwise, max-len */\n/**\n * @file jPicker (Adapted from version 1.1.6)\n *\n * jQuery Plugin for Photoshop style color picker\n *\n * @module jPicker\n * @copyright (c) 2010 Christopher T. Tillman\n * Digital Magic Productions, Inc. ({@link http://www.digitalmagicpro.com/})\n * FREE to use, alter, copy, sell, and especially ENHANCE\n * @license MIT\n *\n * Painstakingly ported from John Dyers' excellent work on his own color picker based on the Prototype framework.\n *\n * John Dyers' website: {@link http://johndyer.name}\n * Color Picker page: {@link http://johndyer.name/photoshop-like-javascript-color-picker/}\n */\n\n/**\n* @external Math\n*/\n/**\n* @memberof external:Math\n* @param {Float} value\n* @param {Float} precision\n* @returns {Float}\n*/\nfunction toFixedNumeric (value, precision) {\n  if (precision === undefined) precision = 0;\n  return Math.round(value * (10 ** precision)) / (10 ** precision);\n}\n\n/**\n * Whether a value is `null` or `undefined`.\n * @param {any} val\n * @returns {boolean}\n */\nconst isNullish = (val) => {\n  return val === null || val === undefined;\n};\n\n/**\n* @function module:jPicker.jPicker\n* @param {external:jQuery} $ The jQuery object, {@link external:jQuery.fn.$.fn.jPicker}, {@link external:jQuery.fn.$.fn.jPicker.defaults})\n* @returns {external:jQuery}\n*/\nconst jPicker = function ($) {\n  /**\n  * @typedef {PlainObject} module:jPicker.SliderOptions\n  * @property {external:jQuery|PlainObject} arrow\n  * @property {string} arrow.image Not in use?\n  * @property {Float} arrow.width\n  * @property {Float} arrow.height\n  * @property {PlainObject} map\n  * @property {Float} map.width\n  * @property {Float} map.height\n  */\n\n  /**\n  * Encapsulate slider functionality for the ColorMap and ColorBar -\n  * could be useful to use a jQuery UI draggable for this with certain extensions.\n  * @memberof module:jPicker\n  */\n  class Slider {\n    /**\n     * @param {external:jQuery} bar\n     * @param {module:jPicker.SliderOptions} options\n     */\n    constructor (bar, options) {\n      const that = this;\n      /**\n       * Fire events on the supplied `context`\n       * @param {module:jPicker.JPickerInit} context\n       * @returns {void}\n       */\n      function fireChangeEvents (context) {\n        changeEvents.forEach((changeEvent) => {\n          changeEvent.call(that, that, context);\n        });\n      }\n\n      /**\n       * Bind the mousedown to the bar not the arrow for quick snapping to the clicked location.\n       * @param {external:jQuery.Event} e\n       * @returns {void}\n       */\n      function mouseDown (e) {\n        const off = bar.offset();\n        offset = {l: off.left | 0, t: off.top | 0};\n        clearTimeout(timeout);\n        // using setTimeout for visual updates - once the style is updated the browser will re-render internally allowing the next Javascript to run\n        timeout = setTimeout(function () {\n          setValuesFromMousePosition.call(that, e);\n        }, 0);\n        // Bind mousemove and mouseup event to the document so it responds when dragged of of the bar - we will unbind these when on mouseup to save processing\n        $(document).bind('mousemove', mouseMove).bind('mouseup', mouseUp);\n        e.preventDefault(); // don't try to select anything or drag the image to the desktop\n      }\n      /**\n       * Set the values as the mouse moves.\n       * @param {external:jQuery.Event} e\n       * @returns {false}\n       */\n      function mouseMove (e) {\n        clearTimeout(timeout);\n        timeout = setTimeout(function () {\n          setValuesFromMousePosition.call(that, e);\n        }, 0);\n        e.stopPropagation();\n        e.preventDefault();\n        return false;\n      }\n      /**\n       * Unbind the document events - they aren't needed when not dragging.\n       * @param {external:jQuery.Event} e\n       * @returns {false}\n       */\n      function mouseUp (e) {\n        $(document).unbind('mouseup', mouseUp).unbind('mousemove', mouseMove);\n        e.stopPropagation();\n        e.preventDefault();\n        return false;\n      }\n\n      /**\n       * Calculate mouse position and set value within the current range.\n       * @param {Event} e\n       * @returns {void}\n       */\n      function setValuesFromMousePosition (e) {\n        const barW = bar.w, // local copies for YUI compressor\n          barH = bar.h;\n        let locX = e.pageX - offset.l,\n          locY = e.pageY - offset.t;\n        // keep the arrow within the bounds of the bar\n        if (locX < 0) locX = 0;\n        else if (locX > barW) locX = barW;\n        if (locY < 0) locY = 0;\n        else if (locY > barH) locY = barH;\n        val.call(that, 'xy', {\n          x: ((locX / barW) * rangeX) + minX,\n          y: ((locY / barH) * rangeY) + minY\n        });\n      }\n      /**\n       *\n       * @returns {void}\n       */\n      function draw () {\n        const\n          barW = bar.w,\n          barH = bar.h,\n          arrowW = arrow.w,\n          arrowH = arrow.h;\n        let arrowOffsetX = 0,\n          arrowOffsetY = 0;\n        setTimeout(function () {\n          if (rangeX > 0) { // range is greater than zero\n            // constrain to bounds\n            if (x === maxX) arrowOffsetX = barW;\n            else arrowOffsetX = ((x / rangeX) * barW) | 0;\n          }\n          if (rangeY > 0) { // range is greater than zero\n            // constrain to bounds\n            if (y === maxY) arrowOffsetY = barH;\n            else arrowOffsetY = ((y / rangeY) * barH) | 0;\n          }\n          // if arrow width is greater than bar width, center arrow and prevent horizontal dragging\n          if (arrowW >= barW) arrowOffsetX = (barW >> 1) - (arrowW >> 1); // number >> 1 - superfast bitwise divide by two and truncate (move bits over one bit discarding lowest)\n          else arrowOffsetX -= arrowW >> 1;\n          // if arrow height is greater than bar height, center arrow and prevent vertical dragging\n          if (arrowH >= barH) arrowOffsetY = (barH >> 1) - (arrowH >> 1);\n          else arrowOffsetY -= arrowH >> 1;\n          // set the arrow position based on these offsets\n          arrow.css({left: arrowOffsetX + 'px', top: arrowOffsetY + 'px'});\n        });\n      }\n\n      /**\n       * Get or set a value.\n       * @param {?(\"xy\"|\"x\"|\"y\")} name\n       * @param {module:math.XYObject} value\n       * @param {module:jPicker.Slider} context\n       * @returns {module:math.XYObject|Float|void}\n       */\n      function val (name, value, context) {\n        const set = value !== undefined;\n        if (!set) {\n          if (isNullish(name)) name = 'xy';\n          switch (name.toLowerCase()) {\n          case 'x': return x;\n          case 'y': return y;\n          case 'xy':\n          default: return {x, y};\n          }\n        }\n        if (!isNullish(context) && context === that) return undefined;\n        let changed = false;\n\n        let newX, newY;\n        if (isNullish(name)) name = 'xy';\n        switch (name.toLowerCase()) {\n        case 'x':\n          newX = (value && ((value.x && value.x | 0) || value | 0)) || 0;\n          break;\n        case 'y':\n          newY = (value && ((value.y && value.y | 0) || value | 0)) || 0;\n          break;\n        case 'xy':\n        default:\n          newX = (value && value.x && value.x | 0) || 0;\n          newY = (value && value.y && value.y | 0) || 0;\n          break;\n        }\n        if (!isNullish(newX)) {\n          if (newX < minX) newX = minX;\n          else if (newX > maxX) newX = maxX;\n          if (x !== newX) {\n            x = newX;\n            changed = true;\n          }\n        }\n        if (!isNullish(newY)) {\n          if (newY < minY) newY = minY;\n          else if (newY > maxY) newY = maxY;\n          if (y !== newY) {\n            y = newY;\n            changed = true;\n          }\n        }\n        changed && fireChangeEvents.call(that, context || that);\n        return undefined;\n      }\n\n      /**\n      * @typedef {PlainObject} module:jPicker.MinMaxRangeX\n      * @property {Float} minX\n      * @property {Float} maxX\n      * @property {Float} rangeX\n      */\n      /**\n      * @typedef {PlainObject} module:jPicker.MinMaxRangeY\n      * @property {Float} minY\n      * @property {Float} maxY\n      * @property {Float} rangeY\n      */\n      /**\n      * @typedef {module:jPicker.MinMaxRangeY|module:jPicker.MinMaxRangeX} module:jPicker.MinMaxRangeXY\n      */\n\n      /**\n       *\n       * @param {\"minx\"|\"maxx\"|\"rangex\"|\"miny\"|\"maxy\"|\"rangey\"|\"all\"} name\n       * @param {module:jPicker.MinMaxRangeXY} value\n       * @returns {module:jPicker.MinMaxRangeXY|module:jPicker.MinMaxRangeX|module:jPicker.MinMaxRangeY|void}\n       */\n      function range (name, value) {\n        const set = value !== undefined;\n        if (!set) {\n          if (isNullish(name)) name = 'all';\n          switch (name.toLowerCase()) {\n          case 'minx': return minX;\n          case 'maxx': return maxX;\n          case 'rangex': return {minX, maxX, rangeX};\n          case 'miny': return minY;\n          case 'maxy': return maxY;\n          case 'rangey': return {minY, maxY, rangeY};\n          case 'all':\n          default: return {minX, maxX, rangeX, minY, maxY, rangeY};\n          }\n        }\n        let // changed = false,\n          newMinX,\n          newMaxX,\n          newMinY,\n          newMaxY;\n        if (isNullish(name)) name = 'all';\n        switch (name.toLowerCase()) {\n        case 'minx':\n          newMinX = (value && ((value.minX && value.minX | 0) || value | 0)) || 0;\n          break;\n        case 'maxx':\n          newMaxX = (value && ((value.maxX && value.maxX | 0) || value | 0)) || 0;\n          break;\n        case 'rangex':\n          newMinX = (value && value.minX && value.minX | 0) || 0;\n          newMaxX = (value && value.maxX && value.maxX | 0) || 0;\n          break;\n        case 'miny':\n          newMinY = (value && ((value.minY && value.minY | 0) || value | 0)) || 0;\n          break;\n        case 'maxy':\n          newMaxY = (value && ((value.maxY && value.maxY | 0) || value | 0)) || 0;\n          break;\n        case 'rangey':\n          newMinY = (value && value.minY && value.minY | 0) || 0;\n          newMaxY = (value && value.maxY && value.maxY | 0) || 0;\n          break;\n        case 'all':\n        default:\n          newMinX = (value && value.minX && value.minX | 0) || 0;\n          newMaxX = (value && value.maxX && value.maxX | 0) || 0;\n          newMinY = (value && value.minY && value.minY | 0) || 0;\n          newMaxY = (value && value.maxY && value.maxY | 0) || 0;\n          break;\n        }\n\n        if (!isNullish(newMinX) && minX !== newMinX) {\n          minX = newMinX;\n          rangeX = maxX - minX;\n        }\n        if (!isNullish(newMaxX) && maxX !== newMaxX) {\n          maxX = newMaxX;\n          rangeX = maxX - minX;\n        }\n        if (!isNullish(newMinY) && minY !== newMinY) {\n          minY = newMinY;\n          rangeY = maxY - minY;\n        }\n        if (!isNullish(newMaxY) && maxY !== newMaxY) {\n          maxY = newMaxY;\n          rangeY = maxY - minY;\n        }\n        return undefined;\n      }\n      /**\n      * @param {GenericCallback} callback\n      * @returns {void}\n      */\n      function bind (callback) { // eslint-disable-line promise/prefer-await-to-callbacks\n        if (typeof callback === 'function') changeEvents.push(callback);\n      }\n      /**\n      * @param {GenericCallback} callback\n      * @returns {void}\n      */\n      function unbind (callback) { // eslint-disable-line promise/prefer-await-to-callbacks\n        if (typeof callback !== 'function') return;\n        let i;\n        while ((i = changeEvents.includes(callback))) changeEvents.splice(i, 1);\n      }\n      /**\n      *\n      * @returns {void}\n      */\n      function destroy () {\n        // unbind all possible events and null objects\n        $(document).unbind('mouseup', mouseUp).unbind('mousemove', mouseMove);\n        bar.unbind('mousedown', mouseDown);\n        bar = null;\n        arrow = null;\n        changeEvents = null;\n      }\n      let offset,\n        timeout,\n        x = 0,\n        y = 0,\n        minX = 0,\n        maxX = 100,\n        rangeX = 100,\n        minY = 0,\n        maxY = 100,\n        rangeY = 100,\n        arrow = bar.find('img:first'), // the arrow image to drag\n        changeEvents = [];\n\n      $.extend(\n        true,\n        // public properties, methods, and event bindings - these we need\n        //   to access from other controls\n        that,\n        {\n          val,\n          range,\n          bind,\n          unbind,\n          destroy\n        }\n      );\n      // initialize this control\n      arrow.src = options.arrow && options.arrow.image;\n      arrow.w = (options.arrow && options.arrow.width) || arrow.width();\n      arrow.h = (options.arrow && options.arrow.height) || arrow.height();\n      bar.w = (options.map && options.map.width) || bar.width();\n      bar.h = (options.map && options.map.height) || bar.height();\n      // bind mousedown event\n      bar.bind('mousedown', mouseDown);\n      bind.call(that, draw);\n    }\n  }\n\n  /**\n   * Controls for all the input elements for the typing in color values.\n   */\n  class ColorValuePicker {\n    /**\n     * @param {external:jQuery} picker\n     * @param {external:jQuery.jPicker.Color} color\n     * @param {external:jQuery.fn.$.fn.jPicker} bindedHex\n     * @param {Float} alphaPrecision\n     */\n    constructor (picker, color, bindedHex, alphaPrecision) {\n      const that = this; // private properties and methods\n      const inputs = picker.find('td.Text input');\n      // input box key down - use arrows to alter color\n      /**\n       *\n       * @param {Event} e\n       * @returns {Event|false|void}\n       */\n      function keyDown (e) {\n        if (e.target.value === '' && e.target !== hex.get(0) && ((!isNullish(bindedHex) && e.target !== bindedHex.get(0)) || isNullish(bindedHex))) return undefined;\n        if (!validateKey(e)) return e;\n        switch (e.target) {\n        case red.get(0):\n          switch (e.keyCode) {\n          case 38:\n            red.val(setValueInRange.call(that, (red.val() << 0) + 1, 0, 255));\n            color.val('r', red.val(), e.target);\n            return false;\n          case 40:\n            red.val(setValueInRange.call(that, (red.val() << 0) - 1, 0, 255));\n            color.val('r', red.val(), e.target);\n            return false;\n          }\n          break;\n        case green.get(0):\n          switch (e.keyCode) {\n          case 38:\n            green.val(setValueInRange.call(that, (green.val() << 0) + 1, 0, 255));\n            color.val('g', green.val(), e.target);\n            return false;\n          case 40:\n            green.val(setValueInRange.call(that, (green.val() << 0) - 1, 0, 255));\n            color.val('g', green.val(), e.target);\n            return false;\n          }\n          break;\n        case blue.get(0):\n          switch (e.keyCode) {\n          case 38:\n            blue.val(setValueInRange.call(that, (blue.val() << 0) + 1, 0, 255));\n            color.val('b', blue.val(), e.target);\n            return false;\n          case 40:\n            blue.val(setValueInRange.call(that, (blue.val() << 0) - 1, 0, 255));\n            color.val('b', blue.val(), e.target);\n            return false;\n          }\n          break;\n        case alpha && alpha.get(0):\n          switch (e.keyCode) {\n          case 38:\n            alpha.val(setValueInRange.call(that, Number.parseFloat(alpha.val()) + 1, 0, 100));\n            color.val('a', toFixedNumeric((alpha.val() * 255) / 100, alphaPrecision), e.target);\n            return false;\n          case 40:\n            alpha.val(setValueInRange.call(that, Number.parseFloat(alpha.val()) - 1, 0, 100));\n            color.val('a', toFixedNumeric((alpha.val() * 255) / 100, alphaPrecision), e.target);\n            return false;\n          }\n          break;\n        case hue.get(0):\n          switch (e.keyCode) {\n          case 38:\n            hue.val(setValueInRange.call(that, (hue.val() << 0) + 1, 0, 360));\n            color.val('h', hue.val(), e.target);\n            return false;\n          case 40:\n            hue.val(setValueInRange.call(that, (hue.val() << 0) - 1, 0, 360));\n            color.val('h', hue.val(), e.target);\n            return false;\n          }\n          break;\n        case saturation.get(0):\n          switch (e.keyCode) {\n          case 38:\n            saturation.val(setValueInRange.call(that, (saturation.val() << 0) + 1, 0, 100));\n            color.val('s', saturation.val(), e.target);\n            return false;\n          case 40:\n            saturation.val(setValueInRange.call(that, (saturation.val() << 0) - 1, 0, 100));\n            color.val('s', saturation.val(), e.target);\n            return false;\n          }\n          break;\n        case value.get(0):\n          switch (e.keyCode) {\n          case 38:\n            value.val(setValueInRange.call(that, (value.val() << 0) + 1, 0, 100));\n            color.val('v', value.val(), e.target);\n            return false;\n          case 40:\n            value.val(setValueInRange.call(that, (value.val() << 0) - 1, 0, 100));\n            color.val('v', value.val(), e.target);\n            return false;\n          }\n          break;\n        }\n        return undefined;\n      }\n      // input box key up - validate value and set color\n      /**\n      * @param {Event} e\n      * @returns {Event|void}\n      * @todo Why is this returning an event?\n      */\n      function keyUp (e) {\n        if (e.target.value === '' && e.target !== hex.get(0) &&\n          ((!isNullish(bindedHex) && e.target !== bindedHex.get(0)) ||\n          isNullish(bindedHex))) return undefined;\n        if (!validateKey(e)) return e;\n        switch (e.target) {\n        case red.get(0):\n          red.val(setValueInRange.call(that, red.val(), 0, 255));\n          color.val('r', red.val(), e.target);\n          break;\n        case green.get(0):\n          green.val(setValueInRange.call(that, green.val(), 0, 255));\n          color.val('g', green.val(), e.target);\n          break;\n        case blue.get(0):\n          blue.val(setValueInRange.call(that, blue.val(), 0, 255));\n          color.val('b', blue.val(), e.target);\n          break;\n        case alpha && alpha.get(0):\n          alpha.val(setValueInRange.call(that, alpha.val(), 0, 100));\n          color.val('a', toFixedNumeric((alpha.val() * 255) / 100, alphaPrecision), e.target);\n          break;\n        case hue.get(0):\n          hue.val(setValueInRange.call(that, hue.val(), 0, 360));\n          color.val('h', hue.val(), e.target);\n          break;\n        case saturation.get(0):\n          saturation.val(setValueInRange.call(that, saturation.val(), 0, 100));\n          color.val('s', saturation.val(), e.target);\n          break;\n        case value.get(0):\n          value.val(setValueInRange.call(that, value.val(), 0, 100));\n          color.val('v', value.val(), e.target);\n          break;\n        case hex.get(0):\n          hex.val(hex.val().replace(/[^a-fA-F\\d]/g, '').toLowerCase().substring(0, 6));\n          bindedHex && bindedHex.val(hex.val());\n          color.val('hex', hex.val() !== '' ? hex.val() : null, e.target);\n          break;\n        case bindedHex && bindedHex.get(0):\n          bindedHex.val(bindedHex.val().replace(/[^a-fA-F\\d]/g, '').toLowerCase().substring(0, 6));\n          hex.val(bindedHex.val());\n          color.val('hex', bindedHex.val() !== '' ? bindedHex.val() : null, e.target);\n          break;\n        case ahex && ahex.get(0):\n          ahex.val(ahex.val().replace(/[^a-fA-F\\d]/g, '').toLowerCase().substring(0, 2));\n          color.val('a', !isNullish(ahex.val()) ? Number.parseInt(ahex.val(), 16) : null, e.target);\n          break;\n        }\n        return undefined;\n      }\n      // input box blur - reset to original if value empty\n      /**\n      * @param {Event} e\n      * @returns {void}\n      */\n      function blur (e) {\n        if (!isNullish(color.val())) {\n          switch (e.target) {\n          case red.get(0): red.val(color.val('r')); break;\n          case green.get(0): green.val(color.val('g')); break;\n          case blue.get(0): blue.val(color.val('b')); break;\n          case alpha && alpha.get(0): alpha.val(toFixedNumeric((color.val('a') * 100) / 255, alphaPrecision)); break;\n          case hue.get(0): hue.val(color.val('h')); break;\n          case saturation.get(0): saturation.val(color.val('s')); break;\n          case value.get(0): value.val(color.val('v')); break;\n          case hex.get(0):\n          case bindedHex && bindedHex.get(0):\n            hex.val(color.val('hex'));\n            bindedHex && bindedHex.val(color.val('hex'));\n            break;\n          case ahex && ahex.get(0): ahex.val(color.val('ahex').substring(6)); break;\n          }\n        }\n      }\n      /**\n      * @param {Event} e\n      * @returns {boolean}\n      */\n      function validateKey (e) {\n        switch (e.keyCode) {\n        case 9:\n        case 16:\n        case 29:\n        case 37:\n        case 39:\n          return false;\n        case 'c'.charCodeAt():\n        case 'v'.charCodeAt():\n          if (e.ctrlKey) return false;\n        }\n        return true;\n      }\n\n      /**\n      * Constrain value within range.\n      * @param {Float|string} value\n      * @param {Float} min\n      * @param {Float} max\n      * @returns {Float|string} Returns a number or numeric string\n      */\n      function setValueInRange (value, min, max) {\n        if (value === '' || isNaN(value)) return min;\n        if (value > max) return max;\n        if (value < min) return min;\n        return value;\n      }\n      /**\n      * @param {external:jQuery} ui\n      * @param {Element} context\n      * @returns {void}\n      */\n      function colorChanged (ui, context) {\n        const all = ui.val('all');\n        if (context !== red.get(0)) red.val(!isNullish(all) ? all.r : '');\n        if (context !== green.get(0)) green.val(!isNullish(all) ? all.g : '');\n        if (context !== blue.get(0)) blue.val(!isNullish(all) ? all.b : '');\n        if (alpha && context !== alpha.get(0)) alpha.val(!isNullish(all) ? toFixedNumeric((all.a * 100) / 255, alphaPrecision) : '');\n        if (context !== hue.get(0)) hue.val(!isNullish(all) ? all.h : '');\n        if (context !== saturation.get(0)) saturation.val(!isNullish(all) ? all.s : '');\n        if (context !== value.get(0)) value.val(!isNullish(all) ? all.v : '');\n        if (context !== hex.get(0) && ((bindedHex && context !== bindedHex.get(0)) || !bindedHex)) hex.val(!isNullish(all) ? all.hex : '');\n        if (bindedHex && context !== bindedHex.get(0) && context !== hex.get(0)) bindedHex.val(!isNullish(all) ? all.hex : '');\n        if (ahex && context !== ahex.get(0)) ahex.val(!isNullish(all) ? all.ahex.substring(6) : '');\n      }\n      /**\n      * Unbind all events and null objects.\n      * @returns {void}\n      */\n      function destroy () {\n        red.add(green).add(blue).add(alpha).add(hue).add(saturation).add(value).add(hex).add(bindedHex).add(ahex).unbind('keyup', keyUp).unbind('blur', blur);\n        red.add(green).add(blue).add(alpha).add(hue).add(saturation).add(value).unbind('keydown', keyDown);\n        color.unbind(colorChanged);\n        red = null;\n        green = null;\n        blue = null;\n        alpha = null;\n        hue = null;\n        saturation = null;\n        value = null;\n        hex = null;\n        ahex = null;\n      }\n      let\n        red = inputs.eq(3),\n        green = inputs.eq(4),\n        blue = inputs.eq(5),\n        alpha = inputs.length > 7 ? inputs.eq(6) : null,\n        hue = inputs.eq(0),\n        saturation = inputs.eq(1),\n        value = inputs.eq(2),\n        hex = inputs.eq(inputs.length > 7 ? 7 : 6),\n        ahex = inputs.length > 7 ? inputs.eq(8) : null;\n      $.extend(true, that, {\n        // public properties and methods\n        destroy\n      });\n      red.add(green).add(blue).add(alpha).add(hue).add(saturation).add(value).add(hex).add(bindedHex).add(ahex).bind('keyup', keyUp).bind('blur', blur);\n      red.add(green).add(blue).add(alpha).add(hue).add(saturation).add(value).bind('keydown', keyDown);\n      color.bind(colorChanged);\n    }\n  }\n\n  /**\n  * @typedef {PlainObject} module:jPicker.JPickerInit\n  * @property {Integer} [a]\n  * @property {Integer} [b]\n  * @property {Integer} [g]\n  * @property {Integer} [h]\n  * @property {Integer} [r]\n  * @property {Integer} [s]\n  * @property {Integer} [v]\n  * @property {string} [hex]\n  * @property {string} [ahex]\n  */\n\n  /* eslint-disable jsdoc/require-property */\n  /**\n  * @namespace {PlainObject} jPicker\n  * @memberof external:jQuery\n  */\n  $.jPicker = /** @lends external:jQuery.jPicker */ {\n    /* eslint-enable jsdoc/require-property */\n    /**\n    * Array holding references to each active instance of the jPicker control.\n    * @type {external:jQuery.fn.$.fn.jPicker[]}\n    */\n    List: [],\n    /**\n    * Color object - we will be able to assign by any color space type or\n    * retrieve any color space info.\n    * We want this public so we can optionally assign new color objects to\n    * initial values using inputs other than a string hex value (also supported)\n    * Note: JSDoc didn't document when expressed here as an ES6 Class.\n    * @namespace\n    * @class\n    * @memberof external:jQuery.jPicker\n    * @param {module:jPicker.JPickerInit} init\n    * @returns {external:jQuery.jPicker.Color}\n    */\n    Color: function (init) { // eslint-disable-line object-shorthand\n      const that = this;\n      /**\n       *\n       * @param {module:jPicker.Slider} context\n       * @returns {void}\n       */\n      function fireChangeEvents (context) {\n        for (let i = 0; i < changeEvents.length; i++) changeEvents[i].call(that, that, context);\n      }\n\n      /**\n       * @param {string|\"ahex\"|\"hex\"|\"all\"|\"\"|null|void} name String composed of letters \"r\", \"g\", \"b\", \"a\", \"h\", \"s\", and/or \"v\"\n       * @param {module:jPicker.RGBA|module:jPicker.JPickerInit|string} [value]\n       * @param {external:jQuery.jPicker.Color} context\n       * @returns {module:jPicker.JPickerInit|string|null|void}\n       */\n      function val (name, value, context) {\n        // Kind of ugly\n        const set = Boolean(value);\n        if (set && value.ahex === '') value.ahex = '00000000';\n        if (!set) {\n          let ret;\n          if (isNullish(name) || name === '') name = 'all';\n          if (isNullish(r)) return null;\n          switch (name.toLowerCase()) {\n          case 'ahex': return ColorMethods.rgbaToHex({r, g, b, a});\n          case 'hex': return val('ahex').substring(0, 6);\n          case 'all': return {\n            r, g, b, a, h, s, v,\n            hex: val.call(that, 'hex'),\n            ahex: val.call(that, 'ahex')\n          };\n          default: {\n            ret = {};\n            const nameLength = name.length;\n            [...name].forEach((ch) => {\n              switch (ch) {\n              case 'r':\n                if (nameLength === 1) ret = r;\n                else ret.r = r;\n                break;\n              case 'g':\n                if (nameLength === 1) ret = g;\n                else ret.g = g;\n                break;\n              case 'b':\n                if (nameLength === 1) ret = b;\n                else ret.b = b;\n                break;\n              case 'a':\n                if (nameLength === 1) ret = a;\n                else ret.a = a;\n                break;\n              case 'h':\n                if (nameLength === 1) ret = h;\n                else ret.h = h;\n                break;\n              case 's':\n                if (nameLength === 1) ret = s;\n                else ret.s = s;\n                break;\n              case 'v':\n                if (nameLength === 1) ret = v;\n                else ret.v = v;\n                break;\n              }\n            });\n          }\n          }\n          return typeof ret === 'object' && !Object.keys(ret).length\n            ? val.call(that, 'all')\n            : ret;\n        }\n        if (!isNullish(context) && context === that) return undefined;\n        if (isNullish(name)) name = '';\n\n        let changed = false;\n        if (isNullish(value)) {\n          if (!isNullish(r)) {\n            r = null;\n            changed = true;\n          }\n          if (!isNullish(g)) {\n            g = null;\n            changed = true;\n          }\n          if (!isNullish(b)) {\n            b = null;\n            changed = true;\n          }\n          if (!isNullish(a)) {\n            a = null;\n            changed = true;\n          }\n          if (!isNullish(h)) {\n            h = null;\n            changed = true;\n          }\n          if (!isNullish(s)) {\n            s = null;\n            changed = true;\n          }\n          if (!isNullish(v)) {\n            v = null;\n            changed = true;\n          }\n          changed && fireChangeEvents.call(that, context || that);\n          return undefined;\n        }\n        switch (name.toLowerCase()) {\n        case 'ahex':\n        case 'hex': {\n          const ret = ColorMethods.hexToRgba((value && (value.ahex || value.hex)) || value || 'none');\n          val.call(that, 'rgba', {\n            r: ret.r,\n            g: ret.g,\n            b: ret.b,\n            a: name === 'ahex'\n              ? ret.a\n              : !isNullish(a)\n                ? a\n                : 255\n          }, context);\n          break;\n        } default: {\n          if (value && (!isNullish(value.ahex) || !isNullish(value.hex))) {\n            val.call(that, 'ahex', value.ahex || value.hex || '00000000', context);\n            return undefined;\n          }\n          const newV = {};\n          let rgb = false, hsv = false;\n          if (value.r !== undefined && !name.includes('r')) name += 'r';\n          if (value.g !== undefined && !name.includes('g')) name += 'g';\n          if (value.b !== undefined && !name.includes('b')) name += 'b';\n          if (value.a !== undefined && !name.includes('a')) name += 'a';\n          if (value.h !== undefined && !name.includes('h')) name += 'h';\n          if (value.s !== undefined && !name.includes('s')) name += 's';\n          if (value.v !== undefined && !name.includes('v')) name += 'v';\n          [...name].forEach((ch) => {\n            switch (ch) {\n            case 'r':\n              if (hsv) return;\n              rgb = true;\n              newV.r = (value.r && value.r | 0) || (value | 0) || 0;\n              if (newV.r < 0) newV.r = 0;\n              else if (newV.r > 255) newV.r = 255;\n              if (r !== newV.r) {\n                ({r} = newV);\n                changed = true;\n              }\n              break;\n            case 'g':\n              if (hsv) return;\n              rgb = true;\n              newV.g = (value && value.g && value.g | 0) || (value && value | 0) || 0;\n              if (newV.g < 0) newV.g = 0;\n              else if (newV.g > 255) newV.g = 255;\n              if (g !== newV.g) {\n                ({g} = newV);\n                changed = true;\n              }\n              break;\n            case 'b':\n              if (hsv) return;\n              rgb = true;\n              newV.b = (value && value.b && value.b | 0) || (value && value | 0) || 0;\n              if (newV.b < 0) newV.b = 0;\n              else if (newV.b > 255) newV.b = 255;\n              if (b !== newV.b) {\n                ({b} = newV);\n                changed = true;\n              }\n              break;\n            case 'a':\n              newV.a = value && !isNullish(value.a) ? value.a | 0 : value | 0;\n              if (newV.a < 0) newV.a = 0;\n              else if (newV.a > 255) newV.a = 255;\n              if (a !== newV.a) {\n                ({a} = newV);\n                changed = true;\n              }\n              break;\n            case 'h':\n              if (rgb) return;\n              hsv = true;\n              newV.h = (value && value.h && value.h | 0) || (value && value | 0) || 0;\n              if (newV.h < 0) newV.h = 0;\n              else if (newV.h > 360) newV.h = 360;\n              if (h !== newV.h) {\n                ({h} = newV);\n                changed = true;\n              }\n              break;\n            case 's':\n              if (rgb) return;\n              hsv = true;\n              newV.s = !isNullish(value.s) ? value.s | 0 : value | 0;\n              if (newV.s < 0) newV.s = 0;\n              else if (newV.s > 100) newV.s = 100;\n              if (s !== newV.s) {\n                ({s} = newV);\n                changed = true;\n              }\n              break;\n            case 'v':\n              if (rgb) return;\n              hsv = true;\n              newV.v = !isNullish(value.v) ? value.v | 0 : value | 0;\n              if (newV.v < 0) newV.v = 0;\n              else if (newV.v > 100) newV.v = 100;\n              if (v !== newV.v) {\n                ({v} = newV);\n                changed = true;\n              }\n              break;\n            }\n          });\n          if (changed) {\n            if (rgb) {\n              r = r || 0;\n              g = g || 0;\n              b = b || 0;\n              const ret = ColorMethods.rgbToHsv({r, g, b});\n              ({h, s, v} = ret);\n            } else if (hsv) {\n              h = h || 0;\n              s = !isNullish(s) ? s : 100;\n              v = !isNullish(v) ? v : 100;\n              const ret = ColorMethods.hsvToRgb({h, s, v});\n              ({r, g, b} = ret);\n            }\n            a = !isNullish(a) ? a : 255;\n            fireChangeEvents.call(that, context || that);\n          }\n          break;\n        }\n        }\n        return undefined;\n      }\n      /**\n      * @param {GenericCallback} callback\n      * @returns {void}\n      */\n      function bind (callback) { // eslint-disable-line promise/prefer-await-to-callbacks\n        if (typeof callback === 'function') changeEvents.push(callback);\n      }\n      /**\n      * @param {GenericCallback} callback\n      * @returns {void}\n      */\n      function unbind (callback) { // eslint-disable-line promise/prefer-await-to-callbacks\n        if (typeof callback !== 'function') return;\n        let i;\n        while ((i = changeEvents.includes(callback))) {\n          changeEvents.splice(i, 1);\n        }\n      }\n      /**\n      * Unset `changeEvents`\n      * @returns {void}\n      */\n      function destroy () {\n        changeEvents = null;\n      }\n      let r, g, b, a, h, s, v, changeEvents = [];\n\n      $.extend(true, that, {\n        // public properties and methods\n        val,\n        bind,\n        unbind,\n        destroy\n      });\n      if (init) {\n        if (!isNullish(init.ahex)) {\n          val('ahex', init);\n        } else if (!isNullish(init.hex)) {\n          val(\n            (!isNullish(init.a) ? 'a' : '') + 'hex',\n            !isNullish(init.a)\n              ? {ahex: init.hex + ColorMethods.intToHex(init.a)}\n              : init\n          );\n        } else if (!isNullish(init.r) && !isNullish(init.g) && !isNullish(init.b)) {\n          val('rgb' + (!isNullish(init.a) ? 'a' : ''), init);\n        } else if (!isNullish(init.h) && !isNullish(init.s) && !isNullish(init.v)) {\n          val('hsv' + (!isNullish(init.a) ? 'a' : ''), init);\n        }\n      }\n    },\n    /**\n    * Color conversion methods  - make public to give use to external scripts.\n    * @namespace\n    */\n    ColorMethods: {\n      /**\n      * @typedef {PlainObject} module:jPicker.RGBA\n      * @property {Integer} r\n      * @property {Integer} g\n      * @property {Integer} b\n      * @property {Integer} a\n      */\n      /**\n      * @typedef {PlainObject} module:jPicker.RGB\n      * @property {Integer} r\n      * @property {Integer} g\n      * @property {Integer} b\n      */\n      /**\n      * @param {string} hex\n      * @returns {module:jPicker.RGBA}\n      */\n      hexToRgba (hex) {\n        if (hex === '' || hex === 'none') return {r: null, g: null, b: null, a: null};\n        hex = this.validateHex(hex);\n        let r = '00', g = '00', b = '00', a = '255';\n        if (hex.length === 6) hex += 'ff';\n        if (hex.length > 6) {\n          r = hex.substring(0, 2);\n          g = hex.substring(2, 4);\n          b = hex.substring(4, 6);\n          a = hex.substring(6, hex.length);\n        } else {\n          if (hex.length > 4) {\n            r = hex.substring(4, hex.length);\n            hex = hex.substring(0, 4);\n          }\n          if (hex.length > 2) {\n            g = hex.substring(2, hex.length);\n            hex = hex.substring(0, 2);\n          }\n          if (hex.length > 0) b = hex.substring(0, hex.length);\n        }\n        return {\n          r: this.hexToInt(r), g: this.hexToInt(g), b: this.hexToInt(b), a: this.hexToInt(a)\n        };\n      },\n      /**\n      * @param {string} hex\n      * @returns {string}\n      */\n      validateHex (hex) {\n        // if (typeof hex === 'object') return '';\n        hex = hex.toLowerCase().replace(/[^a-f\\d]/g, '');\n        if (hex.length > 8) hex = hex.substring(0, 8);\n        return hex;\n      },\n      /**\n      * @param {module:jPicker.RGBA} rgba\n      * @returns {string}\n      */\n      rgbaToHex (rgba) {\n        return this.intToHex(rgba.r) + this.intToHex(rgba.g) + this.intToHex(rgba.b) + this.intToHex(rgba.a);\n      },\n      /**\n      * @param {Integer} dec\n      * @returns {string}\n      */\n      intToHex (dec) {\n        let result = (dec | 0).toString(16);\n        if (result.length === 1) result = ('0' + result);\n        return result.toLowerCase();\n      },\n      /**\n      * @param {string} hex\n      * @returns {Integer}\n      */\n      hexToInt (hex) {\n        return Number.parseInt(hex, 16);\n      },\n      /**\n      * @typedef {PlainObject} module:jPicker.HSV\n      * @property {Integer} h\n      * @property {Integer} s\n      * @property {Integer} v\n      */\n      /**\n      * @param {module:jPicker.RGB} rgb\n      * @returns {module:jPicker.HSV}\n      */\n      rgbToHsv (rgb) {\n        const r = rgb.r / 255, g = rgb.g / 255, b = rgb.b / 255, hsv = {h: 0, s: 0, v: 0};\n        let min = 0, max = 0;\n        if (r >= g && r >= b) {\n          max = r;\n          min = g > b ? b : g;\n        } else if (g >= b && g >= r) {\n          max = g;\n          min = r > b ? b : r;\n        } else {\n          max = b;\n          min = g > r ? r : g;\n        }\n        hsv.v = max;\n        hsv.s = max ? (max - min) / max : 0;\n        let delta;\n        if (!hsv.s) hsv.h = 0;\n        else {\n          delta = max - min;\n          if (r === max) hsv.h = (g - b) / delta;\n          else if (g === max) hsv.h = 2 + (b - r) / delta;\n          else hsv.h = 4 + (r - g) / delta;\n          hsv.h = Number.parseInt(hsv.h * 60);\n          if (hsv.h < 0) hsv.h += 360;\n        }\n        hsv.s = (hsv.s * 100) | 0;\n        hsv.v = (hsv.v * 100) | 0;\n        return hsv;\n      },\n      /**\n      * @param {module:jPicker.HSV} hsv\n      * @returns {module:jPicker.RGB}\n      */\n      hsvToRgb (hsv) {\n        const rgb = {r: 0, g: 0, b: 0, a: 100};\n        let {h, s, v} = hsv;\n        if (s === 0) {\n          if (v === 0) rgb.r = rgb.g = rgb.b = 0;\n          else rgb.r = rgb.g = rgb.b = (v * 255 / 100) | 0;\n        } else {\n          if (h === 360) h = 0;\n          h /= 60;\n          s /= 100;\n          v /= 100;\n          const i = h | 0,\n            f = h - i,\n            p = v * (1 - s),\n            q = v * (1 - (s * f)),\n            t = v * (1 - (s * (1 - f)));\n          switch (i) {\n          case 0:\n            rgb.r = v;\n            rgb.g = t;\n            rgb.b = p;\n            break;\n          case 1:\n            rgb.r = q;\n            rgb.g = v;\n            rgb.b = p;\n            break;\n          case 2:\n            rgb.r = p;\n            rgb.g = v;\n            rgb.b = t;\n            break;\n          case 3:\n            rgb.r = p;\n            rgb.g = q;\n            rgb.b = v;\n            break;\n          case 4:\n            rgb.r = t;\n            rgb.g = p;\n            rgb.b = v;\n            break;\n          case 5:\n            rgb.r = v;\n            rgb.g = p;\n            rgb.b = q;\n            break;\n          }\n          rgb.r = (rgb.r * 255) | 0;\n          rgb.g = (rgb.g * 255) | 0;\n          rgb.b = (rgb.b * 255) | 0;\n        }\n        return rgb;\n      }\n    }\n  };\n  const {Color, List, ColorMethods} = $.jPicker; // local copies for YUI compressor\n  /* eslint-disable jsdoc/require-returns */\n  /**\n   * @function external:jQuery.fn.jPicker\n   * @see {@link external:jQuery.fn.$.fn.jPicker}\n   */\n  /* eslint-enable jsdoc/require-returns */\n\n  /**\n  * Will be bound to active {@link jQuery.jPicker.Color}.\n  * @callback module:jPicker.LiveCallback\n  * @param {external:jQuery} ui\n  * @param {Element} context\n  * @returns {void}\n  */\n  /**\n  * @callback module:jPicker.CommitCallback\n  * @param {external:jQuery.jPicker.Color} activeColor\n  * @param {external:jQuery} okButton\n  * @returns {void} Return value not used.\n  */\n  /**\n   * @callback module:jPicker.CancelCallback\n   * @param {external:jQuery.jPicker.Color} activeColor\n   * @param {external:jQuery} cancelButton\n   * @returns {void} Return value not used.\n   */\n  /**\n  * While it would seem this should specify the name `jPicker` for JSDoc, that doesn't\n  *   get us treated as a function as well as a namespace (even with `@function name`),\n  *   so we use an approach to add a redundant `$.fn.` in the name.\n  * @namespace\n  * @memberof external:jQuery.fn\n  * @param {external:jQuery.fn.jPickerOptions} options\n  * @param {module:jPicker.CommitCallback} [commitCallback]\n  * @param {module:jPicker.LiveCallback} [liveCallback]\n  * @param {module:jPicker.CancelCallback} [cancelCallback]\n  * @returns {external:jQuery}\n  */\n  $.fn.jPicker = function (options, commitCallback, liveCallback, cancelCallback) {\n    return this.each(function () {\n      const that = this,\n        settings = $.extend(true, {}, $.fn.jPicker.defaults, options); // local copies for YUI compressor\n      if ($(that).get(0).nodeName.toLowerCase() === 'input') { // Add color picker icon if binding to an input element and bind the events to the input\n        $.extend(true, settings, {\n          window: {\n            bindToInput: true,\n            expandable: true,\n            input: $(that)\n          }\n        });\n        if ($(that).val() === '') {\n          settings.color.active = new Color({hex: null});\n          settings.color.current = new Color({hex: null});\n        } else if (ColorMethods.validateHex($(that).val())) {\n          settings.color.active = new Color({hex: $(that).val(), a: settings.color.active.val('a')});\n          settings.color.current = new Color({hex: $(that).val(), a: settings.color.active.val('a')});\n        }\n      }\n      if (settings.window.expandable) {\n        $(that).after('<span class=\"jPicker\"><span class=\"Icon\"><span class=\"Color\">&nbsp;</span><span class=\"Alpha\">&nbsp;</span><span class=\"Image\" title=\"Click To Open Color Picker\">&nbsp;</span><span class=\"Container\">&nbsp;</span></span></span>');\n      } else {\n        settings.window.liveUpdate = false; // Basic control binding for inline use - You will need to override the liveCallback or commitCallback function to retrieve results\n      }\n      const isLessThanIE7 = Number.parseFloat(navigator.appVersion.split('MSIE')[1]) < 7 && document.body.filters; // needed to run the AlphaImageLoader function for IE6\n      // set color mode and update visuals for the new color mode\n      /**\n       *\n       * @param {\"h\"|\"s\"|\"v\"|\"r\"|\"g\"|\"b\"|\"a\"} colorMode\n       * @throws {Error} Invalid mode\n       * @returns {void}\n       */\n      function setColorMode (colorMode) {\n        const {active} = color, // local copies for YUI compressor\n          // {clientPath} = images,\n          hex = active.val('hex');\n        let rgbMap, rgbBar;\n        settings.color.mode = colorMode;\n        switch (colorMode) {\n        case 'h':\n          setTimeout(function () {\n            setBG.call(that, colorMapDiv, 'transparent');\n            setImgLoc.call(that, colorMapL1, 0);\n            setAlpha.call(that, colorMapL1, 100);\n            setImgLoc.call(that, colorMapL2, 260);\n            setAlpha.call(that, colorMapL2, 100);\n            setBG.call(that, colorBarDiv, 'transparent');\n            setImgLoc.call(that, colorBarL1, 0);\n            setAlpha.call(that, colorBarL1, 100);\n            setImgLoc.call(that, colorBarL2, 260);\n            setAlpha.call(that, colorBarL2, 100);\n            setImgLoc.call(that, colorBarL3, 260);\n            setAlpha.call(that, colorBarL3, 100);\n            setImgLoc.call(that, colorBarL4, 260);\n            setAlpha.call(that, colorBarL4, 100);\n            setImgLoc.call(that, colorBarL6, 260);\n            setAlpha.call(that, colorBarL6, 100);\n          }, 0);\n          colorMap.range('all', {minX: 0, maxX: 100, minY: 0, maxY: 100});\n          colorBar.range('rangeY', {minY: 0, maxY: 360});\n          if (isNullish(active.val('ahex'))) break;\n          colorMap.val('xy', {x: active.val('s'), y: 100 - active.val('v')}, colorMap);\n          colorBar.val('y', 360 - active.val('h'), colorBar);\n          break;\n        case 's':\n          setTimeout(function () {\n            setBG.call(that, colorMapDiv, 'transparent');\n            setImgLoc.call(that, colorMapL1, -260);\n            setImgLoc.call(that, colorMapL2, -520);\n            setImgLoc.call(that, colorBarL1, -260);\n            setImgLoc.call(that, colorBarL2, -520);\n            setImgLoc.call(that, colorBarL6, 260);\n            setAlpha.call(that, colorBarL6, 100);\n          }, 0);\n          colorMap.range('all', {minX: 0, maxX: 360, minY: 0, maxY: 100});\n          colorBar.range('rangeY', {minY: 0, maxY: 100});\n          if (isNullish(active.val('ahex'))) break;\n          colorMap.val('xy', {x: active.val('h'), y: 100 - active.val('v')}, colorMap);\n          colorBar.val('y', 100 - active.val('s'), colorBar);\n          break;\n        case 'v':\n          setTimeout(function () {\n            setBG.call(that, colorMapDiv, '000000');\n            setImgLoc.call(that, colorMapL1, -780);\n            setImgLoc.call(that, colorMapL2, 260);\n            setBG.call(that, colorBarDiv, hex);\n            setImgLoc.call(that, colorBarL1, -520);\n            setImgLoc.call(that, colorBarL2, 260);\n            setAlpha.call(that, colorBarL2, 100);\n            setImgLoc.call(that, colorBarL6, 260);\n            setAlpha.call(that, colorBarL6, 100);\n          }, 0);\n          colorMap.range('all', {minX: 0, maxX: 360, minY: 0, maxY: 100});\n          colorBar.range('rangeY', {minY: 0, maxY: 100});\n          if (isNullish(active.val('ahex'))) break;\n          colorMap.val('xy', {x: active.val('h'), y: 100 - active.val('s')}, colorMap);\n          colorBar.val('y', 100 - active.val('v'), colorBar);\n          break;\n        case 'r':\n          rgbMap = -1040;\n          rgbBar = -780;\n          colorMap.range('all', {minX: 0, maxX: 255, minY: 0, maxY: 255});\n          colorBar.range('rangeY', {minY: 0, maxY: 255});\n          if (isNullish(active.val('ahex'))) break;\n          colorMap.val('xy', {x: active.val('b'), y: 255 - active.val('g')}, colorMap);\n          colorBar.val('y', 255 - active.val('r'), colorBar);\n          break;\n        case 'g':\n          rgbMap = -1560;\n          rgbBar = -1820;\n          colorMap.range('all', {minX: 0, maxX: 255, minY: 0, maxY: 255});\n          colorBar.range('rangeY', {minY: 0, maxY: 255});\n          if (isNullish(active.val('ahex'))) break;\n          colorMap.val('xy', {x: active.val('b'), y: 255 - active.val('r')}, colorMap);\n          colorBar.val('y', 255 - active.val('g'), colorBar);\n          break;\n        case 'b':\n          rgbMap = -2080;\n          rgbBar = -2860;\n          colorMap.range('all', {minX: 0, maxX: 255, minY: 0, maxY: 255});\n          colorBar.range('rangeY', {minY: 0, maxY: 255});\n          if (isNullish(active.val('ahex'))) break;\n          colorMap.val('xy', {x: active.val('r'), y: 255 - active.val('g')}, colorMap);\n          colorBar.val('y', 255 - active.val('b'), colorBar);\n          break;\n        case 'a':\n          setTimeout(function () {\n            setBG.call(that, colorMapDiv, 'transparent');\n            setImgLoc.call(that, colorMapL1, -260);\n            setImgLoc.call(that, colorMapL2, -520);\n            setImgLoc.call(that, colorBarL1, 260);\n            setImgLoc.call(that, colorBarL2, 260);\n            setAlpha.call(that, colorBarL2, 100);\n            setImgLoc.call(that, colorBarL6, 0);\n            setAlpha.call(that, colorBarL6, 100);\n          }, 0);\n          colorMap.range('all', {minX: 0, maxX: 360, minY: 0, maxY: 100});\n          colorBar.range('rangeY', {minY: 0, maxY: 255});\n          if (isNullish(active.val('ahex'))) break;\n          colorMap.val('xy', {x: active.val('h'), y: 100 - active.val('v')}, colorMap);\n          colorBar.val('y', 255 - active.val('a'), colorBar);\n          break;\n        default:\n          throw new Error('Invalid Mode');\n        }\n        switch (colorMode) {\n        case 'h':\n          break;\n        case 's':\n        case 'v':\n        case 'a':\n          setTimeout(function () {\n            setAlpha.call(that, colorMapL1, 100);\n            setAlpha.call(that, colorBarL1, 100);\n            setImgLoc.call(that, colorBarL3, 260);\n            setAlpha.call(that, colorBarL3, 100);\n            setImgLoc.call(that, colorBarL4, 260);\n            setAlpha.call(that, colorBarL4, 100);\n          }, 0);\n          break;\n        case 'r':\n        case 'g':\n        case 'b':\n          setTimeout(function () {\n            setBG.call(that, colorMapDiv, 'transparent');\n            setBG.call(that, colorBarDiv, 'transparent');\n            setAlpha.call(that, colorBarL1, 100);\n            setAlpha.call(that, colorMapL1, 100);\n            setImgLoc.call(that, colorMapL1, rgbMap);\n            setImgLoc.call(that, colorMapL2, rgbMap - 260);\n            setImgLoc.call(that, colorBarL1, rgbBar - 780);\n            setImgLoc.call(that, colorBarL2, rgbBar - 520);\n            setImgLoc.call(that, colorBarL3, rgbBar);\n            setImgLoc.call(that, colorBarL4, rgbBar - 260);\n            setImgLoc.call(that, colorBarL6, 260);\n            setAlpha.call(that, colorBarL6, 100);\n          }, 0);\n          break;\n        }\n        if (isNullish(active.val('ahex'))) return;\n        activeColorChanged.call(that, active);\n      }\n      /**\n       * Update color when user changes text values.\n       * @param {external:jQuery} ui\n       * @param {?module:jPicker.Slider} context\n       * @returns {void}\n      */\n      function activeColorChanged (ui, context) {\n        if (isNullish(context) || (context !== colorBar && context !== colorMap)) positionMapAndBarArrows.call(that, ui, context);\n        setTimeout(function () {\n          updatePreview.call(that, ui);\n          updateMapVisuals.call(that, ui);\n          updateBarVisuals.call(that, ui);\n        }, 0);\n      }\n\n      /**\n       * User has dragged the ColorMap pointer.\n       * @param {external:jQuery} ui\n       * @param {?module:jPicker.Slider} context\n       * @returns {void}\n      */\n      function mapValueChanged (ui, context) {\n        const {active} = color;\n        if (context !== colorMap && isNullish(active.val())) return;\n        const xy = ui.val('all');\n        switch (settings.color.mode) {\n        case 'h':\n          active.val('sv', {s: xy.x, v: 100 - xy.y}, context);\n          break;\n        case 's':\n        case 'a':\n          active.val('hv', {h: xy.x, v: 100 - xy.y}, context);\n          break;\n        case 'v':\n          active.val('hs', {h: xy.x, s: 100 - xy.y}, context);\n          break;\n        case 'r':\n          active.val('gb', {g: 255 - xy.y, b: xy.x}, context);\n          break;\n        case 'g':\n          active.val('rb', {r: 255 - xy.y, b: xy.x}, context);\n          break;\n        case 'b':\n          active.val('rg', {r: xy.x, g: 255 - xy.y}, context);\n          break;\n        }\n      }\n\n      /**\n       * User has dragged the ColorBar slider.\n       * @param {external:jQuery} ui\n       * @param {?module:jPicker.Slider} context\n       * @returns {void}\n      */\n      function colorBarValueChanged (ui, context) {\n        const {active} = color;\n        if (context !== colorBar && isNullish(active.val())) return;\n        switch (settings.color.mode) {\n        case 'h':\n          active.val('h', {h: 360 - ui.val('y')}, context);\n          break;\n        case 's':\n          active.val('s', {s: 100 - ui.val('y')}, context);\n          break;\n        case 'v':\n          active.val('v', {v: 100 - ui.val('y')}, context);\n          break;\n        case 'r':\n          active.val('r', {r: 255 - ui.val('y')}, context);\n          break;\n        case 'g':\n          active.val('g', {g: 255 - ui.val('y')}, context);\n          break;\n        case 'b':\n          active.val('b', {b: 255 - ui.val('y')}, context);\n          break;\n        case 'a':\n          active.val('a', 255 - ui.val('y'), context);\n          break;\n        }\n      }\n\n      /**\n       * Position map and bar arrows to match current color.\n       * @param {external:jQuery} ui\n       * @param {?module:jPicker.Slider} context\n       * @returns {void}\n      */\n      function positionMapAndBarArrows (ui, context) {\n        if (context !== colorMap) {\n          switch (settings.color.mode) {\n          case 'h': {\n            const sv = ui.val('sv');\n            colorMap.val('xy', {x: !isNullish(sv) ? sv.s : 100, y: 100 - (!isNullish(sv) ? sv.v : 100)}, context);\n            break;\n          } case 's':\n          // Fall through\n          case 'a': {\n            const hv = ui.val('hv');\n            colorMap.val('xy', {x: (hv && hv.h) || 0, y: 100 - (!isNullish(hv) ? hv.v : 100)}, context);\n            break;\n          } case 'v': {\n            const hs = ui.val('hs');\n            colorMap.val('xy', {x: (hs && hs.h) || 0, y: 100 - (!isNullish(hs) ? hs.s : 100)}, context);\n            break;\n          } case 'r': {\n            const bg = ui.val('bg');\n            colorMap.val('xy', {x: (bg && bg.b) || 0, y: 255 - ((bg && bg.g) || 0)}, context);\n            break;\n          } case 'g': {\n            const br = ui.val('br');\n            colorMap.val('xy', {x: (br && br.b) || 0, y: 255 - ((br && br.r) || 0)}, context);\n            break;\n          } case 'b': {\n            const rg = ui.val('rg');\n            colorMap.val('xy', {x: (rg && rg.r) || 0, y: 255 - ((rg && rg.g) || 0)}, context);\n            break;\n          }\n          }\n        }\n        if (context !== colorBar) {\n          switch (settings.color.mode) {\n          case 'h':\n            colorBar.val('y', 360 - (ui.val('h') || 0), context);\n            break;\n          case 's': {\n            const s = ui.val('s');\n            colorBar.val('y', 100 - (!isNullish(s) ? s : 100), context);\n            break;\n          } case 'v': {\n            const v = ui.val('v');\n            colorBar.val('y', 100 - (!isNullish(v) ? v : 100), context);\n            break;\n          } case 'r':\n            colorBar.val('y', 255 - (ui.val('r') || 0), context);\n            break;\n          case 'g':\n            colorBar.val('y', 255 - (ui.val('g') || 0), context);\n            break;\n          case 'b':\n            colorBar.val('y', 255 - (ui.val('b') || 0), context);\n            break;\n          case 'a': {\n            const a = ui.val('a');\n            colorBar.val('y', 255 - (!isNullish(a) ? a : 255), context);\n            break;\n          }\n          }\n        }\n      }\n      /**\n      * @param {external:jQuery} ui\n      * @returns {void}\n      */\n      function updatePreview (ui) {\n        try {\n          const all = ui.val('all');\n          activePreview.css({backgroundColor: (all && '#' + all.hex) || 'transparent'});\n          setAlpha.call(that, activePreview, (all && toFixedNumeric((all.a * 100) / 255, 4)) || 0);\n        } catch (e) { }\n      }\n      /**\n      * @param {external:jQuery} ui\n      * @returns {void}\n      */\n      function updateMapVisuals (ui) {\n        switch (settings.color.mode) {\n        case 'h':\n          setBG.call(that, colorMapDiv, new Color({h: ui.val('h') || 0, s: 100, v: 100}).val('hex'));\n          break;\n        case 's':\n        case 'a': {\n          const s = ui.val('s');\n          setAlpha.call(that, colorMapL2, 100 - (!isNullish(s) ? s : 100));\n          break;\n        } case 'v': {\n          const v = ui.val('v');\n          setAlpha.call(that, colorMapL1, !isNullish(v) ? v : 100);\n          break;\n        } case 'r':\n          setAlpha.call(that, colorMapL2, toFixedNumeric((ui.val('r') || 0) / 255 * 100, 4));\n          break;\n        case 'g':\n          setAlpha.call(that, colorMapL2, toFixedNumeric((ui.val('g') || 0) / 255 * 100, 4));\n          break;\n        case 'b':\n          setAlpha.call(that, colorMapL2, toFixedNumeric((ui.val('b') || 0) / 255 * 100));\n          break;\n        }\n        const a = ui.val('a');\n        setAlpha.call(that, colorMapL3, toFixedNumeric(((255 - (a || 0)) * 100) / 255, 4));\n      }\n      /**\n      * @param {external:jQuery} ui\n      * @returns {void}\n      */\n      function updateBarVisuals (ui) {\n        switch (settings.color.mode) {\n        case 'h': {\n          const a = ui.val('a');\n          setAlpha.call(that, colorBarL5, toFixedNumeric(((255 - (a || 0)) * 100) / 255, 4));\n          break;\n        } case 's': {\n          const hva = ui.val('hva'),\n            saturatedColor = new Color({h: (hva && hva.h) || 0, s: 100, v: !isNullish(hva) ? hva.v : 100});\n          setBG.call(that, colorBarDiv, saturatedColor.val('hex'));\n          setAlpha.call(that, colorBarL2, 100 - (!isNullish(hva) ? hva.v : 100));\n          setAlpha.call(that, colorBarL5, toFixedNumeric(((255 - ((hva && hva.a) || 0)) * 100) / 255, 4));\n          break;\n        } case 'v': {\n          const hsa = ui.val('hsa'),\n            valueColor = new Color({h: (hsa && hsa.h) || 0, s: !isNullish(hsa) ? hsa.s : 100, v: 100});\n          setBG.call(that, colorBarDiv, valueColor.val('hex'));\n          setAlpha.call(that, colorBarL5, toFixedNumeric(((255 - ((hsa && hsa.a) || 0)) * 100) / 255, 4));\n          break;\n        } case 'r':\n        case 'g':\n        case 'b': {\n          const rgba = ui.val('rgba');\n          let hValue = 0, vValue = 0;\n          if (settings.color.mode === 'r') {\n            hValue = (rgba && rgba.b) || 0;\n            vValue = (rgba && rgba.g) || 0;\n          } else if (settings.color.mode === 'g') {\n            hValue = (rgba && rgba.b) || 0;\n            vValue = (rgba && rgba.r) || 0;\n          } else if (settings.color.mode === 'b') {\n            hValue = (rgba && rgba.r) || 0;\n            vValue = (rgba && rgba.g) || 0;\n          }\n          const middle = vValue > hValue ? hValue : vValue;\n          setAlpha.call(that, colorBarL2, hValue > vValue ? toFixedNumeric(((hValue - vValue) / (255 - vValue)) * 100, 4) : 0);\n          setAlpha.call(that, colorBarL3, vValue > hValue ? toFixedNumeric(((vValue - hValue) / (255 - hValue)) * 100, 4) : 0);\n          setAlpha.call(that, colorBarL4, toFixedNumeric((middle / 255) * 100, 4));\n          setAlpha.call(that, colorBarL5, toFixedNumeric(((255 - ((rgba && rgba.a) || 0)) * 100) / 255, 4));\n          break;\n        } case 'a': {\n          const a = ui.val('a');\n          setBG.call(that, colorBarDiv, ui.val('hex') || '000000');\n          setAlpha.call(that, colorBarL5, !isNullish(a) ? 0 : 100);\n          setAlpha.call(that, colorBarL6, !isNullish(a) ? 100 : 0);\n          break;\n        }\n        }\n      }\n      /**\n      * @param {external:jQuery} el\n      * @param {string} [c=\"transparent\"]\n      * @returns {void}\n      */\n      function setBG (el, c) {\n        el.css({backgroundColor: (c && c.length === 6 && '#' + c) || 'transparent'});\n      }\n\n      /**\n      * @param {external:jQuery} img\n      * @param {string} src The image source\n      * @returns {void}\n      */\n      function setImg (img, src) {\n        if (isLessThanIE7 && (src.includes('AlphaBar.png') || src.includes('Bars.png') || src.includes('Maps.png'))) {\n          img.attr('pngSrc', src);\n          img.css({backgroundImage: 'none', filter: 'progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\\'' + src + '\\', sizingMethod=\\'scale\\')'});\n        } else img.css({backgroundImage: 'url(\\'' + src + '\\')'});\n      }\n      /**\n      * @param {external:jQuery} img\n      * @param {Float} y\n      * @returns {void}\n      */\n      function setImgLoc (img, y) {\n        img.css({top: y + 'px'});\n      }\n      /**\n      * @param {external:jQuery} obj\n      * @param {Float} alpha\n      * @returns {void}\n      */\n      function setAlpha (obj, alpha) {\n        obj.css({visibility: alpha > 0 ? 'visible' : 'hidden'});\n        if (alpha > 0 && alpha < 100) {\n          if (isLessThanIE7) {\n            const src = obj.attr('pngSrc');\n            if (!isNullish(src) && (\n              src.includes('AlphaBar.png') || src.includes('Bars.png') || src.includes('Maps.png')\n            )) {\n              obj.css({\n                filter: 'progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\\'' + src +\n                  '\\', sizingMethod=\\'scale\\') progid:DXImageTransform.Microsoft.Alpha(opacity=' + alpha + ')'\n              });\n            } else obj.css({opacity: toFixedNumeric(alpha / 100, 4)});\n          } else obj.css({opacity: toFixedNumeric(alpha / 100, 4)});\n        } else if (alpha === 0 || alpha === 100) {\n          if (isLessThanIE7) {\n            const src = obj.attr('pngSrc');\n            if (!isNullish(src) && (\n              src.includes('AlphaBar.png') || src.includes('Bars.png') || src.includes('Maps.png')\n            )) {\n              obj.css({\n                filter: 'progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\\'' + src +\n                '\\', sizingMethod=\\'scale\\')'\n              });\n            } else obj.css({opacity: ''});\n          } else obj.css({opacity: ''});\n        }\n      }\n\n      /**\n      * Revert color to original color when opened.\n      * @returns {void}\n      */\n      function revertColor () {\n        color.active.val('ahex', color.current.val('ahex'));\n      }\n      /**\n      * Commit the color changes.\n      * @returns {void}\n      */\n      function commitColor () {\n        color.current.val('ahex', color.active.val('ahex'));\n      }\n      /**\n      * @param {Event} e\n      * @returns {void}\n      */\n      function radioClicked (e) {\n        $(this).parents('tbody:first').find('input:radio[value!=\"' + e.target.value + '\"]').removeAttr('checked');\n        setColorMode.call(that, e.target.value);\n      }\n      /**\n      *\n      * @returns {void}\n      */\n      function currentClicked () {\n        revertColor.call(that);\n      }\n      /**\n      *\n      * @returns {void}\n      */\n      function cancelClicked () {\n        revertColor.call(that);\n        settings.window.expandable && hide.call(that);\n        typeof cancelCallback === 'function' && cancelCallback.call(that, color.active, cancelButton);\n      }\n      /**\n      *\n      * @returns {void}\n      */\n      function okClicked () {\n        commitColor.call(that);\n        settings.window.expandable && hide.call(that);\n        typeof commitCallback === 'function' && commitCallback.call(that, color.active, okButton);\n      }\n      /**\n      *\n      * @returns {void}\n      */\n      function iconImageClicked () {\n        show.call(that);\n      }\n      /**\n      * @param {external:jQuery} ui\n      * @returns {void}\n      */\n      function currentColorChanged (ui) {\n        const hex = ui.val('hex');\n        currentPreview.css({backgroundColor: (hex && '#' + hex) || 'transparent'});\n        setAlpha.call(that, currentPreview, toFixedNumeric(((ui.val('a') || 0) * 100) / 255, 4));\n      }\n      /**\n      * @param {external:jQuery} ui\n      * @returns {void}\n      */\n      function expandableColorChanged (ui) {\n        const hex = ui.val('hex');\n        const va = ui.val('va');\n        iconColor.css({backgroundColor: (hex && '#' + hex) || 'transparent'});\n        setAlpha.call(that, iconAlpha, toFixedNumeric(((255 - ((va && va.a) || 0)) * 100) / 255, 4));\n        if (settings.window.bindToInput && settings.window.updateInputColor) {\n          settings.window.input.css({\n            backgroundColor: (hex && '#' + hex) || 'transparent',\n            color: isNullish(va) || va.v > 75 ? '#000000' : '#ffffff'\n          });\n        }\n      }\n      /**\n      * @param {Event} e\n      * @returns {void}\n      */\n      function moveBarMouseDown (e) {\n        // const {element} = settings.window, // local copies for YUI compressor\n        //     {page} = settings.window;\n        elementStartX = Number.parseInt(container.css('left'));\n        elementStartY = Number.parseInt(container.css('top'));\n        pageStartX = e.pageX;\n        pageStartY = e.pageY;\n        // bind events to document to move window - we will unbind these on mouseup\n        $(document).bind('mousemove', documentMouseMove).bind('mouseup', documentMouseUp);\n        e.preventDefault(); // prevent attempted dragging of the column\n      }\n      /**\n      * @param {Event} e\n      * @returns {false}\n      */\n      function documentMouseMove (e) {\n        container.css({\n          left: elementStartX - (pageStartX - e.pageX) + 'px',\n          top: elementStartY - (pageStartY - e.pageY) + 'px'\n        });\n        if (settings.window.expandable && !$.support.boxModel) {\n          container.prev().css({\n            left: container.css('left'),\n            top: container.css('top')\n          });\n        }\n        e.stopPropagation();\n        e.preventDefault();\n        return false;\n      }\n      /**\n      * @param {Event} e\n      * @returns {false}\n      */\n      function documentMouseUp (e) {\n        $(document).unbind('mousemove', documentMouseMove).unbind('mouseup', documentMouseUp);\n        e.stopPropagation();\n        e.preventDefault();\n        return false;\n      }\n      /**\n      * @param {Event} e\n      * @returns {false}\n      */\n      function quickPickClicked (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        color.active.val('ahex', $(this).attr('title') || null, e.target);\n        return false;\n      }\n      /**\n      *\n      * @returns {void}\n      */\n      function show () {\n        color.current.val('ahex', color.active.val('ahex'));\n        /**\n        *\n        * @returns {void}\n        */\n        function attachIFrame () {\n          if (!settings.window.expandable || $.support.boxModel) return;\n          const table = container.find('table:first');\n          container.before('<iframe/>');\n          container.prev().css({\n            width: table.width(),\n            height: container.height(),\n            opacity: 0,\n            position: 'absolute',\n            left: container.css('left'),\n            top: container.css('top')\n          });\n        }\n        if (settings.window.expandable) {\n          $(document.body).children('div.jPicker.Container').css({zIndex: 10});\n          container.css({zIndex: 20});\n        }\n        switch (settings.window.effects.type) {\n        case 'fade':\n          container.fadeIn(settings.window.effects.speed.show, attachIFrame);\n          break;\n        case 'slide':\n          container.slideDown(settings.window.effects.speed.show, attachIFrame);\n          break;\n        case 'show':\n        default:\n          container.show(settings.window.effects.speed.show, attachIFrame);\n          break;\n        }\n      }\n      /**\n      *\n      * @returns {void}\n      */\n      function hide () {\n        /**\n        *\n        * @returns {void}\n        */\n        function removeIFrame () {\n          if (settings.window.expandable) container.css({zIndex: 10});\n          if (!settings.window.expandable || $.support.boxModel) return;\n          container.prev().remove();\n        }\n        switch (settings.window.effects.type) {\n        case 'fade':\n          container.fadeOut(settings.window.effects.speed.hide, removeIFrame);\n          break;\n        case 'slide':\n          container.slideUp(settings.window.effects.speed.hide, removeIFrame);\n          break;\n        case 'show':\n        default:\n          container.hide(settings.window.effects.speed.hide, removeIFrame);\n          break;\n        }\n      }\n      /**\n      *\n      * @returns {void}\n      */\n      function initialize () {\n        const win = settings.window,\n          popup = win.expandable ? $(that).next().find('.Container:first') : null;\n        container = win.expandable ? $('<div/>') : $(that);\n        container.addClass('jPicker Container');\n        if (win.expandable) container.hide();\n        container.get(0).onselectstart = function (e) {\n          if (e.target.nodeName.toLowerCase() !== 'input') return false;\n          return true;\n        };\n        // inject html source code - we are using a single table for this control - I know tables are considered bad, but it takes care of equal height columns and\n        // this control really is tabular data, so I believe it is the right move\n        const all = color.active.val('all');\n        if (win.alphaPrecision < 0) win.alphaPrecision = 0;\n        else if (win.alphaPrecision > 2) win.alphaPrecision = 2;\n        const controlHtml = `<table class=\"jPicker\" cellpadding=\"0\" cellspacing=\"0\">\n          <tbody>\n            ${win.expandable ? '<tr><td class=\"Move\" colspan=\"5\">&nbsp;</td></tr>' : ''}\n            <tr>\n              <td rowspan=\"9\"><h2 class=\"Title\">${win.title || localization.text.title}</h2><div class=\"Map\"><span class=\"Map1\">&nbsp;</span><span class=\"Map2\">&nbsp;</span><span class=\"Map3\">&nbsp;</span><img src=\"${images.clientPath + images.colorMap.arrow.file}\" class=\"Arrow\"/></div></td>\n              <td rowspan=\"9\"><div class=\"Bar\"><span class=\"Map1\">&nbsp;</span><span class=\"Map2\">&nbsp;</span><span class=\"Map3\">&nbsp;</span><span class=\"Map4\">&nbsp;</span><span class=\"Map5\">&nbsp;</span><span class=\"Map6\">&nbsp;</span><img src=\"${images.clientPath + images.colorBar.arrow.file}\" class=\"Arrow\"/></div></td>\n              <td colspan=\"2\" class=\"Preview\">${localization.text.newColor}<div><span class=\"Active\" title=\"${localization.tooltips.colors.newColor}\">&nbsp;</span><span class=\"Current\" title=\"${localization.tooltips.colors.currentColor}\">&nbsp;</span></div>${localization.text.currentColor}</td>\n              <td rowspan=\"9\" class=\"Button\"><input type=\"button\" class=\"Ok\" value=\"${localization.text.ok}\" title=\"${localization.tooltips.buttons.ok}\"/><input type=\"button\" class=\"Cancel\" value=\"${localization.text.cancel}\" title=\"${localization.tooltips.buttons.cancel}\"/><hr/><div class=\"Grid\">&nbsp;</div></td>\n            </tr>\n            <tr class=\"Hue\">\n              <td class=\"Radio\"><label title=\"${localization.tooltips.hue.radio}\"><input type=\"radio\" value=\"h\"${settings.color.mode === 'h' ? ' checked=\"checked\"' : ''}/>H:</label></td>\n              <td class=\"Text\"><input type=\"text\" maxlength=\"3\" value=\"${!isNullish(all) ? all.h : ''}\" title=\"${localization.tooltips.hue.textbox}\"/>&nbsp;&deg;</td>\n            </tr>\n            <tr class=\"Saturation\">\n              <td class=\"Radio\"><label title=\"${localization.tooltips.saturation.radio}\"><input type=\"radio\" value=\"s\"${settings.color.mode === 's' ? ' checked=\"checked\"' : ''}/>S:</label></td>\n              <td class=\"Text\"><input type=\"text\" maxlength=\"3\" value=\"${!isNullish(all) ? all.s : ''}\" title=\"${localization.tooltips.saturation.textbox}\"/>&nbsp;%</td>\n            </tr>\n            <tr class=\"Value\">\n              <td class=\"Radio\"><label title=\"${localization.tooltips.value.radio}\"><input type=\"radio\" value=\"v\"${settings.color.mode === 'v' ? ' checked=\"checked\"' : ''}/>V:</label><br/><br/></td>\n              <td class=\"Text\"><input type=\"text\" maxlength=\"3\" value=\"${!isNullish(all) ? all.v : ''}\" title=\"${localization.tooltips.value.textbox}\"/>&nbsp;%<br/><br/></td>\n            </tr>\n            <tr class=\"Red\">\n              <td class=\"Radio\"><label title=\"${localization.tooltips.red.radio}\"><input type=\"radio\" value=\"r\"${settings.color.mode === 'r' ? ' checked=\"checked\"' : ''}/>R:</label></td>\n              <td class=\"Text\"><input type=\"text\" maxlength=\"3\" value=\"${!isNullish(all) ? all.r : ''}\" title=\"${localization.tooltips.red.textbox}\"/></td>\n            </tr>\n            <tr class=\"Green\">\n              <td class=\"Radio\"><label title=\"${localization.tooltips.green.radio}\"><input type=\"radio\" value=\"g\"${settings.color.mode === 'g' ? ' checked=\"checked\"' : ''}/>G:</label></td>\n              <td class=\"Text\"><input type=\"text\" maxlength=\"3\" value=\"${!isNullish(all) ? all.g : ''}\" title=\"${localization.tooltips.green.textbox}\"/></td>\n            </tr>\n            <tr class=\"Blue\">\n              <td class=\"Radio\"><label title=\"${localization.tooltips.blue.radio}\"><input type=\"radio\" value=\"b\"${settings.color.mode === 'b' ? ' checked=\"checked\"' : ''}/>B:</label></td>\n              <td class=\"Text\"><input type=\"text\" maxlength=\"3\" value=\"${!isNullish(all) ? all.b : ''}\" title=\"${localization.tooltips.blue.textbox}\"/></td>\n            </tr>\n            <tr class=\"Alpha\">\n              <td class=\"Radio\">${win.alphaSupport ? `<label title=\"${localization.tooltips.alpha.radio}\"><input type=\"radio\" value=\"a\"${settings.color.mode === 'a' ? ' checked=\"checked\"' : ''}/>A:</label>` : '&nbsp;'}</td>\n              <td class=\"Text\">${win.alphaSupport ? `<input type=\"text\" maxlength=\"${3 + win.alphaPrecision}\" value=\"${!isNullish(all) ? toFixedNumeric((all.a * 100) / 255, win.alphaPrecision) : ''}\" title=\"${localization.tooltips.alpha.textbox}\"/>&nbsp;%` : '&nbsp;'}</td>\n            </tr>\n            <tr class=\"Hex\">\n              <td colspan=\"2\" class=\"Text\"><label title=\"${localization.tooltips.hex.textbox}\">#:<input type=\"text\" maxlength=\"6\" class=\"Hex\" value=\"${!isNullish(all) ? all.hex : ''}\"/></label>${win.alphaSupport ? `<input type=\"text\" maxlength=\"2\" class=\"AHex\" value=\"${!isNullish(all) ? all.ahex.substring(6) : ''}\" title=\"${localization.tooltips.hex.alpha}\"/></td>` : '&nbsp;'}\n            </tr>\n          </tbody></table>`;\n        if (win.expandable) {\n          container.html(controlHtml);\n          if (!$(document.body).children('div.jPicker.Container').length) {\n            $(document.body).prepend(container);\n          } else {\n            $(document.body).children('div.jPicker.Container:last').after(container);\n          }\n          container.mousedown(\n            function () {\n              $(document.body).children('div.jPicker.Container').css({zIndex: 10});\n              container.css({zIndex: 20});\n            }\n          );\n          container.css( // positions must be set and display set to absolute before source code injection or IE will size the container to fit the window\n            {\n              left:\n                win.position.x === 'left'\n                  ? (popup.offset().left - 530 - (win.position.y === 'center' ? 25 : 0)) + 'px'\n                  : win.position.x === 'center'\n                    ? (popup.offset().left - 260) + 'px'\n                    : win.position.x === 'right'\n                      ? (popup.offset().left - 10 + (win.position.y === 'center' ? 25 : 0)) + 'px'\n                      : win.position.x === 'screenCenter'\n                        ? (($(document).width() >> 1) - 260) + 'px'\n                        : (popup.offset().left + Number.parseInt(win.position.x)) + 'px',\n              position: 'absolute',\n              top: win.position.y === 'top'\n                ? (popup.offset().top - 312) + 'px'\n                : win.position.y === 'center'\n                  ? (popup.offset().top - 156) + 'px'\n                  : win.position.y === 'bottom'\n                    ? (popup.offset().top + 25) + 'px'\n                    : (popup.offset().top + Number.parseInt(win.position.y)) + 'px'\n            }\n          );\n        } else {\n          container = $(that);\n          container.html(controlHtml);\n        }\n        // initialize the objects to the source code just injected\n        const tbody = container.find('tbody:first');\n        colorMapDiv = tbody.find('div.Map:first');\n        colorBarDiv = tbody.find('div.Bar:first');\n        const MapMaps = colorMapDiv.find('span');\n        const BarMaps = colorBarDiv.find('span');\n        colorMapL1 = MapMaps.filter('.Map1:first');\n        colorMapL2 = MapMaps.filter('.Map2:first');\n        colorMapL3 = MapMaps.filter('.Map3:first');\n        colorBarL1 = BarMaps.filter('.Map1:first');\n        colorBarL2 = BarMaps.filter('.Map2:first');\n        colorBarL3 = BarMaps.filter('.Map3:first');\n        colorBarL4 = BarMaps.filter('.Map4:first');\n        colorBarL5 = BarMaps.filter('.Map5:first');\n        colorBarL6 = BarMaps.filter('.Map6:first');\n        // create color pickers and maps\n        colorMap = new Slider(\n          colorMapDiv,\n          {\n            map: {\n              width: images.colorMap.width,\n              height: images.colorMap.height\n            },\n            arrow: {\n              image: images.clientPath + images.colorMap.arrow.file,\n              width: images.colorMap.arrow.width,\n              height: images.colorMap.arrow.height\n            }\n          }\n        );\n        colorMap.bind(mapValueChanged);\n        colorBar = new Slider(\n          colorBarDiv,\n          {\n            map: {\n              width: images.colorBar.width,\n              height: images.colorBar.height\n            },\n            arrow: {\n              image: images.clientPath + images.colorBar.arrow.file,\n              width: images.colorBar.arrow.width,\n              height: images.colorBar.arrow.height\n            }\n          }\n        );\n        colorBar.bind(colorBarValueChanged);\n        colorPicker = new ColorValuePicker(\n          tbody,\n          color.active,\n          win.expandable && win.bindToInput ? win.input : null,\n          win.alphaPrecision\n        );\n        const hex = !isNullish(all) ? all.hex : null,\n          preview = tbody.find('.Preview'),\n          button = tbody.find('.Button');\n        activePreview = preview.find('.Active:first').css({backgroundColor: (hex && '#' + hex) || 'transparent'});\n        currentPreview = preview.find('.Current:first').css({backgroundColor: (hex && '#' + hex) || 'transparent'}).bind('click', currentClicked);\n        setAlpha.call(that, currentPreview, toFixedNumeric((color.current.val('a') * 100) / 255, 4));\n        okButton = button.find('.Ok:first').bind('click', okClicked);\n        cancelButton = button.find('.Cancel:first').bind('click', cancelClicked);\n        grid = button.find('.Grid:first');\n        setTimeout(function () {\n          setImg.call(that, colorMapL1, images.clientPath + 'Maps.png');\n          setImg.call(that, colorMapL2, images.clientPath + 'Maps.png');\n          setImg.call(that, colorMapL3, images.clientPath + 'map-opacity.png');\n          setImg.call(that, colorBarL1, images.clientPath + 'Bars.png');\n          setImg.call(that, colorBarL2, images.clientPath + 'Bars.png');\n          setImg.call(that, colorBarL3, images.clientPath + 'Bars.png');\n          setImg.call(that, colorBarL4, images.clientPath + 'Bars.png');\n          setImg.call(that, colorBarL5, images.clientPath + 'bar-opacity.png');\n          setImg.call(that, colorBarL6, images.clientPath + 'AlphaBar.png');\n          setImg.call(that, preview.find('div:first'), images.clientPath + 'preview-opacity.png');\n        }, 0);\n        tbody.find('td.Radio input').bind('click', radioClicked);\n        // initialize quick list\n        if (color.quickList && color.quickList.length > 0) {\n          let html = '';\n          for (let i = 0; i < color.quickList.length; i++) {\n            /* if default colors are hex strings, change them to color objects */\n            if ((typeof (color.quickList[i])).toString().toLowerCase() === 'string') {\n              color.quickList[i] = new Color({hex: color.quickList[i]});\n            }\n            const alpha = color.quickList[i].val('a');\n            let ahex = color.quickList[i].val('ahex');\n            if (!win.alphaSupport && ahex) ahex = ahex.substring(0, 6) + 'ff';\n            const quickHex = color.quickList[i].val('hex');\n            if (!ahex) ahex = '00000000';\n            html += '<span class=\"QuickColor\"' + (' title=\"#' + ahex + '\"') + ' style=\"background-color:' + ((quickHex && '#' + quickHex) || '') + ';' + (quickHex ? '' : 'background-image:url(' + images.clientPath + 'NoColor.png)') + (win.alphaSupport && alpha && alpha < 255 ? ';opacity:' + toFixedNumeric(alpha / 255, 4) + ';filter:Alpha(opacity=' + toFixedNumeric(alpha / 2.55, 4) + ')' : '') + '\">&nbsp;</span>';\n          }\n          setImg.call(that, grid, images.clientPath + 'bar-opacity.png');\n          grid.html(html);\n          grid.find('.QuickColor').click(quickPickClicked);\n        }\n        setColorMode.call(that, settings.color.mode);\n        color.active.bind(activeColorChanged);\n        typeof liveCallback === 'function' && color.active.bind(liveCallback);\n        color.current.bind(currentColorChanged);\n        // bind to input\n        if (win.expandable) {\n          that.icon = popup.parents('.Icon:first');\n          iconColor = that.icon.find('.Color:first').css({backgroundColor: (hex && '#' + hex) || 'transparent'});\n          iconAlpha = that.icon.find('.Alpha:first');\n          setImg.call(that, iconAlpha, images.clientPath + 'bar-opacity.png');\n          setAlpha.call(that, iconAlpha, toFixedNumeric(((255 - (!isNullish(all) ? all.a : 0)) * 100) / 255, 4));\n          iconImage = that.icon.find('.Image:first').css({\n            backgroundImage: 'url(\\'' + images.clientPath + images.picker.file + '\\')'\n          }).bind('click', iconImageClicked);\n          if (win.bindToInput && win.updateInputColor) {\n            win.input.css({\n              backgroundColor: (hex && '#' + hex) || 'transparent',\n              color: isNullish(all) || all.v > 75 ? '#000000' : '#ffffff'\n            });\n          }\n          moveBar = tbody.find('.Move:first').bind('mousedown', moveBarMouseDown);\n          color.active.bind(expandableColorChanged);\n        } else show.call(that);\n      }\n      /**\n      *\n      * @returns {void}\n      */\n      function destroy () {\n        container.find('td.Radio input').unbind('click', radioClicked);\n        currentPreview.unbind('click', currentClicked);\n        cancelButton.unbind('click', cancelClicked);\n        okButton.unbind('click', okClicked);\n        if (settings.window.expandable) {\n          iconImage.unbind('click', iconImageClicked);\n          moveBar.unbind('mousedown', moveBarMouseDown);\n          that.icon = null;\n        }\n        container.find('.QuickColor').unbind('click', quickPickClicked);\n        colorMapDiv = null;\n        colorBarDiv = null;\n        colorMapL1 = null;\n        colorMapL2 = null;\n        colorMapL3 = null;\n        colorBarL1 = null;\n        colorBarL2 = null;\n        colorBarL3 = null;\n        colorBarL4 = null;\n        colorBarL5 = null;\n        colorBarL6 = null;\n        colorMap.destroy();\n        colorMap = null;\n        colorBar.destroy();\n        colorBar = null;\n        colorPicker.destroy();\n        colorPicker = null;\n        activePreview = null;\n        currentPreview = null;\n        okButton = null;\n        cancelButton = null;\n        grid = null;\n        commitCallback = null;\n        cancelCallback = null;\n        liveCallback = null;\n        container.html('');\n        for (let i = 0; i < List.length; i++) {\n          if (List[i] === that) {\n            List.splice(i, 1);\n            i--; // Decrement to ensure we don't miss next item (lgtm warning)\n          }\n        }\n      }\n      const {images, localization} = settings; // local copies for YUI compressor\n      const color = {\n        active: (typeof settings.color.active).toString().toLowerCase() === 'string'\n          ? new Color({ahex: !settings.window.alphaSupport && settings.color.active\n            ? settings.color.active.substring(0, 6) + 'ff'\n            : settings.color.active\n          })\n          : new Color({ahex: !settings.window.alphaSupport &&\n              settings.color.active.val('ahex')\n            ? settings.color.active.val('ahex').substring(0, 6) + 'ff'\n            : settings.color.active.val('ahex')\n          }),\n        current: (typeof settings.color.active).toString().toLowerCase() === 'string'\n          ? new Color({ahex: !settings.window.alphaSupport && settings.color.active\n            ? settings.color.active.substring(0, 6) + 'ff'\n            : settings.color.active})\n          : new Color({ahex: !settings.window.alphaSupport &&\n              settings.color.active.val('ahex')\n            ? settings.color.active.val('ahex').substring(0, 6) + 'ff'\n            : settings.color.active.val('ahex')\n          }),\n        quickList: settings.color.quickList\n      };\n\n      if (typeof commitCallback !== 'function') {\n        commitCallback = null;\n      }\n      if (typeof liveCallback !== 'function') {\n        liveCallback = null;\n      }\n      if (typeof cancelCallback !== 'function') {\n        cancelCallback = null;\n      }\n\n      let elementStartX = null, // Used to record the starting css positions for dragging the control\n        elementStartY = null,\n        pageStartX = null, // Used to record the mousedown coordinates for dragging the control\n        pageStartY = null,\n        container = null,\n        colorMapDiv = null,\n        colorBarDiv = null,\n        colorMapL1 = null, // different layers of colorMap and colorBar\n        colorMapL2 = null,\n        colorMapL3 = null,\n        colorBarL1 = null,\n        colorBarL2 = null,\n        colorBarL3 = null,\n        colorBarL4 = null,\n        colorBarL5 = null,\n        colorBarL6 = null,\n        colorMap = null, // color maps\n        colorBar = null,\n        colorPicker = null,\n        activePreview = null, // color boxes above the radio buttons\n        currentPreview = null,\n        okButton = null,\n        cancelButton = null,\n        grid = null, // preset colors grid\n        iconColor = null, // iconColor for popup icon\n        iconAlpha = null, // iconAlpha for popup icon\n        iconImage = null, // iconImage popup icon\n        moveBar = null; // drag bar\n\n      $.extend(true, that, {\n        // public properties, methods, and callbacks\n        commitCallback, // commitCallback function can be overridden to return the selected color to a method you specify when the user clicks \"OK\"\n        liveCallback, // liveCallback function can be overridden to return the selected color to a method you specify in live mode (continuous update)\n        cancelCallback, // cancelCallback function can be overridden to a method you specify when the user clicks \"Cancel\"\n        color,\n        show,\n        hide,\n        destroy // destroys this control entirely, removing all events and objects, and removing itself from the List\n      });\n      List.push(that);\n      setTimeout(function () {\n        initialize.call(that);\n      }, 0);\n    });\n  };\n  /**\n  * @typedef {PlainObject} external:jQuery.fn.jPickerOptionsIconInfo\n  * @property {string} file Color Map/Color Bar/Color Picker arrow icon\n  * @property {Float} width\n  * @property {Float} height\n  */\n  /**\n  * @typedef {PlainObject} external:jQuery.fn.jPickerOptionsImagesDimensionsArrow\n  * @property {Float} width\n  * @property {Float} height\n  * @property {external:jQuery.fn.jPickerOptionsIconInfo} arrow\n  */\n  /**\n  * @typedef {PlainObject} external:jQuery.fn.jPickerOptionsRadioTextboxLocale\n  * @property {string} radio\n  * @property {string} textbox\n  */\n  /**\n  * @typedef {PlainObject} external:jQuery.fn.jPickerOptions\n  * @property {PlainObject} window\n  * @property {string|null} window.title Any title for the jPicker window itself - displays\n  * \"Drag Markers To Pick A Color\" if left null\n  * @property {PlainObject} window.effects\n  * @property {\"slide\"|\"show\"|\"fade\"} window.effects.type Effect used to show/hide an expandable picker\n  * @property {PlainObject} window.effects.speed\n  * @property {\"fast\"|\"slow\"|Float} window.effects.speed.show Duration of \"show\" effect. Time in milliseconds.\n  * @property {\"fast\"|\"slow\"|Float} window.effects.speed.hide Duration of \"hide\" effect. Time in milliseconds\n  * @property {PlainObject} window.position\n  * @property {\"left\"|\"center\"|\"right\"|\"screenCenter\"|Float} window.position.x Relative px value\n  * @property {\"top\"|\"bottom\"|\"center\"|Float} window.position.y Relative px value\n  * @property {boolean} window.expandable Defaults to large static picker - set to `true` to make an expandable\n  * picker (small icon with popup) - set automatically when binded to input element; added by `$.fn.jPicker`\n  * @property {boolean} window.liveUpdate Set `false` if you want the user to have to click \"OK\" before the\n  * binded input box updates values (always `true` for expandable picker)\n  * @property {boolean} window.alphaSupport Set to `true` to enable alpha picking\n  * @property {Float} window.alphaPrecision Set decimal precision for alpha percentage display - hex codes do\n  * not map directly to percentage integers - range 0-2\n  * @property {boolean} window.updateInputColor Set to `false` to prevent binded input colors from changing\n  * @property {boolean} [window.bindToInput] Added by `$.fn.jPicker`\n  * @property {external:jQuery} [window.input] Added by `$.fn.jPicker`\n  * @property {PlainObject} color\n  * @property {\"h\"|\"s\"|\"v\"|\"r\"|\"g\"|\"b\"|\"a\"} color.mode Symbols stand for \"h\" (hue), \"s\" (saturation), \"v\" (value), \"r\" (red), \"g\" (green), \"b\" (blue), \"a\" (alpha)\n  * @property {Color|string} color.active Strings are HEX values (e.g. #ffc000) WITH OR WITHOUT the \"#\" prefix\n  * @property {Color[]|string[]} color.quickList The quick pick color list\n  * Strings are HEX values (e.g. #ffc000) WITH OR WITHOUT the \"#\" prefix\n  * @property {PlainObject} images\n  * @property {string} images.clientPath Path to image files\n  * @property {external:jQuery.fn.jPickerOptionsImagesDimensionsArrow} images.colorMap\n  * @property {external:jQuery.fn.jPickerOptionsImagesDimensionsArrow} images.colorBar\n  * @property {external:jQuery.fn.jPickerOptionsIconInfo} images.picker\n  * @property {PlainObject} localization alter these to change the text presented by the picker (e.g. different language)\n  * @property {PlainObject} localization.text\n  * @property {string} localization.text.title\n  * @property {string} localization.text.newColor\n  * @property {string} localization.text.currentColor\n  * @property {string} localization.text.ok\n  * @property {string} localization.text.cancel\n  * @property {PlainObject} localization.tooltips\n  * @property {PlainObject} localization.tooltips.colors\n  * @property {string} localization.tooltips.colors.newColor\n  * @property {string} localization.tooltips.colors.currentColor\n  * @property {PlainObject} localization.tooltips.buttons\n  * @property {string} localization.tooltips.buttons.ok\n  * @property {string} localization.tooltips.buttons.cancel\n  * @property {external:jQuery.fn.jPickerOptionsRadioTextboxLocale} localization.tooltips.hue\n  * @property {external:jQuery.fn.jPickerOptionsRadioTextboxLocale} localization.tooltips.saturation\n  * @property {external:jQuery.fn.jPickerOptionsRadioTextboxLocale} localization.tooltips.value\n  * @property {external:jQuery.fn.jPickerOptionsRadioTextboxLocale} localization.tooltips.red\n  * @property {external:jQuery.fn.jPickerOptionsRadioTextboxLocale} localization.tooltips.green\n  * @property {external:jQuery.fn.jPickerOptionsRadioTextboxLocale} localization.tooltips.blue\n  * @property {external:jQuery.fn.jPickerOptionsRadioTextboxLocale} localization.tooltips.alpha\n  * @property {PlainObject} localization.tooltips.hex\n  * @property {string} localization.tooltips.hex.textbox\n  * @property {string} localization.tooltips.hex.alpha\n  */\n  /**\n  * The jPicker defaults - you can change anything in this section (such as the\n  * clientPath to your images) without fear of breaking the program.\n  * @namespace {external:jQuery.fn.jPickerOptions} defaults\n  * @memberof external:jQuery.fn.$.fn.jPicker\n  * @borrows external:jQuery.fn.jPickerOptions as external:jQuery.fn.jPicker.defaults\n  * @see Source for all of the values\n  */\n  $.fn.jPicker.defaults = {\n    window: {\n      title: null,\n      effects: {\n        type: 'slide',\n        speed: {\n          show: 'slow',\n          hide: 'fast'\n        }\n      },\n      position: {\n        x: 'screenCenter',\n        y: 'top'\n      },\n      expandable: false,\n      liveUpdate: true,\n      alphaSupport: false,\n      alphaPrecision: 0,\n      updateInputColor: true\n    },\n    color: {\n      mode: 'h',\n      active: new Color({ahex: '#ffcc00ff'}),\n      quickList: [\n        new Color({h: 360, s: 33, v: 100}),\n        new Color({h: 360, s: 66, v: 100}),\n        new Color({h: 360, s: 100, v: 100}),\n        new Color({h: 360, s: 100, v: 75}),\n        new Color({h: 360, s: 100, v: 50}),\n        new Color({h: 180, s: 0, v: 100}),\n        new Color({h: 30, s: 33, v: 100}),\n        new Color({h: 30, s: 66, v: 100}),\n        new Color({h: 30, s: 100, v: 100}),\n        new Color({h: 30, s: 100, v: 75}),\n        new Color({h: 30, s: 100, v: 50}),\n        new Color({h: 180, s: 0, v: 90}),\n        new Color({h: 60, s: 33, v: 100}),\n        new Color({h: 60, s: 66, v: 100}),\n        new Color({h: 60, s: 100, v: 100}),\n        new Color({h: 60, s: 100, v: 75}),\n        new Color({h: 60, s: 100, v: 50}),\n        new Color({h: 180, s: 0, v: 80}),\n        new Color({h: 90, s: 33, v: 100}),\n        new Color({h: 90, s: 66, v: 100}),\n        new Color({h: 90, s: 100, v: 100}),\n        new Color({h: 90, s: 100, v: 75}),\n        new Color({h: 90, s: 100, v: 50}),\n        new Color({h: 180, s: 0, v: 70}),\n        new Color({h: 120, s: 33, v: 100}),\n        new Color({h: 120, s: 66, v: 100}),\n        new Color({h: 120, s: 100, v: 100}),\n        new Color({h: 120, s: 100, v: 75}),\n        new Color({h: 120, s: 100, v: 50}),\n        new Color({h: 180, s: 0, v: 60}),\n        new Color({h: 150, s: 33, v: 100}),\n        new Color({h: 150, s: 66, v: 100}),\n        new Color({h: 150, s: 100, v: 100}),\n        new Color({h: 150, s: 100, v: 75}),\n        new Color({h: 150, s: 100, v: 50}),\n        new Color({h: 180, s: 0, v: 50}),\n        new Color({h: 180, s: 33, v: 100}),\n        new Color({h: 180, s: 66, v: 100}),\n        new Color({h: 180, s: 100, v: 100}),\n        new Color({h: 180, s: 100, v: 75}),\n        new Color({h: 180, s: 100, v: 50}),\n        new Color({h: 180, s: 0, v: 40}),\n        new Color({h: 210, s: 33, v: 100}),\n        new Color({h: 210, s: 66, v: 100}),\n        new Color({h: 210, s: 100, v: 100}),\n        new Color({h: 210, s: 100, v: 75}),\n        new Color({h: 210, s: 100, v: 50}),\n        new Color({h: 180, s: 0, v: 30}),\n        new Color({h: 240, s: 33, v: 100}),\n        new Color({h: 240, s: 66, v: 100}),\n        new Color({h: 240, s: 100, v: 100}),\n        new Color({h: 240, s: 100, v: 75}),\n        new Color({h: 240, s: 100, v: 50}),\n        new Color({h: 180, s: 0, v: 20}),\n        new Color({h: 270, s: 33, v: 100}),\n        new Color({h: 270, s: 66, v: 100}),\n        new Color({h: 270, s: 100, v: 100}),\n        new Color({h: 270, s: 100, v: 75}),\n        new Color({h: 270, s: 100, v: 50}),\n        new Color({h: 180, s: 0, v: 10}),\n        new Color({h: 300, s: 33, v: 100}),\n        new Color({h: 300, s: 66, v: 100}),\n        new Color({h: 300, s: 100, v: 100}),\n        new Color({h: 300, s: 100, v: 75}),\n        new Color({h: 300, s: 100, v: 50}),\n        new Color({h: 180, s: 0, v: 0}),\n        new Color({h: 330, s: 33, v: 100}),\n        new Color({h: 330, s: 66, v: 100}),\n        new Color({h: 330, s: 100, v: 100}),\n        new Color({h: 330, s: 100, v: 75}),\n        new Color({h: 330, s: 100, v: 50}),\n        new Color()\n      ]\n    },\n    images: {\n      clientPath: '/jPicker/images/',\n      colorMap: {\n        width: 256,\n        height: 256,\n        arrow: {\n          file: 'mappoint.gif',\n          width: 15,\n          height: 15\n        }\n      },\n      colorBar: {\n        width: 20,\n        height: 256,\n        arrow: {\n          file: 'rangearrows.gif',\n          width: 20,\n          height: 7\n        }\n      },\n      picker: {\n        file: 'picker.gif',\n        width: 25,\n        height: 24\n      }\n    },\n    localization: {\n      text: {\n        title: 'Drag Markers To Pick A Color',\n        newColor: 'new',\n        currentColor: 'current',\n        ok: 'OK',\n        cancel: 'Cancel'\n      },\n      tooltips: {\n        colors: {\n          newColor: 'New Color - Press &ldquo;OK&rdquo; To Commit',\n          currentColor: 'Click To Revert To Original Color'\n        },\n        buttons: {\n          ok: 'Commit To This Color Selection',\n          cancel: 'Cancel And Revert To Original Color'\n        },\n        hue: {\n          radio: 'Set To &ldquo;Hue&rdquo; Color Mode',\n          textbox: 'Enter A &ldquo;Hue&rdquo; Value (0-360&deg;)'\n        },\n        saturation: {\n          radio: 'Set To &ldquo;Saturation&rdquo; Color Mode',\n          textbox: 'Enter A &ldquo;Saturation&rdquo; Value (0-100%)'\n        },\n        value: {\n          radio: 'Set To &ldquo;Value&rdquo; Color Mode',\n          textbox: 'Enter A &ldquo;Value&rdquo; Value (0-100%)'\n        },\n        red: {\n          radio: 'Set To &ldquo;Red&rdquo; Color Mode',\n          textbox: 'Enter A &ldquo;Red&rdquo; Value (0-255)'\n        },\n        green: {\n          radio: 'Set To &ldquo;Green&rdquo; Color Mode',\n          textbox: 'Enter A &ldquo;Green&rdquo; Value (0-255)'\n        },\n        blue: {\n          radio: 'Set To &ldquo;Blue&rdquo; Color Mode',\n          textbox: 'Enter A &ldquo;Blue&rdquo; Value (0-255)'\n        },\n        alpha: {\n          radio: 'Set To &ldquo;Alpha&rdquo; Color Mode',\n          textbox: 'Enter A &ldquo;Alpha&rdquo; Value (0-100)'\n        },\n        hex: {\n          textbox: 'Enter A &ldquo;Hex&rdquo; Color Value (#000000-#ffffff)',\n          alpha: 'Enter A &ldquo;Alpha&rdquo; Value (#00-#ff)'\n        }\n      }\n    }\n  };\n  return $;\n};\n\nexport default jPicker;\n","/* globals jQuery */\n/**\n * Localizing script for SVG-edit UI.\n * @module locale\n * @license MIT\n *\n * @copyright 2010 Narendra Sisodya\n * @copyright 2010 Alexis Deveria\n *\n */\n\n/**\n * Used, for example, in the ImageLibs extension, to present libraries\n * (with name/URL/description) in order.\n * @typedef {GenericArray<module:locale.LocaleStrings>} module:locale.LocaleArray\n*/\n/**\n * The string keys of the object are two-letter language codes.\n * @tutorial LocaleDocs\n * @typedef {PlainObject<string, string|module:locale.LocaleStrings|module:locale.LocaleArray>} module:locale.LocaleStrings\n */\n// keyed to an array of objects with \"id\" and \"title\" or \"textContent\" properties\n/**\n * @typedef {PlainObject<string, string>} module:locale.LocaleSelectorValue\n */\n\nconst $ = jQuery;\n\nlet langParam;\n\n/**\n * Looks for elements to localize using the supplied `obj` to indicate\n *   on which selectors (or IDs if `ids` is set to `true`) to set its\n *   strings (with selectors relative to the editor root element). All\n *   keys will be translated, but for each selector, only the first item\n *   found matching will be modified.\n * If the type is `content`, the selector-identified element's children\n *   will be checked, and the first (non-empty) text (placeholder) node\n *   found will have its text replaced.\n * If the type is `title`, the element's `title`\n *   property will be set.\n * If the type is `aria-label`, the element's `aria-label` attribute\n *   will be set (i.e., instructions for screen readers when there is\n *   otherwise no visible text to be read for the function of the form\n *   control).\n * @param {\"content\"|\"title\"} type\n * @param {module:locale.LocaleSelectorValue} obj Selectors or IDs keyed to strings\n * @param {boolean} ids\n * @returns {void}\n*/\nexport const setStrings = function (type, obj, ids) {\n  // Root element to look for element from\n  const parent = $('#svg_editor').parent();\n  Object.entries(obj).forEach(([sel, val]) => {\n    if (!val) {\n      console.log(sel); // eslint-disable-line no-console\n      return; // keep old text when has no translation\n    }\n\n    if (ids) { sel = '#' + sel; }\n    const $elem = parent.find(sel);\n    if ($elem.length) {\n      const elem = $elem[0];\n\n      switch (type) {\n      case 'aria-label':\n        elem.setAttribute('aria-label', val);\n        break;\n      case 'content':\n        [...elem.childNodes].some((node) => {\n          if (node.nodeType === 3 /* Node.TEXT_NODE */ &&\n            node.textContent.trim()\n          ) {\n            node.textContent = val;\n            return true;\n          }\n          return false;\n        });\n        break;\n\n      case 'title':\n        elem.title = val;\n        break;\n      }\n    } else {\n      console.log('Missing element for localization: ' + sel); // eslint-disable-line no-console\n    }\n  });\n};\n\n/**\n* The \"data\" property is generally set to an an array of objects with\n*   \"id\" and \"title\" or \"textContent\" properties.\n* @typedef {PlainObject} module:locale.AddLangExtensionLocaleData\n* @property {module:locale.LocaleStrings[]} data See {@tutorial LocaleDocs}\n*/\n\n/**\n* @interface module:locale.LocaleEditorInit\n*/\n/**\n * @function module:locale.LocaleEditorInit#addLangData\n * @param {string} langParam\n * @returns {module:locale.AddLangExtensionLocaleData}\n*/\n\nlet editor_;\n/**\n * Sets the current editor instance (on which `addLangData`) exists.\n * @function init\n * @memberof module:locale\n * @param {module:locale.LocaleEditorInit} editor\n * @returns {void}\n*/\nexport const init = (editor) => {\n  editor_ = editor;\n};\n\n/**\n* @typedef {PlainObject} module:locale.LangAndData\n* @property {string} langParam\n* @property {module:locale.LocaleStrings} langData\n*/\n\n/**\n* @function module:locale.readLang\n* @param {module:locale.LocaleStrings} langData See {@tutorial LocaleDocs}\n* @fires module:svgcanvas.SvgCanvas#event:ext_addLangData\n* @returns {Promise<module:locale.LangAndData>} Resolves to [`LangAndData`]{@link module:locale.LangAndData}\n*/\nexport const readLang = async function (langData) {\n  const more = await editor_.addLangData(langParam);\n  $.each(more, function (i, m) {\n    if (m.data) {\n      langData = $.merge(langData, m.data);\n    }\n  });\n\n  // Old locale file, do nothing for now.\n  if (!langData.tools) { return undefined; }\n\n  const {\n    tools,\n    // misc,\n    properties, config, layers, common, ui\n  } = langData;\n\n  setStrings('content', {\n    // Todo: Add this powered by (probably by default) but with config to remove\n    // copyrightLabel: misc.powered_by, // Currently commented out in svg-editor.html\n    curve_segments: properties.curve_segments,\n    fitToContent: tools.fitToContent,\n    fit_to_all: tools.fit_to_all,\n    fit_to_canvas: tools.fit_to_canvas,\n    fit_to_layer_content: tools.fit_to_layer_content,\n    fit_to_sel: tools.fit_to_sel,\n\n    icon_large: config.icon_large,\n    icon_medium: config.icon_medium,\n    icon_small: config.icon_small,\n    icon_xlarge: config.icon_xlarge,\n    image_opt_embed: config.image_opt_embed,\n    image_opt_ref: config.image_opt_ref,\n    includedImages: config.included_images,\n\n    largest_object: tools.largest_object,\n\n    layersLabel: layers.layers,\n    page: tools.page,\n    relativeToLabel: tools.relativeTo,\n    selLayerLabel: layers.move_elems_to,\n    selectedPredefined: config.select_predefined,\n\n    selected_objects: tools.selected_objects,\n    smallest_object: tools.smallest_object,\n    straight_segments: properties.straight_segments,\n\n    svginfo_bg_url: config.editor_img_url + ':',\n    svginfo_bg_note: config.editor_bg_note,\n    svginfo_change_background: config.background,\n    svginfo_dim: config.doc_dims,\n    svginfo_editor_prefs: config.editor_prefs,\n    svginfo_height: common.height,\n    svginfo_icons: config.icon_size,\n    svginfo_image_props: config.image_props,\n    svginfo_lang: config.language,\n    svginfo_title: config.doc_title,\n    svginfo_width: common.width,\n\n    tool_docprops_cancel: common.cancel,\n    tool_docprops_save: common.ok,\n\n    tool_source_cancel: common.cancel,\n    tool_source_save: common.ok,\n\n    tool_prefs_cancel: common.cancel,\n    tool_prefs_save: common.ok,\n\n    sidepanel_handle: layers.layers.split('').join(' '),\n\n    tool_clear: tools.new_doc,\n    tool_docprops: tools.docprops,\n    tool_export: tools.export_img,\n    tool_import: tools.import_doc,\n    tool_open: tools.open_doc,\n    tool_save: tools.save_doc,\n    tool_editor_prefs: config.editor_prefs,\n    tool_editor_homepage: tools.editor_homepage,\n\n    svginfo_units_rulers: config.units_and_rulers,\n    svginfo_rulers_onoff: config.show_rulers,\n    svginfo_unit: config.base_unit,\n\n    svginfo_grid_settings: config.grid,\n    svginfo_snap_onoff: config.snapping_onoff,\n    svginfo_snap_step: config.snapping_stepsize,\n    svginfo_grid_color: config.grid_color\n  }, true);\n\n  // Context menus\n  const opts = {};\n  [\n    'cut', 'copy', 'paste', 'paste_in_place', 'delete',\n    'group', 'ungroup', 'move_front', 'move_up',\n    'move_down', 'move_back'\n  ].forEach((item) => {\n    opts['#cmenu_canvas a[href=\"#' + item + '\"]'] = tools[item];\n  });\n\n  ['dupe', 'merge_down', 'merge_all'].forEach((item) => {\n    opts['#cmenu_layers a[href=\"#' + item + '\"]'] = layers[item];\n  });\n\n  opts['#cmenu_layers a[href=\"#delete\"]'] = layers.del;\n\n  setStrings('content', opts);\n\n  const ariaLabels = {};\n  Object.entries({\n    tool_blur: properties.blur,\n    tool_position: tools.align_to_page,\n    tool_font_family: properties.font_family,\n    zoom_panel: ui.zoom_level,\n    stroke_linejoin: properties.linejoin_miter,\n    stroke_linecap: properties.linecap_butt,\n    tool_opacity: properties.opacity\n  }).forEach(([id, value]) => {\n    ariaLabels['#' + id + ' button'] = value;\n  });\n  Object.entries({\n    group_opacity: properties.opacity,\n    zoom: ui.zoom_level\n  }).forEach(([id, value]) => {\n    ariaLabels['#' + id] = value;\n  });\n  setStrings('aria-label', ariaLabels);\n\n  setStrings('title', {\n    align_relative_to: tools.align_relative_to,\n    circle_cx: properties.circle_cx,\n    circle_cy: properties.circle_cy,\n    circle_r: properties.circle_r,\n    cornerRadiusLabel: properties.corner_radius,\n    ellipse_cx: properties.ellipse_cx,\n    ellipse_cy: properties.ellipse_cy,\n    ellipse_rx: properties.ellipse_rx,\n    ellipse_ry: properties.ellipse_ry,\n    fill_color: properties.fill_color,\n    font_family: properties.font_family,\n    idLabel: properties.id,\n    image_height: properties.image_height,\n    image_url: properties.image_url,\n    image_width: properties.image_width,\n    layer_delete: layers.del,\n    layer_down: layers.move_down,\n    layer_new: layers.new,\n    layer_rename: layers.rename,\n    layer_moreopts: common.more_opts,\n    layer_up: layers.move_up,\n    line_x1: properties.line_x1,\n    line_x2: properties.line_x2,\n    line_y1: properties.line_y1,\n    line_y2: properties.line_y2,\n    linecap_butt: properties.linecap_butt,\n    linecap_round: properties.linecap_round,\n    linecap_square: properties.linecap_square,\n    linejoin_bevel: properties.linejoin_bevel,\n    linejoin_miter: properties.linejoin_miter,\n    linejoin_round: properties.linejoin_round,\n    main_icon: tools.main_menu,\n    palette: ui.palette_info,\n    zoom_panel: ui.zoom_level,\n    path_node_x: properties.node_x,\n    path_node_y: properties.node_y,\n    rect_height_tool: properties.rect_height,\n    rect_width_tool: properties.rect_width,\n    seg_type: properties.seg_type,\n    selLayerNames: layers.move_selected,\n    selected_x: properties.pos_x,\n    selected_y: properties.pos_y,\n    stroke_color: properties.stroke_color,\n    stroke_style: properties.stroke_style,\n    stroke_width: properties.stroke_width,\n    svginfo_title: config.doc_title,\n    text: properties.text_contents,\n    toggle_stroke_tools: ui.toggle_stroke_tools,\n    tool_add_subpath: tools.add_subpath,\n    tool_alignbottom: tools.align_bottom,\n    tool_aligncenter: tools.align_center,\n    tool_alignleft: tools.align_left,\n    tool_alignmiddle: tools.align_middle,\n    tool_alignright: tools.align_right,\n    tool_aligntop: tools.align_top,\n    tool_angle: properties.angle,\n    tool_blur: properties.blur,\n    tool_bold: properties.bold,\n    tool_circle: tools.mode_circle,\n    tool_clone: tools.clone,\n    tool_clone_multi: tools.clone,\n    tool_delete: tools.del,\n    tool_delete_multi: tools.del,\n    tool_ellipse: tools.mode_ellipse,\n    tool_fhellipse: tools.mode_fhellipse,\n    tool_fhpath: tools.mode_fhpath,\n    tool_fhrect: tools.mode_fhrect,\n    tool_font_size: properties.font_size,\n    tool_group_elements: tools.group_elements,\n    tool_make_link: tools.make_link,\n    tool_link_url: tools.set_link_url,\n    tool_image: tools.mode_image,\n    tool_italic: properties.italic,\n    tool_line: tools.mode_line,\n    tool_move_bottom: tools.move_bottom,\n    tool_move_top: tools.move_top,\n    tool_node_clone: tools.node_clone,\n    tool_node_delete: tools.node_delete,\n    tool_node_link: tools.node_link,\n    tool_opacity: properties.opacity,\n    tool_openclose_path: tools.openclose_path,\n    tool_path: tools.mode_path,\n    tool_position: tools.align_to_page,\n    tool_rect: tools.mode_rect,\n    tool_redo: tools.redo,\n    tool_reorient: tools.reorient_path,\n    tool_select: tools.mode_select,\n    tool_source: tools.source_save,\n    tool_square: tools.mode_square,\n    tool_text: tools.mode_text,\n    tool_topath: tools.to_path,\n    tool_undo: tools.undo,\n    tool_ungroup: tools.ungroup,\n    tool_wireframe: tools.wireframe_mode,\n    tool_zoom: tools.mode_zoom,\n    url_notice: tools.no_embed\n\n  }, true);\n\n  return {langParam, langData};\n};\n\n/**\n *\n * @function module:locale.putLocale\n * @param {string} givenParam\n * @param {string[]} goodLangs\n * @param {{langPath: string}} conf\n * @fires module:svgcanvas.SvgCanvas#event:ext_addLangData\n * @fires module:svgcanvas.SvgCanvas#event:ext_langReady\n * @fires module:svgcanvas.SvgCanvas#event:ext_langChanged\n * @returns {Promise<module:locale.LangAndData>} Resolves to result of {@link module:locale.readLang}\n*/\nexport const putLocale = async function (givenParam, goodLangs, conf) {\n  if (givenParam) {\n    langParam = givenParam;\n  } else if (navigator.userLanguage) { // Explorer\n    langParam = navigator.userLanguage;\n  } else if (navigator.language) { // FF, Opera, ...\n    langParam = navigator.language;\n  }\n\n  console.log('Lang: ' + langParam); // eslint-disable-line no-console\n\n  // Set to English if language is not in list of good langs\n  if (!goodLangs.includes(langParam) && langParam !== 'test') {\n    langParam = 'en';\n  }\n\n  const url = conf.langPath + 'lang.' + langParam + '.js';\n  // eslint-disable-next-line node/no-unsupported-features/es-syntax\n  const module = await import(url);\n  return readLang(module.default);\n};\n","/* globals jQuery */\n/**\n* The main module for the visual SVG Editor.\n*\n* @license MIT\n*\n* @copyright 2010 Alexis Deveria\n* 2010 Pavol Rusnak\n* 2010 Jeff Schiller\n* 2010 Narendra Sisodiya\n* 2014 Brett Zamir\n* @module SVGEditor\n* @borrows module:locale.putLocale as putLocale\n* @borrows module:locale.readLang as readLang\n* @borrows module:locale.setStrings as setStrings\n*/\n\nimport './touch.js';\nimport {NS} from '../common/namespaces.js';\nimport {isWebkit, isChrome, isGecko, isIE, isMac, isTouch} from '../common/browser.js';\n\n// Until we split this into smaller files, this helps distinguish utilities\n//   from local methods\nimport * as Utils from '../common/utilities.js';\nimport {getTypeMap, convertUnit, isValidUnit} from '../common/units.js';\nimport {\n  hasCustomHandler, getCustomHandler, injectExtendedContextMenuItemsIntoDom\n} from './contextmenu.js';\nimport deparam from '../external/deparam/deparam.esm.js';\n\nimport SvgCanvas from '../svgcanvas/svgcanvas.js';\nimport Layer from '../common/layer.js';\n\nimport jQueryPluginJSHotkeys from './js-hotkeys/jquery.hotkeys.min.js';\nimport jQueryPluginSVGIcons from './svgicons/jQuery.svgIcons.js';\nimport jQueryPluginJGraduate from './jgraduate/jQuery.jGraduate.js';\nimport jQueryPluginSpinButton from './spinbtn/jQuery.SpinButton.js';\nimport jQueryPluginSVG from '../common/jQuery.attr.js'; // Needed for SVG attribute setting and array form with `attr`\nimport jQueryPluginContextMenu from './contextmenu/jQuery.contextMenu.js';\nimport jQueryPluginJPicker from './jgraduate/jQuery.jPicker.js';\nimport jQueryPluginDBox from '../svgcanvas/dbox.js';\n\nimport {\n  readLang, putLocale,\n  setStrings,\n  init as localeInit\n} from './locale/locale.js';\n\nconst {$q} = Utils;\n\nconst editor = {};\n\nconst $ = [\n  jQueryPluginJSHotkeys, jQueryPluginSVGIcons, jQueryPluginJGraduate,\n  jQueryPluginSpinButton, jQueryPluginSVG, jQueryPluginContextMenu, jQueryPluginJPicker\n].reduce((jq, func) => func(jq), jQuery);\n\nconst homePage = 'https://github.com/SVG-Edit/svgedit';\n\n// EDITOR PROPERTIES: (defined below)\n//    curPrefs, curConfig, canvas, storage, uiStrings\n//\n// STATE MAINTENANCE PROPERTIES\n/**\n* @type {Float}\n*/\neditor.tool_scale = 1; // Dependent on icon size, so any use to making configurable instead? Used by `jQuery.SpinButton.js`\n/**\n* @type {Integer}\n*/\neditor.exportWindowCt = 0;\n/**\n* @type {boolean}\n*/\neditor.langChanged = false;\n/**\n* @type {boolean}\n*/\neditor.showSaveWarning = false;\n/**\n * Will be set to a boolean by `ext-storage.js`\n * @type {\"ignore\"|\"waiting\"|\"closed\"}\n*/\neditor.storagePromptState = 'ignore';\n\nconst callbacks = [],\n  /**\n  * @typedef {\"s\"|\"m\"|\"l\"|\"xl\"|Float} module:SVGEditor.IconSize\n  */\n  /**\n  * Preferences.\n  * @interface module:SVGEditor.Prefs\n  * @property {string} [lang=\"en\"] Two-letter language code. The language must exist in the Editor Preferences language list. Defaults to \"en\" if `locale.js` detection does not detect another language.\n  * @property {module:SVGEditor.IconSize} [iconsize=\"s\"|\"m\"] Size of the toolbar icons. Will default to 's' if the window height is smaller than the minimum height and 'm' otherwise.\n  * @property {string} [bkgd_color=\"#FFF\"] Color hex for canvas background color. Defaults to white.\n  * @property {string} [bkgd_url=\"\"] Background raster image URL. This image will fill the background of the document; useful for tracing purposes.\n  * @property {\"embed\"|\"ref\"} [img_save=\"embed\"] Defines whether included raster images should be saved as Data URIs when possible, or as URL references. Settable in the Document Properties dialog.\n  * @property {boolean} [save_notice_done=false] Used to track alert status\n  * @property {boolean} [export_notice_done=false] Used to track alert status\n  * @todo `save_notice_done` and `export_notice_done` should be changed to flags rather than preferences\n  */\n  /**\n  * @namespace {module:SVGEditor.Prefs} defaultPrefs\n  * @memberof module:SVGEditor~\n  * @implements {module:SVGEditor.Prefs}\n  */\n  // The iteration algorithm for defaultPrefs does not currently support array/objects\n  defaultPrefs = /** @lends module:SVGEditor~defaultPrefs */ {\n    // EDITOR OPTIONS (DIALOG)\n    /**\n    * Default to \"en\" if locale.js detection does not detect another language.\n    */\n    lang: '',\n    /**\n    * Will default to 's' if the window height is smaller than the minimum\n    * height and 'm' otherwise.\n    */\n    iconsize: '',\n    bkgd_color: '#FFF',\n    bkgd_url: '',\n    // DOCUMENT PROPERTIES (DIALOG)\n    img_save: 'embed',\n    // ALERT NOTICES\n    // Only shows in UI as far as alert notices, but useful to remember, so keeping as pref\n    save_notice_done: false,\n    export_notice_done: false\n  },\n  /**\n  * @name module:SVGEditor~defaultExtensions\n  * @type {string[]}\n  */\n  defaultExtensions = [\n    'ext-connector.js',\n    'ext-eyedropper.js',\n    'ext-grid.js',\n    'ext-imagelib.js',\n    'ext-markers.js',\n    'ext-overview_window.js',\n    'ext-panning.js',\n    'ext-polygon.js',\n    'ext-shapes.js',\n    'ext-star.js',\n    'ext-storage.js'\n  ],\n  /**\n  * @typedef {\"@default\"|string} module:SVGEditor.Stylesheet `@default` will automatically load all of the default CSS paths for SVGEditor\n  */\n  /**\n  * @typedef {GenericArray} module:SVGEditor.XYDimensions\n  * @property {Integer} length 2\n  * @property {Float} 0\n  * @property {Float} 1\n  */\n  /**\n  * @tutorial ConfigOptions\n  * @interface module:SVGEditor.Config\n  * @property {string} [canvasName=\"default\"] Used to namespace storage provided via `ext-storage.js`; you can use this if you wish to have multiple independent instances of SVG Edit on the same domain\n  * @property {boolean} [no_save_warning=false] If `true`, prevents the warning dialog box from appearing when closing/reloading the page. Mostly useful for testing.\n  * @property {string} [imgPath=\"images/\"] The path where the SVG icons are located, with trailing slash. Note that as of version 2.7, this is not configurable by URL for security reasons.\n  * @property {string} [langPath=\"locale/\"] The path where the language files are located, with trailing slash. Default will be changed to `../dist/locale/` if this is a modular load. Note that as of version 2.7, this is not configurable by URL for security reasons.\n  * @property {string} [extPath=\"extensions/\"] The path used for extension files, with trailing slash. Default will be changed to `../dist/extensions/` if this is a modular load. Note that as of version 2.7, this is not configurable by URL for security reasons.\n  * @property {string} [canvgPath=\"canvg/\"] The path used for `canvg` files, with trailing slash. Default will be changed to `../dist/` if this is a modular load.\n  * @property {string} [jspdfPath=\"jspdf/\"] The path used for `jsPDF` files, with trailing slash. Default will be changed to `../dist/` if this is a modular load.\n  * @property {string} [extIconsPath=\"extensions/\"] The path used for extension icons, with trailing slash.\n  * @property {string} [jGraduatePath=\"jgraduate/images/\"] The path where jGraduate images are located. Note that as of version 2.7, this is not configurable by URL for security reasons.\n  * @property {boolean} [preventAllURLConfig=false] Set to `true` to override the ability for URLs to set non-content configuration (including extension config). Must be set early, i.e., in `svgedit-config-iife.js`; extension loading is too late!\n  * @property {boolean} [preventURLContentLoading=false] Set to `true` to override the ability for URLs to set URL-based SVG content. Must be set early, i.e., in `svgedit-config-iife.js`; extension loading is too late!\n  * @property {boolean} [lockExtensions=false] Set to `true` to override the ability for URLs to set their own extensions; disallowed in URL setting. There is no need for this when `preventAllURLConfig` is used. Must be set early, i.e., in `svgedit-config-iife.js`; extension loading is too late!\n  * @property {boolean} [noDefaultExtensions=false] If set to `true`, prohibits automatic inclusion of default extensions (though \"extensions\" can still be used to add back any desired default extensions along with any other extensions). This can only be meaningfully used in `svgedit-config-iife.js` or in the URL\n  * @property {boolean} [noStorageOnLoad=false] Some interaction with `ext-storage.js`; prevent even the loading of previously saved local storage.\n  * @property {boolean} [forceStorage=false] Some interaction with `ext-storage.js`; strongly discouraged from modification as it bypasses user privacy by preventing them from choosing whether to keep local storage or not (and may be required by law in some regions)\n  * @property {boolean} [emptyStorageOnDecline=false] Used by `ext-storage.js`; empty any prior storage if the user declines to store\n  * @property {boolean} [avoidClientSide=false] DEPRECATED (use `avoidClientSideDownload` instead); Used by `ext-server_opensave.js`; set to `true` if you wish to always save to server and not only as fallback when client support is lacking\n  * @property {boolean} [avoidClientSideDownload=false] Used by `ext-server_opensave.js`; set to `true` if you wish to always save to server and not only as fallback when client support is lacking\n  * @property {boolean} [avoidClientSideOpen=false] Used by `ext-server_opensave.js`; set to `true` if you wish to always open from the server and not only as fallback when FileReader client support is lacking\n  * @property {string[]} [extensions=module:SVGEditor~defaultExtensions] Extensions to load on startup. Use an array in `setConfig` and comma separated file names in the URL. Extension names must begin with \"ext-\". Note that as of version 2.7, paths containing \"/\", \"\\\", or \":\", are disallowed for security reasons. Although previous versions of this list would entirely override the default list, as of version 2.7, the defaults will always be added to this explicit list unless the configuration `noDefaultExtensions` is included.\n  * @property {string[]} [allowedOrigins=[]] Used by `ext-xdomain-messaging.js` to indicate which origins are permitted for cross-domain messaging (e.g., between the embedded editor and main editor code). Besides explicit domains, one might add '*' to allow all domains (not recommended for privacy/data integrity of your user's content!), `window.location.origin` for allowing the same origin (should be safe if you trust all apps on your domain), 'null' to allow `file:///` URL usage\n  * @property {null|PlainObject} [colorPickerCSS=null] Object of CSS properties mapped to values (for jQuery) to apply to the color picker. See {@link http://api.jquery.com/css/#css-properties}. A `null` value (the default) will cause the CSS to default to `left` with a position equal to that of the `fill_color` or `stroke_color` element minus 140, and a `bottom` equal to 40\n  * @property {string} [paramurl] This was available via URL only. Allowed an un-encoded URL within the query string (use \"url\" or \"source\" with a data: URI instead)\n  * @property {Float} [canvas_expansion=3] The minimum area visible outside the canvas, as a multiple of the image dimensions. The larger the number, the more one can scroll outside the canvas.\n  * @property {PlainObject} [initFill] Init fill properties\n  * @property {string} [initFill.color=\"FF0000\"] The initial fill color. Must be a hex code string. Defaults to solid red.\n  * @property {Float} [initFill.opacity=1] The initial fill opacity. Must be a number between 0 and 1\n  * @property {PlainObject} [initStroke] Init stroke properties\n  * @property {Float} [initStroke.width=5] The initial stroke width. Must be a positive number.\n  * @property {string} [initStroke.color=\"000000\"] The initial stroke color. Must be a hex code. Defaults to solid black.\n  * @property {Float} [initStroke.opacity=1] The initial stroke opacity. Must be a number between 0 and 1.\n  * @property {PlainObject} text Text style properties\n  * @property {Float} [text.stroke_width=0] Text stroke width\n  * @property {Float} [text.font_size=24] Text font size\n  * @property {string} [text.font_family=\"serif\"] Text font family\n  * @property {Float} [initOpacity=1] Initial opacity (multiplied by 100)\n  * @property {module:SVGEditor.XYDimensions} [dimensions=[640, 480]] The default width/height of a new document. Use an array in `setConfig` (e.g., `[800, 600]`) and comma separated numbers in the URL.\n  * @property {boolean} [gridSnapping=false] Enable snap to grid by default. Set in Editor Options.\n  * @property {string} [gridColor=\"#000\"] Accepts hex, e.g., '#000'. Set in Editor Options. Defaults to black.\n  * @property {string} [baseUnit=\"px\"] Set in Editor Options.\n  * @property {Float} [snappingStep=10] Set the default grid snapping value. Set in Editor Options.\n  * @property {boolean} [showRulers=true] Initial state of ruler display (v2.6). Set in Editor Options.\n  * @property {string} [initTool=\"select\"] The initially selected tool. Must be either the ID of the button for the tool, or the ID without `tool_` prefix (e.g., \"select\").\n  * @property {boolean} [wireframe=false] Start in wireframe mode\n  * @property {boolean} [showlayers=false] Open the layers side-panel by default.\n  * @property {\"new\"|\"same\"} [exportWindowType=\"new\"] Can be \"new\" or \"same\" to indicate whether new windows will be generated for each export; the `window.name` of the export window is namespaced based on the `canvasName` (and incremented if \"new\" is selected as the type). Introduced 2.8.\n  * @property {boolean} [showGrid=false] Set by `ext-grid.js`; determines whether or not to show the grid by default\n  * @property {boolean} [show_outside_canvas=true] Defines whether or not elements outside the canvas should be visible. Set and used in `svgcanvas.js`.\n  * @property {boolean} [selectNew=true] If true, will replace the selection with the current element and automatically select element objects (when not in \"path\" mode) after they are created, showing their grips (v2.6). Set and used in `svgcanvas.js` (`mouseUp`).\n  * @todo Some others could be preferences as well (e.g., preventing URL changing of extensions, defaultExtensions, stylesheets, colorPickerCSS); Change the following to preferences and add pref controls where missing to the UI (e.g., `canvas_expansion`, `initFill`, `initStroke`, `text`, `initOpacity`, `dimensions`, `initTool`, `wireframe`, `showlayers`, `gridSnapping`, `gridColor`, `baseUnit`, `snappingStep`, `showRulers`, `exportWindowType`, `showGrid`, `show_outside_canvas`, `selectNew`)?\n  */\n  /**\n  * @namespace {module:SVGEditor.Config} defaultConfig\n  * @memberof module:SVGEditor~\n  * @implements {module:SVGEditor.Config}\n  */\n  defaultConfig = {\n    canvasName: 'default',\n    canvas_expansion: 3,\n    initFill: {\n      color: 'FF0000', // solid red\n      opacity: 1\n    },\n    initStroke: {\n      width: 5,\n      color: '000000', // solid black\n      opacity: 1\n    },\n    text: {\n      stroke_width: 0,\n      font_size: 24,\n      font_family: 'serif'\n    },\n    initOpacity: 1,\n    colorPickerCSS: null, // Defaults to 'left' with a position equal to that of the fill_color or stroke_color element minus 140, and a 'bottom' equal to 40\n    initTool: 'select',\n    exportWindowType: 'new', // 'same' (todo: also support 'download')\n    wireframe: false,\n    showlayers: false,\n    no_save_warning: false,\n    // PATH CONFIGURATION\n    // The following path configuration items are disallowed in the URL (as should any future path configurations)\n    langPath: '/src/editor/locale/', // Default will be changed if this is a non-modular load\n    extPath: '/src/editor/extensions/', // Default will be changed if this is a non-modular load\n    canvgPath: '/src/editor/canvg/', // Default will be changed if this is a non-modular load\n    jspdfPath: '/src/editor/jspdf/', // Default will be changed if this is a non-modular load\n    imgPath: '/src/editor/images/',\n    jGraduatePath: '/src/editor/jgraduate/images/',\n    extIconsPath: '/src/editor/extensions/',\n    // DOCUMENT PROPERTIES\n    // Change the following to a preference (already in the Document Properties dialog)?\n    dimensions: [640, 480],\n    // EDITOR OPTIONS\n    // Change the following to preferences (already in the Editor Options dialog)?\n    gridSnapping: false,\n    gridColor: '#000',\n    baseUnit: 'px',\n    snappingStep: 10,\n    showRulers: true,\n    // URL BEHAVIOR CONFIGURATION\n    preventAllURLConfig: false,\n    preventURLContentLoading: false,\n    // EXTENSION CONFIGURATION (see also preventAllURLConfig)\n    lockExtensions: false, // Disallowed in URL setting\n    noDefaultExtensions: false, // noDefaultExtensions can only be meaningfully used in `svgedit-config-iife.js` or in the URL\n    // EXTENSION-RELATED (GRID)\n    showGrid: false, // Set by ext-grid.js\n    // EXTENSION-RELATED (STORAGE)\n    noStorageOnLoad: false, // Some interaction with ext-storage.js; prevent even the loading of previously saved local storage\n    forceStorage: false, // Some interaction with ext-storage.js; strongly discouraged from modification as it bypasses user privacy by preventing them from choosing whether to keep local storage or not\n    emptyStorageOnDecline: false, // Used by ext-storage.js; empty any prior storage if the user declines to store\n    // EXTENSION (CLIENT VS. SERVER SAVING/OPENING)\n    avoidClientSide: false, // Deprecated in favor of `avoidClientSideDownload`\n    avoidClientSideDownload: false,\n    avoidClientSideOpen: false\n  },\n  /**\n  * LOCALE.\n  * @name module:SVGEditor.uiStrings\n  * @type {PlainObject}\n  */\n  uiStrings = editor.uiStrings = {};\n\nlet svgCanvas, urldata = {},\n  isReady = false,\n  customExportImage = false,\n  customExportPDF = false,\n  curPrefs = {},\n  // Note: The difference between Prefs and Config is that Prefs\n  //   can be changed in the UI and are stored in the browser,\n  //   while config cannot\n  curConfig = {\n    // We do not put on defaultConfig to simplify object copying\n    //   procedures (we obtain instead from defaultExtensions)\n    extensions: [],\n    /**\n    * Can use `location.origin` to indicate the current\n    * origin. Can contain a '*' to allow all domains or 'null' (as\n    * a string) to support all `file:///` URLs. Cannot be set by\n    * URL for security reasons (not safe, at least for\n    * privacy or data integrity of SVG content).\n    * Might have been fairly safe to allow\n    *   `new URL(location.href).origin` by default but\n    *   avoiding it ensures some more security that even third\n    *   party apps on the same domain also cannot communicate\n    *   with this app by default.\n    * For use with `ext-xdomain-messaging.js`\n    * @todo We might instead make as a user-facing preference.\n    */\n    allowedOrigins: []\n  };\n\n/**\n *\n * @param {string} str SVG string\n * @param {PlainObject} [opts={}]\n * @param {boolean} [opts.noAlert]\n * @throws {Error} Upon failure to load SVG\n * @returns {Promise<void>} Resolves to undefined upon success (or if `noAlert` is\n *   falsey, though only until after the `alert` is closed); rejects if SVG\n *   loading fails and `noAlert` is truthy.\n */\nasync function loadSvgString (str, {noAlert} = {}) {\n  const success = svgCanvas.setSvgString(str) !== false;\n  if (success) {\n    return;\n  }\n\n  if (!noAlert) {\n    await $.alert(uiStrings.notification.errorLoadingSVG);\n    return;\n  }\n  throw new Error('Error loading SVG');\n}\n\n/**\n * @function module:SVGEditor~getImportLocale\n * @param {PlainObject} defaults\n * @param {string} defaults.defaultLang\n * @param {string} defaults.defaultName\n * @returns {module:SVGEditor~ImportLocale}\n */\nfunction getImportLocale ({defaultLang, defaultName}) {\n  /**\n   * @function module:SVGEditor~ImportLocale\n   * @param {PlainObject} localeInfo\n   * @param {string} [localeInfo.name] Defaults to `defaultName` of {@link module:SVGEditor~getImportLocale}\n   * @param {string} [localeInfo.lang=defaultLang] Defaults to `defaultLang` of {@link module:SVGEditor~getImportLocale}\n   * @returns {Promise<module:locale.LocaleStrings>} Resolves to {@link module:locale.LocaleStrings}\n   */\n  return async function importLocaleDefaulting ({name = defaultName, lang = defaultLang} = {}) {\n    /**\n     *\n     * @param {string} language\n     * @returns {Promise<module:locale.LocaleStrings>} Resolves to {@link module:locale.LocaleStrings}\n     */\n    async function importLocale (language) {\n      const url = `${curConfig.extPath}ext-locale/${name}/${language}.js`;\n      // eslint-disable-next-line node/no-unsupported-features/es-syntax\n      const locale = await import(url);\n      return locale.default;\n    }\n    try {\n      return await importLocale(lang);\n    } catch (err) {\n      return importLocale('en');\n    }\n  };\n}\n\n/**\n* EXPORTS.\n*/\n\n/**\n* Store and retrieve preferences.\n* @function module:SVGEditor.pref\n* @param {string} key The preference name to be retrieved or set\n* @param {string} [val] The value. If the value supplied is missing or falsey, no change to the preference will\n* be made unless `mayBeEmpty` is set.\n* @param {boolean} [mayBeEmpty] If value may be falsey.\n* @returns {string|void} If val is missing or falsey and `mayBeEmpty` is not set, the\n* value of the previously stored preference will be returned.\n* @todo Review whether any remaining existing direct references to\n*  getting `curPrefs` can be changed to use `svgEditor.pref()` getting to ensure\n*  `defaultPrefs` fallback (also for sake of `allowInitialUserOverride`);\n*  specifically, `bkgd_color` could be changed so that the pref dialog has a\n*  button to auto-calculate background, but otherwise uses `svgEditor.pref()` to\n*  be able to get default prefs or overridable settings\n*/\neditor.pref = function (key, val, mayBeEmpty) {\n  if (mayBeEmpty || val) {\n    curPrefs[key] = val;\n    /**\n    * @name curPrefs\n    * @memberof module:SVGEditor\n    * @implements {module:SVGEditor.Prefs}\n    */\n    editor.curPrefs = curPrefs; // Update exported value\n    return undefined;\n  }\n  return (key in curPrefs) ? curPrefs[key] : defaultPrefs[key];\n};\n\n/*\n* EDITOR PUBLIC METHODS\n// Todo: Sort these methods per invocation order, ideally with init at the end\n// Todo: Prevent execution until init executes if dependent on it?\n*/\neditor.putLocale = putLocale;\neditor.readLang = readLang;\neditor.setStrings = setStrings;\n\n/**\n* Where permitted, sets canvas and/or `defaultPrefs` based on previous\n*  storage. This will override URL settings (for security reasons) but\n*  not `svgedit-config-iife.js` configuration (unless initial user\n*  overriding is explicitly permitted there via `allowInitialUserOverride`).\n* @function module:SVGEditor.loadContentAndPrefs\n* @todo Split `allowInitialUserOverride` into `allowOverrideByURL` and\n*  `allowOverrideByUserStorage` so `svgedit-config-iife.js` can disallow some\n*  individual items for URL setting but allow for user storage AND/OR\n*  change URL setting so that it always uses a different namespace,\n*  so it won't affect pre-existing user storage (but then if users saves\n*  that, it will then be subject to tampering\n* @returns {void}\n*/\neditor.loadContentAndPrefs = function () {\n  if (!curConfig.forceStorage &&\n    (curConfig.noStorageOnLoad ||\n        !document.cookie.match(/(?:^|;\\s*)svgeditstore=(?:prefsAndContent|prefsOnly)/)\n    )\n  ) {\n    return;\n  }\n\n  // LOAD CONTENT\n  if (editor.storage && // Cookies do not have enough available memory to hold large documents\n    (curConfig.forceStorage ||\n      (!curConfig.noStorageOnLoad &&\n        document.cookie.match(/(?:^|;\\s*)svgeditstore=prefsAndContent/))\n    )\n  ) {\n    const name = 'svgedit-' + curConfig.canvasName;\n    const cached = editor.storage.getItem(name);\n    if (cached) {\n      editor.loadFromString(cached);\n    }\n  }\n\n  // LOAD PREFS\n  Object.keys(defaultPrefs).forEach((key) => {\n    const storeKey = 'svg-edit-' + key;\n    if (editor.storage) {\n      const val = editor.storage.getItem(storeKey);\n      if (val) {\n        defaultPrefs[key] = String(val); // Convert to string for FF (.value fails in Webkit)\n      }\n    } else if (window.widget) {\n      defaultPrefs[key] = window.widget.preferenceForKey(storeKey);\n    } else {\n      const result = document.cookie.match(\n        new RegExp('(?:^|;\\\\s*)' + Utils.regexEscape(\n          encodeURIComponent(storeKey)\n        ) + '=([^;]+)')\n      );\n      defaultPrefs[key] = result ? decodeURIComponent(result[1]) : '';\n    }\n  });\n};\n\n/**\n* Allows setting of preferences or configuration (including extensions).\n* @function module:SVGEditor.setConfig\n* @param {module:SVGEditor.Config|module:SVGEditor.Prefs} opts The preferences or configuration (including extensions). See the tutorial on {@tutorial ConfigOptions} for info on config and preferences.\n* @param {PlainObject} [cfgCfg] Describes configuration which applies to the\n*    particular batch of supplied options\n* @param {boolean} [cfgCfg.allowInitialUserOverride=false] Set to true if you wish\n*  to allow initial overriding of settings by the user via the URL\n*  (if permitted) or previously stored preferences (if permitted);\n*  note that it will be too late if you make such calls in extension\n*  code because the URL or preference storage settings will\n*   have already taken place.\n* @param {boolean} [cfgCfg.overwrite=true] Set to false if you wish to\n*  prevent the overwriting of prior-set preferences or configuration\n*  (URL settings will always follow this requirement for security\n*  reasons, so `svgedit-config-iife.js` settings cannot be overridden unless it\n*  explicitly permits via `allowInitialUserOverride` but extension config\n*  can be overridden as they will run after URL settings). Should\n*   not be needed in `svgedit-config-iife.js`.\n* @returns {void}\n*/\neditor.setConfig = function (opts, cfgCfg) {\n  cfgCfg = cfgCfg || {};\n  /**\n   *\n   * @param {module:SVGEditor.Config|module:SVGEditor.Prefs} cfgObj\n   * @param {string} key\n   * @param {any} val See {@link module:SVGEditor.Config} or {@link module:SVGEditor.Prefs}\n   * @returns {void}\n   */\n  function extendOrAdd (cfgObj, key, val) {\n    if (cfgObj[key] && typeof cfgObj[key] === 'object') {\n      $.extend(true, cfgObj[key], val);\n    } else {\n      cfgObj[key] = val;\n    }\n  }\n  Object.entries(opts).forEach(function ([key, val]) {\n    // Only allow prefs defined in defaultPrefs or...\n    if ({}.hasOwnProperty.call(defaultPrefs, key)) {\n      if (cfgCfg.overwrite === false && (\n        curConfig.preventAllURLConfig ||\n        {}.hasOwnProperty.call(curPrefs, key)\n      )) {\n        return;\n      }\n      if (cfgCfg.allowInitialUserOverride === true) {\n        defaultPrefs[key] = val;\n      } else {\n        editor.pref(key, val);\n      }\n    } else if (['extensions', 'allowedOrigins'].includes(key)) {\n      if (cfgCfg.overwrite === false &&\n        (\n          curConfig.preventAllURLConfig ||\n          ['allowedOrigins'].includes(key) ||\n          (key === 'extensions' && curConfig.lockExtensions)\n        )\n      ) {\n        return;\n      }\n      curConfig[key] = curConfig[key].concat(val); // We will handle any dupes later\n    // Only allow other curConfig if defined in defaultConfig\n    } else if ({}.hasOwnProperty.call(defaultConfig, key)) {\n      if (cfgCfg.overwrite === false && (\n        curConfig.preventAllURLConfig ||\n        {}.hasOwnProperty.call(curConfig, key)\n      )) {\n        return;\n      }\n      // Potentially overwriting of previously set config\n      if ({}.hasOwnProperty.call(curConfig, key)) {\n        if (cfgCfg.overwrite === false) {\n          return;\n        }\n        extendOrAdd(curConfig, key, val);\n      } else if (cfgCfg.allowInitialUserOverride === true) {\n        extendOrAdd(defaultConfig, key, val);\n      } else if (defaultConfig[key] && typeof defaultConfig[key] === 'object') {\n        curConfig[key] = Array.isArray(defaultConfig[key]) ? [] : {};\n        $.extend(true, curConfig[key], val); // Merge properties recursively, e.g., on initFill, initStroke objects\n      } else {\n        curConfig[key] = val;\n      }\n    }\n  });\n  /**\n  * @name curConfig\n  * @memberof module:SVGEditor\n  * @implements {module:SVGEditor.Config}\n  */\n  editor.curConfig = curConfig; // Update exported value\n};\n\n/**\n* All methods are optional.\n* @interface module:SVGEditor.CustomHandler\n* @type {PlainObject}\n*/\n/**\n* Its responsibilities are:\n*  - invoke a file chooser dialog in 'open' mode\n*  - let user pick a SVG file\n*  - calls [svgCanvas.setSvgString()]{@link module:svgcanvas.SvgCanvas#setSvgString} with the string contents of that file.\n* Not passed any parameters.\n* @function module:SVGEditor.CustomHandler#open\n* @returns {void}\n*/\n/**\n* Its responsibilities are:\n*  - accept the string contents of the current document\n*  - invoke a file chooser dialog in 'save' mode\n*  - save the file to location chosen by the user.\n* @function module:SVGEditor.CustomHandler#save\n* @param {external:Window} win\n* @param {module:svgcanvas.SvgCanvas#event:saved} svgStr A string of the SVG\n* @listens module:svgcanvas.SvgCanvas#event:saved\n* @returns {void}\n*/\n/**\n* Its responsibilities (with regard to the object it is supplied in its 2nd argument) are:\n*  - inform user of any issues supplied via the \"issues\" property\n*  - convert the \"svg\" property SVG string into an image for export;\n*    utilize the properties \"type\" (currently 'PNG', 'JPEG', 'BMP',\n*    'WEBP', 'PDF'), \"mimeType\", and \"quality\" (for 'JPEG' and 'WEBP'\n*    types) to determine the proper output.\n* @function module:SVGEditor.CustomHandler#exportImage\n* @param {external:Window} win\n* @param {module:svgcanvas.SvgCanvas#event:exported} data\n* @listens module:svgcanvas.SvgCanvas#event:exported\n* @returns {void}\n*/\n/**\n* @function module:SVGEditor.CustomHandler#exportPDF\n* @param {external:Window} win\n* @param {module:svgcanvas.SvgCanvas#event:exportedPDF} data\n* @listens module:svgcanvas.SvgCanvas#event:exportedPDF\n* @returns {void}\n*/\n\n/**\n* Allows one to override default SVGEdit `open`, `save`, and\n* `export` editor behaviors.\n* @function module:SVGEditor.setCustomHandlers\n* @param {module:SVGEditor.CustomHandler} opts Extension mechanisms may call `setCustomHandlers` with three functions: `opts.open`, `opts.save`, and `opts.exportImage`\n* @returns {Promise<void>}\n*/\neditor.setCustomHandlers = function (opts) {\n  return editor.ready(function () {\n    if (opts.open) {\n      $('#tool_open > input[type=\"file\"]').remove();\n      $('#tool_open').show();\n      svgCanvas.open = opts.open;\n    }\n    if (opts.save) {\n      editor.showSaveWarning = false;\n      svgCanvas.bind('saved', opts.save);\n    }\n    if (opts.exportImage) {\n      customExportImage = opts.exportImage;\n      svgCanvas.bind('exported', customExportImage); // canvg and our RGBColor will be available to the method\n    }\n    if (opts.exportPDF) {\n      customExportPDF = opts.exportPDF;\n      svgCanvas.bind('exportedPDF', customExportPDF); // jsPDF and our RGBColor will be available to the method\n    }\n  });\n};\n\n/**\n * @function module:SVGEditor.randomizeIds\n * @param {boolean} arg\n * @returns {void}\n */\neditor.randomizeIds = function (arg) {\n  svgCanvas.randomizeIds(arg);\n};\n\n/**\n* Auto-run after a Promise microtask.\n* @function module:SVGEditor.init\n* @returns {void}\n*/\neditor.init = function () {\n  const modularVersion = !('svgEditor' in window) ||\n    !window.svgEditor ||\n    window.svgEditor.modules !== false;\n  if (!modularVersion) {\n    Object.assign(defaultConfig, {\n      langPath: '../../dist/locale/',\n      extPath: '../../dist/extensions/',\n      canvgPath: '../../dist/',\n      jspdfPath: '../../dist/'\n    });\n  }\n\n  // const host = location.hostname,\n  //  onWeb = host && host.includes('.');\n  // Some FF versions throw security errors here when directly accessing\n  try {\n    if ('localStorage' in window) { // && onWeb removed so Webkit works locally\n      /**\n      * The built-in interface implemented by `localStorage`\n      * @external Storage\n      */\n      /**\n      * @name storage\n      * @memberof module:SVGEditor\n      * @type {external:Storage}\n      */\n      editor.storage = localStorage;\n    }\n  } catch (err) {}\n\n  // Todo: Avoid const-defined functions and group functions together, etc. where possible\n  const goodLangs = [];\n  $('#lang_select option').each(function () {\n    goodLangs.push(this.value);\n  });\n\n  /**\n   * Sets up current preferences based on defaults.\n   * @returns {void}\n   */\n  function setupCurPrefs () {\n    curPrefs = $.extend(true, {}, defaultPrefs, curPrefs); // Now safe to merge with priority for curPrefs in the event any are already set\n    // Export updated prefs\n    editor.curPrefs = curPrefs;\n  }\n\n  /**\n   * Sets up current config based on defaults.\n   * @returns {void}\n   */\n  function setupCurConfig () {\n    curConfig = $.extend(true, {}, defaultConfig, curConfig); // Now safe to merge with priority for curConfig in the event any are already set\n\n    // Now deal with extensions and other array config\n    if (!curConfig.noDefaultExtensions) {\n      curConfig.extensions = curConfig.extensions.concat(defaultExtensions);\n    }\n    // ...and remove any dupes\n    ['extensions', 'allowedOrigins'].forEach(function (cfg) {\n      curConfig[cfg] = $.grep(curConfig[cfg], function (n, i) { // Supposedly faster than filter per http://amandeep1986.blogspot.hk/2015/02/jquery-grep-vs-js-filter.html\n        return i === curConfig[cfg].indexOf(n);\n      });\n    });\n    // Export updated config\n    editor.curConfig = curConfig;\n  }\n  (() => {\n    // Load config/data from URL if given\n    const {search, searchParams} = new URL(location);\n\n    if (search) {\n      urldata = deparam(searchParams.toString(), true);\n\n      ['initStroke', 'initFill'].forEach((prop) => {\n        if (searchParams.has(`${prop}[color]`)) {\n          // Restore back to original non-deparamed value to avoid color\n          //  strings being converted to numbers\n          urldata[prop].color = searchParams.get(`${prop}[color]`);\n        }\n      });\n\n      if (searchParams.has('bkgd_color')) {\n        urldata.bkgd_color = '#' + searchParams.get('bkgd_color');\n      }\n\n      if (urldata.dimensions) {\n        urldata.dimensions = urldata.dimensions.split(',');\n      }\n\n      if (urldata.extensions) {\n        // For security reasons, disallow cross-domain or cross-folder\n        //  extensions via URL\n        urldata.extensions = urldata.extensions.match(/[:/\\\\]/)\n          ? ''\n          : urldata.extensions.split(',');\n      }\n\n      // Disallowing extension paths via URL for\n      // security reasons, even for same-domain\n      // ones given potential to interact in undesirable\n      // ways with other script resources\n      [\n        'langPath', 'extPath', 'canvgPath', 'jspdfPath',\n        'imgPath', 'jGraduatePath', 'extIconsPath'\n      ].forEach(function (pathConfig) {\n        if (urldata[pathConfig]) {\n          delete urldata[pathConfig];\n        }\n      });\n\n      // Note: `source` and `url` (as with `storagePrompt` later) are not\n      //  set on config but are used below\n      editor.setConfig(urldata, {overwrite: false});\n      setupCurConfig();\n\n      if (!curConfig.preventURLContentLoading) {\n        let {source} = urldata;\n        if (!source) { // urldata.source may have been null if it ended with '='\n          const src = searchParams.get('source');\n          if (src && src.startsWith('data:')) {\n            source = src;\n          }\n        }\n        if (source) {\n          if (source.startsWith('data:')) {\n            editor.loadFromDataURI(source);\n          } else {\n            editor.loadFromString(source);\n          }\n          return;\n        }\n        if (urldata.url) {\n          editor.loadFromURL(urldata.url);\n          return;\n        }\n      }\n      if (!urldata.noStorageOnLoad || curConfig.forceStorage) {\n        editor.loadContentAndPrefs();\n      }\n    } else {\n      setupCurConfig();\n      editor.loadContentAndPrefs();\n    }\n  })();\n  setupCurPrefs();\n\n  /**\n  * Called internally.\n  * @function module:SVGEditor.setIcon\n  * @param {string|Element|external:jQuery} elem\n  * @param {string|external:jQuery} iconId\n  * @param {Float} forcedSize Not in use\n  * @returns {void}\n  */\n  const setIcon = editor.setIcon = function (elem, iconId, forcedSize) {\n    const icon = (typeof iconId === 'string') ? $.getSvgIcon(iconId, true) : iconId.clone();\n    if (!icon) {\n      // Todo: Investigate why this still occurs in some cases\n      console.log('NOTE: Icon image missing: ' + iconId); // eslint-disable-line no-console\n      return;\n    }\n    $(elem).empty().append(icon);\n  };\n\n  /**\n   * @fires module:svgcanvas.SvgCanvas#event:ext_addLangData\n   * @fires module:svgcanvas.SvgCanvas#event:ext_langReady\n   * @fires module:svgcanvas.SvgCanvas#event:ext_langChanged\n   * @fires module:svgcanvas.SvgCanvas#event:extensions_added\n   * @returns {Promise<module:locale.LangAndData>} Resolves to result of {@link module:locale.readLang}\n   */\n  const extAndLocaleFunc = async function () {\n    // const lang = ('lang' in curPrefs) ? curPrefs.lang : null;\n    const {langParam, langData} = await editor.putLocale(\n      editor.pref('lang'), goodLangs, curConfig\n    );\n    await setLang(langParam, langData);\n\n    const {ok, cancel} = uiStrings.common;\n    jQueryPluginDBox($, {ok, cancel});\n\n    setIcons(); // Wait for dbox as needed for i18n\n\n    try {\n      await Promise.all(\n        curConfig.extensions.map(async (extname) => {\n          const extensionName = extname.match(/^ext-(.+)\\.js/);\n          // const {extName} = extname.match(/^ext-(?<extName>.+)\\.js/).groups;\n          if (!extensionName) { // Ensure URL cannot specify some other unintended file in the extPath\n            return undefined;\n          }\n          const url = curConfig.extPath + extname;\n\n          /**\n           * @tutorial ExtensionDocs\n           * @typedef {PlainObject} module:SVGEditor.ExtensionObject\n           * @property {string} [name] Name of the extension. Used internally; no need for i18n. Defaults to extension name without beginning \"ext-\" or ending \".js\".\n           * @property {module:svgcanvas.ExtensionInitCallback} [init]\n           */\n          try {\n            /**\n             * @type {module:SVGEditor.ExtensionObject}\n             */\n            // eslint-disable-next-line node/no-unsupported-features/es-syntax\n            const imported = await import(url);\n            const {name = extensionName[1], init} = imported.default;\n            // const {name = extName, init} = imported;\n            const importLocale = getImportLocale({defaultLang: langParam, defaultName: name});\n            return editor.addExtension(name, (init && init.bind(editor)), {$, importLocale});\n          } catch (err) {\n            // Todo: Add config to alert any errors\n            console.log(err); // eslint-disable-line no-console\n            console.error('Extension failed to load: ' + extname + '; ' + err); // eslint-disable-line no-console\n            return undefined;\n          }\n        })\n      );\n      svgCanvas.bind(\n        'extensions_added',\n        /**\n        * @param {external:Window} win\n        * @param {module:svgcanvas.SvgCanvas#event:extensions_added} data\n        * @listens module:svgcanvas.SvgCanvas#event:extensions_added\n        * @returns {void}\n        */\n        (win, data) => {\n          extensionsAdded = true;\n          Actions.setAll();\n\n          $('.flyout_arrow_horiz:empty').each(function () {\n            $(this).append($.getSvgIcon('arrow_right', true).width(5).height(5));\n          });\n\n          if (editor.storagePromptState === 'ignore') {\n            updateCanvas(true);\n          }\n\n          messageQueue.forEach(\n            /**\n             * @param {module:svgcanvas.SvgCanvas#event:message} messageObj\n             * @fires module:svgcanvas.SvgCanvas#event:message\n             * @returns {void}\n             */\n            (messageObj) => {\n              svgCanvas.call('message', messageObj);\n            }\n          );\n        }\n      );\n      svgCanvas.call('extensions_added');\n    } catch (err) {\n      // Todo: Report errors through the UI\n      console.log(err); // eslint-disable-line no-console\n    }\n  };\n\n  const stateObj = {tool_scale: editor.tool_scale};\n\n  /**\n  *\n  * @returns {void}\n  */\n  const setFlyoutPositions = function () {\n    $('.tools_flyout').each(function () {\n      const shower = $('#' + this.id + '_show');\n      const {left, top} = shower.offset();\n      const w = shower.outerWidth();\n      $(this).css({left: (left + w) * editor.tool_scale, top});\n    });\n  };\n\n  /**\n  * @type {string}\n  */\n  const uaPrefix = (function () {\n    const regex = /^(?:Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/;\n    const someScript = document.getElementsByTagName('script')[0];\n    for (const prop in someScript.style) {\n      if (regex.test(prop)) {\n        // test is faster than match, so it's better to perform\n        // that on the lot and match only when necessary\n        return prop.match(regex)[0];\n      }\n    }\n    // Nothing found so far?\n    if ('WebkitOpacity' in someScript.style) { return 'Webkit'; }\n    if ('KhtmlOpacity' in someScript.style) { return 'Khtml'; }\n\n    return '';\n  }());\n\n  /**\n  * @param {external:jQuery} elems\n  * @param {Float} scale\n  * @returns {void}\n  */\n  const scaleElements = function (elems, scale) {\n    // const prefix = '-' + uaPrefix.toLowerCase() + '-'; // Currently unused\n    const sides = ['top', 'left', 'bottom', 'right'];\n\n    elems.each(function () {\n      // Handled in CSS\n      // this.style[uaPrefix + 'Transform'] = 'scale(' + scale + ')';\n      const el = $(this);\n      const w = el.outerWidth() * (scale - 1);\n      const h = el.outerHeight() * (scale - 1);\n      // const margins = {}; // Currently unused\n\n      for (let i = 0; i < 4; i++) {\n        const s = sides[i];\n        let cur = el.data('orig_margin-' + s);\n        if (Utils.isNullish(cur)) {\n          cur = Number.parseInt(el.css('margin-' + s));\n          // Cache the original margin\n          el.data('orig_margin-' + s, cur);\n        }\n        let val = cur * scale;\n        if (s === 'right') {\n          val += w;\n        } else if (s === 'bottom') {\n          val += h;\n        }\n\n        el.css('margin-' + s, val);\n        // el.css('outline', '1px solid red');\n      }\n    });\n  };\n\n  /**\n  * Called internally.\n  * @function module:SVGEditor.setIconSize\n  * @param {module:SVGEditor.IconSize} size\n  * @returns {void}\n  */\n  const setIconSize = editor.setIconSize = function (size) {\n    // const elems = $('.tool_button, .push_button, .tool_button_current, .disabled, .icon_label, #url_notice, #tool_open');\n    const selToscale = '#tools_top .toolset, #editor_panel > *, #history_panel > *,' +\n  '        #main_button, #tools_left > *, #path_node_panel > *, #multiselected_panel > *,' +\n  '        #g_panel > *, #tool_font_size > *, .tools_flyout';\n\n    const elems = $(selToscale);\n\n    let scale = 1;\n    if (typeof size === 'number') {\n      scale = size;\n    } else {\n      const iconSizes = {s: 0.75, m: 1, l: 1.25, xl: 1.5};\n      scale = iconSizes[size];\n    }\n\n    stateObj.tool_scale = editor.tool_scale = scale;\n\n    setFlyoutPositions();\n    // $('.tools_flyout').each(function () {\n    //   const pos = $(this).position();\n    //   console.log($(this), pos.left+(34 * scale));\n    //   $(this).css({left: pos.left+(34 * scale), top: pos.top+(77 * scale)});\n    //   console.log('l', $(this).css('left'));\n    // });\n    //\n    // const scale = .75;\n\n    const hiddenPs = elems.parents(':hidden');\n    hiddenPs.css('visibility', 'hidden').show();\n    scaleElements(elems, scale);\n    hiddenPs.css('visibility', 'visible').hide();\n    // return;\n\n    editor.pref('iconsize', size);\n    $('#iconsize').val(size);\n\n    // Note that all rules will be prefixed with '#svg_editor' when parsed\n    const cssResizeRules = {\n      '#tools_top': {\n        left: 50 + $('#main_button').width(),\n        height: 72\n      },\n      '#tools_left': {\n        width: 31,\n        top: 74\n      },\n      'div#workarea': {\n        left: 38,\n        top: 74\n      }\n    };\n\n    let ruleElem = $('#tool_size_rules');\n    if (!ruleElem.length) {\n      ruleElem = $('<style id=\"tool_size_rules\"></style>').appendTo('head');\n    } else {\n      ruleElem.empty();\n    }\n\n    if (size !== 'm') {\n      let styleStr = '';\n      $.each(cssResizeRules, function (selector, rules) {\n        selector = '#svg_editor ' + selector.replace(/,/g, ', #svg_editor');\n        styleStr += selector + '{';\n        $.each(rules, function (prop, values) {\n          let val;\n          if (typeof values === 'number') {\n            val = (values * scale) + 'px';\n          } else if (values[size] || values.all) {\n            val = (values[size] || values.all);\n          }\n          styleStr += (prop + ':' + val + ';');\n        });\n        styleStr += '}';\n      });\n      // this.style[uaPrefix + 'Transform'] = 'scale(' + scale + ')';\n      const prefix = '-' + uaPrefix.toLowerCase() + '-';\n      styleStr += (selToscale + '{' + prefix + 'transform: scale(' + scale + ');}' +\n        ' #svg_editor div.toolset .toolset {' + prefix + 'transform: scale(1); margin: 1px !important;}' + // Hack for markers\n        ' #svg_editor .ui-slider {' + prefix + 'transform: scale(' + (1 / scale) + ');}' // Hack for sliders\n      );\n      ruleElem.text(styleStr);\n    }\n\n    setFlyoutPositions();\n  };\n\n  /**\n   * Setup SVG icons.\n   * @returns {void}\n   */\n  function setIcons () {\n    $.svgIcons(curConfig.imgPath + 'svg_edit_icons.svg', {\n      w: 24, h: 24,\n      id_match: false,\n      no_img: !isWebkit(), // Opera & Firefox 4 gives odd behavior w/images\n      fallback_path: curConfig.imgPath,\n      // Todo: Set `alts: {}` with keys as the IDs in fallback set to\n      //   `uiStrings` (localized) values\n      fallback: {\n        logo: 'logo.png',\n\n        select: 'select.png',\n        select_node: 'select_node.png',\n\n        square: 'square.png',\n        rect: 'rect.png',\n        fh_rect: 'freehand-square.png',\n        circle: 'circle.png',\n        ellipse: 'ellipse.png',\n        fh_ellipse: 'freehand-circle.png',\n        pencil: 'fhpath.png',\n        pen: 'line.png',\n        text: 'text.png',\n        path: 'path.png',\n        add_subpath: 'add_subpath.png',\n        close_path: 'closepath.png',\n        open_path: 'openpath.png',\n\n        image: 'image.png',\n        zoom: 'zoom.png',\n\n        arrow_right: 'flyouth.png',\n        arrow_right_big: 'arrow_right_big.png',\n        arrow_down: 'dropdown.gif',\n        fill: 'fill.png',\n        stroke: 'stroke.png',\n        opacity: 'opacity.png',\n\n        new_image: 'clear.png',\n        save: 'save.png',\n        export: 'export.png',\n        open: 'open.png',\n        import: 'import.png',\n        docprops: 'document-properties.png',\n        source: 'source.png',\n        wireframe: 'wireframe.png',\n\n        undo: 'undo.png',\n        redo: 'redo.png',\n\n        clone: 'clone.png',\n        delete: 'delete.png',\n        go_up: 'go-up.png',\n        go_down: 'go-down.png',\n        context_menu: 'context_menu.png',\n        move_bottom: 'move_bottom.png',\n        move_top: 'move_top.png',\n        to_path: 'to_path.png',\n        link_controls: 'link_controls.png',\n        reorient: 'reorient.png',\n        group_elements: 'shape_group_elements.png',\n\n        ungroup: 'shape_ungroup.png',\n        unlink_use: 'unlink_use.png',\n        width: 'width.png',\n        height: 'height.png',\n        c_radius: 'c_radius.png',\n        angle: 'angle.png',\n        blur: 'blur.png',\n        fontsize: 'fontsize.png',\n        align: 'align.png',\n\n        align_left: 'align-left.png',\n        align_center: 'align-center.png',\n        align_right: 'align-right.png',\n        align_top: 'align-top.png',\n        align_middle: 'align-middle.png',\n        align_bottom: 'align-bottom.png',\n\n        linecap_butt: 'linecap_butt.png',\n        linecap_square: 'linecap_square.png',\n        linecap_round: 'linecap_round.png',\n        linejoin_miter: 'linejoin_miter.png',\n        linejoin_bevel: 'linejoin_bevel.png',\n        linejoin_round: 'linejoin_round.png',\n        eye: 'eye.png',\n        no_color: 'no_color.png',\n\n        ok: 'save.png',\n        cancel: 'cancel.png',\n        warning: 'warning.png',\n\n        node_delete: 'node_delete.png',\n        node_clone: 'node_clone.png',\n\n        globe_link: 'globe_link.png',\n        config: 'config.png'\n      },\n      placement: {\n        '#logo': 'logo',\n\n        '#tool_clear div,#layer_new': 'new_image',\n        '#tool_save div': 'save',\n        '#tool_export div': 'export',\n        '#tool_open div': 'open',\n        '#tool_import div': 'import',\n        '#tool_source': 'source',\n        '#tool_docprops > div': 'docprops',\n        '#tool_editor_prefs > div': 'config',\n        '#tool_editor_homepage > div': 'globe_link',\n        '#tool_wireframe': 'wireframe',\n\n        '#tool_undo': 'undo',\n        '#tool_redo': 'redo',\n\n        '#tool_select': 'select',\n        '#tool_fhpath': 'pencil',\n        '#tool_line': 'pen',\n        '#tool_rect,#tools_rect_show': 'rect',\n        '#tool_square': 'square',\n        '#tool_fhrect': 'fh_rect',\n        '#tool_ellipse,#tools_ellipse_show': 'ellipse',\n        '#tool_circle': 'circle',\n        '#tool_fhellipse': 'fh_ellipse',\n        '#tool_path': 'path',\n        '#tool_text,#layer_rename': 'text',\n        '#tool_image': 'image',\n        '#tool_zoom': 'zoom',\n\n        '#tool_clone,#tool_clone_multi': 'clone',\n        '#tool_node_clone': 'node_clone',\n        '#layer_delete,#tool_delete,#tool_delete_multi': 'delete',\n        '#tool_node_delete': 'node_delete',\n        '#tool_add_subpath': 'add_subpath',\n        '#tool_openclose_path': 'open_path',\n        '#tool_move_top': 'move_top',\n        '#tool_move_bottom': 'move_bottom',\n        '#tool_topath': 'to_path',\n        '#tool_node_link': 'link_controls',\n        '#tool_reorient': 'reorient',\n        '#tool_group_elements': 'group_elements',\n        '#tool_ungroup': 'ungroup',\n        '#tool_unlink_use': 'unlink_use',\n\n        '#tool_alignleft, #tool_posleft': 'align_left',\n        '#tool_aligncenter, #tool_poscenter': 'align_center',\n        '#tool_alignright, #tool_posright': 'align_right',\n        '#tool_aligntop, #tool_postop': 'align_top',\n        '#tool_alignmiddle, #tool_posmiddle': 'align_middle',\n        '#tool_alignbottom, #tool_posbottom': 'align_bottom',\n        '#cur_position': 'align',\n\n        '#linecap_butt,#cur_linecap': 'linecap_butt',\n        '#linecap_round': 'linecap_round',\n        '#linecap_square': 'linecap_square',\n\n        '#linejoin_miter,#cur_linejoin': 'linejoin_miter',\n        '#linejoin_round': 'linejoin_round',\n        '#linejoin_bevel': 'linejoin_bevel',\n\n        '#url_notice': 'warning',\n\n        '#layer_up': 'go_up',\n        '#layer_down': 'go_down',\n        '#layer_moreopts': 'context_menu',\n        '#layerlist td.layervis': 'eye',\n\n        '#tool_source_save,#tool_docprops_save,#tool_prefs_save': 'ok',\n        '#tool_source_cancel,#tool_docprops_cancel,#tool_prefs_cancel': 'cancel',\n\n        '#rwidthLabel, #iwidthLabel': 'width',\n        '#rheightLabel, #iheightLabel': 'height',\n        '#cornerRadiusLabel span': 'c_radius',\n        '#angleLabel': 'angle',\n        '#linkLabel,#tool_make_link,#tool_make_link_multi': 'globe_link',\n        '#zoomLabel': 'zoom',\n        '#tool_fill label': 'fill',\n        '#tool_stroke .icon_label': 'stroke',\n        '#group_opacityLabel': 'opacity',\n        '#blurLabel': 'blur',\n        '#font_sizeLabel': 'fontsize',\n\n        '.flyout_arrow_horiz': 'arrow_right',\n        '.dropdown button, #main_button .dropdown': 'arrow_down',\n        '#palette .palette_item:first, #fill_bg, #stroke_bg': 'no_color'\n      },\n      resize: {\n        '#logo .svg_icon': 28,\n        '.flyout_arrow_horiz .svg_icon': 5,\n        '.layer_button .svg_icon, #layerlist td.layervis .svg_icon': 14,\n        '.dropdown button .svg_icon': 7,\n        '#main_button .dropdown .svg_icon': 9,\n        '.palette_item:first .svg_icon': 15,\n        '#fill_bg .svg_icon, #stroke_bg .svg_icon': 16,\n        '.toolbar_button button .svg_icon': 16,\n        '.stroke_tool div div .svg_icon': 20,\n        '#tools_bottom label .svg_icon': 18\n      },\n      async callback (icons) {\n        $('.toolbar_button button > svg, .toolbar_button button > img').each(function () {\n          $(this).parent().prepend(this);\n        });\n\n        const tleft = $('#tools_left');\n\n        let minHeight;\n        if (tleft.length) {\n          minHeight = tleft.offset().top + tleft.outerHeight();\n        }\n\n        const size = editor.pref('iconsize');\n        editor.setIconSize(size || ($(window).height() < minHeight ? 's' : 'm'));\n\n        // Look for any missing flyout icons from plugins\n        $('.tools_flyout').each(function () {\n          const shower = $('#' + this.id + '_show');\n          const sel = shower.attr('data-curopt');\n          // Check if there's an icon here\n          if (!shower.children('svg, img').length) {\n            const clone = $(sel).children().clone();\n            if (clone.length) {\n              clone[0].removeAttribute('style'); // Needed for Opera\n              shower.append(clone);\n            }\n          }\n        });\n        $('#svg_container')[0].style.visibility = 'visible';\n        await editor.runCallbacks();\n      }\n    });\n  }\n  /**\n  * @name module:SVGEditor.canvas\n  * @type {module:svgcanvas.SvgCanvas}\n  */\n  editor.canvas = svgCanvas = new SvgCanvas(\n    document.getElementById('svgcanvas'),\n    curConfig\n  );\n  const palette = [\n      // Todo: Make into configuration item?\n      '#000000', '#3f3f3f', '#7f7f7f', '#bfbfbf', '#ffffff',\n      '#ff0000', '#ff7f00', '#ffff00', '#7fff00',\n      '#00ff00', '#00ff7f', '#00ffff', '#007fff',\n      '#0000ff', '#7f00ff', '#ff00ff', '#ff007f',\n      '#7f0000', '#7f3f00', '#7f7f00', '#3f7f00',\n      '#007f00', '#007f3f', '#007f7f', '#003f7f',\n      '#00007f', '#3f007f', '#7f007f', '#7f003f',\n      '#ffaaaa', '#ffd4aa', '#ffffaa', '#d4ffaa',\n      '#aaffaa', '#aaffd4', '#aaffff', '#aad4ff',\n      '#aaaaff', '#d4aaff', '#ffaaff', '#ffaad4'\n    ],\n    modKey = (isMac() ? 'meta+' : 'ctrl+'), // â\n    path = svgCanvas.pathActions,\n    {undoMgr} = svgCanvas,\n    workarea = $('#workarea'),\n    canvMenu = $('#cmenu_canvas'),\n    // layerMenu = $('#cmenu_layers'), // Unused\n    paintBox = {fill: null, stroke: null};\n\n  let resizeTimer, curScrollPos;\n  let exportWindow = null,\n    defaultImageURL = curConfig.imgPath + 'logo.png',\n    zoomInIcon = 'crosshair',\n    zoomOutIcon = 'crosshair',\n    uiContext = 'toolbars';\n\n  // For external openers\n  (function () {\n    // let the opener know SVG Edit is ready (now that config is set up)\n    const w = window.opener || window.parent;\n    if (w) {\n      try {\n        /**\n         * Triggered on a containing `document` (of `window.opener`\n         * or `window.parent`) when the editor is loaded.\n         * @event module:SVGEditor#event:svgEditorReadyEvent\n         * @type {Event}\n         * @property {true} bubbles\n         * @property {true} cancelable\n         */\n        /**\n         * @name module:SVGEditor.svgEditorReadyEvent\n         * @type {module:SVGEditor#event:svgEditorReadyEvent}\n         */\n        const svgEditorReadyEvent = new w.CustomEvent('svgEditorReady', {\n          bubbles: true,\n          cancelable: true\n        });\n        w.document.documentElement.dispatchEvent(svgEditorReadyEvent);\n      } catch (e) {}\n    }\n  }());\n\n  /**\n  *\n  * @returns {void}\n  */\n  const setSelectMode = function () {\n    const curr = $('.tool_button_current');\n    if (curr.length && curr[0].id !== 'tool_select') {\n      curr.removeClass('tool_button_current').addClass('tool_button');\n      $('#tool_select').addClass('tool_button_current').removeClass('tool_button');\n      $('#styleoverrides').text(`\n        #svgcanvas svg * {\n          cursor: move;\n          pointer-events: all;\n        }\n        #svgcanvas svg {\n          cursor: default;\n        }\n      `);\n    }\n    svgCanvas.setMode('select');\n    workarea.css('cursor', 'auto');\n  };\n\n  // used to make the flyouts stay on the screen longer the very first time\n  // const flyoutspeed = 1250; // Currently unused\n  // let textBeingEntered = false; // Currently unused\n  const origTitle = $('title:first').text();\n  // Make [1,2,5] array\n  const rIntervals = [];\n  for (let i = 0.1; i < 1e5; i *= 10) {\n    rIntervals.push(i);\n    rIntervals.push(2 * i);\n    rIntervals.push(5 * i);\n  }\n\n  /**\n   * This function highlights the layer passed in (by fading out the other layers).\n   * If no layer is passed in, this function restores the other layers.\n   * @param {string} [layerNameToHighlight]\n   * @returns {void}\n  */\n  const toggleHighlightLayer = function (layerNameToHighlight) {\n    let i;\n    const curNames = [], numLayers = svgCanvas.getCurrentDrawing().getNumLayers();\n    for (i = 0; i < numLayers; i++) {\n      curNames[i] = svgCanvas.getCurrentDrawing().getLayerName(i);\n    }\n\n    if (layerNameToHighlight) {\n      curNames.forEach((curName) => {\n        if (curName !== layerNameToHighlight) {\n          svgCanvas.getCurrentDrawing().setLayerOpacity(curName, 0.5);\n        }\n      });\n    } else {\n      curNames.forEach((curName) => {\n        svgCanvas.getCurrentDrawing().setLayerOpacity(curName, 1.0);\n      });\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const populateLayers = function () {\n    svgCanvas.clearSelection();\n    const layerlist = $('#layerlist tbody').empty();\n    const selLayerNames = $('#selLayerNames').empty();\n    const drawing = svgCanvas.getCurrentDrawing();\n    const currentLayerName = drawing.getCurrentLayerName();\n    const icon = $.getSvgIcon('eye');\n    let layer = svgCanvas.getCurrentDrawing().getNumLayers();\n    // we get the layers in the reverse z-order (the layer rendered on top is listed first)\n    while (layer--) {\n      const name = drawing.getLayerName(layer);\n      const layerTr = $('<tr class=\"layer\">').toggleClass('layersel', name === currentLayerName);\n      const layerVis = $('<td class=\"layervis\">').toggleClass('layerinvis', !drawing.getLayerVisibility(name));\n      const layerName = $('<td class=\"layername\">' + name + '</td>');\n      layerlist.append(layerTr.append(layerVis, layerName));\n      selLayerNames.append('<option value=\"' + name + '\">' + name + '</option>');\n    }\n    if (icon !== undefined) {\n      const copy = icon.clone();\n      $('td.layervis', layerlist).append(copy);\n      $.resizeSvgIcons({'td.layervis .svg_icon': 14});\n    }\n    // handle selection of layer\n    $('#layerlist td.layername')\n      .mouseup(function (evt) {\n        $('#layerlist tr.layer').removeClass('layersel');\n        $(this.parentNode).addClass('layersel');\n        svgCanvas.setCurrentLayer(this.textContent);\n        evt.preventDefault();\n      })\n      .mouseover(function () {\n        toggleHighlightLayer(this.textContent);\n      })\n      .mouseout(function () {\n        toggleHighlightLayer();\n      });\n    $('#layerlist td.layervis').click(function () {\n      const row = $(this.parentNode).prevAll().length;\n      const name = $('#layerlist tr.layer:eq(' + row + ') td.layername').text();\n      const vis = $(this).hasClass('layerinvis');\n      svgCanvas.setLayerVisibility(name, vis);\n      $(this).toggleClass('layerinvis');\n    });\n\n    // if there were too few rows, let's add a few to make it not so lonely\n    let num = 5 - $('#layerlist tr.layer').size();\n    while (num-- > 0) {\n      // TODO: there must a better way to do this\n      layerlist.append('<tr><td style=\"color:white\">_</td><td/></tr>');\n    }\n  };\n\n  let editingsource = false;\n  let origSource = '';\n\n  /**\n  * @param {Event} [e] Not used.\n  * @param {boolean} forSaving\n  * @returns {void}\n  */\n  const showSourceEditor = function (e, forSaving) {\n    if (editingsource) { return; }\n\n    editingsource = true;\n    origSource = svgCanvas.getSvgString();\n    $('#save_output_btns').toggle(Boolean(forSaving));\n    $('#tool_source_back').toggle(!forSaving);\n    $('#svg_source_textarea').val(origSource);\n    $('#svg_source_editor').fadeIn();\n    $('#svg_source_textarea').focus();\n  };\n\n  let selectedElement = null;\n  let multiselected = false;\n\n  /**\n  * @param {boolean} editmode\n  * @param {module:svgcanvas.SvgCanvas#event:selected} elems\n  * @returns {void}\n  */\n  const togglePathEditMode = function (editmode, elems) {\n    $('#path_node_panel').toggle(editmode);\n    $('#tools_bottom_2,#tools_bottom_3').toggle(!editmode);\n    if (editmode) {\n      // Change select icon\n      $('.tool_button_current').removeClass('tool_button_current').addClass('tool_button');\n      $('#tool_select').addClass('tool_button_current').removeClass('tool_button');\n      setIcon('#tool_select', 'select_node');\n      multiselected = false;\n      if (elems.length) {\n        selectedElement = elems[0];\n      }\n    } else {\n      setTimeout(() => {\n        setIcon('#tool_select', 'select');\n      }, 1000);\n    }\n  };\n\n  /**\n   * @type {module:svgcanvas.EventHandler}\n   * @param {external:Window} wind\n   * @param {module:svgcanvas.SvgCanvas#event:saved} svg The SVG source\n   * @listens module:svgcanvas.SvgCanvas#event:saved\n   * @returns {void}\n   */\n  const saveHandler = function (wind, svg) {\n    editor.showSaveWarning = false;\n\n    // by default, we add the XML prolog back, systems integrating SVG-edit (wikis, CMSs)\n    // can just provide their own custom save handler and might not want the XML prolog\n    svg = '<?xml version=\"1.0\"?>\\n' + svg;\n\n    // IE9 doesn't allow standalone Data URLs\n    // https://connect.microsoft.com/IE/feedback/details/542600/data-uri-images-fail-when-loaded-by-themselves\n    if (isIE()) {\n      showSourceEditor(0, true);\n      return;\n    }\n\n    // Since saving SVGs by opening a new window was removed in Chrome use artificial link-click\n    // https://stackoverflow.com/questions/45603201/window-is-not-allowed-to-navigate-top-frame-navigations-to-data-urls\n    const a = document.createElement('a');\n    a.href = 'data:image/svg+xml;base64,' + Utils.encode64(svg);\n    a.download = 'icon.svg';\n    a.style.display = 'none';\n    document.body.append(a); // Need to append for Firefox\n\n    a.click();\n\n    // Alert will only appear the first time saved OR the\n    //   first time the bug is encountered\n    let done = editor.pref('save_notice_done');\n\n    if (done !== 'all') {\n      let note = uiStrings.notification.saveFromBrowser.replace('%s', 'SVG');\n      // Check if FF and has <defs/>\n      if (isGecko()) {\n        if (svg.includes('<defs')) {\n          // warning about Mozilla bug #308590 when applicable (seems to be fixed now in Feb 2013)\n          note += '\\n\\n' + uiStrings.notification.defsFailOnSave;\n          editor.pref('save_notice_done', 'all');\n          done = 'all';\n        } else {\n          editor.pref('save_notice_done', 'part');\n        }\n      } else {\n        editor.pref('save_notice_done', 'all');\n      }\n      if (done !== 'part') {\n        $.alert(note);\n      }\n    }\n  };\n\n  /**\n   * @param {external:Window} win\n   * @param {module:svgcanvas.SvgCanvas#event:exported} data\n   * @listens module:svgcanvas.SvgCanvas#event:exported\n   * @returns {void}\n   */\n  const exportHandler = function (win, data) {\n    const {issues, exportWindowName} = data;\n\n    exportWindow = window.open(Utils.blankPageObjectURL || '', exportWindowName); // A hack to get the window via JSON-able name without opening a new one\n\n    if (!exportWindow || exportWindow.closed) {\n      /* await */ $.alert(uiStrings.notification.popupWindowBlocked);\n      return;\n    }\n\n    exportWindow.location.href = data.bloburl || data.datauri;\n    const done = editor.pref('export_notice_done');\n    if (done !== 'all') {\n      let note = uiStrings.notification.saveFromBrowser.replace('%s', data.type);\n\n      // Check if there are issues\n      if (issues.length) {\n        const pre = '\\n \\u2022 ';\n        note += ('\\n\\n' + uiStrings.notification.noteTheseIssues + pre + issues.join(pre));\n      }\n\n      // Note that this will also prevent the notice even though new issues may appear later.\n      // May want to find a way to deal with that without annoying the user\n      editor.pref('export_notice_done', 'all');\n      exportWindow.alert(note);\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const operaRepaint = function () {\n    // Repaints canvas in Opera. Needed for stroke-dasharray change as well as fill change\n    if (!window.opera) {\n      return;\n    }\n    $('<p/>').hide().appendTo('body').remove();\n  };\n\n  /**\n   *\n   * @param {Element} opt\n   * @param {boolean} changeElem\n   * @returns {void}\n   */\n  function setStrokeOpt (opt, changeElem) {\n    const {id} = opt;\n    const bits = id.split('_');\n    const [pre, val] = bits;\n\n    if (changeElem) {\n      svgCanvas.setStrokeAttr('stroke-' + pre, val);\n    }\n    operaRepaint();\n    setIcon('#cur_' + pre, id, 20);\n    $(opt).addClass('current').siblings().removeClass('current');\n  }\n\n  /**\n  * This is a common function used when a tool has been clicked (chosen).\n  * It does several common things:\n  * - Removes the `tool_button_current` class from whatever tool currently has it.\n  * - Hides any flyouts.\n  * - Adds the `tool_button_current` class to the button passed in.\n  * @function module:SVGEditor.toolButtonClick\n  * @param {string|Element} button The DOM element or string selector representing the toolbar button\n  * @param {boolean} noHiding Whether not to hide any flyouts\n  * @returns {boolean} Whether the button was disabled or not\n  */\n  const toolButtonClick = editor.toolButtonClick = function (button, noHiding) {\n    if ($(button).hasClass('disabled')) { return false; }\n    if ($(button).parent().hasClass('tools_flyout')) { return true; }\n    const fadeFlyouts = 'normal';\n    if (!noHiding) {\n      $('.tools_flyout').fadeOut(fadeFlyouts);\n    }\n    $('#styleoverrides').text('');\n    workarea.css('cursor', 'auto');\n    $('.tool_button_current').removeClass('tool_button_current').addClass('tool_button');\n    $(button).addClass('tool_button_current').removeClass('tool_button');\n    return true;\n  };\n\n  /**\n  * Unless the select toolbar button is disabled, sets the button\n  * and sets the select mode and cursor styles.\n  * @function module:SVGEditor.clickSelect\n  * @returns {void}\n  */\n  const clickSelect = editor.clickSelect = function () {\n    if (toolButtonClick('#tool_select')) {\n      svgCanvas.setMode('select');\n      $('#styleoverrides').text(`\n        #svgcanvas svg * {\n          cursor: move;\n          pointer-events: all;\n        }\n        #svgcanvas svg {\n          cursor: default;\n        }\n      `);\n    }\n  };\n\n  /**\n  * Set a selected image's URL.\n  * @function module:SVGEditor.setImageURL\n  * @param {string} url\n  * @returns {void}\n  */\n  const setImageURL = editor.setImageURL = function (url) {\n    if (!url) {\n      url = defaultImageURL;\n    }\n    svgCanvas.setImageURL(url);\n    $('#image_url').val(url);\n\n    if (url.startsWith('data:')) {\n      // data URI found\n      $('#image_url').hide();\n      $('#change_image_url').show();\n    } else {\n      // regular URL\n      svgCanvas.embedImage(url, function (dataURI) {\n        // Couldn't embed, so show warning\n        $('#url_notice').toggle(!dataURI);\n        defaultImageURL = url;\n      });\n      $('#image_url').show();\n      $('#change_image_url').hide();\n    }\n  };\n\n  /**\n   *\n   * @param {string} color\n   * @param {string} url\n   * @returns {void}\n   */\n  function setBackground (color, url) {\n    // if (color == editor.pref('bkgd_color') && url == editor.pref('bkgd_url')) { return; }\n    editor.pref('bkgd_color', color);\n    editor.pref('bkgd_url', url, true);\n\n    // This should be done in svgcanvas.js for the borderRect fill\n    svgCanvas.setBackground(color, url);\n  }\n\n  /**\n   * @param {PlainObject} [opts={}]\n   * @param {boolean} [opts.cancelDeletes=false}]\n   * @returns {Promise<void>} Resolves to `undefined`\n   */\n  async function promptImgURL ({cancelDeletes = false} = {}) {\n    let curhref = svgCanvas.getHref(selectedElement);\n    curhref = curhref.startsWith('data:') ? '' : curhref;\n    const url = await $.prompt(uiStrings.notification.enterNewImgURL, curhref);\n    if (url) {\n      setImageURL(url);\n    } else if (cancelDeletes) {\n      svgCanvas.deleteSelectedElements();\n    }\n  }\n\n  /**\n  * @param {Element} elem\n  * @returns {void}\n  */\n  const setInputWidth = function (elem) {\n    const w = Math.min(Math.max(12 + elem.value.length * 6, 50), 300);\n    $(elem).width(w);\n  };\n\n  /**\n   *\n   * @param {HTMLDivElement} [scanvas]\n   * @param {Float} [zoom]\n   * @returns {void}\n   */\n  function updateRulers (scanvas, zoom) {\n    if (!zoom) { zoom = svgCanvas.getZoom(); }\n    if (!scanvas) { scanvas = $('#svgcanvas'); }\n\n    let d, i;\n    const limit = 30000;\n    const contentElem = svgCanvas.getContentElem();\n    const units = getTypeMap();\n    const unit = units[curConfig.baseUnit]; // 1 = 1px\n\n    // draw x ruler then y ruler\n    for (d = 0; d < 2; d++) {\n      const isX = (d === 0);\n      const dim = isX ? 'x' : 'y';\n      const lentype = isX ? 'width' : 'height';\n      const contentDim = Number(contentElem.getAttribute(dim));\n\n      const $hcanvOrig = $('#ruler_' + dim + ' canvas:first');\n\n      // Bit of a hack to fully clear the canvas in Safari & IE9\n      const $hcanv = $hcanvOrig.clone();\n      $hcanvOrig.replaceWith($hcanv);\n\n      const hcanv = $hcanv[0];\n\n      // Set the canvas size to the width of the container\n      let rulerLen = scanvas[lentype]();\n      const totalLen = rulerLen;\n      hcanv.parentNode.style[lentype] = totalLen + 'px';\n      let ctx = hcanv.getContext('2d');\n      let ctxArr, num, ctxArrNum;\n\n      ctx.fillStyle = 'rgb(200,0,0)';\n      ctx.fillRect(0, 0, hcanv.width, hcanv.height);\n\n      // Remove any existing canvasses\n      $hcanv.siblings().remove();\n\n      // Create multiple canvases when necessary (due to browser limits)\n      if (rulerLen >= limit) {\n        ctxArrNum = Number.parseInt(rulerLen / limit) + 1;\n        ctxArr = [];\n        ctxArr[0] = ctx;\n        let copy;\n        for (i = 1; i < ctxArrNum; i++) {\n          hcanv[lentype] = limit;\n          copy = hcanv.cloneNode(true);\n          hcanv.parentNode.append(copy);\n          ctxArr[i] = copy.getContext('2d');\n        }\n\n        copy[lentype] = rulerLen % limit;\n\n        // set copy width to last\n        rulerLen = limit;\n      }\n\n      hcanv[lentype] = rulerLen;\n\n      const uMulti = unit * zoom;\n\n      // Calculate the main number interval\n      const rawM = 50 / uMulti;\n      let multi = 1;\n      for (i = 0; i < rIntervals.length; i++) {\n        num = rIntervals[i];\n        multi = num;\n        if (rawM <= num) {\n          break;\n        }\n      }\n\n      const bigInt = multi * uMulti;\n\n      ctx.font = '9px sans-serif';\n\n      let rulerD = ((contentDim / uMulti) % multi) * uMulti;\n      let labelPos = rulerD - bigInt;\n      // draw big intervals\n      let ctxNum = 0;\n      while (rulerD < totalLen) {\n        labelPos += bigInt;\n        // const realD = rulerD - contentDim; // Currently unused\n\n        const curD = Math.round(rulerD) + 0.5;\n        if (isX) {\n          ctx.moveTo(curD, 15);\n          ctx.lineTo(curD, 0);\n        } else {\n          ctx.moveTo(15, curD);\n          ctx.lineTo(0, curD);\n        }\n\n        num = (labelPos - contentDim) / uMulti;\n        let label;\n        if (multi >= 1) {\n          label = Math.round(num);\n        } else {\n          const decs = String(multi).split('.')[1].length;\n          label = num.toFixed(decs);\n        }\n\n        // Change 1000s to Ks\n        if (label !== 0 && label !== 1000 && label % 1000 === 0) {\n          label = (label / 1000) + 'K';\n        }\n\n        if (isX) {\n          ctx.fillText(label, rulerD + 2, 8);\n        } else {\n          // draw label vertically\n          const str = String(label).split('');\n          for (i = 0; i < str.length; i++) {\n            ctx.fillText(str[i], 1, (rulerD + 9) + i * 9);\n          }\n        }\n\n        const part = bigInt / 10;\n        // draw the small intervals\n        for (i = 1; i < 10; i++) {\n          let subD = Math.round(rulerD + part * i) + 0.5;\n          if (ctxArr && subD > rulerLen) {\n            ctxNum++;\n            ctx.stroke();\n            if (ctxNum >= ctxArrNum) {\n              i = 10;\n              rulerD = totalLen;\n              continue;\n            }\n            ctx = ctxArr[ctxNum];\n            rulerD -= limit;\n            subD = Math.round(rulerD + part * i) + 0.5;\n          }\n\n          // odd lines are slighly longer\n          const lineNum = (i % 2) ? 12 : 10;\n          if (isX) {\n            ctx.moveTo(subD, 15);\n            ctx.lineTo(subD, lineNum);\n          } else {\n            ctx.moveTo(15, subD);\n            ctx.lineTo(lineNum, subD);\n          }\n        }\n        rulerD += bigInt;\n      }\n      ctx.strokeStyle = '#000';\n      ctx.stroke();\n    }\n  }\n\n  /**\n  * @function module:SVGEditor.updateCanvas\n  * @param {boolean} center\n  * @param {module:math.XYObject} newCtr\n  * @returns {void}\n  */\n  const updateCanvas = editor.updateCanvas = function (center, newCtr) {\n    const zoom = svgCanvas.getZoom();\n    const wArea = workarea;\n    const cnvs = $('#svgcanvas');\n\n    let w = workarea.width(), h = workarea.height();\n    const wOrig = w, hOrig = h;\n    const oldCtr = {\n      x: wArea[0].scrollLeft + wOrig / 2,\n      y: wArea[0].scrollTop + hOrig / 2\n    };\n    const multi = curConfig.canvas_expansion;\n    w = Math.max(wOrig, svgCanvas.contentW * zoom * multi);\n    h = Math.max(hOrig, svgCanvas.contentH * zoom * multi);\n\n    if (w === wOrig && h === hOrig) {\n      workarea.css('overflow', 'hidden');\n    } else {\n      workarea.css('overflow', 'scroll');\n    }\n\n    const oldCanY = cnvs.height() / 2;\n    const oldCanX = cnvs.width() / 2;\n    cnvs.width(w).height(h);\n    const newCanY = h / 2;\n    const newCanX = w / 2;\n    const offset = svgCanvas.updateCanvas(w, h);\n\n    const ratio = newCanX / oldCanX;\n\n    const scrollX = w / 2 - wOrig / 2; // eslint-disable-line no-shadow\n    const scrollY = h / 2 - hOrig / 2; // eslint-disable-line no-shadow\n\n    if (!newCtr) {\n      const oldDistX = oldCtr.x - oldCanX;\n      const newX = newCanX + oldDistX * ratio;\n\n      const oldDistY = oldCtr.y - oldCanY;\n      const newY = newCanY + oldDistY * ratio;\n\n      newCtr = {\n        x: newX,\n        y: newY\n      };\n    } else {\n      newCtr.x += offset.x;\n      newCtr.y += offset.y;\n    }\n\n    if (center) {\n      // Go to top-left for larger documents\n      if (svgCanvas.contentW > wArea.width()) {\n        // Top-left\n        workarea[0].scrollLeft = offset.x - 10;\n        workarea[0].scrollTop = offset.y - 10;\n      } else {\n        // Center\n        wArea[0].scrollLeft = scrollX;\n        wArea[0].scrollTop = scrollY;\n      }\n    } else {\n      wArea[0].scrollLeft = newCtr.x - wOrig / 2;\n      wArea[0].scrollTop = newCtr.y - hOrig / 2;\n    }\n    if (curConfig.showRulers) {\n      updateRulers(cnvs, zoom);\n      workarea.scroll();\n    }\n\n    if (urldata.storagePrompt !== true && editor.storagePromptState === 'ignore') {\n      $('#dialog_box').hide();\n    }\n  };\n\n  /**\n   * @fires module:svgcanvas.SvgCanvas#event:ext_toolButtonStateUpdate\n   * @returns {void}\n   */\n  const updateToolButtonState = function () {\n    const bNoFill = (svgCanvas.getColor('fill') === 'none');\n    const bNoStroke = (svgCanvas.getColor('stroke') === 'none');\n    const buttonsNeedingStroke = ['#tool_fhpath', '#tool_line'];\n    const buttonsNeedingFillAndStroke = [\n      '#tools_rect .tool_button', '#tools_ellipse .tool_button',\n      '#tool_text', '#tool_path'\n    ];\n\n    if (bNoStroke) {\n      buttonsNeedingStroke.forEach((btn) => {\n        if ($(btn).hasClass('tool_button_current')) {\n          clickSelect();\n        }\n        $(btn).addClass('disabled');\n      });\n    } else {\n      buttonsNeedingStroke.forEach((btn) => {\n        $(btn).removeClass('disabled');\n      });\n    }\n\n    if (bNoStroke && bNoFill) {\n      buttonsNeedingFillAndStroke.forEach((btn) => {\n        if ($(btn).hasClass('tool_button_current')) {\n          clickSelect();\n        }\n        $(btn).addClass('disabled');\n      });\n    } else {\n      buttonsNeedingFillAndStroke.forEach((btn) => {\n        $(btn).removeClass('disabled');\n      });\n    }\n\n    svgCanvas.runExtensions(\n      'toolButtonStateUpdate',\n      /** @type {module:svgcanvas.SvgCanvas#event:ext_toolButtonStateUpdate} */ {\n        nofill: bNoFill,\n        nostroke: bNoStroke\n      }\n    );\n\n    // Disable flyouts if all inside are disabled\n    $('.tools_flyout').each(function () {\n      const shower = $('#' + this.id + '_show');\n      let hasEnabled = false;\n      $(this).children().each(function () {\n        if (!$(this).hasClass('disabled')) {\n          hasEnabled = true;\n        }\n      });\n      shower.toggleClass('disabled', !hasEnabled);\n    });\n\n    operaRepaint();\n  };\n\n  /**\n  * Updates the toolbar (colors, opacity, etc) based on the selected element.\n  * This function also updates the opacity and id elements that are in the\n  * context panel.\n  * @returns {void}\n  */\n  const updateToolbar = function () {\n    let i, len;\n    if (!Utils.isNullish(selectedElement)) {\n      switch (selectedElement.tagName) {\n      case 'use':\n      case 'image':\n      case 'foreignObject':\n        break;\n      case 'g':\n      case 'a': {\n        // Look for common styles\n        const childs = selectedElement.getElementsByTagName('*');\n        let gWidth = null;\n        for (i = 0, len = childs.length; i < len; i++) {\n          const swidth = childs[i].getAttribute('stroke-width');\n\n          if (i === 0) {\n            gWidth = swidth;\n          } else if (gWidth !== swidth) {\n            gWidth = null;\n          }\n        }\n\n        $('#stroke_width').val(gWidth === null ? '' : gWidth);\n\n        paintBox.fill.update(true);\n        paintBox.stroke.update(true);\n\n        break;\n      } default: {\n        paintBox.fill.update(true);\n        paintBox.stroke.update(true);\n\n        $('#stroke_width').val(selectedElement.getAttribute('stroke-width') || 1);\n        $('#stroke_style').val(selectedElement.getAttribute('stroke-dasharray') || 'none');\n\n        let attr = selectedElement.getAttribute('stroke-linejoin') || 'miter';\n\n        if ($('#linejoin_' + attr).length) {\n          setStrokeOpt($('#linejoin_' + attr)[0]);\n        }\n\n        attr = selectedElement.getAttribute('stroke-linecap') || 'butt';\n\n        if ($('#linecap_' + attr).length) {\n          setStrokeOpt($('#linecap_' + attr)[0]);\n        }\n      }\n      }\n    }\n\n    // All elements including image and group have opacity\n    if (!Utils.isNullish(selectedElement)) {\n      const opacPerc = (selectedElement.getAttribute('opacity') || 1.0) * 100;\n      $('#group_opacity').val(opacPerc);\n      $('#opac_slider').slider('option', 'value', opacPerc);\n      $('#elem_id').val(selectedElement.id);\n      $('#elem_class').val(selectedElement.getAttribute('class'));\n    }\n\n    updateToolButtonState();\n  };\n\n  /**\n  * Updates the context panel tools based on the selected element.\n  * @returns {void}\n  */\n  const updateContextPanel = function () {\n    let elem = selectedElement;\n    // If element has just been deleted, consider it null\n    if (!Utils.isNullish(elem) && !elem.parentNode) { elem = null; }\n    const currentLayerName = svgCanvas.getCurrentDrawing().getCurrentLayerName();\n    const currentMode = svgCanvas.getMode();\n    const unit = curConfig.baseUnit !== 'px' ? curConfig.baseUnit : null;\n\n    const isNode = currentMode === 'pathedit'; // elem ? (elem.id && elem.id.startsWith('pathpointgrip')) : false;\n    const menuItems = $('#cmenu_canvas li');\n    $('#selected_panel, #multiselected_panel, #g_panel, #rect_panel, #circle_panel,' +\n      '#ellipse_panel, #line_panel, #text_panel, #image_panel, #container_panel,' +\n      ' #use_panel, #a_panel').hide();\n    if (!Utils.isNullish(elem)) {\n      const elname = elem.nodeName;\n      // If this is a link with no transform and one child, pretend\n      // its child is selected\n      // if (elname === 'a') { // && !$(elem).attr('transform')) {\n      //   elem = elem.firstChild;\n      // }\n\n      const angle = svgCanvas.getRotationAngle(elem);\n      $('#angle').val(angle);\n\n      const blurval = svgCanvas.getBlur(elem);\n      $('#blur').val(blurval);\n      $('#blur_slider').slider('option', 'value', blurval);\n\n      if (svgCanvas.addedNew) {\n        if (elname === 'image' && svgCanvas.getMode() === 'image') {\n          // Prompt for URL if not a data URL\n          if (!svgCanvas.getHref(elem).startsWith('data:')) {\n            /* await */ promptImgURL({cancelDeletes: true});\n          }\n        }\n        /* else if (elname == 'text') {\n          // TODO: Do something here for new text\n        } */\n      }\n\n      if (!isNode && currentMode !== 'pathedit') {\n        $('#selected_panel').show();\n        // Elements in this array already have coord fields\n        if (['line', 'circle', 'ellipse'].includes(elname)) {\n          $('#xy_panel').hide();\n        } else {\n          let x, y;\n\n          // Get BBox vals for g, polyline and path\n          if (['g', 'polyline', 'path'].includes(elname)) {\n            const bb = svgCanvas.getStrokedBBox([elem]);\n            if (bb) {\n              ({x, y} = bb);\n            }\n          } else {\n            x = elem.getAttribute('x');\n            y = elem.getAttribute('y');\n          }\n\n          if (unit) {\n            x = convertUnit(x);\n            y = convertUnit(y);\n          }\n\n          $('#selected_x').val(x || 0);\n          $('#selected_y').val(y || 0);\n          $('#xy_panel').show();\n        }\n\n        // Elements in this array cannot be converted to a path\n        const noPath = !['image', 'text', 'path', 'g', 'use'].includes(elname);\n        $('#tool_topath').toggle(noPath);\n        $('#tool_reorient').toggle(elname === 'path');\n        $('#tool_reorient').toggleClass('disabled', angle === 0);\n      } else {\n        const point = path.getNodePoint();\n        $('#tool_add_subpath').removeClass('push_button_pressed').addClass('tool_button');\n        $('#tool_node_delete').toggleClass('disabled', !path.canDeleteNodes);\n\n        // Show open/close button based on selected point\n        setIcon('#tool_openclose_path', path.closed_subpath ? 'open_path' : 'close_path');\n\n        if (point) {\n          const segType = $('#seg_type');\n          if (unit) {\n            point.x = convertUnit(point.x);\n            point.y = convertUnit(point.y);\n          }\n          $('#path_node_x').val(point.x);\n          $('#path_node_y').val(point.y);\n          if (point.type) {\n            segType.val(point.type).removeAttr('disabled');\n          } else {\n            segType.val(4).attr('disabled', 'disabled');\n          }\n        }\n        return;\n      }\n\n      // update contextual tools here\n      const panels = {\n        g: [],\n        a: [],\n        rect: ['rx', 'width', 'height'],\n        image: ['width', 'height'],\n        circle: ['cx', 'cy', 'r'],\n        ellipse: ['cx', 'cy', 'rx', 'ry'],\n        line: ['x1', 'y1', 'x2', 'y2'],\n        text: [],\n        use: []\n      };\n\n      const {tagName} = elem;\n\n      // if ($(elem).data('gsvg')) {\n      //   $('#g_panel').show();\n      // }\n\n      let linkHref = null;\n      if (tagName === 'a') {\n        linkHref = svgCanvas.getHref(elem);\n        $('#g_panel').show();\n      }\n\n      if (elem.parentNode.tagName === 'a') {\n        if (!$(elem).siblings().length) {\n          $('#a_panel').show();\n          linkHref = svgCanvas.getHref(elem.parentNode);\n        }\n      }\n\n      // Hide/show the make_link buttons\n      $('#tool_make_link, #tool_make_link').toggle(!linkHref);\n\n      if (linkHref) {\n        $('#link_url').val(linkHref);\n      }\n\n      if (panels[tagName]) {\n        const curPanel = panels[tagName];\n\n        $('#' + tagName + '_panel').show();\n\n        $.each(curPanel, function (i, item) {\n          let attrVal = elem.getAttribute(item);\n          if (curConfig.baseUnit !== 'px' && elem[item]) {\n            const bv = elem[item].baseVal.value;\n            attrVal = convertUnit(bv);\n          }\n          $('#' + tagName + '_' + item).val(attrVal || 0);\n        });\n\n        if (tagName === 'text') {\n          $('#text_panel').css('display', 'inline');\n          $('#tool_font_size').css('display', 'inline');\n          if (svgCanvas.getItalic()) {\n            $('#tool_italic').addClass('push_button_pressed').removeClass('tool_button');\n          } else {\n            $('#tool_italic').removeClass('push_button_pressed').addClass('tool_button');\n          }\n          if (svgCanvas.getBold()) {\n            $('#tool_bold').addClass('push_button_pressed').removeClass('tool_button');\n          } else {\n            $('#tool_bold').removeClass('push_button_pressed').addClass('tool_button');\n          }\n          $('#font_family').val(elem.getAttribute('font-family'));\n          $('#font_size').val(elem.getAttribute('font-size'));\n          $('#text').val(elem.textContent);\n          if (svgCanvas.addedNew) {\n            // Timeout needed for IE9\n            setTimeout(function () {\n              $('#text').focus().select();\n            }, 100);\n          }\n        // text\n        } else if (tagName === 'image' && svgCanvas.getMode() === 'image') {\n          setImageURL(svgCanvas.getHref(elem));\n        // image\n        } else if (tagName === 'g' || tagName === 'use') {\n          $('#container_panel').show();\n          const title = svgCanvas.getTitle();\n          const label = $('#g_title')[0];\n          label.value = title;\n          setInputWidth(label);\n          $('#g_title').prop('disabled', tagName === 'use');\n        }\n      }\n      menuItems[(tagName === 'g' ? 'en' : 'dis') + 'ableContextMenuItems']('#ungroup');\n      menuItems[((tagName === 'g' || !multiselected) ? 'dis' : 'en') + 'ableContextMenuItems']('#group');\n    // if (!Utils.isNullish(elem))\n    } else if (multiselected) {\n      $('#multiselected_panel').show();\n      menuItems\n        .enableContextMenuItems('#group')\n        .disableContextMenuItems('#ungroup');\n    } else {\n      menuItems.disableContextMenuItems('#delete,#cut,#copy,#group,#ungroup,#move_front,#move_up,#move_down,#move_back');\n    }\n\n    // update history buttons\n    $('#tool_undo').toggleClass('disabled', undoMgr.getUndoStackSize() === 0);\n    $('#tool_redo').toggleClass('disabled', undoMgr.getRedoStackSize() === 0);\n\n    svgCanvas.addedNew = false;\n\n    if ((elem && !isNode) || multiselected) {\n      // update the selected elements' layer\n      $('#selLayerNames').removeAttr('disabled').val(currentLayerName);\n\n      // Enable regular menu options\n      canvMenu.enableContextMenuItems(\n        '#delete,#cut,#copy,#move_front,#move_up,#move_down,#move_back'\n      );\n    } else {\n      $('#selLayerNames').attr('disabled', 'disabled');\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const updateWireFrame = function () {\n    // Test support\n    if (supportsNonSS) { return; }\n\n    const rule = `\n      #workarea.wireframe #svgcontent * {\n        stroke-width: ${1 / svgCanvas.getZoom()}px;\n      }\n    `;\n    $('#wireframe_rules').text(workarea.hasClass('wireframe') ? rule : '');\n  };\n\n  let curContext = '';\n\n  /**\n  * @param {string} [title=svgCanvas.getDocumentTitle()]\n  * @returns {void}\n  */\n  const updateTitle = function (title) {\n    title = title || svgCanvas.getDocumentTitle();\n    const newTitle = origTitle + (title ? ': ' + title : '');\n\n    // Remove title update with current context info, isn't really necessary\n    // if (curContext) {\n    //   new_title = new_title + curContext;\n    // }\n    $('title:first').text(newTitle);\n  };\n\n  // called when we've selected a different element\n  /**\n  *\n  * @param {external:Window} win\n  * @param {module:svgcanvas.SvgCanvas#event:selected} elems Array of elements that were selected\n  * @listens module:svgcanvas.SvgCanvas#event:selected\n  * @fires module:svgcanvas.SvgCanvas#event:ext_selectedChanged\n  * @returns {void}\n  */\n  const selectedChanged = function (win, elems) {\n    const mode = svgCanvas.getMode();\n    if (mode === 'select') {\n      setSelectMode();\n    }\n    const isNode = mode === 'pathedit';\n    // if elems[1] is present, then we have more than one element\n    selectedElement = (elems.length === 1 || Utils.isNullish(elems[1]) ? elems[0] : null);\n    multiselected = (elems.length >= 2 && !Utils.isNullish(elems[1]));\n    if (!Utils.isNullish(selectedElement)) {\n      // unless we're already in always set the mode of the editor to select because\n      // upon creation of a text element the editor is switched into\n      // select mode and this event fires - we need our UI to be in sync\n\n      if (!isNode) {\n        updateToolbar();\n      }\n    } // if (!Utils.isNullish(elem))\n\n    // Deal with pathedit mode\n    togglePathEditMode(isNode, elems);\n    updateContextPanel();\n    svgCanvas.runExtensions('selectedChanged', /** @type {module:svgcanvas.SvgCanvas#event:ext_selectedChanged} */ {\n      elems,\n      selectedElement,\n      multiselected\n    });\n  };\n\n  // Call when part of element is in process of changing, generally\n  // on mousemove actions like rotate, move, etc.\n  /**\n   * @param {external:Window} win\n   * @param {module:svgcanvas.SvgCanvas#event:transition} elems\n   * @listens module:svgcanvas.SvgCanvas#event:transition\n   * @fires module:svgcanvas.SvgCanvas#event:ext_elementTransition\n   * @returns {void}\n   */\n  const elementTransition = function (win, elems) {\n    const mode = svgCanvas.getMode();\n    const elem = elems[0];\n\n    if (!elem) {\n      return;\n    }\n\n    multiselected = (elems.length >= 2 && !Utils.isNullish(elems[1]));\n    // Only updating fields for single elements for now\n    if (!multiselected) {\n      switch (mode) {\n      case 'rotate': {\n        const ang = svgCanvas.getRotationAngle(elem);\n        $('#angle').val(ang);\n        $('#tool_reorient').toggleClass('disabled', ang === 0);\n        break;\n\n      // TODO: Update values that change on move/resize, etc\n      // } case 'select': {\n      // } case 'resize': {\n      //   break;\n      // }\n      }\n      }\n    }\n    svgCanvas.runExtensions('elementTransition', /** @type {module:svgcanvas.SvgCanvas#event:ext_elementTransition} */ {\n      elems\n    });\n  };\n\n  /**\n   * Test whether an element is a layer or not.\n   * @param {SVGGElement} elem - The SVGGElement to test.\n   * @returns {boolean} True if the element is a layer\n   */\n  function isLayer (elem) {\n    return elem && elem.tagName === 'g' && Layer.CLASS_REGEX.test(elem.getAttribute('class'));\n  }\n\n  // called when any element has changed\n  /**\n   * @param {external:Window} win\n   * @param {module:svgcanvas.SvgCanvas#event:changed} elems\n   * @listens module:svgcanvas.SvgCanvas#event:changed\n   * @fires module:svgcanvas.SvgCanvas#event:ext_elementChanged\n   * @returns {void}\n   */\n  const elementChanged = function (win, elems) {\n    const mode = svgCanvas.getMode();\n    if (mode === 'select') {\n      setSelectMode();\n    }\n\n    elems.forEach((elem) => {\n      const isSvgElem = (elem && elem.tagName === 'svg');\n      if (isSvgElem || isLayer(elem)) {\n        populateLayers();\n        // if the element changed was the svg, then it could be a resolution change\n        if (isSvgElem) {\n          updateCanvas();\n        }\n      // Update selectedElement if element is no longer part of the image.\n      // This occurs for the text elements in Firefox\n      } else if (elem && selectedElement && Utils.isNullish(selectedElement.parentNode)) {\n        // || elem && elem.tagName == \"path\" && !multiselected) { // This was added in r1430, but not sure why\n        selectedElement = elem;\n      }\n    });\n\n    editor.showSaveWarning = true;\n\n    // we update the contextual panel with potentially new\n    // positional/sizing information (we DON'T want to update the\n    // toolbar here as that creates an infinite loop)\n    // also this updates the history buttons\n\n    // we tell it to skip focusing the text control if the\n    // text element was previously in focus\n    updateContextPanel();\n\n    // In the event a gradient was flipped:\n    if (selectedElement && mode === 'select') {\n      paintBox.fill.update();\n      paintBox.stroke.update();\n    }\n\n    svgCanvas.runExtensions('elementChanged', /** @type {module:svgcanvas.SvgCanvas#event:ext_elementChanged} */ {\n      elems\n    });\n  };\n\n  /**\n   * @returns {void}\n   */\n  const zoomDone = function () {\n    updateWireFrame();\n    // updateCanvas(); // necessary?\n  };\n\n  /**\n  * @typedef {PlainObject} module:SVGEditor.BBoxObjectWithFactor (like `DOMRect`)\n  * @property {Float} x\n  * @property {Float} y\n  * @property {Float} width\n  * @property {Float} height\n  * @property {Float} [factor] Needed if width or height are 0\n  * @property {Float} [zoom]\n  * @see module:svgcanvas.SvgCanvas#event:zoomed\n  */\n\n  /**\n  * @function module:svgcanvas.SvgCanvas#zoomChanged\n  * @param {external:Window} win\n  * @param {module:svgcanvas.SvgCanvas#event:zoomed} bbox\n  * @param {boolean} autoCenter\n  * @listens module:svgcanvas.SvgCanvas#event:zoomed\n  * @returns {void}\n  */\n  const zoomChanged = svgCanvas.zoomChanged = function (win, bbox, autoCenter) {\n    const scrbar = 15,\n      // res = svgCanvas.getResolution(), // Currently unused\n      wArea = workarea;\n    // const canvasPos = $('#svgcanvas').position(); // Currently unused\n    const zInfo = svgCanvas.setBBoxZoom(bbox, wArea.width() - scrbar, wArea.height() - scrbar);\n    if (!zInfo) { return; }\n    const zoomlevel = zInfo.zoom,\n      bb = zInfo.bbox;\n\n    if (zoomlevel < 0.001) {\n      changeZoom({value: 0.1});\n      return;\n    }\n\n    $('#zoom').val((zoomlevel * 100).toFixed(1));\n\n    if (autoCenter) {\n      updateCanvas();\n    } else {\n      updateCanvas(false, {x: bb.x * zoomlevel + (bb.width * zoomlevel) / 2, y: bb.y * zoomlevel + (bb.height * zoomlevel) / 2});\n    }\n\n    if (svgCanvas.getMode() === 'zoom' && bb.width) {\n      // Go to select if a zoom box was drawn\n      setSelectMode();\n    }\n\n    zoomDone();\n  };\n\n  /**\n  * @type {module:jQuerySpinButton.ValueCallback}\n  */\n  const changeZoom = function (ctl) {\n    const zoomlevel = ctl.value / 100;\n    if (zoomlevel < 0.001) {\n      ctl.value = 0.1;\n      return;\n    }\n    const zoom = svgCanvas.getZoom();\n    const wArea = workarea;\n\n    zoomChanged(window, {\n      width: 0,\n      height: 0,\n      // center pt of scroll position\n      x: (wArea[0].scrollLeft + wArea.width() / 2) / zoom,\n      y: (wArea[0].scrollTop + wArea.height() / 2) / zoom,\n      zoom: zoomlevel\n    }, true);\n  };\n\n  $('#cur_context_panel').delegate('a', 'click', function () {\n    const link = $(this);\n    if (link.attr('data-root')) {\n      svgCanvas.leaveContext();\n    } else {\n      svgCanvas.setContext(link.text());\n    }\n    svgCanvas.clearSelection();\n    return false;\n  });\n\n  /**\n   * @param {external:Window} win\n   * @param {module:svgcanvas.SvgCanvas#event:contextset} context\n   * @listens module:svgcanvas.SvgCanvas#event:contextset\n   * @returns {void}\n   */\n  const contextChanged = function (win, context) {\n    let linkStr = '';\n    if (context) {\n      let str = '';\n      linkStr = '<a href=\"#\" data-root=\"y\">' + svgCanvas.getCurrentDrawing().getCurrentLayerName() + '</a>';\n\n      $(context).parentsUntil('#svgcontent > g').andSelf().each(function () {\n        if (this.id) {\n          str += ' > ' + this.id;\n          if (this !== context) {\n            linkStr += ' > <a href=\"#\">' + this.id + '</a>';\n          } else {\n            linkStr += ' > ' + this.id;\n          }\n        }\n      });\n\n      curContext = str;\n    } else {\n      curContext = null;\n    }\n    $('#cur_context_panel').toggle(Boolean(context)).html(linkStr);\n\n    updateTitle();\n  };\n\n  /**\n  * Makes sure the current selected paint is available to work with.\n  * @returns {void}\n  */\n  const prepPaints = function () {\n    paintBox.fill.prep();\n    paintBox.stroke.prep();\n  };\n\n  const flyoutFuncs = {};\n\n  /**\n  *\n  * @returns {void}\n  */\n  const setFlyoutTitles = function () {\n    $('.tools_flyout').each(function () {\n      const shower = $('#' + this.id + '_show');\n      if (shower.data('isLibrary')) {\n        return;\n      }\n\n      const tooltips = $(this).children().map(function () {\n        return this.title;\n      }).get();\n      shower[0].title = tooltips.join(' / ');\n    });\n  };\n\n  const allHolders = {};\n  /**\n   * @param {PlainObject<string, module:SVGEditor.ToolButton>} holders Key is a selector\n   * @returns {void}\n   */\n  const setupFlyouts = function (holders) {\n    $.each(holders, function (holdSel, btnOpts) {\n      if (!allHolders[holdSel]) {\n        allHolders[holdSel] = [];\n      }\n      allHolders[holdSel].push(...btnOpts);\n\n      const buttons = $(holdSel).children().not('.tool_button_evt_handled');\n      const showSel = holdSel + '_show';\n      const shower = $(showSel);\n      let def = false;\n      buttons.addClass('tool_button tool_button_evt_handled')\n        .unbind('click mousedown mouseup') // may not be necessary\n        .each(function () {\n          // Get this button's options\n          const idSel = '#' + this.getAttribute('id');\n          const [i, opts] = Object.entries(btnOpts).find(([_, {sel}]) => {\n            return sel === idSel;\n          });\n\n          // Remember the function that goes with this ID\n          flyoutFuncs[opts.sel] = opts.fn;\n\n          if (opts.isDefault) { def = i; }\n\n          /**\n           * Clicking the icon in flyout should set this set's icon.\n           * @param {Event} ev\n           * @returns {boolean}\n           */\n          const flyoutAction = function (ev) {\n            let options = opts;\n            // Find the currently selected tool if comes from keystroke\n            if (ev.type === 'keydown') {\n              const flyoutIsSelected = $(options.parent + '_show').hasClass('tool_button_current');\n              const currentOperation = $(options.parent + '_show').attr('data-curopt');\n              Object.entries(holders[opts.parent]).some(([j, tool]) => {\n                if (tool.sel !== currentOperation) {\n                  return false;\n                }\n                if (!ev.shiftKey || !flyoutIsSelected) {\n                  options = tool;\n                } else {\n                  // If flyout is selected, allow shift key to iterate through subitems\n                  j = Number.parseInt(j);\n                  // Use `allHolders` to include both extension `includeWith` and toolbarButtons\n                  options = allHolders[opts.parent][j + 1] ||\n                    holders[opts.parent][0];\n                }\n                return true;\n              });\n            }\n            if ($(this).hasClass('disabled')) { return false; }\n            if (toolButtonClick(showSel)) {\n              options.fn();\n            }\n            let icon;\n            if (options.icon) {\n              icon = $.getSvgIcon(options.icon, true);\n            } else {\n              icon = $(options.sel).children().eq(0).clone();\n            }\n\n            icon[0].setAttribute('width', shower.width());\n            icon[0].setAttribute('height', shower.height());\n            shower.children(':not(.flyout_arrow_horiz)').remove();\n            shower.append(icon).attr('data-curopt', options.sel); // This sets the current mode\n            return true;\n          };\n\n          $(this).mouseup(flyoutAction);\n\n          if (opts.key) {\n            $(document).bind('keydown', opts.key[0] + ' shift+' + opts.key[0], flyoutAction);\n          }\n          return true;\n        });\n\n      if (def) {\n        shower.attr('data-curopt', btnOpts[def].sel);\n      } else if (!shower.attr('data-curopt')) {\n        // Set first as default\n        shower.attr('data-curopt', btnOpts[0].sel);\n      }\n\n      let timer;\n\n      // Clicking the \"show\" icon should set the current mode\n      shower.mousedown(function (evt) {\n        if (shower.hasClass('disabled')) {\n          return false;\n        }\n        const holder = $(holdSel);\n        const pos = $(showSel).position();\n        const l = pos.left + 34;\n        const w = holder.width() * -1;\n        const time = holder.data('shown_popop') ? 200 : 0;\n        timer = setTimeout(function () {\n          // Show corresponding menu\n          if (!shower.data('isLibrary')) {\n            holder.css('left', w).show().animate({\n              left: l\n            }, 150);\n          } else {\n            holder.css('left', l).show();\n          }\n          holder.data('shown_popop', true);\n        }, time);\n        evt.preventDefault();\n        return true;\n      }).mouseup(function (evt) {\n        clearTimeout(timer);\n        const opt = $(this).attr('data-curopt');\n        // Is library and popped up, so do nothing\n        if (shower.data('isLibrary') && $(showSel.replace('_show', '')).is(':visible')) {\n          toolButtonClick(showSel, true);\n          return;\n        }\n        if (toolButtonClick(showSel) && flyoutFuncs[opt]) {\n          flyoutFuncs[opt]();\n        }\n      });\n      // $('#tools_rect').mouseleave(function () { $('#tools_rect').fadeOut(); });\n    });\n    setFlyoutTitles();\n    setFlyoutPositions();\n  };\n\n  /**\n  * @param {string} id\n  * @param {external:jQuery} child\n  * @returns {external:jQuery}\n  */\n  const makeFlyoutHolder = function (id, child) {\n    const div = $('<div>', {\n      class: 'tools_flyout',\n      id\n    }).appendTo('#svg_editor').append(child);\n\n    return div;\n  };\n\n  /**\n  * @param {string} elemSel\n  * @param {string} listSel\n  * @param {external:jQuery.Function} callback\n  * @param {PlainObject} opts\n  * @param {boolean} opts.dropUp\n  * @param {boolean} opts.seticon\n  * @param {boolean} opts.multiclick\n  * @todo Combine this with `addDropDown` or find other way to optimize.\n  * @returns {void}\n  */\n  const addAltDropDown = function (elemSel, listSel, callback, opts) {\n    const button = $(elemSel);\n    const {dropUp} = opts;\n    const list = $(listSel);\n    if (dropUp) {\n      $(elemSel).addClass('dropup');\n    }\n    list.find('li').bind('mouseup', function (...args) {\n      if (opts.seticon) {\n        setIcon('#cur_' + button[0].id, $(this).children());\n        $(this).addClass('current').siblings().removeClass('current');\n      }\n      callback.apply(this, ...args);\n    });\n\n    let onButton = false;\n    $(window).mouseup(function (evt) {\n      if (!onButton) {\n        button.removeClass('down');\n        list.hide();\n        list.css({top: 0, left: 0});\n      }\n      onButton = false;\n    });\n\n    // const height = list.height(); // Currently unused\n    button.bind('mousedown', function () {\n      const off = button.offset();\n      if (dropUp) {\n        off.top -= list.height();\n        off.left += 8;\n      } else {\n        off.top += button.height();\n      }\n      list.offset(off);\n\n      if (!button.hasClass('down')) {\n        list.show();\n        onButton = true;\n      } else {\n        // CSS position must be reset for Webkit\n        list.hide();\n        list.css({top: 0, left: 0});\n      }\n      button.toggleClass('down');\n    }).hover(function () {\n      onButton = true;\n    }).mouseout(function () {\n      onButton = false;\n    });\n\n    if (opts.multiclick) {\n      list.mousedown(function () {\n        onButton = true;\n      });\n    }\n  };\n\n  const extsPreLang = [];\n  /**\n   * @param {external:Window} win\n   * @param {module:svgcanvas.SvgCanvas#event:extension_added} ext\n   * @listens module:svgcanvas.SvgCanvas#event:extension_added\n   * @returns {Promise<void>|void} Resolves to `undefined`\n   */\n  const extAdded = async function (win, ext) {\n    if (!ext) {\n      return undefined;\n    }\n    let cbCalled = false;\n    let resizeDone = false;\n\n    if (ext.langReady) {\n      if (editor.langChanged) { // We check for this since the \"lang\" pref could have been set by storage\n        const lang = editor.pref('lang');\n        await ext.langReady({\n          lang,\n          uiStrings,\n          importLocale: getImportLocale({defaultLang: lang, defaultName: ext.name})\n        });\n        loadedExtensionNames.push(ext.name);\n      } else {\n        extsPreLang.push(ext);\n      }\n    }\n\n    /**\n     * Clear resize timer if present and if not previously performed,\n     *   perform an icon resize.\n     * @returns {void}\n     */\n    function prepResize () {\n      if (resizeTimer) {\n        clearTimeout(resizeTimer);\n        resizeTimer = null;\n      }\n      if (!resizeDone) {\n        resizeTimer = setTimeout(function () {\n          resizeDone = true;\n          setIconSize(editor.pref('iconsize'));\n        }, 50);\n      }\n    }\n\n    /**\n    *\n    * @returns {void}\n    */\n    const runCallback = function () {\n      if (ext.callback && !cbCalled) {\n        cbCalled = true;\n        ext.callback.call(editor);\n      }\n    };\n\n    const btnSelects = [];\n\n    /**\n    * @typedef {PlainObject} module:SVGEditor.ContextTool\n    * @property {string} panel The ID of the existing panel to which the tool is being added. Required.\n    * @property {string} id The ID of the actual tool element. Required.\n    * @property {PlainObject<string, external:jQuery.Function>|PlainObject<\"change\", external:jQuery.Function>} events DOM event names keyed to associated functions. Example: `{change () { alert('Option was changed') } }`. \"change\" event is one specifically handled for the \"button-select\" type. Required.\n    * @property {string} title The tooltip text that will appear when the user hovers over the tool. Required.\n    * @property {\"tool_button\"|\"select\"|\"button-select\"|\"input\"|string} type The type of tool being added. Expected.\n    * @property {PlainObject<string, string>} [options] List of options and their labels for select tools. Example: `{1: 'One', 2: 'Two', all: 'All' }`. Required by \"select\" tools.\n    * @property {string} [container_id] The ID to be given to the tool's container element.\n    * @property {string} [defval] Default value\n    * @property {string|Integer} [colnum] Added as part of the option list class.\n    * @property {string} [label] Label associated with the tool, visible in the UI\n    * @property {Integer} [size] Value of the \"size\" attribute of the tool input\n    * @property {module:jQuerySpinButton.SpinButtonConfig} [spindata] When added to a tool of type \"input\", this tool becomes a \"spinner\" which allows the number to be in/decreased.\n    */\n    if (ext.context_tools) {\n      $.each(ext.context_tools, function (i, tool) {\n        // Add select tool\n        const contId = tool.container_id ? (' id=\"' + tool.container_id + '\"') : '';\n\n        let panel = $('#' + tool.panel);\n        // create the panel if it doesn't exist\n        if (!panel.length) {\n          panel = $('<div>', {id: tool.panel}).appendTo('#tools_top');\n        }\n\n        let html;\n        // TODO: Allow support for other types, or adding to existing tool\n        switch (tool.type) {\n        case 'tool_button': {\n          html = '<div class=\"tool_button\">' + tool.id + '</div>';\n          const div = $(html).appendTo(panel);\n          if (tool.events) {\n            $.each(tool.events, function (evt, func) {\n              $(div).bind(evt, func);\n            });\n          }\n          break;\n        } case 'select': {\n          html = '<label' + contId + '>' +\n            '<select id=\"' + tool.id + '\">';\n          $.each(tool.options, function (val, text) {\n            const sel = (val === tool.defval) ? ' selected' : '';\n            html += '<option value=\"' + val + '\"' + sel + '>' + text + '</option>';\n          });\n          html += '</select></label>';\n          // Creates the tool, hides & adds it, returns the select element\n          const sel = $(html).appendTo(panel).find('select');\n\n          $.each(tool.events, function (evt, func) {\n            $(sel).bind(evt, func);\n          });\n          break;\n        } case 'button-select': {\n          html = '<div id=\"' + tool.id + '\" class=\"dropdown toolset\" title=\"' + tool.title + '\">' +\n            '<div id=\"cur_' + tool.id + '\" class=\"icon_label\"></div><button></button></div>';\n\n          const list = $('<ul id=\"' + tool.id + '_opts\"></ul>').appendTo('#option_lists');\n\n          if (tool.colnum) {\n            list.addClass('optcols' + tool.colnum);\n          }\n\n          // Creates the tool, hides & adds it, returns the select element\n          /* const dropdown = */ $(html).appendTo(panel).children();\n\n          btnSelects.push({\n            elem: ('#' + tool.id),\n            list: ('#' + tool.id + '_opts'),\n            title: tool.title,\n            callback: tool.events.change,\n            cur: ('#cur_' + tool.id)\n          });\n\n          break;\n        } case 'input': {\n          html = '<label' + contId + '>' +\n            '<span id=\"' + tool.id + '_label\">' +\n            tool.label + ':</span>' +\n            '<input id=\"' + tool.id + '\" title=\"' + tool.title +\n            '\" size=\"' + (tool.size || '4') +\n            '\" value=\"' + (tool.defval || '') + '\" type=\"text\"/></label>';\n\n          // Creates the tool, hides & adds it, returns the select element\n\n          // Add to given tool.panel\n          const inp = $(html).appendTo(panel).find('input');\n\n          if (tool.spindata) {\n            inp.SpinButton(tool.spindata);\n          }\n\n          if (tool.events) {\n            $.each(tool.events, function (evt, func) {\n              inp.bind(evt, func);\n            });\n          }\n          break;\n        } default:\n          break;\n        }\n      });\n    }\n\n    const {svgicons} = ext;\n    if (ext.buttons) {\n      const fallbackObj = {},\n        altsObj = {},\n        placementObj = {},\n        holders = {};\n\n      /**\n      * @typedef {GenericArray} module:SVGEditor.KeyArray\n      * @property {string} 0 The key to bind (on `keydown`)\n      * @property {boolean} 1 Whether to `preventDefault` on the `keydown` event\n      * @property {boolean} 2 Not apparently in use (NoDisableInInput)\n      */\n      /**\n       * @typedef {string|module:SVGEditor.KeyArray} module:SVGEditor.Key\n       */\n      /**\n      * @typedef {PlainObject} module:SVGEditor.Button\n      * @property {string} id A unique identifier for this button. If SVG icons are used, this must match the ID used in the icon file. Required.\n      * @property {\"mode_flyout\"|\"mode\"|\"context\"|\"app_menu\"} type Type of button. Required.\n      * @property {string} title The tooltip text that will appear when the user hovers over the icon. Required.\n      * @property {PlainObject<string, external:jQuery.Function>|PlainObject<\"click\", external:jQuery.Function>} events DOM event names with associated functions. Example: `{click () { alert('Button was clicked') } }`. Click is used with `includeWith` and `type` of \"mode_flyout\" (and \"mode\"); any events may be added if `list` is not present. Expected.\n      * @property {string} panel The ID of the context panel to be included, if type is \"context\". Required only if type is \"context\".\n      * @property {string} icon The file path to the raster version of the icon image source. Required only if no `svgicons` is supplied from [ExtensionInitResponse]{@link module:svgcanvas.ExtensionInitResponse}.\n      * @property {string} [svgicon] If absent, will utilize the button \"id\"; used to set \"placement\" on the `svgIcons` call\n      * @property {string} [list] Points to the \"id\" of a `context_tools` item of type \"button-select\" into which the button will be added as a panel list item\n      * @property {Integer} [position] The numeric index for placement; defaults to last position (as of the time of extension addition) if not present. For use with {@link http://api.jquery.com/eq/}.\n      * @property {boolean} [isDefault] Whether or not the button is the default. Used with `list`.\n      * @property {PlainObject} [includeWith] Object with flyout menu data\n      * @property {boolean} [includeWith.isDefault] Indicates whether button is default in flyout list or not.\n      * @property {string} includeWith.button jQuery selector of the existing button to be joined. Example: '#tool_line'. Required if `includeWith` is used.\n      * @property {\"last\"|Integer} [includeWith.position] Position of icon in flyout list; will be added to end if not indicated. Integer is for use with {@link http://api.jquery.com/eq/}.\n      * @property {module:SVGEditor.Key} [key] The key to bind to the button\n      */\n      // Add buttons given by extension\n      $.each(ext.buttons, function (i, /** @type {module:SVGEditor.Button} */ btn) {\n        let {id} = btn;\n        let num = i;\n        // Give button a unique ID\n        while ($('#' + id).length) {\n          id = btn.id + '_' + (++num);\n        }\n\n        let icon;\n        if (!svgicons) {\n          icon = $(\n            '<img src=\"' + btn.icon +\n              (btn.title ? '\" alt=\"' + btn.title : '') +\n              '\">'\n          );\n        } else {\n          fallbackObj[id] = btn.icon;\n          altsObj[id] = btn.title;\n          const svgicon = btn.svgicon || btn.id;\n          if (btn.type === 'app_menu') {\n            placementObj['#' + id + ' > div'] = svgicon;\n          } else {\n            placementObj['#' + id] = svgicon;\n          }\n        }\n\n        let cls, parent;\n\n        // Set button up according to its type\n        switch (btn.type) {\n        case 'mode_flyout':\n        case 'mode':\n          cls = 'tool_button';\n          parent = '#tools_left';\n          break;\n        case 'context':\n          cls = 'tool_button';\n          parent = '#' + btn.panel;\n          // create the panel if it doesn't exist\n          if (!$(parent).length) {\n            $('<div>', {id: btn.panel}).appendTo('#tools_top');\n          }\n          break;\n        case 'app_menu':\n          cls = '';\n          parent = '#main_menu ul';\n          break;\n        }\n        let flyoutHolder, showBtn, refData, refBtn;\n        const button = $((btn.list || btn.type === 'app_menu') ? '<li/>' : '<div/>')\n          .attr('id', id)\n          .attr('title', btn.title)\n          .addClass(cls);\n        if (!btn.includeWith && !btn.list) {\n          if ('position' in btn) {\n            if ($(parent).children().eq(btn.position).length) {\n              $(parent).children().eq(btn.position).before(button);\n            } else {\n              $(parent).children().last().after(button);\n            }\n          } else {\n            button.appendTo(parent);\n          }\n\n          if (btn.type === 'mode_flyout') {\n          // Add to flyout menu / make flyout menu\n            // const opts = btn.includeWith;\n            // // opts.button, default, position\n            refBtn = $(button);\n\n            flyoutHolder = refBtn.parent();\n            // Create a flyout menu if there isn't one already\n            let tlsId;\n            if (!refBtn.parent().hasClass('tools_flyout')) {\n              // Create flyout placeholder\n              tlsId = refBtn[0].id.replace('tool_', 'tools_');\n              showBtn = refBtn.clone()\n                .attr('id', tlsId + '_show')\n                .append($('<div>', {class: 'flyout_arrow_horiz'}));\n\n              refBtn.before(showBtn);\n\n              // Create a flyout div\n              flyoutHolder = makeFlyoutHolder(tlsId, refBtn);\n              flyoutHolder.data('isLibrary', true);\n              showBtn.data('isLibrary', true);\n            }\n            // refData = Actions.getButtonData(opts.button);\n\n            placementObj['#' + tlsId + '_show'] = btn.id;\n            // TODO: Find way to set the current icon using the iconloader if this is not default\n\n            // Include data for extension button as well as ref button\n            /* curH = */ holders['#' + flyoutHolder[0].id] = [{\n              sel: '#' + id,\n              fn: btn.events.click,\n              icon: btn.id,\n              // key: btn.key,\n              isDefault: true\n            }]; // , refData\n            //\n            // // {sel:'#tool_rect', fn: clickRect, evt: 'mouseup', key: 4, parent: '#tools_rect', icon: 'rect'}\n            //\n            // const pos = ('position' in opts)?opts.position:'last';\n            // const len = flyoutHolder.children().length;\n            //\n            // // Add at given position or end\n            // if (!isNaN(pos) && pos >= 0 && pos < len) {\n            //   flyoutHolder.children().eq(pos).before(button);\n            // } else {\n            //   flyoutHolder.append(button);\n            //   curH.reverse();\n            // }\n          } else if (btn.type === 'app_menu') {\n            button.append('<div>').append(btn.title);\n          }\n        } else if (btn.list) {\n          // Add button to list\n          button.addClass('push_button');\n          $('#' + btn.list + '_opts').append(button);\n          if (btn.isDefault) {\n            $('#cur_' + btn.list).append(button.children().clone());\n            const svgicon = btn.svgicon || btn.id;\n            placementObj['#cur_' + btn.list] = svgicon;\n          }\n        } else if (btn.includeWith) {\n          // Add to flyout menu / make flyout menu\n          const opts = btn.includeWith;\n          // opts.button, default, position\n          refBtn = $(opts.button);\n\n          flyoutHolder = refBtn.parent();\n          // Create a flyout menu if there isn't one already\n          let tlsId;\n          if (!refBtn.parent().hasClass('tools_flyout')) {\n            // Create flyout placeholder\n            tlsId = refBtn[0].id.replace('tool_', 'tools_');\n            showBtn = refBtn.clone()\n              .attr('id', tlsId + '_show')\n              .append($('<div>', {class: 'flyout_arrow_horiz'}));\n\n            refBtn.before(showBtn);\n            // Create a flyout div\n            flyoutHolder = makeFlyoutHolder(tlsId, refBtn);\n          }\n\n          refData = Actions.getButtonData(opts.button);\n\n          if (opts.isDefault) {\n            placementObj['#' + tlsId + '_show'] = btn.id;\n          }\n          // TODO: Find way to set the current icon using the iconloader if this is not default\n\n          // Include data for extension button as well as ref button\n          const curH = holders['#' + flyoutHolder[0].id] = [{\n            sel: '#' + id,\n            fn: btn.events.click,\n            icon: btn.id,\n            key: btn.key,\n            isDefault: Boolean(btn.includeWith && btn.includeWith.isDefault)\n          }, refData];\n\n          // {sel:'#tool_rect', fn: clickRect, evt: 'mouseup', key: 4, parent: '#tools_rect', icon: 'rect'}\n\n          const pos = ('position' in opts) ? opts.position : 'last';\n          const len = flyoutHolder.children().length;\n\n          // Add at given position or end\n          if (!isNaN(pos) && pos >= 0 && pos < len) {\n            flyoutHolder.children().eq(pos).before(button);\n          } else {\n            flyoutHolder.append(button);\n            curH.reverse();\n          }\n        }\n\n        if (!svgicons) {\n          button.append(icon);\n        }\n\n        if (!btn.list) {\n          // Add given events to button\n          $.each(btn.events, function (name, func) {\n            if (name === 'click' && btn.type === 'mode') {\n              // `touch.js` changes `touchstart` to `mousedown`,\n              //   so we must map extension click events as well\n              if (isTouch() && name === 'click') {\n                name = 'mousedown';\n              }\n              if (btn.includeWith) {\n                button.bind(name, func);\n              } else {\n                button.bind(name, function () {\n                  if (toolButtonClick(button)) {\n                    func();\n                  }\n                });\n              }\n              if (btn.key) {\n                $(document).bind('keydown', btn.key, func);\n                if (btn.title) {\n                  button.attr('title', btn.title + ' [' + btn.key + ']');\n                }\n              }\n            } else {\n              button.bind(name, func);\n            }\n          });\n        }\n\n        setupFlyouts(holders);\n      });\n\n      $.each(btnSelects, function () {\n        addAltDropDown(this.elem, this.list, this.callback, {seticon: true});\n      });\n\n      if (svgicons) {\n        return new Promise((resolve, reject) => { // eslint-disable-line promise/avoid-new\n          $.svgIcons(svgicons, {\n            w: 24, h: 24,\n            id_match: false,\n            no_img: (!isWebkit()),\n            fallback: fallbackObj,\n            placement: placementObj,\n            callback (icons) {\n              // Non-ideal hack to make the icon match the current size\n              // if (curPrefs.iconsize && curPrefs.iconsize !== 'm') {\n              if (editor.pref('iconsize') !== 'm') {\n                prepResize();\n              }\n              runCallback();\n              resolve();\n            }\n          });\n        });\n      }\n    }\n    return runCallback();\n  };\n\n  /**\n  * @param {string} color\n  * @param {Float} opac\n  * @param {string} type\n  * @returns {module:jGraduate~Paint}\n  */\n  const getPaint = function (color, opac, type) {\n    // update the editor's fill paint\n    const opts = {alpha: opac};\n    if (color.startsWith('url(#')) {\n      let refElem = svgCanvas.getRefElem(color);\n      if (refElem) {\n        refElem = refElem.cloneNode(true);\n      } else {\n        refElem = $('#' + type + '_color defs *')[0];\n      }\n      opts[refElem.tagName] = refElem;\n    } else if (color.startsWith('#')) {\n      opts.solidColor = color.substr(1);\n    } else {\n      opts.solidColor = 'none';\n    }\n    return new $.jGraduate.Paint(opts);\n  };\n\n  // $('#text').focus(function () { textBeingEntered = true; });\n  // $('#text').blur(function () { textBeingEntered = false; });\n\n  // bind the selected event to our function that handles updates to the UI\n  svgCanvas.bind('selected', selectedChanged);\n  svgCanvas.bind('transition', elementTransition);\n  svgCanvas.bind('changed', elementChanged);\n  svgCanvas.bind('saved', saveHandler);\n  svgCanvas.bind('exported', exportHandler);\n  svgCanvas.bind('exportedPDF', function (win, data) {\n    if (!data.output) { // Ignore Chrome\n      return;\n    }\n    const {exportWindowName} = data;\n    if (exportWindowName) {\n      exportWindow = window.open('', exportWindowName); // A hack to get the window via JSON-able name without opening a new one\n    }\n    if (!exportWindow || exportWindow.closed) {\n      /* await */ $.alert(uiStrings.notification.popupWindowBlocked);\n      return;\n    }\n    exportWindow.location.href = data.output;\n  });\n  svgCanvas.bind('zoomed', zoomChanged);\n  svgCanvas.bind('zoomDone', zoomDone);\n  svgCanvas.bind(\n    'updateCanvas',\n    /**\n     * @param {external:Window} win\n     * @param {PlainObject} centerInfo\n     * @param {false} centerInfo.center\n     * @param {module:math.XYObject} centerInfo.newCtr\n     * @listens module:svgcanvas.SvgCanvas#event:updateCanvas\n     * @returns {void}\n     */\n    function (win, {center, newCtr}) {\n      updateCanvas(center, newCtr);\n    }\n  );\n  svgCanvas.bind('contextset', contextChanged);\n  svgCanvas.bind('extension_added', extAdded);\n  svgCanvas.textActions.setInputElem($('#text')[0]);\n\n  let str = '<div class=\"palette_item\" data-rgb=\"none\"></div>';\n  $.each(palette, function (i, item) {\n    str += '<div class=\"palette_item\" style=\"background-color: ' + item +\n      ';\" data-rgb=\"' + item + '\"></div>';\n  });\n  $('#palette').append(str);\n\n  // Set up editor background functionality\n  const colorBlocks = ['#FFF', '#888', '#000', 'chessboard'];\n  str = '';\n  $.each(colorBlocks, function (i, e) {\n    if (e === 'chessboard') {\n      str += '<div class=\"color_block\" data-bgcolor=\"' + e +\n        '\" style=\"background-image:url(data:image/gif;base64,' +\n        'R0lGODlhEAAQAIAAAP///9bW1iH5BAAAAAAALAAAAAAQABAAAAIfjG+' +\n        'gq4jM3IFLJgpswNly/XkcBpIiVaInlLJr9FZWAQA7);\"></div>';\n    } else {\n      str += '<div class=\"color_block\" data-bgcolor=\"' + e + '\" style=\"background-color:' + e + ';\"></div>';\n    }\n  });\n  $('#bg_blocks').append(str);\n  const blocks = $('#bg_blocks div');\n  const curBg = 'cur_background';\n  blocks.each(function () {\n    const blk = $(this);\n    blk.click(function () {\n      blocks.removeClass(curBg);\n      $(this).addClass(curBg);\n    });\n  });\n\n  setBackground(editor.pref('bkgd_color'), editor.pref('bkgd_url'));\n\n  $('#image_save_opts input').val([editor.pref('img_save')]);\n\n  /**\n  * @type {module:jQuerySpinButton.ValueCallback}\n  */\n  const changeRectRadius = function (ctl) {\n    svgCanvas.setRectRadius(ctl.value);\n  };\n\n  /**\n  * @type {module:jQuerySpinButton.ValueCallback}\n  */\n  const changeFontSize = function (ctl) {\n    svgCanvas.setFontSize(ctl.value);\n  };\n\n  /**\n  * @type {module:jQuerySpinButton.ValueCallback}\n  */\n  const changeStrokeWidth = function (ctl) {\n    let val = ctl.value;\n    if (val === 0 && selectedElement && ['line', 'polyline'].includes(selectedElement.nodeName)) {\n      val = ctl.value = 1;\n    }\n    svgCanvas.setStrokeWidth(val);\n  };\n\n  /**\n  * @type {module:jQuerySpinButton.ValueCallback}\n  */\n  const changeRotationAngle = function (ctl) {\n    svgCanvas.setRotationAngle(ctl.value);\n    $('#tool_reorient').toggleClass('disabled', Number.parseInt(ctl.value) === 0);\n  };\n\n  /**\n  * @param {external:jQuery.fn.SpinButton} ctl Spin Button\n  * @param {string} [val=ctl.value]\n  * @returns {void}\n  */\n  const changeOpacity = function (ctl, val) {\n    if (Utils.isNullish(val)) { val = ctl.value; }\n    $('#group_opacity').val(val);\n    if (!ctl || !ctl.handle) {\n      $('#opac_slider').slider('option', 'value', val);\n    }\n    svgCanvas.setOpacity(val / 100);\n  };\n\n  /**\n  * @param {external:jQuery.fn.SpinButton} ctl Spin Button\n  * @param {string} [val=ctl.value]\n  * @param {boolean} noUndo\n  * @returns {void}\n  */\n  const changeBlur = function (ctl, val, noUndo) {\n    if (Utils.isNullish(val)) { val = ctl.value; }\n    $('#blur').val(val);\n    let complete = false;\n    if (!ctl || !ctl.handle) {\n      $('#blur_slider').slider('option', 'value', val);\n      complete = true;\n    }\n    if (noUndo) {\n      svgCanvas.setBlurNoUndo(val);\n    } else {\n      svgCanvas.setBlur(val, complete);\n    }\n  };\n\n  $('#stroke_style').change(function () {\n    svgCanvas.setStrokeAttr('stroke-dasharray', $(this).val());\n    operaRepaint();\n  });\n\n  $('#stroke_linejoin').change(function () {\n    svgCanvas.setStrokeAttr('stroke-linejoin', $(this).val());\n    operaRepaint();\n  });\n\n  // Lose focus for select elements when changed (Allows keyboard shortcuts to work better)\n  $('select').change(function () { $(this).blur(); });\n\n  // fired when user wants to move elements to another layer\n  let promptMoveLayerOnce = false;\n  $('#selLayerNames').change(async function () {\n    const destLayer = this.options[this.selectedIndex].value;\n    const confirmStr = uiStrings.notification.QmoveElemsToLayer.replace('%s', destLayer);\n    /**\n    * @param {boolean} ok\n    * @returns {void}\n    */\n    const moveToLayer = function (ok) {\n      if (!ok) { return; }\n      promptMoveLayerOnce = true;\n      svgCanvas.moveSelectedToLayer(destLayer);\n      svgCanvas.clearSelection();\n      populateLayers();\n    };\n    if (destLayer) {\n      if (promptMoveLayerOnce) {\n        moveToLayer(true);\n      } else {\n        const ok = await $.confirm(confirmStr);\n        if (!ok) {\n          return;\n        }\n        moveToLayer(true);\n      }\n    }\n  });\n\n  $('#font_family').change(function () {\n    svgCanvas.setFontFamily(this.value);\n  });\n\n  $('#seg_type').change(function () {\n    svgCanvas.setSegType($(this).val());\n  });\n\n  $('#text').bind('keyup input', function () {\n    svgCanvas.setTextContent(this.value);\n  });\n\n  $('#image_url').change(function () {\n    setImageURL(this.value);\n  });\n\n  $('#link_url').change(function () {\n    if (this.value.length) {\n      svgCanvas.setLinkURL(this.value);\n    } else {\n      svgCanvas.removeHyperlink();\n    }\n  });\n\n  $('#g_title').change(function () {\n    svgCanvas.setGroupTitle(this.value);\n  });\n\n  $('.attr_changer').change(function () {\n    const attr = this.getAttribute('data-attr');\n    let val = this.value;\n    const valid = isValidUnit(attr, val, selectedElement);\n\n    if (!valid) {\n      this.value = selectedElement.getAttribute(attr);\n      /* await */ $.alert(uiStrings.notification.invalidAttrValGiven);\n      return false;\n    }\n\n    if (attr !== 'id' && attr !== 'class') {\n      if (isNaN(val)) {\n        val = svgCanvas.convertToNum(attr, val);\n      } else if (curConfig.baseUnit !== 'px') {\n        // Convert unitless value to one with given unit\n\n        const unitData = getTypeMap();\n\n        if (selectedElement[attr] || svgCanvas.getMode() === 'pathedit' || attr === 'x' || attr === 'y') {\n          val *= unitData[curConfig.baseUnit];\n        }\n      }\n    }\n\n    // if the user is changing the id, then de-select the element first\n    // change the ID, then re-select it with the new ID\n    if (attr === 'id') {\n      const elem = selectedElement;\n      svgCanvas.clearSelection();\n      elem.id = val;\n      svgCanvas.addToSelection([elem], true);\n    } else {\n      svgCanvas.changeSelectedAttribute(attr, val);\n    }\n    this.blur();\n    return true;\n  });\n\n  // Prevent selection of elements when shift-clicking\n  $('#palette').mouseover(function () {\n    const inp = $('<input type=\"hidden\">');\n    $(this).append(inp);\n    inp.focus().remove();\n  });\n\n  $('.palette_item').mousedown(function (evt) {\n    // shift key or right click for stroke\n    const picker = evt.shiftKey || evt.button === 2 ? 'stroke' : 'fill';\n    let color = $(this).data('rgb');\n    let paint;\n\n    // Webkit-based browsers returned 'initial' here for no stroke\n    if (color === 'none' || color === 'transparent' || color === 'initial') {\n      color = 'none';\n      paint = new $.jGraduate.Paint();\n    } else {\n      paint = new $.jGraduate.Paint({alpha: 100, solidColor: color.substr(1)});\n    }\n\n    paintBox[picker].setPaint(paint);\n    svgCanvas.setColor(picker, color);\n\n    if (color !== 'none' && svgCanvas.getPaintOpacity(picker) !== 1) {\n      svgCanvas.setPaintOpacity(picker, 1.0);\n    }\n    updateToolButtonState();\n  }).bind('contextmenu', function (e) { e.preventDefault(); });\n\n  $('#toggle_stroke_tools').on('click', function () {\n    $('#tools_bottom').toggleClass('expanded');\n  });\n\n  (function () {\n    const wArea = workarea[0];\n\n    let lastX = null, lastY = null,\n      panning = false, keypan = false;\n\n    $('#svgcanvas').bind('mousemove mouseup', function (evt) {\n      if (panning === false) { return true; }\n\n      wArea.scrollLeft -= (evt.clientX - lastX);\n      wArea.scrollTop -= (evt.clientY - lastY);\n\n      lastX = evt.clientX;\n      lastY = evt.clientY;\n\n      if (evt.type === 'mouseup') { panning = false; }\n      return false;\n    }).mousedown(function (evt) {\n      if (evt.button === 1 || keypan === true) {\n        panning = true;\n        lastX = evt.clientX;\n        lastY = evt.clientY;\n        return false;\n      }\n      return true;\n    });\n\n    $(window).mouseup(function () {\n      panning = false;\n    });\n\n    $(document).bind('keydown', 'space', function (evt) {\n      svgCanvas.spaceKey = keypan = true;\n      evt.preventDefault();\n    }).bind('keyup', 'space', function (evt) {\n      evt.preventDefault();\n      svgCanvas.spaceKey = keypan = false;\n    }).bind('keydown', 'shift', function (evt) {\n      if (svgCanvas.getMode() === 'zoom') {\n        workarea.css('cursor', zoomOutIcon);\n      }\n    }).bind('keyup', 'shift', function (evt) {\n      if (svgCanvas.getMode() === 'zoom') {\n        workarea.css('cursor', zoomInIcon);\n      }\n    });\n\n    /**\n     * @function module:SVGEditor.setPanning\n     * @param {boolean} active\n     * @returns {void}\n     */\n    editor.setPanning = function (active) {\n      svgCanvas.spaceKey = keypan = active;\n    };\n  }());\n\n  (function () {\n    const button = $('#main_icon');\n    const overlay = $('#main_icon span');\n    const list = $('#main_menu');\n\n    let onButton = false;\n    let height = 0;\n    let jsHover = true;\n    let setClick = false;\n\n    /*\n    // Currently unused\n    const hideMenu = function () {\n      list.fadeOut(200);\n    };\n    */\n\n    $(window).mouseup(function (evt) {\n      if (!onButton) {\n        button.removeClass('buttondown');\n        // do not hide if it was the file input as that input needs to be visible\n        // for its change event to fire\n        if (evt.target.tagName !== 'INPUT') {\n          list.fadeOut(200);\n        } else if (!setClick) {\n          setClick = true;\n          $(evt.target).click(function () {\n            list.css('margin-left', '-9999px').show();\n          });\n        }\n      }\n      onButton = false;\n    }).mousedown(function (evt) {\n      // $('.contextMenu').hide();\n      const islib = $(evt.target).closest('div.tools_flyout, .contextMenu').length;\n      if (!islib) {\n        $('.tools_flyout:visible,.contextMenu').fadeOut(250);\n      }\n    });\n\n    overlay.bind('mousedown', function () {\n      if (!button.hasClass('buttondown')) {\n        // Margin must be reset in case it was changed before;\n        list.css('margin-left', 0).show();\n        if (!height) {\n          height = list.height();\n        }\n        // Using custom animation as slideDown has annoying 'bounce effect'\n        list.css('height', 0).animate({\n          height\n        }, 200);\n        onButton = true;\n      } else {\n        list.fadeOut(200);\n      }\n      button.toggleClass('buttondown buttonup');\n    }).hover(function () {\n      onButton = true;\n    }).mouseout(function () {\n      onButton = false;\n    });\n\n    const listItems = $('#main_menu li');\n\n    // Check if JS method of hovering needs to be used (Webkit bug)\n    listItems.mouseover(function () {\n      jsHover = ($(this).css('background-color') === 'rgba(0, 0, 0, 0)');\n\n      listItems.unbind('mouseover');\n      if (jsHover) {\n        listItems.mouseover(function () {\n          this.style.backgroundColor = '#FFC';\n        }).mouseout(function () {\n          this.style.backgroundColor = 'transparent';\n          return true;\n        });\n      }\n    });\n  }());\n  // Made public for UI customization.\n  // TODO: Group UI functions into a public editor.ui interface.\n  /**\n   * See {@link http://api.jquery.com/bind/#bind-eventType-eventData-handler}.\n   * @callback module:SVGEditor.DropDownCallback\n   * @param {external:jQuery.Event} ev See {@link http://api.jquery.com/Types/#Event}\n   * @listens external:jQuery.Event\n   * @returns {void|boolean} Calls `preventDefault()` and `stopPropagation()`\n  */\n  /**\n   * @function module:SVGEditor.addDropDown\n   * @param {Element|string} elem DOM Element or selector\n   * @param {module:SVGEditor.DropDownCallback} callback Mouseup callback\n   * @param {boolean} dropUp\n   * @returns {void}\n  */\n  editor.addDropDown = function (elem, callback, dropUp) {\n    if (!$(elem).length) { return; } // Quit if called on non-existent element\n    const button = $(elem).find('button');\n    const list = $(elem).find('ul').attr('id', $(elem)[0].id + '-list');\n    if (dropUp) {\n      $(elem).addClass('dropup');\n    } else {\n      // Move list to place where it can overflow container\n      $('#option_lists').append(list);\n    }\n    list.find('li').bind('mouseup', callback);\n\n    let onButton = false;\n    $(window).mouseup(function (evt) {\n      if (!onButton) {\n        button.removeClass('down');\n        list.hide();\n      }\n      onButton = false;\n    });\n\n    button.bind('mousedown', function () {\n      if (!button.hasClass('down')) {\n        if (!dropUp) {\n          const pos = $(elem).position();\n          list.css({\n            top: pos.top + 24,\n            left: pos.left - 10\n          });\n        }\n        list.show();\n        onButton = true;\n      } else {\n        list.hide();\n      }\n      button.toggleClass('down');\n    }).hover(function () {\n      onButton = true;\n    }).mouseout(function () {\n      onButton = false;\n    });\n  };\n\n  editor.addDropDown('#font_family_dropdown', function () {\n    $('#font_family').val($(this).text()).change();\n  });\n\n  editor.addDropDown('#opacity_dropdown', function () {\n    if ($(this).find('div').length) { return; }\n    const perc = Number.parseInt($(this).text().split('%')[0]);\n    changeOpacity(false, perc);\n  }, true);\n\n  // For slider usage, see: http://jqueryui.com/demos/slider/\n  $('#opac_slider').slider({\n    start () {\n      $('#opacity_dropdown li:not(.special)').hide();\n    },\n    stop () {\n      $('#opacity_dropdown li').show();\n      $(window).mouseup();\n    },\n    slide (evt, ui) {\n      changeOpacity(ui);\n    }\n  });\n\n  editor.addDropDown('#blur_dropdown', $.noop);\n\n  let slideStart = false;\n  $('#blur_slider').slider({\n    max: 10,\n    step: 0.1,\n    stop (evt, ui) {\n      slideStart = false;\n      changeBlur(ui);\n      $('#blur_dropdown li').show();\n      $(window).mouseup();\n    },\n    start () {\n      slideStart = true;\n    },\n    slide (evt, ui) {\n      changeBlur(ui, null, slideStart);\n    }\n  });\n\n  editor.addDropDown('#zoom_dropdown', function () {\n    const item = $(this);\n    const val = item.data('val');\n    if (val) {\n      zoomChanged(window, val);\n    } else {\n      changeZoom({value: Number.parseFloat(item.text())});\n    }\n  }, true);\n\n  addAltDropDown('#stroke_linecap', '#linecap_opts', function () {\n    setStrokeOpt(this, true);\n  }, {dropUp: true});\n\n  addAltDropDown('#stroke_linejoin', '#linejoin_opts', function () {\n    setStrokeOpt(this, true);\n  }, {dropUp: true});\n\n  addAltDropDown('#tool_position', '#position_opts', function () {\n    const letter = this.id.replace('tool_pos', '').charAt(0);\n    svgCanvas.alignSelectedElements(letter, 'page');\n  }, {multiclick: true});\n\n  /*\n\n  When a flyout icon is selected\n    (if flyout) {\n    - Change the icon\n    - Make pressing the button run its stuff\n    }\n    - Run its stuff\n\n  When its shortcut key is pressed\n    - If not current in list, do as above\n    , else:\n    - Just run its stuff\n\n  */\n\n  // Unfocus text input when workarea is mousedowned.\n  (function () {\n    let inp;\n    /**\n    *\n    * @returns {void}\n    */\n    const unfocus = function () {\n      $(inp).blur();\n    };\n\n    $('#svg_editor').find('button, select, input:not(#text)').focus(function () {\n      inp = this;\n      uiContext = 'toolbars';\n      workarea.mousedown(unfocus);\n    }).blur(function () {\n      uiContext = 'canvas';\n      workarea.unbind('mousedown', unfocus);\n      // Go back to selecting text if in textedit mode\n      if (svgCanvas.getMode() === 'textedit') {\n        $('#text').focus();\n      }\n    });\n  }());\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickFHPath = function () {\n    if (toolButtonClick('#tool_fhpath')) {\n      svgCanvas.setMode('fhpath');\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickLine = function () {\n    if (toolButtonClick('#tool_line')) {\n      svgCanvas.setMode('line');\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickSquare = function () {\n    if (toolButtonClick('#tool_square')) {\n      svgCanvas.setMode('square');\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickRect = function () {\n    if (toolButtonClick('#tool_rect')) {\n      svgCanvas.setMode('rect');\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickFHRect = function () {\n    if (toolButtonClick('#tool_fhrect')) {\n      svgCanvas.setMode('fhrect');\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickCircle = function () {\n    if (toolButtonClick('#tool_circle')) {\n      svgCanvas.setMode('circle');\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickEllipse = function () {\n    if (toolButtonClick('#tool_ellipse')) {\n      svgCanvas.setMode('ellipse');\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickFHEllipse = function () {\n    if (toolButtonClick('#tool_fhellipse')) {\n      svgCanvas.setMode('fhellipse');\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickImage = function () {\n    if (toolButtonClick('#tool_image')) {\n      svgCanvas.setMode('image');\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickZoom = function () {\n    if (toolButtonClick('#tool_zoom')) {\n      svgCanvas.setMode('zoom');\n      workarea.css('cursor', zoomInIcon);\n    }\n  };\n\n  /**\n  * @param {Float} multiplier\n  * @returns {void}\n  */\n  const zoomImage = function (multiplier) {\n    const res = svgCanvas.getResolution();\n    multiplier = multiplier ? res.zoom * multiplier : 1;\n    // setResolution(res.w * multiplier, res.h * multiplier, true);\n    $('#zoom').val(multiplier * 100);\n    svgCanvas.setZoom(multiplier);\n    zoomDone();\n    updateCanvas(true);\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const dblclickZoom = function () {\n    if (toolButtonClick('#tool_zoom')) {\n      zoomImage();\n      setSelectMode();\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickText = function () {\n    if (toolButtonClick('#tool_text')) {\n      svgCanvas.setMode('text');\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickPath = function () {\n    if (toolButtonClick('#tool_path')) {\n      svgCanvas.setMode('path');\n    }\n  };\n\n  /**\n  * Delete is a contextual tool that only appears in the ribbon if\n  * an element has been selected.\n  * @returns {void}\n  */\n  const deleteSelected = function () {\n    if (!Utils.isNullish(selectedElement) || multiselected) {\n      svgCanvas.deleteSelectedElements();\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const cutSelected = function () {\n    if (!Utils.isNullish(selectedElement) || multiselected) {\n      svgCanvas.cutSelectedElements();\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const copySelected = function () {\n    if (!Utils.isNullish(selectedElement) || multiselected) {\n      svgCanvas.copySelectedElements();\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const pasteInCenter = function () {\n    const zoom = svgCanvas.getZoom();\n    const x = (workarea[0].scrollLeft + workarea.width() / 2) / zoom - svgCanvas.contentW;\n    const y = (workarea[0].scrollTop + workarea.height() / 2) / zoom - svgCanvas.contentH;\n    svgCanvas.pasteElements('point', x, y);\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const moveToTopSelected = function () {\n    if (!Utils.isNullish(selectedElement)) {\n      svgCanvas.moveToTopSelectedElement();\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const moveToBottomSelected = function () {\n    if (!Utils.isNullish(selectedElement)) {\n      svgCanvas.moveToBottomSelectedElement();\n    }\n  };\n\n  /**\n  * @param {\"Up\"|\"Down\"} dir\n  * @returns {void}\n  */\n  const moveUpDownSelected = function (dir) {\n    if (!Utils.isNullish(selectedElement)) {\n      svgCanvas.moveUpDownSelected(dir);\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const convertToPath = function () {\n    if (!Utils.isNullish(selectedElement)) {\n      svgCanvas.convertToPath();\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const reorientPath = function () {\n    if (!Utils.isNullish(selectedElement)) {\n      path.reorient();\n    }\n  };\n\n  /**\n  *\n  * @returns {Promise<void>} Resolves to `undefined`\n  */\n  const makeHyperlink = async function () {\n    if (!Utils.isNullish(selectedElement) || multiselected) {\n      const url = await $.prompt(uiStrings.notification.enterNewLinkURL, 'http://');\n      if (url) {\n        svgCanvas.makeHyperlink(url);\n      }\n    }\n  };\n\n  /**\n  * @param {Float} dx\n  * @param {Float} dy\n  * @returns {void}\n  */\n  const moveSelected = function (dx, dy) {\n    if (!Utils.isNullish(selectedElement) || multiselected) {\n      if (curConfig.gridSnapping) {\n        // Use grid snap value regardless of zoom level\n        const multi = svgCanvas.getZoom() * curConfig.snappingStep;\n        dx *= multi;\n        dy *= multi;\n      }\n      svgCanvas.moveSelectedElements(dx, dy);\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const linkControlPoints = function () {\n    $('#tool_node_link').toggleClass('push_button_pressed tool_button');\n    const linked = $('#tool_node_link').hasClass('push_button_pressed');\n    path.linkControlPoints(linked);\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clonePathNode = function () {\n    if (path.getNodePoint()) {\n      path.clonePathNode();\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const deletePathNode = function () {\n    if (path.getNodePoint()) {\n      path.deletePathNode();\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const addSubPath = function () {\n    const button = $('#tool_add_subpath');\n    const sp = !button.hasClass('push_button_pressed');\n    button.toggleClass('push_button_pressed tool_button');\n    path.addSubPath(sp);\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const opencloseSubPath = function () {\n    path.opencloseSubPath();\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const selectNext = function () {\n    svgCanvas.cycleElement(1);\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const selectPrev = function () {\n    svgCanvas.cycleElement(0);\n  };\n\n  /**\n  * @param {0|1} cw\n  * @param {Integer} step\n  * @returns {void}\n  */\n  const rotateSelected = function (cw, step) {\n    if (Utils.isNullish(selectedElement) || multiselected) { return; }\n    if (!cw) { step *= -1; }\n    const angle = Number.parseFloat($('#angle').val()) + step;\n    svgCanvas.setRotationAngle(angle);\n    updateContextPanel();\n  };\n\n  /**\n   * @fires module:svgcanvas.SvgCanvas#event:ext_onNewDocument\n   * @returns {Promise<void>} Resolves to `undefined`\n   */\n  const clickClear = async function () {\n    const [x, y] = curConfig.dimensions;\n    const ok = await $.confirm(uiStrings.notification.QwantToClear);\n    if (!ok) {\n      return;\n    }\n    setSelectMode();\n    svgCanvas.clear();\n    svgCanvas.setResolution(x, y);\n    updateCanvas(true);\n    zoomImage();\n    populateLayers();\n    updateContextPanel();\n    prepPaints();\n    svgCanvas.runExtensions('onNewDocument');\n  };\n\n  /**\n  *\n  * @returns {false}\n  */\n  const clickBold = function () {\n    svgCanvas.setBold(!svgCanvas.getBold());\n    updateContextPanel();\n    return false;\n  };\n\n  /**\n  *\n  * @returns {false}\n  */\n  const clickItalic = function () {\n    svgCanvas.setItalic(!svgCanvas.getItalic());\n    updateContextPanel();\n    return false;\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickSave = function () {\n    // In the future, more options can be provided here\n    const saveOpts = {\n      images: editor.pref('img_save'),\n      round_digits: 6\n    };\n    svgCanvas.save(saveOpts);\n  };\n\n  let loadingURL;\n  /**\n  *\n  * @returns {Promise<void>} Resolves to `undefined`\n  */\n  const clickExport = async function () {\n    const imgType = await $.select('Select an image type for export: ', [\n      // See http://kangax.github.io/jstests/toDataUrl_mime_type_test/ for a useful list of MIME types and browser support\n      // 'ICO', // Todo: Find a way to preserve transparency in SVG-Edit if not working presently and do full packaging for x-icon; then switch back to position after 'PNG'\n      'PNG',\n      'JPEG', 'BMP', 'WEBP', 'PDF'\n    ], function () {\n      const sel = $(this);\n      if (sel.val() === 'JPEG' || sel.val() === 'WEBP') {\n        if (!$('#image-slider').length) {\n          $(`<div><label>${uiStrings.ui.quality}\n              <input id=\"image-slider\"\n                type=\"range\" min=\"1\" max=\"100\" value=\"92\" />\n            </label></div>`).appendTo(sel.parent());\n        }\n      } else {\n        $('#image-slider').parent().remove();\n      }\n    }); // todo: replace hard-coded msg with uiStrings.notification.\n    if (!imgType) {\n      return;\n    }\n    // Open placeholder window (prevents popup)\n    let exportWindowName;\n\n    /**\n     *\n     * @returns {void}\n     */\n    function openExportWindow () {\n      const {loadingImage} = uiStrings.notification;\n      if (curConfig.exportWindowType === 'new') {\n        editor.exportWindowCt++;\n      }\n      exportWindowName = curConfig.canvasName + editor.exportWindowCt;\n      let popHTML, popURL;\n      if (loadingURL) {\n        popURL = loadingURL;\n      } else {\n        popHTML = `<!DOCTYPE html><html>\n          <head>\n            <meta charset=\"utf-8\">\n            <title>${loadingImage}</title>\n          </head>\n          <body><h1>${loadingImage}</h1></body>\n        <html>`;\n        if (typeof URL !== 'undefined' && URL.createObjectURL) {\n          const blob = new Blob([popHTML], {type: 'text/html'});\n          popURL = URL.createObjectURL(blob);\n        } else {\n          popURL = 'data:text/html;base64;charset=utf-8,' + Utils.encode64(popHTML);\n        }\n        loadingURL = popURL;\n      }\n      exportWindow = window.open(popURL, exportWindowName);\n    }\n    const chrome = isChrome();\n    if (imgType === 'PDF') {\n      if (!customExportPDF && !chrome) {\n        openExportWindow();\n      }\n      svgCanvas.exportPDF(exportWindowName);\n    } else {\n      if (!customExportImage) {\n        openExportWindow();\n      }\n      const quality = Number.parseInt($('#image-slider').val()) / 100;\n      /* const results = */ await svgCanvas.rasterExport(imgType, quality, exportWindowName);\n    }\n  };\n\n  /**\n   * By default, svgCanvas.open() is a no-op. It is up to an extension\n   *  mechanism (opera widget, etc.) to call `setCustomHandlers()` which\n   *  will make it do something.\n   * @returns {void}\n   */\n  const clickOpen = function () {\n    svgCanvas.open();\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickImport = function () {\n    /* */\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickUndo = function () {\n    if (undoMgr.getUndoStackSize() > 0) {\n      undoMgr.undo();\n      populateLayers();\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickRedo = function () {\n    if (undoMgr.getRedoStackSize() > 0) {\n      undoMgr.redo();\n      populateLayers();\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickGroup = function () {\n    // group\n    if (multiselected) {\n      svgCanvas.groupSelectedElements();\n    // ungroup\n    } else if (selectedElement) {\n      svgCanvas.ungroupSelectedElement();\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickClone = function () {\n    svgCanvas.cloneSelectedElements(20, 20);\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickAlign = function () {\n    const letter = this.id.replace('tool_align', '').charAt(0);\n    svgCanvas.alignSelectedElements(letter, $('#align_relative_to').val());\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickWireframe = function () {\n    $('#tool_wireframe').toggleClass('push_button_pressed tool_button');\n    workarea.toggleClass('wireframe');\n\n    if (supportsNonSS) { return; }\n    const wfRules = $('#wireframe_rules');\n    if (!wfRules.length) {\n      /* wfRules = */ $('<style id=\"wireframe_rules\"></style>').appendTo('head');\n    } else {\n      wfRules.empty();\n    }\n\n    updateWireFrame();\n  };\n\n  $('#svg_docprops_container, #svg_prefs_container').draggable({\n    cancel: 'button,fieldset',\n    containment: 'window'\n  }).css('position', 'absolute');\n\n  let docprops = false;\n  let preferences = false;\n\n  /**\n  *\n  * @returns {void}\n  */\n  const showDocProperties = function () {\n    if (docprops) { return; }\n    docprops = true;\n\n    // This selects the correct radio button by using the array notation\n    $('#image_save_opts input').val([editor.pref('img_save')]);\n\n    // update resolution option with actual resolution\n    const res = svgCanvas.getResolution();\n    if (curConfig.baseUnit !== 'px') {\n      res.w = convertUnit(res.w) + curConfig.baseUnit;\n      res.h = convertUnit(res.h) + curConfig.baseUnit;\n    }\n\n    $('#canvas_width').val(res.w);\n    $('#canvas_height').val(res.h);\n    $('#canvas_title').val(svgCanvas.getDocumentTitle());\n\n    $('#svg_docprops').show();\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const showPreferences = function () {\n    if (preferences) { return; }\n    preferences = true;\n    $('#main_menu').hide();\n\n    // Update background color with current one\n    const canvasBg = curPrefs.bkgd_color;\n    const url = editor.pref('bkgd_url');\n    blocks.each(function () {\n      const blk = $(this);\n      const isBg = blk.data('bgcolor') === canvasBg;\n      blk.toggleClass(curBg, isBg);\n    });\n    if (!canvasBg) { blocks.eq(0).addClass(curBg); }\n    if (url) {\n      $('#canvas_bg_url').val(url);\n    }\n    $('#grid_snapping_on').prop('checked', curConfig.gridSnapping);\n    $('#grid_snapping_step').attr('value', curConfig.snappingStep);\n    $('#grid_color').attr('value', curConfig.gridColor);\n\n    $('#svg_prefs').show();\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const openHomePage = function () {\n    window.open(homePage, '_blank');\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const hideSourceEditor = function () {\n    $('#svg_source_editor').hide();\n    editingsource = false;\n    $('#svg_source_textarea').blur();\n  };\n\n  /**\n  *\n  * @returns {Promise<void>} Resolves to `undefined`\n  */\n  const saveSourceEditor = async function () {\n    if (!editingsource) { return; }\n\n    const saveChanges = function () {\n      svgCanvas.clearSelection();\n      hideSourceEditor();\n      zoomImage();\n      populateLayers();\n      updateTitle();\n      prepPaints();\n    };\n\n    if (!svgCanvas.setSvgString($('#svg_source_textarea').val())) {\n      const ok = await $.confirm(uiStrings.notification.QerrorsRevertToSource);\n      if (!ok) {\n        return;\n      }\n      saveChanges();\n      return;\n    }\n    saveChanges();\n    setSelectMode();\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const hideDocProperties = function () {\n    $('#svg_docprops').hide();\n    $('#canvas_width,#canvas_height').removeAttr('disabled');\n    $('#resolution')[0].selectedIndex = 0;\n    $('#image_save_opts input').val([editor.pref('img_save')]);\n    docprops = false;\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const hidePreferences = function () {\n    $('#svg_prefs').hide();\n    preferences = false;\n  };\n\n  /**\n  *\n  * @returns {boolean} Whether there were problems saving the document properties\n  */\n  const saveDocProperties = function () {\n    // set title\n    const newTitle = $('#canvas_title').val();\n    updateTitle(newTitle);\n    svgCanvas.setDocumentTitle(newTitle);\n\n    // update resolution\n    const width = $('#canvas_width'), w = width.val();\n    const height = $('#canvas_height'), h = height.val();\n\n    if (w !== 'fit' && !isValidUnit('width', w)) {\n      width.parent().addClass('error');\n      /* await */ $.alert(uiStrings.notification.invalidAttrValGiven);\n      return false;\n    }\n\n    width.parent().removeClass('error');\n\n    if (h !== 'fit' && !isValidUnit('height', h)) {\n      height.parent().addClass('error');\n      /* await */ $.alert(uiStrings.notification.invalidAttrValGiven);\n      return false;\n    }\n\n    height.parent().removeClass('error');\n\n    if (!svgCanvas.setResolution(w, h)) {\n      /* await */ $.alert(uiStrings.notification.noContentToFitTo);\n      return false;\n    }\n\n    // Set image save option\n    editor.pref('img_save', $('#image_save_opts :checked').val());\n    updateCanvas();\n    hideDocProperties();\n    return true;\n  };\n\n  /**\n  * Save user preferences based on current values in the UI.\n  * @function module:SVGEditor.savePreferences\n  * @returns {Promise<void>}\n  */\n  const savePreferences = editor.savePreferences = async function () {\n    // Set background\n    const color = $('#bg_blocks div.cur_background').data('bgcolor') || '#FFF';\n    setBackground(color, $('#canvas_bg_url').val());\n\n    // set language\n    const lang = $('#lang_select').val();\n    if (lang && lang !== editor.pref('lang')) {\n      const {langParam, langData} = await editor.putLocale(lang, goodLangs, curConfig);\n      await setLang(langParam, langData);\n    }\n\n    // set icon size\n    setIconSize($('#iconsize').val());\n\n    // set grid setting\n    curConfig.gridSnapping = $('#grid_snapping_on')[0].checked;\n    curConfig.snappingStep = $('#grid_snapping_step').val();\n    curConfig.gridColor = $('#grid_color').val();\n    curConfig.showRulers = $('#show_rulers')[0].checked;\n\n    $('#rulers').toggle(curConfig.showRulers);\n    if (curConfig.showRulers) { updateRulers(); }\n    curConfig.baseUnit = $('#base_unit').val();\n\n    svgCanvas.setConfig(curConfig);\n\n    updateCanvas();\n    hidePreferences();\n  };\n\n  let resetScrollPos = $.noop;\n\n  /**\n  *\n  * @returns {Promise<void>} Resolves to `undefined`\n  */\n  const cancelOverlays = async function () {\n    $('#dialog_box').hide();\n    if (!editingsource && !docprops && !preferences) {\n      if (curContext) {\n        svgCanvas.leaveContext();\n      }\n      return;\n    }\n\n    if (editingsource) {\n      if (origSource !== $('#svg_source_textarea').val()) {\n        const ok = await $.confirm(uiStrings.notification.QignoreSourceChanges);\n        if (ok) {\n          hideSourceEditor();\n        }\n      } else {\n        hideSourceEditor();\n      }\n    } else if (docprops) {\n      hideDocProperties();\n    } else if (preferences) {\n      hidePreferences();\n    }\n    resetScrollPos();\n  };\n\n  const winWh = {width: $(window).width(), height: $(window).height()};\n\n  // Fix for Issue 781: Drawing area jumps to top-left corner on window resize (IE9)\n  if (isIE()) {\n    resetScrollPos = function () {\n      if (workarea[0].scrollLeft === 0 && workarea[0].scrollTop === 0) {\n        workarea[0].scrollLeft = curScrollPos.left;\n        workarea[0].scrollTop = curScrollPos.top;\n      }\n    };\n\n    curScrollPos = {\n      left: workarea[0].scrollLeft,\n      top: workarea[0].scrollTop\n    };\n\n    $(window).resize(resetScrollPos);\n    editor.ready(function () {\n      // TODO: Find better way to detect when to do this to minimize\n      // flickering effect\n      return new Promise((resolve, reject) => { // eslint-disable-line promise/avoid-new\n        setTimeout(function () {\n          resetScrollPos();\n          resolve();\n        }, 500);\n      });\n    });\n\n    workarea.scroll(function () {\n      curScrollPos = {\n        left: workarea[0].scrollLeft,\n        top: workarea[0].scrollTop\n      };\n    });\n  }\n\n  $(window).resize(function (evt) {\n    $.each(winWh, function (type, val) {\n      const curval = $(window)[type]();\n      workarea[0]['scroll' + (type === 'width' ? 'Left' : 'Top')] -= (curval - val) / 2;\n      winWh[type] = curval;\n    });\n    setFlyoutPositions();\n  });\n\n  workarea.scroll(function () {\n    // TODO: jQuery's scrollLeft/Top() wouldn't require a null check\n    if ($('#ruler_x').length) {\n      $('#ruler_x')[0].scrollLeft = workarea[0].scrollLeft;\n    }\n    if ($('#ruler_y').length) {\n      $('#ruler_y')[0].scrollTop = workarea[0].scrollTop;\n    }\n  });\n\n  $('#url_notice').click(function () {\n    /* await */ $.alert(this.title);\n  });\n\n  $('#change_image_url').click(promptImgURL);\n\n  // added these event handlers for all the push buttons so they\n  // behave more like buttons being pressed-in and not images\n  (function () {\n    const toolnames = [\n      'clear', 'open', 'save', 'source', 'delete',\n      'delete_multi', 'paste', 'clone', 'clone_multi',\n      'move_top', 'move_bottom'\n    ];\n    const curClass = 'tool_button_current';\n\n    let allTools = '';\n\n    $.each(toolnames, function (i, item) {\n      allTools += (i ? ',' : '') + '#tool_' + item;\n    });\n\n    $(allTools).mousedown(function () {\n      $(this).addClass(curClass);\n    }).bind('mousedown mouseout', function () {\n      $(this).removeClass(curClass);\n    });\n\n    $('#tool_undo, #tool_redo').mousedown(function () {\n      if (!$(this).hasClass('disabled')) { $(this).addClass(curClass); }\n    }).bind('mousedown mouseout', function () {\n      $(this).removeClass(curClass);\n    });\n  }());\n\n  // switch modifier key in tooltips if mac\n  // NOTE: This code is not used yet until I can figure out how to successfully bind ctrl/meta\n  // in Opera and Chrome\n  if (isMac() && !window.opera) {\n    const shortcutButtons = [\n      'tool_clear', 'tool_save', 'tool_source',\n      'tool_undo', 'tool_redo', 'tool_clone'\n    ];\n    let i = shortcutButtons.length;\n    while (i--) {\n      const button = document.getElementById(shortcutButtons[i]);\n      if (button) {\n        const {title} = button;\n        const index = title.indexOf('Ctrl+');\n        button.title = [\n          title.substr(0, index),\n          'Cmd+',\n          title.substr(index + 5)\n        ].join('');\n      }\n    }\n  }\n\n  /**\n  * @param {external:jQuery} elem\n  * @todo Go back to the color boxes having white background-color and then setting\n  *  background-image to none.png (otherwise partially transparent gradients look weird)\n  * @returns {void}\n  */\n  const colorPicker = function (elem) {\n    const picker = elem.attr('id') === 'stroke_color' ? 'stroke' : 'fill';\n    // const opacity = (picker == 'stroke' ? $('#stroke_opacity') : $('#fill_opacity'));\n    const title = picker === 'stroke'\n      ? uiStrings.ui.pick_stroke_paint_opacity\n      : uiStrings.ui.pick_fill_paint_opacity;\n    // let wasNone = false; // Currently unused\n    const pos = elem.offset();\n    let {paint} = paintBox[picker];\n    $('#color_picker')\n      .draggable({\n        cancel: '.jGraduate_tabs, .jGraduate_colPick, .jGraduate_gradPick, .jPicker',\n        containment: 'window'\n      })\n      .css(curConfig.colorPickerCSS || {left: pos.left - 140, bottom: 40})\n      .jGraduate(\n        {\n          paint,\n          window: {pickerTitle: title},\n          images: {clientPath: curConfig.jGraduatePath},\n          newstop: 'inverse'\n        },\n        function (p) {\n          paint = new $.jGraduate.Paint(p);\n          paintBox[picker].setPaint(paint);\n          svgCanvas.setPaint(picker, paint);\n          $('#color_picker').hide();\n        },\n        function () {\n          $('#color_picker').hide();\n        }\n      );\n  };\n\n  /**\n   * Paint box class.\n   */\n  class PaintBox {\n    /**\n     * @param {string|Element|external:jQuery} container\n     * @param {\"fill\"} type\n     */\n    constructor (container, type) {\n      const cur = curConfig[type === 'fill' ? 'initFill' : 'initStroke'];\n      // set up gradients to be used for the buttons\n      const svgdocbox = new DOMParser().parseFromString(\n        `<svg xmlns=\"http://www.w3.org/2000/svg\">\n          <rect width=\"16.5\" height=\"16.5\"\n            fill=\"#${cur.color}\" opacity=\"${cur.opacity}\"/>\n          <defs><linearGradient id=\"gradbox_${PaintBox.ctr++}\"/></defs>\n        </svg>`,\n        'text/xml'\n      );\n\n      let docElem = svgdocbox.documentElement;\n      docElem = $(container)[0].appendChild(document.importNode(docElem, true));\n      docElem.setAttribute('width', 16.5);\n\n      this.rect = docElem.firstElementChild;\n      this.defs = docElem.getElementsByTagName('defs')[0];\n      this.grad = this.defs.firstElementChild;\n      this.paint = new $.jGraduate.Paint({solidColor: cur.color});\n      this.type = type;\n    }\n\n    /**\n     * @param {module:jGraduate~Paint} paint\n     * @param {boolean} apply\n     * @returns {void}\n     */\n    setPaint (paint, apply) {\n      this.paint = paint;\n\n      const ptype = paint.type;\n      const opac = paint.alpha / 100;\n\n      let fillAttr = 'none';\n      switch (ptype) {\n      case 'solidColor':\n        fillAttr = (paint[ptype] !== 'none') ? '#' + paint[ptype] : paint[ptype];\n        break;\n      case 'linearGradient':\n      case 'radialGradient': {\n        this.grad.remove();\n        this.grad = this.defs.appendChild(paint[ptype]);\n        const id = this.grad.id = 'gradbox_' + this.type;\n        fillAttr = 'url(#' + id + ')';\n        break;\n      }\n      }\n\n      this.rect.setAttribute('fill', fillAttr);\n      this.rect.setAttribute('opacity', opac);\n\n      if (apply) {\n        svgCanvas.setColor(this.type, this._paintColor, true);\n        svgCanvas.setPaintOpacity(this.type, this._paintOpacity, true);\n      }\n    }\n\n    /**\n     * @param {boolean} apply\n     * @returns {void}\n     */\n    update (apply) {\n      if (!selectedElement) { return; }\n\n      const {type} = this;\n      switch (selectedElement.tagName) {\n      case 'use':\n      case 'image':\n      case 'foreignObject':\n        // These elements don't have fill or stroke, so don't change\n        // the current value\n        return;\n      case 'g':\n      case 'a': {\n        const childs = selectedElement.getElementsByTagName('*');\n\n        let gPaint = null;\n        for (let i = 0, len = childs.length; i < len; i++) {\n          const elem = childs[i];\n          const p = elem.getAttribute(type);\n          if (i === 0) {\n            gPaint = p;\n          } else if (gPaint !== p) {\n            gPaint = null;\n            break;\n          }\n        }\n\n        if (gPaint === null) {\n          // No common color, don't update anything\n          this._paintColor = null;\n          return;\n        }\n        this._paintColor = gPaint;\n        this._paintOpacity = 1;\n        break;\n      } default: {\n        this._paintOpacity = Number.parseFloat(selectedElement.getAttribute(type + '-opacity'));\n        if (Number.isNaN(this._paintOpacity)) {\n          this._paintOpacity = 1.0;\n        }\n\n        const defColor = type === 'fill' ? 'black' : 'none';\n        this._paintColor = selectedElement.getAttribute(type) || defColor;\n      }\n      }\n\n      if (apply) {\n        svgCanvas.setColor(type, this._paintColor, true);\n        svgCanvas.setPaintOpacity(type, this._paintOpacity, true);\n      }\n\n      this._paintOpacity *= 100;\n\n      const paint = getPaint(this._paintColor, this._paintOpacity, type);\n      // update the rect inside #fill_color/#stroke_color\n      this.setPaint(paint);\n    }\n\n    /**\n     * @returns {void}\n     */\n    prep () {\n      const ptype = this.paint.type;\n\n      switch (ptype) {\n      case 'linearGradient':\n      case 'radialGradient': {\n        const paint = new $.jGraduate.Paint({copy: this.paint});\n        svgCanvas.setPaint(this.type, paint);\n        break;\n      }\n      }\n    }\n  }\n  PaintBox.ctr = 0;\n\n  paintBox.fill = new PaintBox('#fill_color', 'fill');\n  paintBox.stroke = new PaintBox('#stroke_color', 'stroke');\n\n  $('#stroke_width').val(curConfig.initStroke.width);\n  $('#group_opacity').val(curConfig.initOpacity * 100);\n\n  // Use this SVG elem to test vectorEffect support\n  const testEl = paintBox.fill.rect.cloneNode(false);\n  testEl.setAttribute('style', 'vector-effect:non-scaling-stroke');\n  const supportsNonSS = (testEl.style.vectorEffect === 'non-scaling-stroke');\n  testEl.removeAttribute('style');\n  const svgdocbox = paintBox.fill.rect.ownerDocument;\n  // Use this to test support for blur element. Seems to work to test support in Webkit\n  const blurTest = svgdocbox.createElementNS(NS.SVG, 'feGaussianBlur');\n  if (blurTest.stdDeviationX === undefined) {\n    $('#tool_blur').hide();\n  }\n  $(blurTest).remove();\n\n  // Test for zoom icon support\n  (function () {\n    const pre = '-' + uaPrefix.toLowerCase() + '-zoom-';\n    const zoom = pre + 'in';\n    workarea.css('cursor', zoom);\n    if (workarea.css('cursor') === zoom) {\n      zoomInIcon = zoom;\n      zoomOutIcon = pre + 'out';\n    }\n    workarea.css('cursor', 'auto');\n  }());\n\n  // Test for embedImage support (use timeout to not interfere with page load)\n  setTimeout(function () {\n    svgCanvas.embedImage('images/logo.png', function (datauri) {\n      if (!datauri) {\n        // Disable option\n        $('#image_save_opts [value=embed]').attr('disabled', 'disabled');\n        $('#image_save_opts input').val(['ref']);\n        editor.pref('img_save', 'ref');\n        $('#image_opt_embed').css('color', '#666').attr(\n          'title',\n          uiStrings.notification.featNotSupported\n        );\n      }\n    });\n  }, 1000);\n\n  $('#fill_color, #tool_fill .icon_label').click(function () {\n    colorPicker($('#fill_color'));\n    updateToolButtonState();\n  });\n\n  $('#stroke_color, #tool_stroke .icon_label').click(function () {\n    colorPicker($('#stroke_color'));\n    updateToolButtonState();\n  });\n\n  $('#group_opacityLabel').click(function () {\n    $('#opacity_dropdown button').mousedown();\n    $(window).mouseup();\n  });\n\n  $('#zoomLabel').click(function () {\n    $('#zoom_dropdown button').mousedown();\n    $(window).mouseup();\n  });\n\n  $('#tool_move_top').mousedown(function (evt) {\n    $('#tools_stacking').show();\n    evt.preventDefault();\n  });\n\n  $('.layer_button').mousedown(function () {\n    $(this).addClass('layer_buttonpressed');\n  }).mouseout(function () {\n    $(this).removeClass('layer_buttonpressed');\n  }).mouseup(function () {\n    $(this).removeClass('layer_buttonpressed');\n  });\n\n  $('.push_button').mousedown(function () {\n    if (!$(this).hasClass('disabled')) {\n      $(this).addClass('push_button_pressed').removeClass('push_button');\n    }\n  }).mouseout(function () {\n    $(this).removeClass('push_button_pressed').addClass('push_button');\n  }).mouseup(function () {\n    $(this).removeClass('push_button_pressed').addClass('push_button');\n  });\n\n  // ask for a layer name\n  $('#layer_new').click(async function () {\n    let uniqName,\n      i = svgCanvas.getCurrentDrawing().getNumLayers();\n    do {\n      uniqName = uiStrings.layers.layer + ' ' + (++i);\n    } while (svgCanvas.getCurrentDrawing().hasLayer(uniqName));\n\n    const newName = await $.prompt(uiStrings.notification.enterUniqueLayerName, uniqName);\n    if (!newName) { return; }\n    if (svgCanvas.getCurrentDrawing().hasLayer(newName)) {\n      /* await */ $.alert(uiStrings.notification.dupeLayerName);\n      return;\n    }\n    svgCanvas.createLayer(newName);\n    updateContextPanel();\n    populateLayers();\n  });\n\n  /**\n   *\n   * @returns {void}\n   */\n  function deleteLayer () {\n    if (svgCanvas.deleteCurrentLayer()) {\n      updateContextPanel();\n      populateLayers();\n      // This matches what SvgCanvas does\n      // TODO: make this behavior less brittle (svg-editor should get which\n      // layer is selected from the canvas and then select that one in the UI)\n      $('#layerlist tr.layer').removeClass('layersel');\n      $('#layerlist tr.layer:first').addClass('layersel');\n    }\n  }\n\n  /**\n   *\n   * @returns {Promise<void>}\n   */\n  async function cloneLayer () {\n    const name = svgCanvas.getCurrentDrawing().getCurrentLayerName() + ' copy';\n\n    const newName = await $.prompt(uiStrings.notification.enterUniqueLayerName, name);\n    if (!newName) { return; }\n    if (svgCanvas.getCurrentDrawing().hasLayer(newName)) {\n      /* await */ $.alert(uiStrings.notification.dupeLayerName);\n      return;\n    }\n    svgCanvas.cloneLayer(newName);\n    updateContextPanel();\n    populateLayers();\n  }\n\n  /**\n   *\n   * @returns {void}\n   */\n  function mergeLayer () {\n    if ($('#layerlist tr.layersel').index() === svgCanvas.getCurrentDrawing().getNumLayers() - 1) {\n      return;\n    }\n    svgCanvas.mergeLayer();\n    updateContextPanel();\n    populateLayers();\n  }\n\n  /**\n   * @param {Integer} pos\n   * @returns {void}\n   */\n  function moveLayer (pos) {\n    const total = svgCanvas.getCurrentDrawing().getNumLayers();\n\n    let curIndex = $('#layerlist tr.layersel').index();\n    if (curIndex > 0 || curIndex < total - 1) {\n      curIndex += pos;\n      svgCanvas.setCurrentLayerPosition(total - curIndex - 1);\n      populateLayers();\n    }\n  }\n\n  $('#layer_delete').click(deleteLayer);\n\n  $('#layer_up').click(() => {\n    moveLayer(-1);\n  });\n\n  $('#layer_down').click(() => {\n    moveLayer(1);\n  });\n\n  $('#layer_rename').click(async function () {\n    // const curIndex = $('#layerlist tr.layersel').prevAll().length; // Currently unused\n    const oldName = $('#layerlist tr.layersel td.layername').text();\n    const newName = await $.prompt(uiStrings.notification.enterNewLayerName, '');\n    if (!newName) { return; }\n    if (oldName === newName || svgCanvas.getCurrentDrawing().hasLayer(newName)) {\n      /* await */ $.alert(uiStrings.notification.layerHasThatName);\n      return;\n    }\n\n    svgCanvas.renameCurrentLayer(newName);\n    populateLayers();\n  });\n\n  const SIDEPANEL_MAXWIDTH = 300;\n  const SIDEPANEL_OPENWIDTH = 150;\n  let sidedrag = -1, sidedragging = false, allowmove = false;\n\n  /**\n   * @param {Float} delta\n   * @fires module:svgcanvas.SvgCanvas#event:ext_workareaResized\n   * @returns {void}\n   */\n  const changeSidePanelWidth = function (delta) {\n    const rulerX = $('#ruler_x');\n    $('#sidepanels').width('+=' + delta);\n    $('#layerpanel').width('+=' + delta);\n    rulerX.css('right', Number.parseInt(rulerX.css('right')) + delta);\n    workarea.css('right', Number.parseInt(workarea.css('right')) + delta);\n    svgCanvas.runExtensions('workareaResized');\n  };\n\n  /**\n  * @param {Event} evt\n  * @returns {void}\n  */\n  const resizeSidePanel = function (evt) {\n    if (!allowmove) { return; }\n    if (sidedrag === -1) { return; }\n    sidedragging = true;\n    let deltaX = sidedrag - evt.pageX;\n    const sideWidth = $('#sidepanels').width();\n    if (sideWidth + deltaX > SIDEPANEL_MAXWIDTH) {\n      deltaX = SIDEPANEL_MAXWIDTH - sideWidth;\n      // sideWidth = SIDEPANEL_MAXWIDTH;\n    } else if (sideWidth + deltaX < 2) {\n      deltaX = 2 - sideWidth;\n      // sideWidth = 2;\n    }\n    if (deltaX === 0) { return; }\n    sidedrag -= deltaX;\n    changeSidePanelWidth(deltaX);\n  };\n\n  /**\n   * If width is non-zero, then fully close it; otherwise fully open it.\n   * @param {boolean} close Forces the side panel closed\n   * @returns {void}\n   */\n  const toggleSidePanel = function (close) {\n    const dpr = window.devicePixelRatio || 1;\n    const w = $('#sidepanels').width();\n    const isOpened = (dpr < 1 ? w : w / dpr) > 2;\n    const zoomAdjustedSidepanelWidth = (dpr < 1 ? 1 : dpr) * SIDEPANEL_OPENWIDTH;\n    const deltaX = (isOpened || close ? 0 : zoomAdjustedSidepanelWidth) - w;\n    changeSidePanelWidth(deltaX);\n  };\n\n  $('#sidepanel_handle')\n    .mousedown(function (evt) {\n      sidedrag = evt.pageX;\n      $(window).mousemove(resizeSidePanel);\n      allowmove = false;\n      // Silly hack for Chrome, which always runs mousemove right after mousedown\n      setTimeout(function () {\n        allowmove = true;\n      }, 20);\n    })\n    .mouseup(function (evt) {\n      if (!sidedragging) { toggleSidePanel(); }\n      sidedrag = -1;\n      sidedragging = false;\n    });\n\n  $(window).mouseup(function () {\n    sidedrag = -1;\n    sidedragging = false;\n    $('#svg_editor').unbind('mousemove', resizeSidePanel);\n  });\n\n  populateLayers();\n\n  // function changeResolution (x,y) {\n  //   const {zoom} = svgCanvas.getResolution();\n  //   setResolution(x * zoom, y * zoom);\n  // }\n\n  const centerCanvas = () => {\n    // this centers the canvas vertically in the workarea (horizontal handled in CSS)\n    workarea.css('line-height', workarea.height() + 'px');\n  };\n\n  $(window).bind('load resize', centerCanvas);\n\n  /**\n   * @type {module:jQuerySpinButton.StepCallback}\n   */\n  function stepFontSize (elem, step) {\n    const origVal = Number(elem.value);\n    const sugVal = origVal + step;\n    const increasing = sugVal >= origVal;\n    if (step === 0) { return origVal; }\n\n    if (origVal >= 24) {\n      if (increasing) {\n        return Math.round(origVal * 1.1);\n      }\n      return Math.round(origVal / 1.1);\n    }\n    if (origVal <= 1) {\n      if (increasing) {\n        return origVal * 2;\n      }\n      return origVal / 2;\n    }\n    return sugVal;\n  }\n\n  /**\n   * @type {module:jQuerySpinButton.StepCallback}\n   */\n  function stepZoom (elem, step) {\n    const origVal = Number(elem.value);\n    if (origVal === 0) { return 100; }\n    const sugVal = origVal + step;\n    if (step === 0) { return origVal; }\n\n    if (origVal >= 100) {\n      return sugVal;\n    }\n    if (sugVal >= origVal) {\n      return origVal * 2;\n    }\n    return origVal / 2;\n  }\n\n  // function setResolution (w, h, center) {\n  //   updateCanvas();\n  //   // w -= 0; h -= 0;\n  //   // $('#svgcanvas').css({width: w, height: h});\n  //   // $('#canvas_width').val(w);\n  //   // $('#canvas_height').val(h);\n  //   //\n  //   // if (center) {\n  //   //   const wArea = workarea;\n  //   //   const scrollY = h/2 - wArea.height()/2;\n  //   //   const scrollX = w/2 - wArea.width()/2;\n  //   //   wArea[0].scrollTop = scrollY;\n  //   //   wArea[0].scrollLeft = scrollX;\n  //   // }\n  // }\n\n  $('#resolution').change(function () {\n    const wh = $('#canvas_width,#canvas_height');\n    if (!this.selectedIndex) {\n      if ($('#canvas_width').val() === 'fit') {\n        wh.removeAttr('disabled').val(100);\n      }\n    } else if (this.value === 'content') {\n      wh.val('fit').attr('disabled', 'disabled');\n    } else {\n      const dims = this.value.split('x');\n      $('#canvas_width').val(dims[0]);\n      $('#canvas_height').val(dims[1]);\n      wh.removeAttr('disabled');\n    }\n  });\n\n  // Prevent browser from erroneously repopulating fields\n  $('input,select').attr('autocomplete', 'off');\n\n  const dialogSelectors = [\n    '#tool_source_cancel', '#tool_docprops_cancel',\n    '#tool_prefs_cancel', '.overlay'\n  ];\n  /* eslint-disable jsdoc/require-property */\n  /**\n   * Associate all button actions as well as non-button keyboard shortcuts.\n   * @namespace {PlainObject} module:SVGEditor~Actions\n   */\n  const Actions = (function () {\n    /* eslint-enable jsdoc/require-property */\n    /**\n    * @typedef {PlainObject} module:SVGEditor.ToolButton\n    * @property {string} sel The CSS selector for the tool\n    * @property {external:jQuery.Function} fn A handler to be attached to the `evt`\n    * @property {string} evt The event for which the `fn` listener will be added\n    * @property {module:SVGEditor.Key} [key] [key, preventDefault, NoDisableInInput]\n    * @property {string} [parent] Selector\n    * @property {boolean} [hidekey] Whether to show key value in title\n    * @property {string} [icon] The button ID\n    * @property {boolean} isDefault For flyout holders\n    */\n    /**\n     *\n     * @name module:SVGEditor~ToolButtons\n     * @type {module:SVGEditor.ToolButton[]}\n     */\n    const toolButtons = [\n      {sel: '#tool_select', fn: clickSelect, evt: 'click', key: ['V', true]},\n      {sel: '#tool_fhpath', fn: clickFHPath, evt: 'click', key: ['Q', true]},\n      {sel: '#tool_line', fn: clickLine, evt: 'click', key: ['L', true],\n        parent: '#tools_line', prepend: true},\n      {sel: '#tool_rect', fn: clickRect, evt: 'mouseup',\n        key: ['R', true], parent: '#tools_rect', icon: 'rect'},\n      {sel: '#tool_square', fn: clickSquare, evt: 'mouseup',\n        parent: '#tools_rect', icon: 'square'},\n      {sel: '#tool_fhrect', fn: clickFHRect, evt: 'mouseup',\n        parent: '#tools_rect', icon: 'fh_rect'},\n      {sel: '#tool_ellipse', fn: clickEllipse, evt: 'mouseup',\n        key: ['E', true], parent: '#tools_ellipse', icon: 'ellipse'},\n      {sel: '#tool_circle', fn: clickCircle, evt: 'mouseup',\n        parent: '#tools_ellipse', icon: 'circle'},\n      {sel: '#tool_fhellipse', fn: clickFHEllipse, evt: 'mouseup',\n        parent: '#tools_ellipse', icon: 'fh_ellipse'},\n      {sel: '#tool_path', fn: clickPath, evt: 'click', key: ['P', true]},\n      {sel: '#tool_text', fn: clickText, evt: 'click', key: ['T', true]},\n      {sel: '#tool_image', fn: clickImage, evt: 'mouseup'},\n      {sel: '#tool_zoom', fn: clickZoom, evt: 'mouseup', key: ['Z', true]},\n      {sel: '#tool_clear', fn: clickClear, evt: 'mouseup', key: ['N', true]},\n      {sel: '#tool_save', fn () {\n        if (editingsource) {\n          saveSourceEditor();\n        } else {\n          clickSave();\n        }\n      }, evt: 'mouseup', key: ['S', true]},\n      {sel: '#tool_export', fn: clickExport, evt: 'mouseup'},\n      {sel: '#tool_open', fn: clickOpen, evt: 'mouseup', key: ['O', true]},\n      {sel: '#tool_import', fn: clickImport, evt: 'mouseup'},\n      {sel: '#tool_source', fn: showSourceEditor, evt: 'click', key: ['U', true]},\n      {sel: '#tool_wireframe', fn: clickWireframe, evt: 'click', key: ['F', true]},\n      {\n        key: ['esc', false, false],\n        fn () {\n          if (dialogSelectors.every((sel) => {\n            return $(sel + ':hidden').length;\n          })) {\n            svgCanvas.clearSelection();\n          }\n        },\n        hidekey: true\n      },\n      {sel: dialogSelectors.join(','), fn: cancelOverlays, evt: 'click',\n        key: ['esc', false, false], hidekey: true},\n      {sel: '#tool_source_save', fn: saveSourceEditor, evt: 'click'},\n      {sel: '#tool_docprops_save', fn: saveDocProperties, evt: 'click'},\n      {sel: '#tool_docprops', fn: showDocProperties, evt: 'click'},\n      {sel: '#tool_prefs_save', fn: savePreferences, evt: 'click'},\n      {sel: '#tool_editor_prefs', fn: showPreferences, evt: 'click'},\n      {sel: '#tool_editor_homepage', fn: openHomePage, evt: 'click'},\n      {sel: '#tool_open', fn () { window.dispatchEvent(new CustomEvent('openImage')); }, evt: 'click'},\n      {sel: '#tool_import', fn () { window.dispatchEvent(new CustomEvent('importImage')); }, evt: 'click'},\n      {sel: '#tool_delete,#tool_delete_multi', fn: deleteSelected,\n        evt: 'click', key: ['del/backspace', true]},\n      {sel: '#tool_reorient', fn: reorientPath, evt: 'click'},\n      {sel: '#tool_node_link', fn: linkControlPoints, evt: 'click'},\n      {sel: '#tool_node_clone', fn: clonePathNode, evt: 'click'},\n      {sel: '#tool_node_delete', fn: deletePathNode, evt: 'click'},\n      {sel: '#tool_openclose_path', fn: opencloseSubPath, evt: 'click'},\n      {sel: '#tool_add_subpath', fn: addSubPath, evt: 'click'},\n      {sel: '#tool_move_top', fn: moveToTopSelected, evt: 'click', key: 'ctrl+shift+]'},\n      {sel: '#tool_move_bottom', fn: moveToBottomSelected, evt: 'click', key: 'ctrl+shift+['},\n      {sel: '#tool_topath', fn: convertToPath, evt: 'click'},\n      {sel: '#tool_make_link,#tool_make_link_multi', fn: makeHyperlink, evt: 'click'},\n      {sel: '#tool_undo', fn: clickUndo, evt: 'click'},\n      {sel: '#tool_redo', fn: clickRedo, evt: 'click'},\n      {sel: '#tool_clone,#tool_clone_multi', fn: clickClone, evt: 'click', key: ['D', true]},\n      {sel: '#tool_group_elements', fn: clickGroup, evt: 'click', key: ['G', true]},\n      {sel: '#tool_ungroup', fn: clickGroup, evt: 'click'},\n      {sel: '#tool_unlink_use', fn: clickGroup, evt: 'click'},\n      {sel: '[id^=tool_align]', fn: clickAlign, evt: 'click'},\n      // these two lines are required to make Opera work properly with the flyout mechanism\n      // {sel: '#tools_rect_show', fn: clickRect, evt: 'click'},\n      // {sel: '#tools_ellipse_show', fn: clickEllipse, evt: 'click'},\n      {sel: '#tool_bold', fn: clickBold, evt: 'mousedown'},\n      {sel: '#tool_italic', fn: clickItalic, evt: 'mousedown'},\n      {sel: '#sidepanel_handle', fn: toggleSidePanel, key: ['X']},\n      {sel: '#copy_save_done', fn: cancelOverlays, evt: 'click'},\n\n      // Shortcuts not associated with buttons\n\n      {key: 'ctrl+left', fn () { rotateSelected(0, 1); }},\n      {key: 'ctrl+right', fn () { rotateSelected(1, 1); }},\n      {key: 'ctrl+shift+left', fn () { rotateSelected(0, 5); }},\n      {key: 'ctrl+shift+right', fn () { rotateSelected(1, 5); }},\n      {key: 'shift+O', fn: selectPrev},\n      {key: 'shift+P', fn: selectNext},\n      {key: [modKey + 'up', true], fn () { zoomImage(2); }},\n      {key: [modKey + 'down', true], fn () { zoomImage(0.5); }},\n      {key: [modKey + ']', true], fn () { moveUpDownSelected('Up'); }},\n      {key: [modKey + '[', true], fn () { moveUpDownSelected('Down'); }},\n      {key: ['up', true], fn () { moveSelected(0, -1); }},\n      {key: ['down', true], fn () { moveSelected(0, 1); }},\n      {key: ['left', true], fn () { moveSelected(-1, 0); }},\n      {key: ['right', true], fn () { moveSelected(1, 0); }},\n      {key: 'shift+up', fn () { moveSelected(0, -10); }},\n      {key: 'shift+down', fn () { moveSelected(0, 10); }},\n      {key: 'shift+left', fn () { moveSelected(-10, 0); }},\n      {key: 'shift+right', fn () { moveSelected(10, 0); }},\n      {key: ['alt+up', true], fn () { svgCanvas.cloneSelectedElements(0, -1); }},\n      {key: ['alt+down', true], fn () { svgCanvas.cloneSelectedElements(0, 1); }},\n      {key: ['alt+left', true], fn () { svgCanvas.cloneSelectedElements(-1, 0); }},\n      {key: ['alt+right', true], fn () { svgCanvas.cloneSelectedElements(1, 0); }},\n      {key: ['alt+shift+up', true], fn () { svgCanvas.cloneSelectedElements(0, -10); }},\n      {key: ['alt+shift+down', true], fn () { svgCanvas.cloneSelectedElements(0, 10); }},\n      {key: ['alt+shift+left', true], fn () { svgCanvas.cloneSelectedElements(-10, 0); }},\n      {key: ['alt+shift+right', true], fn () { svgCanvas.cloneSelectedElements(10, 0); }},\n      {key: 'a', fn () { svgCanvas.selectAllInCurrentLayer(); }},\n      {key: modKey + 'a', fn () { svgCanvas.selectAllInCurrentLayer(); }},\n\n      // Standard shortcuts\n      {key: modKey + 'z', fn: clickUndo},\n      {key: modKey + 'shift+z', fn: clickRedo},\n      {key: modKey + 'y', fn: clickRedo},\n\n      {key: modKey + 'x', fn: cutSelected},\n      {key: modKey + 'c', fn: copySelected},\n      {key: modKey + 'v', fn: pasteInCenter}\n    ];\n\n    // Tooltips not directly associated with a single function\n    const keyAssocs = {\n      '4/Shift+4': '#tools_rect_show',\n      '5/Shift+5': '#tools_ellipse_show'\n    };\n\n    return {\n      /** @lends module:SVGEditor~Actions */\n      /**\n       * @returns {void}\n       */\n      setAll () {\n        const flyouts = {};\n        const keyHandler = {}; // will contain the action for each pressed key\n\n        toolButtons.forEach((opts) => {\n          // Bind function to button\n          let btn;\n          if (opts.sel) {\n            btn = $q(opts.sel);\n            if (btn === null) { return true; } // Skip if markup does not exist\n            if (opts.evt) {\n              // `touch.js` changes `touchstart` to `mousedown`,\n              //   so we must map tool button click events as well\n              if (isTouch() && opts.evt === 'click') {\n                opts.evt = 'mousedown';\n              }\n              btn.addEventListener(opts.evt, opts.fn);\n            }\n\n            // Add to parent flyout menu, if able to be displayed\n            if (opts.parent && $(opts.parent + '_show').length) {\n              let fH = $(opts.parent);\n              if (!fH.length) {\n                fH = makeFlyoutHolder(opts.parent.substr(1));\n              }\n              if (opts.prepend) {\n                btn.style.margin = 'initial';\n              }\n              fH[opts.prepend ? 'prepend' : 'append'](btn);\n\n              if (!Array.isArray(flyouts[opts.parent])) {\n                flyouts[opts.parent] = [];\n              }\n              flyouts[opts.parent].push(opts);\n            }\n          }\n\n          // Bind function to shortcut key\n          if (opts.key) {\n            // Set shortcut based on options\n            let keyval = opts.key;\n            let pd = false;\n            if (Array.isArray(opts.key)) {\n              keyval = opts.key[0];\n              if (opts.key.length > 1) { pd = opts.key[1]; }\n            }\n            keyval = String(keyval);\n            const {fn} = opts;\n            keyval.split('/').forEach((key) => { keyHandler[key] = {fn, pd}; });\n\n            // Put shortcut in title\n            if (opts.sel && !opts.hidekey && btn.title) {\n              const newTitle = `${btn.title.split('[')[0]} (${keyval})`;\n              keyAssocs[keyval] = opts.sel;\n              // Disregard for menu items\n              if (btn.closest('#main_menu') === null) {\n                btn.title = newTitle;\n              }\n            }\n          }\n          return true;\n        });\n        // register the keydown event\n        document.addEventListener('keydown', (e) => {\n          // only track keyboard shortcuts for the body containing the SVG-Editor\n          if (e.target.nodeName !== 'BODY') return;\n          // normalize key\n          const key = `${(e.metaKey) ? 'meta+' : ''}${(e.ctrlKey) ? 'ctrl+' : ''}${e.key.toLowerCase()}`;\n          // return if no shortcut defined for this key\n          if (!keyHandler[key]) return;\n          // launch associated handler and preventDefault if necessary\n          keyHandler[key].fn();\n          if (keyHandler[key].pd) {\n            e.preventDefault();\n          }\n        });\n\n        // Setup flyouts\n        setupFlyouts(flyouts);\n\n        // Misc additional actions\n\n        // Make 'return' keypress trigger the change event\n        $('.attr_changer, #image_url').bind(\n          'keydown',\n          'return',\n          function (evt) {\n            $(this).change();\n            evt.preventDefault();\n          }\n        );\n\n        $(window).bind('keydown', 'tab', function (e) {\n          if (uiContext === 'canvas') {\n            e.preventDefault();\n            selectNext();\n          }\n        }).bind('keydown', 'shift+tab', function (e) {\n          if (uiContext === 'canvas') {\n            e.preventDefault();\n            selectPrev();\n          }\n        });\n\n        $('#tool_zoom').dblclick(dblclickZoom);\n      },\n      /**\n       * @returns {void}\n       */\n      setTitles () {\n        $.each(keyAssocs, function (keyval, sel) {\n          const menu = ($(sel).parents('#main_menu').length);\n\n          $(sel).each(function () {\n            let t;\n            if (menu) {\n              t = $(this).text().split(' [')[0];\n            } else {\n              t = this.title.split(' [')[0];\n            }\n            let keyStr = '';\n            // Shift+Up\n            $.each(keyval.split('/'), function (i, key) {\n              const modBits = key.split('+');\n              let mod = '';\n              if (modBits.length > 1) {\n                mod = modBits[0] + '+';\n                key = modBits[1];\n              }\n              keyStr += (i ? '/' : '') + mod + (uiStrings['key_' + key] || key);\n            });\n            if (menu) {\n              this.lastChild.textContent = t + ' [' + keyStr + ']';\n            } else {\n              this.title = t + ' [' + keyStr + ']';\n            }\n          });\n        });\n      },\n      /**\n       * @param {string} sel Selector to match\n       * @returns {module:SVGEditor.ToolButton}\n       */\n      getButtonData (sel) {\n        return Object.values(toolButtons).find((btn) => {\n          return btn.sel === sel;\n        });\n      }\n    };\n  }());\n\n  // Select given tool\n  editor.ready(function () {\n    let tool;\n    const itool = curConfig.initTool,\n      container = $('#tools_left, #svg_editor .tools_flyout'),\n      preTool = container.find('#tool_' + itool),\n      regTool = container.find('#' + itool);\n    if (preTool.length) {\n      tool = preTool;\n    } else if (regTool.length) {\n      tool = regTool;\n    } else {\n      tool = $('#tool_select');\n    }\n    tool.click().mouseup();\n\n    if (curConfig.wireframe) {\n      $('#tool_wireframe').click();\n    }\n\n    if (curConfig.showlayers) {\n      toggleSidePanel();\n    }\n\n    $('#rulers').toggle(Boolean(curConfig.showRulers));\n\n    if (curConfig.showRulers) {\n      $('#show_rulers')[0].checked = true;\n    }\n\n    if (curConfig.baseUnit) {\n      $('#base_unit').val(curConfig.baseUnit);\n    }\n\n    if (curConfig.gridSnapping) {\n      $('#grid_snapping_on')[0].checked = true;\n    }\n\n    if (curConfig.snappingStep) {\n      $('#grid_snapping_step').val(curConfig.snappingStep);\n    }\n\n    if (curConfig.gridColor) {\n      $('#grid_color').val(curConfig.gridColor);\n    }\n  });\n\n  // init SpinButtons\n  $('#rect_rx').SpinButton({\n    min: 0, max: 1000, stateObj, callback: changeRectRadius\n  });\n  $('#stroke_width').SpinButton({\n    min: 0, max: 99, smallStep: 0.1, stateObj, callback: changeStrokeWidth\n  });\n  $('#angle').SpinButton({\n    min: -180, max: 180, step: 5, stateObj, callback: changeRotationAngle\n  });\n  $('#font_size').SpinButton({\n    min: 0.001, stepfunc: stepFontSize, stateObj, callback: changeFontSize\n  });\n  $('#group_opacity').SpinButton({\n    min: 0, max: 100, step: 5, stateObj, callback: changeOpacity\n  });\n  $('#blur').SpinButton({\n    min: 0, max: 10, step: 0.1, stateObj, callback: changeBlur\n  });\n  $('#zoom').SpinButton({\n    min: 0.001, max: 10000, step: 50, stepfunc: stepZoom,\n    stateObj, callback: changeZoom\n  // Set default zoom\n  }).val(\n    svgCanvas.getZoom() * 100\n  );\n\n  $('#workarea').contextMenu(\n    {\n      menu: 'cmenu_canvas',\n      inSpeed: 0\n    },\n    function (action, el, pos) {\n      switch (action) {\n      case 'delete':\n        deleteSelected();\n        break;\n      case 'cut':\n        cutSelected();\n        break;\n      case 'copy':\n        copySelected();\n        break;\n      case 'paste':\n        svgCanvas.pasteElements();\n        break;\n      case 'paste_in_place':\n        svgCanvas.pasteElements('in_place');\n        break;\n      case 'group':\n      case 'group_elements':\n        svgCanvas.groupSelectedElements();\n        break;\n      case 'ungroup':\n        svgCanvas.ungroupSelectedElement();\n        break;\n      case 'move_front':\n        moveToTopSelected();\n        break;\n      case 'move_up':\n        moveUpDownSelected('Up');\n        break;\n      case 'move_down':\n        moveUpDownSelected('Down');\n        break;\n      case 'move_back':\n        moveToBottomSelected();\n        break;\n      default:\n        if (hasCustomHandler(action)) {\n          getCustomHandler(action).call();\n        }\n        break;\n      }\n    }\n  );\n\n  /**\n  * Implements {@see module:jQueryContextMenu.jQueryContextMenuListener}.\n  * @param {\"dupe\"|\"delete\"|\"merge_down\"|\"merge_all\"} action\n  * @param {external:jQuery} el\n  * @param {{x: Float, y: Float, docX: Float, docY: Float}} pos\n  * @returns {void}\n  */\n  const lmenuFunc = function (action, el, pos) {\n    switch (action) {\n    case 'dupe':\n      /* await */ cloneLayer();\n      break;\n    case 'delete':\n      deleteLayer();\n      break;\n    case 'merge_down':\n      mergeLayer();\n      break;\n    case 'merge_all':\n      svgCanvas.mergeAllLayers();\n      updateContextPanel();\n      populateLayers();\n      break;\n    }\n  };\n\n  $('#layerlist').contextMenu(\n    {\n      menu: 'cmenu_layers',\n      inSpeed: 0\n    },\n    lmenuFunc\n  );\n\n  $('#layer_moreopts').contextMenu(\n    {\n      menu: 'cmenu_layers',\n      inSpeed: 0,\n      allowLeft: true\n    },\n    lmenuFunc\n  );\n\n  $('.contextMenu li').mousedown(function (ev) {\n    ev.preventDefault();\n  });\n\n  $('#cmenu_canvas li').disableContextMenu();\n  canvMenu.enableContextMenuItems('#delete,#cut,#copy');\n\n  /**\n   * @returns {void}\n   */\n  function enableOrDisableClipboard () {\n    let svgeditClipboard;\n    try {\n      svgeditClipboard = localStorage.getItem('svgedit_clipboard');\n    } catch (err) {}\n    canvMenu[(svgeditClipboard ? 'en' : 'dis') + 'ableContextMenuItems'](\n      '#paste,#paste_in_place'\n    );\n  }\n  enableOrDisableClipboard();\n\n  window.addEventListener('storage', function (e) {\n    if (e.key !== 'svgedit_clipboard') { return; }\n\n    enableOrDisableClipboard();\n  });\n\n  window.addEventListener('beforeunload', function (e) {\n    // Suppress warning if page is empty\n    if (undoMgr.getUndoStackSize() === 0) {\n      editor.showSaveWarning = false;\n    }\n\n    // showSaveWarning is set to 'false' when the page is saved.\n    if (!curConfig.no_save_warning && editor.showSaveWarning) {\n      // Browser already asks question about closing the page\n      e.returnValue = uiStrings.notification.unsavedChanges; // Firefox needs this when beforeunload set by addEventListener (even though message is not used)\n      return uiStrings.notification.unsavedChanges;\n    }\n    return true;\n  });\n\n  /**\n  * Expose the `uiStrings`.\n  * @function module:SVGEditor.canvas.getUIStrings\n  * @returns {module:SVGEditor.uiStrings}\n  */\n  editor.canvas.getUIStrings = function () {\n    return uiStrings;\n  };\n\n  /**\n   * @function module:SVGEditor.openPrep\n   * @returns {boolean|Promise<boolean>} Resolves to boolean indicating `true` if there were no changes\n   *  and `false` after the user confirms.\n   */\n  editor.openPrep = function () {\n    $('#main_menu').hide();\n    if (undoMgr.getUndoStackSize() === 0) {\n      return true;\n    }\n    return $.confirm(uiStrings.notification.QwantToOpen);\n  };\n\n  /**\n   *\n   * @param {Event} e\n   * @returns {void}\n   */\n  function onDragEnter (e) {\n    e.stopPropagation();\n    e.preventDefault();\n    // and indicator should be displayed here, such as \"drop files here\"\n  }\n\n  /**\n   *\n   * @param {Event} e\n   * @returns {void}\n   */\n  function onDragOver (e) {\n    e.stopPropagation();\n    e.preventDefault();\n  }\n\n  /**\n   *\n   * @param {Event} e\n   * @returns {void}\n   */\n  function onDragLeave (e) {\n    e.stopPropagation();\n    e.preventDefault();\n    // hypothetical indicator should be removed here\n  }\n  // Use HTML5 File API: http://www.w3.org/TR/FileAPI/\n  // if browser has HTML5 File API support, then we will show the open menu item\n  // and provide a file input to click. When that change event fires, it will\n  // get the text contents of the file and send it to the canvas\n  if (window.FileReader) {\n    /**\n    * @param {Event} e\n    * @returns {void}\n    */\n    const importImage = function (e) {\n      $.process_cancel(uiStrings.notification.loadingImage);\n      e.stopPropagation();\n      e.preventDefault();\n      $('#workarea').removeAttr('style');\n      $('#main_menu').hide();\n      const file = (e.type === 'drop') ? e.dataTransfer.files[0] : this.files[0];\n      if (!file) {\n        $('#dialog_box').hide();\n        return;\n      }\n      /* if (file.type === 'application/pdf') { // Todo: Handle PDF imports\n\n      }\n      else */\n      if (!file.type.includes('image')) {\n        return;\n      }\n      // Detected an image\n      // svg handling\n      let reader;\n      if (file.type.includes('svg')) {\n        reader = new FileReader();\n        reader.onloadend = function (ev) {\n          const newElement = svgCanvas.importSvgString(ev.target.result, true);\n          svgCanvas.ungroupSelectedElement();\n          svgCanvas.ungroupSelectedElement();\n          svgCanvas.groupSelectedElements();\n          svgCanvas.alignSelectedElements('m', 'page');\n          svgCanvas.alignSelectedElements('c', 'page');\n          // highlight imported element, otherwise we get strange empty selectbox\n          svgCanvas.selectOnly([newElement]);\n          $('#dialog_box').hide();\n        };\n        reader.readAsText(file);\n      } else {\n        // bitmap handling\n        reader = new FileReader();\n        reader.onloadend = function ({target: {result}}) {\n          /**\n          * Insert the new image until we know its dimensions.\n          * @param {Float} width\n          * @param {Float} height\n          * @returns {void}\n          */\n          const insertNewImage = function (width, height) {\n            const newImage = svgCanvas.addSVGElementFromJson({\n              element: 'image',\n              attr: {\n                x: 0,\n                y: 0,\n                width,\n                height,\n                id: svgCanvas.getNextId(),\n                style: 'pointer-events:inherit'\n              }\n            });\n            svgCanvas.setHref(newImage, result);\n            svgCanvas.selectOnly([newImage]);\n            svgCanvas.alignSelectedElements('m', 'page');\n            svgCanvas.alignSelectedElements('c', 'page');\n            updateContextPanel();\n            $('#dialog_box').hide();\n          };\n          // create dummy img so we know the default dimensions\n          let imgWidth = 100;\n          let imgHeight = 100;\n          const img = new Image();\n          img.style.opacity = 0;\n          img.addEventListener('load', function () {\n            imgWidth = img.offsetWidth || img.naturalWidth || img.width;\n            imgHeight = img.offsetHeight || img.naturalHeight || img.height;\n            insertNewImage(imgWidth, imgHeight);\n          });\n          img.src = result;\n        };\n        reader.readAsDataURL(file);\n      }\n    };\n\n    workarea[0].addEventListener('dragenter', onDragEnter);\n    workarea[0].addEventListener('dragover', onDragOver);\n    workarea[0].addEventListener('dragleave', onDragLeave);\n    workarea[0].addEventListener('drop', importImage);\n\n    const open = $('<input type=\"file\">').change(async function (e) {\n      const ok = await editor.openPrep();\n      if (!ok) { return; }\n      svgCanvas.clear();\n      if (this.files.length === 1) {\n        $.process_cancel(uiStrings.notification.loadingImage);\n        const reader = new FileReader();\n        reader.onloadend = async function ({target}) {\n          await loadSvgString(target.result);\n          updateCanvas();\n        };\n        reader.readAsText(this.files[0]);\n      }\n    });\n    $('#tool_open').show();\n    $(window).on('openImage', () => open.click());\n\n    const imgImport = $('<input type=\"file\">').change(importImage);\n    $('#tool_import').show();\n    $(window).on('importImage', () => imgImport.click());\n  }\n\n  updateCanvas(true);\n  //  const revnums = 'svg-editor.js ($Rev$) ';\n  //  revnums += svgCanvas.getVersion();\n  //  $('#copyright')[0].setAttribute('title', revnums);\n\n  const loadedExtensionNames = [];\n  /**\n  * @function module:SVGEditor.setLang\n  * @param {string} lang The language code\n  * @param {module:locale.LocaleStrings} allStrings See {@tutorial LocaleDocs}\n  * @fires module:svgcanvas.SvgCanvas#event:ext_langReady\n  * @fires module:svgcanvas.SvgCanvas#event:ext_langChanged\n  * @returns {Promise<void>} A Promise which resolves to `undefined`\n  */\n  const setLang = editor.setLang = async function (lang, allStrings) {\n    editor.langChanged = true;\n    editor.pref('lang', lang);\n    $('#lang_select').val(lang);\n    if (!allStrings) {\n      return;\n    }\n    // Todo: Remove `allStrings.lang` property in locale in\n    //   favor of just `lang`?\n    document.documentElement.lang = allStrings.lang; // lang;\n    // Todo: Add proper RTL Support!\n    // Todo: Use RTL detection instead and take out of locales?\n    // document.documentElement.dir = allStrings.dir;\n    $.extend(uiStrings, allStrings);\n\n    // const notif = allStrings.notification; // Currently unused\n    // $.extend will only replace the given strings\n    const oldLayerName = $('#layerlist tr.layersel td.layername').text();\n    const renameLayer = (oldLayerName === uiStrings.common.layer + ' 1');\n\n    svgCanvas.setUiStrings(allStrings);\n    Actions.setTitles();\n\n    if (renameLayer) {\n      svgCanvas.renameCurrentLayer(uiStrings.common.layer + ' 1');\n      populateLayers();\n    }\n\n    // In case extensions loaded before the locale, now we execute a callback on them\n    if (extsPreLang.length) {\n      await Promise.all(extsPreLang.map((ext) => {\n        loadedExtensionNames.push(ext.name);\n        return ext.langReady({\n          lang,\n          uiStrings,\n          importLocale: getImportLocale({defaultLang: lang, defaultName: ext.name})\n        });\n      }));\n      extsPreLang.length = 0;\n    } else {\n      loadedExtensionNames.forEach((loadedExtensionName) => {\n        svgCanvas.runExtension(\n          loadedExtensionName,\n          'langReady',\n          /** @type {module:svgcanvas.SvgCanvas#event:ext_langReady} */ {\n            lang, uiStrings, importLocale: getImportLocale({defaultLang: lang, defaultName: loadedExtensionName})\n          }\n        );\n      });\n    }\n    svgCanvas.runExtensions('langChanged', /** @type {module:svgcanvas.SvgCanvas#event:ext_langChanged} */ lang);\n\n    // Update flyout tooltips\n    setFlyoutTitles();\n\n    // Copy title for certain tool elements\n    const elems = {\n      '#stroke_color': '#tool_stroke .icon_label, #tool_stroke .color_block',\n      '#fill_color': '#tool_fill label, #tool_fill .color_block',\n      '#linejoin_miter': '#cur_linejoin',\n      '#linecap_butt': '#cur_linecap'\n    };\n\n    $.each(elems, function (source, dest) {\n      $(dest).attr('title', $(source)[0].title);\n    });\n\n    // Copy alignment titles\n    $('#multiselected_panel div[id^=tool_align]').each(function () {\n      $('#tool_pos' + this.id.substr(10))[0].title = this.title;\n    });\n  };\n  localeInit(\n    /**\n    * @implements {module:locale.LocaleEditorInit}\n    */\n    {\n      /**\n      * Gets an array of results from extensions with a `addLangData` method,\n      * returning an object with a `data` property set to its locales (to be\n      * merged with regular locales).\n      * @param {string} langParam\n      * @fires module:svgcanvas.SvgCanvas#event:ext_addLangData\n      * @todo Can we forego this in favor of `langReady` (or forego `langReady`)?\n      * @returns {module:locale.AddLangExtensionLocaleData[]}\n      */\n      addLangData (langParam) {\n        return svgCanvas.runExtensions(\n          'addLangData',\n          /**\n           * @function\n           * @type {module:svgcanvas.ExtensionVarBuilder}\n           * @param {string} name\n           * @returns {module:svgcanvas.SvgCanvas#event:ext_addLangData}\n           */\n          (name) => { // We pass in a function as we don't know the extension name here when defining this `addLangData` method\n            return {\n              lang: langParam,\n              importLocale: getImportLocale({defaultLang: langParam, defaultName: name})\n            };\n          },\n          true\n        );\n      },\n      curConfig\n    }\n  );\n  // Load extensions\n  // Bit of a hack to run extensions in local Opera/IE9\n  if (document.location.protocol === 'file:') {\n    setTimeout(extAndLocaleFunc, 100);\n  } else {\n    // Returns a promise (if we wanted to fire 'extensions-loaded' event,\n    //   potentially useful to hide interface as some extension locales\n    //   are only available after this)\n    extAndLocaleFunc();\n  }\n};\n\n/**\n* @callback module:SVGEditor.ReadyCallback\n* @returns {Promise<void>|void}\n*/\n/**\n* Queues a callback to be invoked when the editor is ready (or\n*   to be invoked immediately if it is already ready--i.e.,\n*   if `runCallbacks` has been run).\n* @function module:SVGEditor.ready\n* @param {module:SVGEditor.ReadyCallback} cb Callback to be queued to invoke\n* @returns {Promise<ArbitraryCallbackResult>} Resolves when all callbacks, including the supplied have resolved\n*/\neditor.ready = function (cb) { // eslint-disable-line promise/prefer-await-to-callbacks\n  return new Promise((resolve, reject) => { // eslint-disable-line promise/avoid-new\n    if (isReady) {\n      resolve(cb()); // eslint-disable-line node/callback-return, promise/prefer-await-to-callbacks\n      return;\n    }\n    callbacks.push([cb, resolve, reject]);\n  });\n};\n\n/**\n* Invokes the callbacks previous set by `svgEditor.ready`\n* @function module:SVGEditor.runCallbacks\n* @returns {Promise<void>} Resolves to `undefined` if all callbacks succeeded and rejects otherwise\n*/\neditor.runCallbacks = async function () {\n  try {\n    await Promise.all(callbacks.map(([cb]) => {\n      return cb(); // eslint-disable-line promise/prefer-await-to-callbacks\n    }));\n  } catch (err) {\n    callbacks.forEach(([, , reject]) => {\n      reject();\n    });\n    throw err;\n  }\n  callbacks.forEach(([, resolve]) => {\n    resolve();\n  });\n  isReady = true;\n};\n\n/**\n * @function module:SVGEditor.loadFromString\n * @param {string} str The SVG string to load\n * @param {PlainObject} [opts={}]\n * @param {boolean} [opts.noAlert=false] Option to avoid alert to user and instead get rejected promise\n * @returns {Promise<void>}\n */\neditor.loadFromString = function (str, {noAlert} = {}) {\n  return editor.ready(async function () {\n    try {\n      await loadSvgString(str, {noAlert});\n    } catch (err) {\n      if (noAlert) {\n        throw err;\n      }\n    }\n  });\n};\n\n/**\n* Not presently in use.\n* @function module:SVGEditor.disableUI\n* @param {PlainObject} featList\n* @returns {void}\n*/\neditor.disableUI = function (featList) {\n  // $(function () {\n  //   $('#tool_wireframe, #tool_image, #main_button, #tool_source, #sidepanels').remove();\n  //   $('#tools_top').css('left', 5);\n  // });\n};\n\n/**\n * @callback module:SVGEditor.URLLoadCallback\n * @param {boolean} success\n * @returns {void}\n */\n/**\n * @function module:SVGEditor.loadFromURL\n * @param {string} url URL from which to load an SVG string via Ajax\n * @param {PlainObject} [opts={}] May contain properties: `cache`, `callback`\n * @param {boolean} [opts.cache]\n * @param {boolean} [opts.noAlert]\n * @returns {Promise<void>} Resolves to `undefined` or rejects upon bad loading of\n *   the SVG (or upon failure to parse the loaded string) when `noAlert` is\n *   enabled\n */\neditor.loadFromURL = function (url, {cache, noAlert} = {}) {\n  return editor.ready(function () {\n    return new Promise((resolve, reject) => { // eslint-disable-line promise/avoid-new\n      $.ajax({\n        url,\n        dataType: 'text',\n        cache: Boolean(cache),\n        beforeSend () {\n          $.process_cancel(uiStrings.notification.loadingImage);\n        },\n        success (str) {\n          resolve(loadSvgString(str, {noAlert}));\n        },\n        error (xhr, stat, err) {\n          if (xhr.status !== 404 && xhr.responseText) {\n            resolve(loadSvgString(xhr.responseText, {noAlert}));\n            return;\n          }\n          if (noAlert) {\n            reject(new Error('URLLoadFail'));\n            return;\n          }\n          $.alert(uiStrings.notification.URLLoadFail + ': \\n' + err);\n          resolve();\n        },\n        complete () {\n          $('#dialog_box').hide();\n        }\n      });\n    });\n  });\n};\n\n/**\n* @function module:SVGEditor.loadFromDataURI\n* @param {string} str The Data URI to base64-decode (if relevant) and load\n* @param {PlainObject} [opts={}]\n* @param {boolean} [opts.noAlert]\n* @returns {Promise<void>} Resolves to `undefined` and rejects if loading SVG string fails and `noAlert` is enabled\n*/\neditor.loadFromDataURI = function (str, {noAlert} = {}) {\n  return editor.ready(function () {\n    let base64 = false;\n    let pre = str.match(/^data:image\\/svg\\+xml;base64,/);\n    if (pre) {\n      base64 = true;\n    } else {\n      pre = str.match(/^data:image\\/svg\\+xml(?:;|;utf8)?,/);\n    }\n    if (pre) {\n      pre = pre[0];\n    }\n    const src = str.slice(pre.length);\n    return loadSvgString(base64 ? Utils.decode64(src) : decodeURIComponent(src), {noAlert});\n  });\n};\n\n/**\n * @function module:SVGEditor.addExtension\n * @param {string} name Used internally; no need for i18n.\n * @param {module:svgcanvas.ExtensionInitCallback} init Config to be invoked on this module\n * @param {module:svgcanvas.ExtensionInitArgs} initArgs\n * @throws {Error} If called too early\n * @returns {Promise<void>} Resolves to `undefined`\n*/\neditor.addExtension = function (name, init, initArgs) {\n  // Note that we don't want this on editor.ready since some extensions\n  // may want to run before then (like server_opensave).\n  // $(function () {\n  if (!svgCanvas) {\n    throw new Error('Extension added too early');\n  }\n  return svgCanvas.addExtension.call(this, name, init, initArgs);\n  // });\n};\n\n// Defer injection to wait out initial menu processing. This probably goes\n//    away once all context menu behavior is brought to context menu.\neditor.ready(() => {\n  injectExtendedContextMenuItemsIntoDom();\n});\n\nlet extensionsAdded = false;\nconst messageQueue = [];\n/**\n * @param {PlainObject} info\n * @param {any} info.data\n * @param {string} info.origin\n * @fires module:svgcanvas.SvgCanvas#event:message\n * @returns {void}\n */\nconst messageListener = ({data, origin}) => { // eslint-disable-line no-shadow\n  // console.log('data, origin, extensionsAdded', data, origin, extensionsAdded);\n  const messageObj = {data, origin};\n  if (!extensionsAdded) {\n    messageQueue.push(messageObj);\n  } else {\n    // Extensions can handle messages at this stage with their own\n    //  canvas `message` listeners\n    svgCanvas.call('message', messageObj);\n  }\n};\nwindow.addEventListener('message', messageListener);\n\n// Run init once DOM is loaded\n// jQuery(editor.init);\n\n(async () => {\ntry {\n  // We wait a micro-task to let the svgEditor variable be defined for module checks\n  await Promise.resolve();\n  editor.init();\n} catch (err) {\n  console.error(err); // eslint-disable-line no-console\n}\n})();\n\nexport default editor;\n","//  TO BUILD AN IIFE VERSION OF THIS FILE (AS CAN WORK ON OLDER BROWSERS),\n//   RUN THE FOLLOWING ON THE COMMAND LINE FROM THE PROJECT ROOT:\n//   `npm run build-by-config`. REPEAT AFTER ANY MODIFICATIONS\n//   TO svgedit-config-es.js.\n\n/*\nThe svgedit-config-es.js file is intended for the setting of configuration\n  or preferences which must run early on; if this is not needed, it is\n  recommended that you create an extension instead (for greater\n  reusability and modularity). This file needs to be in the parent\n  folder of the editor folder. It is referenced in the code as\n  '../svgedit-config-es.js'.\n*/\n\n// CONFIG AND EXTENSION SETTING\n/*\nFor default config and extensions (and available options) available to\n`setConfig()`, see the file `docs/tutorials/ConfigOptions.md`\n*/\n\n// eslint-disable-next-line node/file-extension-in-import\nimport 'core-js/stable';\n// eslint-disable-next-line node/file-extension-in-import\nimport 'regenerator-runtime/runtime';\nimport svgEditor from './svgedit.js';\n\n// URL OVERRIDE CONFIG\nsvgEditor.setConfig({\n  /* To override the ability for URLs to set URL-based SVG content,\n  uncomment the following: */\n  // preventURLContentLoading: true,\n  /* To override the ability for URLs to set other configuration (including\n    extension config), uncomment the following: */\n  // preventAllURLConfig: true,\n  /* To override the ability for URLs to set their own extensions, uncomment the\n  following (note that if `setConfig()` is used in extension code, it will still\n  be additive to extensions, however): */\n  // lockExtensions: true,\n});\n\nsvgEditor.setConfig({\n  /*\n  Provide default values here which differ from that of the editor but\n    which the URL can override\n  */\n}, {allowInitialUserOverride: true});\n\n// EXTENSION CONFIG\nsvgEditor.setConfig({\n  extensions: [\n    // 'ext-overview_window.js', 'ext-markers.js', 'ext-connector.js',\n    //  'ext-eyedropper.js', 'ext-shapes.js', 'ext-imagelib.js',\n    //  'ext-grid.js', 'ext-polygon.js', 'ext-star.js', 'ext-panning.js',\n    //   'ext-storage.js'\n  ],\n  // noDefaultExtensions can only be meaningfully used in\n  //  `svgedit-config-es.js` or in the URL\n  noDefaultExtensions: false\n});\n\n// OTHER CONFIG\nsvgEditor.setConfig({\n  // canvasName: 'default',\n  // canvas_expansion: 3,\n  // initFill: {\n  //   color: 'FF0000', // solid red\n  //   opacity: 1\n  // },\n  // initStroke: {\n  //   width: 5,\n  //   color: '000000', // solid black\n  //   opacity: 1\n  // },\n  // initOpacity: 1,\n  // colorPickerCSS: null,\n  // initTool: 'select',\n  // exportWindowType: 'new', // 'same'\n  // wireframe: false,\n  // showlayers: false,\n  // no_save_warning: false,\n  // PATH CONFIGURATION\n  // imgPath: 'images/',\n  // langPath: '/src/editor/locale/',\n  // extPath: 'extensions/',\n  // jGraduatePath: 'jgraduate/images/',\n  /*\n  Uncomment the following to allow at least same domain (embedded) access,\n  including `file:///` access.\n  Setting as `['*']` would allow any domain to access but would be unsafe to\n  data privacy and integrity.\n  */\n  // May be 'null' (as a string) when used as a `file:///` URL\n  // allowedOrigins: [location.origin || 'null'],\n  // DOCUMENT PROPERTIES\n  // dimensions: [640, 480],\n  // EDITOR OPTIONS\n  // gridSnapping: false,\n  // gridColor: '#000',\n  // baseUnit: 'px',\n  // snappingStep: 10,\n  // showRulers: true,\n  // EXTENSION-RELATED (GRID)\n  // showGrid: false, // Set by ext-grid.js\n  // EXTENSION-RELATED (STORAGE)\n  // Some interaction with `ext-storage.js`; prevent even the loading of\n  //  previously saved local storage\n  // noStorageOnLoad: false,\n  // Some interaction with `ext-storage.js`; strongly discouraged from\n  //  modification as it bypasses user privacy by preventing them from\n  //  choosing whether to keep local storage or not\n  // forceStorage: false,\n  // Used by `ext-storage.js`; empty any prior storage if the user\n  //  declines to store\n  // emptyStorageOnDecline: true,\n});\n\n// PREF CHANGES\n/*\nsetConfig() can also be used to set preferences in addition to\n  configuration (see defaultPrefs in svg-editor.js for a list of\n  possible settings), but at least if you are using ext-storage.js\n  to store preferences, it will probably be better to let your\n  users control these.\nAs with configuration, one may use allowInitialUserOverride, but\n  in the case of preferences, any previously stored preferences\n  will also thereby be enabled to override this setting (and at a\n  higher priority than any URL preference setting overrides).\n  Failing to use allowInitialUserOverride will ensure preferences\n  are hard-coded here regardless of URL or prior user storage setting.\n*/\nsvgEditor.setConfig({\n  // Set dynamically within locale.js if not previously set\n  // lang: '',\n  // Will default to 's' if the window height is smaller than the minimum\n  //  height and 'm' otherwise\n  // iconsize: '',\n  /**\n  * When showing the preferences dialog, svg-editor.js currently relies\n  * on `curPrefs` instead of `svgEditor.pref`, so allowing an override for\n  * `bkgd_color` means that this value won't have priority over block\n  * auto-detection as far as determining which color shows initially\n  * in the preferences dialog (though it can be changed and saved).\n  */\n  // bkgd_color: '#FFF',\n  // bkgd_url: '',\n  // img_save: 'embed',\n  // Only shows in UI as far as alert notices\n  // save_notice_done: false,\n  // export_notice_done: false\n});\nsvgEditor.setConfig(\n  {\n    // Indicate pref settings here if you wish to allow user storage or URL\n    //   settings to be able to override your default preferences (unless\n    //   other config options have already explicitly prevented one or the\n    //   other)\n  },\n  {allowInitialUserOverride: true}\n);\n","!function(n,r){var t,e;\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=r():\"function\"==typeof define&&define.amd?define(\"underscore\",r):(t=n._,e=r(),(n._=e).noConflict=function(){return n._=t,e})}(this,function(){\n//     Underscore.js 1.10.2\n//     https://underscorejs.org\n//     (c) 2009-2020 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\nvar n=\"object\"==typeof self&&self.self===self&&self||\"object\"==typeof global&&global.global===global&&global||Function(\"return this\")()||{},e=Array.prototype,i=Object.prototype,p=\"undefined\"!=typeof Symbol?Symbol.prototype:null,u=e.push,f=e.slice,s=i.toString,o=i.hasOwnProperty,r=Array.isArray,a=Object.keys,t=Object.create,c=n.isNaN,l=n.isFinite,v=function(){};function h(n){return n instanceof h?n:this instanceof h?void(this._wrapped=n):new h(n)}var g=h.VERSION=\"1.10.2\";function y(u,o,n){if(void 0===o)return u;switch(null==n?3:n){case 1:return function(n){return u.call(o,n)};case 3:return function(n,r,t){return u.call(o,n,r,t)};case 4:return function(n,r,t,e){return u.call(o,n,r,t,e)}}return function(){return u.apply(o,arguments)}}function d(n,r,t){return null==n?ur:Cn(n)?y(n,r,t):Ln(n)&&!Kn(n)?ir(n):or(n)}function m(n,r){return d(n,r,1/0)}function b(n,r,t){return h.iteratee!==m?h.iteratee(n,r):d(n,r,t)}function j(u,o){return o=null==o?u.length-1:+o,function(){for(var n=Math.max(arguments.length-o,0),r=Array(n),t=0;t<n;t++)r[t]=arguments[t+o];switch(o){case 0:return u.call(this,r);case 1:return u.call(this,arguments[0],r);case 2:return u.call(this,arguments[0],arguments[1],r)}var e=Array(o+1);for(t=0;t<o;t++)e[t]=arguments[t];return e[o]=r,u.apply(this,e)}}function _(n){if(!Ln(n))return{};if(t)return t(n);v.prototype=n;var r=new v;return v.prototype=null,r}function w(r){return function(n){return null==n?void 0:n[r]}}function x(n,r){return null!=n&&o.call(n,r)}function S(n,r){for(var t=r.length,e=0;e<t;e++){if(null==n)return;n=n[r[e]]}return t?n:void 0}h.iteratee=m;var A=Math.pow(2,53)-1,O=w(\"length\");function M(n){var r=O(n);return\"number\"==typeof r&&0<=r&&r<=A}function E(n,r,t){var e,u;if(r=y(r,t),M(n))for(e=0,u=n.length;e<u;e++)r(n[e],e,n);else{var o=Sn(n);for(e=0,u=o.length;e<u;e++)r(n[o[e]],o[e],n)}return n}function N(n,r,t){r=b(r,t);for(var e=!M(n)&&Sn(n),u=(e||n).length,o=Array(u),i=0;i<u;i++){var a=e?e[i]:i;o[i]=r(n[a],a,n)}return o}function k(f){return function(n,r,t,e){var u=3<=arguments.length;return function(n,r,t,e){var u=!M(n)&&Sn(n),o=(u||n).length,i=0<f?0:o-1;for(e||(t=n[u?u[i]:i],i+=f);0<=i&&i<o;i+=f){var a=u?u[i]:i;t=r(t,n[a],a,n)}return t}(n,y(r,e,4),t,u)}}var I=k(1),T=k(-1);function B(n,r,t){var e=(M(n)?on:Tn)(n,r,t);if(void 0!==e&&-1!==e)return n[e]}function R(n,e,r){var u=[];return e=b(e,r),E(n,function(n,r,t){e(n,r,t)&&u.push(n)}),u}function F(n,r,t){r=b(r,t);for(var e=!M(n)&&Sn(n),u=(e||n).length,o=0;o<u;o++){var i=e?e[o]:o;if(!r(n[i],i,n))return!1}return!0}function q(n,r,t){r=b(r,t);for(var e=!M(n)&&Sn(n),u=(e||n).length,o=0;o<u;o++){var i=e?e[o]:o;if(r(n[i],i,n))return!0}return!1}function D(n,r,t,e){return M(n)||(n=On(n)),(\"number\"!=typeof t||e)&&(t=0),0<=ln(n,r,t)}var W=j(function(n,t,e){var u,o;return Cn(t)?o=t:Kn(t)&&(u=t.slice(0,-1),t=t[t.length-1]),N(n,function(n){var r=o;if(!r){if(u&&u.length&&(n=S(n,u)),null==n)return;r=n[t]}return null==r?r:r.apply(n,e)})});function z(n,r){return N(n,or(r))}function P(n,e,r){var t,u,o=-1/0,i=-1/0;if(null==e||\"number\"==typeof e&&\"object\"!=typeof n[0]&&null!=n)for(var a=0,f=(n=M(n)?n:On(n)).length;a<f;a++)null!=(t=n[a])&&o<t&&(o=t);else e=b(e,r),E(n,function(n,r,t){u=e(n,r,t),(i<u||u===-1/0&&o===-1/0)&&(o=n,i=u)});return o}function K(n,r,t){if(null==r||t)return M(n)||(n=On(n)),n[ar(n.length-1)];var e=M(n)?Dn(n):On(n),u=O(e);r=Math.max(Math.min(r,u),0);for(var o=u-1,i=0;i<r;i++){var a=ar(i,o),f=e[i];e[i]=e[a],e[a]=f}return e.slice(0,r)}function L(i,r){return function(e,u,n){var o=r?[[],[]]:{};return u=b(u,n),E(e,function(n,r){var t=u(n,r,e);i(o,n,t)}),o}}var V=L(function(n,r,t){x(n,t)?n[t].push(r):n[t]=[r]}),C=L(function(n,r,t){n[t]=r}),J=L(function(n,r,t){x(n,t)?n[t]++:n[t]=1}),U=/[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;var $=L(function(n,r,t){n[t?0:1].push(r)},!0);function G(n,r,t){return null==n||n.length<1?null==r?void 0:[]:null==r||t?n[0]:H(n,n.length-r)}function H(n,r,t){return f.call(n,0,Math.max(0,n.length-(null==r||t?1:r)))}function Q(n,r,t){return f.call(n,null==r||t?1:r)}function X(n,r,t,e){for(var u=(e=e||[]).length,o=0,i=O(n);o<i;o++){var a=n[o];if(M(a)&&(Kn(a)||Vn(a)))if(r)for(var f=0,c=a.length;f<c;)e[u++]=a[f++];else X(a,r,t,e),u=e.length;else t||(e[u++]=a)}return e}var Y=j(function(n,r){return rn(n,r)});function Z(n,r,t,e){er(r)||(e=t,t=r,r=!1),null!=t&&(t=b(t,e));for(var u=[],o=[],i=0,a=O(n);i<a;i++){var f=n[i],c=t?t(f,i,n):f;r&&!t?(i&&o===c||u.push(f),o=c):t?D(o,c)||(o.push(c),u.push(f)):D(u,f)||u.push(f)}return u}var nn=j(function(n){return Z(X(n,!0,!0))});var rn=j(function(n,r){return r=X(r,!0,!0),R(n,function(n){return!D(r,n)})});function tn(n){for(var r=n&&P(n,O).length||0,t=Array(r),e=0;e<r;e++)t[e]=z(n,e);return t}var en=j(tn);function un(o){return function(n,r,t){r=b(r,t);for(var e=O(n),u=0<o?0:e-1;0<=u&&u<e;u+=o)if(r(n[u],u,n))return u;return-1}}var on=un(1),an=un(-1);function fn(n,r,t,e){for(var u=(t=b(t,e,1))(r),o=0,i=O(n);o<i;){var a=Math.floor((o+i)/2);t(n[a])<u?o=a+1:i=a}return o}function cn(o,i,a){return function(n,r,t){var e=0,u=O(n);if(\"number\"==typeof t)0<o?e=0<=t?t:Math.max(t+u,e):u=0<=t?Math.min(t+1,u):t+u+1;else if(a&&t&&u)return n[t=a(n,r)]===r?t:-1;if(r!=r)return 0<=(t=i(f.call(n,e,u),tr))?t+e:-1;for(t=0<o?e:u-1;0<=t&&t<u;t+=o)if(n[t]===r)return t;return-1}}var ln=cn(1,on,fn),pn=cn(-1,an);function sn(n,r,t,e,u){if(!(e instanceof r))return n.apply(t,u);var o=_(n.prototype),i=n.apply(o,u);return Ln(i)?i:o}var vn=j(function(r,t,e){if(!Cn(r))throw new TypeError(\"Bind must be called on a function\");var u=j(function(n){return sn(r,u,t,this,e.concat(n))});return u}),hn=j(function(u,o){var i=hn.placeholder,a=function(){for(var n=0,r=o.length,t=Array(r),e=0;e<r;e++)t[e]=o[e]===i?arguments[n++]:o[e];for(;n<arguments.length;)t.push(arguments[n++]);return sn(u,a,this,this,t)};return a});hn.placeholder=h;var gn=j(function(n,r){var t=(r=X(r,!1,!1)).length;if(t<1)throw new Error(\"bindAll must be passed function names\");for(;t--;){var e=r[t];n[e]=vn(n[e],n)}});var yn=j(function(n,r,t){return setTimeout(function(){return n.apply(null,t)},r)}),dn=hn(yn,h,1);function mn(n){return function(){return!n.apply(this,arguments)}}function bn(n,r){var t;return function(){return 0<--n&&(t=r.apply(this,arguments)),n<=1&&(r=null),t}}var jn=hn(bn,2),_n=!{toString:null}.propertyIsEnumerable(\"toString\"),wn=[\"valueOf\",\"isPrototypeOf\",\"toString\",\"propertyIsEnumerable\",\"hasOwnProperty\",\"toLocaleString\"];function xn(n,r){var t=wn.length,e=n.constructor,u=Cn(e)&&e.prototype||i,o=\"constructor\";for(x(n,o)&&!D(r,o)&&r.push(o);t--;)(o=wn[t])in n&&n[o]!==u[o]&&!D(r,o)&&r.push(o)}function Sn(n){if(!Ln(n))return[];if(a)return a(n);var r=[];for(var t in n)x(n,t)&&r.push(t);return _n&&xn(n,r),r}function An(n){if(!Ln(n))return[];var r=[];for(var t in n)r.push(t);return _n&&xn(n,r),r}function On(n){for(var r=Sn(n),t=r.length,e=Array(t),u=0;u<t;u++)e[u]=n[r[u]];return e}function Mn(n){for(var r={},t=Sn(n),e=0,u=t.length;e<u;e++)r[n[t[e]]]=t[e];return r}function En(n){var r=[];for(var t in n)Cn(n[t])&&r.push(t);return r.sort()}function Nn(f,c){return function(n){var r=arguments.length;if(c&&(n=Object(n)),r<2||null==n)return n;for(var t=1;t<r;t++)for(var e=arguments[t],u=f(e),o=u.length,i=0;i<o;i++){var a=u[i];c&&void 0!==n[a]||(n[a]=e[a])}return n}}var kn=Nn(An),In=Nn(Sn);function Tn(n,r,t){r=b(r,t);for(var e,u=Sn(n),o=0,i=u.length;o<i;o++)if(r(n[e=u[o]],e,n))return e}function Bn(n,r,t){return r in t}var Rn=j(function(n,r){var t={},e=r[0];if(null==n)return t;Cn(e)?(1<r.length&&(e=y(e,r[1])),r=An(n)):(e=Bn,r=X(r,!1,!1),n=Object(n));for(var u=0,o=r.length;u<o;u++){var i=r[u],a=n[i];e(a,i,n)&&(t[i]=a)}return t}),Fn=j(function(n,t){var r,e=t[0];return Cn(e)?(e=mn(e),1<t.length&&(r=t[1])):(t=N(X(t,!1,!1),String),e=function(n,r){return!D(t,r)}),Rn(n,e,r)}),qn=Nn(An,!0);function Dn(n){return Ln(n)?Kn(n)?n.slice():kn({},n):n}function Wn(n,r){var t=Sn(r),e=t.length;if(null==n)return!e;for(var u=Object(n),o=0;o<e;o++){var i=t[o];if(r[i]!==u[i]||!(i in u))return!1}return!0}function zn(n,r,t,e){if(n===r)return 0!==n||1/n==1/r;if(null==n||null==r)return!1;if(n!=n)return r!=r;var u=typeof n;return(\"function\"===u||\"object\"===u||\"object\"==typeof r)&&function(n,r,t,e){n instanceof h&&(n=n._wrapped);r instanceof h&&(r=r._wrapped);var u=s.call(n);if(u!==s.call(r))return!1;switch(u){case\"[object RegExp]\":case\"[object String]\":return\"\"+n==\"\"+r;case\"[object Number]\":return+n!=+n?+r!=+r:0==+n?1/+n==1/r:+n==+r;case\"[object Date]\":case\"[object Boolean]\":return+n==+r;case\"[object Symbol]\":return p.valueOf.call(n)===p.valueOf.call(r)}var o=\"[object Array]\"===u;if(!o){if(\"object\"!=typeof n||\"object\"!=typeof r)return!1;var i=n.constructor,a=r.constructor;if(i!==a&&!(Cn(i)&&i instanceof i&&Cn(a)&&a instanceof a)&&\"constructor\"in n&&\"constructor\"in r)return!1}e=e||[];var f=(t=t||[]).length;for(;f--;)if(t[f]===n)return e[f]===r;if(t.push(n),e.push(r),o){if((f=n.length)!==r.length)return!1;for(;f--;)if(!zn(n[f],r[f],t,e))return!1}else{var c,l=Sn(n);if(f=l.length,Sn(r).length!==f)return!1;for(;f--;)if(c=l[f],!x(r,c)||!zn(n[c],r[c],t,e))return!1}return t.pop(),e.pop(),!0}(n,r,t,e)}function Pn(r){return function(n){return s.call(n)===\"[object \"+r+\"]\"}}var Kn=r||Pn(\"Array\");function Ln(n){var r=typeof n;return\"function\"===r||\"object\"===r&&!!n}var Vn=Pn(\"Arguments\"),Cn=Pn(\"Function\"),Jn=Pn(\"String\"),Un=Pn(\"Number\"),$n=Pn(\"Date\"),Gn=Pn(\"RegExp\"),Hn=Pn(\"Error\"),Qn=Pn(\"Symbol\"),Xn=Pn(\"Map\"),Yn=Pn(\"WeakMap\"),Zn=Pn(\"Set\"),nr=Pn(\"WeakSet\");!function(){Vn(arguments)||(Vn=function(n){return x(n,\"callee\")})}();var rr=n.document&&n.document.childNodes;function tr(n){return Un(n)&&c(n)}function er(n){return!0===n||!1===n||\"[object Boolean]\"===s.call(n)}function ur(n){return n}function or(r){return Kn(r)?function(n){return S(n,r)}:w(r)}function ir(r){return r=In({},r),function(n){return Wn(n,r)}}function ar(n,r){return null==r&&(r=n,n=0),n+Math.floor(Math.random()*(r-n+1))}\"function\"!=typeof/./&&\"object\"!=typeof Int8Array&&\"function\"!=typeof rr&&(Cn=function(n){return\"function\"==typeof n||!1});var fr=Date.now||function(){return(new Date).getTime()},cr={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#x27;\",\"`\":\"&#x60;\"},lr=Mn(cr);function pr(r){var t=function(n){return r[n]},n=\"(?:\"+Sn(r).join(\"|\")+\")\",e=RegExp(n),u=RegExp(n,\"g\");return function(n){return n=null==n?\"\":\"\"+n,e.test(n)?n.replace(u,t):n}}var sr=pr(cr),vr=pr(lr);var hr=0;var gr=h.templateSettings={evaluate:/<%([\\s\\S]+?)%>/g,interpolate:/<%=([\\s\\S]+?)%>/g,escape:/<%-([\\s\\S]+?)%>/g},yr=/(.)^/,dr={\"'\":\"'\",\"\\\\\":\"\\\\\",\"\\r\":\"r\",\"\\n\":\"n\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},mr=/\\\\|'|\\r|\\n|\\u2028|\\u2029/g,br=function(n){return\"\\\\\"+dr[n]};function jr(n,r){return n._chain?h(r).chain():r}function _r(t){return E(En(t),function(n){var r=h[n]=t[n];h.prototype[n]=function(){var n=[this._wrapped];return u.apply(n,arguments),jr(this,r.apply(h,n))}}),h}E([\"pop\",\"push\",\"reverse\",\"shift\",\"sort\",\"splice\",\"unshift\"],function(r){var t=e[r];h.prototype[r]=function(){var n=this._wrapped;return t.apply(n,arguments),\"shift\"!==r&&\"splice\"!==r||0!==n.length||delete n[0],jr(this,n)}}),E([\"concat\",\"join\",\"slice\"],function(n){var r=e[n];h.prototype[n]=function(){return jr(this,r.apply(this._wrapped,arguments))}}),h.prototype.valueOf=h.prototype.toJSON=h.prototype.value=function(){return this._wrapped},h.prototype.toString=function(){return String(this._wrapped)};var wr=_r({default:h,VERSION:g,iteratee:m,restArguments:j,each:E,forEach:E,map:N,collect:N,reduce:I,foldl:I,inject:I,reduceRight:T,foldr:T,find:B,detect:B,filter:R,select:R,reject:function(n,r,t){return R(n,mn(b(r)),t)},every:F,all:F,some:q,any:q,contains:D,includes:D,include:D,invoke:W,pluck:z,where:function(n,r){return R(n,ir(r))},findWhere:function(n,r){return B(n,ir(r))},max:P,min:function(n,e,r){var t,u,o=1/0,i=1/0;if(null==e||\"number\"==typeof e&&\"object\"!=typeof n[0]&&null!=n)for(var a=0,f=(n=M(n)?n:On(n)).length;a<f;a++)null!=(t=n[a])&&t<o&&(o=t);else e=b(e,r),E(n,function(n,r,t){((u=e(n,r,t))<i||u===1/0&&o===1/0)&&(o=n,i=u)});return o},shuffle:function(n){return K(n,1/0)},sample:K,sortBy:function(n,e,r){var u=0;return e=b(e,r),z(N(n,function(n,r,t){return{value:n,index:u++,criteria:e(n,r,t)}}).sort(function(n,r){var t=n.criteria,e=r.criteria;if(t!==e){if(e<t||void 0===t)return 1;if(t<e||void 0===e)return-1}return n.index-r.index}),\"value\")},groupBy:V,indexBy:C,countBy:J,toArray:function(n){return n?Kn(n)?f.call(n):Jn(n)?n.match(U):M(n)?N(n,ur):On(n):[]},size:function(n){return null==n?0:M(n)?n.length:Sn(n).length},partition:$,first:G,head:G,take:G,initial:H,last:function(n,r,t){return null==n||n.length<1?null==r?void 0:[]:null==r||t?n[n.length-1]:Q(n,Math.max(0,n.length-r))},rest:Q,tail:Q,drop:Q,compact:function(n){return R(n,Boolean)},flatten:function(n,r){return X(n,r,!1)},without:Y,uniq:Z,unique:Z,union:nn,intersection:function(n){for(var r=[],t=arguments.length,e=0,u=O(n);e<u;e++){var o=n[e];if(!D(r,o)){var i;for(i=1;i<t&&D(arguments[i],o);i++);i===t&&r.push(o)}}return r},difference:rn,unzip:tn,zip:en,object:function(n,r){for(var t={},e=0,u=O(n);e<u;e++)r?t[n[e]]=r[e]:t[n[e][0]]=n[e][1];return t},findIndex:on,findLastIndex:an,sortedIndex:fn,indexOf:ln,lastIndexOf:pn,range:function(n,r,t){null==r&&(r=n||0,n=0),t||(t=r<n?-1:1);for(var e=Math.max(Math.ceil((r-n)/t),0),u=Array(e),o=0;o<e;o++,n+=t)u[o]=n;return u},chunk:function(n,r){if(null==r||r<1)return[];for(var t=[],e=0,u=n.length;e<u;)t.push(f.call(n,e,e+=r));return t},bind:vn,partial:hn,bindAll:gn,memoize:function(e,u){var o=function(n){var r=o.cache,t=\"\"+(u?u.apply(this,arguments):n);return x(r,t)||(r[t]=e.apply(this,arguments)),r[t]};return o.cache={},o},delay:yn,defer:dn,throttle:function(t,e,u){var o,i,a,f,c=0;u||(u={});var l=function(){c=!1===u.leading?0:fr(),o=null,f=t.apply(i,a),o||(i=a=null)},n=function(){var n=fr();c||!1!==u.leading||(c=n);var r=e-(n-c);return i=this,a=arguments,r<=0||e<r?(o&&(clearTimeout(o),o=null),c=n,f=t.apply(i,a),o||(i=a=null)):o||!1===u.trailing||(o=setTimeout(l,r)),f};return n.cancel=function(){clearTimeout(o),c=0,o=i=a=null},n},debounce:function(t,e,u){var o,i,a=function(n,r){o=null,r&&(i=t.apply(n,r))},n=j(function(n){if(o&&clearTimeout(o),u){var r=!o;o=setTimeout(a,e),r&&(i=t.apply(this,n))}else o=yn(a,e,this,n);return i});return n.cancel=function(){clearTimeout(o),o=null},n},wrap:function(n,r){return hn(r,n)},negate:mn,compose:function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},after:function(n,r){return function(){if(--n<1)return r.apply(this,arguments)}},before:bn,once:jn,keys:Sn,allKeys:An,values:On,mapObject:function(n,r,t){r=b(r,t);for(var e=Sn(n),u=e.length,o={},i=0;i<u;i++){var a=e[i];o[a]=r(n[a],a,n)}return o},pairs:function(n){for(var r=Sn(n),t=r.length,e=Array(t),u=0;u<t;u++)e[u]=[r[u],n[r[u]]];return e},invert:Mn,functions:En,methods:En,extend:kn,extendOwn:In,assign:In,findKey:Tn,pick:Rn,omit:Fn,defaults:qn,create:function(n,r){var t=_(n);return r&&In(t,r),t},clone:Dn,tap:function(n,r){return r(n),n},isMatch:Wn,isEqual:function(n,r){return zn(n,r)},isEmpty:function(n){return null==n||(M(n)&&(Kn(n)||Jn(n)||Vn(n))?0===n.length:0===Sn(n).length)},isElement:function(n){return!(!n||1!==n.nodeType)},isArray:Kn,isObject:Ln,isArguments:Vn,isFunction:Cn,isString:Jn,isNumber:Un,isDate:$n,isRegExp:Gn,isError:Hn,isSymbol:Qn,isMap:Xn,isWeakMap:Yn,isSet:Zn,isWeakSet:nr,isFinite:function(n){return!Qn(n)&&l(n)&&!c(parseFloat(n))},isNaN:tr,isBoolean:er,isNull:function(n){return null===n},isUndefined:function(n){return void 0===n},has:function(n,r){if(!Kn(r))return x(n,r);for(var t=r.length,e=0;e<t;e++){var u=r[e];if(null==n||!o.call(n,u))return!1;n=n[u]}return!!t},identity:ur,constant:function(n){return function(){return n}},noop:function(){},property:or,propertyOf:function(r){return null==r?function(){}:function(n){return Kn(n)?S(r,n):r[n]}},matcher:ir,matches:ir,times:function(n,r,t){var e=Array(Math.max(0,n));r=y(r,t,1);for(var u=0;u<n;u++)e[u]=r(u);return e},random:ar,now:fr,escape:sr,unescape:vr,result:function(n,r,t){Kn(r)||(r=[r]);var e=r.length;if(!e)return Cn(t)?t.call(n):t;for(var u=0;u<e;u++){var o=null==n?void 0:n[r[u]];void 0===o&&(o=t,u=e),n=Cn(o)?o.call(n):o}return n},uniqueId:function(n){var r=++hr+\"\";return n?n+r:r},templateSettings:gr,template:function(o,n,r){!n&&r&&(n=r),n=qn({},n,h.templateSettings);var t,e=RegExp([(n.escape||yr).source,(n.interpolate||yr).source,(n.evaluate||yr).source].join(\"|\")+\"|$\",\"g\"),i=0,a=\"__p+='\";o.replace(e,function(n,r,t,e,u){return a+=o.slice(i,u).replace(mr,br),i=u+n.length,r?a+=\"'+\\n((__t=(\"+r+\"))==null?'':_.escape(__t))+\\n'\":t?a+=\"'+\\n((__t=(\"+t+\"))==null?'':__t)+\\n'\":e&&(a+=\"';\\n\"+e+\"\\n__p+='\"),n}),a+=\"';\\n\",n.variable||(a=\"with(obj||{}){\\n\"+a+\"}\\n\"),a=\"var __t,__p='',__j=Array.prototype.join,\"+\"print=function(){__p+=__j.call(arguments,'');};\\n\"+a+\"return __p;\\n\";try{t=new Function(n.variable||\"obj\",\"_\",a)}catch(n){throw n.source=a,n}var u=function(n){return t.call(this,n,h)},f=n.variable||\"obj\";return u.source=\"function(\"+f+\"){\\n\"+a+\"}\",u},chain:function(n){var r=h(n);return r._chain=!0,r},mixin:_r});return wr._=wr});","export default (typeof global !== \"undefined\" ? global :\n  typeof self !== \"undefined\" ? self :\n  typeof window !== \"undefined\" ? window : {});","var lookup = [];\nvar revLookup = [];\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array;\nvar inited = false;\nfunction init () {\n  inited = true;\n  var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n  for (var i = 0, len = code.length; i < len; ++i) {\n    lookup[i] = code[i];\n    revLookup[code.charCodeAt(i)] = i;\n  }\n\n  revLookup['-'.charCodeAt(0)] = 62;\n  revLookup['_'.charCodeAt(0)] = 63;\n}\n\nfunction toByteArray (b64) {\n  if (!inited) {\n    init();\n  }\n  var i, j, l, tmp, placeHolders, arr;\n  var len = b64.length;\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  placeHolders = b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0;\n\n  // base64 is 4/3 + up to two characters of the original data\n  arr = new Arr(len * 3 / 4 - placeHolders);\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len;\n\n  var L = 0;\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)];\n    arr[L++] = (tmp >> 16) & 0xFF;\n    arr[L++] = (tmp >> 8) & 0xFF;\n    arr[L++] = tmp & 0xFF;\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4);\n    arr[L++] = tmp & 0xFF;\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2);\n    arr[L++] = (tmp >> 8) & 0xFF;\n    arr[L++] = tmp & 0xFF;\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp;\n  var output = [];\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2]);\n    output.push(tripletToBase64(tmp));\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  if (!inited) {\n    init();\n  }\n  var tmp;\n  var len = uint8.length;\n  var extraBytes = len % 3; // if we have 1 byte left, pad 2 bytes\n  var output = '';\n  var parts = [];\n  var maxChunkLength = 16383; // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)));\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1];\n    output += lookup[tmp >> 2];\n    output += lookup[(tmp << 4) & 0x3F];\n    output += '==';\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1]);\n    output += lookup[tmp >> 10];\n    output += lookup[(tmp >> 4) & 0x3F];\n    output += lookup[(tmp << 2) & 0x3F];\n    output += '=';\n  }\n\n  parts.push(output);\n\n  return parts.join('')\n}\n\nfunction read (buffer, offset, isLE, mLen, nBytes) {\n  var e, m;\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = -7;\n  var i = isLE ? (nBytes - 1) : 0;\n  var d = isLE ? -1 : 1;\n  var s = buffer[offset + i];\n\n  i += d;\n\n  e = s & ((1 << (-nBits)) - 1);\n  s >>= (-nBits);\n  nBits += eLen;\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1);\n  e >>= (-nBits);\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nfunction write (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c;\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0);\n  var i = isLE ? 0 : (nBytes - 1);\n  var d = isLE ? 1 : -1;\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0;\n\n  value = Math.abs(value);\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128;\n}\n\nvar toString = {}.toString;\n\nvar isArray = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n\nvar INSPECT_MAX_BYTES = 50;\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : true;\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nvar _kMaxLength = kMaxLength();\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length);\n    that.__proto__ = Buffer.prototype;\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length);\n    }\n    that.length = length;\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192; // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype;\n  return arr\n};\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n};\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype;\n  Buffer.__proto__ = Uint8Array;\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size);\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n};\n\nfunction allocUnsafe (that, size) {\n  assertSize(size);\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0);\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0;\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n};\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n};\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8';\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0;\n  that = createBuffer(that, length);\n\n  var actual = that.write(string, encoding);\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual);\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0;\n  that = createBuffer(that, length);\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255;\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength; // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array);\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset);\n  } else {\n    array = new Uint8Array(array, byteOffset, length);\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array;\n    that.__proto__ = Buffer.prototype;\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array);\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (internalIsBuffer(obj)) {\n    var len = checked(obj.length) | 0;\n    that = createBuffer(that, len);\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len);\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0;\n  }\n  return Buffer.alloc(+length)\n}\nBuffer.isBuffer = isBuffer;\nfunction internalIsBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!internalIsBuffer(a) || !internalIsBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n};\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n};\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i;\n  if (length === undefined) {\n    length = 0;\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length;\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length);\n  var pos = 0;\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i];\n    if (!internalIsBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos);\n    pos += buf.length;\n  }\n  return buffer\n};\n\nfunction byteLength (string, encoding) {\n  if (internalIsBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string;\n  }\n\n  var len = string.length;\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false;\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase();\n        loweredCase = true;\n    }\n  }\n}\nBuffer.byteLength = byteLength;\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false;\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0;\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length;\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0;\n  start >>>= 0;\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8';\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase();\n        loweredCase = true;\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true;\n\nfunction swap (b, n, m) {\n  var i = b[n];\n  b[n] = b[m];\n  b[m] = i;\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length;\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1);\n  }\n  return this\n};\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length;\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3);\n    swap(this, i + 1, i + 2);\n  }\n  return this\n};\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length;\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7);\n    swap(this, i + 1, i + 6);\n    swap(this, i + 2, i + 5);\n    swap(this, i + 3, i + 4);\n  }\n  return this\n};\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0;\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n};\n\nBuffer.prototype.equals = function equals (b) {\n  if (!internalIsBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n};\n\nBuffer.prototype.inspect = function inspect () {\n  var str = '';\n  var max = INSPECT_MAX_BYTES;\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ');\n    if (this.length > max) str += ' ... ';\n  }\n  return '<Buffer ' + str + '>'\n};\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!internalIsBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0;\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0;\n  }\n  if (thisStart === undefined) {\n    thisStart = 0;\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length;\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0;\n  end >>>= 0;\n  thisStart >>>= 0;\n  thisEnd >>>= 0;\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart;\n  var y = end - start;\n  var len = Math.min(x, y);\n\n  var thisCopy = this.slice(thisStart, thisEnd);\n  var targetCopy = target.slice(start, end);\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i];\n      y = targetCopy[i];\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n};\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset;\n    byteOffset = 0;\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff;\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000;\n  }\n  byteOffset = +byteOffset;  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1);\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset;\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1;\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0;\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding);\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (internalIsBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF; // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1;\n  var arrLength = arr.length;\n  var valLength = val.length;\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase();\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2;\n      arrLength /= 2;\n      valLength /= 2;\n      byteOffset /= 2;\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i;\n  if (dir) {\n    var foundIndex = -1;\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i;\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex;\n        foundIndex = -1;\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength;\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true;\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false;\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n};\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n};\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n};\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0;\n  var remaining = buf.length - offset;\n  if (!length) {\n    length = remaining;\n  } else {\n    length = Number(length);\n    if (length > remaining) {\n      length = remaining;\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length;\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2;\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16);\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed;\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8';\n    length = this.length;\n    offset = 0;\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset;\n    length = this.length;\n    offset = 0;\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0;\n    if (isFinite(length)) {\n      length = length | 0;\n      if (encoding === undefined) encoding = 'utf8';\n    } else {\n      encoding = length;\n      length = undefined;\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset;\n  if (length === undefined || length > remaining) length = remaining;\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8';\n\n  var loweredCase = false;\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase();\n        loweredCase = true;\n    }\n  }\n};\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n};\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return fromByteArray(buf)\n  } else {\n    return fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end);\n  var res = [];\n\n  var i = start;\n  while (i < end) {\n    var firstByte = buf[i];\n    var codePoint = null;\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1;\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint;\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte;\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1];\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F);\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint;\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1];\n          thirdByte = buf[i + 2];\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F);\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint;\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1];\n          thirdByte = buf[i + 2];\n          fourthByte = buf[i + 3];\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F);\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint;\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD;\n      bytesPerSequence = 1;\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000;\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800);\n      codePoint = 0xDC00 | codePoint & 0x3FF;\n    }\n\n    res.push(codePoint);\n    i += bytesPerSequence;\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000;\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length;\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = '';\n  var i = 0;\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    );\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = '';\n  end = Math.min(buf.length, end);\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F);\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = '';\n  end = Math.min(buf.length, end);\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i]);\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length;\n\n  if (!start || start < 0) start = 0;\n  if (!end || end < 0 || end > len) end = len;\n\n  var out = '';\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i]);\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end);\n  var res = '';\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256);\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length;\n  start = ~~start;\n  end = end === undefined ? len : ~~end;\n\n  if (start < 0) {\n    start += len;\n    if (start < 0) start = 0;\n  } else if (start > len) {\n    start = len;\n  }\n\n  if (end < 0) {\n    end += len;\n    if (end < 0) end = 0;\n  } else if (end > len) {\n    end = len;\n  }\n\n  if (end < start) end = start;\n\n  var newBuf;\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end);\n    newBuf.__proto__ = Buffer.prototype;\n  } else {\n    var sliceLen = end - start;\n    newBuf = new Buffer(sliceLen, undefined);\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start];\n    }\n  }\n\n  return newBuf\n};\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n\n  var val = this[offset];\n  var mul = 1;\n  var i = 0;\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul;\n  }\n\n  return val\n};\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length);\n  }\n\n  var val = this[offset + --byteLength];\n  var mul = 1;\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul;\n  }\n\n  return val\n};\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length);\n  return this[offset]\n};\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  return this[offset] | (this[offset + 1] << 8)\n};\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  return (this[offset] << 8) | this[offset + 1]\n};\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n};\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n};\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n\n  var val = this[offset];\n  var mul = 1;\n  var i = 0;\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul;\n  }\n  mul *= 0x80;\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n\n  return val\n};\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n\n  var i = byteLength;\n  var mul = 1;\n  var val = this[offset + --i];\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul;\n  }\n  mul *= 0x80;\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n\n  return val\n};\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length);\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n};\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  var val = this[offset] | (this[offset + 1] << 8);\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n};\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  var val = this[offset + 1] | (this[offset] << 8);\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n};\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n};\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n};\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return read(this, offset, true, 23, 4)\n};\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return read(this, offset, false, 23, 4)\n};\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length);\n  return read(this, offset, true, 52, 8)\n};\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length);\n  return read(this, offset, false, 52, 8)\n};\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!internalIsBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1;\n    checkInt(this, value, offset, byteLength, maxBytes, 0);\n  }\n\n  var mul = 1;\n  var i = 0;\n  this[offset] = value & 0xFF;\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF;\n  }\n\n  return offset + byteLength\n};\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1;\n    checkInt(this, value, offset, byteLength, maxBytes, 0);\n  }\n\n  var i = byteLength - 1;\n  var mul = 1;\n  this[offset + i] = value & 0xFF;\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF;\n  }\n\n  return offset + byteLength\n};\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0);\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value);\n  this[offset] = (value & 0xff);\n  return offset + 1\n};\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1;\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8;\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff);\n    this[offset + 1] = (value >>> 8);\n  } else {\n    objectWriteUInt16(this, value, offset, true);\n  }\n  return offset + 2\n};\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8);\n    this[offset + 1] = (value & 0xff);\n  } else {\n    objectWriteUInt16(this, value, offset, false);\n  }\n  return offset + 2\n};\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1;\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff;\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24);\n    this[offset + 2] = (value >>> 16);\n    this[offset + 1] = (value >>> 8);\n    this[offset] = (value & 0xff);\n  } else {\n    objectWriteUInt32(this, value, offset, true);\n  }\n  return offset + 4\n};\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24);\n    this[offset + 1] = (value >>> 16);\n    this[offset + 2] = (value >>> 8);\n    this[offset + 3] = (value & 0xff);\n  } else {\n    objectWriteUInt32(this, value, offset, false);\n  }\n  return offset + 4\n};\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1);\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit);\n  }\n\n  var i = 0;\n  var mul = 1;\n  var sub = 0;\n  this[offset] = value & 0xFF;\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1;\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF;\n  }\n\n  return offset + byteLength\n};\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1);\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit);\n  }\n\n  var i = byteLength - 1;\n  var mul = 1;\n  var sub = 0;\n  this[offset + i] = value & 0xFF;\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1;\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF;\n  }\n\n  return offset + byteLength\n};\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80);\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value);\n  if (value < 0) value = 0xff + value + 1;\n  this[offset] = (value & 0xff);\n  return offset + 1\n};\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff);\n    this[offset + 1] = (value >>> 8);\n  } else {\n    objectWriteUInt16(this, value, offset, true);\n  }\n  return offset + 2\n};\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8);\n    this[offset + 1] = (value & 0xff);\n  } else {\n    objectWriteUInt16(this, value, offset, false);\n  }\n  return offset + 2\n};\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff);\n    this[offset + 1] = (value >>> 8);\n    this[offset + 2] = (value >>> 16);\n    this[offset + 3] = (value >>> 24);\n  } else {\n    objectWriteUInt32(this, value, offset, true);\n  }\n  return offset + 4\n};\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n  if (value < 0) value = 0xffffffff + value + 1;\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24);\n    this[offset + 1] = (value >>> 16);\n    this[offset + 2] = (value >>> 8);\n    this[offset + 3] = (value & 0xff);\n  } else {\n    objectWriteUInt32(this, value, offset, false);\n  }\n  return offset + 4\n};\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4);\n  }\n  write(buf, value, offset, littleEndian, 23, 4);\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n};\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n};\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8);\n  }\n  write(buf, value, offset, littleEndian, 52, 8);\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n};\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n};\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0;\n  if (!end && end !== 0) end = this.length;\n  if (targetStart >= target.length) targetStart = target.length;\n  if (!targetStart) targetStart = 0;\n  if (end > 0 && end < start) end = start;\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length;\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start;\n  }\n\n  var len = end - start;\n  var i;\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start];\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start];\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    );\n  }\n\n  return len\n};\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start;\n      start = 0;\n      end = this.length;\n    } else if (typeof end === 'string') {\n      encoding = end;\n      end = this.length;\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0);\n      if (code < 256) {\n        val = code;\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255;\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0;\n  end = end === undefined ? this.length : end >>> 0;\n\n  if (!val) val = 0;\n\n  var i;\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val;\n    }\n  } else {\n    var bytes = internalIsBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString());\n    var len = bytes.length;\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len];\n    }\n  }\n\n  return this\n};\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g;\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '');\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '=';\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity;\n  var codePoint;\n  var length = string.length;\n  var leadSurrogate = null;\n  var bytes = [];\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i);\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint;\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n        leadSurrogate = codePoint;\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000;\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n    }\n\n    leadSurrogate = null;\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint);\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      );\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      );\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      );\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = [];\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF);\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo;\n  var byteArray = [];\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i);\n    hi = c >> 8;\n    lo = c % 256;\n    byteArray.push(lo);\n    byteArray.push(hi);\n  }\n\n  return byteArray\n}\n\n\nfunction base64ToBytes (str) {\n  return toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i];\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n// the following is from is-buffer, also by Feross Aboukhadijeh and with same lisence\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nfunction isBuffer(obj) {\n  return obj != null && (!!obj._isBuffer || isFastBuffer(obj) || isSlowBuffer(obj))\n}\n\nfunction isFastBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isFastBuffer(obj.slice(0, 0))\n}\n\nexport { Buffer, INSPECT_MAX_BYTES, SlowBuffer, isBuffer, _kMaxLength as kMaxLength };\n","/**\n * jsPDF - PDF Document creation from JavaScript\n * Version 1.0.150-git Built on 2014-05-30T00:40\n *                           CommitID dcbc9fcb9b\n *\n * Copyright (c) 2010-2014 James Hall, https://github.com/MrRio/jsPDF\n *               2010 Aaron Spike, https://github.com/acspike\n *               2012 Willow Systems Corporation, willow-systems.com\n *               2012 Pablo Hess, https://github.com/pablohess\n *               2012 Florian Jenett, https://github.com/fjenett\n *               2013 Warren Weckesser, https://github.com/warrenweckesser\n *               2013 Youssef Beddad, https://github.com/lifof\n *               2013 Lee Driscoll, https://github.com/lsdriscoll\n *               2013 Stefan Slonevskiy, https://github.com/stefslon\n *               2013 Jeremy Morel, https://github.com/jmorel\n *               2013 Christoph Hartmann, https://github.com/chris-rock\n *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria\n *               2014 James Makes, https://github.com/dollaruw\n *               2014 Diego Casorran, https://github.com/diegocr\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n *\n * Contributor(s):\n *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,\n *    kim3er, mfo, alnorth,\n */\n/**\n * jsPDF addHTML PlugIn\n * Copyright (c) 2014 Diego Casorran\n * Licensed under the MIT License.\n * http://opensource.org/licenses/mit-license\n */\n/**\n * jsPDF addImage plugin\n * Copyright (c) 2012 Jason Siefken, https://github.com/siefkenj/\n *               2013 Chris Dowling, https://github.com/gingerchris\n *               2013 Trinh Ho, https://github.com/ineedfat\n *               2013 Edwin Alejandro Perez, https://github.com/eaparango\n *               2013 Norah Smith, https://github.com/burnburnrocket\n *               2014 Diego Casorran, https://github.com/diegocr\n *               2014 James Robb, https://github.com/jamesbrobb\n */\n/**\n * jsPDF Cell plugin\n * Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com\n *               2013 Eduardo Menezes de Morais, eduardo.morais@usp.br\n *               2013 Lee Driscoll, https://github.com/lsdriscoll\n *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria\n *               2014 James Hall, james@parall.ax\n *               2014 Diego Casorran, https://github.com/diegocr\n */\n/**\n * jsPDF fromHTML plugin. BETA stage. API subject to change. Needs browser\n * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com\n *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria\n *               2014 Diego Casorran, https://github.com/diegocr\n *               2014 Daniel Husar, https://github.com/danielhusar\n *               2014 Wolfgang Gassler, https://github.com/woolfg\n */\n/**\n * jsPDF JavaScript plugin\n * Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com\n */\n/**\n * jsPDF PNG PlugIn\n * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb\n */\n/**\njsPDF Silly SVG plugin\nCopyright (c) 2012 Willow Systems Corporation, willow-systems.com\n*/\n/**\n * jsPDF split_text_to_size plugin - MIT license.\n * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com\n *               2014 Diego Casorran, https://github.com/diegocr\n */\n/**\njsPDF standard_fonts_metrics plugin\nCopyright (c) 2012 Willow Systems Corporation, willow-systems.com\nMIT license.\n*/\n/**\n * jsPDF total_pages plugin\n * Copyright (c) 2013 Eduardo Menezes de Morais, eduardo.morais@usp.br\n */\n/* Blob.js\n * A Blob implementation.\n * 2014-05-27\n * By Eli Grey, http://eligrey.com\n * By Devin Samarin, https://github.com/eboyjr\n * License: X11/MIT\n *   See https://github.com/eligrey/Blob.js/blob/master/LICENSE.md\n */\n/* FileSaver.js\n *  A saveAs() FileSaver implementation.\n *  2014-05-27\n *  By Eli Grey, http://eligrey.com\n *  License: X11/MIT\n *    See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n/*\n * Copyright (c) 2012 chick307 <chick307@gmail.com>\n * Licensed under the MIT License.\n * http://opensource.org/licenses/mit-license\n */\n/*\n Deflate.js - https://github.com/gildas-lormeau/zip.js\n Copyright (c) 2013 Gildas Lormeau. All rights reserved.\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n 2. Redistributions in binary form must reproduce the above copyright\n notice, this list of conditions and the following disclaimer in\n the documentation and/or other materials provided with the distribution.\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n/*\n# PNG.js\n# Copyright (c) 2011 Devon Govett\n# MIT LICENSE\n#\n*/\n/*\n * Extracted from pdf.js\n * https://github.com/andreasgal/pdf.js\n * Copyright (c) 2011 Mozilla Foundation\n * Contributors: Andreas Gal <gal@mozilla.com>\n *               Chris G Jones <cjones@mozilla.com>\n *               Shaon Barman <shaon.barman@gmail.com>\n *               Vivien Nicolas <21@vingtetun.org>\n *               Justin D'Arcangelo <justindarc@gmail.com>\n *               Yury Delendik\n */\n/**\n * JavaScript Polyfill functions for jsPDF\n * Collected from public resources by\n * https://github.com/diegocr\n */\n!function(t,e){e[\"true\"]=t;var r=function(t){\"use strict\";function e(e){var r={};this.subscribe=function(t,e,n){if(\"function\"!=typeof e)return!1;r.hasOwnProperty(t)||(r[t]={});var s=Math.random().toString(35);return r[t][s]=[e,!!n],s},this.unsubscribe=function(t){for(var e in r)if(r[e][t])return delete r[e][t],!0;return!1},this.publish=function(n){if(r.hasOwnProperty(n)){var s=Array.prototype.slice.call(arguments,1),o=[];for(var i in r[n]){var a=r[n][i];try{a[0].apply(e,s)}catch(u){t.console&&console.error(\"jsPDF PubSub Error\",u.message,u)}a[1]&&o.push(i)}o.length&&o.forEach(this.unsubscribe)}}}function r(a,u,c,l){var f={};\"object\"==typeof a&&(f=a,a=f.orientation,u=f.unit||u,c=f.format||c,l=f.compress||f.compressPdf||l),u=u||\"mm\",c=c||\"a4\",a=(\"\"+(a||\"P\")).toLowerCase();var d,h,p,m,w,y=(\"\"+c).toLowerCase(),g=!!l&&\"function\"==typeof Uint8Array,v=f.textColor||\"0 g\",b=f.drawColor||\"0 G\",q=f.fontSize||16,x=f.lineHeight||1.15,k=f.lineWidth||.200025,_=2,A=!1,C=[],S={},E={},z=0,I=[],T=[],B=0,O=0,P=0,R={title:\"\",subject:\"\",author:\"\",keywords:\"\",creator:\"\"},D={},U=new e(D),F=function(t){return t.toFixed(2)},L=function(t){return t.toFixed(3)},j=function(t){return(\"0\"+parseInt(t)).slice(-2)},N=function(t){A?I[z].push(t):(P+=t.length+1,T.push(t))},M=function(){return _++,C[_]=P,N(_+\" 0 obj\"),_},H=function(t){N(\"stream\"),N(t),N(\"endstream\")},G=function(){var e,n,o,i,a,u,c,l=m*h,f=w*h;for(c=t.adler32cs||r.adler32cs,g&&\"undefined\"==typeof c&&(g=!1),e=1;z>=e;e++){if(M(),N(\"<</Type /Page\"),N(\"/Parent 1 0 R\"),N(\"/Resources 2 0 R\"),N(\"/Contents \"+(_+1)+\" 0 R>>\"),N(\"endobj\"),n=I[e].join(\"\\n\"),M(),g){for(o=[],i=n.length;i--;)o[i]=n.charCodeAt(i);u=c.from(n),a=new s(6),a.append(new Uint8Array(o)),n=a.flush(),o=new Uint8Array(n.length+6),o.set(new Uint8Array([120,156])),o.set(n,2),o.set(new Uint8Array([255&u,u>>8&255,u>>16&255,u>>24&255]),n.length+2),n=String.fromCharCode.apply(null,o),N(\"<</Length \"+n.length+\" /Filter [/FlateDecode]>>\")}else N(\"<</Length \"+n.length+\">>\");H(n),N(\"endobj\")}C[1]=P,N(\"1 0 obj\"),N(\"<</Type /Pages\");var d=\"/Kids [\";for(i=0;z>i;i++)d+=3+2*i+\" 0 R \";N(d+\"]\"),N(\"/Count \"+z),N(\"/MediaBox [0 0 \"+F(l)+\" \"+F(f)+\"]\"),N(\">>\"),N(\"endobj\")},J=function(t){t.objectNumber=M(),N(\"<</BaseFont/\"+t.PostScriptName+\"/Type/Font\"),\"string\"==typeof t.encoding&&N(\"/Encoding/\"+t.encoding),N(\"/Subtype/Type1>>\"),N(\"endobj\")},V=function(){for(var t in S)S.hasOwnProperty(t)&&J(S[t])},W=function(){U.publish(\"putXobjectDict\")},X=function(){N(\"/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]\"),N(\"/Font <<\");for(var t in S)S.hasOwnProperty(t)&&N(\"/\"+t+\" \"+S[t].objectNumber+\" 0 R\");N(\">>\"),N(\"/XObject <<\"),W(),N(\">>\")},Y=function(){V(),U.publish(\"putResources\"),C[2]=P,N(\"2 0 obj\"),N(\"<<\"),X(),N(\">>\"),N(\"endobj\"),U.publish(\"postPutResources\")},K=function(t,e,r){E.hasOwnProperty(e)||(E[e]={}),E[e][r]=t},Q=function(t,e,r,n){var s=\"F\"+(Object.keys(S).length+1).toString(10),o=S[s]={id:s,PostScriptName:t,fontName:e,fontStyle:r,encoding:n,metadata:{}};return K(s,e,r),U.publish(\"addFont\",o),s},$=function(){for(var t=\"helvetica\",e=\"times\",r=\"courier\",n=\"normal\",s=\"bold\",o=\"italic\",i=\"bolditalic\",a=\"StandardEncoding\",u=[[\"Helvetica\",t,n],[\"Helvetica-Bold\",t,s],[\"Helvetica-Oblique\",t,o],[\"Helvetica-BoldOblique\",t,i],[\"Courier\",r,n],[\"Courier-Bold\",r,s],[\"Courier-Oblique\",r,o],[\"Courier-BoldOblique\",r,i],[\"Times-Roman\",e,n],[\"Times-Bold\",e,s],[\"Times-Italic\",e,o],[\"Times-BoldItalic\",e,i]],c=0,l=u.length;l>c;c++){var f=Q(u[c][0],u[c][1],u[c][2],a),d=u[c][0].split(\"-\");K(f,d[0],d[1]||\"\")}U.publish(\"addFonts\",{fonts:S,dictionary:E})},Z=function(e){return e.foo=function(){try{return e.apply(this,arguments)}catch(r){var n=r.stack||\"\";~n.indexOf(\" at \")&&(n=n.split(\" at \")[1]);var s=\"Error in function \"+n.split(\"\\n\")[0].split(\"<\")[0]+\": \"+r.message;if(!t.console)throw new Error(s);console.log(s,r),t.alert&&alert(s),console.trace()}},e.foo.bar=e,e.foo},te=function(t,e){var r,n,s,o,i,a,u,c,l;if(e=e||{},s=e.sourceEncoding||\"Unicode\",i=e.outputEncoding,(e.autoencode||i)&&S[d].metadata&&S[d].metadata[s]&&S[d].metadata[s].encoding&&(o=S[d].metadata[s].encoding,!i&&S[d].encoding&&(i=S[d].encoding),!i&&o.codePages&&(i=o.codePages[0]),\"string\"==typeof i&&(i=o[i]),i)){for(u=!1,a=[],r=0,n=t.length;n>r;r++)c=i[t.charCodeAt(r)],c?a.push(String.fromCharCode(c)):a.push(t[r]),a[r].charCodeAt(0)>>8&&(u=!0);t=a.join(\"\")}for(r=t.length;void 0===u&&0!==r;)t.charCodeAt(r-1)>>8&&(u=!0),r--;if(!u)return t;for(a=e.noBOM?[]:[254,255],r=0,n=t.length;n>r;r++){if(c=t.charCodeAt(r),l=c>>8,l>>8)throw new Error(\"Character at position \"+r+\" of string '\"+t+\"' exceeds 16bits. Cannot be encoded into UCS-2 BE\");a.push(l),a.push(c-(l<<8))}return String.fromCharCode.apply(void 0,a)},ee=function(t,e){return te(t,e).replace(/\\\\/g,\"\\\\\\\\\").replace(/\\(/g,\"\\\\(\").replace(/\\)/g,\"\\\\)\")},re=function(){N(\"/Producer (jsPDF \"+r.version+\")\");for(var t in R)R.hasOwnProperty(t)&&R[t]&&N(\"/\"+t.substr(0,1).toUpperCase()+t.substr(1)+\" (\"+ee(R[t])+\")\");var e=new Date;N([\"/CreationDate (D:\",e.getFullYear(),j(e.getMonth()+1),j(e.getDate()),j(e.getHours()),j(e.getMinutes()),j(e.getSeconds()),\")\"].join(\"\"))},ne=function(){N(\"/Type /Catalog\"),N(\"/Pages 1 0 R\"),N(\"/OpenAction [3 0 R /FitH null]\"),N(\"/PageLayout /OneColumn\"),U.publish(\"putCatalog\")},se=function(){N(\"/Size \"+(_+1)),N(\"/Root \"+_+\" 0 R\"),N(\"/Info \"+(_-1)+\" 0 R\")},oe=function(){z++,A=!0,I[z]=[]},ie=function(){oe(),N(F(k*h)+\" w\"),N(b),0!==B&&N(B+\" J\"),0!==O&&N(O+\" j\"),U.publish(\"addPage\",{pageNumber:z})},ae=function(t,e){var r;t=void 0!==t?t:S[d].fontName,e=void 0!==e?e:S[d].fontStyle;try{r=E[t][e]||E[t].normal}catch(n){}if(!r)throw new Error(\"Unable to look up font label for font '\"+t+\"', '\"+e+\"'. Refer to getFontList() for available fonts.\");return r},ue=function(){A=!1,_=2,T=[],C=[],N(\"%PDF-\"+o),G(),Y(),M(),N(\"<<\"),re(),N(\">>\"),N(\"endobj\"),M(),N(\"<<\"),ne(),N(\">>\"),N(\"endobj\");var t,e=P,r=\"0000000000\";for(N(\"xref\"),N(\"0 \"+(_+1)),N(r+\" 65535 f \"),t=1;_>=t;t++)N((r+C[t]).slice(-10)+\" 00000 n \");return N(\"trailer\"),N(\"<<\"),se(),N(\">>\"),N(\"startxref\"),N(e),N(\"%%EOF\"),A=!0,T.join(\"\\n\")},ce=function(t){var e=\"S\";return\"F\"===t?e=\"f\":\"FD\"===t||\"DF\"===t?e=\"B\":(\"f\"===t||\"f*\"===t||\"B\"===t||\"B*\"===t)&&(e=t),e},le=function(){for(var t=ue(),e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r);e--;)n[e]=t.charCodeAt(e);return r},fe=function(){return new Blob([le()],{type:\"application/pdf\"})},de=Z(function(e,r){switch(e){case void 0:return ue();case\"save\":if(navigator.getUserMedia&&(void 0===t.URL||void 0===t.URL.createObjectURL))return D.output(\"dataurlnewwindow\");n(fe(),r),\"function\"==typeof n.unload&&t.setTimeout&&setTimeout(n.unload,70);break;case\"arraybuffer\":return le();case\"blob\":return fe();case\"datauristring\":case\"dataurlstring\":return\"data:application/pdf;base64,\"+btoa(ue());case\"datauri\":case\"dataurl\":t.document.location.href=\"data:application/pdf;base64,\"+btoa(ue());break;case\"dataurlnewwindow\":t.open(\"data:application/pdf;base64,\"+btoa(ue()));break;default:throw new Error('Output type \"'+e+'\" is not supported.')}});switch(u){case\"pt\":h=1;break;case\"mm\":h=72/25.4;break;case\"cm\":h=72/2.54;break;case\"in\":h=72;break;case\"px\":h=96/72;break;case\"pc\":h=12;break;case\"em\":h=12;break;case\"ex\":h=6;break;default:throw\"Invalid unit: \"+u}if(i.hasOwnProperty(y))w=i[y][1]/h,m=i[y][0]/h;else try{w=c[1],m=c[0]}catch(he){throw new Error(\"Invalid format: \"+c)}if(\"p\"===a||\"portrait\"===a)a=\"p\",m>w&&(p=m,m=w,w=p);else{if(\"l\"!==a&&\"landscape\"!==a)throw\"Invalid orientation: \"+a;a=\"l\",w>m&&(p=m,m=w,w=p)}D.internal={pdfEscape:ee,getStyle:ce,getFont:function(){return S[ae.apply(D,arguments)]},getFontSize:function(){return q},getLineHeight:function(){return q*x},write:function(t){N(1===arguments.length?t:Array.prototype.join.call(arguments,\" \"))},getCoordinateString:function(t){return F(t*h)},getVerticalCoordinateString:function(t){return F((w-t)*h)},collections:{},newObject:M,putStream:H,events:U,scaleFactor:h,pageSize:{width:m,height:w},output:function(t,e){return de(t,e)},getNumberOfPages:function(){return I.length-1},pages:I},D.addPage=function(){return ie(),this},D.text=function(t,e,r,n,s){function o(t){return t=t.split(\"\t\").join(Array(f.TabLen||9).join(\" \")),ee(t,n)}\"number\"==typeof t&&(p=r,r=e,e=t,t=p),\"string\"==typeof t&&t.match(/[\\n\\r]/)&&(t=t.split(/\\r\\n|\\r|\\n/g)),\"number\"==typeof n&&(s=n,n=null);var i=\"\",a=\"Td\";if(s){s*=Math.PI/180;var u=Math.cos(s),c=Math.sin(s);i=[F(u),F(c),F(-1*c),F(u),\"\"].join(\" \"),a=\"Tm\"}if(n=n||{},\"noBOM\"in n||(n.noBOM=!0),\"autoencode\"in n||(n.autoencode=!0),\"string\"==typeof t)t=o(t);else{if(!(t instanceof Array))throw new Error('Type of text must be string or Array. \"'+t+'\" is not recognized.');for(var l=t.concat(),m=[],y=l.length;y--;)m.push(o(l.shift()));t=m.join(\") Tj\\nT* (\")}return N(\"BT\\n/\"+d+\" \"+q+\" Tf\\n\"+q*x+\" TL\\n\"+v+\"\\n\"+i+F(e*h)+\" \"+F((w-r)*h)+\" \"+a+\"\\n(\"+t+\") Tj\\nET\"),this},D.line=function(t,e,r,n){return this.lines([[r-t,n-e]],t,e)},D.lines=function(t,e,r,n,s,o){var i,a,u,c,l,f,d,m,y,g,v;for(\"number\"==typeof t&&(p=r,r=e,e=t,t=p),n=n||[1,1],N(L(e*h)+\" \"+L((w-r)*h)+\" m \"),i=n[0],a=n[1],c=t.length,g=e,v=r,u=0;c>u;u++)l=t[u],2===l.length?(g=l[0]*i+g,v=l[1]*a+v,N(L(g*h)+\" \"+L((w-v)*h)+\" l\")):(f=l[0]*i+g,d=l[1]*a+v,m=l[2]*i+g,y=l[3]*a+v,g=l[4]*i+g,v=l[5]*a+v,N(L(f*h)+\" \"+L((w-d)*h)+\" \"+L(m*h)+\" \"+L((w-y)*h)+\" \"+L(g*h)+\" \"+L((w-v)*h)+\" c\"));return o&&N(\" h\"),null!==s&&N(ce(s)),this},D.rect=function(t,e,r,n,s){ce(s);return N([F(t*h),F((w-e)*h),F(r*h),F(-n*h),\"re\"].join(\" \")),null!==s&&N(ce(s)),this},D.triangle=function(t,e,r,n,s,o,i){return this.lines([[r-t,n-e],[s-r,o-n],[t-s,e-o]],t,e,[1,1],i,!0),this},D.roundedRect=function(t,e,r,n,s,o,i){var a=4/3*(Math.SQRT2-1);return this.lines([[r-2*s,0],[s*a,0,s,o-o*a,s,o],[0,n-2*o],[0,o*a,-(s*a),o,-s,o],[-r+2*s,0],[-(s*a),0,-s,-(o*a),-s,-o],[0,-n+2*o],[0,-(o*a),s*a,-o,s,-o]],t+s,e,[1,1],i),this},D.ellipse=function(t,e,r,n,s){var o=4/3*(Math.SQRT2-1)*r,i=4/3*(Math.SQRT2-1)*n;return N([F((t+r)*h),F((w-e)*h),\"m\",F((t+r)*h),F((w-(e-i))*h),F((t+o)*h),F((w-(e-n))*h),F(t*h),F((w-(e-n))*h),\"c\"].join(\" \")),N([F((t-o)*h),F((w-(e-n))*h),F((t-r)*h),F((w-(e-i))*h),F((t-r)*h),F((w-e)*h),\"c\"].join(\" \")),N([F((t-r)*h),F((w-(e+i))*h),F((t-o)*h),F((w-(e+n))*h),F(t*h),F((w-(e+n))*h),\"c\"].join(\" \")),N([F((t+o)*h),F((w-(e+n))*h),F((t+r)*h),F((w-(e+i))*h),F((t+r)*h),F((w-e)*h),\"c\"].join(\" \")),null!==s&&N(ce(s)),this},D.circle=function(t,e,r,n){return this.ellipse(t,e,r,r,n)},D.setProperties=function(t){for(var e in R)R.hasOwnProperty(e)&&t[e]&&(R[e]=t[e]);return this},D.setFontSize=function(t){return q=t,this},D.setFont=function(t,e){return d=ae(t,e),this},D.setFontStyle=D.setFontType=function(t){return d=ae(void 0,t),this},D.getFontList=function(){var t,e,r,n={};for(t in E)if(E.hasOwnProperty(t)){n[t]=r=[];for(e in E[t])E[t].hasOwnProperty(e)&&r.push(e)}return n},D.setLineWidth=function(t){return N((t*h).toFixed(2)+\" w\"),this},D.setDrawColor=function(t,e,r,n){var s;return s=void 0===e||void 0===n&&t===e===r?\"string\"==typeof t?t+\" G\":F(t/255)+\" G\":void 0===n?\"string\"==typeof t?[t,e,r,\"RG\"].join(\" \"):[F(t/255),F(e/255),F(r/255),\"RG\"].join(\" \"):\"string\"==typeof t?[t,e,r,n,\"K\"].join(\" \"):[F(t),F(e),F(r),F(n),\"K\"].join(\" \"),N(s),this},D.setFillColor=function(t,e,r,n){var s;return s=void 0===e||void 0===n&&t===e===r?\"string\"==typeof t?t+\" g\":F(t/255)+\" g\":void 0===n?\"string\"==typeof t?[t,e,r,\"rg\"].join(\" \"):[F(t/255),F(e/255),F(r/255),\"rg\"].join(\" \"):\"string\"==typeof t?[t,e,r,n,\"k\"].join(\" \"):[F(t),F(e),F(r),F(n),\"k\"].join(\" \"),N(s),this},D.setTextColor=function(t,e,r){if(\"string\"==typeof t&&/^#[0-9A-Fa-f]{6}$/.test(t)){var n=parseInt(t.substr(1),16);t=n>>16&255,e=n>>8&255,r=255&n}return v=0===t&&0===e&&0===r||\"undefined\"==typeof e?L(t/255)+\" g\":[L(t/255),L(e/255),L(r/255),\"rg\"].join(\" \"),this},D.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},D.setLineCap=function(t){var e=this.CapJoinStyles[t];if(void 0===e)throw new Error(\"Line cap style of '\"+t+\"' is not recognized. See or extend .CapJoinStyles property for valid styles\");return B=e,N(e+\" J\"),this},D.setLineJoin=function(t){var e=this.CapJoinStyles[t];if(void 0===e)throw new Error(\"Line join style of '\"+t+\"' is not recognized. See or extend .CapJoinStyles property for valid styles\");return O=e,N(e+\" j\"),this},D.output=de,D.save=function(t){D.output(\"save\",t)};for(var pe in r.API)r.API.hasOwnProperty(pe)&&(\"events\"===pe&&r.API.events.length?!function(t,e){var r,n,s;for(s=e.length-1;-1!==s;s--)r=e[s][0],n=e[s][1],t.subscribe.apply(t,[r].concat(\"function\"==typeof n?[n]:n))}(U,r.API.events):D[pe]=r.API[pe]);return $(),d=\"F1\",ie(),U.publish(\"initialized\"),D}var o=\"1.3\",i={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],\"government-letter\":[576,756],legal:[612,1008],\"junior-legal\":[576,360],ledger:[1224,792],tabloid:[792,1224],\"credit-card\":[153,243]};return r.API={events:[]},r.version=\"1.0.150-git 2014-05-30T00:40:diegocr\",\"function\"==typeof define&&define.amd?define(function(){return r}):t.jsPDF=r,r}(\"undefined\"!=typeof self&&self||\"undefined\"!=typeof window&&window||this);!function(t){\"use strict\";t.addHTML=function(t,e,r,n,s){if(\"undefined\"==typeof html2canvas&&\"undefined\"==typeof rasterizeHTML)throw new Error(\"You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js\");\"number\"!=typeof e&&(n=e,s=r),\"function\"==typeof n&&(s=n,n=null);var o=this.internal,i=o.scaleFactor,a=o.pageSize.width,u=o.pageSize.height;if(n=n||{},n.onrendered=function(t){e=parseInt(e)||0,r=parseInt(r)||0;var o=n.dim||{},c=o.h||0,l=o.w||Math.min(a,t.width/i)-e,f=\"JPEG\";if(n.format&&(f=n.format),t.height>u&&n.pagesplit){var d=function(){for(var n=0;;){var o=document.createElement(\"canvas\");o.width=Math.min(a*i,t.width),o.height=Math.min(u*i,t.height-n);var c=o.getContext(\"2d\");c.drawImage(t,0,n,t.width,o.height,0,0,o.width,o.height);var d=[o,e,n?0:r,o.width/i,o.height/i,f,null,\"SLOW\"];if(this.addImage.apply(this,d),n+=o.height,n>=t.height)break;this.addPage()}s(l,n,null,d)}.bind(this);if(\"CANVAS\"===t.nodeName){var h=new Image;h.onload=d,h.src=t.toDataURL(\"image/png\"),t=h}else d()}else{var p=Math.random().toString(35),m=[t,e,r,l,c,f,p,\"SLOW\"];this.addImage.apply(this,m),s(l,c,p,m)}}.bind(this),\"undefined\"!=typeof html2canvas&&!n.rstz)return html2canvas(t,n);if(\"undefined\"!=typeof rasterizeHTML){var c=\"drawDocument\";return\"string\"==typeof t&&(c=/^http/.test(t)?\"drawURL\":\"drawHTML\"),n.width=n.width||a*i,rasterizeHTML[c](t,void 0,n).then(function(t){n.onrendered(t.image)},function(t){s(null,t)})}return null}}(r.API),function(t){\"use strict\";var e=\"addImage_\",r=[\"jpeg\",\"jpg\",\"png\"],n=function(t){var e=this.internal.newObject(),r=this.internal.write,s=this.internal.putStream;if(t.n=e,r(\"<</Type /XObject\"),r(\"/Subtype /Image\"),r(\"/Width \"+t.w),r(\"/Height \"+t.h),t.cs===this.color_spaces.INDEXED?r(\"/ColorSpace [/Indexed /DeviceRGB \"+(t.pal.length/3-1)+\" \"+(\"smask\"in t?e+2:e+1)+\" 0 R]\"):(r(\"/ColorSpace /\"+t.cs),t.cs===this.color_spaces.DEVICE_CMYK&&r(\"/Decode [1 0 1 0 1 0 1 0]\")),r(\"/BitsPerComponent \"+t.bpc),\"f\"in t&&r(\"/Filter /\"+t.f),\"dp\"in t&&r(\"/DecodeParms <<\"+t.dp+\">>\"),\"trns\"in t&&t.trns.constructor==Array){for(var o=\"\",i=0,a=t.trns.length;a>i;i++)o+=t.trns[i]+\" \"+t.trns[i]+\" \";r(\"/Mask [\"+o+\"]\")}if(\"smask\"in t&&r(\"/SMask \"+(e+1)+\" 0 R\"),r(\"/Length \"+t.data.length+\">>\"),s(t.data),r(\"endobj\"),\"smask\"in t){var u=\"/Predictor 15 /Colors 1 /BitsPerComponent \"+t.bpc+\" /Columns \"+t.w,c={w:t.w,h:t.h,cs:\"DeviceGray\",bpc:t.bpc,dp:u,data:t.smask};\"f\"in t&&(c.f=t.f),n.call(this,c)}t.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),r(\"<< /Length \"+t.pal.length+\">>\"),s(this.arrayBufferToBinaryString(new Uint8Array(t.pal))),r(\"endobj\"))},s=function(){var t=this.internal.collections[e+\"images\"];for(var r in t)n.call(this,t[r])},o=function(){var t,r=this.internal.collections[e+\"images\"],n=this.internal.write;for(var s in r)t=r[s],n(\"/I\"+t.i,t.n,\"0\",\"R\")},i=function(e){return e&&\"string\"==typeof e&&(e=e.toUpperCase()),e in t.image_compression?e:t.image_compression.NONE},a=function(){var t=this.internal.collections[e+\"images\"];return t||(this.internal.collections[e+\"images\"]=t={},this.internal.events.subscribe(\"putResources\",s),this.internal.events.subscribe(\"putXobjectDict\",o)),t},u=function(t){var e=0;return t&&(e=Object.keys?Object.keys(t).length:function(t){var e=0;for(var r in t)t.hasOwnProperty(r)&&e++;return e}(t)),e},c=function(t){return\"undefined\"==typeof t||null===t},l=function(){return void 0},f=function(t){return-1===r.indexOf(t)},d=function(e){return\"function\"!=typeof t[\"process\"+e.toUpperCase()]},h=function(t){return\"object\"==typeof t&&1===t.nodeType},p=function(t,e){if(\"IMG\"===t.nodeName&&t.hasAttribute(\"src\")&&0===(\"\"+t.getAttribute(\"src\")).indexOf(\"data:image/\"))return t.getAttribute(\"src\");if(\"CANVAS\"===t.nodeName)var r=t;else{var r=document.createElement(\"canvas\");r.width=t.clientWidth||t.width,r.height=t.clientHeight||t.height;var n=r.getContext(\"2d\");if(!n)throw\"addImage requires canvas to be supported by browser.\";n.drawImage(t,0,0,r.width,r.height)}return r.toDataURL(\"png\"==e?\"image/png\":\"image/jpeg\")},m=function(t,e){var r;if(e)for(var n in e)if(t===e[n].alias){r=e[n];break}return r},w=function(t,e,r){return t||e||(t=-96,e=-96),0>t&&(t=-1*r.w*72/t/this.internal.scaleFactor),0>e&&(e=-1*r.h*72/e/this.internal.scaleFactor),0===t&&(t=e*r.w/r.h),0===e&&(e=t*r.h/r.w),[t,e]},y=function(t,e,r,n,s,o,i){var a=w.call(this,r,n,s),u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;r=a[0],n=a[1],i[o]=s,this.internal.write(\"q\",u(r),\"0 0\",u(n),u(t),c(e+n),\"cm /I\"+s.i,\"Do Q\")};t.color_spaces={DEVICE_RGB:\"DeviceRGB\",DEVICE_GRAY:\"DeviceGray\",DEVICE_CMYK:\"DeviceCMYK\",CAL_GREY:\"CalGray\",CAL_RGB:\"CalRGB\",LAB:\"Lab\",ICC_BASED:\"ICCBased\",INDEXED:\"Indexed\",PATTERN:\"Pattern\",SEPERATION:\"Seperation\",DEVICE_N:\"DeviceN\"},t.decode={DCT_DECODE:\"DCTDecode\",FLATE_DECODE:\"FlateDecode\",LZW_DECODE:\"LZWDecode\",JPX_DECODE:\"JPXDecode\",JBIG2_DECODE:\"JBIG2Decode\",ASCII85_DECODE:\"ASCII85Decode\",ASCII_HEX_DECODE:\"ASCIIHexDecode\",RUN_LENGTH_DECODE:\"RunLengthDecode\",CCITT_FAX_DECODE:\"CCITTFaxDecode\"},t.image_compression={NONE:\"NONE\",FAST:\"FAST\",MEDIUM:\"MEDIUM\",SLOW:\"SLOW\"},t.isString=function(t){return\"string\"==typeof t},t.extractInfoFromBase64DataURI=function(t){return/^data:([\\w]+?\\/([\\w]+?));base64,(.+?)$/g.exec(t)},t.supportsArrayBuffer=function(){return\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof Uint8Array},t.isArrayBuffer=function(t){return this.supportsArrayBuffer()?t instanceof ArrayBuffer:!1},t.isArrayBufferView=function(t){return this.supportsArrayBuffer()?\"undefined\"==typeof Uint32Array?!1:t instanceof Int8Array||t instanceof Uint8Array||\"undefined\"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array:!1},t.binaryStringToUint8Array=function(t){for(var e=t.length,r=new Uint8Array(e),n=0;e>n;n++)r[n]=t.charCodeAt(n);return r},t.arrayBufferToBinaryString=function(t){this.isArrayBuffer(t)&&(t=new Uint8Array(t));for(var e=\"\",r=t.byteLength,n=0;r>n;n++)e+=String.fromCharCode(t[n]);return e},t.arrayBufferToBase64=function(t){for(var e,r,n,s,o,i=\"\",a=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",u=new Uint8Array(t),c=u.byteLength,l=c%3,f=c-l,d=0;f>d;d+=3)o=u[d]<<16|u[d+1]<<8|u[d+2],e=(16515072&o)>>18,r=(258048&o)>>12,n=(4032&o)>>6,s=63&o,i+=a[e]+a[r]+a[n]+a[s];return 1==l?(o=u[f],e=(252&o)>>2,r=(3&o)<<4,i+=a[e]+a[r]+\"==\"):2==l&&(o=u[f]<<8|u[f+1],e=(64512&o)>>10,r=(1008&o)>>4,n=(15&o)<<2,i+=a[e]+a[r]+a[n]+\"=\"),i},t.createImageInfo=function(t,e,r,n,s,o,i,a,u,c,l,f){var d={alias:a,w:e,h:r,cs:n,bpc:s,i:i,data:t};return o&&(d.f=o),u&&(d.dp=u),c&&(d.trns=c),l&&(d.pal=l),f&&(d.smask=f),d},t.addImage=function(t,e,n,s,o,w,g,v){if(\"number\"==typeof e){var b=w;w=o,o=s,s=n,n=e,e=b}var q,x,k=a.call(this);if(v=i(v),e=(e||\"JPEG\").toLowerCase(),c(g)&&(g=l(t)),h(t)&&(t=p(t,e)),this.isString(t)){var _=this.extractInfoFromBase64DataURI(t);_?(e=_[2],t=atob(_[3]),this.supportsArrayBuffer()&&(x=t,t=this.binaryStringToUint8Array(t))):255!==t.charCodeAt(0)&&(q=m(t,k))}if(f(e))throw new Error(\"addImage currently only supports formats \"+r+\", not '\"+e+\"'\");if(d(e))throw new Error(\"please ensure that the plugin for '\"+e+\"' support is added\");var A=u(k),C=q;if(C||(C=this[\"process\"+e.toUpperCase()](t,A,g,v,x)),!C)throw new Error(\"An unkwown error occurred whilst processing the image\");return y.call(this,n,s,o,w,C,A,k),this};var g=function(t){var e,r;if(255===!t.charCodeAt(0)||216===!t.charCodeAt(1)||255===!t.charCodeAt(2)||224===!t.charCodeAt(3)||!t.charCodeAt(6)===\"J\".charCodeAt(0)||!t.charCodeAt(7)===\"F\".charCodeAt(0)||!t.charCodeAt(8)===\"I\".charCodeAt(0)||!t.charCodeAt(9)===\"F\".charCodeAt(0)||0===!t.charCodeAt(10))throw new Error(\"getJpegSize requires a binary string jpeg file\");for(var n=256*t.charCodeAt(4)+t.charCodeAt(5),s=4,o=t.length;o>s;){if(s+=n,255!==t.charCodeAt(s))throw new Error(\"getJpegSize could not find the size of the image\");if(192===t.charCodeAt(s+1)||193===t.charCodeAt(s+1)||194===t.charCodeAt(s+1)||195===t.charCodeAt(s+1)||196===t.charCodeAt(s+1)||197===t.charCodeAt(s+1)||198===t.charCodeAt(s+1)||199===t.charCodeAt(s+1))return r=256*t.charCodeAt(s+5)+t.charCodeAt(s+6),e=256*t.charCodeAt(s+7)+t.charCodeAt(s+8),[e,r];s+=2,n=256*t.charCodeAt(s)+t.charCodeAt(s+1)}},v=function(t){var e=t[0]<<8|t[1];if(65496!==e)throw new Error(\"Supplied data is not a JPEG\");for(var r,n,s,o=t.length,i=(t[4]<<8)+t[5],a=4;o>a;){if(a+=i,r=b(t,a),i=(r[2]<<8)+r[3],(192===r[1]||194===r[1])&&255===r[0]&&i>7)return r=b(t,a+5),n=(r[2]<<8)+r[3],s=(r[0]<<8)+r[1],{width:n,height:s};a+=2}throw new Error(\"getJpegSizeFromBytes could not find the size of the image\")},b=function(t,e){return t.subarray(e,e+4)};t.processJPEG=function(t,e,r,n,s){var o,i=this.color_spaces.DEVICE_RGB,a=this.decode.DCT_DECODE,u=8;return this.isString(t)?(o=g(t),this.createImageInfo(t,o[0],o[1],i,u,a,e,r)):(this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)?(o=v(t),t=s||this.arrayBufferToBinaryString(t),this.createImageInfo(t,o.width,o.height,i,u,a,e,r)):null)},t.processJPG=function(){return this.processJPEG.apply(this,arguments)}}(r.API),function(t){\"use strict\";t.autoPrint=function(){var t;return this.internal.events.subscribe(\"postPutResources\",function(){t=this.internal.newObject(),this.internal.write(\"<< /S/Named /Type/Action /N/Print >>\",\"endobj\")}),this.internal.events.subscribe(\"putCatalog\",function(){this.internal.write(\"/OpenAction \"+t+\" 0 R\")}),this}}(r.API),function(t){\"use strict\";var e,r,n,s,o=3,i=13,a={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},u=1,c=function(t,e,r,n,s){a={x:t,y:e,w:r,h:n,ln:s}},l=function(){return a},f={left:0,top:0,bottom:0};t.setHeaderFunction=function(t){s=t},t.getTextDimensions=function(t){e=this.internal.getFont().fontName,r=this.table_font_size||this.internal.getFontSize(),n=this.internal.getFont().fontStyle;var s,o,i=19.049976/25.4;return o=document.createElement(\"font\"),o.id=\"jsPDFCell\",o.style.fontStyle=n,o.style.fontName=e,o.style.fontSize=r+\"pt\",o.innerText=t,document.body.appendChild(o),s={w:(o.offsetWidth+1)*i,h:(o.offsetHeight+1)*i},document.body.removeChild(o),s},t.cellAddPage=function(){var t=this.margins||f;this.addPage(),c(t.left,t.top,void 0,void 0),u+=1},t.cellInitialize=function(){a={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},u=1},t.cell=function(t,e,r,n,s,a,u){var d=l();if(void 0!==d.ln)if(d.ln===a)t=d.x+d.w,e=d.y;else{var h=this.margins||f;d.y+d.h+n+i>=this.internal.pageSize.height-h.bottom&&(this.cellAddPage(),this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(a,!0)),e=l().y+l().h}if(void 0!==s[0])if(this.printingHeaderRow?this.rect(t,e,r,n,\"FD\"):this.rect(t,e,r,n),\"right\"===u){if(s instanceof Array)for(var p=0;p<s.length;p++){var m=s[p],w=this.getStringUnitWidth(m)*this.internal.getFontSize();this.text(m,t+r-w-o,e+this.internal.getLineHeight()*(p+1))}}else this.text(s,t+o,e+this.internal.getLineHeight());return c(t,e,r,n,a),this},t.arrayMax=function(t,e){var r,n,s,o=t[0];for(r=0,n=t.length;n>r;r+=1)s=t[r],e?-1===e(o,s)&&(o=s):s>o&&(o=s);return o},t.table=function(e,r,n,s,o){if(!n)throw\"No data for PDF table\";var i,c,l,d,h,p,m,w,y,g,v=[],b=[],q={},x={},k=[],_=[],A=!1,C=!0,S=12,E=f;if(E.width=this.internal.pageSize.width,o&&(o.autoSize===!0&&(A=!0),o.printHeaders===!1&&(C=!1),o.fontSize&&(S=o.fontSize),o.margins&&(E=o.margins)),this.lnMod=0,a={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},u=1,this.printHeaders=C,this.margins=E,this.setFontSize(S),this.table_font_size=S,void 0===s||null===s)v=Object.keys(n[0]);else if(s[0]&&\"string\"!=typeof s[0]){var z=19.049976/25.4;for(c=0,l=s.length;l>c;c+=1)i=s[c],v.push(i.name),b.push(i.prompt),x[i.name]=i.width*z}else v=s;if(A)for(g=function(t){return t[i]},c=0,l=v.length;l>c;c+=1){for(i=v[c],q[i]=n.map(g),k.push(this.getTextDimensions(b[c]||i).w),p=q[i],m=0,d=p.length;d>m;m+=1)h=p[m],k.push(this.getTextDimensions(h).w);x[i]=t.arrayMax(k)}if(C){var I=this.calculateLineHeight(v,x,b.length?b:v);for(c=0,l=v.length;l>c;c+=1)i=v[c],_.push([e,r,x[i],I,String(b.length?b[c]:i)]);this.setTableHeaderRow(_),this.printHeaderRow(1,!1)}for(c=0,l=n.length;l>c;c+=1){var I;for(w=n[c],I=this.calculateLineHeight(v,x,w),m=0,y=v.length;y>m;m+=1)i=v[m],this.cell(e,r,x[i],I,w[i],c+2,i.align)}return this.lastCellPos=a,this.table_x=e,this.table_y=r,this},t.calculateLineHeight=function(t,e,r){for(var n,s=0,i=0;i<t.length;i++){n=t[i],r[n]=this.splitTextToSize(String(r[n]),e[n]-o);var a=this.internal.getLineHeight()*r[n].length+o;a>s&&(s=a)}return s},t.setTableHeaderRow=function(t){this.tableHeaderRow=t},t.printHeaderRow=function(t,e){if(!this.tableHeaderRow)throw\"Property tableHeaderRow does not exist.\";var r,n,o,i;if(this.printingHeaderRow=!0,void 0!==s){var a=s(this,u);c(a[0],a[1],a[2],a[3],-1)}this.setFontStyle(\"bold\");var l=[];for(o=0,i=this.tableHeaderRow.length;i>o;o+=1)this.setFillColor(200,200,200),r=this.tableHeaderRow[o],e&&(r[1]=this.margins&&this.margins.top||0,l.push(r)),n=[].concat(r),this.cell.apply(this,n.concat(t));l.length>0&&this.setTableHeaderRow(l),this.setFontStyle(\"normal\"),this.printingHeaderRow=!1}}(r.API),function(t){var e,r,n,s,o,i,a,u,c,l,f,d,h,p,m,w,y;e=function(){function t(){}return function(e){return t.prototype=e,new t}}(),a=function(t){var e,r,n,s,o,i,a;for(r=0,n=t.length,e=void 0,s=!1,i=!1;!s&&r!==n;)e=t[r]=t[r].trimLeft(),e&&(s=!0),r++;for(r=n-1;n&&!i&&-1!==r;)e=t[r]=t[r].trimRight(),e&&(i=!0),r--;for(o=/\\s+$/g,a=!0,r=0;r!==n;)e=t[r].replace(/\\s+/g,\" \"),a&&(e=e.trimLeft()),e&&(a=o.test(e)),t[r]=e,r++;return t},u=function(t,e,r,n){return this.pdf=t,this.x=e,this.y=r,this.settings=n,this.init(),this},c=function(t){var e,r,s;for(e=void 0,s=t.split(\",\"),r=s.shift();!e&&r;)e=n[r.trim().toLowerCase()],r=s.shift();return e},l=function(t){t=\"auto\"===t?\"0px\":t,t.indexOf(\"em\")>-1&&!isNaN(Number(t.replace(\"em\",\"\")))&&(t=18.719*Number(t.replace(\"em\",\"\"))+\"px\"),t.indexOf(\"pt\")>-1&&!isNaN(Number(t.replace(\"pt\",\"\")))&&(t=1.333*Number(t.replace(\"pt\",\"\"))+\"px\");var e,r,n;return r=void 0,e=16,(n=f[t])?n:(n={\"xx-small\":9,\"x-small\":11,small:13,medium:16,large:19,\"x-large\":23,\"xx-large\":28,auto:0}[{css_line_height_string:t}],n!==r?f[t]=n/e:(n=parseFloat(t))?f[t]=n/e:(n=t.match(/([\\d\\.]+)(px)/),f[t]=3===n.length?parseFloat(n[1])/e:1))},i=function(t){var e,r,n;return n=function(t){var e;return e=function(t){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle?t.currentStyle:t.style}(t),function(t){return t=t.replace(/-\\D/g,function(t){return t.charAt(1).toUpperCase()}),e[t]}}(t),e={},r=void 0,e[\"font-family\"]=c(n(\"font-family\"))||\"times\",e[\"font-style\"]=s[n(\"font-style\")]||\"normal\",e[\"text-align\"]=TextAlignMap[n(\"text-align\")]||\"left\",r=o[n(\"font-weight\")]||\"normal\",\"bold\"===r&&(e[\"font-style\"]=\"normal\"===e[\"font-style\"]?r:r+e[\"font-style\"]),e[\"font-size\"]=l(n(\"font-size\"))||1,e[\"line-height\"]=l(n(\"line-height\"))||1,e.display=\"inline\"===n(\"display\")?\"inline\":\"block\",\"block\"===e.display&&(e[\"margin-top\"]=l(n(\"margin-top\"))||0,e[\"margin-bottom\"]=l(n(\"margin-bottom\"))||0,e[\"padding-top\"]=l(n(\"padding-top\"))||0,e[\"padding-bottom\"]=l(n(\"padding-bottom\"))||0,e[\"margin-left\"]=l(n(\"margin-left\"))||0,e[\"margin-right\"]=l(n(\"margin-right\"))||0,e[\"padding-left\"]=l(n(\"padding-left\"))||0,e[\"padding-right\"]=l(n(\"padding-right\"))||0),e},d=function(t,e,r){var n,s,o,i,a;if(o=!1,s=void 0,i=void 0,a=void 0,n=r[\"#\"+t.id])if(\"function\"==typeof n)o=n(t,e);else for(s=0,i=n.length;!o&&s!==i;)o=n[s](t,e),s++;if(n=r[t.nodeName],!o&&n)if(\"function\"==typeof n)o=n(t,e);else for(s=0,i=n.length;!o&&s!==i;)o=n[s](t,e),s++;return o},y=function(t,e){var r,n,s,o,i,a,u,c,l,f;for(r=[],n=[],s=0,f=t.rows[0].cells.length,c=t.clientWidth;f>s;)l=t.rows[0].cells[s],n[s]={name:l.textContent.toLowerCase().replace(/\\s+/g,\"\"),prompt:l.textContent.replace(/\\r?\\n/g,\"\"),width:l.clientWidth/c*e.pdf.internal.pageSize.width},s++;for(s=1;s<t.rows.length;){for(a=t.rows[s],i={},o=0;o<a.cells.length;)i[n[o].name]=a.cells[o].textContent.replace(/\\r?\\n/g,\"\"),o++;r.push(i),s++}return u={rows:r,headers:n}};var g={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},v=1;r=function(t,e,n){var s,o,a,u,c,l,f,p,m;for(o=t.childNodes,s=void 0,a=i(t),c=\"block\"===a.display,c&&(e.setBlockBoundary(),e.setBlockStyle(a)),f=19.049976/25.4,u=0,l=o.length;l>u;){if(s=o[u],\"object\"==typeof s){if(1===s.nodeType&&\"HEADER\"===s.nodeName){var w=s,b=e.pdf.margins_doc.top;e.pdf.internal.events.subscribe(\"addPage\",function(){e.y=b,r(w,e,n),e.pdf.margins_doc.top=e.y+10,e.y+=10},!1)}if(8===s.nodeType&&\"#comment\"===s.nodeName)~s.textContent.indexOf(\"ADD_PAGE\")&&(e.pdf.addPage(),e.y=e.pdf.margins_doc.top);else if(1!==s.nodeType||g[s.nodeName])if(3===s.nodeType){var q=s.nodeValue;if(s.nodeValue&&\"LI\"===s.parentNode.nodeName)if(\"OL\"===s.parentNode.parentNode.nodeName)q=v++ +\". \"+q;else{var x=16*a[\"font-size\"],k=2;x>20&&(k=3),m=function(t,e){this.pdf.circle(t,e,k,\"FD\")}}e.addText(q,a)}else\"string\"==typeof s&&e.addText(s,a);else if(\"IMG\"===s.nodeName&&h[s.getAttribute(\"src\")])e.pdf.internal.pageSize.height-e.pdf.margins_doc.bottom<e.y+s.height&&e.y>e.pdf.margins_doc.top&&(e.pdf.addPage(),e.y=e.pdf.margins_doc.top),e.pdf.addImage(h[s.getAttribute(\"src\")],e.x,e.y,s.width,s.height),e.y+=s.height;else if(\"TABLE\"===s.nodeName)p=y(s,e),e.y+=10,e.pdf.table(e.x,e.y,p.rows,p.headers,{autoSize:!1,printHeaders:!0,margins:e.pdf.margins_doc}),e.y=e.pdf.lastCellPos.y+e.pdf.lastCellPos.h+20;else if(\"OL\"===s.nodeName||\"UL\"===s.nodeName)v=1,d(s,e,n)||r(s,e,n),e.y+=10;else if(\"LI\"===s.nodeName){var _=e.x;e.x+=\"UL\"===s.parentNode.nodeName?22:10,e.y+=3,d(s,e,n)||r(s,e,n),e.x=_}else d(s,e,n)||r(s,e,n)}u++}return c?e.setBlockBoundary(m):void 0},h={},p=function(t,e,r,n){function s(){e.pdf.internal.events.publish(\"imagesLoaded\"),n()}function o(t,e,r){if(t){var n=new Image;++u,n.crossOrigin=\"\",n.onerror=n.onload=function(){n.complete&&(0===n.src.indexOf(\"data:image/\")&&(n.width=e||n.width||0,n.height=r||n.height||0),n.width+n.height&&(h[t]=h[t]||n)),--u||s()},n.src=t}}for(var i=t.getElementsByTagName(\"img\"),a=i.length,u=0;a--;)o(i[a].getAttribute(\"src\"),i[a].width,i[a].height);return u||s()},m=function(t,e,n,s){var o=t.getElementsByTagName(\"footer\");if(o.length>0){o=o[0];var i=e.pdf.internal.write,a=e.y;e.pdf.internal.write=function(){},r(o,e,n);var u=Math.ceil(e.y-a)+5;e.y=a,e.pdf.internal.write=i,e.pdf.margins_doc.bottom+=u;\nfor(var c=function(t){var s=void 0!==t?t.pageNumber:1,i=e.y;e.y=e.pdf.internal.pageSize.height-e.pdf.margins_doc.bottom,e.pdf.margins_doc.bottom-=u;for(var a=o.getElementsByTagName(\"span\"),c=0;c<a.length;++c)(\" \"+a[c].className+\" \").replace(/[\\n\\t]/g,\" \").indexOf(\" pageCounter \")>-1&&(a[c].innerHTML=s),(\" \"+a[c].className+\" \").replace(/[\\n\\t]/g,\" \").indexOf(\" totalPages \")>-1&&(a[c].innerHTML=\"###jsPDFVarTotalPages###\");r(o,e,n),e.pdf.margins_doc.bottom+=u,e.y=i},l=o.getElementsByTagName(\"span\"),f=0;f<l.length;++f)(\" \"+l[f].className+\" \").replace(/[\\n\\t]/g,\" \").indexOf(\" totalPages \")>-1&&e.pdf.internal.events.subscribe(\"htmlRenderingFinished\",e.pdf.putTotalPages.bind(e.pdf,\"###jsPDFVarTotalPages###\"),!0);e.pdf.internal.events.subscribe(\"addPage\",c,!1),c(),g.FOOTER=1}s()},w=function(t,e,n,s,o,i){if(!e)return!1;\"string\"==typeof e||e.parentNode||(e=\"\"+e.innerHTML),\"string\"==typeof e&&(e=function(t){var e,r,n,s;return n=\"jsPDFhtmlText\"+Date.now().toString()+(1e3*Math.random()).toFixed(0),s=\"position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;\",r=document.createElement(\"div\"),r.style.cssText=s,r.innerHTML='<iframe style=\"height:1px;width:1px\" name=\"'+n+'\" />',document.body.appendChild(r),e=window.frames[n],e.document.body.innerHTML=t,e.document.body}(e.replace(/<\\/?script[^>]*?>/gi,\"\")));var a=new u(t,n,s,o);return i=i||function(){},p.call(this,e,a,o.elementHandlers,function(){m.call(this,e,a,o.elementHandlers,function(){r(e,a,o.elementHandlers),a.pdf.internal.events.publish(\"htmlRenderingFinished\"),i(a.dispose())})}),a.dispose()},u.prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write(\"q\")},u.prototype.dispose=function(){return this.pdf.internal.write(\"Q\"),{x:this.x,y:this.y}},u.prototype.splitFragmentsIntoLines=function(t,r){var n,s,o,i,a,u,c,l,f,d,h,p,m,w,y;for(s=12,h=this.pdf.internal.scaleFactor,a={},o=void 0,d=void 0,i=void 0,u=void 0,y=void 0,f=void 0,l=void 0,c=void 0,p=[],m=[p],n=0,w=this.settings.width;t.length;)if(u=t.shift(),y=r.shift(),u)if(o=y[\"font-family\"],d=y[\"font-style\"],i=a[o+d],i||(i=this.pdf.internal.getFont(o,d).metadata.Unicode,a[o+d]=i),f={widths:i.widths,kerning:i.kerning,fontSize:y[\"font-size\"]*s,textIndent:n},l=this.pdf.getStringUnitWidth(u,f)*f.fontSize/h,n+l>w){for(c=this.pdf.splitTextToSize(u,w,f),p.push([c.shift(),y]);c.length;)p=[[c.shift(),y]],m.push(p);n=this.pdf.getStringUnitWidth(p[0][0],f)*f.fontSize/h}else p.push([u,y]),n+=l;if(void 0!==y[\"text-align\"]&&(\"center\"===y[\"text-align\"]||\"right\"===y[\"text-align\"]||\"justify\"===y[\"text-align\"]))for(var g=0;g<m.length;++g){var v=this.pdf.getStringUnitWidth(m[g][0][0],f)*f.fontSize/h;g>0&&(m[g][0][1]=e(m[g][0][1]));var b=w-v;if(\"right\"===y[\"text-align\"])m[g][0][1][\"margin-left\"]=b;else if(\"center\"===y[\"text-align\"])m[g][0][1][\"margin-left\"]=b/2;else if(\"justify\"===y[\"text-align\"]){var q=m[g][0][0].split(\" \").length-1;m[g][0][1][\"word-spacing\"]=b/q,g===m.length-1&&(m[g][0][1][\"word-spacing\"]=0)}}return m},u.prototype.RenderTextFragment=function(t,e){var r,n;this.pdf.internal.pageSize.height-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write(\"ET\",\"Q\"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write(\"q\",\"BT\",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),\"Td\")),r=12,n=this.pdf.internal.getFont(e[\"font-family\"],e[\"font-style\"]),void 0!==e[\"word-spacing\"]&&e[\"word-spacing\"]>0&&this.pdf.internal.write(e[\"word-spacing\"].toFixed(2),\"Tw\"),this.pdf.internal.write(\"/\"+n.id,(r*e[\"font-size\"]).toFixed(2),\"Tf\",\"(\"+this.pdf.internal.pdfEscape(t)+\") Tj\"),void 0!==e[\"word-spacing\"]&&this.pdf.internal.write(0,\"Tw\")},u.prototype.renderParagraph=function(t){var e,r,n,s,o,i,u,c,l,f,d,h,p,m,w;if(s=a(this.paragraph.text),m=this.paragraph.style,e=this.paragraph.blockstyle,p=this.paragraph.blockstyle||{},this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:e},s.join(\"\").trim()){c=this.splitFragmentsIntoLines(s,m),u=void 0,l=void 0,r=12,n=r/this.pdf.internal.scaleFactor,h=(Math.max((e[\"margin-top\"]||0)-(p[\"margin-bottom\"]||0),0)+(e[\"padding-top\"]||0))*n,d=((e[\"margin-bottom\"]||0)+(e[\"padding-bottom\"]||0))*n,f=this.pdf.internal.write,o=void 0,i=void 0,this.y+=h,f(\"q\",\"BT\",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),\"Td\");for(var y=0;c.length;){for(u=c.shift(),l=0,o=0,i=u.length;o!==i;)u[o][0].trim()&&(l=Math.max(l,u[o][1][\"line-height\"],u[o][1][\"font-size\"]),w=7*u[o][1][\"font-size\"]),o++;var g=0;for(void 0!==u[0][1][\"margin-left\"]&&u[0][1][\"margin-left\"]>0&&(wantedIndent=this.pdf.internal.getCoordinateString(u[0][1][\"margin-left\"]),g=wantedIndent-y,y=wantedIndent),f(g,(-1*r*l).toFixed(2),\"Td\"),o=0,i=u.length;o!==i;)u[o][0]&&this.RenderTextFragment(u[o][0],u[o][1]),o++;this.y+=l*n}return t&&\"function\"==typeof t&&t.call(this,this.x-9,this.y-w/2),f(\"ET\",\"Q\"),this.y+=d}},u.prototype.setBlockBoundary=function(t){return this.renderParagraph(t)},u.prototype.setBlockStyle=function(t){return this.paragraph.blockstyle=t},u.prototype.addText=function(t,e){return this.paragraph.text.push(t),this.paragraph.style.push(e)},n={helvetica:\"helvetica\",\"sans-serif\":\"helvetica\",\"times new roman\":\"times\",serif:\"times\",times:\"times\",monospace:\"courier\",courier:\"courier\"},o={100:\"normal\",200:\"normal\",300:\"normal\",400:\"normal\",500:\"bold\",600:\"bold\",700:\"bold\",800:\"bold\",900:\"bold\",normal:\"normal\",bold:\"bold\",bolder:\"bold\",lighter:\"normal\"},s={normal:\"normal\",italic:\"italic\",oblique:\"italic\"},TextAlignMap={left:\"left\",right:\"right\",center:\"center\",justify:\"justify\"},f={normal:1},t.fromHTML=function(t,e,r,n,s,o){\"use strict\";return this.margins_doc=o||{top:0,bottom:0},n||(n={}),n.elementHandlers||(n.elementHandlers={}),w(this,t,e||4,r||4,n,s)}}(r.API),function(t){\"use strict\";var e,r,n;t.addJS=function(t){return n=t,this.internal.events.subscribe(\"postPutResources\",function(){e=this.internal.newObject(),this.internal.write(\"<< /Names [(EmbeddedJS) \"+(e+1)+\" 0 R] >>\",\"endobj\"),r=this.internal.newObject(),this.internal.write(\"<< /S /JavaScript /JS (\",n,\") >>\",\"endobj\")}),this.internal.events.subscribe(\"putCatalog\",function(){void 0!==e&&void 0!==r&&this.internal.write(\"/Names <</JavaScript \"+e+\" 0 R>>\")}),this}}(r.API),function(t){\"use strict\";var e=function(){return\"function\"!=typeof PNG||\"function\"!=typeof i},r=function(e){return e!==t.image_compression.NONE&&n()},n=function(){var t=\"function\"==typeof s;if(!t)throw new Error(\"requires deflate.js for compression\");return t},o=function(e,r,n,o){var i=5,l=d;switch(o){case t.image_compression.FAST:i=3,l=f;break;case t.image_compression.MEDIUM:i=6,l=h;break;case t.image_compression.SLOW:i=9,l=p}e=c(e,r,n,l);var m=new Uint8Array(a(i)),w=u(e),y=new s(i),g=y.append(e),v=y.flush(),b=m.length+g.length+v.length,q=new Uint8Array(b+4);return q.set(m),q.set(g,m.length),q.set(v,m.length+g.length),q[b++]=w>>>24&255,q[b++]=w>>>16&255,q[b++]=w>>>8&255,q[b++]=255&w,t.arrayBufferToBinaryString(q)},a=function(t,e){var r=8,n=Math.LOG2E*Math.log(32768)-8,s=n<<4|r,o=s<<8,i=Math.min(3,(e-1&255)>>1);return o|=i<<6,o|=0,o+=31-o%31,[s,255&o&255]},u=function(t,e){for(var r,n=1,s=65535&n,o=n>>>16&65535,i=t.length,a=0;i>0;){r=i>e?e:i,i-=r;do s+=t[a++],o+=s;while(--r);s%=65521,o%=65521}return(o<<16|s)>>>0},c=function(t,e,r,n){for(var s,o,i,a=t.length/e,u=new Uint8Array(t.length+a),c=w(),l=0;a>l;l++){if(i=l*e,s=t.subarray(i,i+e),n)u.set(n(s,r,o),i+l);else{for(var f=0,d=c.length,h=[];d>f;f++)h[f]=c[f](s,r,o);var p=y(h.concat());u.set(h[p],i+l)}o=s}return u},l=function(t){var e=Array.apply([],t);return e.unshift(0),e},f=function(t,e){var r,n=[],s=0,o=t.length;for(n[0]=1;o>s;s++)r=t[s-e]||0,n[s+1]=t[s]-r+256&255;return n},d=function(t,e,r){var n,s=[],o=0,i=t.length;for(s[0]=2;i>o;o++)n=r&&r[o]||0,s[o+1]=t[o]-n+256&255;return s},h=function(t,e,r){var n,s,o=[],i=0,a=t.length;for(o[0]=3;a>i;i++)n=t[i-e]||0,s=r&&r[i]||0,o[i+1]=t[i]+256-(n+s>>>1)&255;return o},p=function(t,e,r){var n,s,o,i,a=[],u=0,c=t.length;for(a[0]=4;c>u;u++)n=t[u-e]||0,s=r&&r[u]||0,o=r&&r[u-e]||0,i=m(n,s,o),a[u+1]=t[u]-i+256&255;return a},m=function(t,e,r){var n=t+e-r,s=Math.abs(n-t),o=Math.abs(n-e),i=Math.abs(n-r);return o>=s&&i>=s?t:i>=o?e:r},w=function(){return[l,f,d,h,p]},y=function(t){for(var e,r,n,s=0,o=t.length;o>s;)e=g(t[s].slice(1)),(r>e||!r)&&(r=e,n=s),s++;return n},g=function(t){for(var e=0,r=t.length,n=0;r>e;)n+=Math.abs(t[e++]);return n};t.processPNG=function(t,n,s,i){var a,u,c,l,f,d,h=this.color_spaces.DEVICE_RGB,p=this.decode.FLATE_DECODE,m=8;if(this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)){if(e())throw new Error(\"PNG support requires png.js and zlib.js\");if(a=new PNG(t),t=a.imgData,m=a.bits,h=a.colorSpace,l=a.colors,-1!==[4,6].indexOf(a.colorType)){if(8===a.bits)for(var w,y,g=window[\"Uint\"+a.pixelBitlength+\"Array\"],v=new g(a.decodePixels().buffer),b=v.length,q=new Uint8Array(b*a.colors),x=new Uint8Array(b),k=a.pixelBitlength-a.bits,_=0,A=0;b>_;_++){for(w=v[_],y=0;k>y;)q[A++]=w>>>y&255,y+=a.bits;x[_]=w>>>y&255}if(16===a.bits){for(var w,v=new Uint32Array(a.decodePixels().buffer),b=v.length,q=new Uint8Array(b*(32/a.pixelBitlength)*a.colors),x=new Uint8Array(b*(32/a.pixelBitlength)),C=a.colors>1,_=0,A=0,S=0;b>_;)w=v[_++],q[A++]=w>>>0&255,C&&(q[A++]=w>>>16&255,w=v[_++],q[A++]=w>>>0&255),x[S++]=w>>>16&255;m=8}r(i)?(t=o(q,a.width*a.colors,a.colors,i),d=o(x,a.width,1,i)):(t=q,d=x,p=null)}if(3===a.colorType&&(h=this.color_spaces.INDEXED,f=a.palette,a.transparency.indexed)){for(var E=a.transparency.indexed,z=0,_=0,b=E.length;b>_;++_)z+=E[_];if(z/=255,z===b-1&&-1!==E.indexOf(0))c=[E.indexOf(0)];else if(z!==b){for(var v=a.decodePixels(),x=new Uint8Array(v.length),_=0,b=v.length;b>_;_++)x[_]=E[v[_]];d=o(x,a.width,1)}}return u=p===this.decode.FLATE_DECODE?\"/Predictor 15 /Colors \"+l+\" /BitsPerComponent \"+m+\" /Columns \"+a.width:\"/Colors \"+l+\" /BitsPerComponent \"+m+\" /Columns \"+a.width,(this.isArrayBuffer(t)||this.isArrayBufferView(t))&&(t=this.arrayBufferToBinaryString(t)),(d&&this.isArrayBuffer(d)||this.isArrayBufferView(d))&&(d=this.arrayBufferToBinaryString(d)),this.createImageInfo(t,a.width,a.height,h,m,p,n,s,u,c,f,d)}throw new Error(\"Unsupported PNG image data, try using JPEG instead.\")}}(r.API),function(t){\"use strict\";t.addSVG=function(t,e,r,n,s){function o(t,e){var r=e.createElement(\"style\");r.type=\"text/css\",r.styleSheet?r.styleSheet.cssText=t:r.appendChild(e.createTextNode(t)),e.getElementsByTagName(\"head\")[0].appendChild(r)}function i(t){var e=\"childframe\",r=t.createElement(\"iframe\");return o(\".jsPDF_sillysvg_iframe {display:none;position:absolute;}\",t),r.name=e,r.setAttribute(\"width\",0),r.setAttribute(\"height\",0),r.setAttribute(\"frameborder\",\"0\"),r.setAttribute(\"scrolling\",\"no\"),r.setAttribute(\"seamless\",\"seamless\"),r.setAttribute(\"class\",\"jsPDF_sillysvg_iframe\"),t.body.appendChild(r),r}function a(t,e){var r=(e.contentWindow||e.contentDocument).document;return r.write(t),r.close(),r.getElementsByTagName(\"svg\")[0]}function u(t){for(var e=parseFloat(t[1]),r=parseFloat(t[2]),n=[],s=3,o=t.length;o>s;)\"c\"===t[s]?(n.push([parseFloat(t[s+1]),parseFloat(t[s+2]),parseFloat(t[s+3]),parseFloat(t[s+4]),parseFloat(t[s+5]),parseFloat(t[s+6])]),s+=7):\"l\"===t[s]?(n.push([parseFloat(t[s+1]),parseFloat(t[s+2])]),s+=3):s+=1;return[e,r,n]}var c;if(e===c||e===c)throw new Error(\"addSVG needs values for 'x' and 'y'\");var l=i(document),f=a(t,l),d=[1,1],h=parseFloat(f.getAttribute(\"width\")),p=parseFloat(f.getAttribute(\"height\"));h&&p&&(n&&s?d=[n/h,s/p]:n?d=[n/h,n/h]:s&&(d=[s/p,s/p]));var m,w,y,g,v=f.childNodes;for(m=0,w=v.length;w>m;m++)y=v[m],y.tagName&&\"PATH\"===y.tagName.toUpperCase()&&(g=u(y.getAttribute(\"d\").split(\" \")),g[0]=g[0]*d[0]+e,g[1]=g[1]*d[1]+r,this.lines.call(this,g[2],g[0],g[1],d));return this}}(r.API),function(t){\"use strict\";var e=t.getCharWidthsArray=function(t,e){e||(e={});var r,n,s,o=e.widths?e.widths:this.internal.getFont().metadata.Unicode.widths,i=o.fof?o.fof:1,a=e.kerning?e.kerning:this.internal.getFont().metadata.Unicode.kerning,u=a.fof?a.fof:1,c=0,l=o[0]||i,f=[];for(r=0,n=t.length;n>r;r++)s=t.charCodeAt(r),f.push((o[s]||l)/i+(a[s]&&a[s][c]||0)/u),c=s;return f},r=function(t){for(var e=t.length,r=0;e;)e--,r+=t[e];return r},n=t.getStringUnitWidth=function(t,n){return r(e.call(this,t,n))},s=function(t,e,r,n){for(var s=[],o=0,i=t.length,a=0;o!==i&&a+e[o]<r;)a+=e[o],o++;s.push(t.slice(0,o));var u=o;for(a=0;o!==i;)a+e[o]>n&&(s.push(t.slice(u,o)),a=0,u=o),a+=e[o],o++;return u!==o&&s.push(t.slice(u,o)),s},o=function(t,o,i){i||(i={});var a,u,c,l,f,d,h=[],p=[h],m=i.textIndent||0,w=0,y=0,g=t.split(\" \"),v=e(\" \",i)[0];if(d=-1===i.lineIndent?g[0].length+2:i.lineIndent||0){var b=Array(d).join(\" \"),q=[];g.map(function(t){t=t.split(/\\s*\\n/),t.length>1?q=q.concat(t.map(function(t,e){return(e&&t.length?\"\\n\":\"\")+t})):q.push(t[0])}),g=q,d=n(b,i)}for(c=0,l=g.length;l>c;c++){var x=0;if(a=g[c],d&&\"\\n\"==a[0]&&(a=a.substr(1),x=1),u=e(a,i),y=r(u),m+w+y>o||x){if(y>o){for(f=s(a,u,o-(m+w),o),h.push(f.shift()),h=[f.pop()];f.length;)p.push([f.shift()]);y=r(u.slice(a.length-h[0].length))}else h=[a];p.push(h),m=y+d,w=v}else h.push(a),m+=w+y,w=v}if(d)var k=function(t,e){return(e?b:\"\")+t.join(\" \")};else var k=function(t){return t.join(\" \")};return p.map(k)};t.splitTextToSize=function(t,e,r){r||(r={});var n,s=r.fontSize||this.internal.getFontSize(),i=function(t){var e={0:1},r={};if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var n=this.internal.getFont(t.fontName,t.fontStyle),s=\"Unicode\";return n.metadata[s]?{widths:n.metadata[s].widths||e,kerning:n.metadata[s].kerning||r}:{widths:e,kerning:r}}.call(this,r);n=Array.isArray(t)?t:t.split(/\\r?\\n/);var a=1*this.internal.scaleFactor*e/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var u,c,l=[];for(u=0,c=n.length;c>u;u++)l=l.concat(o(n[u],a,i));return l}}(r.API),function(t){\"use strict\";var e=function(t){for(var e=\"0123456789abcdef\",r=\"klmnopqrstuvwxyz\",n={},s=0;s<r.length;s++)n[r[s]]=e[s];var o,i,a,u,c,l={},f=1,d=l,h=[],p=\"\",m=\"\",w=t.length-1;for(s=1;s!=w;)c=t[s],s+=1,\"'\"==c?i?(u=i.join(\"\"),i=o):i=[]:i?i.push(c):\"{\"==c?(h.push([d,u]),d={},u=o):\"}\"==c?(a=h.pop(),a[0][a[1]]=d,u=o,d=a[0]):\"-\"==c?f=-1:u===o?n.hasOwnProperty(c)?(p+=n[c],u=parseInt(p,16)*f,f=1,p=\"\"):p+=c:n.hasOwnProperty(c)?(m+=n[c],d[u]=parseInt(m,16)*f,f=1,u=o,m=\"\"):m+=c;return l},r={codePages:[\"WinAnsiEncoding\"],WinAnsiEncoding:e(\"{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}\")},n={Unicode:{Courier:r,\"Courier-Bold\":r,\"Courier-BoldOblique\":r,\"Courier-Oblique\":r,Helvetica:r,\"Helvetica-Bold\":r,\"Helvetica-BoldOblique\":r,\"Helvetica-Oblique\":r,\"Times-Roman\":r,\"Times-Bold\":r,\"Times-BoldItalic\":r,\"Times-Italic\":r}},s={Unicode:{\"Courier-Oblique\":e(\"{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}\"),\"Times-BoldItalic\":e(\"{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}\"),\"Helvetica-Bold\":e(\"{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}\"),Courier:e(\"{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}\"),\"Courier-BoldOblique\":e(\"{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}\"),\"Times-Bold\":e(\"{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}\"),Helvetica:e(\"{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}\"),\"Helvetica-BoldOblique\":e(\"{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}\"),\"Courier-Bold\":e(\"{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}\"),\"Times-Italic\":e(\"{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}\"),\"Times-Roman\":e(\"{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}\"),\"Helvetica-Oblique\":e(\"{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}\")}};t.events.push([\"addFonts\",function(t){var e,r,o,i,a,u=\"Unicode\";for(r in t.fonts)t.fonts.hasOwnProperty(r)&&(e=t.fonts[r],o=s[u][e.PostScriptName],o&&(i=e.metadata[u]?e.metadata[u]:e.metadata[u]={},i.widths=o.widths,i.kerning=o.kerning),a=n[u][e.PostScriptName],a&&(i=e.metadata[u]?e.metadata[u]:e.metadata[u]={},i.encoding=a,a.codePages&&a.codePages.length&&(e.encoding=a.codePages[0])))}])}(r.API),function(t){\"use strict\";t.putTotalPages=function(t){for(var e=new RegExp(t,\"g\"),r=1;r<=this.internal.getNumberOfPages();r++)for(var n=0;n<this.internal.pages[r].length;n++)this.internal.pages[r][n]=this.internal.pages[r][n].replace(e,this.internal.getNumberOfPages());return this}}(r.API),function(t){\"use strict\";if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return new Blob,void 0}catch(e){}var r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\\[object\\s(.*)\\]$/)[1]},r=function(){this.data=[]},n=function(t,e,r){this.data=t,this.size=t.length,this.type=e,this.encoding=r},s=r.prototype,o=n.prototype,i=t.FileReaderSync,a=function(t){this.code=this[this.name=t]},u=\"NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR\".split(\" \"),c=u.length,l=t.URL||t.webkitURL||t,f=l.createObjectURL,d=l.revokeObjectURL,h=l,p=t.btoa,m=t.atob,w=t.ArrayBuffer,y=t.Uint8Array;for(n.fake=o.fake=!0;c--;)a.prototype[u[c]]=c+1;return l.createObjectURL||(h=t.URL={}),h.createObjectURL=function(t){var e,r=t.type;return null===r&&(r=\"application/octet-stream\"),t instanceof n?(e=\"data:\"+r,\"base64\"===t.encoding?e+\";base64,\"+t.data:\"URI\"===t.encoding?e+\",\"+decodeURIComponent(t.data):p?e+\";base64,\"+p(t.data):e+\",\"+encodeURIComponent(t.data)):f?f.call(l,t):void 0},h.revokeObjectURL=function(t){\"data:\"!==t.substring(0,5)&&d&&d.call(l,t)},s.append=function(t){var r=this.data;if(y&&(t instanceof w||t instanceof y)){for(var s=\"\",o=new y(t),u=0,c=o.length;c>u;u++)s+=String.fromCharCode(o[u]);r.push(s)}else if(\"Blob\"===e(t)||\"File\"===e(t)){if(!i)throw new a(\"NOT_READABLE_ERR\");var l=new i;r.push(l.readAsBinaryString(t))}else t instanceof n?\"base64\"===t.encoding&&m?r.push(m(t.data)):\"URI\"===t.encoding?r.push(decodeURIComponent(t.data)):\"raw\"===t.encoding&&r.push(t.data):(\"string\"!=typeof t&&(t+=\"\"),r.push(unescape(encodeURIComponent(t))))},s.getBlob=function(t){return arguments.length||(t=null),new n(this.data.join(\"\"),t,\"raw\")},s.toString=function(){return\"[object BlobBuilder]\"},o.slice=function(t,e,r){var s=arguments.length;return 3>s&&(r=null),new n(this.data.slice(t,s>1?e:this.data.length),r,this.encoding)\n},o.toString=function(){return\"[object Blob]\"},o.close=function(){this.size=this.data.length=0},r}(t);t.Blob=function(t,e){var n=e?e.type||\"\":\"\",s=new r;if(t)for(var o=0,i=t.length;i>o;o++)s.append(t[o]);return s.getBlob(n)}}(\"undefined\"!=typeof self&&self||\"undefined\"!=typeof window&&window||this.content||this);var n=n||\"undefined\"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(t){\"use strict\";if(\"undefined\"==typeof navigator||!/MSIE [1-9]\\./.test(navigator.userAgent)){var e=t.document,r=function(){return t.URL||t.webkitURL||t},n=e.createElementNS(\"http://www.w3.org/1999/xhtml\",\"a\"),s=!t.externalHost&&\"download\"in n,o=function(r){var n=e.createEvent(\"MouseEvents\");n.initMouseEvent(\"click\",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(n)},i=t.webkitRequestFileSystem,a=t.requestFileSystem||i||t.mozRequestFileSystem,u=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},c=\"application/octet-stream\",l=0,f=[],d=function(){for(var t=f.length;t--;){var e=f[t];\"string\"==typeof e?r().revokeObjectURL(e):e.remove()}f.length=0},h=function(t,e,r){e=[].concat(e);for(var n=e.length;n--;){var s=t[\"on\"+e[n]];if(\"function\"==typeof s)try{s.call(t,r||t)}catch(o){u(o)}}},p=function(e,u){var d,p,m,w=this,y=e.type,g=!1,v=function(){var t=r().createObjectURL(e);return f.push(t),t},b=function(){h(w,\"writestart progress write writeend\".split(\" \"))},q=function(){(g||!d)&&(d=v(e)),p?p.location.href=d:window.open(d,\"_blank\"),w.readyState=w.DONE,b()},x=function(t){return function(){return w.readyState!==w.DONE?t.apply(this,arguments):void 0}},k={create:!0,exclusive:!1};return w.readyState=w.INIT,u||(u=\"download\"),s?(d=v(e),n.href=d,n.download=u,o(n),w.readyState=w.DONE,b(),void 0):(t.chrome&&y&&y!==c&&(m=e.slice||e.webkitSlice,e=m.call(e,0,e.size,c),g=!0),i&&\"download\"!==u&&(u+=\".download\"),(y===c||i)&&(p=t),a?(l+=e.size,a(t.TEMPORARY,l,x(function(t){t.root.getDirectory(\"saved\",k,x(function(t){var r=function(){t.getFile(u,k,x(function(t){t.createWriter(x(function(r){r.onwriteend=function(e){p.location.href=t.toURL(),f.push(t),w.readyState=w.DONE,h(w,\"writeend\",e)},r.onerror=function(){var t=r.error;t.code!==t.ABORT_ERR&&q()},\"writestart progress write abort\".split(\" \").forEach(function(t){r[\"on\"+t]=w[\"on\"+t]}),r.write(e),w.abort=function(){r.abort(),w.readyState=w.DONE},w.readyState=w.WRITING}),q)}),q)};t.getFile(u,{create:!1},x(function(t){t.remove(),r()}),x(function(t){t.code===t.NOT_FOUND_ERR?r():q()}))}),q)}),q),void 0):(q(),void 0))},m=p.prototype,w=function(t,e){return new p(t,e)};return m.abort=function(){var t=this;t.readyState=t.DONE,h(t,\"abort\")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,t.addEventListener(\"unload\",d,!1),w.unload=function(){d(),t.removeEventListener(\"unload\",d,!1)},w}}(\"undefined\"!=typeof self&&self||\"undefined\"!=typeof window&&window||this.content);\"undefined\"!=typeof module&&null!==module?module.exports=n:\"undefined\"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return n}),void function(t,e){\"object\"==typeof module?module.exports=e():t.adler32cs=e()}(r,function(){var t=\"function\"==typeof ArrayBuffer&&\"function\"==typeof Uint8Array,e=null,r=function(){if(!t)return function(){return!1};try{var r=require(\"buffer\");\"function\"==typeof r.Buffer&&(e=r.Buffer)}catch(n){}return function(t){return t instanceof ArrayBuffer||null!==e&&t instanceof e}}(),n=function(){return null!==e?function(t){return new e(t,\"utf8\").toString(\"binary\")}:function(t){return unescape(encodeURIComponent(t))}}(),s=65521,o=function(t,e){for(var r=65535&t,n=t>>>16,o=0,i=e.length;i>o;o++)r=(r+(255&e.charCodeAt(o)))%s,n=(n+r)%s;return(n<<16|r)>>>0},i=function(t,e){for(var r=65535&t,n=t>>>16,o=0,i=e.length;i>o;o++)r=(r+e[o])%s,n=(n+r)%s;return(n<<16|r)>>>0},a={},u=a.Adler32=function(){var e=function(t){if(!(this instanceof e))throw new TypeError(\"Constructor cannot called be as a function.\");if(!isFinite(t=null==t?1:+t))throw new Error(\"First arguments needs to be a finite number.\");this.checksum=t>>>0},s=e.prototype={};return s.constructor=e,e.from=function(t){return t.prototype=s,t}(function(t){if(!(this instanceof e))throw new TypeError(\"Constructor cannot called be as a function.\");if(null==t)throw new Error(\"First argument needs to be a string.\");this.checksum=o(1,t.toString())}),e.fromUtf8=function(t){return t.prototype=s,t}(function(t){if(!(this instanceof e))throw new TypeError(\"Constructor cannot called be as a function.\");if(null==t)throw new Error(\"First argument needs to be a string.\");var r=n(t.toString());this.checksum=o(1,r)}),t&&(e.fromBuffer=function(t){return t.prototype=s,t}(function(t){if(!(this instanceof e))throw new TypeError(\"Constructor cannot called be as a function.\");if(!r(t))throw new Error(\"First argument needs to be ArrayBuffer.\");var n=new Uint8Array(t);return this.checksum=i(1,n)})),s.update=function(t){if(null==t)throw new Error(\"First argument needs to be a string.\");return t=t.toString(),this.checksum=o(this.checksum,t)},s.updateUtf8=function(t){if(null==t)throw new Error(\"First argument needs to be a string.\");var e=n(t.toString());return this.checksum=o(this.checksum,e)},t&&(s.updateBuffer=function(t){if(!r(t))throw new Error(\"First argument needs to be ArrayBuffer.\");var e=new Uint8Array(t);return this.checksum=i(this.checksum,e)}),s.clone=function(){return new u(this.checksum)},e}();return a.from=function(t){if(null==t)throw new Error(\"First argument needs to be a string.\");return o(1,t.toString())},a.fromUtf8=function(t){if(null==t)throw new Error(\"First argument needs to be a string.\");var e=n(t.toString());return o(1,e)},t&&(a.fromBuffer=function(t){if(!r(t))throw new Error(\"First argument need to be ArrayBuffer.\");var e=new Uint8Array(t);return i(1,e)}),a});var s=function(){function t(){function t(t){var e,r,s,o,a,u,c=n.dyn_tree,l=n.stat_desc.static_tree,f=n.stat_desc.extra_bits,h=n.stat_desc.extra_base,p=n.stat_desc.max_length,m=0;for(o=0;i>=o;o++)t.bl_count[o]=0;for(c[2*t.heap[t.heap_max]+1]=0,e=t.heap_max+1;d>e;e++)r=t.heap[e],o=c[2*c[2*r+1]+1]+1,o>p&&(o=p,m++),c[2*r+1]=o,r>n.max_code||(t.bl_count[o]++,a=0,r>=h&&(a=f[r-h]),u=c[2*r],t.opt_len+=u*(o+a),l&&(t.static_len+=u*(l[2*r+1]+a)));if(0!==m){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(r=t.bl_count[o];0!==r;)s=t.heap[--e],s>n.max_code||(c[2*s+1]!=o&&(t.opt_len+=(o-c[2*s+1])*c[2*s],c[2*s+1]=o),r--)}}function e(t,e){var r=0;do r|=1&t,t>>>=1,r<<=1;while(--e>0);return r>>>1}function r(t,r,n){var s,o,a,u=[],c=0;for(s=1;i>=s;s++)u[s]=c=c+n[s-1]<<1;for(o=0;r>=o;o++)a=t[2*o+1],0!==a&&(t[2*o]=e(u[a]++,a))}var n=this;n.build_tree=function(e){var s,o,i,a=n.dyn_tree,u=n.stat_desc.static_tree,c=n.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=d,s=0;c>s;s++)0!==a[2*s]?(e.heap[++e.heap_len]=l=s,e.depth[s]=0):a[2*s+1]=0;for(;e.heap_len<2;)i=e.heap[++e.heap_len]=2>l?++l:0,a[2*i]=1,e.depth[i]=0,e.opt_len--,u&&(e.static_len-=u[2*i+1]);for(n.max_code=l,s=Math.floor(e.heap_len/2);s>=1;s--)e.pqdownheap(a,s);i=c;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],e.pqdownheap(a,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,a[2*i]=a[2*s]+a[2*o],e.depth[i]=Math.max(e.depth[s],e.depth[o])+1,a[2*s+1]=a[2*o+1]=i,e.heap[1]=i++,e.pqdownheap(a,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],t(e),r(a,n.max_code,e.bl_count)}}function e(t,e,r,n,s){var o=this;o.static_tree=t,o.extra_bits=e,o.extra_base=r,o.elems=n,o.max_length=s}function r(t,e,r,n,s){var o=this;o.good_length=t,o.max_lazy=e,o.nice_length=r,o.max_chain=n,o.func=s}function n(t,e,r,n){var s=t[2*e],o=t[2*r];return o>s||s==o&&n[e]<=n[r]}function s(){function r(){var t;for(Ie=2*Ce,Be[Pe-1]=0,t=0;Pe-1>t;t++)Be[t]=0;We=L[Xe].max_lazy,Ke=L[Xe].good_length,Qe=L[Xe].nice_length,Ve=L[Xe].max_chain,Me=0,Fe=0,Ge=0,Le=Je=Z-1,Ne=0,Oe=0}function s(){var t;for(t=0;f>t;t++)$e[2*t]=0;for(t=0;a>t;t++)Ze[2*t]=0;for(t=0;u>t;t++)tr[2*t]=0;$e[2*h]=1,er.opt_len=er.static_len=0,ar=cr=0}function o(){rr.dyn_tree=$e,rr.stat_desc=e.static_l_desc,nr.dyn_tree=Ze,nr.stat_desc=e.static_d_desc,sr.dyn_tree=tr,sr.stat_desc=e.static_bl_desc,fr=0,dr=0,lr=8,s()}function i(t,e){var r,n,s=-1,o=t[1],i=0,a=7,u=4;for(0===o&&(a=138,u=3),t[2*(e+1)+1]=65535,r=0;e>=r;r++)n=o,o=t[2*(r+1)+1],++i<a&&n==o||(u>i?tr[2*n]+=i:0!==n?(n!=s&&tr[2*n]++,tr[2*m]++):10>=i?tr[2*w]++:tr[2*y]++,i=0,s=n,0===o?(a=138,u=3):n==o?(a=6,u=3):(a=7,u=4))}function c(){var e;for(i($e,rr.max_code),i(Ze,nr.max_code),sr.build_tree(er),e=u-1;e>=3&&0===tr[2*t.bl_order[e]+1];e--);return er.opt_len+=3*(e+1)+5+5+4,e}function d(t){er.pending_buf[er.pending++]=t}function p(t){d(255&t),d(t>>>8&255)}function O(t){d(t>>8&255),d(255&t&255)}function re(t,e){var r,n=e;dr>g-n?(r=t,fr|=r<<dr&65535,p(fr),fr=r>>>g-dr,dr+=n-g):(fr|=t<<dr&65535,dr+=n)}function ne(t,e){var r=2*t;re(65535&e[r],65535&e[r+1])}function se(t,e){var r,n,s=-1,o=t[1],i=0,a=7,u=4;for(0===o&&(a=138,u=3),r=0;e>=r;r++)if(n=o,o=t[2*(r+1)+1],!(++i<a&&n==o)){if(u>i){do ne(n,tr);while(0!==--i)}else 0!==n?(n!=s&&(ne(n,tr),i--),ne(m,tr),re(i-3,2)):10>=i?(ne(w,tr),re(i-3,3)):(ne(y,tr),re(i-11,7));i=0,s=n,0===o?(a=138,u=3):n==o?(a=6,u=3):(a=7,u=4)}}function oe(e,r,n){var s;for(re(e-257,5),re(r-1,5),re(n-4,4),s=0;n>s;s++)re(tr[2*t.bl_order[s]+1],3);se($e,e-1),se(Ze,r-1)}function ie(){16==dr?(p(fr),fr=0,dr=0):dr>=8&&(d(255&fr),fr>>>=8,dr-=8)}function ae(){re(Q<<1,3),ne(h,e.static_ltree),ie(),9>1+lr+10-dr&&(re(Q<<1,3),ne(h,e.static_ltree),ie()),lr=7}function ue(e,r){var n,s,o;if(er.pending_buf[ur+2*ar]=e>>>8&255,er.pending_buf[ur+2*ar+1]=255&e,er.pending_buf[or+ar]=255&r,ar++,0===e?$e[2*r]++:(cr++,e--,$e[2*(t._length_code[r]+l+1)]++,Ze[2*t.d_code(e)]++),0===(8191&ar)&&Xe>2){for(n=8*ar,s=Me-Fe,o=0;a>o;o++)n+=Ze[2*o]*(5+t.extra_dbits[o]);if(n>>>=3,cr<Math.floor(ar/2)&&n<Math.floor(s/2))return!0}return ar==ir-1}function ce(e,r){var n,s,o,i,a=0;if(0!==ar)do n=er.pending_buf[ur+2*a]<<8&65280|255&er.pending_buf[ur+2*a+1],s=255&er.pending_buf[or+a],a++,0===n?ne(s,e):(o=t._length_code[s],ne(o+l+1,e),i=t.extra_lbits[o],0!==i&&(s-=t.base_length[o],re(s,i)),n--,o=t.d_code(n),ne(o,r),i=t.extra_dbits[o],0!==i&&(n-=t.base_dist[o],re(n,i)));while(ar>a);ne(h,e),lr=e[2*h+1]}function le(){dr>8?p(fr):dr>0&&d(255&fr),fr=0,dr=0}function fe(t,e,r){le(),lr=8,r&&(p(e),p(~e)),er.pending_buf.set(ze.subarray(t,t+e),er.pending),er.pending+=e}function de(t,e,r){re((K<<1)+(r?1:0),3),fe(t,e,!0)}function he(t,r,n){var o,i,a=0;Xe>0?(rr.build_tree(er),nr.build_tree(er),a=c(),o=er.opt_len+3+7>>>3,i=er.static_len+3+7>>>3,o>=i&&(o=i)):o=i=r+5,o>=r+4&&-1!=t?de(t,r,n):i==o?(re((Q<<1)+(n?1:0),3),ce(e.static_ltree,e.static_dtree)):(re(($<<1)+(n?1:0),3),oe(rr.max_code+1,nr.max_code+1,a+1),ce($e,Ze)),s(),n&&le()}function pe(t){he(Fe>=0?Fe:-1,Me-Fe,t),Fe=Me,qe.flush_pending()}function me(){var t,e,r,n;do{if(n=Ie-Ge-Me,0===n&&0===Me&&0===Ge)n=Ce;else if(-1==n)n--;else if(Me>=Ce+Ce-ee){ze.set(ze.subarray(Ce,Ce+Ce),0),He-=Ce,Me-=Ce,Fe-=Ce,t=Pe,r=t;do e=65535&Be[--r],Be[r]=e>=Ce?e-Ce:0;while(0!==--t);t=Ce,r=t;do e=65535&Te[--r],Te[r]=e>=Ce?e-Ce:0;while(0!==--t);n+=Ce}if(0===qe.avail_in)return;t=qe.read_buf(ze,Me+Ge,n),Ge+=t,Ge>=Z&&(Oe=255&ze[Me],Oe=(Oe<<Ue^255&ze[Me+1])&De)}while(ee>Ge&&0!==qe.avail_in)}function we(t){var e,r=65535;for(r>ke-5&&(r=ke-5);;){if(1>=Ge){if(me(),0===Ge&&t==k)return N;if(0===Ge)break}if(Me+=Ge,Ge=0,e=Fe+r,(0===Me||Me>=e)&&(Ge=Me-e,Me=e,pe(!1),0===qe.avail_out))return N;if(Me-Fe>=Ce-ee&&(pe(!1),0===qe.avail_out))return N}return pe(t==C),0===qe.avail_out?t==C?H:N:t==C?G:M}function ye(t){var e,r,n=Ve,s=Me,o=Je,i=Me>Ce-ee?Me-(Ce-ee):0,a=Qe,u=Ee,c=Me+te,l=ze[s+o-1],f=ze[s+o];Je>=Ke&&(n>>=2),a>Ge&&(a=Ge);do if(e=t,ze[e+o]==f&&ze[e+o-1]==l&&ze[e]==ze[s]&&ze[++e]==ze[s+1]){s+=2,e++;do;while(ze[++s]==ze[++e]&&ze[++s]==ze[++e]&&ze[++s]==ze[++e]&&ze[++s]==ze[++e]&&ze[++s]==ze[++e]&&ze[++s]==ze[++e]&&ze[++s]==ze[++e]&&ze[++s]==ze[++e]&&c>s);if(r=te-(c-s),s=c-te,r>o){if(He=t,o=r,r>=a)break;l=ze[s+o-1],f=ze[s+o]}}while((t=65535&Te[t&u])>i&&0!==--n);return Ge>=o?o:Ge}function ge(t){for(var e,r=0;;){if(ee>Ge){if(me(),ee>Ge&&t==k)return N;if(0===Ge)break}if(Ge>=Z&&(Oe=(Oe<<Ue^255&ze[Me+(Z-1)])&De,r=65535&Be[Oe],Te[Me&Ee]=Be[Oe],Be[Oe]=Me),0!==r&&Ce-ee>=(Me-r&65535)&&Ye!=q&&(Le=ye(r)),Le>=Z)if(e=ue(Me-He,Le-Z),Ge-=Le,We>=Le&&Ge>=Z){Le--;do Me++,Oe=(Oe<<Ue^255&ze[Me+(Z-1)])&De,r=65535&Be[Oe],Te[Me&Ee]=Be[Oe],Be[Oe]=Me;while(0!==--Le);Me++}else Me+=Le,Le=0,Oe=255&ze[Me],Oe=(Oe<<Ue^255&ze[Me+1])&De;else e=ue(0,255&ze[Me]),Ge--,Me++;if(e&&(pe(!1),0===qe.avail_out))return N}return pe(t==C),0===qe.avail_out?t==C?H:N:t==C?G:M}function ve(t){for(var e,r,n=0;;){if(ee>Ge){if(me(),ee>Ge&&t==k)return N;if(0===Ge)break}if(Ge>=Z&&(Oe=(Oe<<Ue^255&ze[Me+(Z-1)])&De,n=65535&Be[Oe],Te[Me&Ee]=Be[Oe],Be[Oe]=Me),Je=Le,je=He,Le=Z-1,0!==n&&We>Je&&Ce-ee>=(Me-n&65535)&&(Ye!=q&&(Le=ye(n)),5>=Le&&(Ye==b||Le==Z&&Me-He>4096)&&(Le=Z-1)),Je>=Z&&Je>=Le){r=Me+Ge-Z,e=ue(Me-1-je,Je-Z),Ge-=Je-1,Je-=2;do++Me<=r&&(Oe=(Oe<<Ue^255&ze[Me+(Z-1)])&De,n=65535&Be[Oe],Te[Me&Ee]=Be[Oe],Be[Oe]=Me);while(0!==--Je);if(Ne=0,Le=Z-1,Me++,e&&(pe(!1),0===qe.avail_out))return N}else if(0!==Ne){if(e=ue(0,255&ze[Me-1]),e&&pe(!1),Me++,Ge--,0===qe.avail_out)return N}else Ne=1,Me++,Ge--}return 0!==Ne&&(e=ue(0,255&ze[Me-1]),Ne=0),pe(t==C),0===qe.avail_out?t==C?H:N:t==C?G:M}function be(t){return t.total_in=t.total_out=0,t.msg=null,er.pending=0,er.pending_out=0,xe=W,Ae=k,o(),r(),S}var qe,xe,ke,_e,Ae,Ce,Se,Ee,ze,Ie,Te,Be,Oe,Pe,Re,De,Ue,Fe,Le,je,Ne,Me,He,Ge,Je,Ve,We,Xe,Ye,Ke,Qe,$e,Ze,tr,er=this,rr=new t,nr=new t,sr=new t;er.depth=[];var or,ir,ar,ur,cr,lr,fr,dr;er.bl_count=[],er.heap=[],$e=[],Ze=[],tr=[],er.pqdownheap=function(t,e){for(var r=er.heap,s=r[e],o=e<<1;o<=er.heap_len&&(o<er.heap_len&&n(t,r[o+1],r[o],er.depth)&&o++,!n(t,s,r[o],er.depth));)r[e]=r[o],e=o,o<<=1;r[e]=s},er.deflateInit=function(t,e,r,n,s,o){return n||(n=Y),s||(s=R),o||(o=x),t.msg=null,e==v&&(e=6),1>s||s>P||n!=Y||9>r||r>15||0>e||e>9||0>o||o>q?I:(t.dstate=er,Se=r,Ce=1<<Se,Ee=Ce-1,Re=s+7,Pe=1<<Re,De=Pe-1,Ue=Math.floor((Re+Z-1)/Z),ze=new Uint8Array(2*Ce),Te=[],Be=[],ir=1<<s+6,er.pending_buf=new Uint8Array(4*ir),ke=4*ir,ur=Math.floor(ir/2),or=3*ir,Xe=e,Ye=o,_e=255&n,be(t))},er.deflateEnd=function(){return xe!=V&&xe!=W&&xe!=X?I:(er.pending_buf=null,Be=null,Te=null,ze=null,er.dstate=null,xe==W?T:S)},er.deflateParams=function(t,e,r){var n=S;return e==v&&(e=6),0>e||e>9||0>r||r>q?I:(L[Xe].func!=L[e].func&&0!==t.total_in&&(n=t.deflate(_)),Xe!=e&&(Xe=e,We=L[Xe].max_lazy,Ke=L[Xe].good_length,Qe=L[Xe].nice_length,Ve=L[Xe].max_chain),Ye=r,n)},er.deflateSetDictionary=function(t,e,r){var n,s=r,o=0;if(!e||xe!=V)return I;if(Z>s)return S;for(s>Ce-ee&&(s=Ce-ee,o=r-s),ze.set(e.subarray(o,o+s),0),Me=s,Fe=s,Oe=255&ze[0],Oe=(Oe<<Ue^255&ze[1])&De,n=0;s-Z>=n;n++)Oe=(Oe<<Ue^255&ze[n+(Z-1)])&De,Te[n&Ee]=Be[Oe],Be[Oe]=n;return S},er.deflate=function(t,e){var r,n,s,o,i;if(e>C||0>e)return I;if(!t.next_out||!t.next_in&&0!==t.avail_in||xe==X&&e!=C)return t.msg=j[z-I],I;if(0===t.avail_out)return t.msg=j[z-B],B;if(qe=t,o=Ae,Ae=e,xe==V&&(n=Y+(Se-8<<4)<<8,s=(Xe-1&255)>>1,s>3&&(s=3),n|=s<<6,0!==Me&&(n|=J),n+=31-n%31,xe=W,O(n)),0!==er.pending){if(qe.flush_pending(),0===qe.avail_out)return Ae=-1,S}else if(0===qe.avail_in&&o>=e&&e!=C)return qe.msg=j[z-B],B;if(xe==X&&0!==qe.avail_in)return t.msg=j[z-B],B;if(0!==qe.avail_in||0!==Ge||e!=k&&xe!=X){switch(i=-1,L[Xe].func){case D:i=we(e);break;case U:i=ge(e);break;case F:i=ve(e)}if((i==H||i==G)&&(xe=X),i==N||i==H)return 0===qe.avail_out&&(Ae=-1),S;if(i==M){if(e==_)ae();else if(de(0,0,!1),e==A)for(r=0;Pe>r;r++)Be[r]=0;if(qe.flush_pending(),0===qe.avail_out)return Ae=-1,S}}return e!=C?S:E}}function o(){var t=this;t.next_in_index=0,t.next_out_index=0,t.avail_in=0,t.total_in=0,t.avail_out=0,t.total_out=0}var i=15,a=30,u=19,c=29,l=256,f=l+1+c,d=2*f+1,h=256,p=7,m=16,w=17,y=18,g=16,v=-1,b=1,q=2,x=0,k=0,_=1,A=3,C=4,S=0,E=1,z=2,I=-2,T=-3,B=-5,O=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];t._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],t.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],t.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],t.d_code=function(t){return 256>t?O[t]:O[256+(t>>>7)]},t.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],t.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],t.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],t.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],e.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],e.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],e.static_l_desc=new e(e.static_ltree,t.extra_lbits,l+1,f,i),e.static_d_desc=new e(e.static_dtree,t.extra_dbits,0,a,i),e.static_bl_desc=new e(null,t.extra_blbits,0,u,p);var P=9,R=8,D=0,U=1,F=2,L=[new r(0,0,0,0,D),new r(4,4,8,4,U),new r(4,5,16,8,U),new r(4,6,32,32,U),new r(4,4,16,16,F),new r(8,16,32,32,F),new r(8,16,128,128,F),new r(8,32,128,256,F),new r(32,128,258,1024,F),new r(32,258,258,4096,F)],j=[\"need dictionary\",\"stream end\",\"\",\"\",\"stream error\",\"data error\",\"\",\"buffer error\",\"\",\"\"],N=0,M=1,H=2,G=3,J=32,V=42,W=113,X=666,Y=8,K=0,Q=1,$=2,Z=3,te=258,ee=te+Z+1;return o.prototype={deflateInit:function(t,e){var r=this;return r.dstate=new s,e||(e=i),r.dstate.deflateInit(r,t,e)},deflate:function(t){var e=this;return e.dstate?e.dstate.deflate(e,t):I},deflateEnd:function(){var t=this;if(!t.dstate)return I;var e=t.dstate.deflateEnd();return t.dstate=null,e},deflateParams:function(t,e){var r=this;return r.dstate?r.dstate.deflateParams(r,t,e):I},deflateSetDictionary:function(t,e){var r=this;return r.dstate?r.dstate.deflateSetDictionary(r,t,e):I},read_buf:function(t,e,r){var n=this,s=n.avail_in;return s>r&&(s=r),0===s?0:(n.avail_in-=s,t.set(n.next_in.subarray(n.next_in_index,n.next_in_index+s),e),n.next_in_index+=s,n.total_in+=s,s)},flush_pending:function(){var t=this,e=t.dstate.pending;e>t.avail_out&&(e=t.avail_out),0!==e&&(t.next_out.set(t.dstate.pending_buf.subarray(t.dstate.pending_out,t.dstate.pending_out+e),t.next_out_index),t.next_out_index+=e,t.dstate.pending_out+=e,t.total_out+=e,t.avail_out-=e,t.dstate.pending-=e,0===t.dstate.pending&&(t.dstate.pending_out=0))}},function(t){var e=this,r=new o,n=512,s=k,i=new Uint8Array(n);\"undefined\"==typeof t&&(t=v),r.deflateInit(t),r.next_out=i,e.append=function(t,e){var o,a,u=[],c=0,l=0,f=0;if(t.length){r.next_in_index=0,r.next_in=t,r.avail_in=t.length;do{if(r.next_out_index=0,r.avail_out=n,o=r.deflate(s),o!=S)throw\"deflating: \"+r.msg;r.next_out_index&&(r.next_out_index==n?u.push(new Uint8Array(i)):u.push(new Uint8Array(i.subarray(0,r.next_out_index)))),f+=r.next_out_index,e&&r.next_in_index>0&&r.next_in_index!=c&&(e(r.next_in_index),c=r.next_in_index)}while(r.avail_in>0||0===r.avail_out);return a=new Uint8Array(f),u.forEach(function(t){a.set(t,l),l+=t.length}),a}},e.flush=function(){var t,e,s=[],o=0,a=0;do{if(r.next_out_index=0,r.avail_out=n,t=r.deflate(C),t!=E&&t!=S)throw\"deflating: \"+r.msg;n-r.avail_out>0&&s.push(new Uint8Array(i.subarray(0,r.next_out_index))),a+=r.next_out_index}while(r.avail_in>0||0===r.avail_out);return r.deflateEnd(),e=new Uint8Array(a),s.forEach(function(t){e.set(t,o),o+=t.length}),e}}}(this);!function(t){var e;e=function(){function e(t){var e,r,n,s,o,i,a,u,c,l,f,d,h,p,m;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},i=null;;){switch(e=this.readUInt32(),l=function(){var t,e;for(e=[],a=t=0;4>t;a=++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}.call(this).join(\"\")){case\"IHDR\":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case\"acTL\":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case\"PLTE\":this.palette=this.read(e);break;case\"fcTL\":i&&this.animation.frames.push(i),this.pos+=4,i={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},o=this.readUInt16(),s=this.readUInt16()||100,i.delay=1e3*o/s,i.disposeOp=this.data[this.pos++],i.blendOp=this.data[this.pos++],i.data=[];break;case\"IDAT\":case\"fdAT\":for(\"fdAT\"===l&&(this.pos+=4,e-=4),t=(null!=i?i.data:void 0)||this.imgData,a=h=0;e>=0?e>h:h>e;a=e>=0?++h:--h)t.push(this.data[this.pos++]);break;case\"tRNS\":switch(this.transparency={},this.colorType){case 3:if(n=this.palette.length/3,this.transparency.indexed=this.read(e),this.transparency.indexed.length>n)throw new Error(\"More transparent colors than palette size\");if(f=n-this.transparency.indexed.length,f>0)for(a=p=0;f>=0?f>p:p>f;a=f>=0?++p:--p)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case\"tEXt\":d=this.read(e),u=d.indexOf(0),c=String.fromCharCode.apply(String,d.slice(0,u)),this.text[c]=String.fromCharCode.apply(String,d.slice(u+1));break;case\"IEND\":return i&&this.animation.frames.push(i),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(m=this.colorType)||6===m,r=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*r,this.colorSpace=function(){switch(this.colors){case 1:return\"DeviceGray\";case 3:return\"DeviceRGB\"}}.call(this),this.imgData=new Uint8Array(this.imgData),void 0;default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error(\"Incomplete or corrupt PNG file\")}}var r,n,s,o,a,u,c,l;e.load=function(t,r,n){var s;return\"function\"==typeof r&&(n=r),s=new XMLHttpRequest,s.open(\"GET\",t,!0),s.responseType=\"arraybuffer\",s.onload=function(){var t,o;return t=new Uint8Array(s.response||s.mozResponseArrayBuffer),o=new e(t),\"function\"==typeof(null!=r?r.getContext:void 0)&&o.render(r),\"function\"==typeof n?n(o):void 0},s.send(null)},o=0,s=1,a=2,n=0,r=1,e.prototype.read=function(t){var e,r,n;for(n=[],e=r=0;t>=0?t>r:r>t;e=t>=0?++r:--r)n.push(this.data[this.pos++]);return n},e.prototype.readUInt32=function(){var t,e,r,n;return t=this.data[this.pos++]<<24,e=this.data[this.pos++]<<16,r=this.data[this.pos++]<<8,n=this.data[this.pos++],t|e|r|n},e.prototype.readUInt16=function(){var t,e;return t=this.data[this.pos++]<<8,e=this.data[this.pos++],t|e},e.prototype.decodePixels=function(t){var e,r,n,s,o,a,u,c,l,f,d,h,p,m,w,y,g,v,b,q,x,k,_;if(null==t&&(t=this.imgData),0===t.length)return new Uint8Array(0);for(t=new i(t),t=t.getBytes(),h=this.pixelBitlength/8,y=h*this.width,p=new Uint8Array(y*this.height),a=t.length,w=0,m=0,r=0;a>m;){switch(t[m++]){case 0:for(s=b=0;y>b;s=b+=1)p[r++]=t[m++];break;case 1:for(s=q=0;y>q;s=q+=1)e=t[m++],o=h>s?0:p[r-h],p[r++]=(e+o)%256;break;case 2:for(s=x=0;y>x;s=x+=1)e=t[m++],n=(s-s%h)/h,g=w&&p[(w-1)*y+n*h+s%h],p[r++]=(g+e)%256;break;case 3:for(s=k=0;y>k;s=k+=1)e=t[m++],n=(s-s%h)/h,o=h>s?0:p[r-h],g=w&&p[(w-1)*y+n*h+s%h],p[r++]=(e+Math.floor((o+g)/2))%256;break;case 4:for(s=_=0;y>_;s=_+=1)e=t[m++],n=(s-s%h)/h,o=h>s?0:p[r-h],0===w?g=v=0:(g=p[(w-1)*y+n*h+s%h],v=n&&p[(w-1)*y+(n-1)*h+s%h]),u=o+g-v,c=Math.abs(u-o),f=Math.abs(u-g),d=Math.abs(u-v),l=f>=c&&d>=c?o:d>=f?g:v,p[r++]=(e+l)%256;break;default:throw new Error(\"Invalid filter algorithm: \"+t[m-1])}w++}return p},e.prototype.decodePalette=function(){var t,e,r,n,s,o,i,a,u,c;for(n=this.palette,i=this.transparency.indexed||[],o=new Uint8Array((i.length||0)+n.length),s=0,r=n.length,t=0,e=a=0,u=n.length;u>a;e=a+=3)o[s++]=n[e],o[s++]=n[e+1],o[s++]=n[e+2],o[s++]=null!=(c=i[t++])?c:255;return o},e.prototype.copyToImageData=function(t,e){var r,n,s,o,i,a,u,c,l,f,d;if(n=this.colors,l=null,r=this.hasAlphaChannel,this.palette.length&&(l=null!=(d=this._decodedPalette)?d:this._decodedPalette=this.decodePalette(),n=4,r=!0),s=t.data||t,c=s.length,i=l||e,o=a=0,1===n)for(;c>o;)u=l?4*e[o/4]:a,f=i[u++],s[o++]=f,s[o++]=f,s[o++]=f,s[o++]=r?i[u++]:255,a=u;else for(;c>o;)u=l?4*e[o/4]:a,s[o++]=i[u++],s[o++]=i[u++],s[o++]=i[u++],s[o++]=r?i[u++]:255,a=u},e.prototype.decode=function(){var t;return t=new Uint8Array(this.width*this.height*4),this.copyToImageData(t,this.decodePixels()),t};try{c=t.document.createElement(\"canvas\"),l=c.getContext(\"2d\")}catch(f){return-1}return u=function(t){var e;return l.width=t.width,l.height=t.height,l.clearRect(0,0,t.width,t.height),l.putImageData(t,0,0),e=new Image,e.src=c.toDataURL(),e},e.prototype.decodeFrames=function(t){var e,r,n,s,o,i,a,c;if(this.animation){for(a=this.animation.frames,c=[],r=o=0,i=a.length;i>o;r=++o)e=a[r],n=t.createImageData(e.width,e.height),s=this.decodePixels(new Uint8Array(e.data)),this.copyToImageData(n,s),e.imageData=n,c.push(e.image=u(n));return c}},e.prototype.renderFrame=function(t,e){var r,o,i;return o=this.animation.frames,r=o[e],i=o[e-1],0===e&&t.clearRect(0,0,this.width,this.height),(null!=i?i.disposeOp:void 0)===s?t.clearRect(i.xOffset,i.yOffset,i.width,i.height):(null!=i?i.disposeOp:void 0)===a&&t.putImageData(i.imageData,i.xOffset,i.yOffset),r.blendOp===n&&t.clearRect(r.xOffset,r.yOffset,r.width,r.height),t.drawImage(r.image,r.xOffset,r.yOffset)},e.prototype.animate=function(t){var e,r,n,s,o,i,a=this;return r=0,i=this.animation,s=i.numFrames,n=i.frames,o=i.numPlays,(e=function(){var i,u;return i=r++%s,u=n[i],a.renderFrame(t,i),s>1&&o>r/s?a.animation._timeout=setTimeout(e,u.delay):void 0})()},e.prototype.stopAnimation=function(){var t;return clearTimeout(null!=(t=this.animation)?t._timeout:void 0)},e.prototype.render=function(t){var e,r;return t._png&&t._png.stopAnimation(),t._png=this,t.width=this.width,t.height=this.height,e=t.getContext(\"2d\"),this.animation?(this.decodeFrames(e),this.animate(e)):(r=e.createImageData(this.width,this.height),this.copyToImageData(r,this.decodePixels()),e.putImageData(r,0,0))},e}(),t.PNG=e}(\"undefined\"!=typeof window&&window||this);var o=function(){function t(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return t.prototype={ensureBuffer:function(t){var e=this.buffer,r=e?e.byteLength:0;if(r>t)return e;for(var n=512;t>n;)n<<=1;for(var s=new Uint8Array(n),o=0;r>o;++o)s[o]=e[o];return this.buffer=s},getByte:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(t){var e=this.pos;if(t){this.ensureBuffer(e+t);for(var r=e+t;!this.eof&&this.bufferLength<r;)this.readBlock();var n=this.bufferLength;r>n&&(r=n)}else{for(;!this.eof;)this.readBlock();var r=this.bufferLength}return this.pos=r,this.buffer.subarray(e,r)},lookChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(t,e,r){for(var n=t+e;this.bufferLength<=n&&!this.eof;)this.readBlock();return new Stream(this.buffer,t,e,r)},skip:function(t){t||(t=1),this.pos+=t},reset:function(){this.pos=0}},t}(),i=function(){function t(t){throw new Error(t)}function e(e){var r=0,n=e[r++],s=e[r++];(-1==n||-1==s)&&t(\"Invalid header in flate stream\"),8!=(15&n)&&t(\"Unknown compression method in flate stream\"),((n<<8)+s)%31!=0&&t(\"Bad FCHECK in flate stream\"),32&s&&t(\"FDICT bit set in flate stream\"),this.bytes=e,this.bytesPos=r,this.codeSize=0,this.codeBuf=0,o.call(this)}if(\"undefined\"==typeof Uint32Array)return void 0;var r=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),n=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),s=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),i=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],a=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];\nreturn e.prototype=Object.create(o.prototype),e.prototype.getBits=function(e){for(var r,n=this.codeSize,s=this.codeBuf,o=this.bytes,i=this.bytesPos;e>n;)\"undefined\"==typeof(r=o[i++])&&t(\"Bad encoding in flate stream\"),s|=r<<n,n+=8;return r=s&(1<<e)-1,this.codeBuf=s>>e,this.codeSize=n-=e,this.bytesPos=i,r},e.prototype.getCode=function(e){for(var r=e[0],n=e[1],s=this.codeSize,o=this.codeBuf,i=this.bytes,a=this.bytesPos;n>s;){var u;\"undefined\"==typeof(u=i[a++])&&t(\"Bad encoding in flate stream\"),o|=u<<s,s+=8}var c=r[o&(1<<n)-1],l=c>>16,f=65535&c;return(0==s||l>s||0==l)&&t(\"Bad encoding in flate stream\"),this.codeBuf=o>>l,this.codeSize=s-l,this.bytesPos=a,f},e.prototype.generateHuffmanTable=function(t){for(var e=t.length,r=0,n=0;e>n;++n)t[n]>r&&(r=t[n]);for(var s=1<<r,o=new Uint32Array(s),i=1,a=0,u=2;r>=i;++i,a<<=1,u<<=1)for(var c=0;e>c;++c)if(t[c]==i){for(var l=0,f=a,n=0;i>n;++n)l=l<<1|1&f,f>>=1;for(var n=l;s>n;n+=u)o[n]=i<<16|c;++a}return[o,r]},e.prototype.readBlock=function(){function e(t,e,r,n,s){for(var o=t.getBits(r)+n;o-->0;)e[k++]=s}var o=this.getBits(3);if(1&o&&(this.eof=!0),o>>=1,0==o){var u,c=this.bytes,l=this.bytesPos;\"undefined\"==typeof(u=c[l++])&&t(\"Bad block header in flate stream\");var f=u;\"undefined\"==typeof(u=c[l++])&&t(\"Bad block header in flate stream\"),f|=u<<8,\"undefined\"==typeof(u=c[l++])&&t(\"Bad block header in flate stream\");var d=u;\"undefined\"==typeof(u=c[l++])&&t(\"Bad block header in flate stream\"),d|=u<<8,d!=(65535&~f)&&t(\"Bad uncompressed block length in flate stream\"),this.codeBuf=0,this.codeSize=0;var h=this.bufferLength,p=this.ensureBuffer(h+f),m=h+f;this.bufferLength=m;for(var w=h;m>w;++w){if(\"undefined\"==typeof(u=c[l++])){this.eof=!0;break}p[w]=u}return this.bytesPos=l,void 0}var y,g;if(1==o)y=i,g=a;else if(2==o){for(var v=this.getBits(5)+257,b=this.getBits(5)+1,q=this.getBits(4)+4,x=Array(r.length),k=0;q>k;)x[r[k++]]=this.getBits(3);for(var _=this.generateHuffmanTable(x),A=0,k=0,C=v+b,S=new Array(C);C>k;){var E=this.getCode(_);16==E?e(this,S,2,3,A):17==E?e(this,S,3,3,A=0):18==E?e(this,S,7,11,A=0):S[k++]=A=E}y=this.generateHuffmanTable(S.slice(0,v)),g=this.generateHuffmanTable(S.slice(v,C))}else t(\"Unknown block type in flate stream\");for(var p=this.buffer,z=p?p.length:0,I=this.bufferLength;;){var T=this.getCode(y);if(256>T)I+1>=z&&(p=this.ensureBuffer(I+1),z=p.length),p[I++]=T;else{if(256==T)return this.bufferLength=I,void 0;T-=257,T=n[T];var B=T>>16;B>0&&(B=this.getBits(B));var A=(65535&T)+B;T=this.getCode(g),T=s[T],B=T>>16,B>0&&(B=this.getBits(B));var O=(65535&T)+B;I+A>=z&&(p=this.ensureBuffer(I+A),z=p.length);for(var P=0;A>P;++P,++I)p[I]=p[I-O]}}},e}();!function(t){var e=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\"undefined\"==typeof t.btoa&&(t.btoa=function(t){var r,n,s,o,i,a,u,c,l=0,f=0,d=\"\",h=[];if(!t)return t;do r=t.charCodeAt(l++),n=t.charCodeAt(l++),s=t.charCodeAt(l++),c=r<<16|n<<8|s,o=c>>18&63,i=c>>12&63,a=c>>6&63,u=63&c,h[f++]=e.charAt(o)+e.charAt(i)+e.charAt(a)+e.charAt(u);while(l<t.length);d=h.join(\"\");var p=t.length%3;return(p?d.slice(0,p-3):d)+\"===\".slice(p||3)}),\"undefined\"==typeof t.atob&&(t.atob=function(t){var r,n,s,o,i,a,u,c,l=0,f=0,d=\"\",h=[];if(!t)return t;t+=\"\";do o=e.indexOf(t.charAt(l++)),i=e.indexOf(t.charAt(l++)),a=e.indexOf(t.charAt(l++)),u=e.indexOf(t.charAt(l++)),c=o<<18|i<<12|a<<6|u,r=c>>16&255,n=c>>8&255,s=255&c,h[f++]=64==a?String.fromCharCode(r):64==u?String.fromCharCode(r,n):String.fromCharCode(r,n,s);while(l<t.length);return d=h.join(\"\")}),Array.prototype.map||(Array.prototype.map=function(t){if(void 0===this||null===this||\"function\"!=typeof t)throw new TypeError;for(var e=Object(this),r=e.length>>>0,n=new Array(r),s=arguments.length>1?arguments[1]:void 0,o=0;r>o;o++)o in e&&(n[o]=t.call(s,e[o],o,e));return n}),Array.isArray||(Array.isArray=function(t){return\"[object Array]\"===Object.prototype.toString.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){\"use strict\";if(void 0===this||null===this||\"function\"!=typeof t)throw new TypeError;for(var r=Object(this),n=r.length>>>0,s=0;n>s;s++)s in r&&t.call(e,r[s],s,r)}),Object.keys||(Object.keys=function(){\"use strict\";var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable(\"toString\"),r=[\"toString\",\"toLocaleString\",\"valueOf\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"constructor\"],n=r.length;return function(s){if(\"object\"!=typeof s&&(\"function\"!=typeof s||null===s))throw new TypeError;var o,i,a=[];for(o in s)t.call(s,o)&&a.push(o);if(e)for(i=0;n>i;i++)t.call(s,r[i])&&a.push(r[i]);return a}}()),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\\s+|\\s+$/g,\"\")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\\s+/g,\"\")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\\s+$/g,\"\")})}(\"undefined\"!=typeof self&&self||\"undefined\"!=typeof window&&window||this)}({},function(){return this}());\n","/**\n * For parsing color values.\n * @module RGBColor\n * @author Stoyan Stefanov <sstoo@gmail.com>\n * @see https://www.phpied.com/rgb-color-parser-in-javascript/\n * @license MIT\n*/\nconst simpleColors = {\n  aliceblue: 'f0f8ff',\n  antiquewhite: 'faebd7',\n  aqua: '00ffff',\n  aquamarine: '7fffd4',\n  azure: 'f0ffff',\n  beige: 'f5f5dc',\n  bisque: 'ffe4c4',\n  black: '000000',\n  blanchedalmond: 'ffebcd',\n  blue: '0000ff',\n  blueviolet: '8a2be2',\n  brown: 'a52a2a',\n  burlywood: 'deb887',\n  cadetblue: '5f9ea0',\n  chartreuse: '7fff00',\n  chocolate: 'd2691e',\n  coral: 'ff7f50',\n  cornflowerblue: '6495ed',\n  cornsilk: 'fff8dc',\n  crimson: 'dc143c',\n  cyan: '00ffff',\n  darkblue: '00008b',\n  darkcyan: '008b8b',\n  darkgoldenrod: 'b8860b',\n  darkgray: 'a9a9a9',\n  darkgreen: '006400',\n  darkkhaki: 'bdb76b',\n  darkmagenta: '8b008b',\n  darkolivegreen: '556b2f',\n  darkorange: 'ff8c00',\n  darkorchid: '9932cc',\n  darkred: '8b0000',\n  darksalmon: 'e9967a',\n  darkseagreen: '8fbc8f',\n  darkslateblue: '483d8b',\n  darkslategray: '2f4f4f',\n  darkturquoise: '00ced1',\n  darkviolet: '9400d3',\n  deeppink: 'ff1493',\n  deepskyblue: '00bfff',\n  dimgray: '696969',\n  dodgerblue: '1e90ff',\n  feldspar: 'd19275',\n  firebrick: 'b22222',\n  floralwhite: 'fffaf0',\n  forestgreen: '228b22',\n  fuchsia: 'ff00ff',\n  gainsboro: 'dcdcdc',\n  ghostwhite: 'f8f8ff',\n  gold: 'ffd700',\n  goldenrod: 'daa520',\n  gray: '808080',\n  green: '008000',\n  greenyellow: 'adff2f',\n  honeydew: 'f0fff0',\n  hotpink: 'ff69b4',\n  indianred: 'cd5c5c',\n  indigo: '4b0082',\n  ivory: 'fffff0',\n  khaki: 'f0e68c',\n  lavender: 'e6e6fa',\n  lavenderblush: 'fff0f5',\n  lawngreen: '7cfc00',\n  lemonchiffon: 'fffacd',\n  lightblue: 'add8e6',\n  lightcoral: 'f08080',\n  lightcyan: 'e0ffff',\n  lightgoldenrodyellow: 'fafad2',\n  lightgrey: 'd3d3d3',\n  lightgreen: '90ee90',\n  lightpink: 'ffb6c1',\n  lightsalmon: 'ffa07a',\n  lightseagreen: '20b2aa',\n  lightskyblue: '87cefa',\n  lightslateblue: '8470ff',\n  lightslategray: '778899',\n  lightsteelblue: 'b0c4de',\n  lightyellow: 'ffffe0',\n  lime: '00ff00',\n  limegreen: '32cd32',\n  linen: 'faf0e6',\n  magenta: 'ff00ff',\n  maroon: '800000',\n  mediumaquamarine: '66cdaa',\n  mediumblue: '0000cd',\n  mediumorchid: 'ba55d3',\n  mediumpurple: '9370d8',\n  mediumseagreen: '3cb371',\n  mediumslateblue: '7b68ee',\n  mediumspringgreen: '00fa9a',\n  mediumturquoise: '48d1cc',\n  mediumvioletred: 'c71585',\n  midnightblue: '191970',\n  mintcream: 'f5fffa',\n  mistyrose: 'ffe4e1',\n  moccasin: 'ffe4b5',\n  navajowhite: 'ffdead',\n  navy: '000080',\n  oldlace: 'fdf5e6',\n  olive: '808000',\n  olivedrab: '6b8e23',\n  orange: 'ffa500',\n  orangered: 'ff4500',\n  orchid: 'da70d6',\n  palegoldenrod: 'eee8aa',\n  palegreen: '98fb98',\n  paleturquoise: 'afeeee',\n  palevioletred: 'd87093',\n  papayawhip: 'ffefd5',\n  peachpuff: 'ffdab9',\n  peru: 'cd853f',\n  pink: 'ffc0cb',\n  plum: 'dda0dd',\n  powderblue: 'b0e0e6',\n  purple: '800080',\n  red: 'ff0000',\n  rosybrown: 'bc8f8f',\n  royalblue: '4169e1',\n  saddlebrown: '8b4513',\n  salmon: 'fa8072',\n  sandybrown: 'f4a460',\n  seagreen: '2e8b57',\n  seashell: 'fff5ee',\n  sienna: 'a0522d',\n  silver: 'c0c0c0',\n  skyblue: '87ceeb',\n  slateblue: '6a5acd',\n  slategray: '708090',\n  snow: 'fffafa',\n  springgreen: '00ff7f',\n  steelblue: '4682b4',\n  tan: 'd2b48c',\n  teal: '008080',\n  thistle: 'd8bfd8',\n  tomato: 'ff6347',\n  turquoise: '40e0d0',\n  violet: 'ee82ee',\n  violetred: 'd02090',\n  wheat: 'f5deb3',\n  white: 'ffffff',\n  whitesmoke: 'f5f5f5',\n  yellow: 'ffff00',\n  yellowgreen: '9acd32'\n};\n\n// array of color definition objects\nconst colorDefs = [\n  {\n    re: /^rgb\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,\n    // re: /^rgb\\((?<r>\\d{1,3}),\\s*(?<g>\\d{1,3}),\\s*(?<b>\\d{1,3})\\)$/,\n    example: ['rgb(123, 234, 45)', 'rgb(255,234,245)'],\n    process (_, ...bits) {\n      return bits.map((b) => Number.parseInt(b));\n    }\n  },\n  {\n    re: /^(\\w{2})(\\w{2})(\\w{2})$/,\n    // re: /^(?<r>\\w{2})(?<g>\\w{2})(?<b>\\w{2})$/,\n    example: ['#00ff00', '336699'],\n    process (_, ...bits) {\n      return bits.map((b) => Number.parseInt(b, 16));\n    }\n  },\n  {\n    re: /^(\\w)(\\w)(\\w)$/,\n    // re: /^(?<r>\\w{1})(?<g>\\w{1})(?<b>\\w{1})$/,\n    example: ['#fb0', 'f0f'],\n    process (_, ...bits) {\n      return bits.map((b) => Number.parseInt(b + b, 16));\n    }\n  }\n];\n\n/**\n * A class to parse color values.\n */\nexport default class RGBColor {\n  /**\n  * @param {string} colorString\n  */\n  constructor (colorString) {\n    this.ok = false;\n\n    // strip any leading #\n    if (colorString.charAt(0) === '#') { // remove # if any\n      colorString = colorString.substr(1, 6);\n    }\n\n    colorString = colorString.replace(/ /g, '');\n    colorString = colorString.toLowerCase();\n\n    // before getting into regexps, try simple matches\n    // and overwrite the input\n    if (colorString in simpleColors) {\n      colorString = simpleColors[colorString];\n    }\n    // end of simple type-in colors\n\n    // search through the definitions to find a match\n\n    colorDefs.forEach(({re, process: processor}) => {\n      const bits = re.exec(colorString);\n      if (bits) {\n        const [r, g, b] = processor(...bits);\n        Object.assign(this, {r, g, b});\n        this.ok = true;\n      }\n    });\n\n    // validate/cleanup values\n    this.r = (this.r < 0 || isNaN(this.r)) ? 0 : ((this.r > 255) ? 255 : this.r);\n    this.g = (this.g < 0 || isNaN(this.g)) ? 0 : ((this.g > 255) ? 255 : this.g);\n    this.b = (this.b < 0 || isNaN(this.b)) ? 0 : ((this.b > 255) ? 255 : this.b);\n  }\n\n  // some getters\n  /**\n  * @returns {string}\n  */\n  toRGB () {\n    return 'rgb(' + this.r + ', ' + this.g + ', ' + this.b + ')';\n  }\n\n  /**\n  * @returns {string}\n  */\n  toHex () {\n    let r = this.r.toString(16);\n    let g = this.g.toString(16);\n    let b = this.b.toString(16);\n    if (r.length === 1) { r = '0' + r; }\n    if (g.length === 1) { g = '0' + g; }\n    if (b.length === 1) { b = '0' + b; }\n    return '#' + r + g + b;\n  }\n\n  /**\n  * Offers a bulleted list of help.\n  * @returns {HTMLUListElement}\n  */\n  static getHelpXML () {\n    const examples = [\n      // add regexps\n      ...colorDefs.flatMap(({example}) => {\n        return example;\n      }),\n      // add type-in colors\n      ...Object.keys(simpleColors)\n    ];\n\n    const xml = document.createElement('ul');\n    xml.setAttribute('id', 'rgbcolor-examples');\n\n    xml.append(...examples.map((example) => {\n      try {\n        const listItem = document.createElement('li');\n        const listColor = new RGBColor(example);\n        const exampleDiv = document.createElement('div');\n        exampleDiv.style.cssText = `\n  margin: 3px;\n  border: 1px solid black;\n  background: ${listColor.toHex()};\n  color: ${listColor.toHex()};`;\n        exampleDiv.append('test');\n        const listItemValue = ` ${example} -> ${listColor.toRGB()} -> ${listColor.toHex()}`;\n        listItem.append(exampleDiv, listItemValue);\n        return listItem;\n      } catch (e) {\n        return '';\n      }\n    }));\n    return xml;\n  }\n}\n","/* globals jsPDF */\n/*\n * svgToPdf.js\n *\n * Copyright 2012-2014 Florian HÃ¼lsmann <fh@cbix.de>\n * Copyright 2014 Ben Gribaudo <www.bengribaudo.com>\n *\n * This script is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This script is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this file.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport RGBColor from '../canvg/rgbcolor.js';\n\nconst jsPDFAPI = jsPDF.API;\nconst pdfSvgAttr = {\n  // allowed attributes. all others are removed from the preview.\n  g: ['stroke', 'fill', 'stroke-width'],\n  line: ['x1', 'y1', 'x2', 'y2', 'stroke', 'stroke-width'],\n  rect: ['x', 'y', 'width', 'height', 'stroke', 'fill', 'stroke-width'],\n  ellipse: ['cx', 'cy', 'rx', 'ry', 'stroke', 'fill', 'stroke-width'],\n  circle: ['cx', 'cy', 'r', 'stroke', 'fill', 'stroke-width'],\n  polygon: ['points', 'stroke', 'fill', 'stroke-width'],\n  // polyline attributes are the same as those of polygon\n  path: ['d', 'stroke', 'fill', 'stroke-width'],\n  text: ['x', 'y', 'font-size', 'font-family', 'text-anchor', 'font-weight', 'font-style', 'fill']\n};\n\nconst attributeIsNotEmpty = function (node, attr) {\n  const attVal = attr ? node.getAttribute(attr) : node;\n  return attVal !== '' && attVal !== null && attVal !== 'null';\n};\n\nconst nodeIs = function (node, possible) {\n  return possible.includes(node.tagName.toLowerCase());\n};\n\nconst removeAttributes = function (node, attributes) {\n  const toRemove = [];\n  [].forEach.call(node.attributes, function (a) {\n    if (attributeIsNotEmpty(a) && !attributes.includes(a.name.toLowerCase())) {\n      toRemove.push(a.name);\n    }\n  });\n\n  toRemove.forEach((a) => {\n    node.removeAttribute(a.name);\n  });\n};\n\nconst numRgx = /[+-]?(?:\\d+\\.\\d*|\\d+|\\.\\d+)(?:[eE]\\d+|[eE][+-]\\d+|)/g;\nconst getLinesOptionsOfPoly = function (node) {\n  let nums = node.getAttribute('points');\n  nums = (nums && nums.match(numRgx)) || [];\n  if (nums && nums.length) {\n    nums = nums.map((n) => Number(n));\n    if (nums.length % 2) {\n      nums.length--;\n    }\n  }\n  if (nums.length < 4) {\n    console.log('invalid points attribute:', node); // eslint-disable-line no-console\n    return undefined;\n  }\n  const [x, y] = nums, lines = [];\n  for (let i = 2; i < nums.length; i += 2) {\n    lines.push([nums[i] - nums[i - 2], nums[i + 1] - nums[i - 1]]);\n  }\n  return {x, y, lines};\n};\n\nconst getLinesOptionsOfPath = function (node) {\n  const segList = node.pathSegList, n = segList.numberOfItems, opsList = [];\n  let ops = {\n    lines: []\n  };\n  const curr = {x: 0, y: 0};\n  const reflectControl = {x: 0, y: 0};\n  const toRelative = function (nums, relativeTo) {\n    const re = [];\n    for (let i = 0; i < nums.length - 1; i += 2) {\n      re[i] = nums[i] - relativeTo.x;\n      re[i + 1] = nums[i + 1] - relativeTo.y;\n    }\n    return re;\n  };\n  const curveQToC = function (nums) {\n    const a = 2 / 3;\n    const re = [\n      nums[0] * a,\n      nums[1] * a,\n      nums[2] + (nums[0] - nums[2]) * a,\n      nums[3] + (nums[1] - nums[3]) * a,\n      nums[2],\n      nums[3]\n    ];\n    return re;\n  };\n  for (let i = 0, letterPrev; i < n; i++) {\n    const seg = segList.getItem(i);\n    const {x1, y1, x2, y2, x, y, pathSegTypeAsLetter: letter} = seg;\n    const isRelative = letter >= 'a'; // lowercase letter\n    switch (letter) {\n    case 'M':\n    case 'm': {\n      if (ops.lines.length && Object.prototype.hasOwnProperty.call(ops, 'x')) {\n        opsList.push(ops);\n      }\n      ops = {\n        lines: [],\n        x: isRelative ? x + curr.x : x,\n        y: isRelative ? y + curr.y : y,\n        closed: false\n      };\n      ops.closed = false;\n      break;\n    }\n    case 'L': {\n      ops.lines.push(toRelative([x, y], curr));\n      break;\n    }\n    case 'l': {\n      ops.lines.push([x, y]);\n      break;\n    }\n    case 'H': {\n      ops.lines.push([x - curr.x, 0]);\n      break;\n    }\n    case 'h': {\n      ops.lines.push([x, 0]);\n      break;\n    }\n    case 'V': {\n      ops.lines.push([0, y - curr.y]);\n      break;\n    }\n    case 'v': {\n      ops.lines.push([0, y]);\n      break;\n    }\n    case 'Q': {\n      ops.lines.push(curveQToC(toRelative([x1, y1, x, y], curr)));\n      reflectControl.x = x - x1;\n      reflectControl.y = y - y1;\n      break;\n    }\n    case 'q': {\n      ops.lines.push(curveQToC([x1, y1, x, y]));\n      reflectControl.x = x - x1;\n      reflectControl.y = y - y1;\n      break;\n    }\n    case 'T': {\n      const p1 = letterPrev && 'QqTt'.includes(letterPrev) ? reflectControl : {x: 0, y: 0};\n      ops.lines.push(curveQToC([p1.x, p1.y, x - curr.x, y - curr.y]));\n      reflectControl.x = x - curr.x - p1.x;\n      reflectControl.y = y - curr.y - p1.y;\n      break;\n    }\n    case 't': {\n      const p1 = letterPrev && 'QqTt'.includes(letterPrev) ? reflectControl : {x: 0, y: 0};\n      ops.lines.push([p1.x, p1.y, x, y]);\n      reflectControl.x = x - p1.x;\n      reflectControl.y = y - p1.y;\n      break;\n    }\n    case 'C': {\n      ops.lines.push(toRelative([x1, y1, x2, y2, x, y], curr));\n      break;\n    }\n    case 'c': {\n      ops.lines.push([x1, y1, x2, y2, x, y]);\n      break;\n    }\n    case 'S':\n    case 's': {\n      const p1 = letterPrev && 'CcSs'.includes(letterPrev) ? reflectControl : {x: 0, y: 0};\n      if (isRelative) {\n        ops.lines.push([p1.x, p1.y, x2, y2, x, y]);\n      } else {\n        ops.lines.push([p1.x, p1.y].concat(toRelative([x2, y2, x, y], curr)));\n      }\n      reflectControl.x = x - x2;\n      reflectControl.y = y - y2;\n      break;\n    }\n    case 'A':\n    case 'a': {\n      // Not support command 'A' and 'a' yet. Treat it as straight line instead.\n      if (isRelative) {\n        ops.lines.push([x, y]);\n      } else {\n        ops.lines.push(toRelative([x, y], curr));\n      }\n      break;\n    }\n    case 'z':\n    case 'Z': {\n      ops.closed = true;\n      break;\n    }\n    default: {\n      // throw new Error('Unknown path command ' + letter);\n      return opsList;\n    }\n    }\n    if (letter === 'Z' || letter === 'z') {\n      curr.x = ops.x;\n      curr.y = ops.y;\n    } else {\n      if (letter !== 'V' && letter !== 'v') {\n        curr.x = isRelative ? x + curr.x : x;\n      }\n      if (letter !== 'H' && letter !== 'h') {\n        curr.y = isRelative ? y + curr.y : y;\n      }\n    }\n    letterPrev = letter;\n  }\n  if (ops.lines.length && Object.prototype.hasOwnProperty.call(ops, 'x')) {\n    opsList.push(ops);\n  }\n  return opsList;\n};\n\nconst svgElementToPdf = function (element, pdf, options) {\n  // pdf is a jsPDF object\n  // console.log('options =', options);\n  const remove = (options.removeInvalid === undefined ? false : options.removeInvalid);\n  const k = (options.scale === undefined ? 1.0 : options.scale);\n  let colorMode = null;\n  [].forEach.call(element.children, function (node) {\n    // console.log('passing: ', node);\n    // let hasStrokeColor = false;\n    let hasFillColor = false;\n    let fillRGB;\n    colorMode = null;\n    if (nodeIs(node, ['g', 'line', 'rect', 'ellipse', 'circle', 'polygon', 'polyline', 'path', 'text'])) {\n      const fillColor = node.getAttribute('fill');\n      if (attributeIsNotEmpty(fillColor) && node.getAttribute('fill-opacity') !== '0') {\n        fillRGB = new RGBColor(fillColor);\n        if (fillRGB.ok) {\n          hasFillColor = true;\n          colorMode = 'F';\n        } else {\n          colorMode = null;\n        }\n      }\n    }\n    if (nodeIs(node, ['g', 'line', 'rect', 'ellipse', 'circle', 'polygon', 'polyline', 'path'])) {\n      if (hasFillColor) {\n        pdf.setFillColor(fillRGB.r, fillRGB.g, fillRGB.b);\n      }\n      if (attributeIsNotEmpty(node, 'stroke-width')) {\n        pdf.setLineWidth(k * Number.parseInt(node.getAttribute('stroke-width')));\n      }\n      const strokeColor = node.getAttribute('stroke');\n      if (attributeIsNotEmpty(strokeColor) &&\n        node.getAttribute('stroke-width') !== '0' &&\n        node.getAttribute('stroke-opacity') !== '0'\n      ) {\n        const strokeRGB = new RGBColor(strokeColor);\n        if (strokeRGB.ok) {\n          // hasStrokeColor = true;\n          pdf.setDrawColor(strokeRGB.r, strokeRGB.g, strokeRGB.b);\n          if (hasFillColor) {\n            colorMode = 'FD';\n          } else {\n            colorMode = 'S';\n          }\n        } else {\n          colorMode = null;\n        }\n      }\n    }\n    const tag = node.tagName.toLowerCase();\n    switch (tag) {\n    case 'svg':\n    case 'a':\n    case 'g':\n      svgElementToPdf(node, pdf, options);\n      removeAttributes(node, pdfSvgAttr.g);\n      break;\n    case 'line':\n      pdf.line(\n        k * Number.parseInt(node.getAttribute('x1')),\n        k * Number.parseInt(node.getAttribute('y1')),\n        k * Number.parseInt(node.getAttribute('x2')),\n        k * Number.parseInt(node.getAttribute('y2'))\n      );\n      removeAttributes(node, pdfSvgAttr.line);\n      break;\n    case 'rect':\n      pdf.rect(\n        k * Number.parseInt(node.getAttribute('x')),\n        k * Number.parseInt(node.getAttribute('y')),\n        k * Number.parseInt(node.getAttribute('width')),\n        k * Number.parseInt(node.getAttribute('height')),\n        colorMode\n      );\n      removeAttributes(node, pdfSvgAttr.rect);\n      break;\n    case 'ellipse':\n      pdf.ellipse(\n        k * Number.parseInt(node.getAttribute('cx')),\n        k * Number.parseInt(node.getAttribute('cy')),\n        k * Number.parseInt(node.getAttribute('rx')),\n        k * Number.parseInt(node.getAttribute('ry')),\n        colorMode\n      );\n      removeAttributes(node, pdfSvgAttr.ellipse);\n      break;\n    case 'circle':\n      pdf.circle(\n        k * Number.parseInt(node.getAttribute('cx')),\n        k * Number.parseInt(node.getAttribute('cy')),\n        k * Number.parseInt(node.getAttribute('r')),\n        colorMode\n      );\n      removeAttributes(node, pdfSvgAttr.circle);\n      break;\n    case 'polygon':\n    case 'polyline': {\n      const linesOptions = getLinesOptionsOfPoly(node);\n      if (linesOptions) {\n        pdf.lines(\n          linesOptions.lines,\n          k * linesOptions.x,\n          k * linesOptions.y,\n          [k, k],\n          colorMode,\n          tag === 'polygon' // polygon is closed, polyline is not closed\n        );\n      }\n      removeAttributes(node, pdfSvgAttr.polygon);\n      break;\n    } case 'path': {\n      if (colorMode) {\n        const linesOptionsList = getLinesOptionsOfPath(node);\n        if (linesOptionsList.length > 0) {\n          linesOptionsList.forEach(function (linesOptions) {\n            pdf.lines(\n              linesOptions.lines,\n              k * linesOptions.x,\n              k * linesOptions.y,\n              [k, k],\n              null,\n              linesOptions.closed\n            );\n          });\n          // svg fill rule default is nonzero\n          const fillRule = node.getAttribute('fill-rule');\n          if (fillRule === 'evenodd') {\n            // f* : fill using even-odd rule\n            // B* : stroke and fill using even-odd rule\n            if (colorMode === 'F') {\n              colorMode = 'f*';\n            } else if (colorMode === 'FD') {\n              colorMode = 'B*';\n            }\n          }\n          pdf.internal.write(pdf.internal.getStyle(colorMode));\n        }\n      }\n      removeAttributes(node, pdfSvgAttr.path);\n      break;\n    } case 'text': {\n      if (node.hasAttribute('font-family')) {\n        switch ((node.getAttribute('font-family') || '').toLowerCase()) {\n        case 'serif': pdf.setFont('times'); break;\n        case 'monospace': pdf.setFont('courier'); break;\n        case 'times': pdf.setFont('times'); break;\n        case 'courier': pdf.setFont('courier'); break;\n        case 'helvetica': pdf.setFont('helvetica'); break;\n        default:\n          node.setAttribute('font-family', 'sans-serif');\n          pdf.setFont('helvetica');\n        }\n      }\n      if (hasFillColor) {\n        pdf.setTextColor(fillRGB.r, fillRGB.g, fillRGB.b);\n      }\n      let fontType = '';\n      if (node.hasAttribute('font-weight')) {\n        if (node.getAttribute('font-weight') === 'bold') {\n          fontType = 'bold';\n        } else {\n          node.removeAttribute('font-weight');\n        }\n      }\n      if (node.hasAttribute('font-style')) {\n        if (node.getAttribute('font-style') === 'italic') {\n          fontType += 'italic';\n        } else {\n          node.removeAttribute('font-style');\n        }\n      }\n      pdf.setFontType(fontType);\n      const pdfFontSize = node.hasAttribute('font-size')\n        ? Number.parseInt(node.getAttribute('font-size'))\n        : 16;\n\n      /**\n       *\n       * @param {Element} elem\n       * @returns {Float}\n       */\n      const getWidth = (elem) => {\n        let box;\n        try {\n          box = elem.getBBox(); // Firefox on MacOS will raise error here\n        } catch (err) {\n          // copy and append to body so that getBBox is available\n          const nodeCopy = elem.cloneNode(true);\n          const svg = elem.ownerSVGElement.cloneNode(false);\n          svg.appendChild(nodeCopy);\n          document.body.appendChild(svg);\n          try {\n            box = nodeCopy.getBBox();\n          } catch (error) {\n            box = {width: 0};\n          }\n          svg.remove();\n        }\n        return box.width;\n      };\n      // TODO: use more accurate positioning!!\n      let x, y, xOffset = 0;\n      if (node.hasAttribute('text-anchor')) {\n        switch (node.getAttribute('text-anchor')) {\n        case 'end': xOffset = getWidth(node); break;\n        case 'middle': xOffset = getWidth(node) / 2; break;\n        case 'start': break;\n        case 'default': node.setAttribute('text-anchor', 'start'); break;\n        }\n        x = Number.parseInt(node.getAttribute('x')) - xOffset;\n        y = Number.parseInt(node.getAttribute('y'));\n      }\n      // console.log('fontSize:', pdfFontSize, 'text:', node.textContent);\n      pdf.setFontSize(pdfFontSize).text(\n        k * x,\n        k * y,\n        node.textContent\n      );\n      removeAttributes(node, pdfSvgAttr.text);\n      break;\n    // TODO: image\n    } default:\n      if (remove) {\n        console.log(\"can't translate to pdf:\", node); // eslint-disable-line no-console\n        node.remove();\n      }\n    }\n  });\n  return pdf;\n};\n\njsPDFAPI.addSVG = function (element, x, y, options) {\n  options = (options === undefined ? {} : options);\n  options.x_offset = x;\n  options.y_offset = y;\n\n  if (typeof element === 'string') {\n    element = new DOMParser().parseFromString(element, 'text/xml').documentElement;\n  }\n  svgElementToPdf(element, this, options);\n  return this;\n};\n"],"names":["check","it","Math","globalThis","window","self","global","Function","exec","error","fails","Object","defineProperty","get","nativePropertyIsEnumerable","propertyIsEnumerable","getOwnPropertyDescriptor","NASHORN_BUG","call","V","descriptor","enumerable","bitmap","value","configurable","writable","toString","slice","split","classof","undefined","TypeError","IndexedObject","requireObjectCoercible","input","PREFERRED_STRING","isObject","fn","val","valueOf","hasOwnProperty","key","document","EXISTS","createElement","DESCRIPTORS","a","nativeGetOwnPropertyDescriptor","O","P","toIndexedObject","toPrimitive","IE8_DOM_DEFINE","has","createPropertyDescriptor","propertyIsEnumerableModule","f","String","nativeDefineProperty","Attributes","anObject","object","definePropertyModule","createNonEnumerableProperty","SHARED","store","setGlobal","functionToString","inspectSource","WeakMap","test","module","push","version","mode","copyright","id","postfix","random","keys","shared","uid","set","enforce","getterFor","TYPE","state","type","NATIVE_WEAK_MAP","wmget","wmhas","wmset","metadata","STATE","sharedKey","hiddenKeys","objectHas","getInternalState","InternalStateModule","enforceInternalState","TEMPLATE","options","unsafe","simple","noTargetGet","source","join","prototype","aFunction","variable","namespace","method","arguments","length","path","ceil","floor","argument","isNaN","min","toInteger","max","index","integer","createMethod","IS_INCLUDES","$this","el","fromIndex","toLength","toAbsoluteIndex","includes","indexOf","require$$0","names","i","result","enumBugKeys","concat","getOwnPropertyNames","internalObjectKeys","getOwnPropertySymbols","getBuiltIn","ownKeys","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","target","getOwnPropertyDescriptorModule","replacement","isForced","feature","detection","data","normalize","POLYFILL","NATIVE","string","replace","toLowerCase","TARGET","GLOBAL","STATIC","stat","FORCED","targetProperty","sourceProperty","forced","copyConstructorProperties","sham","redefine","Symbol","NATIVE_SYMBOL","iterator","Array","isArray","arg","defineProperties","Properties","objectKeys","GT","LT","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","content","NullProtoObjectViaActiveX","activeXDocument","write","close","temp","parentWindow","NullProtoObjectViaIFrame","iframe","documentCreateElement","JS","iframeDocument","style","display","html","appendChild","src","contentWindow","open","F","NullProtoObject","domain","ActiveXObject","create","nativeGetOwnPropertyNames","windowNames","getWindowNames","WellKnownSymbolsStore","createWellKnownSymbol","USE_SYMBOL_AS_UID","withoutSetter","name","wellKnownSymbol","NAME","wrappedWellKnownSymbolModule","TO_STRING_TAG","TAG","that","b","c","apply","SPECIES","originalArray","C","constructor","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","callbackfn","specificCreate","toObject","boundFunction","bind","arraySpeciesCreate","forEach","map","filter","some","every","find","findIndex","$forEach","HIDDEN","SYMBOL","TO_PRIMITIVE","setInternalState","ObjectPrototype","$Symbol","$stringify","getOwnPropertyNamesExternal","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","QObject","USE_SETTER","findChild","setSymbolDescriptor","nativeObjectCreate","ObjectPrototypeDescriptor","wrap","tag","description","symbol","isSymbol","$defineProperty","$defineProperties","properties","$getOwnPropertySymbols","$propertyIsEnumerable","$create","$getOwnPropertyDescriptor","$getOwnPropertyNames","IS_OBJECT_PROTOTYPE","setter","$","defineWellKnownSymbol","keyFor","sym","useSetter","useSimple","FORCED_JSON_STRINGIFY","stringify","replacer","space","args","$replacer","setToStringTag","NativeSymbol","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","native","regexp","desc","propertyKey","process","versions","v8","match","userAgent","METHOD_NAME","V8_VERSION","array","foo","Boolean","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","arrayMethodHasSpeciesSupport","isConcatSpreadable","spreadable","proto","A","n","k","len","E","createProperty","copyWithin","start","to","from","end","count","inc","UNSCOPABLES","ArrayPrototype","addToUnscopables","cache","thrower","ACCESSORS","argument0","argument1","$every","STRICT_METHOD","arrayMethodIsStrict","USES_TO_LENGTH","arrayMethodUsesToLength","fill","argumentsLength","endPos","$filter","HAS_SPECIES_SUPPORT","$find","FIND","SKIPS_HOLES","$findIndex","FIND_INDEX","flattenIntoArray","original","sourceLen","depth","mapper","thisArg","targetIndex","sourceIndex","mapFn","element","flat","depthArg","flatMap","ENTRIES","returnMethod","ITERATOR","Iterators","CORRECT_ARGUMENTS","classofRaw","tryGet","TO_STRING_TAG_SUPPORT","callee","arrayLike","mapfn","mapping","iteratorMethod","getIteratorMethod","step","next","isArrayIteratorMethod","done","callWithSafeIterationClosing","SAFE_CLOSING","called","iteratorWithReturn","SKIP_CLOSING","ITERATION_SUPPORT","INCORRECT_ITERATION","checkCorrectnessOfIteration","iterable","$includes","$indexOf","nativeIndexOf","NEGATIVE_ZERO","searchElement","getPrototypeOf","CORRECT_PROTOTYPE_GETTER","BUGGY_SAFARI_ITERATORS","returnThis","IteratorPrototype","PrototypeOfArrayIteratorPrototype","arrayIterator","IteratorConstructor","setPrototypeOf","CORRECT_SETTER","aPossiblePrototype","__proto__","IteratorsCore","KEYS","VALUES","Iterable","DEFAULT","IS_SET","createIteratorConstructor","getIterationMethod","KIND","defaultIterator","IterablePrototype","values","entries","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","CurrentIteratorPrototype","methods","KEY","ARRAY_ITERATOR","defineIterator","iterated","kind","Arguments","nativeJoin","ES3_STRINGS","separator","nativeLastIndexOf","lastIndexOf","$map","ISNT_GENERIC","of","IS_RIGHT","memo","left","right","$reduce","reduce","$reduceRight","reduceRight","nativeReverse","reverse","nativeSlice","fin","Constructor","$some","nativeSort","sort","FAILS_ON_UNDEFINED","FAILS_ON_NULL","comparefn","CONSTRUCTOR_NAME","setSpecies","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","splice","deleteCount","actualStart","insertCount","actualDeleteCount","ArrayBuffer","DataView","number","RangeError","Infinity","abs","pow","log","LN2","pack","mantissaLength","bytes","buffer","exponentLength","eMax","eBias","rt","sign","exponent","mantissa","unpack","nBits","NaN","require$$1","ARRAY_BUFFER","DATA_VIEW","WRONG_LENGTH","WRONG_INDEX","NativeArrayBuffer","$ArrayBuffer","$DataView","$DataViewPrototype","packIEEE754","IEEE754","unpackIEEE754","packInt8","packInt16","packInt32","unpackInt32","packFloat32","packFloat64","addGetter","view","isLittleEndian","intIndex","toIndex","byteLength","byteOffset","conversion","NATIVE_ARRAY_BUFFER","anInstance","arrayFill","bufferLength","offset","redefineAll","getInt8","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat32","getFloat64","setInt8","setUint8","setInt16","setUint16","setInt32","setUint32","setFloat32","setFloat64","ArrayBufferPrototype","j","testView","nativeSetInt8","arrayBufferModule","Int8Array","Int8ArrayPrototype","Uint8ClampedArray","Uint8ClampedArrayPrototype","TypedArray","TypedArrayPrototype","isPrototypeOf","TYPED_ARRAY_TAG","NATIVE_ARRAY_BUFFER_VIEWS","opera","TYPED_ARRAY_TAG_REQIRED","TypedArrayConstructorsList","Uint8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","isView","klass","isTypedArray","aTypedArray","aTypedArrayConstructor","ARRAY","TypedArrayConstructor","exportTypedArrayMethod","property","exportTypedArrayStaticMethod","ArrayBufferViewCore","defaultConstructor","S","ArrayBufferModule","nativeArrayBufferSlice","INCORRECT_SLICE","first","speciesConstructor","viewSource","viewTarget","now","Date","getTime","repeat","str","IS_END","maxLength","fillString","stringLength","fillStr","intMaxLength","fillLen","stringFiller","padStart","DatePrototype","nativeDateToISOString","toISOString","isFinite","date","year","getUTCFullYear","milliseconds","getUTCMilliseconds","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","toJSON","pv","hint","dateToPrimitive","INVALID_DATE","TO_STRING","nativeDateToString","factories","construct","argsLength","list","partArgs","bound","HAS_INSTANCE","FunctionPrototype","FunctionPrototypeToString","nameRE","re","low","hi","fix","prev","charAt","charCodeAt","JSON","isExtensible","preventExtensions","METADATA","setMetadata","objectID","weakData","fastKey","getWeakData","onFreeze","FREEZING","meta","REQUIRED","Result","stopped","iterate","AS_ENTRIES","IS_ITERATOR","iterFn","stop","dummy","Wrapper","NewTarget","NewTargetPrototype","wrapper","common","IS_WEAK","ADDER","NativeConstructor","NativePrototype","exported","fixMethod","nativeMethod","add","getConstructor","InternalMetadataModule","instance","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","inheritIfRequired","clear","setStrong","internalStateGetterFor","last","size","define","entry","getEntry","previous","removed","ITERATOR_NAME","getInternalCollectionState","getInternalIteratorState","collection","init","Map","collectionStrong","log1p","x","nativeAcosh","acosh","sqrt","Number","MAX_VALUE","nativeAsinh","asinh","nativeAtanh","atanh","cbrt","LOG2E","clz32","nativeExpm1","expm1","exp","nativeCosh","cosh","t","EPSILON","EPSILON32","MAX32","MIN32","roundTiesToEven","fround","$abs","$sign","$hypot","hypot","BUGGY","value1","value2","sum","aLen","larg","div","nativeImul","imul","y","UINT16","xn","yn","xl","yl","LOG10E","log10","log2","sinh","tanh","trunc","whitespace","whitespaces","ltrim","RegExp","rtrim","trim","require$$2","require$$3","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","third","radix","maxCode","digits","code","parseInt","NumberWrapper","globalIsFinite","numberIsFinite","isInteger","isSafeInteger","MIN_SAFE_INTEGER","$parseFloat","parseFloat","trimmedString","$parseInt","hex","nativeToFixed","toFixed","acc","x2","fractionDigits","thisNumberValue","fractDigits","e","z","multiply","c2","divide","dataToString","s","nativeToPrecision","toPrecision","precision","nativeAssign","assign","B","alphabet","chr","T","__defineSetter__","__defineGetter__","getter","objectDefinePropertyModile","TO_ENTRIES","$entries","nativeFreeze","freeze","FAILS_ON_PRIMITIVES","fromEntries","obj","v","getOwnPropertyDescriptors","nativeGetPrototypeOf","is","nativeIsExtensible","nativeIsFrozen","isFrozen","nativeIsSealed","isSealed","nativeKeys","__lookupGetter__","__lookupSetter__","nativePreventExtensions","nativeSeal","seal","$values","parseFloatImplementation","parseIntImplementation","Promise","location","setImmediate","clearImmediate","MessageChannel","Dispatch","counter","queue","ONREADYSTATECHANGE","defer","channel","port","run","runner","listener","event","post","postMessage","protocol","host","nextTick","IS_IOS","port2","port1","onmessage","addEventListener","importScripts","removeChild","setTimeout","macrotask","MutationObserver","WebKitMutationObserver","IS_NODE","queueMicrotaskDescriptor","queueMicrotask","flush","head","notify","toggle","node","promise","then","parent","exit","enter","createTextNode","observe","characterData","resolve","task","PromiseCapability","reject","$$resolve","$$reject","promiseCapability","newPromiseCapability","console","PROMISE","getInternalPromiseState","PromiseConstructor","NativePromise","$fetch","newPromiseCapabilityModule","newGenericPromiseCapability","DISPATCH_EVENT","createEvent","dispatchEvent","UNHANDLED_REJECTION","REJECTION_HANDLED","PENDING","FULFILLED","REJECTED","HANDLED","UNHANDLED","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","GLOBAL_CORE_JS_PROMISE","PromiseRejectionEvent","FakePromise","all","isThenable","isReject","notified","chain","reactions","microtask","ok","reaction","handler","fail","exited","rejection","onHandleUnhandled","onUnhandled","reason","initEvent","hostReportErrors","IS_UNHANDLED","isUnhandled","perform","emit","unwrap","internalReject","internalResolve","executor","onFulfilled","onRejected","fetch","promiseResolve","r","capability","$promiseResolve","remaining","alreadyCalled","race","allSettled","status","NON_GENERIC","real","onFinally","isFunction","nativeApply","functionApply","OPTIONAL_ARGUMENTS_LIST","thisArgument","argumentsList","nativeConstruct","NEW_TARGET_BUG","ARGS_BUG","Target","newTarget","$args","ERROR_INSTEAD_OF_FALSE","Reflect","attributes","deleteProperty","receiver","objectGetPrototypeOf","objectIsExtensible","objectPreventExtensions","ownDescriptor","existingDescriptor","MS_EDGE_BUG","objectSetPrototypeOf","MATCH","isRegExp","ignoreCase","multiline","dotAll","unicode","sticky","RE","lastIndex","NativeRegExp","RegExpPrototype","re1","re2","CORRECT_NEW","UNSUPPORTED_Y","stickyHelpers","RegExpWrapper","pattern","flags","thisIsRegExp","patternIsRegExp","flagsAreUndefined","getFlags","proxy","nativeExec","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","BROKEN_CARET","NPCG_INCLUDED","PATCH","reCopy","regexpFlags","charsAdded","strCopy","objectDefinePropertyModule","regExpFlags","DELEGATES_TO_EXEC","execCalled","nativeTest","Error","nativeToString","NOT_GENERIC","INCORRECT_NAME","R","p","rf","Set","CONVERT_TO_STRING","pos","position","second","codeAt","codePointAt","nativeEndsWith","endsWith","CORRECT_IS_REGEXP_LOGIC","correctIsRegExpLogic","MDN_POLYFILL_BUG","searchString","notARegExp","endPosition","search","fromCharCode","nativeFromCodePoint","fromCodePoint","INCORRECT_LENGTH","elements","STRING_ITERATOR","point","REPLACE_SUPPORTS_NAMED_GROUPS","groups","REPLACE_KEEPS_$0","REPLACE","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","DELEGATES_TO_SYMBOL","nativeRegExpMethod","arg2","forceStringMethod","regexpExec","stringMethod","regexMethod","fixRegExpWellKnownSymbolLogic","nativeMatch","maybeCallNative","matcher","res","rx","regExpExec","fullUnicode","matchStr","advanceStringIndex","MATCH_ALL","REGEXP_STRING","REGEXP_STRING_ITERATOR","regExpBuiltinExec","nativeMatchAll","matchAll","WORKS_WITH_NON_GLOBAL_REGEX","$RegExpStringIterator","RegExpStringIterator","$matchAll","flagsValue","getRegExpFlags","IS_PURE","$padEnd","WEBKIT_BUG","padEnd","$padStart","raw","template","rawTemplate","literalSegments","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","UNSAFE_SUBSTITUTE","searchValue","replaceValue","functionalReplace","results","accumulatedResult","nextSourcePosition","matched","captures","namedCaptures","replacerArgs","getSubstitution","tailPos","m","symbols","ch","capture","SEARCH","nativeSearch","searcher","previousLastIndex","sameValue","arrayPush","MAX_UINT32","SUPPORTS_Y","SPLIT","nativeSplit","internalSplit","limit","lim","output","lastLastIndex","separatorCopy","lastLength","splitter","unicodeMatching","callRegExpExec","q","nativeStartsWith","startsWith","non","$trim","forcedStringTrimMethod","$trimEnd","trimEnd","trimRight","$trimStart","trimStart","trimLeft","quot","attribute","p1","forcedStringHTMLMethod","anchor","createHTML","big","blink","bold","fixed","fontcolor","color","fontsize","italics","link","url","small","strike","sub","sup","BYTES","toPositiveInteger","round","BYTES_PER_ELEMENT","fromList","isArrayBuffer","isTypedArrayIndex","wrappedGetOwnPropertyDescriptor","wrappedDefineProperty","CLAMPED","GETTER","SETTER","NativeTypedArrayConstructor","TypedArrayConstructorPrototype","addElement","$length","toOffset","$len","typedArrayFrom","TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS","typedArrayOffset","createTypedArrayConstructor","$copyWithin","$fill","predicate","arrayValues","ArrayIterators","arrayKeys","arrayEntries","nativeTypedArrayIterator","CORRECT_ITER_NAME","typedArrayValues","$join","$lastIndexOf","middle","$slice","$sort","subarray","begin","beginIndex","$toLocaleString","toLocaleString","TO_LOCALE_STRING_BUG","Uint8ArrayPrototype","arrayToString","arrayJoin","IS_NOT_ARRAY_METHOD","ArrayIterationModule","uncaughtFrozenStore","frozen","UncaughtFrozenStore","findUncaughtFrozen","$has","enforceIternalState","IS_IE11","InternalWeakMap","$WeakMap","collectionWeak","WeakMapPrototype","nativeDelete","nativeHas","nativeGet","nativeSet","WeakSet","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","COLLECTION_NAME","DOMIterables","Collection","CollectionPrototype","ArrayValues","ArrayIteratorMethods","isNode","URL","searchParams","pathname","href","URLSearchParams","username","hash","maxInt","base","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexNonASCII","regexSeparators","OVERFLOW_ERROR","baseMinusTMin","stringFromCharCode","ucs2decode","extra","digitToBasic","digit","adapt","delta","numPoints","firstTime","encode","inputLength","bias","currentValue","basicLength","handledCPCount","handledCPCountPlusOne","qMinusT","baseMinusT","encoded","labels","label","Headers","URL_SEARCH_PARAMS","URL_SEARCH_PARAMS_ITERATOR","getInternalParamsState","plus","sequences","percentSequence","percentDecode","sequence","decodeURIComponent","deserialize","serialize","encodeURIComponent","parseSearchParams","query","shift","updateSearchParams","validateArgumentsLength","passed","required","URLSearchParamsIterator","Iterator","params","getIterator","URLSearchParamsConstructor","entryIterator","entryNext","updateURL","hasOwn","URLSearchParamsPrototype","append","getAll","found","entriesIndex","sliceIndex","callback","USE_NATIVE_URL","body","headers","getState","NativeURL","URLSearchParamsModule","getInternalSearchParamsState","getInternalURLState","INVALID_AUTHORITY","INVALID_SCHEME","INVALID_HOST","INVALID_PORT","ALPHA","ALPHANUMERIC","DIGIT","HEX_START","OCT","DEC","HEX","FORBIDDEN_HOST_CODE_POINT","FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT","LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE","TAB_AND_NEW_LINE","EOF","parseHost","codePoints","parseIPv6","isSpecial","arrayFrom","percentEncode","C0ControlPercentEncodeSet","toASCII","parseIPv4","parts","partsLength","numbers","part","ipv4","pop","address","pieceIndex","compress","pointer","numbersSeen","ipv4Piece","swaps","swap","char","findLongestZeroSequence","ipv6","maxIndex","currStart","currLength","serializeHost","ignore0","unshift","fragmentPercentEncodeSet","pathPercentEncodeSet","userinfoPercentEncodeSet","specialSchemes","ftp","file","http","https","ws","wss","scheme","includesCredentials","password","cannotHaveUsernamePasswordPort","cannotBeABaseURL","isWindowsDriveLetter","normalized","startsWithWindowsDriveLetter","shortenURLsPath","pathSize","isSingleDot","segment","isDoubleDot","SCHEME_START","SCHEME","NO_SCHEME","SPECIAL_RELATIVE_OR_AUTHORITY","PATH_OR_AUTHORITY","RELATIVE","RELATIVE_SLASH","SPECIAL_AUTHORITY_SLASHES","SPECIAL_AUTHORITY_IGNORE_SLASHES","AUTHORITY","HOST","HOSTNAME","PORT","FILE","FILE_SLASH","FILE_HOST","PATH_START","PATH","CANNOT_BE_A_BASE_URL_PATH","QUERY","FRAGMENT","parseURL","stateOverride","seenAt","seenBracket","seenPasswordToken","bufferCodePoints","failure","fragment","codePoint","encodedCodePoints","URLConstructor","urlString","baseState","searchParamsState","serializeURL","origin","getOrigin","getProtocol","getUsername","getPassword","getHost","hostname","getHostname","getPort","getPathname","getSearch","getSearchParams","getHash","URLPrototype","accessorDescriptor","nativeCreateObjectURL","createObjectURL","nativeRevokeObjectURL","revokeObjectURL","blob","runtime","exports","Op","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","err","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","makeInvokeMethod","tryCatch","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","getProto","NativeIteratorPrototype","Gp","displayName","defineIteratorMethods","isGeneratorFunction","genFun","ctor","mark","awrap","__await","AsyncIterator","PromiseImpl","invoke","record","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","async","iter","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","info","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","skipTempReset","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","touchHandler","ev","changedTouches","screenX","screenY","clientX","clientY","simulatedEvent","MouseEvent","bubbles","cancelable","detail","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","preventDefault","NS","HTML","MATH","SE","SVG","XLINK","XML","XMLNS","getReverseNS","reverseNS","URI","SVGPathSeg","typeAsLetter","owningPathSegList","pathSegType","pathSegTypeAsLetter","_owningPathSegList","segmentChanged","classname","PATHSEG_UNKNOWN","PATHSEG_CLOSEPATH","PATHSEG_MOVETO_ABS","PATHSEG_MOVETO_REL","PATHSEG_LINETO_ABS","PATHSEG_LINETO_REL","PATHSEG_CURVETO_CUBIC_ABS","PATHSEG_CURVETO_CUBIC_REL","PATHSEG_CURVETO_QUADRATIC_ABS","PATHSEG_CURVETO_QUADRATIC_REL","PATHSEG_ARC_ABS","PATHSEG_ARC_REL","PATHSEG_LINETO_HORIZONTAL_ABS","PATHSEG_LINETO_HORIZONTAL_REL","PATHSEG_LINETO_VERTICAL_ABS","PATHSEG_LINETO_VERTICAL_REL","PATHSEG_CURVETO_CUBIC_SMOOTH_ABS","PATHSEG_CURVETO_CUBIC_SMOOTH_REL","PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS","PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL","SVGPathSegClosePath","SVGPathSegMovetoAbs","_x","_y","_segmentChanged","SVGPathSegMovetoRel","SVGPathSegLinetoAbs","SVGPathSegLinetoRel","SVGPathSegCurvetoCubicAbs","x1","y1","y2","_x1","_y1","_x2","_y2","SVGPathSegCurvetoCubicRel","SVGPathSegCurvetoQuadraticAbs","SVGPathSegCurvetoQuadraticRel","SVGPathSegArcAbs","r1","r2","angle","largeArcFlag","sweepFlag","_r1","_r2","_angle","_largeArcFlag","_sweepFlag","SVGPathSegArcRel","SVGPathSegLinetoHorizontalAbs","SVGPathSegLinetoHorizontalRel","SVGPathSegLinetoVerticalAbs","SVGPathSegLinetoVerticalRel","SVGPathSegCurvetoCubicSmoothAbs","SVGPathSegCurvetoCubicSmoothRel","SVGPathSegCurvetoQuadraticSmoothAbs","SVGPathSegCurvetoQuadraticSmoothRel","SVGPathElement","createSVGPathSegClosePath","createSVGPathSegMovetoAbs","createSVGPathSegMovetoRel","createSVGPathSegLinetoAbs","createSVGPathSegLinetoRel","createSVGPathSegCurvetoCubicAbs","createSVGPathSegCurvetoCubicRel","createSVGPathSegCurvetoQuadraticAbs","createSVGPathSegCurvetoQuadraticRel","createSVGPathSegArcAbs","createSVGPathSegArcRel","createSVGPathSegLinetoHorizontalAbs","createSVGPathSegLinetoHorizontalRel","createSVGPathSegLinetoVerticalAbs","createSVGPathSegLinetoVerticalRel","createSVGPathSegCurvetoCubicSmoothAbs","createSVGPathSegCurvetoCubicSmoothRel","createSVGPathSegCurvetoQuadraticSmoothAbs","createSVGPathSegCurvetoQuadraticSmoothRel","getPathSegAtLength","distance","measurementElement","createElementNS","setAttribute","getAttribute","lastPathSegment","pathSegList","numberOfItems","removeItem","getTotalLength","pathElement","_pathElement","_list","_parsePath","_mutationObserverConfig","attributeFilter","_pathElementMutationObserver","_updateListFromPathMutations","takeRecords","mutationRecords","hasPathMutations","attributeName","disconnect","_pathSegArrayAsString","pathSeg","_writeListToPath","_checkPathSynchronizedToList","newItem","_checkValidIndex","clone","item","Builder","Source","_string","_currentIndex","_endIndex","_previousCommand","_skipOptionalSpaces","character","_isCurrentSpace","lookahead","_pathSegTypeFromChar","previousCommand","hasMoreData","command","peekSegmentType","frac","decimal","expsign","startIndex","startIntPartIndex","scanIntPartIndex","multiplier","_skipOptionalSpacesOrDelimiter","flag","flagChar","_nextCommandHelper","_parseNumber","points","arcAngle","arcLarge","_parseArcFlag","arcSweep","builder","initialCommandIsMoveTo","parseSegment","appendSegment","pathSegArray","_asPathString","_pathSegList","normalizedPathSegList","animatedPathSegList","animatedNormalizedPathSegList","jQuery","supportsSVG_","createSVGRect","navigator","svg","isOpera_","isWebkit_","isGecko_","isIE_","isChrome_","isWindows_","isMac_","isTouch_","supportsSelectors_","querySelector","supportsXpath_","evaluate","supportsPathReplaceItem_","seglist","seg","replaceItem","supportsPathInsertItemBefore_","insertItemBefore","supportsGoodTextCharPos_","svgroot","svgcontent","documentElement","text","textContent","getStartPositionOfChar","remove","supportsPathBBox_","bbox","getBBox","height","supportsHVLineContainerBBox_","path2","g","width","supportsGoodDecimals_","rect","crect","cloneNode","retValue","alert","supportsNonScalingStroke_","vectorEffect","supportsNativeSVGTransformLists_","rxform","transform","baseVal","t1","createSVGTransform","appendItem","getItem","isSVGTransform","o","setMatrix","matrix","d","isOpera","isWebkit","isGecko","isIE","isChrome","isMac","isTouch","supportsSelectors","supportsXpath","supportsPathReplaceItem","supportsPathInsertItemBefore","supportsPathBBox","supportsHVLineContainerBBox","supportsGoodTextCharPos","supportsNonScalingStroke","supportsNativeTransformLists","jQueryPluginSVG","proxied","attr","svgns","elem","namespaceURI","aname","transformToString","xform","cx","cy","K","listMap_","_elem","_xforms","_update","tstr","_init","bits","valBits","valArr","letters","mtx","createSVGMatrix","fname","toUpperCase","_removeFromOtherLists","tl","newxforms","resetListMap","removeElementFromListMap","getTransformList","gradientTransform","patternTransform","wAttrs","hAttrs","unitAttrs","elementContainer_","typeMap_","elementContainer","bb","inch","em","ex","cm","mm","pt","pc","px","getTypeMap","shortFloat","getRoundDigits","convertUnit","unit","getBaseUnit","setUnitAttr","convertToNum","substr","num","getWidth","getHeight","isValidUnit","selectedElement","getElement","NEAR_ZERO","transformPoint","isIdentity","matrixMultiply","m1","hasMatrixTransform","tlist","transformBox","l","w","h","tr","bl","br","minx","maxx","miny","maxy","aabox","transformListToTransform","createSVGTransformFromMatrix","mtom","getMatrix","snapToAngle","snap","PI","dx","dy","atan2","dist","snapangle","cos","sin","rectsIntersect","KEYSTR","visElems","visElemsArr","editorContext_","domdoc_","domcontainer_","svgroot_","editorContext","getDOMDocument","getDOMContainer","getSVGRoot","dropXMLInternalSubset","toXml","encode64","encodeUTF8","btoa","chr1","chr2","chr3","enc1","enc2","enc3","enc4","decode64","atob","decodeUTF8","argString","escape","unescape","dataURLToObjectURL","dataurl","Blob","arr","mime","bstr","u8arr","blankPageObjectURL","text2xml","sXML","out","dXML","DOMParser","loadXML","parseFromString","e2","bboxToObj","walkTree","cbFn","nodeType","childNodes","walkTreePost","getUrlFromAttr","attrVal","substring","getHref","getAttributeNS","setHref","setAttributeNS","findDefs","svgElement","getSVGContent","defs","getElementsByTagNameNS","ownerDocument","firstChild","insertBefore","nextSibling","getPathBBox","tot","bounds","P0","getCalc","P1","P2","P3","calc","b2ac","t2","groupBBFix","selected","ref","ret","copy","children","issue","each","elems","getStrokedBBox","geSelectedElements","elname","nodeName","extent","getExtentOfChar","getComputedTextLength","fo","closest","getPathDFromSegments","pathSegments","singleChar","pts","getPathDFromElement","ry","tagName","getExtraAttributesForConvertToPath","attrs","getBBoxOfElementAsPath","addSVGElementFromJson","pathActions","eltrans","parentNode","before","resetOrientation","convertToPath","clearSelection","addToSelection","hstry","addCommandToHistory","batchCmd","BatchCommand","extend","addSubCommand","RemoveElementCommand","InsertElementCommand","removeAttribute","bBoxCanBeOptimizedOverNativeGetBBox","hasAMatrixTransform","angleModulo90","closeTo90","closeTo0","getBBoxWithTransform","getRotationAngleFromTransformList","hasMatrixXForm","goodBb","elemNames","getStrokeOffsetForBBox","sw","fullBb","maxX","maxY","minX","minY","curBb","getVisibleElements","parentElement","contentElems","getStrokedBBoxDefaultVisible","toRad","N","getRotationAngle","getSelectedElements","getRefElem","getElem","singleNodeValue","assignAttributes","suspendLength","unitCheck","ns","isNullish","removeAttributeNS","cleanupElement","defaults","opacity","stroke","snapToGrid","stepSize","getSnappingStep","regexEscape","preventClickDefault","img","click","$q","sel","contextMenuExtensions","hasCustomHandler","handlerKey","getCustomHandler","action","injectExtendedContextMenuItemIntoDom","menuItem","shortcut","injectExtendedContextMenuItemsIntoDom","coerce_types","deparam","coerce","param","keys_last","cur","jQueryPluginDBox","okString","cancel","cancelString","draggable","containment","css","box","btnHolder","dialogContent","dbox","msg","defaultVal","opts","changeListener","checkbox","toggleClass","empty","appendTo","hide","ctrl","chkbx","prependTo","tooltip","prop","checked","opt","show","response","focus","confirm","process_cancel","prompt","defaultText","select","txt","HistoryEventTypes","BEFORE_APPLY","AFTER_APPLY","BEFORE_UNAPPLY","AFTER_UNAPPLY","Command","applyFunction","handleHistoryEvent","unapplyFunction","MoveElementCommand","oldNextSibling","oldParent","newNextSibling","newParent","ChangeElementCommand","newValues","oldValues","bChangedTransform","rotate","stack","stackItem","assert","unapply","cmd","thisElems","UndoManager","historyEventHandler","handler_","undoStackPointer","undoStack","undoChangeStackPointer","undoableChangeStack","getText","attrName","changeset","changes","segData","uiStrings","setUiStrings","strs","ui","pathFuncs","linkControlPts","pathData","setLinkControlPoints","lcp","pathFuncsStrs","newseg","curSeg","ptObjToArr","segItem","props","getGripPt","altPt","pth","currentZoom","getCurrentZoom","getPointFromGrip","imatrix","addPointGrip","pointGripContainer","getGripContainer","pointGrip","atts","cursor","pathNodeTooltip","grip","dblclick","setSegType","addCtrlGrip","pathCtrlPtTooltip","getCtrlLine","ctrlLine","getPointGrip","update","getControlPoints","cpt","segs","segItems","gpt","replacePathSeg","func","segList","getSegSelector","segLine","smoothControlPoints","ct1","ct2","nct1","createSVGPoint","nct2","anglea","angleb","angleBetween","angleDiff","newAnglea","newAngleb","Segment","ctrlpts","ptgrip","segsel","showCtrlPts","selectCtrls","full","curPts","nextPts","mate","itm","anum","newType","Path","selected_pts","first_seg","startI","nextSeg","prevSeg","startSeg","addGrip","newX","newY","p0x","p1x","p2x","p01x","p12x","p0y","p1y","p2y","p01y","p12y","eachSeg","last_d","selectPt","move","moveCtrl","dragctrl","setLinked","storeD","selPt","oldType","curX","curY","prevX","prevY","olditem","old","diffX","diffY","ct1x","ct1y","ct2x","ct2y","setType","endChanges","ctrlNum","addPtsToSelection","inverse","resetD","indexes","grips","closedSubpath","subpathIsClosed","clsd","getPath_","removePath_","newcx","newcy","oldcx","oldcy","getRotVals","theta","recalcRotatedPath","currentPath","oldbox","oldbbox","rvals","cVals1","cVals2","Rnc","setRotate","clearData","reorientGrads","utilsGetBBox","grad","pt1","pt2","gCoords","newgrad","getNextId","pathMap","convertPath","toRel","curx","cury","lastM","letter","pathDSegment","morePoints","lastPoint","pnt","subpath","newPoint","firstCtrl","hasMoved","smoothPolylineIntoPath","curpos","prevCtlPt","newpts","prevArr","curStyles","getId","mouseDown","evt","mouseTarget","startX","startY","getCurrentMode","mouseX","mouseY","stretchy","getGridSnapping","keep","drawnPath","getDrawnPath","dAttr","setDrawnPath","getOpacity","FUZZ","clickOnPoint","py","newpath","sSeg","absX","absY","endseg","setStarted","remapElement","newD","origD","toEditMode","contains","getContainer","getMouseTarget","lastx","lasty","xya","curPt","cur_pt","dragging","removePtFromSelection","rubberBox","getRubberBox","setRubberBox","selectorManager","getRubberBandBox","mouseMove","pointGrip1","pointGrip2","ptX","ptY","altX","altY","lastX","lastY","mpt","movePts","rbb","ptBb","mouseUp","lastPt","toSelectMode","setCurrentMode","selPath","addSubPath","on","reorient","angl","zoomChange","getNodePoint","linkControlPoints","linkPoints","clonePathNode","selPts","nums","addSeg","opencloseSubPath","openPt","startItem","closer","zSeg","deletePathNode","canDeleteNodes","deleteSeg","cleanup","remItems","nprev","prevType","canvas","deleteSelectedElements","cp","moveNode","newValue","diff","fixEnd","Layer","group","svgElem","name_","group_","svgdoc","layerTitle","after","addLayerClass","visible","expected","oldDisplay","child","hrService","previousName","title","getTitleElement","changeElement","CLASS_NAME","CLASS_REGEX","classes","HistoryRecordingService","undoManager","undoManager_","currentBatchCommand_","batchCommandStack_","batchCommand","addCommand_","NO_HISTORY","copyElem","newEl","localName","fixedD","nodeValue","RandomizeModes","LET_DOCUMENT_DECIDE","ALWAYS_RANDOMIZE","NEVER_RANDOMIZE","randIds","disabledElems","historyRecordingService","canvas_","undoMgr","findLayerNameInGroup","querySelectorAll","getNewLayerName","existingLayerNames","Drawing","optIdPrefix","svgElem_","obj_num","idPrefix","releasedNums","all_layers","layer_map","current_layer","nonce_","setNonce","oldObjNum","restoreOldObjNum","getElem_","front","getNumLayers","getName","getGroup","layer","finalName","oldName","setName","newpos","layerCount","oldpos","currentGroup","refGroup","identifyLayers","setCurrentLayer","getLayerName","prevGroup","startBatchCommand","layerNextSibling","removeElement","moveElement","removeGroup","endBatchCommand","mergeLayer","deactivate","activate","oldLayerGroup","numchildren","orphans","layernames","childgroups","appendChildren","insertElement","layerName","isVisible","bVisible","setVisible","setOpacity","getNextIdClosure","utilCopyElem","randomizeIds","enableRandomization","currentDrawing","getNonce","clearNonce","leaveContext","getCurrentDrawing","createLayer","newLayer","cloneLayer","deleteCurrentLayer","currentLayer","getCurrentLayer","renameCurrentLayer","newName","drawing","setCurrentLayerName","setCurrentLayerPosition","newPos","setLayerVisibility","prevVisibility","getLayerVisibility","moveSelectedToLayer","getLayerByName","selElems","oldLayer","changeSVGContent","mergeAllLayers","orig","elData","setCurrentGroup","setContext","parentsUntil","andSelf","siblings","opac","getCurrentGroup","REVERSE_NS","svgWhiteList_","circle","clipPath","ellipse","feGaussianBlur","feMorphology","foreignObject","image","line","linearGradient","marker","mask","polygon","polyline","radialGradient","textPath","tspan","use","annotation","maction","math","menclose","merror","mfrac","mi","mmultiscripts","mn","mo","mover","mpadded","mphantom","mprescripts","mroot","mrow","mspace","msqrt","mstyle","msub","msubsup","msup","mtable","mtd","mtext","mtr","munder","munderover","none","semantics","svgWhiteListNS_","elt","attNS","att","sanitizeSvg","doc","allowedAttrs","allowedAttrsNS","seAttrs","attrLocalName","attrNsURI","styleAttrName","styleAttrVal","hasChildNodes","remap","scalew","scaleh","doSnapping","finishUp","getDrawing","elName","existing","tNew","chlist","mt","tbox","gsvg","pstr","firstseg","currentpt","thisx","thisy","dstr","context_","updateClipPath","tx","ty","cpXform","newxlate","setTranslate","recalculateDimensions","noi","mxs","mNew","initial","getStartTransform","oldcenter","newcenter","gangle","rm","operation","firstM","oldStartTransform","tm","sm","tmn","childTlist","setStartTransform","e2t","t2n","s2","translateOrigin","scale","translateBack","setScale","T_M","mInv","M2","clipPathsDone","uses","u","useElem","usexlate","e2m","avg","newRot","roldt","rold","rnew","rnewInv","extrat","paint","gtlist","gmatrix","mStr","oldxlate","meq","meqInv","tspanChanges","svgFactory_","config_","selectorManager_","gripRadius","Selector","locked","selectorGroup","createSVGElement","selectorRect","gripCoords","nw","ne","se","resize","bShow","selectorGripsGroup","hasGrips","updateGripCursors","selectedBox","mgr","selectedGrips","selectorGrips","strokedBbox","nbox","nbax","nbay","nbaw","nbah","rot","svgRoot","rotm","dir","coords","rotateGripConnector","rotateGrip","dirArr","steps","gripElement","SelectorManager","selectorParentGroup","rubberBandBox","selectors","selectorMap","initGroup","imgPath","dimensions","canvasbg","overflow","svgContent","showGrips","config","svgFactory","getSelectorManager","postError","SvgCanvas","container","curConfig","show_outside_canvas","selectNew","importNode","clearSvgContentElement","xmlns","comment","createComment","idprefix","setIdPrefix","current_drawing_","draw","allProperties","shape","initFill","fill_paint","fill_opacity","initStroke","stroke_paint","stroke_opacity","stroke_width","stroke_dasharray","stroke_linejoin","stroke_linecap","initOpacity","font_size","font_family","curShape","selectedElements","getJsonFromSvgElement","retval","baseUnit","unitsInit","saveOptions","round_digits","getSelectedElems","pathModule","utilsInit","snappingStep","gridSnapping","coordsInit","recalculateInit","startTransform","nsMap","eventType","EventTypes","cmdType","isApply","restoreRefElems","setUseData","stdDeviation","setBlurOffsets","getZoom","selectInit","jsonMap","events","noCall","releaseSelector","elemsToAdd","requestSelector","compareDocumentPosition","correspondingUseElement","$target","started","rb","closed_subpath","currentMode","dp","refAttrs","opacAni","dur","removedElements","childs","getElementsByTagName","encodableImages","importIds","curText","extensions","lastGoodImgUrl","currentResizeMode","curProperties","justSelected","curBBoxes","lastClickPoint","runExtension","vars","runExtensions","returnArray","nameFilter","ext","addExtension","extInitFunc","jq","importLocale","argObj","getPrivateMethods","nonce","extObj","getIntersectionList","rubberBBox","resultList","getVisibleElementsAndBBoxes","groupSvgElem","replaceWith","prepareSvg","newDoc","paths","ffClone","setRotationAngle","preventUndo","oldTransform","center","newTransform","changeSelectedAttribute","selector","recalculateAllSelectedDimensions","isEmpty","logMatrix","rootSctm","selectOnly","removeFromSelection","elemsToRemove","newSelectedItems","selectAllInCurrentLayer","freehand","THRESHOLD_DIST","STEP_COUNT","rStartX","rStartY","initBbox","sumDistance","controllPoint2","controllPoint1","bSpline","nextPos","parameter","nextParameter","getBsplinePoint","spline","p0","p2","p3","t3","spaceKey","rightClick","cloneSelectedElements","getScreenCTM","pageX","pageY","realX","realY","griptype","slist","iswebkit","delayedStroke","ele","stroke_","newImage","strokeW","textActions","beginUndoableChange","extResult","start_x","start_y","newList","intElem","foundInd","hasMatrix","top","sy","sx","square","rad","mouse_x","mouse_y","tempJustSelected","factor","commaIndex","finishUndoableChange","releaseId","setMode","addedNew","aniDur","cAni","beginElement","dblClick","evtTarget","pushGroupProperties","handleLinkInCanvas","mousedown","mousemove","mouseup","originalEvent","workarea","scrbar","rulerwidth","showRulers","editorFullW","editorFullH","editorW","editorH","workareaViewW","workareaViewH","wOffset","wOffsetLeft","wOffsetTop","wheelDelta","wZoom","hZoom","zoomlevel","topLeftOld","topLeftNew","topLeftNewCanvas","newCtr","setZoom","curtext","textinput","selblock","blinker","chardata","textbb","allowDbl","setCursor","selectionEnd","selectionStart","charbb","setSelectionRange","setInterval","startPt","ptToScreen","endPt","visibility","setSelection","skipInput","startbb","endbb","getIndexFromPoint","charpos","getCharNumAtPosition","mid","setCursorFromPoint","setEndSelectionFromPoint","i1","i2","screenToPt","xIn","yIn","selectAll","unbind","selectWord","ept","selectElem","clearInterval","blur","setInputElem","inputElem","getEndPositionOfChar","contentW","removeUnusedDefElems","defelemUses","numRemoved","alen","allEls","allLen","defelems","defelem","svgCanvasToString","nakedSvgs","svgToString","indent","unitRe","getResolution","vb","nsuris","uri","attrNames","mozAttrs","styleName","images","bOneLine","embedImage","Image","load","xhr","statusText","cvs","getContext","drawImage","urldata","toDataURL","setGoodImage","save","getIssues","issues","issueCodes","issueList","exportNoBlur","exportNoforeignObject","exportNoDashArray","exportNoText","descr","canvg","rasterExport","imgType","quality","exportWindowName","mimeType","canvgPath","contentH","dataURLType","datauri","bloburl","avoidEvent","toBlob","exportPDF","outputType","jsPDF","orientation","format","docTitle","getDocumentTitle","setProperties","addSVG","getSvgString","uniquifyElems","ids","refElems","hrefs","attrnode","getAttributeNode","refid","oldid","newid","ownerElement","hreffers","hreffer","refElem","convertGradients","fillStrokeElems","convertToGroup","$elem","ts","removeData","hasMore","dupeGrads","setSvgString","xmlString","firstElementChild","oldzoom","adoptNode","pa","percs","dim","importSvgString","useEl","useExisting","parents","innerw","innerh","innervb","canvash","dr","propVal","cg","resetUndoStack","getContentElem","getRootElem","zoom","getSnapToGrid","getVersion","notification","setConfig","getTitle","setGroupTitle","tsNextSibling","prepend","setDocumentTitle","newTitle","oldTitle","getEditorNS","setResolution","visEls","moveSelectedElements","viewBox","getOffset","setBBoxZoom","spacer","calcZoom","newzoom","selectedElems","zoomLevel","getMode","getColor","setColor","addNonG","changeSelectedAttributeNoUndo","setGradient","duplicateGrad","findDuplicateGradient","existingGrads","radAttrs","og","gradAttrs","ogAttrs","stops","ostops","ostop","setPaint","jGraduate","Paint","setPaintOpacity","alpha","solidColor","setStrokePaint","setFillPaint","getStrokeWidth","setStrokeWidth","setStrokeAttr","getStyle","getFillOpacity","getStrokeOpacity","getPaintOpacity","getBlur","filterUrl","curCommand","filterHidden","setBlurNoUndo","setBlur","finishChange","bCmd","filterElem","stdDev","elemId","newblur","getBold","setBold","getItalic","setItalic","getFontFamily","setFontFamily","setFontColor","getFontColor","getFontSize","setFontSize","setTextContent","setImageURL","setsize","curHref","setLinkURL","parentsA","setRectRadius","makeHyperlink","groupSelectedElements","removeHyperlink","ungroupSelectedElement","noXYElems","oldval","newrot","selectedCopy","cutSelectedElements","copySelectedElements","CLIPBOARD_ID","flashStorage","sessionStorage","localStorage","setItem","storageChange","menu","enableContextMenuItems","pasteElements","clipb","parse","pasted","changedIDs","checkIDs","extChanges","removeID","clipBoardItem","ctrX","ctrY","urlArg","cmdStr","undoable","glist","gattrs","gfilter","gblur","newOpac","cblur","origCblur","suffix","chtlist","rgm","rcm","cangle","cbox","ceqm","coldc","sangle","trm","oldxform","newxform","chm","chmInv","gm","gNextSibling","moveToTopSelectedElement","moveToBottomSelectedElement","moveUpDownSelected","foundCur","toArray","sortfunction","copiedElements","alignSelectedElements","relativeTo","bboxes","MIN_VALUE","curwidth","curheight","updateCanvas","bg","oldX","oldY","bgImg","new_x","new_y","old_x","old_y","d_x","d_y","setBackground","border","bgPattern","preserveAspectRatio","cycleElement","curElem","allElems","SVGEditTransformList","hotkeys","specialKeys","shiftNums","which","special","fixIDs","svgEl","svgNum","force","idElems","newId","oldVal","newVal","jQueryPluginSVGIcons","svgIcons","xlinkns","iconW","iconH","testImg","iconsMade","dataLoaded","loadAttempts","dataPre","dataEl","svgz","contentDocument","getIcons","err1","useFallback","parser","ajax","dataType","success","responseText","noWait","isReady","getElementById","no_img","testSrc","alt","testIconAlt","makeIcons","setIcon","icon","setID","cl","alts","removeAttr","holder","addIcon","id_match","toImage","fallback","tempHolder","fallback_path","imgsrc","XMLSerializer","serializeToString","placement","resizeSvgIcons","regFile","getSvgIcon","uniqueClone","changeSel","widget","xlink","jQueryPluginJGraduate","jGraduateDefaults","pickerTitle","clientPath","newstop","setAttrs","mkElem","newparent","okCallback","cancelCallback","$settings","idref","okClicked","cancelClicked","$win","addClass","colPicker","gradPicker","MAX","MARGINX","MARGINY","SIZEX","SIZEY","attrInput","SLIDERW","curType","curGradient","gradalpha","isSolid","stopGroup","mkStop","inverted","inv","fx","fy","previewRect","beginCoord","endCoord","centerCoord","focusCoord","showFocus","isRadial","attrval","change","cssName","colr","stopElem","pickerD","pathbg","selectStop","drag","curStop","dragColor","remDrags","stopOffset","stopMakerDiv","colorhandle","stopOpacity","stopColor","thisAlpha","bottom","jPicker","active","alphaSupport","clr","curS","newcolor","newopac","remStop","delStop","scaleX","scaleY","cX","cY","xfStr","sX","stopMakerSVG","transPattern","patternUnits","transImg","bgImage","stopPropagation","mouseover","spreadMethodOpt","draggingCoord","onCoordDrag","fracx","fracy","grd","onCoordUp","numstops","lastfx","lastfy","fX","fY","slider","setSlider","posx","ellipVal","angleVal","sliders","radius","ellip","dragSlider","stopSlider","isRad","xpos","effects","speed","tabs","removeClass","newGrad","curStops","tab","jQueryPluginSpinButton","SpinButton","cfg","coord","offsetParent","browser","msie","currentStyle","repeating","spinCfg","stepfunc","page","upClass","downClass","delay","interval","_btn_width","_direction","_delay","_repeat","smallStep","adjustValue","spinClass","stateObj","tool_scale","direction","offsetWidth","mouseout","clearTimeout","adjust","keydown","keyCode","keypress","keyup","jQueryContextMenu","win","contextMenu","inSpeed","outSpeed","srcElement","allowLeft","hasClass","xOff","yOff","fadeIn","prevAll","eq","nextAll","trigger","docX","docY","fadeOut","mozilla","MozUserSelect","disableContextMenuItems","disableContextMenu","enableContextMenu","destroyContextMenu","toFixedNumeric","Slider","bar","fireChangeEvents","changeEvents","changeEvent","off","timeout","setValuesFromMousePosition","barW","barH","locX","locY","rangeX","rangeY","arrowW","arrow","arrowH","arrowOffsetX","arrowOffsetY","changed","range","newMinX","newMaxX","newMinY","newMaxY","destroy","ColorValuePicker","picker","bindedHex","alphaPrecision","inputs","keyDown","validateKey","red","setValueInRange","green","blue","hue","saturation","keyUp","ahex","colorChanged","List","Color","ColorMethods","rgbaToHex","nameLength","hexToRgba","newV","rgb","hsv","rgbToHsv","hsvToRgb","intToHex","validateHex","hexToInt","rgba","dec","commitCallback","liveCallback","settings","bindToInput","expandable","current","liveUpdate","isLessThanIE7","appVersion","filters","setColorMode","colorMode","rgbMap","rgbBar","setBG","colorMapDiv","setImgLoc","colorMapL1","setAlpha","colorMapL2","colorBarDiv","colorBarL1","colorBarL2","colorBarL3","colorBarL4","colorBarL6","colorMap","colorBar","activeColorChanged","positionMapAndBarArrows","updatePreview","updateMapVisuals","updateBarVisuals","mapValueChanged","xy","colorBarValueChanged","sv","hv","hs","rg","activePreview","backgroundColor","colorMapL3","colorBarL5","hva","saturatedColor","hsa","valueColor","hValue","vValue","setImg","backgroundImage","revertColor","commitColor","radioClicked","currentClicked","cancelButton","okButton","iconImageClicked","currentColorChanged","currentPreview","expandableColorChanged","va","iconColor","iconAlpha","updateInputColor","moveBarMouseDown","elementStartX","elementStartY","pageStartX","pageStartY","documentMouseMove","documentMouseUp","support","boxModel","quickPickClicked","attachIFrame","table","zIndex","slideDown","removeIFrame","slideUp","initialize","popup","onselectstart","controlHtml","localization","newColor","tooltips","colors","currentColor","buttons","radio","textbox","tbody","MapMaps","BarMaps","colorPicker","preview","grid","quickList","quickHex","iconImage","moveBar","langParam","setStrings","editor_","editor","readLang","langData","addLangData","more","merge","tools","layers","curve_segments","fitToContent","fit_to_all","fit_to_canvas","fit_to_layer_content","fit_to_sel","icon_large","icon_medium","icon_small","icon_xlarge","image_opt_embed","image_opt_ref","includedImages","included_images","largest_object","layersLabel","relativeToLabel","selLayerLabel","move_elems_to","selectedPredefined","select_predefined","selected_objects","smallest_object","straight_segments","svginfo_bg_url","editor_img_url","svginfo_bg_note","editor_bg_note","svginfo_change_background","background","svginfo_dim","doc_dims","svginfo_editor_prefs","editor_prefs","svginfo_height","svginfo_icons","icon_size","svginfo_image_props","image_props","svginfo_lang","language","svginfo_title","doc_title","svginfo_width","tool_docprops_cancel","tool_docprops_save","tool_source_cancel","tool_source_save","tool_prefs_cancel","tool_prefs_save","sidepanel_handle","tool_clear","new_doc","tool_docprops","docprops","tool_export","export_img","tool_import","import_doc","tool_open","open_doc","tool_save","save_doc","tool_editor_prefs","tool_editor_homepage","editor_homepage","svginfo_units_rulers","units_and_rulers","svginfo_rulers_onoff","show_rulers","svginfo_unit","base_unit","svginfo_grid_settings","svginfo_snap_onoff","snapping_onoff","svginfo_snap_step","snapping_stepsize","svginfo_grid_color","grid_color","del","ariaLabels","tool_blur","tool_position","align_to_page","tool_font_family","zoom_panel","zoom_level","linejoin_miter","linecap_butt","tool_opacity","group_opacity","align_relative_to","circle_cx","circle_cy","circle_r","cornerRadiusLabel","corner_radius","ellipse_cx","ellipse_cy","ellipse_rx","ellipse_ry","fill_color","idLabel","image_height","image_url","image_width","layer_delete","layer_down","move_down","layer_new","layer_rename","rename","layer_moreopts","more_opts","layer_up","move_up","line_x1","line_x2","line_y1","line_y2","linecap_round","linecap_square","linejoin_bevel","linejoin_round","main_icon","main_menu","palette","palette_info","path_node_x","node_x","path_node_y","node_y","rect_height_tool","rect_height","rect_width_tool","rect_width","seg_type","selLayerNames","move_selected","selected_x","pos_x","selected_y","pos_y","stroke_color","stroke_style","text_contents","toggle_stroke_tools","tool_add_subpath","add_subpath","tool_alignbottom","align_bottom","tool_aligncenter","align_center","tool_alignleft","align_left","tool_alignmiddle","align_middle","tool_alignright","align_right","tool_aligntop","align_top","tool_angle","tool_bold","tool_circle","mode_circle","tool_clone","tool_clone_multi","tool_delete","tool_delete_multi","tool_ellipse","mode_ellipse","tool_fhellipse","mode_fhellipse","tool_fhpath","mode_fhpath","tool_fhrect","mode_fhrect","tool_font_size","tool_group_elements","group_elements","tool_make_link","make_link","tool_link_url","set_link_url","tool_image","mode_image","tool_italic","italic","tool_line","mode_line","tool_move_bottom","move_bottom","tool_move_top","move_top","tool_node_clone","node_clone","tool_node_delete","node_delete","tool_node_link","node_link","tool_openclose_path","openclose_path","tool_path","mode_path","tool_rect","mode_rect","tool_redo","redo","tool_reorient","reorient_path","tool_select","mode_select","tool_source","source_save","tool_square","mode_square","tool_text","mode_text","tool_topath","to_path","tool_undo","undo","tool_ungroup","ungroup","tool_wireframe","wireframe_mode","tool_zoom","mode_zoom","url_notice","no_embed","putLocale","givenParam","goodLangs","conf","userLanguage","langPath","Utils","jQueryPluginJSHotkeys","jQueryPluginContextMenu","jQueryPluginJPicker","homePage","exportWindowCt","langChanged","showSaveWarning","storagePromptState","callbacks","defaultPrefs","lang","iconsize","bkgd_color","bkgd_url","img_save","save_notice_done","export_notice_done","defaultExtensions","defaultConfig","canvasName","canvas_expansion","colorPickerCSS","initTool","exportWindowType","wireframe","showlayers","no_save_warning","extPath","jspdfPath","jGraduatePath","extIconsPath","gridColor","preventAllURLConfig","preventURLContentLoading","lockExtensions","noDefaultExtensions","showGrid","noStorageOnLoad","forceStorage","emptyStorageOnDecline","avoidClientSide","avoidClientSideDownload","avoidClientSideOpen","svgCanvas","customExportImage","customExportPDF","curPrefs","allowedOrigins","loadSvgString","noAlert","errorLoadingSVG","getImportLocale","defaultLang","defaultName","locale","importLocaleDefaulting","pref","mayBeEmpty","loadContentAndPrefs","cookie","storage","cached","loadFromString","storeKey","preferenceForKey","cfgCfg","extendOrAdd","cfgObj","overwrite","allowInitialUserOverride","setCustomHandlers","ready","exportImage","modularVersion","svgEditor","modules","setupCurPrefs","setupCurConfig","grep","pathConfig","loadFromDataURI","loadFromURL","iconId","forcedSize","extAndLocaleFunc","setLang","setIcons","extname","extensionName","imported","extensionsAdded","Actions","setAll","messageQueue","messageObj","setFlyoutPositions","shower","outerWidth","uaPrefix","regex","someScript","scaleElements","sides","outerHeight","setIconSize","selToscale","iconSizes","hiddenPs","cssResizeRules","ruleElem","styleStr","rules","prefix","logo","select_node","fh_rect","fh_ellipse","pencil","pen","close_path","open_path","arrow_right","arrow_right_big","arrow_down","new_image","go_up","go_down","context_menu","link_controls","unlink_use","c_radius","align","eye","no_color","warning","globe_link","icons","tleft","minHeight","runCallbacks","modKey","canvMenu","paintBox","resizeTimer","curScrollPos","exportWindow","defaultImageURL","zoomInIcon","zoomOutIcon","uiContext","opener","svgEditorReadyEvent","CustomEvent","setSelectMode","curr","origTitle","rIntervals","toggleHighlightLayer","layerNameToHighlight","curNames","numLayers","curName","setLayerOpacity","populateLayers","layerlist","currentLayerName","getCurrentLayerName","layerTr","layerVis","row","vis","editingsource","origSource","showSourceEditor","forSaving","multiselected","togglePathEditMode","editmode","saveHandler","wind","download","note","saveFromBrowser","defsFailOnSave","exportHandler","closed","popupWindowBlocked","pre","noteTheseIssues","operaRepaint","setStrokeOpt","changeElem","toolButtonClick","noHiding","fadeFlyouts","clickSelect","dataURI","promptImgURL","cancelDeletes","curhref","enterNewImgURL","setInputWidth","updateRulers","scanvas","contentElem","units","isX","lentype","contentDim","$hcanvOrig","$hcanv","hcanv","rulerLen","totalLen","ctx","ctxArr","ctxArrNum","fillStyle","fillRect","uMulti","rawM","multi","bigInt","font","rulerD","labelPos","ctxNum","curD","moveTo","lineTo","decs","fillText","subD","lineNum","strokeStyle","wArea","cnvs","wOrig","hOrig","oldCtr","scrollLeft","scrollTop","oldCanY","oldCanX","newCanY","newCanX","ratio","scrollX","scrollY","oldDistX","oldDistY","scroll","storagePrompt","updateToolButtonState","bNoFill","bNoStroke","buttonsNeedingStroke","buttonsNeedingFillAndStroke","btn","nofill","nostroke","hasEnabled","updateToolbar","gWidth","swidth","opacPerc","updateContextPanel","menuItems","blurval","noPath","segType","panels","linkHref","curPanel","bv","getUndoStackSize","getRedoStackSize","updateWireFrame","supportsNonSS","rule","curContext","updateTitle","selectedChanged","elementTransition","ang","isLayer","elementChanged","isSvgElem","zoomDone","zoomChanged","autoCenter","zInfo","changeZoom","ctl","contextChanged","linkStr","prepPaints","prep","flyoutFuncs","setFlyoutTitles","allHolders","setupFlyouts","holders","holdSel","btnOpts","not","showSel","def","idSel","_","isDefault","flyoutAction","flyoutIsSelected","currentOperation","tool","timer","time","animate","makeFlyoutHolder","addAltDropDown","elemSel","listSel","dropUp","seticon","onButton","hover","multiclick","extsPreLang","extAdded","prepResize","resizeDone","cbCalled","langReady","loadedExtensionNames","runCallback","btnSelects","context_tools","contId","container_id","panel","defval","colnum","inp","spindata","svgicons","fallbackObj","altsObj","placementObj","svgicon","cls","flyoutHolder","showBtn","refData","refBtn","includeWith","tlsId","getButtonData","curH","getPaint","colorBlocks","blocks","curBg","blk","changeRectRadius","changeFontSize","changeStrokeWidth","changeRotationAngle","changeOpacity","changeBlur","noUndo","promptMoveLayerOnce","destLayer","selectedIndex","confirmStr","QmoveElemsToLayer","moveToLayer","valid","invalidAttrValGiven","unitData","panning","keypan","setPanning","overlay","jsHover","setClick","islib","listItems","addDropDown","perc","slide","noop","slideStart","unfocus","clickFHPath","clickLine","clickSquare","clickRect","clickFHRect","clickCircle","clickEllipse","clickFHEllipse","clickImage","clickZoom","zoomImage","dblclickZoom","clickText","clickPath","deleteSelected","cutSelected","copySelected","pasteInCenter","moveToTopSelected","moveToBottomSelected","reorientPath","enterNewLinkURL","moveSelected","linked","sp","selectNext","selectPrev","rotateSelected","cw","clickClear","QwantToClear","clickBold","clickItalic","clickSave","saveOpts","loadingURL","clickExport","openExportWindow","loadingImage","popHTML","popURL","chrome","clickOpen","clickImport","clickUndo","clickRedo","clickGroup","clickClone","clickAlign","clickWireframe","wfRules","preferences","showDocProperties","showPreferences","canvasBg","isBg","openHomePage","hideSourceEditor","saveSourceEditor","saveChanges","QerrorsRevertToSource","hideDocProperties","hidePreferences","saveDocProperties","noContentToFitTo","savePreferences","resetScrollPos","cancelOverlays","QignoreSourceChanges","winWh","curval","toolnames","curClass","allTools","shortcutButtons","pick_stroke_paint_opacity","pick_fill_paint_opacity","PaintBox","svgdocbox","ctr","docElem","ptype","fillAttr","_paintColor","_paintOpacity","gPaint","defColor","testEl","blurTest","stdDeviationX","featNotSupported","uniqName","hasLayer","enterUniqueLayerName","dupeLayerName","deleteLayer","moveLayer","total","curIndex","enterNewLayerName","layerHasThatName","SIDEPANEL_MAXWIDTH","SIDEPANEL_OPENWIDTH","sidedrag","sidedragging","allowmove","changeSidePanelWidth","rulerX","resizeSidePanel","deltaX","sideWidth","toggleSidePanel","dpr","devicePixelRatio","isOpened","zoomAdjustedSidepanelWidth","centerCanvas","stepFontSize","origVal","sugVal","increasing","stepZoom","wh","dims","dialogSelectors","toolButtons","hidekey","keyAssocs","flyouts","keyHandler","fH","margin","keyval","pd","setTitles","keyStr","modBits","mod","lastChild","itool","preTool","regTool","lmenuFunc","enableOrDisableClipboard","svgeditClipboard","returnValue","unsavedChanges","getUIStrings","openPrep","QwantToOpen","onDragEnter","onDragOver","onDragLeave","FileReader","importImage","dataTransfer","files","reader","onloadend","newElement","readAsText","insertNewImage","imgWidth","imgHeight","naturalWidth","offsetHeight","naturalHeight","readAsDataURL","imgImport","allStrings","oldLayerName","renameLayer","loadedExtensionName","dest","localeInit","cb","disableUI","featList","beforeSend","URLLoadFail","base64","initArgs","messageListener","this","_wrapped","VERSION","ur","Cn","Ln","Kn","ir","or","iteratee","M","Sn","I","Tn","D","On","ln","W","ar","Dn","L","J","U","G","H","Q","X","Vn","Y","rn","Z","er","nn","tn","en","un","an","cn","pn","sn","vn","hn","placeholder","gn","dn","bn","jn","_n","wn","An","Mn","En","Nn","kn","In","Bn","Rn","Fn","qn","Wn","zn","Pn","Jn","Un","$n","Gn","Hn","Qn","Xn","Yn","Zn","nr","rr","fr","cr","lr","pr","sr","vr","hr","gr","templateSettings","interpolate","yr","mr","jr","_chain","_r","wr","restArguments","collect","foldl","inject","foldr","detect","any","include","pluck","where","findWhere","shuffle","sample","sortBy","criteria","groupBy","indexBy","countBy","partition","take","rest","tail","drop","compact","flatten","without","uniq","unique","union","intersection","difference","unzip","zip","findLastIndex","sortedIndex","chunk","partial","bindAll","memoize","throttle","leading","trailing","debounce","negate","compose","once","allKeys","mapObject","pairs","invert","functions","extendOwn","findKey","pick","omit","tap","isMatch","isEqual","isElement","isArguments","isString","isNumber","isDate","isError","isMap","isWeakMap","isSet","isWeakSet","isBoolean","isNull","isUndefined","identity","constant","propertyOf","matches","times","uniqueId","mixin","lookup","revLookup","Arr","inited","toByteArray","b64","tmp","placeHolders","tripletToBase64","encodeChunk","uint8","fromByteArray","extraBytes","maxChunkLength","len2","read","isLE","mLen","nBytes","eLen","INSPECT_MAX_BYTES","Buffer","TYPED_ARRAY_SUPPORT","_kMaxLength","kMaxLength","createBuffer","encodingOrOffset","allocUnsafe","poolSize","_augment","fromArrayBuffer","fromString","fromObject","assertSize","alloc","encoding","allocUnsafeSlow","isEncoding","actual","fromArrayLike","internalIsBuffer","isnan","SlowBuffer","isBuffer","_isBuffer","compare","buf","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap16","swap32","swap64","equals","inspect","thisStart","thisEnd","thisCopy","targetCopy","bidirectionalIndexOf","arrayIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","hexWrite","strLen","parsed","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","_arr","firstByte","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","MAX_ARGUMENTS_LENGTH","toHex","newBuf","sliceLen","checkOffset","readUIntLE","noAssert","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","checkInt","writeUIntLE","maxBytes","writeUIntBE","writeUInt8","objectWriteUInt16","littleEndian","writeUInt16LE","writeUInt16BE","objectWriteUInt32","writeUInt32LE","writeUInt32BE","writeIntLE","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","checkIEEE754","writeFloat","writeFloatLE","writeFloatBE","writeDouble","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","base64clean","stringtrim","leadSurrogate","byteArray","lo","dst","isFastBuffer","isSlowBuffer","subscribe","unsubscribe","publish","message","compressPdf","textColor","drawColor","fontSize","lineHeight","lineWidth","subject","author","keywords","creator","adler32cs","objectNumber","PostScriptName","fontName","fontStyle","fonts","dictionary","trace","te","sourceEncoding","outputEncoding","autoencode","codePages","noBOM","ee","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","oe","ie","pageNumber","ae","normal","ue","ce","le","fe","de","getUserMedia","unload","he","internal","pdfEscape","getFont","getLineHeight","getCoordinateString","getVerticalCoordinateString","collections","newObject","putStream","scaleFactor","pageSize","getNumberOfPages","pages","addPage","TabLen","lines","triangle","roundedRect","SQRT2","setFont","setFontStyle","setFontType","getFontList","setLineWidth","setDrawColor","setFillColor","setTextColor","CapJoinStyles","butt","but","miter","rounded","projecting","project","bevel","setLineCap","setLineJoin","pe","API","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","b10","c0","c1","c3","c4","c5","c6","c7","c8","c9","c10","dl","legal","ledger","tabloid","addHTML","html2canvas","rasterizeHTML","onrendered","pagesplit","addImage","onload","rstz","cs","color_spaces","INDEXED","pal","DEVICE_CMYK","bpc","trns","smask","arrayBufferToBinaryString","image_compression","NONE","hasAttribute","clientWidth","clientHeight","alias","DEVICE_RGB","DEVICE_GRAY","CAL_GREY","CAL_RGB","LAB","ICC_BASED","PATTERN","SEPERATION","DEVICE_N","decode","DCT_DECODE","FLATE_DECODE","LZW_DECODE","JPX_DECODE","JBIG2_DECODE","ASCII85_DECODE","ASCII_HEX_DECODE","RUN_LENGTH_DECODE","CCITT_FAX_DECODE","FAST","MEDIUM","SLOW","extractInfoFromBase64DataURI","supportsArrayBuffer","isArrayBufferView","binaryStringToUint8Array","arrayBufferToBase64","createImageInfo","processJPEG","processJPG","autoPrint","setHeaderFunction","getTextDimensions","table_font_size","innerText","cellAddPage","margins","cellInitialize","cell","printHeaders","tableHeaderRow","printHeaderRow","printingHeaderRow","getStringUnitWidth","arrayMax","autoSize","lnMod","calculateLineHeight","setTableHeaderRow","lastCellPos","table_x","table_y","splitTextToSize","pdf","medium","large","auto","css_line_height_string","defaultView","getComputedStyle","TextAlignMap","rows","cells","STYLE","NOSCRIPT","OBJECT","EMBED","SELECT","setBlockBoundary","setBlockStyle","margins_doc","addText","crossOrigin","onerror","className","innerHTML","putTotalPages","FOOTER","cssText","frames","elementHandlers","dispose","paragraph","splitFragmentsIntoLines","Unicode","widths","kerning","textIndent","RenderTextFragment","renderParagraph","blockstyle","priorblockstyle","wantedIndent","helvetica","serif","monospace","courier","bolder","lighter","oblique","justify","fromHTML","addJS","PNG","processPNG","imgData","colorSpace","colorType","pixelBitlength","decodePixels","transparency","indexed","styleSheet","getCharWidthsArray","fof","lineIndent","WinAnsiEncoding","Courier","Helvetica","webkitURL","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","FileReaderSync","fake","readAsBinaryString","getBlob","msSaveOrOpenBlob","externalHost","initMouseEvent","webkitRequestFileSystem","requestFileSystem","mozRequestFileSystem","readyState","DONE","exclusive","INIT","webkitSlice","TEMPORARY","root","getDirectory","getFile","createWriter","onwriteend","toURL","ABORT_ERR","abort","WRITING","NOT_FOUND_ERR","onwritestart","onprogress","onwrite","onabort","removeEventListener","Adler32","checksum","fromUtf8","fromBuffer","updateUtf8","updateBuffer","dyn_tree","stat_desc","static_tree","extra_bits","extra_base","max_length","bl_count","heap","heap_max","max_code","opt_len","static_len","build_tree","heap_len","pqdownheap","good_length","max_lazy","nice_length","max_chain","Ie","Ce","Be","Pe","We","Xe","Ke","Qe","Ve","Me","Fe","Ge","Le","Je","Ne","Oe","$e","Ze","static_l_desc","static_d_desc","static_bl_desc","bl_order","pending_buf","pending","static_ltree","_length_code","d_code","extra_dbits","extra_lbits","base_length","base_dist","ze","static_dtree","qe","flush_pending","me","He","Te","avail_in","read_buf","Ue","De","we","ke","avail_out","ye","Ee","ge","Ye","ve","je","be","total_in","total_out","pending_out","xe","Ae","Se","Re","deflateInit","dstate","deflateEnd","deflateParams","deflate","deflateSetDictionary","next_out","next_in","next_in_index","next_out_index","extra_blbits","animation","readUInt32","compressionMethod","filterMethod","interlaceMethod","numFrames","numPlays","xOffset","yOffset","readUInt16","disposeOp","blendOp","grayscale","hasAlphaChannel","XMLHttpRequest","responseType","mozResponseArrayBuffer","render","send","getBytes","decodePalette","copyToImageData","_decodedPalette","clearRect","putImageData","decodeFrames","createImageData","imageData","renderFrame","_timeout","stopAnimation","_png","eof","ensureBuffer","getByte","readBlock","lookChar","getChar","makeSubStream","Stream","skip","bytesPos","codeSize","codeBuf","getBits","getCode","generateHuffmanTable","simpleColors","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","feldspar","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslateblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","violetred","wheat","white","whitesmoke","yellow","yellowgreen","colorDefs","example","RGBColor","colorString","processor","examples","xml","listItem","listColor","exampleDiv","listItemValue","toRGB","jsPDFAPI","pdfSvgAttr","attributeIsNotEmpty","attVal","nodeIs","possible","removeAttributes","toRemove","numRgx","getLinesOptionsOfPoly","getLinesOptionsOfPath","opsList","ops","reflectControl","toRelative","curveQToC","letterPrev","isRelative","svgElementToPdf","removeInvalid","hasFillColor","fillRGB","fillColor","strokeColor","strokeRGB","linesOptions","linesOptionsList","fillRule","fontType","pdfFontSize","nodeCopy","ownerSVGElement","x_offset","y_offset"],"mappings":"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"}