{"version":3,"file":"index.js","sources":["../../node_modules/core-js/internals/global.js","../../node_modules/core-js/internals/fails.js","../../node_modules/core-js/internals/descriptors.js","../../node_modules/core-js/internals/object-property-is-enumerable.js","../../node_modules/core-js/internals/create-property-descriptor.js","../../node_modules/core-js/internals/classof-raw.js","../../node_modules/core-js/internals/indexed-object.js","../../node_modules/core-js/internals/require-object-coercible.js","../../node_modules/core-js/internals/to-indexed-object.js","../../node_modules/core-js/internals/is-object.js","../../node_modules/core-js/internals/to-primitive.js","../../node_modules/core-js/internals/has.js","../../node_modules/core-js/internals/document-create-element.js","../../node_modules/core-js/internals/ie8-dom-define.js","../../node_modules/core-js/internals/object-get-own-property-descriptor.js","../../node_modules/core-js/internals/an-object.js","../../node_modules/core-js/internals/object-define-property.js","../../node_modules/core-js/internals/create-non-enumerable-property.js","../../node_modules/core-js/internals/set-global.js","../../node_modules/core-js/internals/shared-store.js","../../node_modules/core-js/internals/inspect-source.js","../../node_modules/core-js/internals/native-weak-map.js","../../node_modules/core-js/internals/is-pure.js","../../node_modules/core-js/internals/shared.js","../../node_modules/core-js/internals/uid.js","../../node_modules/core-js/internals/shared-key.js","../../node_modules/core-js/internals/hidden-keys.js","../../node_modules/core-js/internals/internal-state.js","../../node_modules/core-js/internals/redefine.js","../../node_modules/core-js/internals/path.js","../../node_modules/core-js/internals/get-built-in.js","../../node_modules/core-js/internals/to-integer.js","../../node_modules/core-js/internals/to-length.js","../../node_modules/core-js/internals/to-absolute-index.js","../../node_modules/core-js/internals/array-includes.js","../../node_modules/core-js/internals/object-keys-internal.js","../../node_modules/core-js/internals/enum-bug-keys.js","../../node_modules/core-js/internals/object-get-own-property-names.js","../../node_modules/core-js/internals/object-get-own-property-symbols.js","../../node_modules/core-js/internals/own-keys.js","../../node_modules/core-js/internals/copy-constructor-properties.js","../../node_modules/core-js/internals/is-forced.js","../../node_modules/core-js/internals/export.js","../../node_modules/core-js/internals/native-symbol.js","../../node_modules/core-js/internals/use-symbol-as-uid.js","../../node_modules/core-js/internals/is-array.js","../../node_modules/core-js/internals/to-object.js","../../node_modules/core-js/internals/object-keys.js","../../node_modules/core-js/internals/object-define-properties.js","../../node_modules/core-js/internals/html.js","../../node_modules/core-js/internals/object-create.js","../../node_modules/core-js/internals/object-get-own-property-names-external.js","../../node_modules/core-js/internals/well-known-symbol.js","../../node_modules/core-js/internals/well-known-symbol-wrapped.js","../../node_modules/core-js/internals/define-well-known-symbol.js","../../node_modules/core-js/internals/set-to-string-tag.js","../../node_modules/core-js/internals/a-function.js","../../node_modules/core-js/internals/function-bind-context.js","../../node_modules/core-js/internals/array-species-create.js","../../node_modules/core-js/internals/array-iteration.js","../../node_modules/core-js/modules/es.symbol.js","../../node_modules/core-js/modules/es.symbol.description.js","../../node_modules/core-js/modules/es.symbol.async-iterator.js","../../node_modules/core-js/modules/es.symbol.has-instance.js","../../node_modules/core-js/modules/es.symbol.is-concat-spreadable.js","../../node_modules/core-js/modules/es.symbol.iterator.js","../../node_modules/core-js/modules/es.symbol.match.js","../../node_modules/core-js/modules/es.symbol.match-all.js","../../node_modules/core-js/modules/es.symbol.replace.js","../../node_modules/core-js/modules/es.symbol.search.js","../../node_modules/core-js/modules/es.symbol.species.js","../../node_modules/core-js/modules/es.symbol.split.js","../../node_modules/core-js/modules/es.symbol.to-primitive.js","../../node_modules/core-js/modules/es.symbol.to-string-tag.js","../../node_modules/core-js/modules/es.symbol.unscopables.js","../../node_modules/core-js/internals/create-property.js","../../node_modules/core-js/internals/engine-user-agent.js","../../node_modules/core-js/internals/engine-v8-version.js","../../node_modules/core-js/internals/array-method-has-species-support.js","../../node_modules/core-js/modules/es.array.concat.js","../../node_modules/core-js/internals/array-copy-within.js","../../node_modules/core-js/internals/add-to-unscopables.js","../../node_modules/core-js/modules/es.array.copy-within.js","../../node_modules/core-js/internals/array-method-is-strict.js","../../node_modules/core-js/internals/array-method-uses-to-length.js","../../node_modules/core-js/modules/es.array.every.js","../../node_modules/core-js/internals/array-fill.js","../../node_modules/core-js/modules/es.array.fill.js","../../node_modules/core-js/modules/es.array.filter.js","../../node_modules/core-js/modules/es.array.find.js","../../node_modules/core-js/modules/es.array.find-index.js","../../node_modules/core-js/internals/flatten-into-array.js","../../node_modules/core-js/modules/es.array.flat.js","../../node_modules/core-js/modules/es.array.flat-map.js","../../node_modules/core-js/internals/array-for-each.js","../../node_modules/core-js/modules/es.array.for-each.js","../../node_modules/core-js/internals/call-with-safe-iteration-closing.js","../../node_modules/core-js/internals/iterators.js","../../node_modules/core-js/internals/is-array-iterator-method.js","../../node_modules/core-js/internals/to-string-tag-support.js","../../node_modules/core-js/internals/classof.js","../../node_modules/core-js/internals/get-iterator-method.js","../../node_modules/core-js/internals/array-from.js","../../node_modules/core-js/internals/check-correctness-of-iteration.js","../../node_modules/core-js/modules/es.array.from.js","../../node_modules/core-js/modules/es.array.includes.js","../../node_modules/core-js/modules/es.array.index-of.js","../../node_modules/core-js/modules/es.array.is-array.js","../../node_modules/core-js/internals/correct-prototype-getter.js","../../node_modules/core-js/internals/object-get-prototype-of.js","../../node_modules/core-js/internals/iterators-core.js","../../node_modules/core-js/internals/create-iterator-constructor.js","../../node_modules/core-js/internals/a-possible-prototype.js","../../node_modules/core-js/internals/object-set-prototype-of.js","../../node_modules/core-js/internals/define-iterator.js","../../node_modules/core-js/modules/es.array.iterator.js","../../node_modules/core-js/modules/es.array.join.js","../../node_modules/core-js/internals/array-last-index-of.js","../../node_modules/core-js/modules/es.array.last-index-of.js","../../node_modules/core-js/modules/es.array.map.js","../../node_modules/core-js/modules/es.array.of.js","../../node_modules/core-js/internals/array-reduce.js","../../node_modules/core-js/modules/es.array.reduce.js","../../node_modules/core-js/modules/es.array.reduce-right.js","../../node_modules/core-js/modules/es.array.reverse.js","../../node_modules/core-js/modules/es.array.slice.js","../../node_modules/core-js/modules/es.array.some.js","../../node_modules/core-js/modules/es.array.sort.js","../../node_modules/core-js/internals/set-species.js","../../node_modules/core-js/modules/es.array.species.js","../../node_modules/core-js/modules/es.array.splice.js","../../node_modules/core-js/modules/es.array.unscopables.flat.js","../../node_modules/core-js/modules/es.array.unscopables.flat-map.js","../../node_modules/core-js/internals/array-buffer-native.js","../../node_modules/core-js/internals/redefine-all.js","../../node_modules/core-js/internals/an-instance.js","../../node_modules/core-js/internals/to-index.js","../../node_modules/core-js/internals/ieee754.js","../../node_modules/core-js/internals/array-buffer.js","../../node_modules/core-js/modules/es.array-buffer.constructor.js","../../node_modules/core-js/internals/array-buffer-view-core.js","../../node_modules/core-js/modules/es.array-buffer.is-view.js","../../node_modules/core-js/internals/species-constructor.js","../../node_modules/core-js/modules/es.array-buffer.slice.js","../../node_modules/core-js/modules/es.data-view.js","../../node_modules/core-js/modules/es.date.now.js","../../node_modules/core-js/internals/string-repeat.js","../../node_modules/core-js/internals/string-pad.js","../../node_modules/core-js/internals/date-to-iso-string.js","../../node_modules/core-js/modules/es.date.to-iso-string.js","../../node_modules/core-js/modules/es.date.to-json.js","../../node_modules/core-js/internals/date-to-primitive.js","../../node_modules/core-js/modules/es.date.to-primitive.js","../../node_modules/core-js/modules/es.date.to-string.js","../../node_modules/core-js/internals/function-bind.js","../../node_modules/core-js/modules/es.function.bind.js","../../node_modules/core-js/modules/es.function.has-instance.js","../../node_modules/core-js/modules/es.function.name.js","../../node_modules/core-js/modules/es.global-this.js","../../node_modules/core-js/modules/es.json.stringify.js","../../node_modules/core-js/modules/es.json.to-string-tag.js","../../node_modules/core-js/internals/freezing.js","../../node_modules/core-js/internals/internal-metadata.js","../../node_modules/core-js/internals/iterate.js","../../node_modules/core-js/internals/inherit-if-required.js","../../node_modules/core-js/internals/collection.js","../../node_modules/core-js/internals/collection-strong.js","../../node_modules/core-js/modules/es.map.js","../../node_modules/core-js/internals/math-log1p.js","../../node_modules/core-js/modules/es.math.acosh.js","../../node_modules/core-js/modules/es.math.asinh.js","../../node_modules/core-js/modules/es.math.atanh.js","../../node_modules/core-js/internals/math-sign.js","../../node_modules/core-js/modules/es.math.cbrt.js","../../node_modules/core-js/modules/es.math.clz32.js","../../node_modules/core-js/internals/math-expm1.js","../../node_modules/core-js/modules/es.math.cosh.js","../../node_modules/core-js/modules/es.math.expm1.js","../../node_modules/core-js/internals/math-fround.js","../../node_modules/core-js/modules/es.math.fround.js","../../node_modules/core-js/modules/es.math.hypot.js","../../node_modules/core-js/modules/es.math.imul.js","../../node_modules/core-js/modules/es.math.log10.js","../../node_modules/core-js/modules/es.math.log1p.js","../../node_modules/core-js/modules/es.math.log2.js","../../node_modules/core-js/modules/es.math.sign.js","../../node_modules/core-js/modules/es.math.sinh.js","../../node_modules/core-js/modules/es.math.tanh.js","../../node_modules/core-js/modules/es.math.to-string-tag.js","../../node_modules/core-js/modules/es.math.trunc.js","../../node_modules/core-js/internals/whitespaces.js","../../node_modules/core-js/internals/string-trim.js","../../node_modules/core-js/modules/es.number.constructor.js","../../node_modules/core-js/modules/es.number.epsilon.js","../../node_modules/core-js/internals/number-is-finite.js","../../node_modules/core-js/modules/es.number.is-finite.js","../../node_modules/core-js/internals/is-integer.js","../../node_modules/core-js/modules/es.number.is-integer.js","../../node_modules/core-js/modules/es.number.is-nan.js","../../node_modules/core-js/modules/es.number.is-safe-integer.js","../../node_modules/core-js/modules/es.number.max-safe-integer.js","../../node_modules/core-js/modules/es.number.min-safe-integer.js","../../node_modules/core-js/internals/number-parse-float.js","../../node_modules/core-js/modules/es.number.parse-float.js","../../node_modules/core-js/internals/number-parse-int.js","../../node_modules/core-js/modules/es.number.parse-int.js","../../node_modules/core-js/internals/this-number-value.js","../../node_modules/core-js/modules/es.number.to-fixed.js","../../node_modules/core-js/modules/es.number.to-precision.js","../../node_modules/core-js/internals/object-assign.js","../../node_modules/core-js/modules/es.object.assign.js","../../node_modules/core-js/modules/es.object.create.js","../../node_modules/core-js/internals/object-prototype-accessors-forced.js","../../node_modules/core-js/modules/es.object.define-getter.js","../../node_modules/core-js/modules/es.object.define-properties.js","../../node_modules/core-js/modules/es.object.define-property.js","../../node_modules/core-js/modules/es.object.define-setter.js","../../node_modules/core-js/internals/object-to-array.js","../../node_modules/core-js/modules/es.object.entries.js","../../node_modules/core-js/modules/es.object.freeze.js","../../node_modules/core-js/modules/es.object.from-entries.js","../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js","../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js","../../node_modules/core-js/modules/es.object.get-own-property-names.js","../../node_modules/core-js/modules/es.object.get-prototype-of.js","../../node_modules/core-js/internals/same-value.js","../../node_modules/core-js/modules/es.object.is.js","../../node_modules/core-js/modules/es.object.is-extensible.js","../../node_modules/core-js/modules/es.object.is-frozen.js","../../node_modules/core-js/modules/es.object.is-sealed.js","../../node_modules/core-js/modules/es.object.keys.js","../../node_modules/core-js/modules/es.object.lookup-getter.js","../../node_modules/core-js/modules/es.object.lookup-setter.js","../../node_modules/core-js/modules/es.object.prevent-extensions.js","../../node_modules/core-js/modules/es.object.seal.js","../../node_modules/core-js/modules/es.object.set-prototype-of.js","../../node_modules/core-js/internals/object-to-string.js","../../node_modules/core-js/modules/es.object.to-string.js","../../node_modules/core-js/modules/es.object.values.js","../../node_modules/core-js/modules/es.parse-float.js","../../node_modules/core-js/modules/es.parse-int.js","../../node_modules/core-js/internals/native-promise-constructor.js","../../node_modules/core-js/internals/engine-is-ios.js","../../node_modules/core-js/internals/task.js","../../node_modules/core-js/internals/microtask.js","../../node_modules/core-js/internals/new-promise-capability.js","../../node_modules/core-js/internals/promise-resolve.js","../../node_modules/core-js/internals/host-report-errors.js","../../node_modules/core-js/internals/perform.js","../../node_modules/core-js/modules/es.promise.js","../../node_modules/core-js/modules/es.promise.all-settled.js","../../node_modules/core-js/modules/es.promise.finally.js","../../node_modules/core-js/modules/es.reflect.apply.js","../../node_modules/core-js/modules/es.reflect.construct.js","../../node_modules/core-js/modules/es.reflect.define-property.js","../../node_modules/core-js/modules/es.reflect.delete-property.js","../../node_modules/core-js/modules/es.reflect.get.js","../../node_modules/core-js/modules/es.reflect.get-own-property-descriptor.js","../../node_modules/core-js/modules/es.reflect.get-prototype-of.js","../../node_modules/core-js/modules/es.reflect.has.js","../../node_modules/core-js/modules/es.reflect.is-extensible.js","../../node_modules/core-js/modules/es.reflect.own-keys.js","../../node_modules/core-js/modules/es.reflect.prevent-extensions.js","../../node_modules/core-js/modules/es.reflect.set.js","../../node_modules/core-js/modules/es.reflect.set-prototype-of.js","../../node_modules/core-js/internals/is-regexp.js","../../node_modules/core-js/internals/regexp-flags.js","../../node_modules/core-js/internals/regexp-sticky-helpers.js","../../node_modules/core-js/modules/es.regexp.constructor.js","../../node_modules/core-js/internals/regexp-exec.js","../../node_modules/core-js/modules/es.regexp.exec.js","../../node_modules/core-js/modules/es.regexp.flags.js","../../node_modules/core-js/modules/es.regexp.sticky.js","../../node_modules/core-js/modules/es.regexp.test.js","../../node_modules/core-js/modules/es.regexp.to-string.js","../../node_modules/core-js/modules/es.set.js","../../node_modules/core-js/internals/string-multibyte.js","../../node_modules/core-js/modules/es.string.code-point-at.js","../../node_modules/core-js/internals/not-a-regexp.js","../../node_modules/core-js/internals/correct-is-regexp-logic.js","../../node_modules/core-js/modules/es.string.ends-with.js","../../node_modules/core-js/modules/es.string.from-code-point.js","../../node_modules/core-js/modules/es.string.includes.js","../../node_modules/core-js/modules/es.string.iterator.js","../../node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","../../node_modules/core-js/internals/advance-string-index.js","../../node_modules/core-js/internals/regexp-exec-abstract.js","../../node_modules/core-js/modules/es.string.match.js","../../node_modules/core-js/modules/es.string.match-all.js","../../node_modules/core-js/internals/string-pad-webkit-bug.js","../../node_modules/core-js/modules/es.string.pad-end.js","../../node_modules/core-js/modules/es.string.pad-start.js","../../node_modules/core-js/modules/es.string.raw.js","../../node_modules/core-js/modules/es.string.repeat.js","../../node_modules/core-js/modules/es.string.replace.js","../../node_modules/core-js/modules/es.string.search.js","../../node_modules/core-js/modules/es.string.split.js","../../node_modules/core-js/modules/es.string.starts-with.js","../../node_modules/core-js/internals/string-trim-forced.js","../../node_modules/core-js/modules/es.string.trim.js","../../node_modules/core-js/modules/es.string.trim-end.js","../../node_modules/core-js/modules/es.string.trim-start.js","../../node_modules/core-js/internals/create-html.js","../../node_modules/core-js/internals/string-html-forced.js","../../node_modules/core-js/modules/es.string.anchor.js","../../node_modules/core-js/modules/es.string.big.js","../../node_modules/core-js/modules/es.string.blink.js","../../node_modules/core-js/modules/es.string.bold.js","../../node_modules/core-js/modules/es.string.fixed.js","../../node_modules/core-js/modules/es.string.fontcolor.js","../../node_modules/core-js/modules/es.string.fontsize.js","../../node_modules/core-js/modules/es.string.italics.js","../../node_modules/core-js/modules/es.string.link.js","../../node_modules/core-js/modules/es.string.small.js","../../node_modules/core-js/modules/es.string.strike.js","../../node_modules/core-js/modules/es.string.sub.js","../../node_modules/core-js/modules/es.string.sup.js","../../node_modules/core-js/internals/typed-array-constructors-require-wrappers.js","../../node_modules/core-js/internals/to-positive-integer.js","../../node_modules/core-js/internals/to-offset.js","../../node_modules/core-js/internals/typed-array-from.js","../../node_modules/core-js/internals/typed-array-constructor.js","../../node_modules/core-js/modules/es.typed-array.float32-array.js","../../node_modules/core-js/modules/es.typed-array.float64-array.js","../../node_modules/core-js/modules/es.typed-array.int8-array.js","../../node_modules/core-js/modules/es.typed-array.int16-array.js","../../node_modules/core-js/modules/es.typed-array.int32-array.js","../../node_modules/core-js/modules/es.typed-array.uint8-array.js","../../node_modules/core-js/modules/es.typed-array.uint8-clamped-array.js","../../node_modules/core-js/modules/es.typed-array.uint16-array.js","../../node_modules/core-js/modules/es.typed-array.uint32-array.js","../../node_modules/core-js/modules/es.typed-array.copy-within.js","../../node_modules/core-js/modules/es.typed-array.every.js","../../node_modules/core-js/modules/es.typed-array.fill.js","../../node_modules/core-js/modules/es.typed-array.filter.js","../../node_modules/core-js/modules/es.typed-array.find.js","../../node_modules/core-js/modules/es.typed-array.find-index.js","../../node_modules/core-js/modules/es.typed-array.for-each.js","../../node_modules/core-js/modules/es.typed-array.from.js","../../node_modules/core-js/modules/es.typed-array.includes.js","../../node_modules/core-js/modules/es.typed-array.index-of.js","../../node_modules/core-js/modules/es.typed-array.iterator.js","../../node_modules/core-js/modules/es.typed-array.join.js","../../node_modules/core-js/modules/es.typed-array.last-index-of.js","../../node_modules/core-js/modules/es.typed-array.map.js","../../node_modules/core-js/modules/es.typed-array.of.js","../../node_modules/core-js/modules/es.typed-array.reduce.js","../../node_modules/core-js/modules/es.typed-array.reduce-right.js","../../node_modules/core-js/modules/es.typed-array.reverse.js","../../node_modules/core-js/modules/es.typed-array.set.js","../../node_modules/core-js/modules/es.typed-array.slice.js","../../node_modules/core-js/modules/es.typed-array.some.js","../../node_modules/core-js/modules/es.typed-array.sort.js","../../node_modules/core-js/modules/es.typed-array.subarray.js","../../node_modules/core-js/modules/es.typed-array.to-locale-string.js","../../node_modules/core-js/modules/es.typed-array.to-string.js","../../node_modules/core-js/internals/collection-weak.js","../../node_modules/core-js/modules/es.weak-map.js","../../node_modules/core-js/modules/es.weak-set.js","../../node_modules/core-js/internals/dom-iterables.js","../../node_modules/core-js/modules/web.dom-collections.for-each.js","../../node_modules/core-js/modules/web.dom-collections.iterator.js","../../node_modules/core-js/modules/web.immediate.js","../../node_modules/core-js/modules/web.queue-microtask.js","../../node_modules/core-js/internals/native-url.js","../../node_modules/core-js/internals/string-punycode-to-ascii.js","../../node_modules/core-js/internals/get-iterator.js","../../node_modules/core-js/modules/web.url-search-params.js","../../node_modules/core-js/modules/web.url.js","../../node_modules/core-js/modules/web.url.to-json.js","../../node_modules/regenerator-runtime/runtime.js","../../src/editor/touch.js","../../src/common/namespaces.js","../../src/common/svgpathseg.js","../../src/common/browser.js","../../src/common/jQuery.attr.js","../../src/common/svgtransformlist.js","../../src/common/units.js","../../src/common/math.js","../../src/common/utilities.js","../../src/editor/contextmenu.js","../../src/external/deparam/deparam.esm.js","../../src/svgcanvas/dbox.js","../../src/svgcanvas/history.js","../../src/svgcanvas/path.js","../../src/common/layer.js","../../src/svgcanvas/historyrecording.js","../../src/svgcanvas/copy-elem.js","../../src/svgcanvas/draw.js","../../src/svgcanvas/sanitize.js","../../src/svgcanvas/coords.js","../../src/svgcanvas/recalculate.js","../../src/svgcanvas/select.js","../../src/svgcanvas/svgcanvas.js","../../src/editor/js-hotkeys/jquery.hotkeys.min.js","../../src/editor/svgicons/jQuery.svgIcons.js","../../src/editor/jgraduate/jQuery.jGraduate.js","../../src/editor/spinbtn/jQuery.SpinButton.js","../../src/editor/contextmenu/jQuery.contextMenu.js","../../src/editor/jgraduate/jQuery.jPicker.js","../../src/editor/locale/locale.js","../../src/editor/svgedit.js","../../src/editor/index.js","../../src/editor/jspdf/underscore-min.js","../../node_modules/rollup-plugin-node-polyfills/polyfills/global.js","../../node_modules/rollup-plugin-node-polyfills/polyfills/buffer-es6.js","../../src/editor/jspdf/jspdf.min.js","../../src/editor/canvg/rgbcolor.js","../../src/editor/jspdf/jspdf.plugin.svgToPdf.js"],"sourcesContent":["var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","module.exports = false;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.6.5',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: 'Â© 2020 Denis Pushkarev (zloirock.ru)'\n});\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","module.exports = {};\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyNames = require('../internals/object-get-own-property-names').f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return nativeGetOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : nativeGetOwnPropertyNames(toIndexedObject(it));\n};\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","var path = require('../internals/path');\nvar has = require('../internals/has');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else if (IS_EVERY) return false;  // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar isSymbol = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return Object(it) instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPrimitive(P, true);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPrimitive(V, true);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPrimitive(P, true);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.github.io/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.github.io/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = String(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.github.io/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.github.io/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.github.io/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  $({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","// `Symbol.prototype.description` getter\n// https://tc39.github.io/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.asyncIterator` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.asynciterator\ndefineWellKnownSymbol('asyncIterator');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.hasInstance` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.hasinstance\ndefineWellKnownSymbol('hasInstance');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.isConcatSpreadable` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.isconcatspreadable\ndefineWellKnownSymbol('isConcatSpreadable');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.match` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.match\ndefineWellKnownSymbol('match');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.matchAll` well-known symbol\ndefineWellKnownSymbol('matchAll');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.replace` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.replace\ndefineWellKnownSymbol('replace');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.search` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.search\ndefineWellKnownSymbol('search');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.species` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.species\ndefineWellKnownSymbol('species');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.split` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.split\ndefineWellKnownSymbol('split');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.toPrimitive` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.toprimitive\ndefineWellKnownSymbol('toPrimitive');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.toStringTag` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.tostringtag\ndefineWellKnownSymbol('toStringTag');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.unscopables` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.unscopables\ndefineWellKnownSymbol('unscopables');\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\nvar min = Math.min;\n\n// `Array.prototype.copyWithin` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.copywithin\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var $ = require('../internals/export');\nvar copyWithin = require('../internals/array-copy-within');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.copyWithin` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.copywithin\n$({ target: 'Array', proto: true }, {\n  copyWithin: copyWithin\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('copyWithin');\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $every = require('../internals/array-iteration').every;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('every');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('every');\n\n// `Array.prototype.every` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.every\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  every: function every(callbackfn /* , thisArg */) {\n    return $every(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND_INDEX);\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","'use strict';\nvar isArray = require('../internals/is-array');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\n\n// `FlattenIntoArray` abstract operation\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar flattenIntoArray = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? bind(mapper, thisArg, 3) : false;\n  var element;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      if (depth > 0 && isArray(element)) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1FFFFFFFFFFFFF) throw TypeError('Exceed the acceptable array length');\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n};\n\nmodule.exports = flattenIntoArray;\n","'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flat` method\n// https://github.com/tc39/proposal-flatMap\n$({ target: 'Array', proto: true }, {\n  flat: function flat(/* depthArg = 1 */) {\n    var depthArg = arguments.length ? arguments[0] : undefined;\n    var O = toObject(this);\n    var sourceLen = toLength(O.length);\n    var A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toInteger(depthArg));\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar aFunction = require('../internals/a-function');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flatMap` method\n// https://github.com/tc39/proposal-flatMap\n$({ target: 'Array', proto: true }, {\n  flatMap: function flatMap(callbackfn /* , thisArg */) {\n    var O = toObject(this);\n    var sourceLen = toLength(O.length);\n    var A;\n    aFunction(callbackfn);\n    A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    return A;\n  }\n});\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","var anObject = require('../internals/an-object');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    var returnMethod = iterator['return'];\n    if (returnMethod !== undefined) anObject(returnMethod.call(iterator));\n    throw error;\n  }\n};\n","module.exports = {};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.github.io/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.github.io/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var $ = require('../internals/export');\nvar isArray = require('../internals/is-array');\n\n// `Array.isArray` method\n// https://tc39.github.io/ecma262/#sec-array.isarray\n$({ target: 'Array', stat: true }, {\n  isArray: isArray\n});\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","'use strict';\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.github.io/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nif (IteratorPrototype == undefined) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif (!IS_PURE && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","var anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.github.io/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.github.io/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.github.io/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar min = Math.min;\nvar nativeLastIndexOf = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!nativeLastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('lastIndexOf');\n// For preventing possible almost infinite loop in non-standard implementations, test the forward version of the method\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\nvar FORCED = NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH;\n\n// `Array.prototype.lastIndexOf` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\nmodule.exports = FORCED ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n  // convert -0 to +0\n  if (NEGATIVE_ZERO) return nativeLastIndexOf.apply(this, arguments) || 0;\n  var O = toIndexedObject(this);\n  var length = toLength(O.length);\n  var index = length - 1;\n  if (arguments.length > 1) index = min(index, toInteger(arguments[1]));\n  if (index < 0) index = length + index;\n  for (;index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;\n  return -1;\n} : nativeLastIndexOf;\n","var $ = require('../internals/export');\nvar lastIndexOf = require('../internals/array-last-index-of');\n\n// `Array.prototype.lastIndexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\n$({ target: 'Array', proto: true, forced: lastIndexOf !== [].lastIndexOf }, {\n  lastIndexOf: lastIndexOf\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar createProperty = require('../internals/create-property');\n\nvar ISNT_GENERIC = fails(function () {\n  function F() { /* empty */ }\n  return !(Array.of.call(F) instanceof F);\n});\n\n// `Array.of` method\n// https://tc39.github.io/ecma262/#sec-array.of\n// WebKit Array.of isn't generic\n$({ target: 'Array', stat: true, forced: ISNT_GENERIC }, {\n  of: function of(/* ...args */) {\n    var index = 0;\n    var argumentsLength = arguments.length;\n    var result = new (typeof this == 'function' ? this : Array)(argumentsLength);\n    while (argumentsLength > index) createProperty(result, index, arguments[index++]);\n    result.length = argumentsLength;\n    return result;\n  }\n});\n","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $reduceRight = require('../internals/array-reduce').right;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduceRight');\n// For preventing possible almost infinite loop in non-standard implementations, test the forward version of the method\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n\n// `Array.prototype.reduceRight` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  reduceRight: function reduceRight(callbackfn /* , initialValue */) {\n    return $reduceRight(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar isArray = require('../internals/is-array');\n\nvar nativeReverse = [].reverse;\nvar test = [1, 2];\n\n// `Array.prototype.reverse` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reverse\n// fix for Safari 12.0 bug\n// https://bugs.webkit.org/show_bug.cgi?id=188794\n$({ target: 'Array', proto: true, forced: String(test) === String(test.reverse()) }, {\n  reverse: function reverse() {\n    // eslint-disable-next-line no-self-assign\n    if (isArray(this)) this.length = this.length;\n    return nativeReverse.call(this);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $some = require('../internals/array-iteration').some;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('some');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('some');\n\n// `Array.prototype.some` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.some\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar test = [];\nvar nativeSort = test.sort;\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar STRICT_METHOD = arrayMethodIsStrict('sort');\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD;\n\n// `Array.prototype.sort` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? nativeSort.call(toObject(this))\n      : nativeSort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","var setSpecies = require('../internals/set-species');\n\n// `Array[@@species]` getter\n// https://tc39.github.io/ecma262/#sec-get-array-@@species\nsetSpecies('Array');\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","// this method was added to unscopables after implementation\n// in popular engines, so it's moved to a separate module\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\naddToUnscopables('flat');\n","// this method was added to unscopables after implementation\n// in popular engines, so it's moved to a separate module\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\naddToUnscopables('flatMap');\n","module.exports = typeof ArrayBuffer !== 'undefined' && typeof DataView !== 'undefined';\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","var toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\n\n// `ToIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-toindex\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length or index');\n  return length;\n};\n","// IEEE754 conversions based on https://github.com/feross/ieee754\n// eslint-disable-next-line no-shadow-restricted-names\nvar Infinity = 1 / 0;\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\n\nvar pack = function (number, mantissaLength, bytes) {\n  var buffer = new Array(bytes);\n  var exponentLength = bytes * 8 - mantissaLength - 1;\n  var eMax = (1 << exponentLength) - 1;\n  var eBias = eMax >> 1;\n  var rt = mantissaLength === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var sign = number < 0 || number === 0 && 1 / number < 0 ? 1 : 0;\n  var index = 0;\n  var exponent, mantissa, c;\n  number = abs(number);\n  // eslint-disable-next-line no-self-compare\n  if (number != number || number === Infinity) {\n    // eslint-disable-next-line no-self-compare\n    mantissa = number != number ? 1 : 0;\n    exponent = eMax;\n  } else {\n    exponent = floor(log(number) / LN2);\n    if (number * (c = pow(2, -exponent)) < 1) {\n      exponent--;\n      c *= 2;\n    }\n    if (exponent + eBias >= 1) {\n      number += rt / c;\n    } else {\n      number += rt * pow(2, 1 - eBias);\n    }\n    if (number * c >= 2) {\n      exponent++;\n      c /= 2;\n    }\n    if (exponent + eBias >= eMax) {\n      mantissa = 0;\n      exponent = eMax;\n    } else if (exponent + eBias >= 1) {\n      mantissa = (number * c - 1) * pow(2, mantissaLength);\n      exponent = exponent + eBias;\n    } else {\n      mantissa = number * pow(2, eBias - 1) * pow(2, mantissaLength);\n      exponent = 0;\n    }\n  }\n  for (; mantissaLength >= 8; buffer[index++] = mantissa & 255, mantissa /= 256, mantissaLength -= 8);\n  exponent = exponent << mantissaLength | mantissa;\n  exponentLength += mantissaLength;\n  for (; exponentLength > 0; buffer[index++] = exponent & 255, exponent /= 256, exponentLength -= 8);\n  buffer[--index] |= sign * 128;\n  return buffer;\n};\n\nvar unpack = function (buffer, mantissaLength) {\n  var bytes = buffer.length;\n  var exponentLength = bytes * 8 - mantissaLength - 1;\n  var eMax = (1 << exponentLength) - 1;\n  var eBias = eMax >> 1;\n  var nBits = exponentLength - 7;\n  var index = bytes - 1;\n  var sign = buffer[index--];\n  var exponent = sign & 127;\n  var mantissa;\n  sign >>= 7;\n  for (; nBits > 0; exponent = exponent * 256 + buffer[index], index--, nBits -= 8);\n  mantissa = exponent & (1 << -nBits) - 1;\n  exponent >>= -nBits;\n  nBits += mantissaLength;\n  for (; nBits > 0; mantissa = mantissa * 256 + buffer[index], index--, nBits -= 8);\n  if (exponent === 0) {\n    exponent = 1 - eBias;\n  } else if (exponent === eMax) {\n    return mantissa ? NaN : sign ? -Infinity : Infinity;\n  } else {\n    mantissa = mantissa + pow(2, mantissaLength);\n    exponent = exponent - eBias;\n  } return (sign ? -1 : 1) * mantissa * pow(2, exponent - mantissaLength);\n};\n\nmodule.exports = {\n  pack: pack,\n  unpack: unpack\n};\n","'use strict';\nvar global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-native');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefineAll = require('../internals/redefine-all');\nvar fails = require('../internals/fails');\nvar anInstance = require('../internals/an-instance');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toIndex = require('../internals/to-index');\nvar IEEE754 = require('../internals/ieee754');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar arrayFill = require('../internals/array-fill');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length';\nvar WRONG_INDEX = 'Wrong index';\nvar NativeArrayBuffer = global[ARRAY_BUFFER];\nvar $ArrayBuffer = NativeArrayBuffer;\nvar $DataView = global[DATA_VIEW];\nvar $DataViewPrototype = $DataView && $DataView[PROTOTYPE];\nvar ObjectPrototype = Object.prototype;\nvar RangeError = global.RangeError;\n\nvar packIEEE754 = IEEE754.pack;\nvar unpackIEEE754 = IEEE754.unpack;\n\nvar packInt8 = function (number) {\n  return [number & 0xFF];\n};\n\nvar packInt16 = function (number) {\n  return [number & 0xFF, number >> 8 & 0xFF];\n};\n\nvar packInt32 = function (number) {\n  return [number & 0xFF, number >> 8 & 0xFF, number >> 16 & 0xFF, number >> 24 & 0xFF];\n};\n\nvar unpackInt32 = function (buffer) {\n  return buffer[3] << 24 | buffer[2] << 16 | buffer[1] << 8 | buffer[0];\n};\n\nvar packFloat32 = function (number) {\n  return packIEEE754(number, 23, 4);\n};\n\nvar packFloat64 = function (number) {\n  return packIEEE754(number, 52, 8);\n};\n\nvar addGetter = function (Constructor, key) {\n  defineProperty(Constructor[PROTOTYPE], key, { get: function () { return getInternalState(this)[key]; } });\n};\n\nvar get = function (view, count, index, isLittleEndian) {\n  var intIndex = toIndex(index);\n  var store = getInternalState(view);\n  if (intIndex + count > store.byteLength) throw RangeError(WRONG_INDEX);\n  var bytes = getInternalState(store.buffer).bytes;\n  var start = intIndex + store.byteOffset;\n  var pack = bytes.slice(start, start + count);\n  return isLittleEndian ? pack : pack.reverse();\n};\n\nvar set = function (view, count, index, conversion, value, isLittleEndian) {\n  var intIndex = toIndex(index);\n  var store = getInternalState(view);\n  if (intIndex + count > store.byteLength) throw RangeError(WRONG_INDEX);\n  var bytes = getInternalState(store.buffer).bytes;\n  var start = intIndex + store.byteOffset;\n  var pack = conversion(+value);\n  for (var i = 0; i < count; i++) bytes[start + i] = pack[isLittleEndian ? i : count - i - 1];\n};\n\nif (!NATIVE_ARRAY_BUFFER) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    setInternalState(this, {\n      bytes: arrayFill.call(new Array(byteLength), 0),\n      byteLength: byteLength\n    });\n    if (!DESCRIPTORS) this.byteLength = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = getInternalState(buffer).byteLength;\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    setInternalState(this, {\n      buffer: buffer,\n      byteLength: byteLength,\n      byteOffset: offset\n    });\n    if (!DESCRIPTORS) {\n      this.buffer = buffer;\n      this.byteLength = byteLength;\n      this.byteOffset = offset;\n    }\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, 'byteLength');\n    addGetter($DataView, 'buffer');\n    addGetter($DataView, 'byteLength');\n    addGetter($DataView, 'byteOffset');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : undefined);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : undefined);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined)) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined), 23);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments.length > 1 ? arguments[1] : undefined), 52);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packInt8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packInt8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packFloat32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packFloat64, value, arguments.length > 2 ? arguments[2] : undefined);\n    }\n  });\n} else {\n  if (!fails(function () {\n    NativeArrayBuffer(1);\n  }) || !fails(function () {\n    new NativeArrayBuffer(-1); // eslint-disable-line no-new\n  }) || fails(function () {\n    new NativeArrayBuffer(); // eslint-disable-line no-new\n    new NativeArrayBuffer(1.5); // eslint-disable-line no-new\n    new NativeArrayBuffer(NaN); // eslint-disable-line no-new\n    return NativeArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new NativeArrayBuffer(toIndex(length));\n    };\n    var ArrayBufferPrototype = $ArrayBuffer[PROTOTYPE] = NativeArrayBuffer[PROTOTYPE];\n    for (var keys = getOwnPropertyNames(NativeArrayBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) {\n        createNonEnumerableProperty($ArrayBuffer, key, NativeArrayBuffer[key]);\n      }\n    }\n    ArrayBufferPrototype.constructor = $ArrayBuffer;\n  }\n\n  // WebKit bug - the same parent prototype for typed arrays and data view\n  if (setPrototypeOf && getPrototypeOf($DataViewPrototype) !== ObjectPrototype) {\n    setPrototypeOf($DataViewPrototype, ObjectPrototype);\n  }\n\n  // iOS Safari 7.x bug\n  var testView = new $DataView(new $ArrayBuffer(2));\n  var nativeSetInt8 = $DataViewPrototype.setInt8;\n  testView.setInt8(0, 2147483648);\n  testView.setInt8(1, 2147483649);\n  if (testView.getInt8(0) || !testView.getInt8(1)) redefineAll($DataViewPrototype, {\n    setInt8: function setInt8(byteOffset, value) {\n      nativeSetInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      nativeSetInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, { unsafe: true });\n}\n\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\n\nmodule.exports = {\n  ArrayBuffer: $ArrayBuffer,\n  DataView: $DataView\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar arrayBufferModule = require('../internals/array-buffer');\nvar setSpecies = require('../internals/set-species');\n\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar ArrayBuffer = arrayBufferModule[ARRAY_BUFFER];\nvar NativeArrayBuffer = global[ARRAY_BUFFER];\n\n// `ArrayBuffer` constructor\n// https://tc39.github.io/ecma262/#sec-arraybuffer-constructor\n$({ global: true, forced: NativeArrayBuffer !== ArrayBuffer }, {\n  ArrayBuffer: ArrayBuffer\n});\n\nsetSpecies(ARRAY_BUFFER);\n","'use strict';\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-native');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar uid = require('../internals/uid');\n\nvar Int8Array = global.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar Uint8ClampedArray = global.Uint8ClampedArray;\nvar Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;\nvar TypedArray = Int8Array && getPrototypeOf(Int8Array);\nvar TypedArrayPrototype = Int8ArrayPrototype && getPrototypeOf(Int8ArrayPrototype);\nvar ObjectPrototype = Object.prototype;\nvar isPrototypeOf = ObjectPrototype.isPrototypeOf;\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar TYPED_ARRAY_TAG = uid('TYPED_ARRAY_TAG');\n// Fixing native typed arrays in Opera Presto crashes the browser, see #595\nvar NATIVE_ARRAY_BUFFER_VIEWS = NATIVE_ARRAY_BUFFER && !!setPrototypeOf && classof(global.opera) !== 'Opera';\nvar TYPED_ARRAY_TAG_REQIRED = false;\nvar NAME;\n\nvar TypedArrayConstructorsList = {\n  Int8Array: 1,\n  Uint8Array: 1,\n  Uint8ClampedArray: 1,\n  Int16Array: 2,\n  Uint16Array: 2,\n  Int32Array: 4,\n  Uint32Array: 4,\n  Float32Array: 4,\n  Float64Array: 8\n};\n\nvar isView = function isView(it) {\n  var klass = classof(it);\n  return klass === 'DataView' || has(TypedArrayConstructorsList, klass);\n};\n\nvar isTypedArray = function (it) {\n  return isObject(it) && has(TypedArrayConstructorsList, classof(it));\n};\n\nvar aTypedArray = function (it) {\n  if (isTypedArray(it)) return it;\n  throw TypeError('Target is not a typed array');\n};\n\nvar aTypedArrayConstructor = function (C) {\n  if (setPrototypeOf) {\n    if (isPrototypeOf.call(TypedArray, C)) return C;\n  } else for (var ARRAY in TypedArrayConstructorsList) if (has(TypedArrayConstructorsList, NAME)) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (C === TypedArrayConstructor || isPrototypeOf.call(TypedArrayConstructor, C))) {\n      return C;\n    }\n  } throw TypeError('Target is not a typed array constructor');\n};\n\nvar exportTypedArrayMethod = function (KEY, property, forced) {\n  if (!DESCRIPTORS) return;\n  if (forced) for (var ARRAY in TypedArrayConstructorsList) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && has(TypedArrayConstructor.prototype, KEY)) {\n      delete TypedArrayConstructor.prototype[KEY];\n    }\n  }\n  if (!TypedArrayPrototype[KEY] || forced) {\n    redefine(TypedArrayPrototype, KEY, forced ? property\n      : NATIVE_ARRAY_BUFFER_VIEWS && Int8ArrayPrototype[KEY] || property);\n  }\n};\n\nvar exportTypedArrayStaticMethod = function (KEY, property, forced) {\n  var ARRAY, TypedArrayConstructor;\n  if (!DESCRIPTORS) return;\n  if (setPrototypeOf) {\n    if (forced) for (ARRAY in TypedArrayConstructorsList) {\n      TypedArrayConstructor = global[ARRAY];\n      if (TypedArrayConstructor && has(TypedArrayConstructor, KEY)) {\n        delete TypedArrayConstructor[KEY];\n      }\n    }\n    if (!TypedArray[KEY] || forced) {\n      // V8 ~ Chrome 49-50 `%TypedArray%` methods are non-writable non-configurable\n      try {\n        return redefine(TypedArray, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && Int8Array[KEY] || property);\n      } catch (error) { /* empty */ }\n    } else return;\n  }\n  for (ARRAY in TypedArrayConstructorsList) {\n    TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {\n      redefine(TypedArrayConstructor, KEY, property);\n    }\n  }\n};\n\nfor (NAME in TypedArrayConstructorsList) {\n  if (!global[NAME]) NATIVE_ARRAY_BUFFER_VIEWS = false;\n}\n\n// WebKit bug - typed arrays constructors prototype is Object.prototype\nif (!NATIVE_ARRAY_BUFFER_VIEWS || typeof TypedArray != 'function' || TypedArray === Function.prototype) {\n  // eslint-disable-next-line no-shadow\n  TypedArray = function TypedArray() {\n    throw TypeError('Incorrect invocation');\n  };\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME], TypedArray);\n  }\n}\n\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !TypedArrayPrototype || TypedArrayPrototype === ObjectPrototype) {\n  TypedArrayPrototype = TypedArray.prototype;\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME].prototype, TypedArrayPrototype);\n  }\n}\n\n// WebKit bug - one more object in Uint8ClampedArray prototype chain\nif (NATIVE_ARRAY_BUFFER_VIEWS && getPrototypeOf(Uint8ClampedArrayPrototype) !== TypedArrayPrototype) {\n  setPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);\n}\n\nif (DESCRIPTORS && !has(TypedArrayPrototype, TO_STRING_TAG)) {\n  TYPED_ARRAY_TAG_REQIRED = true;\n  defineProperty(TypedArrayPrototype, TO_STRING_TAG, { get: function () {\n    return isObject(this) ? this[TYPED_ARRAY_TAG] : undefined;\n  } });\n  for (NAME in TypedArrayConstructorsList) if (global[NAME]) {\n    createNonEnumerableProperty(global[NAME], TYPED_ARRAY_TAG, NAME);\n  }\n}\n\nmodule.exports = {\n  NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS,\n  TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQIRED && TYPED_ARRAY_TAG,\n  aTypedArray: aTypedArray,\n  aTypedArrayConstructor: aTypedArrayConstructor,\n  exportTypedArrayMethod: exportTypedArrayMethod,\n  exportTypedArrayStaticMethod: exportTypedArrayStaticMethod,\n  isView: isView,\n  isTypedArray: isTypedArray,\n  TypedArray: TypedArray,\n  TypedArrayPrototype: TypedArrayPrototype\n};\n","var $ = require('../internals/export');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar NATIVE_ARRAY_BUFFER_VIEWS = ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS;\n\n// `ArrayBuffer.isView` method\n// https://tc39.github.io/ecma262/#sec-arraybuffer.isview\n$({ target: 'ArrayBuffer', stat: true, forced: !NATIVE_ARRAY_BUFFER_VIEWS }, {\n  isView: ArrayBufferViewCore.isView\n});\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.github.io/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar ArrayBufferModule = require('../internals/array-buffer');\nvar anObject = require('../internals/an-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar ArrayBuffer = ArrayBufferModule.ArrayBuffer;\nvar DataView = ArrayBufferModule.DataView;\nvar nativeArrayBufferSlice = ArrayBuffer.prototype.slice;\n\nvar INCORRECT_SLICE = fails(function () {\n  return !new ArrayBuffer(2).slice(1, undefined).byteLength;\n});\n\n// `ArrayBuffer.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-arraybuffer.prototype.slice\n$({ target: 'ArrayBuffer', proto: true, unsafe: true, forced: INCORRECT_SLICE }, {\n  slice: function slice(start, end) {\n    if (nativeArrayBufferSlice !== undefined && end === undefined) {\n      return nativeArrayBufferSlice.call(anObject(this), start); // FF fix\n    }\n    var length = anObject(this).byteLength;\n    var first = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    var result = new (speciesConstructor(this, ArrayBuffer))(toLength(fin - first));\n    var viewSource = new DataView(this);\n    var viewTarget = new DataView(result);\n    var index = 0;\n    while (first < fin) {\n      viewTarget.setUint8(index++, viewSource.getUint8(first++));\n    } return result;\n  }\n});\n","var $ = require('../internals/export');\nvar ArrayBufferModule = require('../internals/array-buffer');\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-native');\n\n// `DataView` constructor\n// https://tc39.github.io/ecma262/#sec-dataview-constructor\n$({ global: true, forced: !NATIVE_ARRAY_BUFFER }, {\n  DataView: ArrayBufferModule.DataView\n});\n","var $ = require('../internals/export');\n\n// `Date.now` method\n// https://tc39.github.io/ecma262/#sec-date.now\n$({ target: 'Date', stat: true }, {\n  now: function now() {\n    return new Date().getTime();\n  }\n});\n","'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.github.io/ecma262/#sec-string.prototype.repeat\nmodule.exports = ''.repeat || function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('../internals/to-length');\nvar repeat = require('../internals/string-repeat');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar ceil = Math.ceil;\n\n// `String.prototype.{ padStart, padEnd }` methods implementation\nvar createMethod = function (IS_END) {\n  return function ($this, maxLength, fillString) {\n    var S = String(requireObjectCoercible($this));\n    var stringLength = S.length;\n    var fillStr = fillString === undefined ? ' ' : String(fillString);\n    var intMaxLength = toLength(maxLength);\n    var fillLen, stringFiller;\n    if (intMaxLength <= stringLength || fillStr == '') return S;\n    fillLen = intMaxLength - stringLength;\n    stringFiller = repeat.call(fillStr, ceil(fillLen / fillStr.length));\n    if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n    return IS_END ? S + stringFiller : stringFiller + S;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.padStart` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.padstart\n  start: createMethod(false),\n  // `String.prototype.padEnd` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.padend\n  end: createMethod(true)\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar padStart = require('../internals/string-pad').start;\n\nvar abs = Math.abs;\nvar DatePrototype = Date.prototype;\nvar getTime = DatePrototype.getTime;\nvar nativeDateToISOString = DatePrototype.toISOString;\n\n// `Date.prototype.toISOString` method implementation\n// https://tc39.github.io/ecma262/#sec-date.prototype.toisostring\n// PhantomJS / old WebKit fails here:\nmodule.exports = (fails(function () {\n  return nativeDateToISOString.call(new Date(-5e13 - 1)) != '0385-07-25T07:06:39.999Z';\n}) || !fails(function () {\n  nativeDateToISOString.call(new Date(NaN));\n})) ? function toISOString() {\n  if (!isFinite(getTime.call(this))) throw RangeError('Invalid time value');\n  var date = this;\n  var year = date.getUTCFullYear();\n  var milliseconds = date.getUTCMilliseconds();\n  var sign = year < 0 ? '-' : year > 9999 ? '+' : '';\n  return sign + padStart(abs(year), sign ? 6 : 4, 0) +\n    '-' + padStart(date.getUTCMonth() + 1, 2, 0) +\n    '-' + padStart(date.getUTCDate(), 2, 0) +\n    'T' + padStart(date.getUTCHours(), 2, 0) +\n    ':' + padStart(date.getUTCMinutes(), 2, 0) +\n    ':' + padStart(date.getUTCSeconds(), 2, 0) +\n    '.' + padStart(milliseconds, 3, 0) +\n    'Z';\n} : nativeDateToISOString;\n","var $ = require('../internals/export');\nvar toISOString = require('../internals/date-to-iso-string');\n\n// `Date.prototype.toISOString` method\n// https://tc39.github.io/ecma262/#sec-date.prototype.toisostring\n// PhantomJS / old WebKit has a broken implementations\n$({ target: 'Date', proto: true, forced: Date.prototype.toISOString !== toISOString }, {\n  toISOString: toISOString\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toObject = require('../internals/to-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar FORCED = fails(function () {\n  return new Date(NaN).toJSON() !== null\n    || Date.prototype.toJSON.call({ toISOString: function () { return 1; } }) !== 1;\n});\n\n// `Date.prototype.toJSON` method\n// https://tc39.github.io/ecma262/#sec-date.prototype.tojson\n$({ target: 'Date', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars\n  toJSON: function toJSON(key) {\n    var O = toObject(this);\n    var pv = toPrimitive(O);\n    return typeof pv == 'number' && !isFinite(pv) ? null : O.toISOString();\n  }\n});\n","'use strict';\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nmodule.exports = function (hint) {\n  if (hint !== 'string' && hint !== 'number' && hint !== 'default') {\n    throw TypeError('Incorrect hint');\n  } return toPrimitive(anObject(this), hint !== 'number');\n};\n","var createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar dateToPrimitive = require('../internals/date-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar DatePrototype = Date.prototype;\n\n// `Date.prototype[@@toPrimitive]` method\n// https://tc39.github.io/ecma262/#sec-date.prototype-@@toprimitive\nif (!(TO_PRIMITIVE in DatePrototype)) {\n  createNonEnumerableProperty(DatePrototype, TO_PRIMITIVE, dateToPrimitive);\n}\n","var redefine = require('../internals/redefine');\n\nvar DatePrototype = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar nativeDateToString = DatePrototype[TO_STRING];\nvar getTime = DatePrototype.getTime;\n\n// `Date.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-date.prototype.tostring\nif (new Date(NaN) + '' != INVALID_DATE) {\n  redefine(DatePrototype, TO_STRING, function toString() {\n    var value = getTime.call(this);\n    // eslint-disable-next-line no-self-compare\n    return value === value ? nativeDateToString.call(this) : INVALID_DATE;\n  });\n}\n","'use strict';\nvar aFunction = require('../internals/a-function');\nvar isObject = require('../internals/is-object');\n\nvar slice = [].slice;\nvar factories = {};\n\nvar construct = function (C, argsLength, args) {\n  if (!(argsLength in factories)) {\n    for (var list = [], i = 0; i < argsLength; i++) list[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[argsLength] = Function('C,a', 'return new C(' + list.join(',') + ')');\n  } return factories[argsLength](C, args);\n};\n\n// `Function.prototype.bind` method implementation\n// https://tc39.github.io/ecma262/#sec-function.prototype.bind\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = slice.call(arguments, 1);\n  var boundFunction = function bound(/* args... */) {\n    var args = partArgs.concat(slice.call(arguments));\n    return this instanceof boundFunction ? construct(fn, args.length, args) : fn.apply(that, args);\n  };\n  if (isObject(fn.prototype)) boundFunction.prototype = fn.prototype;\n  return boundFunction;\n};\n","var $ = require('../internals/export');\nvar bind = require('../internals/function-bind');\n\n// `Function.prototype.bind` method\n// https://tc39.github.io/ecma262/#sec-function.prototype.bind\n$({ target: 'Function', proto: true }, {\n  bind: bind\n});\n","'use strict';\nvar isObject = require('../internals/is-object');\nvar definePropertyModule = require('../internals/object-define-property');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar HAS_INSTANCE = wellKnownSymbol('hasInstance');\nvar FunctionPrototype = Function.prototype;\n\n// `Function.prototype[@@hasInstance]` method\n// https://tc39.github.io/ecma262/#sec-function.prototype-@@hasinstance\nif (!(HAS_INSTANCE in FunctionPrototype)) {\n  definePropertyModule.f(FunctionPrototype, HAS_INSTANCE, { value: function (O) {\n    if (typeof this != 'function' || !isObject(O)) return false;\n    if (!isObject(this.prototype)) return O instanceof this;\n    // for environment w/o native `@@hasInstance` logic enough `instanceof`, but add this:\n    while (O = getPrototypeOf(O)) if (this.prototype === O) return true;\n    return false;\n  } });\n}\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\n\n// `globalThis` object\n// https://github.com/tc39/proposal-global\n$({ global: true }, {\n  globalThis: global\n});\n","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar fails = require('../internals/fails');\n\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar re = /[\\uD800-\\uDFFF]/g;\nvar low = /^[\\uD800-\\uDBFF]$/;\nvar hi = /^[\\uDC00-\\uDFFF]$/;\n\nvar fix = function (match, offset, string) {\n  var prev = string.charAt(offset - 1);\n  var next = string.charAt(offset + 1);\n  if ((low.test(match) && !hi.test(next)) || (hi.test(match) && !low.test(prev))) {\n    return '\\\\u' + match.charCodeAt(0).toString(16);\n  } return match;\n};\n\nvar FORCED = fails(function () {\n  return $stringify('\\uDF06\\uD834') !== '\"\\\\udf06\\\\ud834\"'\n    || $stringify('\\uDEAD') !== '\"\\\\udead\"';\n});\n\nif ($stringify) {\n  // https://github.com/tc39/proposal-well-formed-stringify\n  $({ target: 'JSON', stat: true, forced: FORCED }, {\n    // eslint-disable-next-line no-unused-vars\n    stringify: function stringify(it, replacer, space) {\n      var result = $stringify.apply(null, arguments);\n      return typeof result == 'string' ? result.replace(re, fix) : result;\n    }\n  });\n}\n","var global = require('../internals/global');\nvar setToStringTag = require('../internals/set-to-string-tag');\n\n// JSON[@@toStringTag] property\n// https://tc39.github.io/ecma262/#sec-json-@@tostringtag\nsetToStringTag(global.JSON, 'JSON', true);\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n","var hiddenKeys = require('../internals/hidden-keys');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar defineProperty = require('../internals/object-define-property').f;\nvar uid = require('../internals/uid');\nvar FREEZING = require('../internals/freezing');\n\nvar METADATA = uid('meta');\nvar id = 0;\n\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + ++id, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar meta = module.exports = {\n  REQUIRED: false,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar iterate = module.exports = function (iterable, fn, that, AS_ENTRIES, IS_ITERATOR) {\n  var boundFunction = bind(fn, that, AS_ENTRIES ? 2 : 1);\n  var iterator, iterFn, index, length, result, next, step;\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = AS_ENTRIES\n          ? boundFunction(anObject(step = iterable[index])[0], step[1])\n          : boundFunction(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    result = callWithSafeIterationClosing(iterator, boundFunction, step.value, AS_ENTRIES);\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n\niterate.stop = function (result) {\n  return new Result(true, result);\n};\n","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar iterate = require('../internals/iterate');\nvar anInstance = require('../internals/an-instance');\nvar isObject = require('../internals/is-object');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nmodule.exports = function (CONSTRUCTOR_NAME, wrapper, common) {\n  var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;\n  var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var NativeConstructor = global[CONSTRUCTOR_NAME];\n  var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n  var Constructor = NativeConstructor;\n  var exported = {};\n\n  var fixMethod = function (KEY) {\n    var nativeMethod = NativePrototype[KEY];\n    redefine(NativePrototype, KEY,\n      KEY == 'add' ? function add(value) {\n        nativeMethod.call(this, value === 0 ? 0 : value);\n        return this;\n      } : KEY == 'delete' ? function (key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'get' ? function get(key) {\n        return IS_WEAK && !isObject(key) ? undefined : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'has' ? function has(key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : function set(key, value) {\n        nativeMethod.call(this, key === 0 ? 0 : key, value);\n        return this;\n      }\n    );\n  };\n\n  // eslint-disable-next-line max-len\n  if (isForced(CONSTRUCTOR_NAME, typeof NativeConstructor != 'function' || !(IS_WEAK || NativePrototype.forEach && !fails(function () {\n    new NativeConstructor().entries().next();\n  })))) {\n    // create collection constructor\n    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n    InternalMetadataModule.REQUIRED = true;\n  } else if (isForced(CONSTRUCTOR_NAME, true)) {\n    var instance = new Constructor();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    // eslint-disable-next-line no-new\n    var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function (iterable) { new NativeConstructor(iterable); });\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new NativeConstructor();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n\n    if (!ACCEPT_ITERABLES) {\n      Constructor = wrapper(function (dummy, iterable) {\n        anInstance(dummy, Constructor, CONSTRUCTOR_NAME);\n        var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);\n        if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n        return that;\n      });\n      Constructor.prototype = NativePrototype;\n      NativePrototype.constructor = Constructor;\n    }\n\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n\n    // weak collections should not contains .clear method\n    if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;\n  }\n\n  exported[CONSTRUCTOR_NAME] = Constructor;\n  $({ global: true, forced: Constructor != NativeConstructor }, exported);\n\n  setToStringTag(Constructor, CONSTRUCTOR_NAME);\n\n  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n  return Constructor;\n};\n","'use strict';\nvar defineProperty = require('../internals/object-define-property').f;\nvar create = require('../internals/object-create');\nvar redefineAll = require('../internals/redefine-all');\nvar bind = require('../internals/function-bind-context');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar defineIterator = require('../internals/define-iterator');\nvar setSpecies = require('../internals/set-species');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fastKey = require('../internals/internal-metadata').fastKey;\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        index: create(null),\n        first: undefined,\n        last: undefined,\n        size: 0\n      });\n      if (!DESCRIPTORS) that.size = 0;\n      if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var entry = getEntry(that, key);\n      var previous, index;\n      // change existing entry\n      if (entry) {\n        entry.value = value;\n      // create new entry\n      } else {\n        state.last = entry = {\n          index: index = fastKey(key, true),\n          key: key,\n          value: value,\n          previous: previous = state.last,\n          next: undefined,\n          removed: false\n        };\n        if (!state.first) state.first = entry;\n        if (previous) previous.next = entry;\n        if (DESCRIPTORS) state.size++;\n        else that.size++;\n        // add to index\n        if (index !== 'F') state.index[index] = entry;\n      } return that;\n    };\n\n    var getEntry = function (that, key) {\n      var state = getInternalState(that);\n      // fast case\n      var index = fastKey(key);\n      var entry;\n      if (index !== 'F') return state.index[index];\n      // frozen object case\n      for (entry = state.first; entry; entry = entry.next) {\n        if (entry.key == key) return entry;\n      }\n    };\n\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        var that = this;\n        var state = getInternalState(that);\n        var data = state.index;\n        var entry = state.first;\n        while (entry) {\n          entry.removed = true;\n          if (entry.previous) entry.previous = entry.previous.next = undefined;\n          delete data[entry.index];\n          entry = entry.next;\n        }\n        state.first = state.last = undefined;\n        if (DESCRIPTORS) state.size = 0;\n        else that.size = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = this;\n        var state = getInternalState(that);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.next;\n          var prev = entry.previous;\n          delete state.index[entry.index];\n          entry.removed = true;\n          if (prev) prev.next = next;\n          if (next) next.previous = prev;\n          if (state.first == entry) state.first = next;\n          if (state.last == entry) state.last = prev;\n          if (DESCRIPTORS) state.size--;\n          else that.size--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        var state = getInternalState(this);\n        var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.next : state.first) {\n          boundFunction(entry.value, entry.key, this);\n          // revert to the last existing entry\n          while (entry && entry.removed) entry = entry.previous;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(this, key);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // 23.1.3.6 Map.prototype.get(key)\n      get: function get(key) {\n        var entry = getEntry(this, key);\n        return entry && entry.value;\n      },\n      // 23.1.3.9 Map.prototype.set(key, value)\n      set: function set(key, value) {\n        return define(this, key === 0 ? 0 : key, value);\n      }\n    } : {\n      // 23.2.3.1 Set.prototype.add(value)\n      add: function add(value) {\n        return define(this, value = value === 0 ? 0 : value, value);\n      }\n    });\n    if (DESCRIPTORS) defineProperty(C.prototype, 'size', {\n      get: function () {\n        return getInternalState(this).size;\n      }\n    });\n    return C;\n  },\n  setStrong: function (C, CONSTRUCTOR_NAME, IS_MAP) {\n    var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';\n    var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);\n    var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    defineIterator(C, CONSTRUCTOR_NAME, function (iterated, kind) {\n      setInternalState(this, {\n        type: ITERATOR_NAME,\n        target: iterated,\n        state: getInternalCollectionState(iterated),\n        kind: kind,\n        last: undefined\n      });\n    }, function () {\n      var state = getInternalIteratorState(this);\n      var kind = state.kind;\n      var entry = state.last;\n      // revert to the last existing entry\n      while (entry && entry.removed) entry = entry.previous;\n      // get next entry\n      if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {\n        // or finish the iteration\n        state.target = undefined;\n        return { value: undefined, done: true };\n      }\n      // return step by kind\n      if (kind == 'keys') return { value: entry.key, done: false };\n      if (kind == 'values') return { value: entry.value, done: false };\n      return { value: [entry.key, entry.value], done: false };\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(CONSTRUCTOR_NAME);\n  }\n};\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Map` constructor\n// https://tc39.github.io/ecma262/#sec-map-objects\nmodule.exports = collection('Map', function (init) {\n  return function Map() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","var log = Math.log;\n\n// `Math.log1p` method implementation\n// https://tc39.github.io/ecma262/#sec-math.log1p\nmodule.exports = Math.log1p || function log1p(x) {\n  return (x = +x) > -1e-8 && x < 1e-8 ? x - x * x / 2 : log(1 + x);\n};\n","var $ = require('../internals/export');\nvar log1p = require('../internals/math-log1p');\n\nvar nativeAcosh = Math.acosh;\nvar log = Math.log;\nvar sqrt = Math.sqrt;\nvar LN2 = Math.LN2;\n\nvar FORCED = !nativeAcosh\n  // V8 bug: https://code.google.com/p/v8/issues/detail?id=3509\n  || Math.floor(nativeAcosh(Number.MAX_VALUE)) != 710\n  // Tor Browser bug: Math.acosh(Infinity) -> NaN\n  || nativeAcosh(Infinity) != Infinity;\n\n// `Math.acosh` method\n// https://tc39.github.io/ecma262/#sec-math.acosh\n$({ target: 'Math', stat: true, forced: FORCED }, {\n  acosh: function acosh(x) {\n    return (x = +x) < 1 ? NaN : x > 94906265.62425156\n      ? log(x) + LN2\n      : log1p(x - 1 + sqrt(x - 1) * sqrt(x + 1));\n  }\n});\n","var $ = require('../internals/export');\n\nvar nativeAsinh = Math.asinh;\nvar log = Math.log;\nvar sqrt = Math.sqrt;\n\nfunction asinh(x) {\n  return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : log(x + sqrt(x * x + 1));\n}\n\n// `Math.asinh` method\n// https://tc39.github.io/ecma262/#sec-math.asinh\n// Tor Browser bug: Math.asinh(0) -> -0\n$({ target: 'Math', stat: true, forced: !(nativeAsinh && 1 / nativeAsinh(0) > 0) }, {\n  asinh: asinh\n});\n","var $ = require('../internals/export');\n\nvar nativeAtanh = Math.atanh;\nvar log = Math.log;\n\n// `Math.atanh` method\n// https://tc39.github.io/ecma262/#sec-math.atanh\n// Tor Browser bug: Math.atanh(-0) -> 0\n$({ target: 'Math', stat: true, forced: !(nativeAtanh && 1 / nativeAtanh(-0) < 0) }, {\n  atanh: function atanh(x) {\n    return (x = +x) == 0 ? x : log((1 + x) / (1 - x)) / 2;\n  }\n});\n","// `Math.sign` method implementation\n// https://tc39.github.io/ecma262/#sec-math.sign\nmodule.exports = Math.sign || function sign(x) {\n  // eslint-disable-next-line no-self-compare\n  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\n};\n","var $ = require('../internals/export');\nvar sign = require('../internals/math-sign');\n\nvar abs = Math.abs;\nvar pow = Math.pow;\n\n// `Math.cbrt` method\n// https://tc39.github.io/ecma262/#sec-math.cbrt\n$({ target: 'Math', stat: true }, {\n  cbrt: function cbrt(x) {\n    return sign(x = +x) * pow(abs(x), 1 / 3);\n  }\n});\n","var $ = require('../internals/export');\n\nvar floor = Math.floor;\nvar log = Math.log;\nvar LOG2E = Math.LOG2E;\n\n// `Math.clz32` method\n// https://tc39.github.io/ecma262/#sec-math.clz32\n$({ target: 'Math', stat: true }, {\n  clz32: function clz32(x) {\n    return (x >>>= 0) ? 31 - floor(log(x + 0.5) * LOG2E) : 32;\n  }\n});\n","var nativeExpm1 = Math.expm1;\nvar exp = Math.exp;\n\n// `Math.expm1` method implementation\n// https://tc39.github.io/ecma262/#sec-math.expm1\nmodule.exports = (!nativeExpm1\n  // Old FF bug\n  || nativeExpm1(10) > 22025.465794806719 || nativeExpm1(10) < 22025.4657948067165168\n  // Tor Browser bug\n  || nativeExpm1(-2e-17) != -2e-17\n) ? function expm1(x) {\n  return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : exp(x) - 1;\n} : nativeExpm1;\n","var $ = require('../internals/export');\nvar expm1 = require('../internals/math-expm1');\n\nvar nativeCosh = Math.cosh;\nvar abs = Math.abs;\nvar E = Math.E;\n\n// `Math.cosh` method\n// https://tc39.github.io/ecma262/#sec-math.cosh\n$({ target: 'Math', stat: true, forced: !nativeCosh || nativeCosh(710) === Infinity }, {\n  cosh: function cosh(x) {\n    var t = expm1(abs(x) - 1) + 1;\n    return (t + 1 / (t * E * E)) * (E / 2);\n  }\n});\n","var $ = require('../internals/export');\nvar expm1 = require('../internals/math-expm1');\n\n// `Math.expm1` method\n// https://tc39.github.io/ecma262/#sec-math.expm1\n$({ target: 'Math', stat: true, forced: expm1 != Math.expm1 }, { expm1: expm1 });\n","var sign = require('../internals/math-sign');\n\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar EPSILON = pow(2, -52);\nvar EPSILON32 = pow(2, -23);\nvar MAX32 = pow(2, 127) * (2 - EPSILON32);\nvar MIN32 = pow(2, -126);\n\nvar roundTiesToEven = function (n) {\n  return n + 1 / EPSILON - 1 / EPSILON;\n};\n\n// `Math.fround` method implementation\n// https://tc39.github.io/ecma262/#sec-math.fround\nmodule.exports = Math.fround || function fround(x) {\n  var $abs = abs(x);\n  var $sign = sign(x);\n  var a, result;\n  if ($abs < MIN32) return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32;\n  a = (1 + EPSILON32 / EPSILON) * $abs;\n  result = a - (a - $abs);\n  // eslint-disable-next-line no-self-compare\n  if (result > MAX32 || result != result) return $sign * Infinity;\n  return $sign * result;\n};\n","var $ = require('../internals/export');\nvar fround = require('../internals/math-fround');\n\n// `Math.fround` method\n// https://tc39.github.io/ecma262/#sec-math.fround\n$({ target: 'Math', stat: true }, { fround: fround });\n","var $ = require('../internals/export');\n\nvar $hypot = Math.hypot;\nvar abs = Math.abs;\nvar sqrt = Math.sqrt;\n\n// Chrome 77 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=9546\nvar BUGGY = !!$hypot && $hypot(Infinity, NaN) !== Infinity;\n\n// `Math.hypot` method\n// https://tc39.github.io/ecma262/#sec-math.hypot\n$({ target: 'Math', stat: true, forced: BUGGY }, {\n  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * sqrt(sum);\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\n\nvar nativeImul = Math.imul;\n\nvar FORCED = fails(function () {\n  return nativeImul(0xFFFFFFFF, 5) != -5 || nativeImul.length != 2;\n});\n\n// `Math.imul` method\n// https://tc39.github.io/ecma262/#sec-math.imul\n// some WebKit versions fails with big numbers, some has wrong arity\n$({ target: 'Math', stat: true, forced: FORCED }, {\n  imul: function imul(x, y) {\n    var UINT16 = 0xFFFF;\n    var xn = +x;\n    var yn = +y;\n    var xl = UINT16 & xn;\n    var yl = UINT16 & yn;\n    return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) << 16 >>> 0);\n  }\n});\n","var $ = require('../internals/export');\n\nvar log = Math.log;\nvar LOG10E = Math.LOG10E;\n\n// `Math.log10` method\n// https://tc39.github.io/ecma262/#sec-math.log10\n$({ target: 'Math', stat: true }, {\n  log10: function log10(x) {\n    return log(x) * LOG10E;\n  }\n});\n","var $ = require('../internals/export');\nvar log1p = require('../internals/math-log1p');\n\n// `Math.log1p` method\n// https://tc39.github.io/ecma262/#sec-math.log1p\n$({ target: 'Math', stat: true }, { log1p: log1p });\n","var $ = require('../internals/export');\n\nvar log = Math.log;\nvar LN2 = Math.LN2;\n\n// `Math.log2` method\n// https://tc39.github.io/ecma262/#sec-math.log2\n$({ target: 'Math', stat: true }, {\n  log2: function log2(x) {\n    return log(x) / LN2;\n  }\n});\n","var $ = require('../internals/export');\nvar sign = require('../internals/math-sign');\n\n// `Math.sign` method\n// https://tc39.github.io/ecma262/#sec-math.sign\n$({ target: 'Math', stat: true }, {\n  sign: sign\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar expm1 = require('../internals/math-expm1');\n\nvar abs = Math.abs;\nvar exp = Math.exp;\nvar E = Math.E;\n\nvar FORCED = fails(function () {\n  return Math.sinh(-2e-17) != -2e-17;\n});\n\n// `Math.sinh` method\n// https://tc39.github.io/ecma262/#sec-math.sinh\n// V8 near Chromium 38 has a problem with very small numbers\n$({ target: 'Math', stat: true, forced: FORCED }, {\n  sinh: function sinh(x) {\n    return abs(x = +x) < 1 ? (expm1(x) - expm1(-x)) / 2 : (exp(x - 1) - exp(-x - 1)) * (E / 2);\n  }\n});\n","var $ = require('../internals/export');\nvar expm1 = require('../internals/math-expm1');\n\nvar exp = Math.exp;\n\n// `Math.tanh` method\n// https://tc39.github.io/ecma262/#sec-math.tanh\n$({ target: 'Math', stat: true }, {\n  tanh: function tanh(x) {\n    var a = expm1(x = +x);\n    var b = expm1(-x);\n    return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x));\n  }\n});\n","var setToStringTag = require('../internals/set-to-string-tag');\n\n// Math[@@toStringTag] property\n// https://tc39.github.io/ecma262/#sec-math-@@tostringtag\nsetToStringTag(Math, 'Math', true);\n","var $ = require('../internals/export');\n\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.github.io/ecma262/#sec-math.trunc\n$({ target: 'Math', stat: true }, {\n  trunc: function trunc(it) {\n    return (it > 0 ? floor : ceil)(it);\n  }\n});\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","var $ = require('../internals/export');\n\n// `Number.EPSILON` constant\n// https://tc39.github.io/ecma262/#sec-number.epsilon\n$({ target: 'Number', stat: true }, {\n  EPSILON: Math.pow(2, -52)\n});\n","var global = require('../internals/global');\n\nvar globalIsFinite = global.isFinite;\n\n// `Number.isFinite` method\n// https://tc39.github.io/ecma262/#sec-number.isfinite\nmodule.exports = Number.isFinite || function isFinite(it) {\n  return typeof it == 'number' && globalIsFinite(it);\n};\n","var $ = require('../internals/export');\nvar numberIsFinite = require('../internals/number-is-finite');\n\n// `Number.isFinite` method\n// https://tc39.github.io/ecma262/#sec-number.isfinite\n$({ target: 'Number', stat: true }, { isFinite: numberIsFinite });\n","var isObject = require('../internals/is-object');\n\nvar floor = Math.floor;\n\n// `Number.isInteger` method implementation\n// https://tc39.github.io/ecma262/#sec-number.isinteger\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n","var $ = require('../internals/export');\nvar isInteger = require('../internals/is-integer');\n\n// `Number.isInteger` method\n// https://tc39.github.io/ecma262/#sec-number.isinteger\n$({ target: 'Number', stat: true }, {\n  isInteger: isInteger\n});\n","var $ = require('../internals/export');\n\n// `Number.isNaN` method\n// https://tc39.github.io/ecma262/#sec-number.isnan\n$({ target: 'Number', stat: true }, {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare\n    return number != number;\n  }\n});\n","var $ = require('../internals/export');\nvar isInteger = require('../internals/is-integer');\n\nvar abs = Math.abs;\n\n// `Number.isSafeInteger` method\n// https://tc39.github.io/ecma262/#sec-number.issafeinteger\n$({ target: 'Number', stat: true }, {\n  isSafeInteger: function isSafeInteger(number) {\n    return isInteger(number) && abs(number) <= 0x1FFFFFFFFFFFFF;\n  }\n});\n","var $ = require('../internals/export');\n\n// `Number.MAX_SAFE_INTEGER` constant\n// https://tc39.github.io/ecma262/#sec-number.max_safe_integer\n$({ target: 'Number', stat: true }, {\n  MAX_SAFE_INTEGER: 0x1FFFFFFFFFFFFF\n});\n","var $ = require('../internals/export');\n\n// `Number.MIN_SAFE_INTEGER` constant\n// https://tc39.github.io/ecma262/#sec-number.min_safe_integer\n$({ target: 'Number', stat: true }, {\n  MIN_SAFE_INTEGER: -0x1FFFFFFFFFFFFF\n});\n","var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar $parseFloat = global.parseFloat;\nvar FORCED = 1 / $parseFloat(whitespaces + '-0') !== -Infinity;\n\n// `parseFloat` method\n// https://tc39.github.io/ecma262/#sec-parsefloat-string\nmodule.exports = FORCED ? function parseFloat(string) {\n  var trimmedString = trim(String(string));\n  var result = $parseFloat(trimmedString);\n  return result === 0 && trimmedString.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n","var $ = require('../internals/export');\nvar parseFloat = require('../internals/number-parse-float');\n\n// `Number.parseFloat` method\n// https://tc39.github.io/ecma262/#sec-number.parseFloat\n$({ target: 'Number', stat: true, forced: Number.parseFloat != parseFloat }, {\n  parseFloat: parseFloat\n});\n","var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar $parseInt = global.parseInt;\nvar hex = /^[+-]?0[Xx]/;\nvar FORCED = $parseInt(whitespaces + '08') !== 8 || $parseInt(whitespaces + '0x16') !== 22;\n\n// `parseInt` method\n// https://tc39.github.io/ecma262/#sec-parseint-string-radix\nmodule.exports = FORCED ? function parseInt(string, radix) {\n  var S = trim(String(string));\n  return $parseInt(S, (radix >>> 0) || (hex.test(S) ? 16 : 10));\n} : $parseInt;\n","var $ = require('../internals/export');\nvar parseInt = require('../internals/number-parse-int');\n\n// `Number.parseInt` method\n// https://tc39.github.io/ecma262/#sec-number.parseint\n$({ target: 'Number', stat: true, forced: Number.parseInt != parseInt }, {\n  parseInt: parseInt\n});\n","var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.github.io/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line max-statements\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    var multiply = function (n, c) {\n      var index = -1;\n      var c2 = c;\n      while (++index < 6) {\n        c2 += n * data[index];\n        data[index] = c2 % 1e7;\n        c2 = floor(c2 / 1e7);\n      }\n    };\n\n    var divide = function (n) {\n      var index = 6;\n      var c = 0;\n      while (--index >= 0) {\n        c += data[index];\n        data[index] = floor(c / n);\n        c = (c % n) * 1e7;\n      }\n    };\n\n    var dataToString = function () {\n      var index = 6;\n      var s = '';\n      while (--index >= 0) {\n        if (s !== '' || index === 0 || data[index] !== 0) {\n          var t = String(data[index]);\n          s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n        }\n      } return s;\n    };\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        result = dataToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        result = dataToString() + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar thisNumberValue = require('../internals/this-number-value');\n\nvar nativeToPrecision = 1.0.toPrecision;\n\nvar FORCED = fails(function () {\n  // IE7-\n  return nativeToPrecision.call(1, undefined) !== '1';\n}) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToPrecision.call({});\n});\n\n// `Number.prototype.toPrecision` method\n// https://tc39.github.io/ecma262/#sec-number.prototype.toprecision\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toPrecision: function toPrecision(precision) {\n    return precision === undefined\n      ? nativeToPrecision.call(thisNumberValue(this))\n      : nativeToPrecision.call(thisNumberValue(this), precision);\n  }\n});\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\nvar nativeAssign = Object.assign;\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\nmodule.exports = !nativeAssign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && nativeAssign({ b: 1 }, nativeAssign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : nativeAssign;\n","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar create = require('../internals/object-create');\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  create: create\n});\n","'use strict';\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar fails = require('../internals/fails');\n\n// Forced replacement object prototype accessors methods\nmodule.exports = IS_PURE || !fails(function () {\n  var key = Math.random();\n  // In FF throws only define methods\n  // eslint-disable-next-line no-undef, no-useless-call\n  __defineSetter__.call(null, key, function () { /* empty */ });\n  delete global[key];\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar FORCED = require('../internals/object-prototype-accessors-forced');\nvar toObject = require('../internals/to-object');\nvar aFunction = require('../internals/a-function');\nvar definePropertyModule = require('../internals/object-define-property');\n\n// `Object.prototype.__defineGetter__` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.__defineGetter__\nif (DESCRIPTORS) {\n  $({ target: 'Object', proto: true, forced: FORCED }, {\n    __defineGetter__: function __defineGetter__(P, getter) {\n      definePropertyModule.f(toObject(this), P, { get: aFunction(getter), enumerable: true, configurable: true });\n    }\n  });\n}\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar defineProperties = require('../internals/object-define-properties');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\n$({ target: 'Object', stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {\n  defineProperties: defineProperties\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar objectDefinePropertyModile = require('../internals/object-define-property');\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\n$({ target: 'Object', stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {\n  defineProperty: objectDefinePropertyModile.f\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar FORCED = require('../internals/object-prototype-accessors-forced');\nvar toObject = require('../internals/to-object');\nvar aFunction = require('../internals/a-function');\nvar definePropertyModule = require('../internals/object-define-property');\n\n// `Object.prototype.__defineSetter__` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.__defineSetter__\nif (DESCRIPTORS) {\n  $({ target: 'Object', proto: true, forced: FORCED }, {\n    __defineSetter__: function __defineSetter__(P, setter) {\n      definePropertyModule.f(toObject(this), P, { set: aFunction(setter), enumerable: true, configurable: true });\n    }\n  });\n}\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.github.io/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.github.io/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.github.io/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","var $ = require('../internals/export');\nvar FREEZING = require('../internals/freezing');\nvar fails = require('../internals/fails');\nvar isObject = require('../internals/is-object');\nvar onFreeze = require('../internals/internal-metadata').onFreeze;\n\nvar nativeFreeze = Object.freeze;\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeFreeze(1); });\n\n// `Object.freeze` method\n// https://tc39.github.io/ecma262/#sec-object.freeze\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING }, {\n  freeze: function freeze(it) {\n    return nativeFreeze && isObject(it) ? nativeFreeze(onFreeze(it)) : it;\n  }\n});\n","var $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar createProperty = require('../internals/create-property');\n\n// `Object.fromEntries` method\n// https://github.com/tc39/proposal-object-from-entries\n$({ target: 'Object', stat: true }, {\n  fromEntries: function fromEntries(iterable) {\n    var obj = {};\n    iterate(iterable, function (k, v) {\n      createProperty(obj, k, v);\n    }, undefined, true);\n    return obj;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar nativeGetOwnPropertyNames = require('../internals/object-get-own-property-names-external').f;\n\nvar FAILS_ON_PRIMITIVES = fails(function () { return !Object.getOwnPropertyNames(1); });\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  getOwnPropertyNames: nativeGetOwnPropertyNames\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toObject = require('../internals/to-object');\nvar nativeGetPrototypeOf = require('../internals/object-get-prototype-of');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetPrototypeOf(1); });\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !CORRECT_PROTOTYPE_GETTER }, {\n  getPrototypeOf: function getPrototypeOf(it) {\n    return nativeGetPrototypeOf(toObject(it));\n  }\n});\n\n","// `SameValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-samevalue\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","var $ = require('../internals/export');\nvar is = require('../internals/same-value');\n\n// `Object.is` method\n// https://tc39.github.io/ecma262/#sec-object.is\n$({ target: 'Object', stat: true }, {\n  is: is\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isObject = require('../internals/is-object');\n\nvar nativeIsExtensible = Object.isExtensible;\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeIsExtensible(1); });\n\n// `Object.isExtensible` method\n// https://tc39.github.io/ecma262/#sec-object.isextensible\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  isExtensible: function isExtensible(it) {\n    return isObject(it) ? nativeIsExtensible ? nativeIsExtensible(it) : true : false;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isObject = require('../internals/is-object');\n\nvar nativeIsFrozen = Object.isFrozen;\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeIsFrozen(1); });\n\n// `Object.isFrozen` method\n// https://tc39.github.io/ecma262/#sec-object.isfrozen\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  isFrozen: function isFrozen(it) {\n    return isObject(it) ? nativeIsFrozen ? nativeIsFrozen(it) : false : true;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isObject = require('../internals/is-object');\n\nvar nativeIsSealed = Object.isSealed;\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeIsSealed(1); });\n\n// `Object.isSealed` method\n// https://tc39.github.io/ecma262/#sec-object.issealed\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  isSealed: function isSealed(it) {\n    return isObject(it) ? nativeIsSealed ? nativeIsSealed(it) : false : true;\n  }\n});\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar FORCED = require('../internals/object-prototype-accessors-forced');\nvar toObject = require('../internals/to-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\n\n// `Object.prototype.__lookupGetter__` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.__lookupGetter__\nif (DESCRIPTORS) {\n  $({ target: 'Object', proto: true, forced: FORCED }, {\n    __lookupGetter__: function __lookupGetter__(P) {\n      var O = toObject(this);\n      var key = toPrimitive(P, true);\n      var desc;\n      do {\n        if (desc = getOwnPropertyDescriptor(O, key)) return desc.get;\n      } while (O = getPrototypeOf(O));\n    }\n  });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar FORCED = require('../internals/object-prototype-accessors-forced');\nvar toObject = require('../internals/to-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\n\n// `Object.prototype.__lookupSetter__` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.__lookupSetter__\nif (DESCRIPTORS) {\n  $({ target: 'Object', proto: true, forced: FORCED }, {\n    __lookupSetter__: function __lookupSetter__(P) {\n      var O = toObject(this);\n      var key = toPrimitive(P, true);\n      var desc;\n      do {\n        if (desc = getOwnPropertyDescriptor(O, key)) return desc.set;\n      } while (O = getPrototypeOf(O));\n    }\n  });\n}\n","var $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar onFreeze = require('../internals/internal-metadata').onFreeze;\nvar FREEZING = require('../internals/freezing');\nvar fails = require('../internals/fails');\n\nvar nativePreventExtensions = Object.preventExtensions;\nvar FAILS_ON_PRIMITIVES = fails(function () { nativePreventExtensions(1); });\n\n// `Object.preventExtensions` method\n// https://tc39.github.io/ecma262/#sec-object.preventextensions\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING }, {\n  preventExtensions: function preventExtensions(it) {\n    return nativePreventExtensions && isObject(it) ? nativePreventExtensions(onFreeze(it)) : it;\n  }\n});\n","var $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar onFreeze = require('../internals/internal-metadata').onFreeze;\nvar FREEZING = require('../internals/freezing');\nvar fails = require('../internals/fails');\n\nvar nativeSeal = Object.seal;\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeSeal(1); });\n\n// `Object.seal` method\n// https://tc39.github.io/ecma262/#sec-object.seal\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING }, {\n  seal: function seal(it) {\n    return nativeSeal && isObject(it) ? nativeSeal(onFreeze(it)) : it;\n  }\n});\n","var $ = require('../internals/export');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n$({ target: 'Object', stat: true }, {\n  setPrototypeOf: setPrototypeOf\n});\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.github.io/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","var $ = require('../internals/export');\nvar parseFloatImplementation = require('../internals/number-parse-float');\n\n// `parseFloat` method\n// https://tc39.github.io/ecma262/#sec-parsefloat-string\n$({ global: true, forced: parseFloat != parseFloatImplementation }, {\n  parseFloat: parseFloatImplementation\n});\n","var $ = require('../internals/export');\nvar parseIntImplementation = require('../internals/number-parse-int');\n\n// `parseInt` method\n// https://tc39.github.io/ecma262/#sec-parseint-string-radix\n$({ global: true, forced: parseInt != parseIntImplementation }, {\n  parseInt: parseIntImplementation\n});\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\nvar bind = require('../internals/function-bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (classof(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    typeof postMessage == 'function' &&\n    !global.importScripts &&\n    !fails(post) &&\n    location.protocol !== 'file:'\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar classof = require('../internals/classof-raw');\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/engine-is-ios');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar IS_NODE = classof(process) == 'process';\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  } else if (MutationObserver && !IS_IOS) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar classof = require('../internals/classof-raw');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar PromiseConstructor = NativePromise;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar $fetch = getBuiltIn('fetch');\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar IS_NODE = classof(process) == 'process';\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  if (!GLOBAL_CORE_JS_PROMISE) {\n    // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n    // We can't detect it synchronously, so just check versions\n    if (V8_VERSION === 66) return true;\n    // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    if (!IS_NODE && typeof PromiseRejectionEvent != 'function') return true;\n  }\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructor.prototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = PromiseConstructor.resolve(1);\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (promise, state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(promise, state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(promise, state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (handler = global['on' + name]) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (promise, state) {\n  task.call(global, function () {\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (promise, state) {\n  task.call(global, function () {\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, promise, state, unwrap) {\n  return function (value) {\n    fn(promise, state, value, unwrap);\n  };\n};\n\nvar internalReject = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(promise, state, true);\n};\n\nvar internalResolve = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, promise, wrapper, state),\n            bind(internalReject, promise, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(promise, wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(promise, state, false);\n    }\n  } catch (error) {\n    internalReject(promise, { done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, this, state), bind(internalReject, this, state));\n    } catch (error) {\n      internalReject(this, state, error);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(this, state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, promise, state);\n    this.reject = bind(internalReject, promise, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function') {\n    nativeThen = NativePromise.prototype.then;\n\n    // wrap native Promise#then for native async functions\n    redefine(NativePromise.prototype, 'then', function then(onFulfilled, onRejected) {\n      var that = this;\n      return new PromiseConstructor(function (resolve, reject) {\n        nativeThen.call(that, resolve, reject);\n      }).then(onFulfilled, onRejected);\n    // https://github.com/zloirock/core-js/issues/640\n    }, { unsafe: true });\n\n    // wrap fetch result\n    if (typeof $fetch == 'function') $({ global: true, enumerable: true, forced: true }, {\n      // eslint-disable-next-line no-unused-vars\n      fetch: function fetch(input /* , init */) {\n        return promiseResolve(PromiseConstructor, $fetch.apply(global, arguments));\n      }\n    });\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.github.io/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.github.io/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.github.io/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.github.io/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar iterate = require('../internals/iterate');\n\n// `Promise.allSettled` method\n// https://github.com/tc39/proposal-promise-allSettled\n$({ target: 'Promise', stat: true }, {\n  allSettled: function allSettled(iterable) {\n    var C = this;\n    var capability = newPromiseCapabilityModule.f(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = { status: 'fulfilled', value: value };\n          --remaining || resolve(values);\n        }, function (e) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = { status: 'rejected', reason: e };\n          --remaining || resolve(values);\n        });\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar fails = require('../internals/fails');\nvar getBuiltIn = require('../internals/get-built-in');\nvar speciesConstructor = require('../internals/species-constructor');\nvar promiseResolve = require('../internals/promise-resolve');\nvar redefine = require('../internals/redefine');\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromise && fails(function () {\n  NativePromise.prototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.github.io/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = typeof onFinally == 'function';\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// patch native Promise.prototype for native async functions\nif (!IS_PURE && typeof NativePromise == 'function' && !NativePromise.prototype['finally']) {\n  redefine(NativePromise.prototype, 'finally', getBuiltIn('Promise').prototype['finally']);\n}\n","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar aFunction = require('../internals/a-function');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\n\nvar nativeApply = getBuiltIn('Reflect', 'apply');\nvar functionApply = Function.apply;\n\n// MS Edge argumentsList argument is optional\nvar OPTIONAL_ARGUMENTS_LIST = !fails(function () {\n  nativeApply(function () { /* empty */ });\n});\n\n// `Reflect.apply` method\n// https://tc39.github.io/ecma262/#sec-reflect.apply\n$({ target: 'Reflect', stat: true, forced: OPTIONAL_ARGUMENTS_LIST }, {\n  apply: function apply(target, thisArgument, argumentsList) {\n    aFunction(target);\n    anObject(argumentsList);\n    return nativeApply\n      ? nativeApply(target, thisArgument, argumentsList)\n      : functionApply.call(target, thisArgument, argumentsList);\n  }\n});\n","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar aFunction = require('../internals/a-function');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar bind = require('../internals/function-bind');\nvar fails = require('../internals/fails');\n\nvar nativeConstruct = getBuiltIn('Reflect', 'construct');\n\n// `Reflect.construct` method\n// https://tc39.github.io/ecma262/#sec-reflect.construct\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(nativeConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  nativeConstruct(function () { /* empty */ });\n});\nvar FORCED = NEW_TARGET_BUG || ARGS_BUG;\n\n$({ target: 'Reflect', stat: true, forced: FORCED, sham: FORCED }, {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return nativeConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar fails = require('../internals/fails');\n\n// MS Edge has broken Reflect.defineProperty - throwing instead of returning false\nvar ERROR_INSTEAD_OF_FALSE = fails(function () {\n  // eslint-disable-next-line no-undef\n  Reflect.defineProperty(definePropertyModule.f({}, 1, { value: 1 }), 1, { value: 2 });\n});\n\n// `Reflect.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-reflect.defineproperty\n$({ target: 'Reflect', stat: true, forced: ERROR_INSTEAD_OF_FALSE, sham: !DESCRIPTORS }, {\n  defineProperty: function defineProperty(target, propertyKey, attributes) {\n    anObject(target);\n    var key = toPrimitive(propertyKey, true);\n    anObject(attributes);\n    try {\n      definePropertyModule.f(target, key, attributes);\n      return true;\n    } catch (error) {\n      return false;\n    }\n  }\n});\n","var $ = require('../internals/export');\nvar anObject = require('../internals/an-object');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\n\n// `Reflect.deleteProperty` method\n// https://tc39.github.io/ecma262/#sec-reflect.deleteproperty\n$({ target: 'Reflect', stat: true }, {\n  deleteProperty: function deleteProperty(target, propertyKey) {\n    var descriptor = getOwnPropertyDescriptor(anObject(target), propertyKey);\n    return descriptor && !descriptor.configurable ? false : delete target[propertyKey];\n  }\n});\n","var $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar has = require('../internals/has');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\n\n// `Reflect.get` method\n// https://tc39.github.io/ecma262/#sec-reflect.get\nfunction get(target, propertyKey /* , receiver */) {\n  var receiver = arguments.length < 3 ? target : arguments[2];\n  var descriptor, prototype;\n  if (anObject(target) === receiver) return target[propertyKey];\n  if (descriptor = getOwnPropertyDescriptorModule.f(target, propertyKey)) return has(descriptor, 'value')\n    ? descriptor.value\n    : descriptor.get === undefined\n      ? undefined\n      : descriptor.get.call(receiver);\n  if (isObject(prototype = getPrototypeOf(target))) return get(prototype, propertyKey, receiver);\n}\n\n$({ target: 'Reflect', stat: true }, {\n  get: get\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar anObject = require('../internals/an-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\n\n// `Reflect.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-reflect.getownpropertydescriptor\n$({ target: 'Reflect', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey) {\n    return getOwnPropertyDescriptorModule.f(anObject(target), propertyKey);\n  }\n});\n","var $ = require('../internals/export');\nvar anObject = require('../internals/an-object');\nvar objectGetPrototypeOf = require('../internals/object-get-prototype-of');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\n// `Reflect.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-reflect.getprototypeof\n$({ target: 'Reflect', stat: true, sham: !CORRECT_PROTOTYPE_GETTER }, {\n  getPrototypeOf: function getPrototypeOf(target) {\n    return objectGetPrototypeOf(anObject(target));\n  }\n});\n","var $ = require('../internals/export');\n\n// `Reflect.has` method\n// https://tc39.github.io/ecma262/#sec-reflect.has\n$({ target: 'Reflect', stat: true }, {\n  has: function has(target, propertyKey) {\n    return propertyKey in target;\n  }\n});\n","var $ = require('../internals/export');\nvar anObject = require('../internals/an-object');\n\nvar objectIsExtensible = Object.isExtensible;\n\n// `Reflect.isExtensible` method\n// https://tc39.github.io/ecma262/#sec-reflect.isextensible\n$({ target: 'Reflect', stat: true }, {\n  isExtensible: function isExtensible(target) {\n    anObject(target);\n    return objectIsExtensible ? objectIsExtensible(target) : true;\n  }\n});\n","var $ = require('../internals/export');\nvar ownKeys = require('../internals/own-keys');\n\n// `Reflect.ownKeys` method\n// https://tc39.github.io/ecma262/#sec-reflect.ownkeys\n$({ target: 'Reflect', stat: true }, {\n  ownKeys: ownKeys\n});\n","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar anObject = require('../internals/an-object');\nvar FREEZING = require('../internals/freezing');\n\n// `Reflect.preventExtensions` method\n// https://tc39.github.io/ecma262/#sec-reflect.preventextensions\n$({ target: 'Reflect', stat: true, sham: !FREEZING }, {\n  preventExtensions: function preventExtensions(target) {\n    anObject(target);\n    try {\n      var objectPreventExtensions = getBuiltIn('Object', 'preventExtensions');\n      if (objectPreventExtensions) objectPreventExtensions(target);\n      return true;\n    } catch (error) {\n      return false;\n    }\n  }\n});\n","var $ = require('../internals/export');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar fails = require('../internals/fails');\nvar definePropertyModule = require('../internals/object-define-property');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\n// `Reflect.set` method\n// https://tc39.github.io/ecma262/#sec-reflect.set\nfunction set(target, propertyKey, V /* , receiver */) {\n  var receiver = arguments.length < 4 ? target : arguments[3];\n  var ownDescriptor = getOwnPropertyDescriptorModule.f(anObject(target), propertyKey);\n  var existingDescriptor, prototype;\n  if (!ownDescriptor) {\n    if (isObject(prototype = getPrototypeOf(target))) {\n      return set(prototype, propertyKey, V, receiver);\n    }\n    ownDescriptor = createPropertyDescriptor(0);\n  }\n  if (has(ownDescriptor, 'value')) {\n    if (ownDescriptor.writable === false || !isObject(receiver)) return false;\n    if (existingDescriptor = getOwnPropertyDescriptorModule.f(receiver, propertyKey)) {\n      if (existingDescriptor.get || existingDescriptor.set || existingDescriptor.writable === false) return false;\n      existingDescriptor.value = V;\n      definePropertyModule.f(receiver, propertyKey, existingDescriptor);\n    } else definePropertyModule.f(receiver, propertyKey, createPropertyDescriptor(0, V));\n    return true;\n  }\n  return ownDescriptor.set === undefined ? false : (ownDescriptor.set.call(receiver, V), true);\n}\n\n// MS Edge 17-18 Reflect.set allows setting the property to object\n// with non-writable property on the prototype\nvar MS_EDGE_BUG = fails(function () {\n  var object = definePropertyModule.f({}, 'a', { configurable: true });\n  // eslint-disable-next-line no-undef\n  return Reflect.set(getPrototypeOf(object), 'a', 1, object) !== false;\n});\n\n$({ target: 'Reflect', stat: true, forced: MS_EDGE_BUG }, {\n  set: set\n});\n","var $ = require('../internals/export');\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\nvar objectSetPrototypeOf = require('../internals/object-set-prototype-of');\n\n// `Reflect.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-reflect.setprototypeof\nif (objectSetPrototypeOf) $({ target: 'Reflect', stat: true }, {\n  setPrototypeOf: function setPrototypeOf(target, proto) {\n    anObject(target);\n    aPossiblePrototype(proto);\n    try {\n      objectSetPrototypeOf(target, proto);\n      return true;\n    } catch (error) {\n      return false;\n    }\n  }\n});\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\n\nvar fails = require('./fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n// so we use an intermediate function.\nfunction RE(s, f) {\n  return RegExp(s, f);\n}\n\nexports.UNSUPPORTED_Y = fails(function () {\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar isRegExp = require('../internals/is-regexp');\nvar getFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar setInternalState = require('../internals/internal-state').set;\nvar setSpecies = require('../internals/set-species');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\nvar NativeRegExp = global.RegExp;\nvar RegExpPrototype = NativeRegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n\n// \"new\" should create a new object, old webkit bug\nvar CORRECT_NEW = new NativeRegExp(re1) !== re1;\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\n\nvar FORCED = DESCRIPTORS && isForced('RegExp', (!CORRECT_NEW || UNSUPPORTED_Y || fails(function () {\n  re2[MATCH] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, 'i') != '/a/i';\n})));\n\n// `RegExp` constructor\n// https://tc39.github.io/ecma262/#sec-regexp-constructor\nif (FORCED) {\n  var RegExpWrapper = function RegExp(pattern, flags) {\n    var thisIsRegExp = this instanceof RegExpWrapper;\n    var patternIsRegExp = isRegExp(pattern);\n    var flagsAreUndefined = flags === undefined;\n    var sticky;\n\n    if (!thisIsRegExp && patternIsRegExp && pattern.constructor === RegExpWrapper && flagsAreUndefined) {\n      return pattern;\n    }\n\n    if (CORRECT_NEW) {\n      if (patternIsRegExp && !flagsAreUndefined) pattern = pattern.source;\n    } else if (pattern instanceof RegExpWrapper) {\n      if (flagsAreUndefined) flags = getFlags.call(pattern);\n      pattern = pattern.source;\n    }\n\n    if (UNSUPPORTED_Y) {\n      sticky = !!flags && flags.indexOf('y') > -1;\n      if (sticky) flags = flags.replace(/y/g, '');\n    }\n\n    var result = inheritIfRequired(\n      CORRECT_NEW ? new NativeRegExp(pattern, flags) : NativeRegExp(pattern, flags),\n      thisIsRegExp ? this : RegExpPrototype,\n      RegExpWrapper\n    );\n\n    if (UNSUPPORTED_Y && sticky) setInternalState(result, { sticky: sticky });\n\n    return result;\n  };\n  var proxy = function (key) {\n    key in RegExpWrapper || defineProperty(RegExpWrapper, key, {\n      configurable: true,\n      get: function () { return NativeRegExp[key]; },\n      set: function (it) { NativeRegExp[key] = it; }\n    });\n  };\n  var keys = getOwnPropertyNames(NativeRegExp);\n  var index = 0;\n  while (keys.length > index) proxy(keys[index++]);\n  RegExpPrototype.constructor = RegExpWrapper;\n  RegExpWrapper.prototype = RegExpPrototype;\n  redefine(global, 'RegExp', RegExpWrapper);\n}\n\n// https://tc39.github.io/ecma262/#sec-get-regexp-@@species\nsetSpecies('RegExp');\n","'use strict';\nvar regexpFlags = require('./regexp-flags');\nvar stickyHelpers = require('./regexp-sticky-helpers');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectDefinePropertyModule = require('../internals/object-define-property');\nvar regExpFlags = require('../internals/regexp-flags');\nvar UNSUPPORTED_Y = require('../internals/regexp-sticky-helpers').UNSUPPORTED_Y;\n\n// `RegExp.prototype.flags` getter\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nif (DESCRIPTORS && (/./g.flags != 'g' || UNSUPPORTED_Y)) {\n  objectDefinePropertyModule.f(RegExp.prototype, 'flags', {\n    configurable: true,\n    get: regExpFlags\n  });\n}\n","var DESCRIPTORS = require('../internals/descriptors');\nvar UNSUPPORTED_Y = require('../internals/regexp-sticky-helpers').UNSUPPORTED_Y;\nvar defineProperty = require('../internals/object-define-property').f;\nvar getInternalState = require('../internals/internal-state').get;\nvar RegExpPrototype = RegExp.prototype;\n\n// `RegExp.prototype.sticky` getter\nif (DESCRIPTORS && UNSUPPORTED_Y) {\n  defineProperty(RegExp.prototype, 'sticky', {\n    configurable: true,\n    get: function () {\n      if (this === RegExpPrototype) return undefined;\n      // We can't use InternalStateModule.getterFor because\n      // we don't add metadata for regexps created by a literal.\n      if (this instanceof RegExp) {\n        return !!getInternalState(this).sticky;\n      }\n      throw TypeError('Incompatible receiver, RegExp required');\n    }\n  });\n}\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\n\nvar DELEGATES_TO_EXEC = function () {\n  var execCalled = false;\n  var re = /[ac]/;\n  re.exec = function () {\n    execCalled = true;\n    return /./.exec.apply(this, arguments);\n  };\n  return re.test('abc') === true && execCalled;\n}();\n\nvar nativeTest = /./.test;\n\n$({ target: 'RegExp', proto: true, forced: !DELEGATES_TO_EXEC }, {\n  test: function (str) {\n    if (typeof this.exec !== 'function') {\n      return nativeTest.call(this, str);\n    }\n    var result = this.exec(str);\n    if (result !== null && !isObject(result)) {\n      throw new Error('RegExp exec method returned something other than an Object or null');\n    }\n    return !!result;\n  }\n});\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Set` constructor\n// https://tc39.github.io/ecma262/#sec-set-objects\nmodule.exports = collection('Set', function (init) {\n  return function Set() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar codeAt = require('../internals/string-multibyte').codeAt;\n\n// `String.prototype.codePointAt` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n$({ target: 'String', proto: true }, {\n  codePointAt: function codePointAt(pos) {\n    return codeAt(this, pos);\n  }\n});\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\nvar nativeEndsWith = ''.endsWith;\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('endsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'endsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.endsWith` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.endswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  endsWith: function endsWith(searchString /* , endPosition = @length */) {\n    var that = String(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var endPosition = arguments.length > 1 ? arguments[1] : undefined;\n    var len = toLength(that.length);\n    var end = endPosition === undefined ? len : min(toLength(endPosition), len);\n    var search = String(searchString);\n    return nativeEndsWith\n      ? nativeEndsWith.call(that, search, end)\n      : that.slice(end - search.length, end) === search;\n  }\n});\n","var $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\nvar fromCharCode = String.fromCharCode;\nvar nativeFromCodePoint = String.fromCodePoint;\n\n// length should be 1, old FF problem\nvar INCORRECT_LENGTH = !!nativeFromCodePoint && nativeFromCodePoint.length != 1;\n\n// `String.fromCodePoint` method\n// https://tc39.github.io/ecma262/#sec-string.fromcodepoint\n$({ target: 'String', stat: true, forced: INCORRECT_LENGTH }, {\n  fromCodePoint: function fromCodePoint(x) { // eslint-disable-line no-unused-vars\n    var elements = [];\n    var length = arguments.length;\n    var i = 0;\n    var code;\n    while (length > i) {\n      code = +arguments[i++];\n      if (toAbsoluteIndex(code, 0x10FFFF) !== code) throw RangeError(code + ' is not a valid code point');\n      elements.push(code < 0x10000\n        ? fromCharCode(code)\n        : fromCharCode(((code -= 0x10000) >> 10) + 0xD800, code % 0x400 + 0xDC00)\n      );\n    } return elements.join('');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar regexpExec = require('../internals/regexp-exec');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\nvar REPLACE = wellKnownSymbol('replace');\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !(\n      REPLACE_SUPPORTS_NAMED_GROUPS &&\n      REPLACE_KEEPS_$0 &&\n      !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    )) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    }, {\n      REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n      REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n  }\n\n  if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@match logic\nfixRegExpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : regexp[MATCH];\n      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative(nativeMatch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      if (!rx.global) return regExpExec(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toLength = require('../internals/to-length');\nvar aFunction = require('../internals/a-function');\nvar anObject = require('../internals/an-object');\nvar classof = require('../internals/classof-raw');\nvar isRegExp = require('../internals/is-regexp');\nvar getRegExpFlags = require('../internals/regexp-flags');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar InternalStateModule = require('../internals/internal-state');\nvar IS_PURE = require('../internals/is-pure');\n\nvar MATCH_ALL = wellKnownSymbol('matchAll');\nvar REGEXP_STRING = 'RegExp String';\nvar REGEXP_STRING_ITERATOR = REGEXP_STRING + ' Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(REGEXP_STRING_ITERATOR);\nvar RegExpPrototype = RegExp.prototype;\nvar regExpBuiltinExec = RegExpPrototype.exec;\nvar nativeMatchAll = ''.matchAll;\n\nvar WORKS_WITH_NON_GLOBAL_REGEX = !!nativeMatchAll && !fails(function () {\n  'a'.matchAll(/./);\n});\n\nvar regExpExec = function (R, S) {\n  var exec = R.exec;\n  var result;\n  if (typeof exec == 'function') {\n    result = exec.call(R, S);\n    if (typeof result != 'object') throw TypeError('Incorrect exec result');\n    return result;\n  } return regExpBuiltinExec.call(R, S);\n};\n\n// eslint-disable-next-line max-len\nvar $RegExpStringIterator = createIteratorConstructor(function RegExpStringIterator(regexp, string, global, fullUnicode) {\n  setInternalState(this, {\n    type: REGEXP_STRING_ITERATOR,\n    regexp: regexp,\n    string: string,\n    global: global,\n    unicode: fullUnicode,\n    done: false\n  });\n}, REGEXP_STRING, function next() {\n  var state = getInternalState(this);\n  if (state.done) return { value: undefined, done: true };\n  var R = state.regexp;\n  var S = state.string;\n  var match = regExpExec(R, S);\n  if (match === null) return { value: undefined, done: state.done = true };\n  if (state.global) {\n    if (String(match[0]) == '') R.lastIndex = advanceStringIndex(S, toLength(R.lastIndex), state.unicode);\n    return { value: match, done: false };\n  }\n  state.done = true;\n  return { value: match, done: false };\n});\n\nvar $matchAll = function (string) {\n  var R = anObject(this);\n  var S = String(string);\n  var C, flagsValue, flags, matcher, global, fullUnicode;\n  C = speciesConstructor(R, RegExp);\n  flagsValue = R.flags;\n  if (flagsValue === undefined && R instanceof RegExp && !('flags' in RegExpPrototype)) {\n    flagsValue = getRegExpFlags.call(R);\n  }\n  flags = flagsValue === undefined ? '' : String(flagsValue);\n  matcher = new C(C === RegExp ? R.source : R, flags);\n  global = !!~flags.indexOf('g');\n  fullUnicode = !!~flags.indexOf('u');\n  matcher.lastIndex = toLength(R.lastIndex);\n  return new $RegExpStringIterator(matcher, S, global, fullUnicode);\n};\n\n// `String.prototype.matchAll` method\n// https://github.com/tc39/proposal-string-matchall\n$({ target: 'String', proto: true, forced: WORKS_WITH_NON_GLOBAL_REGEX }, {\n  matchAll: function matchAll(regexp) {\n    var O = requireObjectCoercible(this);\n    var flags, S, matcher, rx;\n    if (regexp != null) {\n      if (isRegExp(regexp)) {\n        flags = String(requireObjectCoercible('flags' in RegExpPrototype\n          ? regexp.flags\n          : getRegExpFlags.call(regexp)\n        ));\n        if (!~flags.indexOf('g')) throw TypeError('`.matchAll` does not allow non-global regexes');\n      }\n      if (WORKS_WITH_NON_GLOBAL_REGEX) return nativeMatchAll.apply(O, arguments);\n      matcher = regexp[MATCH_ALL];\n      if (matcher === undefined && IS_PURE && classof(regexp) == 'RegExp') matcher = $matchAll;\n      if (matcher != null) return aFunction(matcher).call(regexp, O);\n    } else if (WORKS_WITH_NON_GLOBAL_REGEX) return nativeMatchAll.apply(O, arguments);\n    S = String(O);\n    rx = new RegExp(regexp, 'g');\n    return IS_PURE ? $matchAll.call(rx, S) : rx[MATCH_ALL](S);\n  }\n});\n\nIS_PURE || MATCH_ALL in RegExpPrototype || createNonEnumerableProperty(RegExpPrototype, MATCH_ALL, $matchAll);\n","// https://github.com/zloirock/core-js/issues/280\nvar userAgent = require('../internals/engine-user-agent');\n\n// eslint-disable-next-line unicorn/no-unsafe-regex\nmodule.exports = /Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(userAgent);\n","'use strict';\nvar $ = require('../internals/export');\nvar $padEnd = require('../internals/string-pad').end;\nvar WEBKIT_BUG = require('../internals/string-pad-webkit-bug');\n\n// `String.prototype.padEnd` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.padend\n$({ target: 'String', proto: true, forced: WEBKIT_BUG }, {\n  padEnd: function padEnd(maxLength /* , fillString = ' ' */) {\n    return $padEnd(this, maxLength, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $padStart = require('../internals/string-pad').start;\nvar WEBKIT_BUG = require('../internals/string-pad-webkit-bug');\n\n// `String.prototype.padStart` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.padstart\n$({ target: 'String', proto: true, forced: WEBKIT_BUG }, {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $padStart(this, maxLength, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var $ = require('../internals/export');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `String.raw` method\n// https://tc39.github.io/ecma262/#sec-string.raw\n$({ target: 'String', stat: true }, {\n  raw: function raw(template) {\n    var rawTemplate = toIndexedObject(template.raw);\n    var literalSegments = toLength(rawTemplate.length);\n    var argumentsLength = arguments.length;\n    var elements = [];\n    var i = 0;\n    while (literalSegments > i) {\n      elements.push(String(rawTemplate[i++]));\n      if (i < argumentsLength) elements.push(String(arguments[i]));\n    } return elements.join('');\n  }\n});\n","var $ = require('../internals/export');\nvar repeat = require('../internals/string-repeat');\n\n// `String.prototype.repeat` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.repeat\n$({ target: 'String', proto: true }, {\n  repeat: repeat\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n  // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return nativeReplace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar sameValue = require('../internals/same-value');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@search logic\nfixRegExpWellKnownSymbolLogic('search', 1, function (SEARCH, nativeSearch, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = requireObjectCoercible(this);\n      var searcher = regexp == undefined ? undefined : regexp[SEARCH];\n      return searcher !== undefined ? searcher.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@search\n    function (regexp) {\n      var res = maybeCallNative(nativeSearch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\n\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SUPPORTS_Y);\n","'use strict';\nvar $ = require('../internals/export');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\nvar nativeStartsWith = ''.startsWith;\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('startsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'startsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.startsWith` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.startswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = String(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var index = toLength(min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return nativeStartsWith\n      ? nativeStartsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $trimEnd = require('../internals/string-trim').end;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\nvar FORCED = forcedStringTrimMethod('trimEnd');\n\nvar trimEnd = FORCED ? function trimEnd() {\n  return $trimEnd(this);\n} : ''.trimEnd;\n\n// `String.prototype.{ trimEnd, trimRight }` methods\n// https://github.com/tc39/ecmascript-string-left-right-trim\n$({ target: 'String', proto: true, forced: FORCED }, {\n  trimEnd: trimEnd,\n  trimRight: trimEnd\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $trimStart = require('../internals/string-trim').start;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\nvar FORCED = forcedStringTrimMethod('trimStart');\n\nvar trimStart = FORCED ? function trimStart() {\n  return $trimStart(this);\n} : ''.trimStart;\n\n// `String.prototype.{ trimStart, trimLeft }` methods\n// https://github.com/tc39/ecmascript-string-left-right-trim\n$({ target: 'String', proto: true, forced: FORCED }, {\n  trimStart: trimStart,\n  trimLeft: trimStart\n});\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar quot = /\"/g;\n\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\n// https://tc39.github.io/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = String(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.anchor` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.anchor\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('anchor') }, {\n  anchor: function anchor(name) {\n    return createHTML(this, 'a', 'name', name);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.big` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.big\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('big') }, {\n  big: function big() {\n    return createHTML(this, 'big', '', '');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.blink` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.blink\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('blink') }, {\n  blink: function blink() {\n    return createHTML(this, 'blink', '', '');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.bold` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.bold\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('bold') }, {\n  bold: function bold() {\n    return createHTML(this, 'b', '', '');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.fixed` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.fixed\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('fixed') }, {\n  fixed: function fixed() {\n    return createHTML(this, 'tt', '', '');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.fontcolor` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.fontcolor\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('fontcolor') }, {\n  fontcolor: function fontcolor(color) {\n    return createHTML(this, 'font', 'color', color);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.fontsize` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.fontsize\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('fontsize') }, {\n  fontsize: function fontsize(size) {\n    return createHTML(this, 'font', 'size', size);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.italics` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.italics\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('italics') }, {\n  italics: function italics() {\n    return createHTML(this, 'i', '', '');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.link` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.link\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('link') }, {\n  link: function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.small` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.small\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('small') }, {\n  small: function small() {\n    return createHTML(this, 'small', '', '');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.strike` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.strike\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('strike') }, {\n  strike: function strike() {\n    return createHTML(this, 'strike', '', '');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.sub` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.sub\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('sub') }, {\n  sub: function sub() {\n    return createHTML(this, 'sub', '', '');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.sup` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.sup\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('sup') }, {\n  sup: function sup() {\n    return createHTML(this, 'sup', '', '');\n  }\n});\n","/* eslint-disable no-new */\nvar global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar NATIVE_ARRAY_BUFFER_VIEWS = require('../internals/array-buffer-view-core').NATIVE_ARRAY_BUFFER_VIEWS;\n\nvar ArrayBuffer = global.ArrayBuffer;\nvar Int8Array = global.Int8Array;\n\nmodule.exports = !NATIVE_ARRAY_BUFFER_VIEWS || !fails(function () {\n  Int8Array(1);\n}) || !fails(function () {\n  new Int8Array(-1);\n}) || !checkCorrectnessOfIteration(function (iterable) {\n  new Int8Array();\n  new Int8Array(null);\n  new Int8Array(1.5);\n  new Int8Array(iterable);\n}, true) || fails(function () {\n  // Safari (11+) bug - a reason why even Safari 13 should load a typed array polyfill\n  return new Int8Array(new ArrayBuffer(2), 1, undefined).length !== 1;\n});\n","var toInteger = require('../internals/to-integer');\n\nmodule.exports = function (it) {\n  var result = toInteger(it);\n  if (result < 0) throw RangeError(\"The argument can't be less than 0\");\n  return result;\n};\n","var toPositiveInteger = require('../internals/to-positive-integer');\n\nmodule.exports = function (it, BYTES) {\n  var offset = toPositiveInteger(it);\n  if (offset % BYTES) throw RangeError('Wrong offset');\n  return offset;\n};\n","var toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar bind = require('../internals/function-bind-context');\nvar aTypedArrayConstructor = require('../internals/array-buffer-view-core').aTypedArrayConstructor;\n\nmodule.exports = function from(source /* , mapfn, thisArg */) {\n  var O = toObject(source);\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var i, length, result, step, iterator, next;\n  if (iteratorMethod != undefined && !isArrayIteratorMethod(iteratorMethod)) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    O = [];\n    while (!(step = next.call(iterator)).done) {\n      O.push(step.value);\n    }\n  }\n  if (mapping && argumentsLength > 2) {\n    mapfn = bind(mapfn, arguments[2], 2);\n  }\n  length = toLength(O.length);\n  result = new (aTypedArrayConstructor(this))(length);\n  for (i = 0; length > i; i++) {\n    result[i] = mapping ? mapfn(O[i], i) : O[i];\n  }\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = require('../internals/typed-array-constructors-require-wrappers');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar ArrayBufferModule = require('../internals/array-buffer');\nvar anInstance = require('../internals/an-instance');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar toLength = require('../internals/to-length');\nvar toIndex = require('../internals/to-index');\nvar toOffset = require('../internals/to-offset');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar typedArrayFrom = require('../internals/typed-array-from');\nvar forEach = require('../internals/array-iteration').forEach;\nvar setSpecies = require('../internals/set-species');\nvar definePropertyModule = require('../internals/object-define-property');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar InternalStateModule = require('../internals/internal-state');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar round = Math.round;\nvar RangeError = global.RangeError;\nvar ArrayBuffer = ArrayBufferModule.ArrayBuffer;\nvar DataView = ArrayBufferModule.DataView;\nvar NATIVE_ARRAY_BUFFER_VIEWS = ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS;\nvar TYPED_ARRAY_TAG = ArrayBufferViewCore.TYPED_ARRAY_TAG;\nvar TypedArray = ArrayBufferViewCore.TypedArray;\nvar TypedArrayPrototype = ArrayBufferViewCore.TypedArrayPrototype;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar isTypedArray = ArrayBufferViewCore.isTypedArray;\nvar BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\nvar WRONG_LENGTH = 'Wrong length';\n\nvar fromList = function (C, list) {\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n};\n\nvar addGetter = function (it, key) {\n  nativeDefineProperty(it, key, { get: function () {\n    return getInternalState(this)[key];\n  } });\n};\n\nvar isArrayBuffer = function (it) {\n  var klass;\n  return it instanceof ArrayBuffer || (klass = classof(it)) == 'ArrayBuffer' || klass == 'SharedArrayBuffer';\n};\n\nvar isTypedArrayIndex = function (target, key) {\n  return isTypedArray(target)\n    && typeof key != 'symbol'\n    && key in target\n    && String(+key) == String(key);\n};\n\nvar wrappedGetOwnPropertyDescriptor = function getOwnPropertyDescriptor(target, key) {\n  return isTypedArrayIndex(target, key = toPrimitive(key, true))\n    ? createPropertyDescriptor(2, target[key])\n    : nativeGetOwnPropertyDescriptor(target, key);\n};\n\nvar wrappedDefineProperty = function defineProperty(target, key, descriptor) {\n  if (isTypedArrayIndex(target, key = toPrimitive(key, true))\n    && isObject(descriptor)\n    && has(descriptor, 'value')\n    && !has(descriptor, 'get')\n    && !has(descriptor, 'set')\n    // TODO: add validation descriptor w/o calling accessors\n    && !descriptor.configurable\n    && (!has(descriptor, 'writable') || descriptor.writable)\n    && (!has(descriptor, 'enumerable') || descriptor.enumerable)\n  ) {\n    target[key] = descriptor.value;\n    return target;\n  } return nativeDefineProperty(target, key, descriptor);\n};\n\nif (DESCRIPTORS) {\n  if (!NATIVE_ARRAY_BUFFER_VIEWS) {\n    getOwnPropertyDescriptorModule.f = wrappedGetOwnPropertyDescriptor;\n    definePropertyModule.f = wrappedDefineProperty;\n    addGetter(TypedArrayPrototype, 'buffer');\n    addGetter(TypedArrayPrototype, 'byteOffset');\n    addGetter(TypedArrayPrototype, 'byteLength');\n    addGetter(TypedArrayPrototype, 'length');\n  }\n\n  $({ target: 'Object', stat: true, forced: !NATIVE_ARRAY_BUFFER_VIEWS }, {\n    getOwnPropertyDescriptor: wrappedGetOwnPropertyDescriptor,\n    defineProperty: wrappedDefineProperty\n  });\n\n  module.exports = function (TYPE, wrapper, CLAMPED) {\n    var BYTES = TYPE.match(/\\d+$/)[0] / 8;\n    var CONSTRUCTOR_NAME = TYPE + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + TYPE;\n    var SETTER = 'set' + TYPE;\n    var NativeTypedArrayConstructor = global[CONSTRUCTOR_NAME];\n    var TypedArrayConstructor = NativeTypedArrayConstructor;\n    var TypedArrayConstructorPrototype = TypedArrayConstructor && TypedArrayConstructor.prototype;\n    var exported = {};\n\n    var getter = function (that, index) {\n      var data = getInternalState(that);\n      return data.view[GETTER](index * BYTES + data.byteOffset, true);\n    };\n\n    var setter = function (that, index, value) {\n      var data = getInternalState(that);\n      if (CLAMPED) value = (value = round(value)) < 0 ? 0 : value > 0xFF ? 0xFF : value & 0xFF;\n      data.view[SETTER](index * BYTES + data.byteOffset, value, true);\n    };\n\n    var addElement = function (that, index) {\n      nativeDefineProperty(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n\n    if (!NATIVE_ARRAY_BUFFER_VIEWS) {\n      TypedArrayConstructor = wrapper(function (that, data, offset, $length) {\n        anInstance(that, TypedArrayConstructor, CONSTRUCTOR_NAME);\n        var index = 0;\n        var byteOffset = 0;\n        var buffer, byteLength, length;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new ArrayBuffer(byteLength);\n        } else if (isArrayBuffer(data)) {\n          buffer = data;\n          byteOffset = toOffset(offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - byteOffset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + byteOffset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (isTypedArray(data)) {\n          return fromList(TypedArrayConstructor, data);\n        } else {\n          return typedArrayFrom.call(TypedArrayConstructor, data);\n        }\n        setInternalState(that, {\n          buffer: buffer,\n          byteOffset: byteOffset,\n          byteLength: byteLength,\n          length: length,\n          view: new DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n\n      if (setPrototypeOf) setPrototypeOf(TypedArrayConstructor, TypedArray);\n      TypedArrayConstructorPrototype = TypedArrayConstructor.prototype = create(TypedArrayPrototype);\n    } else if (TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS) {\n      TypedArrayConstructor = wrapper(function (dummy, data, typedArrayOffset, $length) {\n        anInstance(dummy, TypedArrayConstructor, CONSTRUCTOR_NAME);\n        return inheritIfRequired(function () {\n          if (!isObject(data)) return new NativeTypedArrayConstructor(toIndex(data));\n          if (isArrayBuffer(data)) return $length !== undefined\n            ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES), $length)\n            : typedArrayOffset !== undefined\n              ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES))\n              : new NativeTypedArrayConstructor(data);\n          if (isTypedArray(data)) return fromList(TypedArrayConstructor, data);\n          return typedArrayFrom.call(TypedArrayConstructor, data);\n        }(), dummy, TypedArrayConstructor);\n      });\n\n      if (setPrototypeOf) setPrototypeOf(TypedArrayConstructor, TypedArray);\n      forEach(getOwnPropertyNames(NativeTypedArrayConstructor), function (key) {\n        if (!(key in TypedArrayConstructor)) {\n          createNonEnumerableProperty(TypedArrayConstructor, key, NativeTypedArrayConstructor[key]);\n        }\n      });\n      TypedArrayConstructor.prototype = TypedArrayConstructorPrototype;\n    }\n\n    if (TypedArrayConstructorPrototype.constructor !== TypedArrayConstructor) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, 'constructor', TypedArrayConstructor);\n    }\n\n    if (TYPED_ARRAY_TAG) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, TYPED_ARRAY_TAG, CONSTRUCTOR_NAME);\n    }\n\n    exported[CONSTRUCTOR_NAME] = TypedArrayConstructor;\n\n    $({\n      global: true, forced: TypedArrayConstructor != NativeTypedArrayConstructor, sham: !NATIVE_ARRAY_BUFFER_VIEWS\n    }, exported);\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayConstructor)) {\n      createNonEnumerableProperty(TypedArrayConstructor, BYTES_PER_ELEMENT, BYTES);\n    }\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayConstructorPrototype)) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, BYTES_PER_ELEMENT, BYTES);\n    }\n\n    setSpecies(CONSTRUCTOR_NAME);\n  };\n} else module.exports = function () { /* empty */ };\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Float32Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Float32', function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Float64Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Float64', function (init) {\n  return function Float64Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Int8Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Int8', function (init) {\n  return function Int8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Int16Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Int16', function (init) {\n  return function Int16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Int32Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Int32', function (init) {\n  return function Int32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Uint8Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Uint8', function (init) {\n  return function Uint8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Uint8ClampedArray` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Uint8', function (init) {\n  return function Uint8ClampedArray(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n}, true);\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Uint16Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Uint16', function (init) {\n  return function Uint16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Uint32Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Uint32', function (init) {\n  return function Uint32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $copyWithin = require('../internals/array-copy-within');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.copyWithin` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.copywithin\nexportTypedArrayMethod('copyWithin', function copyWithin(target, start /* , end */) {\n  return $copyWithin.call(aTypedArray(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $every = require('../internals/array-iteration').every;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.every` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.every\nexportTypedArrayMethod('every', function every(callbackfn /* , thisArg */) {\n  return $every(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $fill = require('../internals/array-fill');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.fill\n// eslint-disable-next-line no-unused-vars\nexportTypedArrayMethod('fill', function fill(value /* , start, end */) {\n  return $fill.apply(aTypedArray(this), arguments);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $filter = require('../internals/array-iteration').filter;\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.filter\nexportTypedArrayMethod('filter', function filter(callbackfn /* , thisArg */) {\n  var list = $filter(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  var C = speciesConstructor(this, this.constructor);\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $find = require('../internals/array-iteration').find;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.find\nexportTypedArrayMethod('find', function find(predicate /* , thisArg */) {\n  return $find(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $findIndex = require('../internals/array-iteration').findIndex;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.findIndex` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.findindex\nexportTypedArrayMethod('findIndex', function findIndex(predicate /* , thisArg */) {\n  return $findIndex(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.foreach\nexportTypedArrayMethod('forEach', function forEach(callbackfn /* , thisArg */) {\n  $forEach(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = require('../internals/typed-array-constructors-require-wrappers');\nvar exportTypedArrayStaticMethod = require('../internals/array-buffer-view-core').exportTypedArrayStaticMethod;\nvar typedArrayFrom = require('../internals/typed-array-from');\n\n// `%TypedArray%.from` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.from\nexportTypedArrayStaticMethod('from', typedArrayFrom, TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $includes = require('../internals/array-includes').includes;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.includes\nexportTypedArrayMethod('includes', function includes(searchElement /* , fromIndex */) {\n  return $includes(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $indexOf = require('../internals/array-includes').indexOf;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.indexof\nexportTypedArrayMethod('indexOf', function indexOf(searchElement /* , fromIndex */) {\n  return $indexOf(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar global = require('../internals/global');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar ArrayIterators = require('../modules/es.array.iterator');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar Uint8Array = global.Uint8Array;\nvar arrayValues = ArrayIterators.values;\nvar arrayKeys = ArrayIterators.keys;\nvar arrayEntries = ArrayIterators.entries;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar nativeTypedArrayIterator = Uint8Array && Uint8Array.prototype[ITERATOR];\n\nvar CORRECT_ITER_NAME = !!nativeTypedArrayIterator\n  && (nativeTypedArrayIterator.name == 'values' || nativeTypedArrayIterator.name == undefined);\n\nvar typedArrayValues = function values() {\n  return arrayValues.call(aTypedArray(this));\n};\n\n// `%TypedArray%.prototype.entries` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.entries\nexportTypedArrayMethod('entries', function entries() {\n  return arrayEntries.call(aTypedArray(this));\n});\n// `%TypedArray%.prototype.keys` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.keys\nexportTypedArrayMethod('keys', function keys() {\n  return arrayKeys.call(aTypedArray(this));\n});\n// `%TypedArray%.prototype.values` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.values\nexportTypedArrayMethod('values', typedArrayValues, !CORRECT_ITER_NAME);\n// `%TypedArray%.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype-@@iterator\nexportTypedArrayMethod(ITERATOR, typedArrayValues, !CORRECT_ITER_NAME);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $join = [].join;\n\n// `%TypedArray%.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.join\n// eslint-disable-next-line no-unused-vars\nexportTypedArrayMethod('join', function join(separator) {\n  return $join.apply(aTypedArray(this), arguments);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $lastIndexOf = require('../internals/array-last-index-of');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.lastIndexOf` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.lastindexof\n// eslint-disable-next-line no-unused-vars\nexportTypedArrayMethod('lastIndexOf', function lastIndexOf(searchElement /* , fromIndex */) {\n  return $lastIndexOf.apply(aTypedArray(this), arguments);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $map = require('../internals/array-iteration').map;\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.map\nexportTypedArrayMethod('map', function map(mapfn /* , thisArg */) {\n  return $map(aTypedArray(this), mapfn, arguments.length > 1 ? arguments[1] : undefined, function (O, length) {\n    return new (aTypedArrayConstructor(speciesConstructor(O, O.constructor)))(length);\n  });\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = require('../internals/typed-array-constructors-require-wrappers');\n\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayStaticMethod = ArrayBufferViewCore.exportTypedArrayStaticMethod;\n\n// `%TypedArray%.of` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.of\nexportTypedArrayStaticMethod('of', function of(/* ...items */) {\n  var index = 0;\n  var length = arguments.length;\n  var result = new (aTypedArrayConstructor(this))(length);\n  while (length > index) result[index] = arguments[index++];\n  return result;\n}, TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $reduce = require('../internals/array-reduce').left;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.reduce\nexportTypedArrayMethod('reduce', function reduce(callbackfn /* , initialValue */) {\n  return $reduce(aTypedArray(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $reduceRight = require('../internals/array-reduce').right;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.reduceRicht` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.reduceright\nexportTypedArrayMethod('reduceRight', function reduceRight(callbackfn /* , initialValue */) {\n  return $reduceRight(aTypedArray(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar floor = Math.floor;\n\n// `%TypedArray%.prototype.reverse` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.reverse\nexportTypedArrayMethod('reverse', function reverse() {\n  var that = this;\n  var length = aTypedArray(that).length;\n  var middle = floor(length / 2);\n  var index = 0;\n  var value;\n  while (index < middle) {\n    value = that[index];\n    that[index++] = that[--length];\n    that[length] = value;\n  } return that;\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar toLength = require('../internals/to-length');\nvar toOffset = require('../internals/to-offset');\nvar toObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\nvar FORCED = fails(function () {\n  // eslint-disable-next-line no-undef\n  new Int8Array(1).set({});\n});\n\n// `%TypedArray%.prototype.set` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.set\nexportTypedArrayMethod('set', function set(arrayLike /* , offset */) {\n  aTypedArray(this);\n  var offset = toOffset(arguments.length > 1 ? arguments[1] : undefined, 1);\n  var length = this.length;\n  var src = toObject(arrayLike);\n  var len = toLength(src.length);\n  var index = 0;\n  if (len + offset > length) throw RangeError('Wrong length');\n  while (index < len) this[offset + index] = src[index++];\n}, FORCED);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar speciesConstructor = require('../internals/species-constructor');\nvar fails = require('../internals/fails');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $slice = [].slice;\n\nvar FORCED = fails(function () {\n  // eslint-disable-next-line no-undef\n  new Int8Array(1).slice();\n});\n\n// `%TypedArray%.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.slice\nexportTypedArrayMethod('slice', function slice(start, end) {\n  var list = $slice.call(aTypedArray(this), start, end);\n  var C = speciesConstructor(this, this.constructor);\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n}, FORCED);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $some = require('../internals/array-iteration').some;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.some` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.some\nexportTypedArrayMethod('some', function some(callbackfn /* , thisArg */) {\n  return $some(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $sort = [].sort;\n\n// `%TypedArray%.prototype.sort` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.sort\nexportTypedArrayMethod('sort', function sort(comparefn) {\n  return $sort.call(aTypedArray(this), comparefn);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.subarray` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.subarray\nexportTypedArrayMethod('subarray', function subarray(begin, end) {\n  var O = aTypedArray(this);\n  var length = O.length;\n  var beginIndex = toAbsoluteIndex(begin, length);\n  return new (speciesConstructor(O, O.constructor))(\n    O.buffer,\n    O.byteOffset + beginIndex * O.BYTES_PER_ELEMENT,\n    toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - beginIndex)\n  );\n});\n","'use strict';\nvar global = require('../internals/global');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar fails = require('../internals/fails');\n\nvar Int8Array = global.Int8Array;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $toLocaleString = [].toLocaleString;\nvar $slice = [].slice;\n\n// iOS Safari 6.x fails here\nvar TO_LOCALE_STRING_BUG = !!Int8Array && fails(function () {\n  $toLocaleString.call(new Int8Array(1));\n});\n\nvar FORCED = fails(function () {\n  return [1, 2].toLocaleString() != new Int8Array([1, 2]).toLocaleString();\n}) || !fails(function () {\n  Int8Array.prototype.toLocaleString.call([1, 2]);\n});\n\n// `%TypedArray%.prototype.toLocaleString` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.tolocalestring\nexportTypedArrayMethod('toLocaleString', function toLocaleString() {\n  return $toLocaleString.apply(TO_LOCALE_STRING_BUG ? $slice.call(aTypedArray(this)) : aTypedArray(this), arguments);\n}, FORCED);\n","'use strict';\nvar exportTypedArrayMethod = require('../internals/array-buffer-view-core').exportTypedArrayMethod;\nvar fails = require('../internals/fails');\nvar global = require('../internals/global');\n\nvar Uint8Array = global.Uint8Array;\nvar Uint8ArrayPrototype = Uint8Array && Uint8Array.prototype || {};\nvar arrayToString = [].toString;\nvar arrayJoin = [].join;\n\nif (fails(function () { arrayToString.call({}); })) {\n  arrayToString = function toString() {\n    return arrayJoin.call(this);\n  };\n}\n\nvar IS_NOT_ARRAY_METHOD = Uint8ArrayPrototype.toString != arrayToString;\n\n// `%TypedArray%.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.tostring\nexportTypedArrayMethod('toString', arrayToString, IS_NOT_ARRAY_METHOD);\n","'use strict';\nvar redefineAll = require('../internals/redefine-all');\nvar getWeakData = require('../internals/internal-metadata').getWeakData;\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar ArrayIterationModule = require('../internals/array-iteration');\nvar $has = require('../internals/has');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\nvar find = ArrayIterationModule.find;\nvar findIndex = ArrayIterationModule.findIndex;\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (store) {\n  return store.frozen || (store.frozen = new UncaughtFrozenStore());\n};\n\nvar UncaughtFrozenStore = function () {\n  this.entries = [];\n};\n\nvar findUncaughtFrozen = function (store, key) {\n  return find(store.entries, function (it) {\n    return it[0] === key;\n  });\n};\n\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.entries.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = findIndex(this.entries, function (it) {\n      return it[0] === key;\n    });\n    if (~index) this.entries.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        id: id++,\n        frozen: undefined\n      });\n      if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var data = getWeakData(anObject(key), true);\n      if (data === true) uncaughtFrozenStore(state).set(key, value);\n      else data[state.id] = value;\n      return that;\n    };\n\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function (key) {\n        var state = getInternalState(this);\n        if (!isObject(key)) return false;\n        var data = getWeakData(key);\n        if (data === true) return uncaughtFrozenStore(state)['delete'](key);\n        return data && $has(data, state.id) && delete data[state.id];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key) {\n        var state = getInternalState(this);\n        if (!isObject(key)) return false;\n        var data = getWeakData(key);\n        if (data === true) return uncaughtFrozenStore(state).has(key);\n        return data && $has(data, state.id);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // 23.3.3.3 WeakMap.prototype.get(key)\n      get: function get(key) {\n        var state = getInternalState(this);\n        if (isObject(key)) {\n          var data = getWeakData(key);\n          if (data === true) return uncaughtFrozenStore(state).get(key);\n          return data ? data[state.id] : undefined;\n        }\n      },\n      // 23.3.3.5 WeakMap.prototype.set(key, value)\n      set: function set(key, value) {\n        return define(this, key, value);\n      }\n    } : {\n      // 23.4.3.1 WeakSet.prototype.add(value)\n      add: function add(value) {\n        return define(this, value, true);\n      }\n    });\n\n    return C;\n  }\n};\n","'use strict';\nvar global = require('../internals/global');\nvar redefineAll = require('../internals/redefine-all');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar collection = require('../internals/collection');\nvar collectionWeak = require('../internals/collection-weak');\nvar isObject = require('../internals/is-object');\nvar enforceIternalState = require('../internals/internal-state').enforce;\nvar NATIVE_WEAK_MAP = require('../internals/native-weak-map');\n\nvar IS_IE11 = !global.ActiveXObject && 'ActiveXObject' in global;\nvar isExtensible = Object.isExtensible;\nvar InternalWeakMap;\n\nvar wrapper = function (init) {\n  return function WeakMap() {\n    return init(this, arguments.length ? arguments[0] : undefined);\n  };\n};\n\n// `WeakMap` constructor\n// https://tc39.github.io/ecma262/#sec-weakmap-constructor\nvar $WeakMap = module.exports = collection('WeakMap', wrapper, collectionWeak);\n\n// IE11 WeakMap frozen keys fix\n// We can't use feature detection because it crash some old IE builds\n// https://github.com/zloirock/core-js/issues/485\nif (NATIVE_WEAK_MAP && IS_IE11) {\n  InternalWeakMap = collectionWeak.getConstructor(wrapper, 'WeakMap', true);\n  InternalMetadataModule.REQUIRED = true;\n  var WeakMapPrototype = $WeakMap.prototype;\n  var nativeDelete = WeakMapPrototype['delete'];\n  var nativeHas = WeakMapPrototype.has;\n  var nativeGet = WeakMapPrototype.get;\n  var nativeSet = WeakMapPrototype.set;\n  redefineAll(WeakMapPrototype, {\n    'delete': function (key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeDelete.call(this, key) || state.frozen['delete'](key);\n      } return nativeDelete.call(this, key);\n    },\n    has: function has(key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeHas.call(this, key) || state.frozen.has(key);\n      } return nativeHas.call(this, key);\n    },\n    get: function get(key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeHas.call(this, key) ? nativeGet.call(this, key) : state.frozen.get(key);\n      } return nativeGet.call(this, key);\n    },\n    set: function set(key, value) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        nativeHas.call(this, key) ? nativeSet.call(this, key, value) : state.frozen.set(key, value);\n      } else nativeSet.call(this, key, value);\n      return this;\n    }\n  });\n}\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionWeak = require('../internals/collection-weak');\n\n// `WeakSet` constructor\n// https://tc39.github.io/ecma262/#sec-weakset-constructor\ncollection('WeakSet', function (init) {\n  return function WeakSet() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionWeak);\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar task = require('../internals/task');\n\nvar FORCED = !global.setImmediate || !global.clearImmediate;\n\n// http://w3c.github.io/setImmediate/\n$({ global: true, bind: true, enumerable: true, forced: FORCED }, {\n  // `setImmediate` method\n  // http://w3c.github.io/setImmediate/#si-setImmediate\n  setImmediate: task.set,\n  // `clearImmediate` method\n  // http://w3c.github.io/setImmediate/#si-clearImmediate\n  clearImmediate: task.clear\n});\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar microtask = require('../internals/microtask');\nvar classof = require('../internals/classof-raw');\n\nvar process = global.process;\nvar isNode = classof(process) == 'process';\n\n// `queueMicrotask` method\n// https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-queuemicrotask\n$({ global: true, enumerable: true, noTargetGet: true }, {\n  queueMicrotask: function queueMicrotask(fn) {\n    var domain = isNode && process.domain;\n    microtask(domain ? domain.bind(fn) : fn);\n  }\n});\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = !fails(function () {\n  var url = new URL('b?a=1&b=2&c=3', 'http://a');\n  var searchParams = url.searchParams;\n  var result = '';\n  url.pathname = 'c%20d';\n  searchParams.forEach(function (value, key) {\n    searchParams['delete']('b');\n    result += key + value;\n  });\n  return (IS_PURE && !url.toJSON)\n    || !searchParams.sort\n    || url.href !== 'http://a/c%20d?a=1&c=3'\n    || searchParams.get('c') !== '3'\n    || String(new URLSearchParams('?a=1')) !== 'a=1'\n    || !searchParams[ITERATOR]\n    // throws in Edge\n    || new URL('https://a@b').username !== 'a'\n    || new URLSearchParams(new URLSearchParams('a=b')).get('a') !== 'b'\n    // not punycoded in Edge\n    || new URL('http://ÑÐµÑÑ').host !== 'xn--e1aybc'\n    // not escaped in Chrome 62-\n    || new URL('http://a#Ð±').hash !== '#%D0%B1'\n    // fails in Chrome 66-\n    || result !== 'a1c3'\n    // throws in Safari\n    || new URL('http://x', undefined).host !== 'x';\n});\n","'use strict';\n// based on https://github.com/bestiejs/punycode.js/blob/master/punycode.js\nvar maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\nvar base = 36;\nvar tMin = 1;\nvar tMax = 26;\nvar skew = 38;\nvar damp = 700;\nvar initialBias = 72;\nvar initialN = 128; // 0x80\nvar delimiter = '-'; // '\\x2D'\nvar regexNonASCII = /[^\\0-\\u007E]/; // non-ASCII chars\nvar regexSeparators = /[.\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\nvar OVERFLOW_ERROR = 'Overflow: input needs wider integers to process';\nvar baseMinusTMin = base - tMin;\nvar floor = Math.floor;\nvar stringFromCharCode = String.fromCharCode;\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n */\nvar ucs2decode = function (string) {\n  var output = [];\n  var counter = 0;\n  var length = string.length;\n  while (counter < length) {\n    var value = string.charCodeAt(counter++);\n    if (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n      // It's a high surrogate, and there is a next character.\n      var extra = string.charCodeAt(counter++);\n      if ((extra & 0xFC00) == 0xDC00) { // Low surrogate.\n        output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n      } else {\n        // It's an unmatched surrogate; only append this code unit, in case the\n        // next code unit is the high surrogate of a surrogate pair.\n        output.push(value);\n        counter--;\n      }\n    } else {\n      output.push(value);\n    }\n  }\n  return output;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n */\nvar digitToBasic = function (digit) {\n  //  0..25 map to ASCII a..z or A..Z\n  // 26..35 map to ASCII 0..9\n  return digit + 22 + 75 * (digit < 26);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n */\nvar adapt = function (delta, numPoints, firstTime) {\n  var k = 0;\n  delta = firstTime ? floor(delta / damp) : delta >> 1;\n  delta += floor(delta / numPoints);\n  for (; delta > baseMinusTMin * tMax >> 1; k += base) {\n    delta = floor(delta / baseMinusTMin);\n  }\n  return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n */\n// eslint-disable-next-line  max-statements\nvar encode = function (input) {\n  var output = [];\n\n  // Convert the input in UCS-2 to an array of Unicode code points.\n  input = ucs2decode(input);\n\n  // Cache the length.\n  var inputLength = input.length;\n\n  // Initialize the state.\n  var n = initialN;\n  var delta = 0;\n  var bias = initialBias;\n  var i, currentValue;\n\n  // Handle the basic code points.\n  for (i = 0; i < input.length; i++) {\n    currentValue = input[i];\n    if (currentValue < 0x80) {\n      output.push(stringFromCharCode(currentValue));\n    }\n  }\n\n  var basicLength = output.length; // number of basic code points.\n  var handledCPCount = basicLength; // number of code points that have been handled;\n\n  // Finish the basic string with a delimiter unless it's empty.\n  if (basicLength) {\n    output.push(delimiter);\n  }\n\n  // Main encoding loop:\n  while (handledCPCount < inputLength) {\n    // All non-basic code points < n have been handled already. Find the next larger one:\n    var m = maxInt;\n    for (i = 0; i < input.length; i++) {\n      currentValue = input[i];\n      if (currentValue >= n && currentValue < m) {\n        m = currentValue;\n      }\n    }\n\n    // Increase `delta` enough to advance the decoder's <n,i> state to <m,0>, but guard against overflow.\n    var handledCPCountPlusOne = handledCPCount + 1;\n    if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n      throw RangeError(OVERFLOW_ERROR);\n    }\n\n    delta += (m - n) * handledCPCountPlusOne;\n    n = m;\n\n    for (i = 0; i < input.length; i++) {\n      currentValue = input[i];\n      if (currentValue < n && ++delta > maxInt) {\n        throw RangeError(OVERFLOW_ERROR);\n      }\n      if (currentValue == n) {\n        // Represent delta as a generalized variable-length integer.\n        var q = delta;\n        for (var k = base; /* no condition */; k += base) {\n          var t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n          if (q < t) break;\n          var qMinusT = q - t;\n          var baseMinusT = base - t;\n          output.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT)));\n          q = floor(qMinusT / baseMinusT);\n        }\n\n        output.push(stringFromCharCode(digitToBasic(q)));\n        bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n        delta = 0;\n        ++handledCPCount;\n      }\n    }\n\n    ++delta;\n    ++n;\n  }\n  return output.join('');\n};\n\nmodule.exports = function (input) {\n  var encoded = [];\n  var labels = input.toLowerCase().replace(regexSeparators, '\\u002E').split('.');\n  var i, label;\n  for (i = 0; i < labels.length; i++) {\n    label = labels[i];\n    encoded.push(regexNonASCII.test(label) ? 'xn--' + encode(label) : label);\n  }\n  return encoded.join('.');\n};\n","var anObject = require('../internals/an-object');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nmodule.exports = function (it) {\n  var iteratorMethod = getIteratorMethod(it);\n  if (typeof iteratorMethod != 'function') {\n    throw TypeError(String(it) + ' is not iterable');\n  } return anObject(iteratorMethod.call(it));\n};\n","'use strict';\n// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\nrequire('../modules/es.array.iterator');\nvar $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar USE_NATIVE_URL = require('../internals/native-url');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar InternalStateModule = require('../internals/internal-state');\nvar anInstance = require('../internals/an-instance');\nvar hasOwn = require('../internals/has');\nvar bind = require('../internals/function-bind-context');\nvar classof = require('../internals/classof');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $fetch = getBuiltIn('fetch');\nvar Headers = getBuiltIn('Headers');\nvar ITERATOR = wellKnownSymbol('iterator');\nvar URL_SEARCH_PARAMS = 'URLSearchParams';\nvar URL_SEARCH_PARAMS_ITERATOR = URL_SEARCH_PARAMS + 'Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalParamsState = InternalStateModule.getterFor(URL_SEARCH_PARAMS);\nvar getInternalIteratorState = InternalStateModule.getterFor(URL_SEARCH_PARAMS_ITERATOR);\n\nvar plus = /\\+/g;\nvar sequences = Array(4);\n\nvar percentSequence = function (bytes) {\n  return sequences[bytes - 1] || (sequences[bytes - 1] = RegExp('((?:%[\\\\da-f]{2}){' + bytes + '})', 'gi'));\n};\n\nvar percentDecode = function (sequence) {\n  try {\n    return decodeURIComponent(sequence);\n  } catch (error) {\n    return sequence;\n  }\n};\n\nvar deserialize = function (it) {\n  var result = it.replace(plus, ' ');\n  var bytes = 4;\n  try {\n    return decodeURIComponent(result);\n  } catch (error) {\n    while (bytes) {\n      result = result.replace(percentSequence(bytes--), percentDecode);\n    }\n    return result;\n  }\n};\n\nvar find = /[!'()~]|%20/g;\n\nvar replace = {\n  '!': '%21',\n  \"'\": '%27',\n  '(': '%28',\n  ')': '%29',\n  '~': '%7E',\n  '%20': '+'\n};\n\nvar replacer = function (match) {\n  return replace[match];\n};\n\nvar serialize = function (it) {\n  return encodeURIComponent(it).replace(find, replacer);\n};\n\nvar parseSearchParams = function (result, query) {\n  if (query) {\n    var attributes = query.split('&');\n    var index = 0;\n    var attribute, entry;\n    while (index < attributes.length) {\n      attribute = attributes[index++];\n      if (attribute.length) {\n        entry = attribute.split('=');\n        result.push({\n          key: deserialize(entry.shift()),\n          value: deserialize(entry.join('='))\n        });\n      }\n    }\n  }\n};\n\nvar updateSearchParams = function (query) {\n  this.entries.length = 0;\n  parseSearchParams(this.entries, query);\n};\n\nvar validateArgumentsLength = function (passed, required) {\n  if (passed < required) throw TypeError('Not enough arguments');\n};\n\nvar URLSearchParamsIterator = createIteratorConstructor(function Iterator(params, kind) {\n  setInternalState(this, {\n    type: URL_SEARCH_PARAMS_ITERATOR,\n    iterator: getIterator(getInternalParamsState(params).entries),\n    kind: kind\n  });\n}, 'Iterator', function next() {\n  var state = getInternalIteratorState(this);\n  var kind = state.kind;\n  var step = state.iterator.next();\n  var entry = step.value;\n  if (!step.done) {\n    step.value = kind === 'keys' ? entry.key : kind === 'values' ? entry.value : [entry.key, entry.value];\n  } return step;\n});\n\n// `URLSearchParams` constructor\n// https://url.spec.whatwg.org/#interface-urlsearchparams\nvar URLSearchParamsConstructor = function URLSearchParams(/* init */) {\n  anInstance(this, URLSearchParamsConstructor, URL_SEARCH_PARAMS);\n  var init = arguments.length > 0 ? arguments[0] : undefined;\n  var that = this;\n  var entries = [];\n  var iteratorMethod, iterator, next, step, entryIterator, entryNext, first, second, key;\n\n  setInternalState(that, {\n    type: URL_SEARCH_PARAMS,\n    entries: entries,\n    updateURL: function () { /* empty */ },\n    updateSearchParams: updateSearchParams\n  });\n\n  if (init !== undefined) {\n    if (isObject(init)) {\n      iteratorMethod = getIteratorMethod(init);\n      if (typeof iteratorMethod === 'function') {\n        iterator = iteratorMethod.call(init);\n        next = iterator.next;\n        while (!(step = next.call(iterator)).done) {\n          entryIterator = getIterator(anObject(step.value));\n          entryNext = entryIterator.next;\n          if (\n            (first = entryNext.call(entryIterator)).done ||\n            (second = entryNext.call(entryIterator)).done ||\n            !entryNext.call(entryIterator).done\n          ) throw TypeError('Expected sequence with length 2');\n          entries.push({ key: first.value + '', value: second.value + '' });\n        }\n      } else for (key in init) if (hasOwn(init, key)) entries.push({ key: key, value: init[key] + '' });\n    } else {\n      parseSearchParams(entries, typeof init === 'string' ? init.charAt(0) === '?' ? init.slice(1) : init : init + '');\n    }\n  }\n};\n\nvar URLSearchParamsPrototype = URLSearchParamsConstructor.prototype;\n\nredefineAll(URLSearchParamsPrototype, {\n  // `URLSearchParams.prototype.appent` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-append\n  append: function append(name, value) {\n    validateArgumentsLength(arguments.length, 2);\n    var state = getInternalParamsState(this);\n    state.entries.push({ key: name + '', value: value + '' });\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.delete` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-delete\n  'delete': function (name) {\n    validateArgumentsLength(arguments.length, 1);\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    var key = name + '';\n    var index = 0;\n    while (index < entries.length) {\n      if (entries[index].key === key) entries.splice(index, 1);\n      else index++;\n    }\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.get` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-get\n  get: function get(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var index = 0;\n    for (; index < entries.length; index++) {\n      if (entries[index].key === key) return entries[index].value;\n    }\n    return null;\n  },\n  // `URLSearchParams.prototype.getAll` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-getall\n  getAll: function getAll(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var result = [];\n    var index = 0;\n    for (; index < entries.length; index++) {\n      if (entries[index].key === key) result.push(entries[index].value);\n    }\n    return result;\n  },\n  // `URLSearchParams.prototype.has` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-has\n  has: function has(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var index = 0;\n    while (index < entries.length) {\n      if (entries[index++].key === key) return true;\n    }\n    return false;\n  },\n  // `URLSearchParams.prototype.set` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-set\n  set: function set(name, value) {\n    validateArgumentsLength(arguments.length, 1);\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    var found = false;\n    var key = name + '';\n    var val = value + '';\n    var index = 0;\n    var entry;\n    for (; index < entries.length; index++) {\n      entry = entries[index];\n      if (entry.key === key) {\n        if (found) entries.splice(index--, 1);\n        else {\n          found = true;\n          entry.value = val;\n        }\n      }\n    }\n    if (!found) entries.push({ key: key, value: val });\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.sort` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-sort\n  sort: function sort() {\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    // Array#sort is not stable in some engines\n    var slice = entries.slice();\n    var entry, entriesIndex, sliceIndex;\n    entries.length = 0;\n    for (sliceIndex = 0; sliceIndex < slice.length; sliceIndex++) {\n      entry = slice[sliceIndex];\n      for (entriesIndex = 0; entriesIndex < sliceIndex; entriesIndex++) {\n        if (entries[entriesIndex].key > entry.key) {\n          entries.splice(entriesIndex, 0, entry);\n          break;\n        }\n      }\n      if (entriesIndex === sliceIndex) entries.push(entry);\n    }\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.forEach` method\n  forEach: function forEach(callback /* , thisArg */) {\n    var entries = getInternalParamsState(this).entries;\n    var boundFunction = bind(callback, arguments.length > 1 ? arguments[1] : undefined, 3);\n    var index = 0;\n    var entry;\n    while (index < entries.length) {\n      entry = entries[index++];\n      boundFunction(entry.value, entry.key, this);\n    }\n  },\n  // `URLSearchParams.prototype.keys` method\n  keys: function keys() {\n    return new URLSearchParamsIterator(this, 'keys');\n  },\n  // `URLSearchParams.prototype.values` method\n  values: function values() {\n    return new URLSearchParamsIterator(this, 'values');\n  },\n  // `URLSearchParams.prototype.entries` method\n  entries: function entries() {\n    return new URLSearchParamsIterator(this, 'entries');\n  }\n}, { enumerable: true });\n\n// `URLSearchParams.prototype[@@iterator]` method\nredefine(URLSearchParamsPrototype, ITERATOR, URLSearchParamsPrototype.entries);\n\n// `URLSearchParams.prototype.toString` method\n// https://url.spec.whatwg.org/#urlsearchparams-stringification-behavior\nredefine(URLSearchParamsPrototype, 'toString', function toString() {\n  var entries = getInternalParamsState(this).entries;\n  var result = [];\n  var index = 0;\n  var entry;\n  while (index < entries.length) {\n    entry = entries[index++];\n    result.push(serialize(entry.key) + '=' + serialize(entry.value));\n  } return result.join('&');\n}, { enumerable: true });\n\nsetToStringTag(URLSearchParamsConstructor, URL_SEARCH_PARAMS);\n\n$({ global: true, forced: !USE_NATIVE_URL }, {\n  URLSearchParams: URLSearchParamsConstructor\n});\n\n// Wrap `fetch` for correct work with polyfilled `URLSearchParams`\n// https://github.com/zloirock/core-js/issues/674\nif (!USE_NATIVE_URL && typeof $fetch == 'function' && typeof Headers == 'function') {\n  $({ global: true, enumerable: true, forced: true }, {\n    fetch: function fetch(input /* , init */) {\n      var args = [input];\n      var init, body, headers;\n      if (arguments.length > 1) {\n        init = arguments[1];\n        if (isObject(init)) {\n          body = init.body;\n          if (classof(body) === URL_SEARCH_PARAMS) {\n            headers = init.headers ? new Headers(init.headers) : new Headers();\n            if (!headers.has('content-type')) {\n              headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n            }\n            init = create(init, {\n              body: createPropertyDescriptor(0, String(body)),\n              headers: createPropertyDescriptor(0, headers)\n            });\n          }\n        }\n        args.push(init);\n      } return $fetch.apply(this, args);\n    }\n  });\n}\n\nmodule.exports = {\n  URLSearchParams: URLSearchParamsConstructor,\n  getState: getInternalParamsState\n};\n","'use strict';\n// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\nrequire('../modules/es.string.iterator');\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar USE_NATIVE_URL = require('../internals/native-url');\nvar global = require('../internals/global');\nvar defineProperties = require('../internals/object-define-properties');\nvar redefine = require('../internals/redefine');\nvar anInstance = require('../internals/an-instance');\nvar has = require('../internals/has');\nvar assign = require('../internals/object-assign');\nvar arrayFrom = require('../internals/array-from');\nvar codeAt = require('../internals/string-multibyte').codeAt;\nvar toASCII = require('../internals/string-punycode-to-ascii');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar URLSearchParamsModule = require('../modules/web.url-search-params');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar NativeURL = global.URL;\nvar URLSearchParams = URLSearchParamsModule.URLSearchParams;\nvar getInternalSearchParamsState = URLSearchParamsModule.getState;\nvar setInternalState = InternalStateModule.set;\nvar getInternalURLState = InternalStateModule.getterFor('URL');\nvar floor = Math.floor;\nvar pow = Math.pow;\n\nvar INVALID_AUTHORITY = 'Invalid authority';\nvar INVALID_SCHEME = 'Invalid scheme';\nvar INVALID_HOST = 'Invalid host';\nvar INVALID_PORT = 'Invalid port';\n\nvar ALPHA = /[A-Za-z]/;\nvar ALPHANUMERIC = /[\\d+-.A-Za-z]/;\nvar DIGIT = /\\d/;\nvar HEX_START = /^(0x|0X)/;\nvar OCT = /^[0-7]+$/;\nvar DEC = /^\\d+$/;\nvar HEX = /^[\\dA-Fa-f]+$/;\n// eslint-disable-next-line no-control-regex\nvar FORBIDDEN_HOST_CODE_POINT = /[\\u0000\\u0009\\u000A\\u000D #%/:?@[\\\\]]/;\n// eslint-disable-next-line no-control-regex\nvar FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT = /[\\u0000\\u0009\\u000A\\u000D #/:?@[\\\\]]/;\n// eslint-disable-next-line no-control-regex\nvar LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE = /^[\\u0000-\\u001F ]+|[\\u0000-\\u001F ]+$/g;\n// eslint-disable-next-line no-control-regex\nvar TAB_AND_NEW_LINE = /[\\u0009\\u000A\\u000D]/g;\nvar EOF;\n\nvar parseHost = function (url, input) {\n  var result, codePoints, index;\n  if (input.charAt(0) == '[') {\n    if (input.charAt(input.length - 1) != ']') return INVALID_HOST;\n    result = parseIPv6(input.slice(1, -1));\n    if (!result) return INVALID_HOST;\n    url.host = result;\n  // opaque host\n  } else if (!isSpecial(url)) {\n    if (FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT.test(input)) return INVALID_HOST;\n    result = '';\n    codePoints = arrayFrom(input);\n    for (index = 0; index < codePoints.length; index++) {\n      result += percentEncode(codePoints[index], C0ControlPercentEncodeSet);\n    }\n    url.host = result;\n  } else {\n    input = toASCII(input);\n    if (FORBIDDEN_HOST_CODE_POINT.test(input)) return INVALID_HOST;\n    result = parseIPv4(input);\n    if (result === null) return INVALID_HOST;\n    url.host = result;\n  }\n};\n\nvar parseIPv4 = function (input) {\n  var parts = input.split('.');\n  var partsLength, numbers, index, part, radix, number, ipv4;\n  if (parts.length && parts[parts.length - 1] == '') {\n    parts.pop();\n  }\n  partsLength = parts.length;\n  if (partsLength > 4) return input;\n  numbers = [];\n  for (index = 0; index < partsLength; index++) {\n    part = parts[index];\n    if (part == '') return input;\n    radix = 10;\n    if (part.length > 1 && part.charAt(0) == '0') {\n      radix = HEX_START.test(part) ? 16 : 8;\n      part = part.slice(radix == 8 ? 1 : 2);\n    }\n    if (part === '') {\n      number = 0;\n    } else {\n      if (!(radix == 10 ? DEC : radix == 8 ? OCT : HEX).test(part)) return input;\n      number = parseInt(part, radix);\n    }\n    numbers.push(number);\n  }\n  for (index = 0; index < partsLength; index++) {\n    number = numbers[index];\n    if (index == partsLength - 1) {\n      if (number >= pow(256, 5 - partsLength)) return null;\n    } else if (number > 255) return null;\n  }\n  ipv4 = numbers.pop();\n  for (index = 0; index < numbers.length; index++) {\n    ipv4 += numbers[index] * pow(256, 3 - index);\n  }\n  return ipv4;\n};\n\n// eslint-disable-next-line max-statements\nvar parseIPv6 = function (input) {\n  var address = [0, 0, 0, 0, 0, 0, 0, 0];\n  var pieceIndex = 0;\n  var compress = null;\n  var pointer = 0;\n  var value, length, numbersSeen, ipv4Piece, number, swaps, swap;\n\n  var char = function () {\n    return input.charAt(pointer);\n  };\n\n  if (char() == ':') {\n    if (input.charAt(1) != ':') return;\n    pointer += 2;\n    pieceIndex++;\n    compress = pieceIndex;\n  }\n  while (char()) {\n    if (pieceIndex == 8) return;\n    if (char() == ':') {\n      if (compress !== null) return;\n      pointer++;\n      pieceIndex++;\n      compress = pieceIndex;\n      continue;\n    }\n    value = length = 0;\n    while (length < 4 && HEX.test(char())) {\n      value = value * 16 + parseInt(char(), 16);\n      pointer++;\n      length++;\n    }\n    if (char() == '.') {\n      if (length == 0) return;\n      pointer -= length;\n      if (pieceIndex > 6) return;\n      numbersSeen = 0;\n      while (char()) {\n        ipv4Piece = null;\n        if (numbersSeen > 0) {\n          if (char() == '.' && numbersSeen < 4) pointer++;\n          else return;\n        }\n        if (!DIGIT.test(char())) return;\n        while (DIGIT.test(char())) {\n          number = parseInt(char(), 10);\n          if (ipv4Piece === null) ipv4Piece = number;\n          else if (ipv4Piece == 0) return;\n          else ipv4Piece = ipv4Piece * 10 + number;\n          if (ipv4Piece > 255) return;\n          pointer++;\n        }\n        address[pieceIndex] = address[pieceIndex] * 256 + ipv4Piece;\n        numbersSeen++;\n        if (numbersSeen == 2 || numbersSeen == 4) pieceIndex++;\n      }\n      if (numbersSeen != 4) return;\n      break;\n    } else if (char() == ':') {\n      pointer++;\n      if (!char()) return;\n    } else if (char()) return;\n    address[pieceIndex++] = value;\n  }\n  if (compress !== null) {\n    swaps = pieceIndex - compress;\n    pieceIndex = 7;\n    while (pieceIndex != 0 && swaps > 0) {\n      swap = address[pieceIndex];\n      address[pieceIndex--] = address[compress + swaps - 1];\n      address[compress + --swaps] = swap;\n    }\n  } else if (pieceIndex != 8) return;\n  return address;\n};\n\nvar findLongestZeroSequence = function (ipv6) {\n  var maxIndex = null;\n  var maxLength = 1;\n  var currStart = null;\n  var currLength = 0;\n  var index = 0;\n  for (; index < 8; index++) {\n    if (ipv6[index] !== 0) {\n      if (currLength > maxLength) {\n        maxIndex = currStart;\n        maxLength = currLength;\n      }\n      currStart = null;\n      currLength = 0;\n    } else {\n      if (currStart === null) currStart = index;\n      ++currLength;\n    }\n  }\n  if (currLength > maxLength) {\n    maxIndex = currStart;\n    maxLength = currLength;\n  }\n  return maxIndex;\n};\n\nvar serializeHost = function (host) {\n  var result, index, compress, ignore0;\n  // ipv4\n  if (typeof host == 'number') {\n    result = [];\n    for (index = 0; index < 4; index++) {\n      result.unshift(host % 256);\n      host = floor(host / 256);\n    } return result.join('.');\n  // ipv6\n  } else if (typeof host == 'object') {\n    result = '';\n    compress = findLongestZeroSequence(host);\n    for (index = 0; index < 8; index++) {\n      if (ignore0 && host[index] === 0) continue;\n      if (ignore0) ignore0 = false;\n      if (compress === index) {\n        result += index ? ':' : '::';\n        ignore0 = true;\n      } else {\n        result += host[index].toString(16);\n        if (index < 7) result += ':';\n      }\n    }\n    return '[' + result + ']';\n  } return host;\n};\n\nvar C0ControlPercentEncodeSet = {};\nvar fragmentPercentEncodeSet = assign({}, C0ControlPercentEncodeSet, {\n  ' ': 1, '\"': 1, '<': 1, '>': 1, '`': 1\n});\nvar pathPercentEncodeSet = assign({}, fragmentPercentEncodeSet, {\n  '#': 1, '?': 1, '{': 1, '}': 1\n});\nvar userinfoPercentEncodeSet = assign({}, pathPercentEncodeSet, {\n  '/': 1, ':': 1, ';': 1, '=': 1, '@': 1, '[': 1, '\\\\': 1, ']': 1, '^': 1, '|': 1\n});\n\nvar percentEncode = function (char, set) {\n  var code = codeAt(char, 0);\n  return code > 0x20 && code < 0x7F && !has(set, char) ? char : encodeURIComponent(char);\n};\n\nvar specialSchemes = {\n  ftp: 21,\n  file: null,\n  http: 80,\n  https: 443,\n  ws: 80,\n  wss: 443\n};\n\nvar isSpecial = function (url) {\n  return has(specialSchemes, url.scheme);\n};\n\nvar includesCredentials = function (url) {\n  return url.username != '' || url.password != '';\n};\n\nvar cannotHaveUsernamePasswordPort = function (url) {\n  return !url.host || url.cannotBeABaseURL || url.scheme == 'file';\n};\n\nvar isWindowsDriveLetter = function (string, normalized) {\n  var second;\n  return string.length == 2 && ALPHA.test(string.charAt(0))\n    && ((second = string.charAt(1)) == ':' || (!normalized && second == '|'));\n};\n\nvar startsWithWindowsDriveLetter = function (string) {\n  var third;\n  return string.length > 1 && isWindowsDriveLetter(string.slice(0, 2)) && (\n    string.length == 2 ||\n    ((third = string.charAt(2)) === '/' || third === '\\\\' || third === '?' || third === '#')\n  );\n};\n\nvar shortenURLsPath = function (url) {\n  var path = url.path;\n  var pathSize = path.length;\n  if (pathSize && (url.scheme != 'file' || pathSize != 1 || !isWindowsDriveLetter(path[0], true))) {\n    path.pop();\n  }\n};\n\nvar isSingleDot = function (segment) {\n  return segment === '.' || segment.toLowerCase() === '%2e';\n};\n\nvar isDoubleDot = function (segment) {\n  segment = segment.toLowerCase();\n  return segment === '..' || segment === '%2e.' || segment === '.%2e' || segment === '%2e%2e';\n};\n\n// States:\nvar SCHEME_START = {};\nvar SCHEME = {};\nvar NO_SCHEME = {};\nvar SPECIAL_RELATIVE_OR_AUTHORITY = {};\nvar PATH_OR_AUTHORITY = {};\nvar RELATIVE = {};\nvar RELATIVE_SLASH = {};\nvar SPECIAL_AUTHORITY_SLASHES = {};\nvar SPECIAL_AUTHORITY_IGNORE_SLASHES = {};\nvar AUTHORITY = {};\nvar HOST = {};\nvar HOSTNAME = {};\nvar PORT = {};\nvar FILE = {};\nvar FILE_SLASH = {};\nvar FILE_HOST = {};\nvar PATH_START = {};\nvar PATH = {};\nvar CANNOT_BE_A_BASE_URL_PATH = {};\nvar QUERY = {};\nvar FRAGMENT = {};\n\n// eslint-disable-next-line max-statements\nvar parseURL = function (url, input, stateOverride, base) {\n  var state = stateOverride || SCHEME_START;\n  var pointer = 0;\n  var buffer = '';\n  var seenAt = false;\n  var seenBracket = false;\n  var seenPasswordToken = false;\n  var codePoints, char, bufferCodePoints, failure;\n\n  if (!stateOverride) {\n    url.scheme = '';\n    url.username = '';\n    url.password = '';\n    url.host = null;\n    url.port = null;\n    url.path = [];\n    url.query = null;\n    url.fragment = null;\n    url.cannotBeABaseURL = false;\n    input = input.replace(LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE, '');\n  }\n\n  input = input.replace(TAB_AND_NEW_LINE, '');\n\n  codePoints = arrayFrom(input);\n\n  while (pointer <= codePoints.length) {\n    char = codePoints[pointer];\n    switch (state) {\n      case SCHEME_START:\n        if (char && ALPHA.test(char)) {\n          buffer += char.toLowerCase();\n          state = SCHEME;\n        } else if (!stateOverride) {\n          state = NO_SCHEME;\n          continue;\n        } else return INVALID_SCHEME;\n        break;\n\n      case SCHEME:\n        if (char && (ALPHANUMERIC.test(char) || char == '+' || char == '-' || char == '.')) {\n          buffer += char.toLowerCase();\n        } else if (char == ':') {\n          if (stateOverride && (\n            (isSpecial(url) != has(specialSchemes, buffer)) ||\n            (buffer == 'file' && (includesCredentials(url) || url.port !== null)) ||\n            (url.scheme == 'file' && !url.host)\n          )) return;\n          url.scheme = buffer;\n          if (stateOverride) {\n            if (isSpecial(url) && specialSchemes[url.scheme] == url.port) url.port = null;\n            return;\n          }\n          buffer = '';\n          if (url.scheme == 'file') {\n            state = FILE;\n          } else if (isSpecial(url) && base && base.scheme == url.scheme) {\n            state = SPECIAL_RELATIVE_OR_AUTHORITY;\n          } else if (isSpecial(url)) {\n            state = SPECIAL_AUTHORITY_SLASHES;\n          } else if (codePoints[pointer + 1] == '/') {\n            state = PATH_OR_AUTHORITY;\n            pointer++;\n          } else {\n            url.cannotBeABaseURL = true;\n            url.path.push('');\n            state = CANNOT_BE_A_BASE_URL_PATH;\n          }\n        } else if (!stateOverride) {\n          buffer = '';\n          state = NO_SCHEME;\n          pointer = 0;\n          continue;\n        } else return INVALID_SCHEME;\n        break;\n\n      case NO_SCHEME:\n        if (!base || (base.cannotBeABaseURL && char != '#')) return INVALID_SCHEME;\n        if (base.cannotBeABaseURL && char == '#') {\n          url.scheme = base.scheme;\n          url.path = base.path.slice();\n          url.query = base.query;\n          url.fragment = '';\n          url.cannotBeABaseURL = true;\n          state = FRAGMENT;\n          break;\n        }\n        state = base.scheme == 'file' ? FILE : RELATIVE;\n        continue;\n\n      case SPECIAL_RELATIVE_OR_AUTHORITY:\n        if (char == '/' && codePoints[pointer + 1] == '/') {\n          state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n          pointer++;\n        } else {\n          state = RELATIVE;\n          continue;\n        } break;\n\n      case PATH_OR_AUTHORITY:\n        if (char == '/') {\n          state = AUTHORITY;\n          break;\n        } else {\n          state = PATH;\n          continue;\n        }\n\n      case RELATIVE:\n        url.scheme = base.scheme;\n        if (char == EOF) {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = base.query;\n        } else if (char == '/' || (char == '\\\\' && isSpecial(url))) {\n          state = RELATIVE_SLASH;\n        } else if (char == '?') {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = '';\n          state = QUERY;\n        } else if (char == '#') {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = base.query;\n          url.fragment = '';\n          state = FRAGMENT;\n        } else {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.path.pop();\n          state = PATH;\n          continue;\n        } break;\n\n      case RELATIVE_SLASH:\n        if (isSpecial(url) && (char == '/' || char == '\\\\')) {\n          state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n        } else if (char == '/') {\n          state = AUTHORITY;\n        } else {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          state = PATH;\n          continue;\n        } break;\n\n      case SPECIAL_AUTHORITY_SLASHES:\n        state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n        if (char != '/' || buffer.charAt(pointer + 1) != '/') continue;\n        pointer++;\n        break;\n\n      case SPECIAL_AUTHORITY_IGNORE_SLASHES:\n        if (char != '/' && char != '\\\\') {\n          state = AUTHORITY;\n          continue;\n        } break;\n\n      case AUTHORITY:\n        if (char == '@') {\n          if (seenAt) buffer = '%40' + buffer;\n          seenAt = true;\n          bufferCodePoints = arrayFrom(buffer);\n          for (var i = 0; i < bufferCodePoints.length; i++) {\n            var codePoint = bufferCodePoints[i];\n            if (codePoint == ':' && !seenPasswordToken) {\n              seenPasswordToken = true;\n              continue;\n            }\n            var encodedCodePoints = percentEncode(codePoint, userinfoPercentEncodeSet);\n            if (seenPasswordToken) url.password += encodedCodePoints;\n            else url.username += encodedCodePoints;\n          }\n          buffer = '';\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url))\n        ) {\n          if (seenAt && buffer == '') return INVALID_AUTHORITY;\n          pointer -= arrayFrom(buffer).length + 1;\n          buffer = '';\n          state = HOST;\n        } else buffer += char;\n        break;\n\n      case HOST:\n      case HOSTNAME:\n        if (stateOverride && url.scheme == 'file') {\n          state = FILE_HOST;\n          continue;\n        } else if (char == ':' && !seenBracket) {\n          if (buffer == '') return INVALID_HOST;\n          failure = parseHost(url, buffer);\n          if (failure) return failure;\n          buffer = '';\n          state = PORT;\n          if (stateOverride == HOSTNAME) return;\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url))\n        ) {\n          if (isSpecial(url) && buffer == '') return INVALID_HOST;\n          if (stateOverride && buffer == '' && (includesCredentials(url) || url.port !== null)) return;\n          failure = parseHost(url, buffer);\n          if (failure) return failure;\n          buffer = '';\n          state = PATH_START;\n          if (stateOverride) return;\n          continue;\n        } else {\n          if (char == '[') seenBracket = true;\n          else if (char == ']') seenBracket = false;\n          buffer += char;\n        } break;\n\n      case PORT:\n        if (DIGIT.test(char)) {\n          buffer += char;\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url)) ||\n          stateOverride\n        ) {\n          if (buffer != '') {\n            var port = parseInt(buffer, 10);\n            if (port > 0xFFFF) return INVALID_PORT;\n            url.port = (isSpecial(url) && port === specialSchemes[url.scheme]) ? null : port;\n            buffer = '';\n          }\n          if (stateOverride) return;\n          state = PATH_START;\n          continue;\n        } else return INVALID_PORT;\n        break;\n\n      case FILE:\n        url.scheme = 'file';\n        if (char == '/' || char == '\\\\') state = FILE_SLASH;\n        else if (base && base.scheme == 'file') {\n          if (char == EOF) {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = base.query;\n          } else if (char == '?') {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = '';\n            state = QUERY;\n          } else if (char == '#') {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = base.query;\n            url.fragment = '';\n            state = FRAGMENT;\n          } else {\n            if (!startsWithWindowsDriveLetter(codePoints.slice(pointer).join(''))) {\n              url.host = base.host;\n              url.path = base.path.slice();\n              shortenURLsPath(url);\n            }\n            state = PATH;\n            continue;\n          }\n        } else {\n          state = PATH;\n          continue;\n        } break;\n\n      case FILE_SLASH:\n        if (char == '/' || char == '\\\\') {\n          state = FILE_HOST;\n          break;\n        }\n        if (base && base.scheme == 'file' && !startsWithWindowsDriveLetter(codePoints.slice(pointer).join(''))) {\n          if (isWindowsDriveLetter(base.path[0], true)) url.path.push(base.path[0]);\n          else url.host = base.host;\n        }\n        state = PATH;\n        continue;\n\n      case FILE_HOST:\n        if (char == EOF || char == '/' || char == '\\\\' || char == '?' || char == '#') {\n          if (!stateOverride && isWindowsDriveLetter(buffer)) {\n            state = PATH;\n          } else if (buffer == '') {\n            url.host = '';\n            if (stateOverride) return;\n            state = PATH_START;\n          } else {\n            failure = parseHost(url, buffer);\n            if (failure) return failure;\n            if (url.host == 'localhost') url.host = '';\n            if (stateOverride) return;\n            buffer = '';\n            state = PATH_START;\n          } continue;\n        } else buffer += char;\n        break;\n\n      case PATH_START:\n        if (isSpecial(url)) {\n          state = PATH;\n          if (char != '/' && char != '\\\\') continue;\n        } else if (!stateOverride && char == '?') {\n          url.query = '';\n          state = QUERY;\n        } else if (!stateOverride && char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          state = PATH;\n          if (char != '/') continue;\n        } break;\n\n      case PATH:\n        if (\n          char == EOF || char == '/' ||\n          (char == '\\\\' && isSpecial(url)) ||\n          (!stateOverride && (char == '?' || char == '#'))\n        ) {\n          if (isDoubleDot(buffer)) {\n            shortenURLsPath(url);\n            if (char != '/' && !(char == '\\\\' && isSpecial(url))) {\n              url.path.push('');\n            }\n          } else if (isSingleDot(buffer)) {\n            if (char != '/' && !(char == '\\\\' && isSpecial(url))) {\n              url.path.push('');\n            }\n          } else {\n            if (url.scheme == 'file' && !url.path.length && isWindowsDriveLetter(buffer)) {\n              if (url.host) url.host = '';\n              buffer = buffer.charAt(0) + ':'; // normalize windows drive letter\n            }\n            url.path.push(buffer);\n          }\n          buffer = '';\n          if (url.scheme == 'file' && (char == EOF || char == '?' || char == '#')) {\n            while (url.path.length > 1 && url.path[0] === '') {\n              url.path.shift();\n            }\n          }\n          if (char == '?') {\n            url.query = '';\n            state = QUERY;\n          } else if (char == '#') {\n            url.fragment = '';\n            state = FRAGMENT;\n          }\n        } else {\n          buffer += percentEncode(char, pathPercentEncodeSet);\n        } break;\n\n      case CANNOT_BE_A_BASE_URL_PATH:\n        if (char == '?') {\n          url.query = '';\n          state = QUERY;\n        } else if (char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          url.path[0] += percentEncode(char, C0ControlPercentEncodeSet);\n        } break;\n\n      case QUERY:\n        if (!stateOverride && char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          if (char == \"'\" && isSpecial(url)) url.query += '%27';\n          else if (char == '#') url.query += '%23';\n          else url.query += percentEncode(char, C0ControlPercentEncodeSet);\n        } break;\n\n      case FRAGMENT:\n        if (char != EOF) url.fragment += percentEncode(char, fragmentPercentEncodeSet);\n        break;\n    }\n\n    pointer++;\n  }\n};\n\n// `URL` constructor\n// https://url.spec.whatwg.org/#url-class\nvar URLConstructor = function URL(url /* , base */) {\n  var that = anInstance(this, URLConstructor, 'URL');\n  var base = arguments.length > 1 ? arguments[1] : undefined;\n  var urlString = String(url);\n  var state = setInternalState(that, { type: 'URL' });\n  var baseState, failure;\n  if (base !== undefined) {\n    if (base instanceof URLConstructor) baseState = getInternalURLState(base);\n    else {\n      failure = parseURL(baseState = {}, String(base));\n      if (failure) throw TypeError(failure);\n    }\n  }\n  failure = parseURL(state, urlString, null, baseState);\n  if (failure) throw TypeError(failure);\n  var searchParams = state.searchParams = new URLSearchParams();\n  var searchParamsState = getInternalSearchParamsState(searchParams);\n  searchParamsState.updateSearchParams(state.query);\n  searchParamsState.updateURL = function () {\n    state.query = String(searchParams) || null;\n  };\n  if (!DESCRIPTORS) {\n    that.href = serializeURL.call(that);\n    that.origin = getOrigin.call(that);\n    that.protocol = getProtocol.call(that);\n    that.username = getUsername.call(that);\n    that.password = getPassword.call(that);\n    that.host = getHost.call(that);\n    that.hostname = getHostname.call(that);\n    that.port = getPort.call(that);\n    that.pathname = getPathname.call(that);\n    that.search = getSearch.call(that);\n    that.searchParams = getSearchParams.call(that);\n    that.hash = getHash.call(that);\n  }\n};\n\nvar URLPrototype = URLConstructor.prototype;\n\nvar serializeURL = function () {\n  var url = getInternalURLState(this);\n  var scheme = url.scheme;\n  var username = url.username;\n  var password = url.password;\n  var host = url.host;\n  var port = url.port;\n  var path = url.path;\n  var query = url.query;\n  var fragment = url.fragment;\n  var output = scheme + ':';\n  if (host !== null) {\n    output += '//';\n    if (includesCredentials(url)) {\n      output += username + (password ? ':' + password : '') + '@';\n    }\n    output += serializeHost(host);\n    if (port !== null) output += ':' + port;\n  } else if (scheme == 'file') output += '//';\n  output += url.cannotBeABaseURL ? path[0] : path.length ? '/' + path.join('/') : '';\n  if (query !== null) output += '?' + query;\n  if (fragment !== null) output += '#' + fragment;\n  return output;\n};\n\nvar getOrigin = function () {\n  var url = getInternalURLState(this);\n  var scheme = url.scheme;\n  var port = url.port;\n  if (scheme == 'blob') try {\n    return new URL(scheme.path[0]).origin;\n  } catch (error) {\n    return 'null';\n  }\n  if (scheme == 'file' || !isSpecial(url)) return 'null';\n  return scheme + '://' + serializeHost(url.host) + (port !== null ? ':' + port : '');\n};\n\nvar getProtocol = function () {\n  return getInternalURLState(this).scheme + ':';\n};\n\nvar getUsername = function () {\n  return getInternalURLState(this).username;\n};\n\nvar getPassword = function () {\n  return getInternalURLState(this).password;\n};\n\nvar getHost = function () {\n  var url = getInternalURLState(this);\n  var host = url.host;\n  var port = url.port;\n  return host === null ? ''\n    : port === null ? serializeHost(host)\n    : serializeHost(host) + ':' + port;\n};\n\nvar getHostname = function () {\n  var host = getInternalURLState(this).host;\n  return host === null ? '' : serializeHost(host);\n};\n\nvar getPort = function () {\n  var port = getInternalURLState(this).port;\n  return port === null ? '' : String(port);\n};\n\nvar getPathname = function () {\n  var url = getInternalURLState(this);\n  var path = url.path;\n  return url.cannotBeABaseURL ? path[0] : path.length ? '/' + path.join('/') : '';\n};\n\nvar getSearch = function () {\n  var query = getInternalURLState(this).query;\n  return query ? '?' + query : '';\n};\n\nvar getSearchParams = function () {\n  return getInternalURLState(this).searchParams;\n};\n\nvar getHash = function () {\n  var fragment = getInternalURLState(this).fragment;\n  return fragment ? '#' + fragment : '';\n};\n\nvar accessorDescriptor = function (getter, setter) {\n  return { get: getter, set: setter, configurable: true, enumerable: true };\n};\n\nif (DESCRIPTORS) {\n  defineProperties(URLPrototype, {\n    // `URL.prototype.href` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-href\n    href: accessorDescriptor(serializeURL, function (href) {\n      var url = getInternalURLState(this);\n      var urlString = String(href);\n      var failure = parseURL(url, urlString);\n      if (failure) throw TypeError(failure);\n      getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);\n    }),\n    // `URL.prototype.origin` getter\n    // https://url.spec.whatwg.org/#dom-url-origin\n    origin: accessorDescriptor(getOrigin),\n    // `URL.prototype.protocol` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-protocol\n    protocol: accessorDescriptor(getProtocol, function (protocol) {\n      var url = getInternalURLState(this);\n      parseURL(url, String(protocol) + ':', SCHEME_START);\n    }),\n    // `URL.prototype.username` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-username\n    username: accessorDescriptor(getUsername, function (username) {\n      var url = getInternalURLState(this);\n      var codePoints = arrayFrom(String(username));\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      url.username = '';\n      for (var i = 0; i < codePoints.length; i++) {\n        url.username += percentEncode(codePoints[i], userinfoPercentEncodeSet);\n      }\n    }),\n    // `URL.prototype.password` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-password\n    password: accessorDescriptor(getPassword, function (password) {\n      var url = getInternalURLState(this);\n      var codePoints = arrayFrom(String(password));\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      url.password = '';\n      for (var i = 0; i < codePoints.length; i++) {\n        url.password += percentEncode(codePoints[i], userinfoPercentEncodeSet);\n      }\n    }),\n    // `URL.prototype.host` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-host\n    host: accessorDescriptor(getHost, function (host) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      parseURL(url, String(host), HOST);\n    }),\n    // `URL.prototype.hostname` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-hostname\n    hostname: accessorDescriptor(getHostname, function (hostname) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      parseURL(url, String(hostname), HOSTNAME);\n    }),\n    // `URL.prototype.port` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-port\n    port: accessorDescriptor(getPort, function (port) {\n      var url = getInternalURLState(this);\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      port = String(port);\n      if (port == '') url.port = null;\n      else parseURL(url, port, PORT);\n    }),\n    // `URL.prototype.pathname` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-pathname\n    pathname: accessorDescriptor(getPathname, function (pathname) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      url.path = [];\n      parseURL(url, pathname + '', PATH_START);\n    }),\n    // `URL.prototype.search` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-search\n    search: accessorDescriptor(getSearch, function (search) {\n      var url = getInternalURLState(this);\n      search = String(search);\n      if (search == '') {\n        url.query = null;\n      } else {\n        if ('?' == search.charAt(0)) search = search.slice(1);\n        url.query = '';\n        parseURL(url, search, QUERY);\n      }\n      getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);\n    }),\n    // `URL.prototype.searchParams` getter\n    // https://url.spec.whatwg.org/#dom-url-searchparams\n    searchParams: accessorDescriptor(getSearchParams),\n    // `URL.prototype.hash` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-hash\n    hash: accessorDescriptor(getHash, function (hash) {\n      var url = getInternalURLState(this);\n      hash = String(hash);\n      if (hash == '') {\n        url.fragment = null;\n        return;\n      }\n      if ('#' == hash.charAt(0)) hash = hash.slice(1);\n      url.fragment = '';\n      parseURL(url, hash, FRAGMENT);\n    })\n  });\n}\n\n// `URL.prototype.toJSON` method\n// https://url.spec.whatwg.org/#dom-url-tojson\nredefine(URLPrototype, 'toJSON', function toJSON() {\n  return serializeURL.call(this);\n}, { enumerable: true });\n\n// `URL.prototype.toString` method\n// https://url.spec.whatwg.org/#URL-stringification-behavior\nredefine(URLPrototype, 'toString', function toString() {\n  return serializeURL.call(this);\n}, { enumerable: true });\n\nif (NativeURL) {\n  var nativeCreateObjectURL = NativeURL.createObjectURL;\n  var nativeRevokeObjectURL = NativeURL.revokeObjectURL;\n  // `URL.createObjectURL` method\n  // https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL\n  // eslint-disable-next-line no-unused-vars\n  if (nativeCreateObjectURL) redefine(URLConstructor, 'createObjectURL', function createObjectURL(blob) {\n    return nativeCreateObjectURL.apply(NativeURL, arguments);\n  });\n  // `URL.revokeObjectURL` method\n  // https://developer.mozilla.org/en-US/docs/Web/API/URL/revokeObjectURL\n  // eslint-disable-next-line no-unused-vars\n  if (nativeRevokeObjectURL) redefine(URLConstructor, 'revokeObjectURL', function revokeObjectURL(url) {\n    return nativeRevokeObjectURL.apply(NativeURL, arguments);\n  });\n}\n\nsetToStringTag(URLConstructor, 'URL');\n\n$({ global: true, forced: !USE_NATIVE_URL, sham: !DESCRIPTORS }, {\n  URL: URLConstructor\n});\n","'use strict';\nvar $ = require('../internals/export');\n\n// `URL.prototype.toJSON` method\n// https://url.spec.whatwg.org/#dom-url-tojson\n$({ target: 'URL', proto: true, enumerable: true }, {\n  toJSON: function toJSON() {\n    return URL.prototype.toString.call(this);\n  }\n});\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","// http://ross.posterous.com/2008/08/19/iphone-touch-events-in-javascript/\n/**\n *\n * @param {Event} ev\n * @returns {void}\n */\nfunction touchHandler (ev) {\n  const {changedTouches} = ev,\n    first = changedTouches[0];\n\n  let type = '';\n  switch (ev.type) {\n  case 'touchstart': type = 'mousedown'; break;\n  case 'touchmove': type = 'mousemove'; break;\n  case 'touchend': type = 'mouseup'; break;\n  default: return;\n  }\n\n  const {screenX, screenY, clientX, clientY} = first; // eslint-disable-line no-shadow\n  const simulatedEvent = new MouseEvent(type, {\n    // Event interface\n    bubbles: true,\n    cancelable: true,\n    // UIEvent interface\n    view: window,\n    detail: 1, // click count\n    // MouseEvent interface (customized)\n    screenX, screenY, clientX, clientY,\n    // MouseEvent interface (defaults) - these could be removed\n    ctrlKey: false,\n    altKey: false,\n    shiftKey: false,\n    metaKey: false,\n    button: 0, // main button (usually left)\n    relatedTarget: null\n  });\n  if (changedTouches.length < 2) {\n    first.target.dispatchEvent(simulatedEvent);\n    ev.preventDefault();\n  }\n}\n\ndocument.addEventListener('touchstart', touchHandler, true);\ndocument.addEventListener('touchmove', touchHandler, true);\ndocument.addEventListener('touchend', touchHandler, true);\ndocument.addEventListener('touchcancel', touchHandler, true);\n","/**\n * Namespaces or tools therefor.\n * @module namespaces\n * @license MIT\n*/\n\n/**\n* Common namepaces constants in alpha order.\n* @enum {string}\n* @type {PlainObject}\n* @memberof module:namespaces\n*/\nexport const NS = {\n  HTML: 'http://www.w3.org/1999/xhtml',\n  MATH: 'http://www.w3.org/1998/Math/MathML',\n  SE: 'http://svg-edit.googlecode.com',\n  SVG: 'http://www.w3.org/2000/svg',\n  XLINK: 'http://www.w3.org/1999/xlink',\n  XML: 'http://www.w3.org/XML/1998/namespace',\n  XMLNS: 'http://www.w3.org/2000/xmlns/' // see http://www.w3.org/TR/REC-xml-names/#xmlReserved\n};\n\n/**\n* @function module:namespaces.getReverseNS\n* @returns {string} The NS with key values switched and lowercase\n*/\nexport const getReverseNS = function () {\n  const reverseNS = {};\n  Object.entries(NS).forEach(([name, URI]) => {\n    reverseNS[URI] = name.toLowerCase();\n  });\n  return reverseNS;\n};\n","/* eslint-disable import/unambiguous, max-len */\n/* globals SVGPathSeg, SVGPathSegMovetoRel, SVGPathSegMovetoAbs,\n    SVGPathSegMovetoRel, SVGPathSegLinetoRel, SVGPathSegLinetoAbs,\n    SVGPathSegLinetoHorizontalRel, SVGPathSegLinetoHorizontalAbs,\n    SVGPathSegLinetoVerticalRel, SVGPathSegLinetoVerticalAbs,\n    SVGPathSegClosePath, SVGPathSegCurvetoCubicRel,\n    SVGPathSegCurvetoCubicAbs, SVGPathSegCurvetoCubicSmoothRel,\n    SVGPathSegCurvetoCubicSmoothAbs, SVGPathSegCurvetoQuadraticRel,\n    SVGPathSegCurvetoQuadraticAbs, SVGPathSegCurvetoQuadraticSmoothRel,\n    SVGPathSegCurvetoQuadraticSmoothAbs, SVGPathSegArcRel, SVGPathSegArcAbs */\n/**\n* SVGPathSeg API polyfill\n* https://github.com/progers/pathseg\n*\n* This is a drop-in replacement for the `SVGPathSeg` and `SVGPathSegList` APIs\n* that were removed from SVG2 ({@link https://lists.w3.org/Archives/Public/www-svg/2015Jun/0044.html}),\n* including the latest spec changes which were implemented in Firefox 43 and\n* Chrome 46.\n*/\n/* eslint-disable no-shadow, class-methods-use-this, jsdoc/require-jsdoc */\n// Linting: We avoid `no-shadow` as ESLint thinks these are still available globals\n// Linting: We avoid `class-methods-use-this` as this is a polyfill that must\n//   follow the conventions\n(() => {\nif (!('SVGPathSeg' in window)) {\n  // Spec: https://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGPathSeg\n  class SVGPathSeg {\n    constructor (type, typeAsLetter, owningPathSegList) {\n      this.pathSegType = type;\n      this.pathSegTypeAsLetter = typeAsLetter;\n      this._owningPathSegList = owningPathSegList;\n    }\n    // Notify owning PathSegList on any changes so they can be synchronized back to the path element.\n    _segmentChanged () {\n      if (this._owningPathSegList) {\n        this._owningPathSegList.segmentChanged(this);\n      }\n    }\n  }\n  SVGPathSeg.prototype.classname = 'SVGPathSeg';\n\n  SVGPathSeg.PATHSEG_UNKNOWN = 0;\n  SVGPathSeg.PATHSEG_CLOSEPATH = 1;\n  SVGPathSeg.PATHSEG_MOVETO_ABS = 2;\n  SVGPathSeg.PATHSEG_MOVETO_REL = 3;\n  SVGPathSeg.PATHSEG_LINETO_ABS = 4;\n  SVGPathSeg.PATHSEG_LINETO_REL = 5;\n  SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS = 6;\n  SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL = 7;\n  SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS = 8;\n  SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL = 9;\n  SVGPathSeg.PATHSEG_ARC_ABS = 10;\n  SVGPathSeg.PATHSEG_ARC_REL = 11;\n  SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS = 12;\n  SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL = 13;\n  SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS = 14;\n  SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL = 15;\n  SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS = 16;\n  SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL = 17;\n  SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS = 18;\n  SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL = 19;\n\n  class SVGPathSegClosePath extends SVGPathSeg {\n    constructor (owningPathSegList) {\n      super(SVGPathSeg.PATHSEG_CLOSEPATH, 'z', owningPathSegList);\n    }\n    toString () { return '[object SVGPathSegClosePath]'; }\n    _asPathString () { return this.pathSegTypeAsLetter; }\n    clone () { return new SVGPathSegClosePath(undefined); }\n  }\n\n  class SVGPathSegMovetoAbs extends SVGPathSeg {\n    constructor (owningPathSegList, x, y) {\n      super(SVGPathSeg.PATHSEG_MOVETO_ABS, 'M', owningPathSegList);\n      this._x = x;\n      this._y = y;\n    }\n    toString () { return '[object SVGPathSegMovetoAbs]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegMovetoAbs(undefined, this._x, this._y); }\n  }\n  Object.defineProperties(SVGPathSegMovetoAbs.prototype, {\n    x: {\n      get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true\n    },\n    y: {\n      get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true\n    }\n  });\n\n  class SVGPathSegMovetoRel extends SVGPathSeg {\n    constructor (owningPathSegList, x, y) {\n      super(SVGPathSeg.PATHSEG_MOVETO_REL, 'm', owningPathSegList);\n      this._x = x;\n      this._y = y;\n    }\n    toString () { return '[object SVGPathSegMovetoRel]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegMovetoRel(undefined, this._x, this._y); }\n  }\n  Object.defineProperties(SVGPathSegMovetoRel.prototype, {\n    x: {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true},\n    y: {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true}\n  });\n\n  class SVGPathSegLinetoAbs extends SVGPathSeg {\n    constructor (owningPathSegList, x, y) {\n      super(SVGPathSeg.PATHSEG_LINETO_ABS, 'L', owningPathSegList);\n      this._x = x;\n      this._y = y;\n    }\n    toString () { return '[object SVGPathSegLinetoAbs]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegLinetoAbs(undefined, this._x, this._y); }\n  }\n  Object.defineProperties(SVGPathSegLinetoAbs.prototype, {\n    x: {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true},\n    y: {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true}\n  });\n\n  class SVGPathSegLinetoRel extends SVGPathSeg {\n    constructor (owningPathSegList, x, y) {\n      super(SVGPathSeg.PATHSEG_LINETO_REL, 'l', owningPathSegList);\n      this._x = x;\n      this._y = y;\n    }\n    toString () { return '[object SVGPathSegLinetoRel]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegLinetoRel(undefined, this._x, this._y); }\n  }\n  Object.defineProperties(SVGPathSegLinetoRel.prototype, {\n    x: {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true},\n    y: {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true}\n  });\n\n  class SVGPathSegCurvetoCubicAbs extends SVGPathSeg {\n    constructor (owningPathSegList, x, y, x1, y1, x2, y2) {\n      super(SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS, 'C', owningPathSegList);\n      this._x = x;\n      this._y = y;\n      this._x1 = x1;\n      this._y1 = y1;\n      this._x2 = x2;\n      this._y2 = y2;\n    }\n    toString () { return '[object SVGPathSegCurvetoCubicAbs]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x1 + ' ' + this._y1 + ' ' + this._x2 + ' ' + this._y2 + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegCurvetoCubicAbs(undefined, this._x, this._y, this._x1, this._y1, this._x2, this._y2); }\n  }\n  Object.defineProperties(SVGPathSegCurvetoCubicAbs.prototype, {\n    x: {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true},\n    y: {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true},\n    x1: {get () { return this._x1; }, set (x1) { this._x1 = x1; this._segmentChanged(); }, enumerable: true},\n    y1: {get () { return this._y1; }, set (y1) { this._y1 = y1; this._segmentChanged(); }, enumerable: true},\n    x2: {get () { return this._x2; }, set (x2) { this._x2 = x2; this._segmentChanged(); }, enumerable: true},\n    y2: {get () { return this._y2; }, set (y2) { this._y2 = y2; this._segmentChanged(); }, enumerable: true}\n  });\n\n  class SVGPathSegCurvetoCubicRel extends SVGPathSeg {\n    constructor (owningPathSegList, x, y, x1, y1, x2, y2) {\n      super(SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL, 'c', owningPathSegList);\n      this._x = x;\n      this._y = y;\n      this._x1 = x1;\n      this._y1 = y1;\n      this._x2 = x2;\n      this._y2 = y2;\n    }\n    toString () { return '[object SVGPathSegCurvetoCubicRel]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x1 + ' ' + this._y1 + ' ' + this._x2 + ' ' + this._y2 + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegCurvetoCubicRel(undefined, this._x, this._y, this._x1, this._y1, this._x2, this._y2); }\n  }\n  Object.defineProperties(SVGPathSegCurvetoCubicRel.prototype, {\n    x: {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true},\n    y: {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true},\n    x1: {get () { return this._x1; }, set (x1) { this._x1 = x1; this._segmentChanged(); }, enumerable: true},\n    y1: {get () { return this._y1; }, set (y1) { this._y1 = y1; this._segmentChanged(); }, enumerable: true},\n    x2: {get () { return this._x2; }, set (x2) { this._x2 = x2; this._segmentChanged(); }, enumerable: true},\n    y2: {get () { return this._y2; }, set (y2) { this._y2 = y2; this._segmentChanged(); }, enumerable: true}\n  });\n\n  class SVGPathSegCurvetoQuadraticAbs extends SVGPathSeg {\n    constructor (owningPathSegList, x, y, x1, y1) {\n      super(SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS, 'Q', owningPathSegList);\n      this._x = x;\n      this._y = y;\n      this._x1 = x1;\n      this._y1 = y1;\n    }\n    toString () { return '[object SVGPathSegCurvetoQuadraticAbs]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x1 + ' ' + this._y1 + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegCurvetoQuadraticAbs(undefined, this._x, this._y, this._x1, this._y1); }\n  }\n  Object.defineProperties(SVGPathSegCurvetoQuadraticAbs.prototype, {\n    x: {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true},\n    y: {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true},\n    x1: {get () { return this._x1; }, set (x1) { this._x1 = x1; this._segmentChanged(); }, enumerable: true},\n    y1: {get () { return this._y1; }, set (y1) { this._y1 = y1; this._segmentChanged(); }, enumerable: true}\n  });\n\n  class SVGPathSegCurvetoQuadraticRel extends SVGPathSeg {\n    constructor (owningPathSegList, x, y, x1, y1) {\n      super(SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL, 'q', owningPathSegList);\n      this._x = x;\n      this._y = y;\n      this._x1 = x1;\n      this._y1 = y1;\n    }\n    toString () { return '[object SVGPathSegCurvetoQuadraticRel]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x1 + ' ' + this._y1 + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegCurvetoQuadraticRel(undefined, this._x, this._y, this._x1, this._y1); }\n  }\n  Object.defineProperties(SVGPathSegCurvetoQuadraticRel.prototype, {\n    x: {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true},\n    y: {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true},\n    x1: {get () { return this._x1; }, set (x1) { this._x1 = x1; this._segmentChanged(); }, enumerable: true},\n    y1: {get () { return this._y1; }, set (y1) { this._y1 = y1; this._segmentChanged(); }, enumerable: true}\n  });\n\n  class SVGPathSegArcAbs extends SVGPathSeg {\n    constructor (owningPathSegList, x, y, r1, r2, angle, largeArcFlag, sweepFlag) {\n      super(SVGPathSeg.PATHSEG_ARC_ABS, 'A', owningPathSegList);\n      this._x = x;\n      this._y = y;\n      this._r1 = r1;\n      this._r2 = r2;\n      this._angle = angle;\n      this._largeArcFlag = largeArcFlag;\n      this._sweepFlag = sweepFlag;\n    }\n    toString () { return '[object SVGPathSegArcAbs]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._r1 + ' ' + this._r2 + ' ' + this._angle + ' ' + (this._largeArcFlag ? '1' : '0') + ' ' + (this._sweepFlag ? '1' : '0') + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegArcAbs(undefined, this._x, this._y, this._r1, this._r2, this._angle, this._largeArcFlag, this._sweepFlag); }\n  }\n  Object.defineProperties(SVGPathSegArcAbs.prototype, {\n    x: {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true},\n    y: {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true},\n    r1: {get () { return this._r1; }, set (r1) { this._r1 = r1; this._segmentChanged(); }, enumerable: true},\n    r2: {get () { return this._r2; }, set (r2) { this._r2 = r2; this._segmentChanged(); }, enumerable: true},\n    angle: {get () { return this._angle; }, set (angle) { this._angle = angle; this._segmentChanged(); }, enumerable: true},\n    largeArcFlag: {get () { return this._largeArcFlag; }, set (largeArcFlag) { this._largeArcFlag = largeArcFlag; this._segmentChanged(); }, enumerable: true},\n    sweepFlag: {get () { return this._sweepFlag; }, set (sweepFlag) { this._sweepFlag = sweepFlag; this._segmentChanged(); }, enumerable: true}\n  });\n\n  class SVGPathSegArcRel extends SVGPathSeg {\n    constructor (owningPathSegList, x, y, r1, r2, angle, largeArcFlag, sweepFlag) {\n      super(SVGPathSeg.PATHSEG_ARC_REL, 'a', owningPathSegList);\n      this._x = x;\n      this._y = y;\n      this._r1 = r1;\n      this._r2 = r2;\n      this._angle = angle;\n      this._largeArcFlag = largeArcFlag;\n      this._sweepFlag = sweepFlag;\n    }\n    toString () { return '[object SVGPathSegArcRel]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._r1 + ' ' + this._r2 + ' ' + this._angle + ' ' + (this._largeArcFlag ? '1' : '0') + ' ' + (this._sweepFlag ? '1' : '0') + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegArcRel(undefined, this._x, this._y, this._r1, this._r2, this._angle, this._largeArcFlag, this._sweepFlag); }\n  }\n  Object.defineProperties(SVGPathSegArcRel.prototype, {\n    x: {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true},\n    y: {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true},\n    r1: {get () { return this._r1; }, set (r1) { this._r1 = r1; this._segmentChanged(); }, enumerable: true},\n    r2: {get () { return this._r2; }, set (r2) { this._r2 = r2; this._segmentChanged(); }, enumerable: true},\n    angle: {get () { return this._angle; }, set (angle) { this._angle = angle; this._segmentChanged(); }, enumerable: true},\n    largeArcFlag: {get () { return this._largeArcFlag; }, set (largeArcFlag) { this._largeArcFlag = largeArcFlag; this._segmentChanged(); }, enumerable: true},\n    sweepFlag: {get () { return this._sweepFlag; }, set (sweepFlag) { this._sweepFlag = sweepFlag; this._segmentChanged(); }, enumerable: true}\n  });\n\n  class SVGPathSegLinetoHorizontalAbs extends SVGPathSeg {\n    constructor (owningPathSegList, x) {\n      super(SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS, 'H', owningPathSegList);\n      this._x = x;\n    }\n    toString () { return '[object SVGPathSegLinetoHorizontalAbs]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x; }\n    clone () { return new SVGPathSegLinetoHorizontalAbs(undefined, this._x); }\n  }\n  Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype, 'x', {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true});\n\n  class SVGPathSegLinetoHorizontalRel extends SVGPathSeg {\n    constructor (owningPathSegList, x) {\n      super(SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL, 'h', owningPathSegList);\n      this._x = x;\n    }\n    toString () { return '[object SVGPathSegLinetoHorizontalRel]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x; }\n    clone () { return new SVGPathSegLinetoHorizontalRel(undefined, this._x); }\n  }\n  Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype, 'x', {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true});\n\n  class SVGPathSegLinetoVerticalAbs extends SVGPathSeg {\n    constructor (owningPathSegList, y) {\n      super(SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS, 'V', owningPathSegList);\n      this._y = y;\n    }\n    toString () { return '[object SVGPathSegLinetoVerticalAbs]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._y; }\n    clone () { return new SVGPathSegLinetoVerticalAbs(undefined, this._y); }\n  }\n  Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype, 'y', {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true});\n\n  class SVGPathSegLinetoVerticalRel extends SVGPathSeg {\n    constructor (owningPathSegList, y) {\n      super(SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL, 'v', owningPathSegList);\n      this._y = y;\n    }\n    toString () { return '[object SVGPathSegLinetoVerticalRel]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._y; }\n    clone () { return new SVGPathSegLinetoVerticalRel(undefined, this._y); }\n  }\n  Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype, 'y', {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true});\n\n  class SVGPathSegCurvetoCubicSmoothAbs extends SVGPathSeg {\n    constructor (owningPathSegList, x, y, x2, y2) {\n      super(SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS, 'S', owningPathSegList);\n      this._x = x;\n      this._y = y;\n      this._x2 = x2;\n      this._y2 = y2;\n    }\n    toString () { return '[object SVGPathSegCurvetoCubicSmoothAbs]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x2 + ' ' + this._y2 + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegCurvetoCubicSmoothAbs(undefined, this._x, this._y, this._x2, this._y2); }\n  }\n  Object.defineProperties(SVGPathSegCurvetoCubicSmoothAbs.prototype, {\n    x: {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true},\n    y: {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true},\n    x2: {get () { return this._x2; }, set (x2) { this._x2 = x2; this._segmentChanged(); }, enumerable: true},\n    y2: {get () { return this._y2; }, set (y2) { this._y2 = y2; this._segmentChanged(); }, enumerable: true}\n  });\n\n  class SVGPathSegCurvetoCubicSmoothRel extends SVGPathSeg {\n    constructor (owningPathSegList, x, y, x2, y2) {\n      super(SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL, 's', owningPathSegList);\n      this._x = x;\n      this._y = y;\n      this._x2 = x2;\n      this._y2 = y2;\n    }\n    toString () { return '[object SVGPathSegCurvetoCubicSmoothRel]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x2 + ' ' + this._y2 + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegCurvetoCubicSmoothRel(undefined, this._x, this._y, this._x2, this._y2); }\n  }\n  Object.defineProperties(SVGPathSegCurvetoCubicSmoothRel.prototype, {\n    x: {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true},\n    y: {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true},\n    x2: {get () { return this._x2; }, set (x2) { this._x2 = x2; this._segmentChanged(); }, enumerable: true},\n    y2: {get () { return this._y2; }, set (y2) { this._y2 = y2; this._segmentChanged(); }, enumerable: true}\n  });\n\n  class SVGPathSegCurvetoQuadraticSmoothAbs extends SVGPathSeg {\n    constructor (owningPathSegList, x, y) {\n      super(SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS, 'T', owningPathSegList);\n      this._x = x;\n      this._y = y;\n    }\n    toString () { return '[object SVGPathSegCurvetoQuadraticSmoothAbs]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegCurvetoQuadraticSmoothAbs(undefined, this._x, this._y); }\n  }\n  Object.defineProperties(SVGPathSegCurvetoQuadraticSmoothAbs.prototype, {\n    x: {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true},\n    y: {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true}\n  });\n\n  class SVGPathSegCurvetoQuadraticSmoothRel extends SVGPathSeg {\n    constructor (owningPathSegList, x, y) {\n      super(SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL, 't', owningPathSegList);\n      this._x = x;\n      this._y = y;\n    }\n    toString () { return '[object SVGPathSegCurvetoQuadraticSmoothRel]'; }\n    _asPathString () { return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y; }\n    clone () { return new SVGPathSegCurvetoQuadraticSmoothRel(undefined, this._x, this._y); }\n  }\n  Object.defineProperties(SVGPathSegCurvetoQuadraticSmoothRel.prototype, {\n    x: {get () { return this._x; }, set (x) { this._x = x; this._segmentChanged(); }, enumerable: true},\n    y: {get () { return this._y; }, set (y) { this._y = y; this._segmentChanged(); }, enumerable: true}\n  });\n\n  // Add createSVGPathSeg* functions to SVGPathElement.\n  // Spec: https://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGPathElement.\n  SVGPathElement.prototype.createSVGPathSegClosePath = function () { return new SVGPathSegClosePath(undefined); };\n  SVGPathElement.prototype.createSVGPathSegMovetoAbs = function (x, y) { return new SVGPathSegMovetoAbs(undefined, x, y); };\n  SVGPathElement.prototype.createSVGPathSegMovetoRel = function (x, y) { return new SVGPathSegMovetoRel(undefined, x, y); };\n  SVGPathElement.prototype.createSVGPathSegLinetoAbs = function (x, y) { return new SVGPathSegLinetoAbs(undefined, x, y); };\n  SVGPathElement.prototype.createSVGPathSegLinetoRel = function (x, y) { return new SVGPathSegLinetoRel(undefined, x, y); };\n  SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs = function (x, y, x1, y1, x2, y2) { return new SVGPathSegCurvetoCubicAbs(undefined, x, y, x1, y1, x2, y2); };\n  SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel = function (x, y, x1, y1, x2, y2) { return new SVGPathSegCurvetoCubicRel(undefined, x, y, x1, y1, x2, y2); };\n  SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs = function (x, y, x1, y1) { return new SVGPathSegCurvetoQuadraticAbs(undefined, x, y, x1, y1); };\n  SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel = function (x, y, x1, y1) { return new SVGPathSegCurvetoQuadraticRel(undefined, x, y, x1, y1); };\n  SVGPathElement.prototype.createSVGPathSegArcAbs = function (x, y, r1, r2, angle, largeArcFlag, sweepFlag) { return new SVGPathSegArcAbs(undefined, x, y, r1, r2, angle, largeArcFlag, sweepFlag); };\n  SVGPathElement.prototype.createSVGPathSegArcRel = function (x, y, r1, r2, angle, largeArcFlag, sweepFlag) { return new SVGPathSegArcRel(undefined, x, y, r1, r2, angle, largeArcFlag, sweepFlag); };\n  SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs = function (x) { return new SVGPathSegLinetoHorizontalAbs(undefined, x); };\n  SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel = function (x) { return new SVGPathSegLinetoHorizontalRel(undefined, x); };\n  SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs = function (y) { return new SVGPathSegLinetoVerticalAbs(undefined, y); };\n  SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel = function (y) { return new SVGPathSegLinetoVerticalRel(undefined, y); };\n  SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs = function (x, y, x2, y2) { return new SVGPathSegCurvetoCubicSmoothAbs(undefined, x, y, x2, y2); };\n  SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel = function (x, y, x2, y2) { return new SVGPathSegCurvetoCubicSmoothRel(undefined, x, y, x2, y2); };\n  SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs = function (x, y) { return new SVGPathSegCurvetoQuadraticSmoothAbs(undefined, x, y); };\n  SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel = function (x, y) { return new SVGPathSegCurvetoQuadraticSmoothRel(undefined, x, y); };\n\n  if (!('getPathSegAtLength' in SVGPathElement.prototype)) {\n    // Add getPathSegAtLength to SVGPathElement.\n    // Spec: https://www.w3.org/TR/SVG11/single-page.html#paths-__svg__SVGPathElement__getPathSegAtLength\n    // This polyfill requires SVGPathElement.getTotalLength to implement the distance-along-a-path algorithm.\n    SVGPathElement.prototype.getPathSegAtLength = function (distance) {\n      if (distance === undefined || !isFinite(distance)) {\n        throw new Error('Invalid arguments.');\n      }\n\n      const measurementElement = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n      measurementElement.setAttribute('d', this.getAttribute('d'));\n      let lastPathSegment = measurementElement.pathSegList.numberOfItems - 1;\n\n      // If the path is empty, return 0.\n      if (lastPathSegment <= 0) {\n        return 0;\n      }\n\n      do {\n        measurementElement.pathSegList.removeItem(lastPathSegment);\n        if (distance > measurementElement.getTotalLength()) {\n          break;\n        }\n        lastPathSegment--;\n      } while (lastPathSegment > 0);\n      return lastPathSegment;\n    };\n  }\n\n  window.SVGPathSeg = SVGPathSeg;\n  window.SVGPathSegClosePath = SVGPathSegClosePath;\n  window.SVGPathSegMovetoAbs = SVGPathSegMovetoAbs;\n  window.SVGPathSegMovetoRel = SVGPathSegMovetoRel;\n  window.SVGPathSegLinetoAbs = SVGPathSegLinetoAbs;\n  window.SVGPathSegLinetoRel = SVGPathSegLinetoRel;\n  window.SVGPathSegCurvetoCubicAbs = SVGPathSegCurvetoCubicAbs;\n  window.SVGPathSegCurvetoCubicRel = SVGPathSegCurvetoCubicRel;\n  window.SVGPathSegCurvetoQuadraticAbs = SVGPathSegCurvetoQuadraticAbs;\n  window.SVGPathSegCurvetoQuadraticRel = SVGPathSegCurvetoQuadraticRel;\n  window.SVGPathSegArcAbs = SVGPathSegArcAbs;\n  window.SVGPathSegArcRel = SVGPathSegArcRel;\n  window.SVGPathSegLinetoHorizontalAbs = SVGPathSegLinetoHorizontalAbs;\n  window.SVGPathSegLinetoHorizontalRel = SVGPathSegLinetoHorizontalRel;\n  window.SVGPathSegLinetoVerticalAbs = SVGPathSegLinetoVerticalAbs;\n  window.SVGPathSegLinetoVerticalRel = SVGPathSegLinetoVerticalRel;\n  window.SVGPathSegCurvetoCubicSmoothAbs = SVGPathSegCurvetoCubicSmoothAbs;\n  window.SVGPathSegCurvetoCubicSmoothRel = SVGPathSegCurvetoCubicSmoothRel;\n  window.SVGPathSegCurvetoQuadraticSmoothAbs = SVGPathSegCurvetoQuadraticSmoothAbs;\n  window.SVGPathSegCurvetoQuadraticSmoothRel = SVGPathSegCurvetoQuadraticSmoothRel;\n}\n\n// Checking for SVGPathSegList in window checks for the case of an implementation without the\n// SVGPathSegList API.\n// The second check for appendItem is specific to Firefox 59+ which removed only parts of the\n// SVGPathSegList API (e.g., appendItem). In this case we need to re-implement the entire API\n// so the polyfill data (i.e., _list) is used throughout.\nif (!('SVGPathSegList' in window) || !('appendItem' in window.SVGPathSegList.prototype)) {\n  // Spec: https://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGPathSegList\n  class SVGPathSegList {\n    constructor (pathElement) {\n      this._pathElement = pathElement;\n      this._list = this._parsePath(this._pathElement.getAttribute('d'));\n\n      // Use a MutationObserver to catch changes to the path's \"d\" attribute.\n      this._mutationObserverConfig = {attributes: true, attributeFilter: ['d']};\n      this._pathElementMutationObserver = new MutationObserver(this._updateListFromPathMutations.bind(this));\n      this._pathElementMutationObserver.observe(this._pathElement, this._mutationObserverConfig);\n    }\n    // Process any pending mutations to the path element and update the list as needed.\n    // This should be the first call of all public functions and is needed because\n    // MutationObservers are not synchronous so we can have pending asynchronous mutations.\n    _checkPathSynchronizedToList () {\n      this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords());\n    }\n\n    _updateListFromPathMutations (mutationRecords) {\n      if (!this._pathElement) {\n        return;\n      }\n      let hasPathMutations = false;\n      mutationRecords.forEach((record) => {\n        if (record.attributeName === 'd') {\n          hasPathMutations = true;\n        }\n      });\n      if (hasPathMutations) {\n        this._list = this._parsePath(this._pathElement.getAttribute('d'));\n      }\n    }\n\n    // Serialize the list and update the path's 'd' attribute.\n    _writeListToPath () {\n      this._pathElementMutationObserver.disconnect();\n      this._pathElement.setAttribute('d', SVGPathSegList._pathSegArrayAsString(this._list));\n      this._pathElementMutationObserver.observe(this._pathElement, this._mutationObserverConfig);\n    }\n\n    // When a path segment changes the list needs to be synchronized back to the path element.\n    segmentChanged (pathSeg) {\n      this._writeListToPath();\n    }\n\n    clear () {\n      this._checkPathSynchronizedToList();\n\n      this._list.forEach((pathSeg) => {\n        pathSeg._owningPathSegList = null;\n      });\n      this._list = [];\n      this._writeListToPath();\n    }\n\n    initialize (newItem) {\n      this._checkPathSynchronizedToList();\n\n      this._list = [newItem];\n      newItem._owningPathSegList = this;\n      this._writeListToPath();\n      return newItem;\n    }\n\n    _checkValidIndex (index) {\n      if (isNaN(index) || index < 0 || index >= this.numberOfItems) {\n        throw new Error('INDEX_SIZE_ERR');\n      }\n    }\n\n    getItem (index) {\n      this._checkPathSynchronizedToList();\n\n      this._checkValidIndex(index);\n      return this._list[index];\n    }\n\n    insertItemBefore (newItem, index) {\n      this._checkPathSynchronizedToList();\n\n      // Spec: If the index is greater than or equal to numberOfItems, then the new item is appended to the end of the list.\n      if (index > this.numberOfItems) {\n        index = this.numberOfItems;\n      }\n      if (newItem._owningPathSegList) {\n        // SVG2 spec says to make a copy.\n        newItem = newItem.clone();\n      }\n      this._list.splice(index, 0, newItem);\n      newItem._owningPathSegList = this;\n      this._writeListToPath();\n      return newItem;\n    }\n\n    replaceItem (newItem, index) {\n      this._checkPathSynchronizedToList();\n\n      if (newItem._owningPathSegList) {\n        // SVG2 spec says to make a copy.\n        newItem = newItem.clone();\n      }\n      this._checkValidIndex(index);\n      this._list[index] = newItem;\n      newItem._owningPathSegList = this;\n      this._writeListToPath();\n      return newItem;\n    }\n\n    removeItem (index) {\n      this._checkPathSynchronizedToList();\n\n      this._checkValidIndex(index);\n      const item = this._list[index];\n      this._list.splice(index, 1);\n      this._writeListToPath();\n      return item;\n    }\n\n    appendItem (newItem) {\n      this._checkPathSynchronizedToList();\n\n      if (newItem._owningPathSegList) {\n        // SVG2 spec says to make a copy.\n        newItem = newItem.clone();\n      }\n      this._list.push(newItem);\n      newItem._owningPathSegList = this;\n      // TODO: Optimize this to just append to the existing attribute.\n      this._writeListToPath();\n      return newItem;\n    }\n\n    // This closely follows SVGPathParser::parsePath from Source/core/svg/SVGPathParser.cpp.\n    _parsePath (string) {\n      if (!string || !string.length) {\n        return [];\n      }\n\n      const owningPathSegList = this;\n\n      class Builder {\n        constructor () {\n          this.pathSegList = [];\n        }\n        appendSegment (pathSeg) {\n          this.pathSegList.push(pathSeg);\n        }\n      }\n\n      class Source {\n        constructor (string) {\n          this._string = string;\n          this._currentIndex = 0;\n          this._endIndex = this._string.length;\n          this._previousCommand = SVGPathSeg.PATHSEG_UNKNOWN;\n\n          this._skipOptionalSpaces();\n        }\n        _isCurrentSpace () {\n          const character = this._string[this._currentIndex];\n          return character <= ' ' && (character === ' ' || character === '\\n' || character === '\\t' || character === '\\r' || character === '\\f');\n        }\n\n        _skipOptionalSpaces () {\n          while (this._currentIndex < this._endIndex && this._isCurrentSpace()) {\n            this._currentIndex++;\n          }\n          return this._currentIndex < this._endIndex;\n        }\n\n        _skipOptionalSpacesOrDelimiter () {\n          if (this._currentIndex < this._endIndex && !this._isCurrentSpace() && this._string.charAt(this._currentIndex) !== ',') {\n            return false;\n          }\n          if (this._skipOptionalSpaces()) {\n            if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) === ',') {\n              this._currentIndex++;\n              this._skipOptionalSpaces();\n            }\n          }\n          return this._currentIndex < this._endIndex;\n        }\n\n        hasMoreData () {\n          return this._currentIndex < this._endIndex;\n        }\n\n        peekSegmentType () {\n          const lookahead = this._string[this._currentIndex];\n          return this._pathSegTypeFromChar(lookahead);\n        }\n\n        _pathSegTypeFromChar (lookahead) {\n          switch (lookahead) {\n          case 'Z':\n          case 'z':\n            return SVGPathSeg.PATHSEG_CLOSEPATH;\n          case 'M':\n            return SVGPathSeg.PATHSEG_MOVETO_ABS;\n          case 'm':\n            return SVGPathSeg.PATHSEG_MOVETO_REL;\n          case 'L':\n            return SVGPathSeg.PATHSEG_LINETO_ABS;\n          case 'l':\n            return SVGPathSeg.PATHSEG_LINETO_REL;\n          case 'C':\n            return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;\n          case 'c':\n            return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;\n          case 'Q':\n            return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;\n          case 'q':\n            return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;\n          case 'A':\n            return SVGPathSeg.PATHSEG_ARC_ABS;\n          case 'a':\n            return SVGPathSeg.PATHSEG_ARC_REL;\n          case 'H':\n            return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;\n          case 'h':\n            return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;\n          case 'V':\n            return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;\n          case 'v':\n            return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;\n          case 'S':\n            return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;\n          case 's':\n            return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;\n          case 'T':\n            return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;\n          case 't':\n            return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;\n          default:\n            return SVGPathSeg.PATHSEG_UNKNOWN;\n          }\n        }\n\n        _nextCommandHelper (lookahead, previousCommand) {\n          // Check for remaining coordinates in the current command.\n          if ((lookahead === '+' || lookahead === '-' || lookahead === '.' || (lookahead >= '0' && lookahead <= '9')) && previousCommand !== SVGPathSeg.PATHSEG_CLOSEPATH) {\n            if (previousCommand === SVGPathSeg.PATHSEG_MOVETO_ABS) {\n              return SVGPathSeg.PATHSEG_LINETO_ABS;\n            }\n            if (previousCommand === SVGPathSeg.PATHSEG_MOVETO_REL) {\n              return SVGPathSeg.PATHSEG_LINETO_REL;\n            }\n            return previousCommand;\n          }\n          return SVGPathSeg.PATHSEG_UNKNOWN;\n        }\n\n        initialCommandIsMoveTo () {\n          // If the path is empty it is still valid, so return true.\n          if (!this.hasMoreData()) {\n            return true;\n          }\n          const command = this.peekSegmentType();\n          // Path must start with moveTo.\n          return command === SVGPathSeg.PATHSEG_MOVETO_ABS || command === SVGPathSeg.PATHSEG_MOVETO_REL;\n        }\n\n        // Parse a number from an SVG path. This very closely follows genericParseNumber(...) from Source/core/svg/SVGParserUtilities.cpp.\n        // Spec: https://www.w3.org/TR/SVG11/single-page.html#paths-PathDataBNF\n        _parseNumber () {\n          let exponent = 0;\n          let integer = 0;\n          let frac = 1;\n          let decimal = 0;\n          let sign = 1;\n          let expsign = 1;\n\n          const startIndex = this._currentIndex;\n\n          this._skipOptionalSpaces();\n\n          // Read the sign.\n          if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) === '+') {\n            this._currentIndex++;\n          } else if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) === '-') {\n            this._currentIndex++;\n            sign = -1;\n          }\n\n          if (this._currentIndex === this._endIndex || ((this._string.charAt(this._currentIndex) < '0' || this._string.charAt(this._currentIndex) > '9') && this._string.charAt(this._currentIndex) !== '.')) {\n            // The first character of a number must be one of [0-9+-.].\n            return undefined;\n          }\n\n          // Read the integer part, build right-to-left.\n          const startIntPartIndex = this._currentIndex;\n          while (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= '0' && this._string.charAt(this._currentIndex) <= '9') {\n            this._currentIndex++; // Advance to first non-digit.\n          }\n\n          if (this._currentIndex !== startIntPartIndex) {\n            let scanIntPartIndex = this._currentIndex - 1;\n            let multiplier = 1;\n            while (scanIntPartIndex >= startIntPartIndex) {\n              integer += multiplier * (this._string.charAt(scanIntPartIndex--) - '0');\n              multiplier *= 10;\n            }\n          }\n\n          // Read the decimals.\n          if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) === '.') {\n            this._currentIndex++;\n\n            // There must be a least one digit following the .\n            if (this._currentIndex >= this._endIndex || this._string.charAt(this._currentIndex) < '0' || this._string.charAt(this._currentIndex) > '9') {\n              return undefined;\n            }\n            while (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= '0' && this._string.charAt(this._currentIndex) <= '9') {\n              frac *= 10;\n              decimal += (this._string.charAt(this._currentIndex) - '0') / frac;\n              this._currentIndex += 1;\n            }\n          }\n\n          // Read the exponent part.\n          if (this._currentIndex !== startIndex && this._currentIndex + 1 < this._endIndex && (this._string.charAt(this._currentIndex) === 'e' || this._string.charAt(this._currentIndex) === 'E') && (this._string.charAt(this._currentIndex + 1) !== 'x' && this._string.charAt(this._currentIndex + 1) !== 'm')) {\n            this._currentIndex++;\n\n            // Read the sign of the exponent.\n            if (this._string.charAt(this._currentIndex) === '+') {\n              this._currentIndex++;\n            } else if (this._string.charAt(this._currentIndex) === '-') {\n              this._currentIndex++;\n              expsign = -1;\n            }\n\n            // There must be an exponent.\n            if (this._currentIndex >= this._endIndex || this._string.charAt(this._currentIndex) < '0' || this._string.charAt(this._currentIndex) > '9') {\n              return undefined;\n            }\n\n            while (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= '0' && this._string.charAt(this._currentIndex) <= '9') {\n              exponent *= 10;\n              exponent += (this._string.charAt(this._currentIndex) - '0');\n              this._currentIndex++;\n            }\n          }\n\n          let number = integer + decimal;\n          number *= sign;\n\n          if (exponent) {\n            number *= 10 ** (expsign * exponent);\n          }\n\n          if (startIndex === this._currentIndex) {\n            return undefined;\n          }\n\n          this._skipOptionalSpacesOrDelimiter();\n\n          return number;\n        }\n\n        _parseArcFlag () {\n          if (this._currentIndex >= this._endIndex) {\n            return undefined;\n          }\n          let flag = false;\n          const flagChar = this._string.charAt(this._currentIndex++);\n          if (flagChar === '0') {\n            flag = false;\n          } else if (flagChar === '1') {\n            flag = true;\n          } else {\n            return undefined;\n          }\n\n          this._skipOptionalSpacesOrDelimiter();\n          return flag;\n        }\n\n        parseSegment () {\n          const lookahead = this._string[this._currentIndex];\n          let command = this._pathSegTypeFromChar(lookahead);\n          if (command === SVGPathSeg.PATHSEG_UNKNOWN) {\n            // Possibly an implicit command. Not allowed if this is the first command.\n            if (this._previousCommand === SVGPathSeg.PATHSEG_UNKNOWN) {\n              return null;\n            }\n            command = this._nextCommandHelper(lookahead, this._previousCommand);\n            if (command === SVGPathSeg.PATHSEG_UNKNOWN) {\n              return null;\n            }\n          } else {\n            this._currentIndex++;\n          }\n\n          this._previousCommand = command;\n\n          switch (command) {\n          case SVGPathSeg.PATHSEG_MOVETO_REL:\n            return new SVGPathSegMovetoRel(owningPathSegList, this._parseNumber(), this._parseNumber());\n          case SVGPathSeg.PATHSEG_MOVETO_ABS:\n            return new SVGPathSegMovetoAbs(owningPathSegList, this._parseNumber(), this._parseNumber());\n          case SVGPathSeg.PATHSEG_LINETO_REL:\n            return new SVGPathSegLinetoRel(owningPathSegList, this._parseNumber(), this._parseNumber());\n          case SVGPathSeg.PATHSEG_LINETO_ABS:\n            return new SVGPathSegLinetoAbs(owningPathSegList, this._parseNumber(), this._parseNumber());\n          case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:\n            return new SVGPathSegLinetoHorizontalRel(owningPathSegList, this._parseNumber());\n          case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:\n            return new SVGPathSegLinetoHorizontalAbs(owningPathSegList, this._parseNumber());\n          case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:\n            return new SVGPathSegLinetoVerticalRel(owningPathSegList, this._parseNumber());\n          case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:\n            return new SVGPathSegLinetoVerticalAbs(owningPathSegList, this._parseNumber());\n          case SVGPathSeg.PATHSEG_CLOSEPATH:\n            this._skipOptionalSpaces();\n            return new SVGPathSegClosePath(owningPathSegList);\n          case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL: {\n            const points = {x1: this._parseNumber(), y1: this._parseNumber(), x2: this._parseNumber(), y2: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber()};\n            return new SVGPathSegCurvetoCubicRel(owningPathSegList, points.x, points.y, points.x1, points.y1, points.x2, points.y2);\n          } case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS: {\n            const points = {x1: this._parseNumber(), y1: this._parseNumber(), x2: this._parseNumber(), y2: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber()};\n            return new SVGPathSegCurvetoCubicAbs(owningPathSegList, points.x, points.y, points.x1, points.y1, points.x2, points.y2);\n          } case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL: {\n            const points = {x2: this._parseNumber(), y2: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber()};\n            return new SVGPathSegCurvetoCubicSmoothRel(owningPathSegList, points.x, points.y, points.x2, points.y2);\n          } case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS: {\n            const points = {x2: this._parseNumber(), y2: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber()};\n            return new SVGPathSegCurvetoCubicSmoothAbs(owningPathSegList, points.x, points.y, points.x2, points.y2);\n          } case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL: {\n            const points = {x1: this._parseNumber(), y1: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber()};\n            return new SVGPathSegCurvetoQuadraticRel(owningPathSegList, points.x, points.y, points.x1, points.y1);\n          } case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS: {\n            const points = {x1: this._parseNumber(), y1: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber()};\n            return new SVGPathSegCurvetoQuadraticAbs(owningPathSegList, points.x, points.y, points.x1, points.y1);\n          } case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:\n            return new SVGPathSegCurvetoQuadraticSmoothRel(owningPathSegList, this._parseNumber(), this._parseNumber());\n          case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:\n            return new SVGPathSegCurvetoQuadraticSmoothAbs(owningPathSegList, this._parseNumber(), this._parseNumber());\n          case SVGPathSeg.PATHSEG_ARC_REL: {\n            const points = {x1: this._parseNumber(), y1: this._parseNumber(), arcAngle: this._parseNumber(), arcLarge: this._parseArcFlag(), arcSweep: this._parseArcFlag(), x: this._parseNumber(), y: this._parseNumber()};\n            return new SVGPathSegArcRel(owningPathSegList, points.x, points.y, points.x1, points.y1, points.arcAngle, points.arcLarge, points.arcSweep);\n          } case SVGPathSeg.PATHSEG_ARC_ABS: {\n            const points = {x1: this._parseNumber(), y1: this._parseNumber(), arcAngle: this._parseNumber(), arcLarge: this._parseArcFlag(), arcSweep: this._parseArcFlag(), x: this._parseNumber(), y: this._parseNumber()};\n            return new SVGPathSegArcAbs(owningPathSegList, points.x, points.y, points.x1, points.y1, points.arcAngle, points.arcLarge, points.arcSweep);\n          } default:\n            throw new Error('Unknown path seg type.');\n          }\n        }\n      }\n\n      const builder = new Builder();\n      const source = new Source(string);\n\n      if (!source.initialCommandIsMoveTo()) {\n        return [];\n      }\n      while (source.hasMoreData()) {\n        const pathSeg = source.parseSegment();\n        if (!pathSeg) {\n          return [];\n        }\n        builder.appendSegment(pathSeg);\n      }\n\n      return builder.pathSegList;\n    }\n\n    // STATIC\n    static _pathSegArrayAsString (pathSegArray) {\n      let string = '';\n      let first = true;\n      pathSegArray.forEach((pathSeg) => {\n        if (first) {\n          first = false;\n          string += pathSeg._asPathString();\n        } else {\n          string += ' ' + pathSeg._asPathString();\n        }\n      });\n      return string;\n    }\n  }\n\n  SVGPathSegList.prototype.classname = 'SVGPathSegList';\n\n  Object.defineProperty(SVGPathSegList.prototype, 'numberOfItems', {\n    get () {\n      this._checkPathSynchronizedToList();\n      return this._list.length;\n    },\n    enumerable: true\n  });\n\n  // Add the pathSegList accessors to SVGPathElement.\n  // Spec: https://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGAnimatedPathData\n  Object.defineProperties(SVGPathElement.prototype, {\n    pathSegList: {\n      get () {\n        if (!this._pathSegList) {\n          this._pathSegList = new SVGPathSegList(this);\n        }\n        return this._pathSegList;\n      },\n      enumerable: true\n    },\n    // TODO: The following are not implemented and simply return SVGPathElement.pathSegList.\n    normalizedPathSegList: {get () { return this.pathSegList; }, enumerable: true},\n    animatedPathSegList: {get () { return this.pathSegList; }, enumerable: true},\n    animatedNormalizedPathSegList: {get () { return this.pathSegList; }, enumerable: true}\n  });\n  window.SVGPathSegList = SVGPathSegList;\n}\n})();\n","/* globals jQuery */\n/**\n * Browser detection.\n * @module browser\n * @license MIT\n *\n * @copyright 2010 Jeff Schiller, 2010 Alexis Deveria\n */\n\n// Dependencies:\n// 1) jQuery (for $.alert())\n\nimport './svgpathseg.js';\nimport {NS} from './namespaces.js';\n\nconst $ = jQuery;\n\nconst supportsSVG_ = (function () {\nreturn Boolean(document.createElementNS && document.createElementNS(NS.SVG, 'svg').createSVGRect);\n}());\n\n/**\n * @function module:browser.supportsSvg\n * @returns {boolean}\n*/\nexport const supportsSvg = () => supportsSVG_;\n\nconst {userAgent} = navigator;\nconst svg = document.createElementNS(NS.SVG, 'svg');\n\n// Note: Browser sniffing should only be used if no other detection method is possible\nconst isOpera_ = Boolean(window.opera);\nconst isWebkit_ = userAgent.includes('AppleWebKit');\nconst isGecko_ = userAgent.includes('Gecko/');\nconst isIE_ = userAgent.includes('MSIE');\nconst isChrome_ = userAgent.includes('Chrome/');\nconst isWindows_ = userAgent.includes('Windows');\nconst isMac_ = userAgent.includes('Macintosh');\nconst isTouch_ = 'ontouchstart' in window;\n\nconst supportsSelectors_ = (function () {\nreturn Boolean(svg.querySelector);\n}());\n\nconst supportsXpath_ = (function () {\nreturn Boolean(document.evaluate);\n}());\n\n// segList functions (for FF1.5 and 2.0)\nconst supportsPathReplaceItem_ = (function () {\nconst path = document.createElementNS(NS.SVG, 'path');\npath.setAttribute('d', 'M0,0 10,10');\nconst seglist = path.pathSegList;\nconst seg = path.createSVGPathSegLinetoAbs(5, 5);\ntry {\n  seglist.replaceItem(seg, 1);\n  return true;\n} catch (err) {}\nreturn false;\n}());\n\nconst supportsPathInsertItemBefore_ = (function () {\nconst path = document.createElementNS(NS.SVG, 'path');\npath.setAttribute('d', 'M0,0 10,10');\nconst seglist = path.pathSegList;\nconst seg = path.createSVGPathSegLinetoAbs(5, 5);\ntry {\n  seglist.insertItemBefore(seg, 1);\n  return true;\n} catch (err) {}\nreturn false;\n}());\n\n// text character positioning (for IE9 and now Chrome)\nconst supportsGoodTextCharPos_ = (function () {\nconst svgroot = document.createElementNS(NS.SVG, 'svg');\nconst svgcontent = document.createElementNS(NS.SVG, 'svg');\ndocument.documentElement.append(svgroot);\nsvgcontent.setAttribute('x', 5);\nsvgroot.append(svgcontent);\nconst text = document.createElementNS(NS.SVG, 'text');\ntext.textContent = 'a';\nsvgcontent.append(text);\ntry { // Chrome now fails here\n  const pos = text.getStartPositionOfChar(0).x;\n  return (pos === 0);\n} catch (err) {\n  return false;\n} finally {\n  svgroot.remove();\n}\n}());\n\nconst supportsPathBBox_ = (function () {\nconst svgcontent = document.createElementNS(NS.SVG, 'svg');\ndocument.documentElement.append(svgcontent);\nconst path = document.createElementNS(NS.SVG, 'path');\npath.setAttribute('d', 'M0,0 C0,0 10,10 10,0');\nsvgcontent.append(path);\nconst bbox = path.getBBox();\nsvgcontent.remove();\nreturn (bbox.height > 4 && bbox.height < 5);\n}());\n\n// Support for correct bbox sizing on groups with horizontal/vertical lines\nconst supportsHVLineContainerBBox_ = (function () {\nconst svgcontent = document.createElementNS(NS.SVG, 'svg');\ndocument.documentElement.append(svgcontent);\nconst path = document.createElementNS(NS.SVG, 'path');\npath.setAttribute('d', 'M0,0 10,0');\nconst path2 = document.createElementNS(NS.SVG, 'path');\npath2.setAttribute('d', 'M5,0 15,0');\nconst g = document.createElementNS(NS.SVG, 'g');\ng.append(path, path2);\nsvgcontent.append(g);\nconst bbox = g.getBBox();\nsvgcontent.remove();\n// Webkit gives 0, FF gives 10, Opera (correctly) gives 15\nreturn (bbox.width === 15);\n}());\n\nconst supportsEditableText_ = (function () {\n// TODO: Find better way to check support for this\nreturn isOpera_;\n}());\n\nconst supportsGoodDecimals_ = (function () {\n// Correct decimals on clone attributes (Opera < 10.5/win/non-en)\nconst rect = document.createElementNS(NS.SVG, 'rect');\nrect.setAttribute('x', 0.1);\nconst crect = rect.cloneNode(false);\nconst retValue = (!crect.getAttribute('x').includes(','));\nif (!retValue) {\n  // Todo: i18nize or remove\n  $.alert(\n    'NOTE: This version of Opera is known to contain bugs in SVG-edit.\\n' +\n    'Please upgrade to the <a href=\"http://opera.com\">latest version</a> in which the problems have been fixed.'\n  );\n}\nreturn retValue;\n}());\n\nconst supportsNonScalingStroke_ = (function () {\nconst rect = document.createElementNS(NS.SVG, 'rect');\nrect.setAttribute('style', 'vector-effect:non-scaling-stroke');\nreturn rect.style.vectorEffect === 'non-scaling-stroke';\n}());\n\nlet supportsNativeSVGTransformLists_ = (function () {\nconst rect = document.createElementNS(NS.SVG, 'rect');\nconst rxform = rect.transform.baseVal;\nconst t1 = svg.createSVGTransform();\nrxform.appendItem(t1);\nconst r1 = rxform.getItem(0);\nconst isSVGTransform = (o) => {\n  // https://developer.mozilla.org/en-US/docs/Web/API/SVGTransform\n  return o && typeof o === 'object' && typeof o.setMatrix === 'function' && 'angle' in o;\n};\nreturn isSVGTransform(r1) && isSVGTransform(t1) &&\n  r1.type === t1.type && r1.angle === t1.angle &&\n  r1.matrix.a === t1.matrix.a &&\n  r1.matrix.b === t1.matrix.b &&\n  r1.matrix.c === t1.matrix.c &&\n  r1.matrix.d === t1.matrix.d &&\n  r1.matrix.e === t1.matrix.e &&\n  r1.matrix.f === t1.matrix.f;\n}());\n\n// Public API\n\n/**\n * @function module:browser.isOpera\n * @returns {boolean}\n*/\nexport const isOpera = () => isOpera_;\n/**\n * @function module:browser.isWebkit\n * @returns {boolean}\n*/\nexport const isWebkit = () => isWebkit_;\n/**\n * @function module:browser.isGecko\n * @returns {boolean}\n*/\nexport const isGecko = () => isGecko_;\n/**\n * @function module:browser.isIE\n * @returns {boolean}\n*/\nexport const isIE = () => isIE_;\n/**\n * @function module:browser.isChrome\n * @returns {boolean}\n*/\nexport const isChrome = () => isChrome_;\n/**\n * @function module:browser.isWindows\n * @returns {boolean}\n*/\nexport const isWindows = () => isWindows_;\n/**\n * @function module:browser.isMac\n * @returns {boolean}\n*/\nexport const isMac = () => isMac_;\n/**\n * @function module:browser.isTouch\n * @returns {boolean}\n*/\nexport const isTouch = () => isTouch_;\n\n/**\n * @function module:browser.supportsSelectors\n * @returns {boolean}\n*/\nexport const supportsSelectors = () => supportsSelectors_;\n\n/**\n * @function module:browser.supportsXpath\n * @returns {boolean}\n*/\nexport const supportsXpath = () => supportsXpath_;\n\n/**\n * @function module:browser.supportsPathReplaceItem\n * @returns {boolean}\n*/\nexport const supportsPathReplaceItem = () => supportsPathReplaceItem_;\n\n/**\n * @function module:browser.supportsPathInsertItemBefore\n * @returns {boolean}\n*/\nexport const supportsPathInsertItemBefore = () => supportsPathInsertItemBefore_;\n\n/**\n * @function module:browser.supportsPathBBox\n * @returns {boolean}\n*/\nexport const supportsPathBBox = () => supportsPathBBox_;\n\n/**\n * @function module:browser.supportsHVLineContainerBBox\n * @returns {boolean}\n*/\nexport const supportsHVLineContainerBBox = () => supportsHVLineContainerBBox_;\n\n/**\n * @function module:browser.supportsGoodTextCharPos\n * @returns {boolean}\n*/\nexport const supportsGoodTextCharPos = () => supportsGoodTextCharPos_;\n\n/**\n* @function module:browser.supportsEditableText\n * @returns {boolean}\n*/\nexport const supportsEditableText = () => supportsEditableText_;\n\n/**\n * @function module:browser.supportsGoodDecimals\n * @returns {boolean}\n*/\nexport const supportsGoodDecimals = () => supportsGoodDecimals_;\n\n/**\n* @function module:browser.supportsNonScalingStroke\n* @returns {boolean}\n*/\nexport const supportsNonScalingStroke = () => supportsNonScalingStroke_;\n\n/**\n* @function module:browser.supportsNativeTransformLists\n* @returns {boolean}\n*/\nexport const supportsNativeTransformLists = () => supportsNativeSVGTransformLists_;\n\n/**\n * Set `supportsNativeSVGTransformLists_` to `false` (for unit testing).\n * @function module:browser.disableSupportsNativeTransformLists\n * @returns {void}\n*/\nexport const disableSupportsNativeTransformLists = () => {\n  supportsNativeSVGTransformLists_ = false;\n};\n","/**\n * A jQuery module to work with SVG attributes.\n * @module jQueryAttr\n * @license MIT\n */\n\n/**\n* This fixes `$(...).attr()` to work as expected with SVG elements.\n* Does not currently use `*AttributeNS()` since we rarely need that.\n* Adds {@link external:jQuery.fn.attr}.\n* See {@link https://api.jquery.com/attr/} for basic documentation of `.attr()`.\n*\n* Additional functionality:\n* - When getting attributes, a string that's a number is returned as type number.\n* - If an array is supplied as the first parameter, multiple values are returned\n*    as an object with values for each given attribute.\n* @function module:jQueryAttr.jQueryAttr\n* @param {external:jQuery} $ The jQuery object to which to add the plug-in\n* @returns {external:jQuery}\n*/\nexport default function jQueryPluginSVG ($) {\n  const proxied = $.fn.attr,\n    svgns = 'http://www.w3.org/2000/svg';\n  /**\n  * @typedef {PlainObject<string, string|Float>} module:jQueryAttr.Attributes\n  */\n  /**\n  * @function external:jQuery.fn.attr\n  * @param {string|string[]|PlainObject<string, string>} key\n  * @param {string} value\n  * @returns {external:jQuery|module:jQueryAttr.Attributes}\n  */\n  $.fn.attr = function (key, value) {\n    const len = this.length;\n    if (!len) { return proxied.call(this, key, value); }\n    for (let i = 0; i < len; ++i) {\n      const elem = this[i];\n      // set/get SVG attribute\n      if (elem.namespaceURI === svgns) {\n        // Setting attribute\n        if (value !== undefined) {\n          elem.setAttribute(key, value);\n        } else if (Array.isArray(key)) {\n          // Getting attributes from array\n          const obj = {};\n          let j = key.length;\n\n          while (j--) {\n            const aname = key[j];\n            let attr = elem.getAttribute(aname);\n            // This returns a number when appropriate\n            if (attr || attr === '0') {\n              attr = isNaN(attr) ? attr : (attr - 0);\n            }\n            obj[aname] = attr;\n          }\n          return obj;\n        }\n        if (typeof key === 'object') {\n          // Setting attributes from object\n          for (const [name, val] of Object.entries(key)) {\n            elem.setAttribute(name, val);\n          }\n        // Getting attribute\n        } else {\n          let attr = elem.getAttribute(key);\n          if (attr || attr === '0') {\n            attr = isNaN(attr) ? attr : (attr - 0);\n          }\n          return attr;\n        }\n      } else {\n        return proxied.call(this, key, value);\n      }\n    }\n    return this;\n  };\n  return $;\n}\n","/**\n * Partial polyfill of `SVGTransformList`\n * @module SVGTransformList\n *\n * @license MIT\n *\n * @copyright 2010 Alexis Deveria, 2010 Jeff Schiller\n */\n\nimport {NS} from './namespaces.js';\nimport {supportsNativeTransformLists} from './browser.js';\n\nconst svgroot = document.createElementNS(NS.SVG, 'svg');\n\n/**\n * Helper function to convert `SVGTransform` to a string.\n * @param {SVGTransform} xform\n * @returns {string}\n */\nfunction transformToString (xform) {\n  const m = xform.matrix;\n  let text = '';\n  switch (xform.type) {\n  case 1: // MATRIX\n    text = 'matrix(' + [m.a, m.b, m.c, m.d, m.e, m.f].join(',') + ')';\n    break;\n  case 2: // TRANSLATE\n    text = 'translate(' + m.e + ',' + m.f + ')';\n    break;\n  case 3: // SCALE\n    if (m.a === m.d) {\n      text = 'scale(' + m.a + ')';\n    } else {\n      text = 'scale(' + m.a + ',' + m.d + ')';\n    }\n    break;\n  case 4: { // ROTATE\n    let cx = 0;\n    let cy = 0;\n    // this prevents divide by zero\n    if (xform.angle !== 0) {\n      const K = 1 - m.a;\n      cy = (K * m.f + m.b * m.e) / (K * K + m.b * m.b);\n      cx = (m.e - m.b * cy) / K;\n    }\n    text = 'rotate(' + xform.angle + ' ' + cx + ',' + cy + ')';\n    break;\n  }\n  }\n  return text;\n}\n\n/**\n * Map of SVGTransformList objects.\n */\nlet listMap_ = {};\n\n/**\n* @interface module:SVGTransformList.SVGEditTransformList\n* @property {Integer} numberOfItems unsigned long\n*/\n/**\n* @function module:SVGTransformList.SVGEditTransformList#clear\n* @returns {void}\n*/\n/**\n* @function module:SVGTransformList.SVGEditTransformList#initialize\n* @param {SVGTransform} newItem\n* @returns {SVGTransform}\n*/\n/**\n* DOES NOT THROW DOMException, INDEX_SIZE_ERR.\n* @function module:SVGTransformList.SVGEditTransformList#getItem\n* @param {Integer} index unsigned long\n* @returns {SVGTransform}\n*/\n/**\n* DOES NOT THROW DOMException, INDEX_SIZE_ERR.\n* @function module:SVGTransformList.SVGEditTransformList#insertItemBefore\n* @param {SVGTransform} newItem\n* @param {Integer} index unsigned long\n* @returns {SVGTransform}\n*/\n/**\n* DOES NOT THROW DOMException, INDEX_SIZE_ERR.\n* @function module:SVGTransformList.SVGEditTransformList#replaceItem\n* @param {SVGTransform} newItem\n* @param {Integer} index unsigned long\n* @returns {SVGTransform}\n*/\n/**\n* DOES NOT THROW DOMException, INDEX_SIZE_ERR.\n* @function module:SVGTransformList.SVGEditTransformList#removeItem\n* @param {Integer} index unsigned long\n* @returns {SVGTransform}\n*/\n/**\n* @function module:SVGTransformList.SVGEditTransformList#appendItem\n* @param {SVGTransform} newItem\n* @returns {SVGTransform}\n*/\n/**\n* NOT IMPLEMENTED.\n* @ignore\n* @function module:SVGTransformList.SVGEditTransformList#createSVGTransformFromMatrix\n* @param {SVGMatrix} matrix\n* @returns {SVGTransform}\n*/\n/**\n* NOT IMPLEMENTED.\n* @ignore\n* @function module:SVGTransformList.SVGEditTransformList#consolidate\n* @returns {SVGTransform}\n*/\n\n/**\n* SVGTransformList implementation for Webkit.\n* These methods do not currently raise any exceptions.\n* These methods also do not check that transforms are being inserted.  This is basically\n* implementing as much of SVGTransformList that we need to get the job done.\n* @implements {module:SVGTransformList.SVGEditTransformList}\n*/\nexport class SVGTransformList { // eslint-disable-line no-shadow\n  /**\n  * @param {Element} elem\n  * @returns {SVGTransformList}\n  */\n  constructor (elem) {\n    this._elem = elem || null;\n    this._xforms = [];\n    // TODO: how do we capture the undo-ability in the changed transform list?\n    this._update = function () {\n      let tstr = '';\n      // /* const concatMatrix = */ svgroot.createSVGMatrix();\n      for (let i = 0; i < this.numberOfItems; ++i) {\n        const xform = this._list.getItem(i);\n        tstr += transformToString(xform) + ' ';\n      }\n      this._elem.setAttribute('transform', tstr);\n    };\n    this._list = this;\n    this._init = function () {\n      // Transform attribute parser\n      let str = this._elem.getAttribute('transform');\n      if (!str) { return; }\n\n      // TODO: Add skew support in future\n      const re = /\\s*((scale|matrix|rotate|translate)\\s*\\(.*?\\))\\s*,?\\s*/;\n      // const re = /\\s*(?<xform>(?:scale|matrix|rotate|translate)\\s*\\(.*?\\))\\s*,?\\s*/;\n      let m = true;\n      while (m) {\n        m = str.match(re);\n        str = str.replace(re, '');\n        if (m && m[1]) {\n          const x = m[1];\n          const bits = x.split(/\\s*\\(/);\n          const name = bits[0];\n          const valBits = bits[1].match(/\\s*(.*?)\\s*\\)/);\n          valBits[1] = valBits[1].replace(/(\\d)-/g, '$1 -');\n          const valArr = valBits[1].split(/[, ]+/);\n          const letters = 'abcdef'.split('');\n          /*\n        if (m && m.groups.xform) {\n          const x = m.groups.xform;\n          const [name, bits] = x.split(/\\s*\\(/);\n          const valBits = bits.match(/\\s*(?<nonWhitespace>.*?)\\s*\\)/);\n          valBits.groups.nonWhitespace = valBits.groups.nonWhitespace.replace(\n            /(?<digit>\\d)-/g, '$<digit> -'\n          );\n          const valArr = valBits.groups.nonWhitespace.split(/[, ]+/);\n          const letters = [...'abcdef'];\n          */\n          const mtx = svgroot.createSVGMatrix();\n          Object.values(valArr).forEach(function (item, i) {\n            valArr[i] = Number.parseFloat(item);\n            if (name === 'matrix') {\n              mtx[letters[i]] = valArr[i];\n            }\n          });\n          const xform = svgroot.createSVGTransform();\n          const fname = 'set' + name.charAt(0).toUpperCase() + name.slice(1);\n          const values = name === 'matrix' ? [mtx] : valArr;\n\n          if (name === 'scale' && values.length === 1) {\n            values.push(values[0]);\n          } else if (name === 'translate' && values.length === 1) {\n            values.push(0);\n          } else if (name === 'rotate' && values.length === 1) {\n            values.push(0, 0);\n          }\n          xform[fname](...values);\n          this._list.appendItem(xform);\n        }\n      }\n    };\n    this._removeFromOtherLists = function (item) {\n      if (item) {\n        // Check if this transform is already in a transformlist, and\n        // remove it if so.\n        Object.values(listMap_).some((tl) => {\n          for (let i = 0, len = tl._xforms.length; i < len; ++i) {\n            if (tl._xforms[i] === item) {\n              tl.removeItem(i);\n              return true;\n            }\n          }\n          return false;\n        });\n      }\n    };\n\n    this.numberOfItems = 0;\n  }\n  /**\n  * @returns {void}\n  */\n  clear () {\n    this.numberOfItems = 0;\n    this._xforms = [];\n  }\n\n  /**\n  * @param {SVGTransform} newItem\n  * @returns {void}\n  */\n  initialize (newItem) {\n    this.numberOfItems = 1;\n    this._removeFromOtherLists(newItem);\n    this._xforms = [newItem];\n  }\n\n  /**\n  * @param {Integer} index unsigned long\n  * @throws {Error}\n  * @returns {SVGTransform}\n  */\n  getItem (index) {\n    if (index < this.numberOfItems && index >= 0) {\n      return this._xforms[index];\n    }\n    const err = new Error('DOMException with code=INDEX_SIZE_ERR');\n    err.code = 1;\n    throw err;\n  }\n\n  /**\n  * @param {SVGTransform} newItem\n  * @param {Integer} index unsigned long\n  * @returns {SVGTransform}\n  */\n  insertItemBefore (newItem, index) {\n    let retValue = null;\n    if (index >= 0) {\n      if (index < this.numberOfItems) {\n        this._removeFromOtherLists(newItem);\n        const newxforms = new Array(this.numberOfItems + 1);\n        // TODO: use array copying and slicing\n        let i;\n        for (i = 0; i < index; ++i) {\n          newxforms[i] = this._xforms[i];\n        }\n        newxforms[i] = newItem;\n        for (let j = i + 1; i < this.numberOfItems; ++j, ++i) {\n          newxforms[j] = this._xforms[i];\n        }\n        this.numberOfItems++;\n        this._xforms = newxforms;\n        retValue = newItem;\n        this._list._update();\n      } else {\n        retValue = this._list.appendItem(newItem);\n      }\n    }\n    return retValue;\n  }\n\n  /**\n  * @param {SVGTransform} newItem\n  * @param {Integer} index unsigned long\n  * @returns {SVGTransform}\n  */\n  replaceItem (newItem, index) {\n    let retValue = null;\n    if (index < this.numberOfItems && index >= 0) {\n      this._removeFromOtherLists(newItem);\n      this._xforms[index] = newItem;\n      retValue = newItem;\n      this._list._update();\n    }\n    return retValue;\n  }\n\n  /**\n  * @param {Integer} index unsigned long\n  * @throws {Error}\n  * @returns {SVGTransform}\n  */\n  removeItem (index) {\n    if (index < this.numberOfItems && index >= 0) {\n      const retValue = this._xforms[index];\n      const newxforms = new Array(this.numberOfItems - 1);\n      let i;\n      for (i = 0; i < index; ++i) {\n        newxforms[i] = this._xforms[i];\n      }\n      for (let j = i; j < this.numberOfItems - 1; ++j, ++i) {\n        newxforms[j] = this._xforms[i + 1];\n      }\n      this.numberOfItems--;\n      this._xforms = newxforms;\n      this._list._update();\n      return retValue;\n    }\n    const err = new Error('DOMException with code=INDEX_SIZE_ERR');\n    err.code = 1;\n    throw err;\n  }\n\n  /**\n  * @param {SVGTransform} newItem\n  * @returns {SVGTransform}\n  */\n  appendItem (newItem) {\n    this._removeFromOtherLists(newItem);\n    this._xforms.push(newItem);\n    this.numberOfItems++;\n    this._list._update();\n    return newItem;\n  }\n}\n\n/**\n* @function module:SVGTransformList.resetListMap\n* @returns {void}\n*/\nexport const resetListMap = function () {\n  listMap_ = {};\n};\n\n/**\n * Removes transforms of the given element from the map.\n * @function module:SVGTransformList.removeElementFromListMap\n * @param {Element} elem - a DOM Element\n * @returns {void}\n */\nexport let removeElementFromListMap = function (elem) { // eslint-disable-line import/no-mutable-exports\n  if (elem.id && listMap_[elem.id]) {\n    delete listMap_[elem.id];\n  }\n};\n\n/**\n* Returns an object that behaves like a `SVGTransformList` for the given DOM element.\n* @function module:SVGTransformList.getTransformList\n* @param {Element} elem - DOM element to get a transformlist from\n* @todo The polyfill should have `SVGAnimatedTransformList` and this should use it\n* @returns {SVGAnimatedTransformList|SVGTransformList}\n*/\nexport const getTransformList = function (elem) {\n  if (!supportsNativeTransformLists()) {\n    const id = elem.id || 'temp';\n    let t = listMap_[id];\n    if (!t || id === 'temp') {\n      listMap_[id] = new SVGTransformList(elem);\n      listMap_[id]._init();\n      t = listMap_[id];\n    }\n    return t;\n  }\n  if (elem.transform) {\n    return elem.transform.baseVal;\n  }\n  if (elem.gradientTransform) {\n    return elem.gradientTransform.baseVal;\n  }\n  if (elem.patternTransform) {\n    return elem.patternTransform.baseVal;\n  }\n\n  return null;\n};\n\n/**\n* @callback module:SVGTransformList.removeElementFromListMap\n* @param {Element} elem\n* @returns {void}\n*/\n/**\n* Replace `removeElementFromListMap` for unit-testing.\n* @function module:SVGTransformList.changeRemoveElementFromListMap\n* @param {module:SVGTransformList.removeElementFromListMap} cb Passed a single argument `elem`\n* @returns {void}\n*/\n\nexport const changeRemoveElementFromListMap = function (cb) { // eslint-disable-line promise/prefer-await-to-callbacks\n  removeElementFromListMap = cb;\n};\n","/**\n * Tools for working with units.\n * @module units\n * @license MIT\n *\n * @copyright 2010 Alexis Deveria, 2010 Jeff Schiller\n */\n\nimport {NS} from './namespaces.js';\n\nconst wAttrs = ['x', 'x1', 'cx', 'rx', 'width'];\nconst hAttrs = ['y', 'y1', 'cy', 'ry', 'height'];\nconst unitAttrs = ['r', 'radius', ...wAttrs, ...hAttrs];\n// unused\n/*\nconst unitNumMap = {\n  '%': 2,\n  em: 3,\n  ex: 4,\n  px: 5,\n  cm: 6,\n  mm: 7,\n  in: 8,\n  pt: 9,\n  pc: 10\n};\n*/\n// Container of elements.\nlet elementContainer_;\n\n// Stores mapping of unit type to user coordinates.\nlet typeMap_ = {};\n\n/**\n * @interface module:units.ElementContainer\n */\n/**\n * @function module:units.ElementContainer#getBaseUnit\n * @returns {string} The base unit type of the container ('em')\n */\n/**\n * @function module:units.ElementContainer#getElement\n * @returns {?Element} An element in the container given an id\n */\n/**\n * @function module:units.ElementContainer#getHeight\n * @returns {Float} The container's height\n */\n/**\n * @function module:units.ElementContainer#getWidth\n * @returns {Float} The container's width\n */\n/**\n * @function module:units.ElementContainer#getRoundDigits\n * @returns {Integer} The number of digits number should be rounded to\n */\n\n/* eslint-disable jsdoc/valid-types */\n/**\n * @typedef {PlainObject} module:units.TypeMap\n * @property {Float} em\n * @property {Float} ex\n * @property {Float} in\n * @property {Float} cm\n * @property {Float} mm\n * @property {Float} pt\n * @property {Float} pc\n * @property {Integer} px\n * @property {0} %\n */\n/* eslint-enable jsdoc/valid-types */\n\n/**\n * Initializes this module.\n *\n * @function module:units.init\n * @param {module:units.ElementContainer} elementContainer - An object implementing the ElementContainer interface.\n * @returns {void}\n */\nexport const init = function (elementContainer) {\n  elementContainer_ = elementContainer;\n\n  // Get correct em/ex values by creating a temporary SVG.\n  const svg = document.createElementNS(NS.SVG, 'svg');\n  document.body.append(svg);\n  const rect = document.createElementNS(NS.SVG, 'rect');\n  rect.setAttribute('width', '1em');\n  rect.setAttribute('height', '1ex');\n  rect.setAttribute('x', '1in');\n  svg.append(rect);\n  const bb = rect.getBBox();\n  svg.remove();\n\n  const inch = bb.x;\n  typeMap_ = {\n    em: bb.width,\n    ex: bb.height,\n    in: inch,\n    cm: inch / 2.54,\n    mm: inch / 25.4,\n    pt: inch / 72,\n    pc: inch / 6,\n    px: 1,\n    '%': 0\n  };\n};\n\n/**\n* Group: Unit conversion functions.\n*/\n\n/**\n * @function module:units.getTypeMap\n * @returns {module:units.TypeMap} The unit object with values for each unit\n*/\nexport const getTypeMap = function () {\n  return typeMap_;\n};\n\n/**\n* @typedef {GenericArray} module:units.CompareNumbers\n* @property {Integer} length 2\n* @property {Float} 0\n* @property {Float} 1\n*/\n\n/**\n* Rounds a given value to a float with number of digits defined in\n* `round_digits` of `saveOptions`\n*\n* @function module:units.shortFloat\n* @param {string|Float|module:units.CompareNumbers} val - The value (or Array of two numbers) to be rounded\n* @returns {Float|string} If a string/number was given, returns a Float. If an array, return a string\n* with comma-separated floats\n*/\nexport const shortFloat = function (val) {\n  const digits = elementContainer_.getRoundDigits();\n  if (!isNaN(val)) {\n    return Number(Number(val).toFixed(digits));\n  }\n  if (Array.isArray(val)) {\n    return shortFloat(val[0]) + ',' + shortFloat(val[1]);\n  }\n  return Number.parseFloat(val).toFixed(digits) - 0;\n};\n\n/**\n* Converts the number to given unit or baseUnit.\n* @function module:units.convertUnit\n* @param {string|Float} val\n* @param {\"em\"|\"ex\"|\"in\"|\"cm\"|\"mm\"|\"pt\"|\"pc\"|\"px\"|\"%\"} [unit]\n* @returns {Float}\n*/\nexport const convertUnit = function (val, unit) {\n  unit = unit || elementContainer_.getBaseUnit();\n  // baseVal.convertToSpecifiedUnits(unitNumMap[unit]);\n  // const val = baseVal.valueInSpecifiedUnits;\n  // baseVal.convertToSpecifiedUnits(1);\n  return shortFloat(val / typeMap_[unit]);\n};\n\n/**\n* Sets an element's attribute based on the unit in its current value.\n*\n* @function module:units.setUnitAttr\n* @param {Element} elem - DOM element to be changed\n* @param {string} attr - Name of the attribute associated with the value\n* @param {string} val - Attribute value to convert\n* @returns {void}\n*/\nexport const setUnitAttr = function (elem, attr, val) {\n  //  if (!isNaN(val)) {\n  // New value is a number, so check currently used unit\n  // const oldVal = elem.getAttribute(attr);\n\n  // Enable this for alternate mode\n  // if (oldVal !== null && (isNaN(oldVal) || elementContainer_.getBaseUnit() !== 'px')) {\n  //   // Old value was a number, so get unit, then convert\n  //   let unit;\n  //   if (oldVal.substr(-1) === '%') {\n  //     const res = getResolution();\n  //     unit = '%';\n  //     val *= 100;\n  //     if (wAttrs.includes(attr)) {\n  //       val = val / res.w;\n  //     } else if (hAttrs.includes(attr)) {\n  //       val = val / res.h;\n  //     } else {\n  //       return val / Math.sqrt((res.w*res.w) + (res.h*res.h))/Math.sqrt(2);\n  //     }\n  //   } else {\n  //     if (elementContainer_.getBaseUnit() !== 'px') {\n  //       unit = elementContainer_.getBaseUnit();\n  //     } else {\n  //       unit = oldVal.substr(-2);\n  //     }\n  //     val = val / typeMap_[unit];\n  //   }\n  //\n  // val += unit;\n  // }\n  // }\n  elem.setAttribute(attr, val);\n};\n\nconst attrsToConvert = {\n  line: ['x1', 'x2', 'y1', 'y2'],\n  circle: ['cx', 'cy', 'r'],\n  ellipse: ['cx', 'cy', 'rx', 'ry'],\n  foreignObject: ['x', 'y', 'width', 'height'],\n  rect: ['x', 'y', 'width', 'height'],\n  image: ['x', 'y', 'width', 'height'],\n  use: ['x', 'y', 'width', 'height'],\n  text: ['x', 'y']\n};\n\n/**\n* Converts all applicable attributes to the configured baseUnit.\n* @function module:units.convertAttrs\n* @param {Element} element - A DOM element whose attributes should be converted\n* @returns {void}\n*/\nexport const convertAttrs = function (element) {\n  const elName = element.tagName;\n  const unit = elementContainer_.getBaseUnit();\n  const attrs = attrsToConvert[elName];\n  if (!attrs) { return; }\n\n  const len = attrs.length;\n  for (let i = 0; i < len; i++) {\n    const attr = attrs[i];\n    const cur = element.getAttribute(attr);\n    if (cur) {\n      if (!isNaN(cur)) {\n        element.setAttribute(attr, (cur / typeMap_[unit]) + unit);\n      }\n      // else {\n      // Convert existing?\n      // }\n    }\n  }\n};\n\n/**\n* Converts given values to numbers. Attributes must be supplied in\n* case a percentage is given.\n*\n* @function module:units.convertToNum\n* @param {string} attr - Name of the attribute associated with the value\n* @param {string} val - Attribute value to convert\n* @returns {Float} The converted number\n*/\nexport const convertToNum = function (attr, val) {\n  // Return a number if that's what it already is\n  if (!isNaN(val)) { return val - 0; }\n  if (val.substr(-1) === '%') {\n    // Deal with percentage, depends on attribute\n    const num = val.substr(0, val.length - 1) / 100;\n    const width = elementContainer_.getWidth();\n    const height = elementContainer_.getHeight();\n\n    if (wAttrs.includes(attr)) {\n      return num * width;\n    }\n    if (hAttrs.includes(attr)) {\n      return num * height;\n    }\n    return num * Math.sqrt((width * width) + (height * height)) / Math.sqrt(2);\n  }\n  const unit = val.substr(-2);\n  const num = val.substr(0, val.length - 2);\n  // Note that this multiplication turns the string into a number\n  return num * typeMap_[unit];\n};\n\n/**\n* Check if an attribute's value is in a valid format.\n* @function module:units.isValidUnit\n* @param {string} attr - The name of the attribute associated with the value\n* @param {string} val - The attribute value to check\n* @param {Element} selectedElement\n* @returns {boolean} Whether the unit is valid\n*/\nexport const isValidUnit = function (attr, val, selectedElement) {\n  if (unitAttrs.includes(attr)) {\n    // True if it's just a number\n    if (!isNaN(val)) {\n      return true;\n    }\n    // Not a number, check if it has a valid unit\n    val = val.toLowerCase();\n    return Object.keys(typeMap_).some((unit) => {\n      const re = new RegExp('^-?[\\\\d\\\\.]+' + unit + '$');\n      return re.test(val);\n    });\n  }\n  if (attr === 'id') {\n    // if we're trying to change the id, make sure it's not already present in the doc\n    // and the id value is valid.\n\n    let result = false;\n    // because getElem() can throw an exception in the case of an invalid id\n    // (according to https://www.w3.org/TR/xml-id/ IDs must be a NCName)\n    // we wrap it in an exception and only return true if the ID was valid and\n    // not already present\n    try {\n      const elem = elementContainer_.getElement(val);\n      result = (!elem || elem === selectedElement);\n    } catch (e) {}\n    return result;\n  }\n  return true;\n};\n","/**\n * Mathematical utilities.\n * @module math\n * @license MIT\n *\n * @copyright 2010 Alexis Deveria, 2010 Jeff Schiller\n */\n\n/**\n* @typedef {PlainObject} module:math.AngleCoord45\n* @property {Float} x - The angle-snapped x value\n* @property {Float} y - The angle-snapped y value\n* @property {Integer} a - The angle at which to snap\n*/\n\n/**\n* @typedef {PlainObject} module:math.XYObject\n* @property {Float} x\n* @property {Float} y\n*/\n\nimport {NS} from './namespaces.js';\nimport {getTransformList} from './svgtransformlist.js';\n\n// Constants\nconst NEAR_ZERO = 1e-14;\n\n// Throw away SVGSVGElement used for creating matrices/transforms.\nconst svg = document.createElementNS(NS.SVG, 'svg');\n\n/**\n * A (hopefully) quicker function to transform a point by a matrix\n * (this function avoids any DOM calls and just does the math).\n * @function module:math.transformPoint\n * @param {Float} x - Float representing the x coordinate\n * @param {Float} y - Float representing the y coordinate\n * @param {SVGMatrix} m - Matrix object to transform the point with\n * @returns {module:math.XYObject} An x, y object representing the transformed point\n*/\nexport const transformPoint = function (x, y, m) {\n  return {x: m.a * x + m.c * y + m.e, y: m.b * x + m.d * y + m.f};\n};\n\n/**\n * Helper function to check if the matrix performs no actual transform\n * (i.e. exists for identity purposes).\n * @function module:math.isIdentity\n * @param {SVGMatrix} m - The matrix object to check\n * @returns {boolean} Indicates whether or not the matrix is 1,0,0,1,0,0\n*/\nexport const isIdentity = function (m) {\n  return (m.a === 1 && m.b === 0 && m.c === 0 && m.d === 1 && m.e === 0 && m.f === 0);\n};\n\n/**\n * This function tries to return a `SVGMatrix` that is the multiplication `m1 * m2`.\n * We also round to zero when it's near zero.\n * @function module:math.matrixMultiply\n * @param {...SVGMatrix} args - Matrix objects to multiply\n * @returns {SVGMatrix} The matrix object resulting from the calculation\n*/\nexport const matrixMultiply = function (...args) {\n  const m = args.reduceRight((prev, m1) => {\n    return m1.multiply(prev);\n  });\n\n  if (Math.abs(m.a) < NEAR_ZERO) { m.a = 0; }\n  if (Math.abs(m.b) < NEAR_ZERO) { m.b = 0; }\n  if (Math.abs(m.c) < NEAR_ZERO) { m.c = 0; }\n  if (Math.abs(m.d) < NEAR_ZERO) { m.d = 0; }\n  if (Math.abs(m.e) < NEAR_ZERO) { m.e = 0; }\n  if (Math.abs(m.f) < NEAR_ZERO) { m.f = 0; }\n\n  return m;\n};\n\n/**\n * See if the given transformlist includes a non-indentity matrix transform.\n * @function module:math.hasMatrixTransform\n * @param {SVGTransformList} [tlist] - The transformlist to check\n * @returns {boolean} Whether or not a matrix transform was found\n*/\nexport const hasMatrixTransform = function (tlist) {\n  if (!tlist) { return false; }\n  let num = tlist.numberOfItems;\n  while (num--) {\n    const xform = tlist.getItem(num);\n    if (xform.type === 1 && !isIdentity(xform.matrix)) { return true; }\n  }\n  return false;\n};\n\n/**\n* @typedef {PlainObject} module:math.TransformedBox An object with the following values\n* @property {module:math.XYObject} tl - The top left coordinate\n* @property {module:math.XYObject} tr - The top right coordinate\n* @property {module:math.XYObject} bl - The bottom left coordinate\n* @property {module:math.XYObject} br - The bottom right coordinate\n* @property {PlainObject} aabox - Object with the following values:\n* @property {Float} aabox.x - Float with the axis-aligned x coordinate\n* @property {Float} aabox.y - Float with the axis-aligned y coordinate\n* @property {Float} aabox.width - Float with the axis-aligned width coordinate\n* @property {Float} aabox.height - Float with the axis-aligned height coordinate\n*/\n\n/**\n * Transforms a rectangle based on the given matrix.\n * @function module:math.transformBox\n * @param {Float} l - Float with the box's left coordinate\n * @param {Float} t - Float with the box's top coordinate\n * @param {Float} w - Float with the box width\n * @param {Float} h - Float with the box height\n * @param {SVGMatrix} m - Matrix object to transform the box by\n * @returns {module:math.TransformedBox}\n*/\nexport const transformBox = function (l, t, w, h, m) {\n  const tl = transformPoint(l, t, m),\n    tr = transformPoint((l + w), t, m),\n    bl = transformPoint(l, (t + h), m),\n    br = transformPoint((l + w), (t + h), m),\n\n    minx = Math.min(tl.x, tr.x, bl.x, br.x),\n    maxx = Math.max(tl.x, tr.x, bl.x, br.x),\n    miny = Math.min(tl.y, tr.y, bl.y, br.y),\n    maxy = Math.max(tl.y, tr.y, bl.y, br.y);\n\n  return {\n    tl,\n    tr,\n    bl,\n    br,\n    aabox: {\n      x: minx,\n      y: miny,\n      width: (maxx - minx),\n      height: (maxy - miny)\n    }\n  };\n};\n\n/**\n * This returns a single matrix Transform for a given Transform List\n * (this is the equivalent of `SVGTransformList.consolidate()` but unlike\n * that method, this one does not modify the actual `SVGTransformList`).\n * This function is very liberal with its `min`, `max` arguments.\n * @function module:math.transformListToTransform\n * @param {SVGTransformList} tlist - The transformlist object\n * @param {Integer} [min=0] - Optional integer indicating start transform position\n * @param {Integer} [max] - Optional integer indicating end transform position;\n *   defaults to one less than the tlist's `numberOfItems`\n * @returns {SVGTransform} A single matrix transform object\n*/\nexport const transformListToTransform = function (tlist, min, max) {\n  if (!tlist) {\n    // Or should tlist = null have been prevented before this?\n    return svg.createSVGTransformFromMatrix(svg.createSVGMatrix());\n  }\n  min = min || 0;\n  max = max || (tlist.numberOfItems - 1);\n  min = Number.parseInt(min);\n  max = Number.parseInt(max);\n  if (min > max) { const temp = max; max = min; min = temp; }\n  let m = svg.createSVGMatrix();\n  for (let i = min; i <= max; ++i) {\n    // if our indices are out of range, just use a harmless identity matrix\n    const mtom = (i >= 0 && i < tlist.numberOfItems\n      ? tlist.getItem(i).matrix\n      : svg.createSVGMatrix());\n    m = matrixMultiply(m, mtom);\n  }\n  return svg.createSVGTransformFromMatrix(m);\n};\n\n/**\n * Get the matrix object for a given element.\n * @function module:math.getMatrix\n * @param {Element} elem - The DOM element to check\n * @returns {SVGMatrix} The matrix object associated with the element's transformlist\n*/\nexport const getMatrix = function (elem) {\n  const tlist = getTransformList(elem);\n  return transformListToTransform(tlist).matrix;\n};\n\n/**\n * Returns a 45 degree angle coordinate associated with the two given\n * coordinates.\n * @function module:math.snapToAngle\n * @param {Integer} x1 - First coordinate's x value\n * @param {Integer} y1 - First coordinate's y value\n * @param {Integer} x2 - Second coordinate's x value\n * @param {Integer} y2 - Second coordinate's y value\n * @returns {module:math.AngleCoord45}\n*/\nexport const snapToAngle = function (x1, y1, x2, y2) {\n  const snap = Math.PI / 4; // 45 degrees\n  const dx = x2 - x1;\n  const dy = y2 - y1;\n  const angle = Math.atan2(dy, dx);\n  const dist = Math.sqrt(dx * dx + dy * dy);\n  const snapangle = Math.round(angle / snap) * snap;\n\n  return {\n    x: x1 + dist * Math.cos(snapangle),\n    y: y1 + dist * Math.sin(snapangle),\n    a: snapangle\n  };\n};\n\n/**\n * Check if two rectangles (BBoxes objects) intersect each other.\n * @function module:math.rectsIntersect\n * @param {SVGRect} r1 - The first BBox-like object\n * @param {SVGRect} r2 - The second BBox-like object\n * @returns {boolean} True if rectangles intersect\n */\nexport const rectsIntersect = function (r1, r2) {\n  return r2.x < (r1.x + r1.width) &&\n    (r2.x + r2.width) > r1.x &&\n    r2.y < (r1.y + r1.height) &&\n    (r2.y + r2.height) > r1.y;\n};\n","/* globals jQuery */\n/**\n * Miscellaneous utilities.\n * @module utilities\n * @license MIT\n *\n * @copyright 2010 Alexis Deveria, 2010 Jeff Schiller\n */\n\nimport './svgpathseg.js';\nimport jQueryPluginSVG from './jQuery.attr.js'; // Needed for SVG attribute setting and array form with `attr`\nimport {NS} from './namespaces.js';\nimport {getTransformList} from './svgtransformlist.js';\nimport {setUnitAttr, getTypeMap} from './units.js';\nimport {\n  hasMatrixTransform, transformListToTransform, transformBox\n} from './math.js';\nimport {\n  isWebkit, supportsHVLineContainerBBox, supportsPathBBox, supportsXpath,\n  supportsSelectors\n} from './browser.js';\n\n// Constants\nconst $ = jQueryPluginSVG(jQuery);\n\n// String used to encode base64.\nconst KEYSTR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n// Much faster than running getBBox() every time\nconst visElems = 'a,circle,ellipse,foreignObject,g,image,line,path,polygon,polyline,rect,svg,text,tspan,use,clipPath';\nconst visElemsArr = visElems.split(',');\n// const hidElems = 'defs,desc,feGaussianBlur,filter,linearGradient,marker,mask,metadata,pattern,radialGradient,stop,switch,symbol,title,textPath';\n\nlet editorContext_ = null;\nlet domdoc_ = null;\nlet domcontainer_ = null;\nlet svgroot_ = null;\n\n/**\n* Object with the following keys/values.\n* @typedef {PlainObject} module:utilities.SVGElementJSON\n* @property {string} element - Tag name of the SVG element to create\n* @property {PlainObject<string, string>} attr - Has key-value attributes to assign to the new element. An `id` should be set so that {@link module:utilities.EditorContext#addSVGElementFromJson} can later re-identify the element for modification or replacement.\n* @property {boolean} [curStyles=false] - Indicates whether current style attributes should be applied first\n* @property {module:utilities.SVGElementJSON[]} [children] - Data objects to be added recursively as children\n* @property {string} [namespace=\"http://www.w3.org/2000/svg\"] - Indicate a (non-SVG) namespace\n*/\n\n/**\n * An object that creates SVG elements for the canvas.\n *\n * @interface module:utilities.EditorContext\n * @property {module:path.pathActions} pathActions\n */\n/**\n * @function module:utilities.EditorContext#getSVGContent\n * @returns {SVGSVGElement}\n */\n/**\n * Create a new SVG element based on the given object keys/values and add it\n * to the current layer.\n * The element will be run through `cleanupElement` before being returned.\n * @function module:utilities.EditorContext#addSVGElementFromJson\n * @param {module:utilities.SVGElementJSON} data\n * @returns {Element} The new element\n*/\n/**\n * @function module:utilities.EditorContext#getSelectedElements\n * @returns {Element[]} the array with selected DOM elements\n*/\n/**\n * @function module:utilities.EditorContext#getDOMDocument\n * @returns {HTMLDocument}\n*/\n/**\n * @function module:utilities.EditorContext#getDOMContainer\n * @returns {HTMLElement}\n*/\n/**\n * @function module:utilities.EditorContext#getSVGRoot\n * @returns {SVGSVGElement}\n*/\n/**\n * @function module:utilities.EditorContext#getBaseUnit\n * @returns {string}\n*/\n/**\n * @function module:utilities.EditorContext#getSnappingStep\n * @returns {Float|string}\n*/\n\n/**\n* @function module:utilities.init\n* @param {module:utilities.EditorContext} editorContext\n* @returns {void}\n*/\nexport const init = function (editorContext) {\n  editorContext_ = editorContext;\n  domdoc_ = editorContext.getDOMDocument();\n  domcontainer_ = editorContext.getDOMContainer();\n  svgroot_ = editorContext.getSVGRoot();\n};\n\n/**\n * Used to prevent the [Billion laughs attack]{@link https://en.wikipedia.org/wiki/Billion_laughs_attack}.\n * @function module:utilities.dropXMLInternalSubset\n * @param {string} str String to be processed\n * @returns {string} The string with entity declarations in the internal subset removed\n * @todo This might be needed in other places `parseFromString` is used even without LGTM flagging\n */\nexport const dropXMLInternalSubset = (str) => {\n  return str.replace(/(<!DOCTYPE\\s+\\w*\\s*\\[).*(\\?]>)/, '$1$2');\n  // return str.replace(/(?<doctypeOpen><!DOCTYPE\\s+\\w*\\s*\\[).*(?<doctypeClose>\\?\\]>)/, '$<doctypeOpen>$<doctypeClose>');\n};\n\n/**\n* Converts characters in a string to XML-friendly entities.\n* @function module:utilities.toXml\n* @example `&` becomes `&amp;`\n* @param {string} str - The string to be converted\n* @returns {string} The converted string\n*/\nexport const toXml = function (str) {\n  // &apos; is ok in XML, but not HTML\n  // &gt; does not normally need escaping, though it can if within a CDATA expression (and preceded by \"]]\")\n  return str\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#x27;'); // Note: `&apos;` is XML only\n};\n\n/**\n* Converts XML entities in a string to single characters.\n* @function module:utilities.fromXml\n* @example `&amp;` becomes `&`\n* @param {string} str - The string to be converted\n* @returns {string} The converted string\n*/\nexport function fromXml (str) {\n  return $('<p/>').html(str).text();\n}\n\n// This code was written by Tyler Akins and has been placed in the\n// public domain.  It would be nice if you left this header intact.\n// Base64 code from Tyler Akins -- http://rumkin.com\n\n// schiller: Removed string concatenation in favour of Array.join() optimization,\n//        also precalculate the size of the array needed.\n\n/**\n* Converts a string to base64.\n* @function module:utilities.encode64\n* @param {string} input\n* @returns {string} Base64 output\n*/\nexport function encode64 (input) {\n  // base64 strings are 4/3 larger than the original string\n  input = encodeUTF8(input); // convert non-ASCII characters\n  // input = convertToXMLReferences(input);\n  if (window.btoa) {\n    return window.btoa(input); // Use native if available\n  }\n  const output = new Array(Math.floor((input.length + 2) / 3) * 4);\n\n  let i = 0,\n    p = 0;\n  do {\n    const chr1 = input.charCodeAt(i++);\n    const chr2 = input.charCodeAt(i++);\n    const chr3 = input.charCodeAt(i++);\n\n    /* eslint-disable no-bitwise */\n    const enc1 = chr1 >> 2;\n    const enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n\n    let enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n    let enc4 = chr3 & 63;\n    /* eslint-enable no-bitwise */\n\n    if (Number.isNaN(chr2)) {\n      enc3 = 64;\n      enc4 = 64;\n    } else if (Number.isNaN(chr3)) {\n      enc4 = 64;\n    }\n\n    output[p++] = KEYSTR.charAt(enc1);\n    output[p++] = KEYSTR.charAt(enc2);\n    output[p++] = KEYSTR.charAt(enc3);\n    output[p++] = KEYSTR.charAt(enc4);\n  } while (i < input.length);\n\n  return output.join('');\n}\n\n/**\n* Converts a string from base64.\n* @function module:utilities.decode64\n* @param {string} input Base64-encoded input\n* @returns {string} Decoded output\n*/\nexport function decode64 (input) {\n  if (window.atob) {\n    return decodeUTF8(window.atob(input));\n  }\n\n  // remove all characters that are not A-Z, a-z, 0-9, +, /, or =\n  input = input.replace(/[^A-Za-z\\d+/=]/g, '');\n\n  let output = '';\n  let i = 0;\n\n  do {\n    const enc1 = KEYSTR.indexOf(input.charAt(i++));\n    const enc2 = KEYSTR.indexOf(input.charAt(i++));\n    const enc3 = KEYSTR.indexOf(input.charAt(i++));\n    const enc4 = KEYSTR.indexOf(input.charAt(i++));\n\n    /* eslint-disable no-bitwise */\n    const chr1 = (enc1 << 2) | (enc2 >> 4);\n    const chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n    const chr3 = ((enc3 & 3) << 6) | enc4;\n    /* eslint-enable no-bitwise */\n\n    output += String.fromCharCode(chr1);\n\n    if (enc3 !== 64) {\n      output += String.fromCharCode(chr2);\n    }\n    if (enc4 !== 64) {\n      output += String.fromCharCode(chr3);\n    }\n  } while (i < input.length);\n  return decodeUTF8(output);\n}\n\n/**\n* @function module:utilities.decodeUTF8\n* @param {string} argString\n* @returns {string}\n*/\nexport function decodeUTF8 (argString) {\n  return decodeURIComponent(escape(argString));\n}\n\n// codedread:does not seem to work with webkit-based browsers on OSX // Brettz9: please test again as function upgraded\n/**\n* @function module:utilities.encodeUTF8\n* @param {string} argString\n* @returns {string}\n*/\nexport const encodeUTF8 = function (argString) {\n  return unescape(encodeURIComponent(argString));\n};\n\n/**\n * Convert dataURL to object URL.\n * @function module:utilities.dataURLToObjectURL\n * @param {string} dataurl\n * @returns {string} object URL or empty string\n */\nexport const dataURLToObjectURL = function (dataurl) {\n  if (typeof Uint8Array === 'undefined' || typeof Blob === 'undefined' || typeof URL === 'undefined' || !URL.createObjectURL) {\n    return '';\n  }\n  const arr = dataurl.split(','),\n    mime = arr[0].match(/:(.*?);/)[1],\n    bstr = atob(arr[1]);\n  /*\n  const [prefix, suffix] = dataurl.split(','),\n    {groups: {mime}} = prefix.match(/:(?<mime>.*?);/),\n    bstr = atob(suffix);\n  */\n  let n = bstr.length;\n  const u8arr = new Uint8Array(n);\n  while (n--) {\n    u8arr[n] = bstr.charCodeAt(n);\n  }\n  const blob = new Blob([u8arr], {type: mime});\n  return URL.createObjectURL(blob);\n};\n\n/**\n * Get object URL for a blob object.\n * @function module:utilities.createObjectURL\n * @param {Blob} blob A Blob object or File object\n * @returns {string} object URL or empty string\n */\nexport const createObjectURL = function (blob) {\n  if (!blob || typeof URL === 'undefined' || !URL.createObjectURL) {\n    return '';\n  }\n  return URL.createObjectURL(blob);\n};\n\n/**\n * @property {string} blankPageObjectURL\n */\nexport const blankPageObjectURL = (function () {\n  if (typeof Blob === 'undefined') {\n    return '';\n  }\n  const blob = new Blob(['<html><head><title>SVG-edit</title></head><body>&nbsp;</body></html>'], {type: 'text/html'});\n  return createObjectURL(blob);\n})();\n\n/**\n* Converts a string to use XML references (for non-ASCII).\n* @function module:utilities.convertToXMLReferences\n* @param {string} input\n* @returns {string} Decimal numeric character references\n*/\nexport const convertToXMLReferences = function (input) {\n  let output = '';\n  [...input].forEach((ch) => {\n    const c = ch.charCodeAt();\n    if (c <= 127) {\n      output += ch;\n    } else {\n      output += `&#${c};`;\n    }\n  });\n  return output;\n};\n\n/**\n* Cross-browser compatible method of converting a string to an XML tree.\n* Found this function [here]{@link http://groups.google.com/group/jquery-dev/browse_thread/thread/c6d11387c580a77f}.\n* @function module:utilities.text2xml\n* @param {string} sXML\n* @throws {Error}\n* @returns {XMLDocument}\n*/\nexport const text2xml = function (sXML) {\n  if (sXML.includes('<svg:svg')) {\n    sXML = sXML.replace(/<(\\/?)svg:/g, '<$1').replace('xmlns:svg', 'xmlns');\n  }\n\n  let out, dXML;\n  try {\n    dXML = (window.DOMParser) ? new DOMParser() : new window.ActiveXObject('Microsoft.XMLDOM');\n    dXML.async = false;\n  } catch (e) {\n    throw new Error('XML Parser could not be instantiated');\n  }\n  try {\n    if (dXML.loadXML) {\n      out = (dXML.loadXML(sXML)) ? dXML : false;\n    } else {\n      out = dXML.parseFromString(sXML, 'text/xml');\n    }\n  } catch (e2) { throw new Error('Error parsing XML string'); }\n  return out;\n};\n\n/**\n* @typedef {PlainObject} module:utilities.BBoxObject (like `DOMRect`)\n* @property {Float} x\n* @property {Float} y\n* @property {Float} width\n* @property {Float} height\n*/\n\n/**\n* Converts a `SVGRect` into an object.\n* @function module:utilities.bboxToObj\n* @param {SVGRect} bbox - a SVGRect\n* @returns {module:utilities.BBoxObject} An object with properties names x, y, width, height.\n*/\nexport const bboxToObj = function ({x, y, width, height}) {\n  return {x, y, width, height};\n};\n\n/**\n* @callback module:utilities.TreeWalker\n* @param {Element} elem - DOM element being traversed\n* @returns {void}\n*/\n\n/**\n* Walks the tree and executes the callback on each element in a top-down fashion.\n* @function module:utilities.walkTree\n* @param {Element} elem - DOM element to traverse\n* @param {module:utilities.TreeWalker} cbFn - Callback function to run on each element\n* @returns {void}\n*/\nexport const walkTree = function (elem, cbFn) {\n  if (elem && elem.nodeType === 1) {\n    cbFn(elem);\n    let i = elem.childNodes.length;\n    while (i--) {\n      walkTree(elem.childNodes.item(i), cbFn);\n    }\n  }\n};\n\n/**\n* Walks the tree and executes the callback on each element in a depth-first fashion.\n* @function module:utilities.walkTreePost\n* @todo Shouldn't this be calling walkTreePost?\n* @param {Element} elem - DOM element to traverse\n* @param {module:utilities.TreeWalker} cbFn - Callback function to run on each element\n* @returns {void}\n*/\nexport const walkTreePost = function (elem, cbFn) {\n  if (elem && elem.nodeType === 1) {\n    let i = elem.childNodes.length;\n    while (i--) {\n      walkTree(elem.childNodes.item(i), cbFn);\n    }\n    cbFn(elem);\n  }\n};\n\n/**\n* Extracts the URL from the `url(...)` syntax of some attributes.\n* Three variants:\n*  - `<circle fill=\"url(someFile.svg#foo)\" />`\n*  - `<circle fill=\"url('someFile.svg#foo')\" />`\n*  - `<circle fill='url(\"someFile.svg#foo\")' />`\n* @function module:utilities.getUrlFromAttr\n* @param {string} attrVal The attribute value as a string\n* @returns {string} String with just the URL, like \"someFile.svg#foo\"\n*/\nexport const getUrlFromAttr = function (attrVal) {\n  if (attrVal) {\n    // url('#somegrad')\n    if (attrVal.startsWith('url(\"')) {\n      return attrVal.substring(5, attrVal.indexOf('\"', 6));\n    }\n    // url('#somegrad')\n    if (attrVal.startsWith(\"url('\")) {\n      return attrVal.substring(5, attrVal.indexOf(\"'\", 6));\n    }\n    if (attrVal.startsWith('url(')) {\n      return attrVal.substring(4, attrVal.indexOf(')'));\n    }\n  }\n  return null;\n};\n\n/**\n* @function module:utilities.getHref\n* @param {Element} elem\n* @returns {string} The given element's `xlink:href` value\n*/\nexport let getHref = function (elem) { // eslint-disable-line import/no-mutable-exports\n  return elem.getAttributeNS(NS.XLINK, 'href');\n};\n\n/**\n* Sets the given element's `xlink:href` value.\n* @function module:utilities.setHref\n* @param {Element} elem\n* @param {string} val\n* @returns {void}\n*/\nexport let setHref = function (elem, val) { // eslint-disable-line import/no-mutable-exports\n  elem.setAttributeNS(NS.XLINK, 'xlink:href', val);\n};\n\n/**\n* @function module:utilities.findDefs\n* @returns {SVGDefsElement} The document's `<defs>` element, creating it first if necessary\n*/\nexport const findDefs = function () {\n  const svgElement = editorContext_.getSVGContent();\n  let defs = svgElement.getElementsByTagNameNS(NS.SVG, 'defs');\n  if (defs.length > 0) {\n    defs = defs[0];\n  } else {\n    defs = svgElement.ownerDocument.createElementNS(NS.SVG, 'defs');\n    if (svgElement.firstChild) {\n      // first child is a comment, so call nextSibling\n      svgElement.insertBefore(defs, svgElement.firstChild.nextSibling);\n      // svgElement.firstChild.nextSibling.before(defs); // Not safe\n    } else {\n      svgElement.append(defs);\n    }\n  }\n  return defs;\n};\n\n// TODO(codedread): Consider moving the next to functions to bbox.js\n\n/**\n* Get correct BBox for a path in Webkit.\n* Converted from code found [here]{@link http://blog.hackers-cafe.net/2009/06/how-to-calculate-bezier-curves-bounding.html}.\n* @function module:utilities.getPathBBox\n* @param {SVGPathElement} path - The path DOM element to get the BBox for\n* @returns {module:utilities.BBoxObject} A BBox-like object\n*/\nexport const getPathBBox = function (path) {\n  const seglist = path.pathSegList;\n  const tot = seglist.numberOfItems;\n\n  const bounds = [[], []];\n  const start = seglist.getItem(0);\n  let P0 = [start.x, start.y];\n\n  const getCalc = function (j, P1, P2, P3) {\n    return function (t) {\n      return 1 - t ** 3 * P0[j] +\n        3 * 1 - t ** 2 * t * P1[j] +\n        3 * (1 - t) * t ** 2 * P2[j] +\n        t ** 3 * P3[j];\n    };\n  };\n\n  for (let i = 0; i < tot; i++) {\n    const seg = seglist.getItem(i);\n\n    if (seg.x === undefined) { continue; }\n\n    // Add actual points to limits\n    bounds[0].push(P0[0]);\n    bounds[1].push(P0[1]);\n\n    if (seg.x1) {\n      const P1 = [seg.x1, seg.y1],\n        P2 = [seg.x2, seg.y2],\n        P3 = [seg.x, seg.y];\n\n      for (let j = 0; j < 2; j++) {\n        const calc = getCalc(j, P1, P2, P3);\n\n        const b = 6 * P0[j] - 12 * P1[j] + 6 * P2[j];\n        const a = -3 * P0[j] + 9 * P1[j] - 9 * P2[j] + 3 * P3[j];\n        const c = 3 * P1[j] - 3 * P0[j];\n\n        if (a === 0) {\n          if (b === 0) { continue; }\n          const t = -c / b;\n          if (t > 0 && t < 1) {\n            bounds[j].push(calc(t));\n          }\n          continue;\n        }\n        const b2ac = b ** 2 - 4 * c * a;\n        if (b2ac < 0) { continue; }\n        const t1 = (-b + Math.sqrt(b2ac)) / (2 * a);\n        if (t1 > 0 && t1 < 1) { bounds[j].push(calc(t1)); }\n        const t2 = (-b - Math.sqrt(b2ac)) / (2 * a);\n        if (t2 > 0 && t2 < 1) { bounds[j].push(calc(t2)); }\n      }\n      P0 = P3;\n    } else {\n      bounds[0].push(seg.x);\n      bounds[1].push(seg.y);\n    }\n  }\n\n  const x = Math.min.apply(null, bounds[0]);\n  const w = Math.max.apply(null, bounds[0]) - x;\n  const y = Math.min.apply(null, bounds[1]);\n  const h = Math.max.apply(null, bounds[1]) - y;\n  return {\n    x,\n    y,\n    width: w,\n    height: h\n  };\n};\n\n/**\n* Get the given/selected element's bounding box object, checking for\n* horizontal/vertical lines (see issue 717)\n* Note that performance is currently terrible, so some way to improve would\n* be great.\n* @param {Element} selected - Container or `<use>` DOM element\n* @returns {DOMRect} Bounding box object\n*/\nfunction groupBBFix (selected) {\n  if (supportsHVLineContainerBBox()) {\n    try { return selected.getBBox(); } catch (e) {}\n  }\n  const ref = $.data(selected, 'ref');\n  let matched = null;\n  let ret, copy;\n\n  if (ref) {\n    copy = $(ref).children().clone().attr('visibility', 'hidden');\n    $(svgroot_).append(copy);\n    matched = copy.filter('line, path');\n  } else {\n    matched = $(selected).find('line, path');\n  }\n\n  let issue = false;\n  if (matched.length) {\n    matched.each(function () {\n      const bb = this.getBBox();\n      if (!bb.width || !bb.height) {\n        issue = true;\n      }\n    });\n    if (issue) {\n      const elems = ref ? copy : $(selected).children();\n      ret = getStrokedBBox(elems);\n    } else {\n      ret = selected.getBBox();\n    }\n  } else {\n    ret = selected.getBBox();\n  }\n  if (ref) {\n    copy.remove();\n  }\n  return ret;\n}\n\n/**\n* Get the given/selected element's bounding box object, convert it to be more\n* usable when necessary.\n* @function module:utilities.getBBox\n* @param {Element} elem - Optional DOM element to get the BBox for\n* @returns {module:utilities.BBoxObject} Bounding box object\n*/\nexport const getBBox = function (elem) {\n  const selected = elem || editorContext_.geSelectedElements()[0];\n  if (elem.nodeType !== 1) { return null; }\n  const elname = selected.nodeName;\n\n  let ret = null;\n  switch (elname) {\n  case 'text':\n    if (selected.textContent === '') {\n      selected.textContent = 'a'; // Some character needed for the selector to use.\n      ret = selected.getBBox();\n      selected.textContent = '';\n    } else if (selected.getBBox) {\n      ret = selected.getBBox();\n    }\n    break;\n  case 'path':\n    if (!supportsPathBBox()) {\n      ret = getPathBBox(selected);\n    } else if (selected.getBBox) {\n      ret = selected.getBBox();\n    }\n    break;\n  case 'g':\n  case 'a':\n    ret = groupBBFix(selected);\n    break;\n  default:\n\n    if (elname === 'use') {\n      ret = groupBBFix(selected); // , true);\n    }\n    if (elname === 'use' || (elname === 'foreignObject' && isWebkit())) {\n      if (!ret) { ret = selected.getBBox(); }\n      // This is resolved in later versions of webkit, perhaps we should\n      // have a featured detection for correct 'use' behavior?\n      // ââââââââââ\n      if (!isWebkit()) {\n        const {x, y, width, height} = ret;\n        const bb = {\n          width,\n          height,\n          x: x + Number.parseFloat(selected.getAttribute('x') || 0),\n          y: y + Number.parseFloat(selected.getAttribute('y') || 0)\n        };\n        ret = bb;\n      }\n    } else if (visElemsArr.includes(elname)) {\n      if (selected) {\n        try {\n          ret = selected.getBBox();\n        } catch (err) {\n          // tspan (and textPath apparently) have no `getBBox` in Firefox: https://bugzilla.mozilla.org/show_bug.cgi?id=937268\n          // Re: Chrome returning bbox for containing text element, see: https://bugs.chromium.org/p/chromium/issues/detail?id=349835\n          const extent = selected.getExtentOfChar(0); // pos+dimensions of the first glyph\n          const width = selected.getComputedTextLength(); // width of the tspan\n          ret = {\n            x: extent.x,\n            y: extent.y,\n            width,\n            height: extent.height\n          };\n        }\n      } else {\n        // Check if element is child of a foreignObject\n        const fo = $(selected).closest('foreignObject');\n        if (fo.length) {\n          if (fo[0].getBBox) {\n            ret = fo[0].getBBox();\n          }\n        }\n      }\n    }\n  }\n  if (ret) {\n    ret = bboxToObj(ret);\n  }\n\n  // get the bounding box from the DOM (which is in that element's coordinate system)\n  return ret;\n};\n\n/**\n* @typedef {GenericArray} module:utilities.PathSegmentArray\n* @property {Integer} length 2\n* @property {\"M\"|\"L\"|\"C\"|\"Z\"} 0\n* @property {Float[]} 1\n*/\n\n/**\n* Create a path 'd' attribute from path segments.\n* Each segment is an array of the form: `[singleChar, [x,y, x,y, ...]]`\n* @function module:utilities.getPathDFromSegments\n* @param {module:utilities.PathSegmentArray[]} pathSegments - An array of path segments to be converted\n* @returns {string} The converted path d attribute.\n*/\nexport const getPathDFromSegments = function (pathSegments) {\n  let d = '';\n\n  $.each(pathSegments, function (j, [singleChar, pts]) {\n    d += singleChar;\n    for (let i = 0; i < pts.length; i += 2) {\n      d += (pts[i] + ',' + pts[i + 1]) + ' ';\n    }\n  });\n\n  return d;\n};\n\n/**\n* Make a path 'd' attribute from a simple SVG element shape.\n* @function module:utilities.getPathDFromElement\n* @param {Element} elem - The element to be converted\n* @returns {string} The path d attribute or `undefined` if the element type is unknown.\n*/\nexport const getPathDFromElement = function (elem) {\n  // Possibly the cubed root of 6, but 1.81 works best\n  let num = 1.81;\n  let d, a, rx, ry;\n  switch (elem.tagName) {\n  case 'ellipse':\n  case 'circle': {\n    a = $(elem).attr(['rx', 'ry', 'cx', 'cy']);\n    const {cx, cy} = a;\n    ({rx, ry} = a);\n    if (elem.tagName === 'circle') {\n      ry = $(elem).attr('r');\n      rx = ry;\n    }\n\n    d = getPathDFromSegments([\n      ['M', [(cx - rx), (cy)]],\n      ['C', [(cx - rx), (cy - ry / num), (cx - rx / num), (cy - ry), (cx), (cy - ry)]],\n      ['C', [(cx + rx / num), (cy - ry), (cx + rx), (cy - ry / num), (cx + rx), (cy)]],\n      ['C', [(cx + rx), (cy + ry / num), (cx + rx / num), (cy + ry), (cx), (cy + ry)]],\n      ['C', [(cx - rx / num), (cy + ry), (cx - rx), (cy + ry / num), (cx - rx), (cy)]],\n      ['Z', []]\n    ]);\n    break;\n  } case 'path':\n    d = elem.getAttribute('d');\n    break;\n  case 'line':\n    a = $(elem).attr(['x1', 'y1', 'x2', 'y2']);\n    d = 'M' + a.x1 + ',' + a.y1 + 'L' + a.x2 + ',' + a.y2;\n    break;\n  case 'polyline':\n    d = 'M' + elem.getAttribute('points');\n    break;\n  case 'polygon':\n    d = 'M' + elem.getAttribute('points') + ' Z';\n    break;\n  case 'rect': {\n    const r = $(elem).attr(['rx', 'ry']);\n    ({rx, ry} = r);\n    const b = elem.getBBox();\n    const {x, y} = b,\n      w = b.width,\n      h = b.height;\n    num = 4 - num; // Why? Because!\n\n    if (!rx && !ry) {\n      // Regular rect\n      d = getPathDFromSegments([\n        ['M', [x, y]],\n        ['L', [x + w, y]],\n        ['L', [x + w, y + h]],\n        ['L', [x, y + h]],\n        ['L', [x, y]],\n        ['Z', []]\n      ]);\n    } else {\n      d = getPathDFromSegments([\n        ['M', [x, y + ry]],\n        ['C', [x, y + ry / num, x + rx / num, y, x + rx, y]],\n        ['L', [x + w - rx, y]],\n        ['C', [x + w - rx / num, y, x + w, y + ry / num, x + w, y + ry]],\n        ['L', [x + w, y + h - ry]],\n        ['C', [x + w, y + h - ry / num, x + w - rx / num, y + h, x + w - rx, y + h]],\n        ['L', [x + rx, y + h]],\n        ['C', [x + rx / num, y + h, x, y + h - ry / num, x, y + h - ry]],\n        ['L', [x, y + ry]],\n        ['Z', []]\n      ]);\n    }\n    break;\n  } default:\n    break;\n  }\n\n  return d;\n};\n\n/**\n* Get a set of attributes from an element that is useful for convertToPath.\n* @function module:utilities.getExtraAttributesForConvertToPath\n* @param {Element} elem - The element to be probed\n* @returns {PlainObject<\"marker-start\"|\"marker-end\"|\"marker-mid\"|\"filter\"|\"clip-path\", string>} An object with attributes.\n*/\nexport const getExtraAttributesForConvertToPath = function (elem) {\n  const attrs = {};\n  // TODO: make this list global so that we can properly maintain it\n  // TODO: what about @transform, @clip-rule, @fill-rule, etc?\n  $.each(['marker-start', 'marker-end', 'marker-mid', 'filter', 'clip-path'], function () {\n    const a = elem.getAttribute(this);\n    if (a) {\n      attrs[this] = a;\n    }\n  });\n  return attrs;\n};\n\n/**\n* Get the BBox of an element-as-path.\n* @function module:utilities.getBBoxOfElementAsPath\n* @param {Element} elem - The DOM element to be probed\n* @param {module:utilities.EditorContext#addSVGElementFromJson} addSVGElementFromJson - Function to add the path element to the current layer. See canvas.addSVGElementFromJson\n* @param {module:path.pathActions} pathActions - If a transform exists, `pathActions.resetOrientation()` is used. See: canvas.pathActions.\n* @returns {DOMRect|false} The resulting path's bounding box object.\n*/\nexport const getBBoxOfElementAsPath = function (elem, addSVGElementFromJson, pathActions) {\n  const path = addSVGElementFromJson({\n    element: 'path',\n    attr: getExtraAttributesForConvertToPath(elem)\n  });\n\n  const eltrans = elem.getAttribute('transform');\n  if (eltrans) {\n    path.setAttribute('transform', eltrans);\n  }\n\n  const {parentNode} = elem;\n  if (elem.nextSibling) {\n    elem.before(path);\n  } else {\n    parentNode.append(path);\n  }\n\n  const d = getPathDFromElement(elem);\n  if (d) {\n    path.setAttribute('d', d);\n  } else {\n    path.remove();\n  }\n\n  // Get the correct BBox of the new path, then discard it\n  pathActions.resetOrientation(path);\n  let bb = false;\n  try {\n    bb = path.getBBox();\n  } catch (e) {\n    // Firefox fails\n  }\n  path.remove();\n  return bb;\n};\n\n/**\n* Convert selected element to a path.\n* @function module:utilities.convertToPath\n* @param {Element} elem - The DOM element to be converted\n* @param {module:utilities.SVGElementJSON} attrs - Apply attributes to new path. see canvas.convertToPath\n* @param {module:utilities.EditorContext#addSVGElementFromJson} addSVGElementFromJson - Function to add the path element to the current layer. See canvas.addSVGElementFromJson\n* @param {module:path.pathActions} pathActions - If a transform exists, pathActions.resetOrientation() is used. See: canvas.pathActions.\n* @param {module:draw.DrawCanvasInit#clearSelection|module:path.EditorContext#clearSelection} clearSelection - see [canvas.clearSelection]{@link module:svgcanvas.SvgCanvas#clearSelection}\n* @param {module:path.EditorContext#addToSelection} addToSelection - see [canvas.addToSelection]{@link module:svgcanvas.SvgCanvas#addToSelection}\n* @param {module:history} hstry - see history module\n* @param {module:path.EditorContext#addCommandToHistory|module:draw.DrawCanvasInit#addCommandToHistory} addCommandToHistory - see [canvas.addCommandToHistory]{@link module:svgcanvas~addCommandToHistory}\n* @returns {SVGPathElement|null} The converted path element or null if the DOM element was not recognized.\n*/\nexport const convertToPath = function (\n  elem, attrs, addSVGElementFromJson, pathActions,\n  clearSelection, addToSelection, hstry, addCommandToHistory\n) {\n  const batchCmd = new hstry.BatchCommand('Convert element to Path');\n\n  // Any attribute on the element not covered by the passed-in attributes\n  attrs = $.extend({}, attrs, getExtraAttributesForConvertToPath(elem));\n\n  const path = addSVGElementFromJson({\n    element: 'path',\n    attr: attrs\n  });\n\n  const eltrans = elem.getAttribute('transform');\n  if (eltrans) {\n    path.setAttribute('transform', eltrans);\n  }\n\n  const {id} = elem;\n  const {parentNode} = elem;\n  if (elem.nextSibling) {\n    elem.before(path);\n  } else {\n    parentNode.append(path);\n  }\n\n  const d = getPathDFromElement(elem);\n  if (d) {\n    path.setAttribute('d', d);\n\n    // Replace the current element with the converted one\n\n    // Reorient if it has a matrix\n    if (eltrans) {\n      const tlist = getTransformList(path);\n      if (hasMatrixTransform(tlist)) {\n        pathActions.resetOrientation(path);\n      }\n    }\n\n    const {nextSibling} = elem;\n    batchCmd.addSubCommand(new hstry.RemoveElementCommand(elem, nextSibling, parent));\n    batchCmd.addSubCommand(new hstry.InsertElementCommand(path));\n\n    clearSelection();\n    elem.remove();\n    path.setAttribute('id', id);\n    path.removeAttribute('visibility');\n    addToSelection([path], true);\n\n    addCommandToHistory(batchCmd);\n\n    return path;\n  }\n  // the elem.tagName was not recognized, so no \"d\" attribute. Remove it, so we've haven't changed anything.\n  path.remove();\n  return null;\n};\n\n/**\n* Can the bbox be optimized over the native getBBox? The optimized bbox is the same as the native getBBox when\n* the rotation angle is a multiple of 90 degrees and there are no complex transforms.\n* Getting an optimized bbox can be dramatically slower, so we want to make sure it's worth it.\n*\n* The best example for this is a circle rotate 45 degrees. The circle doesn't get wider or taller when rotated\n* about it's center.\n*\n* The standard, unoptimized technique gets the native bbox of the circle, rotates the box 45 degrees, uses\n* that width and height, and applies any transforms to get the final bbox. This means the calculated bbox\n* is much wider than the original circle. If the angle had been 0, 90, 180, etc. both techniques render the\n* same bbox.\n*\n* The optimization is not needed if the rotation is a multiple 90 degrees. The default technique is to call\n* getBBox then apply the angle and any transforms.\n*\n* @param {Float} angle - The rotation angle in degrees\n* @param {boolean} hasAMatrixTransform - True if there is a matrix transform\n* @returns {boolean} True if the bbox can be optimized.\n*/\nfunction bBoxCanBeOptimizedOverNativeGetBBox (angle, hasAMatrixTransform) {\n  const angleModulo90 = angle % 90;\n  const closeTo90 = angleModulo90 < -89.99 || angleModulo90 > 89.99;\n  const closeTo0 = angleModulo90 > -0.001 && angleModulo90 < 0.001;\n  return hasAMatrixTransform || !(closeTo0 || closeTo90);\n}\n\n/**\n* Get bounding box that includes any transforms.\n* @function module:utilities.getBBoxWithTransform\n* @param {Element} elem - The DOM element to be converted\n* @param {module:utilities.EditorContext#addSVGElementFromJson} addSVGElementFromJson - Function to add the path element to the current layer. See canvas.addSVGElementFromJson\n* @param {module:path.pathActions} pathActions - If a transform exists, pathActions.resetOrientation() is used. See: canvas.pathActions.\n* @returns {module:utilities.BBoxObject|module:math.TransformedBox|DOMRect} A single bounding box object\n*/\nexport const getBBoxWithTransform = function (elem, addSVGElementFromJson, pathActions) {\n  // TODO: Fix issue with rotated groups. Currently they work\n  // fine in FF, but not in other browsers (same problem mentioned\n  // in Issue 339 comment #2).\n\n  let bb = getBBox(elem);\n\n  if (!bb) {\n    return null;\n  }\n\n  const tlist = getTransformList(elem);\n  const angle = getRotationAngleFromTransformList(tlist);\n  const hasMatrixXForm = hasMatrixTransform(tlist);\n\n  if (angle || hasMatrixXForm) {\n    let goodBb = false;\n    if (bBoxCanBeOptimizedOverNativeGetBBox(angle, hasMatrixXForm)) {\n      // Get the BBox from the raw path for these elements\n      // TODO: why ellipse and not circle\n      const elemNames = ['ellipse', 'path', 'line', 'polyline', 'polygon'];\n      if (elemNames.includes(elem.tagName)) {\n        goodBb = getBBoxOfElementAsPath(elem, addSVGElementFromJson, pathActions);\n        bb = goodBb;\n      } else if (elem.tagName === 'rect') {\n        // Look for radius\n        const rx = elem.getAttribute('rx');\n        const ry = elem.getAttribute('ry');\n        if (rx || ry) {\n          goodBb = getBBoxOfElementAsPath(elem, addSVGElementFromJson, pathActions);\n          bb = goodBb;\n        }\n      }\n    }\n\n    if (!goodBb) {\n      const {matrix} = transformListToTransform(tlist);\n      bb = transformBox(bb.x, bb.y, bb.width, bb.height, matrix).aabox;\n\n      // Old technique that was exceedingly slow with large documents.\n      //\n      // Accurate way to get BBox of rotated element in Firefox:\n      // Put element in group and get its BBox\n      //\n      // Must use clone else FF freaks out\n      // const clone = elem.cloneNode(true);\n      // const g = document.createElementNS(NS.SVG, 'g');\n      // const parent = elem.parentNode;\n      // parent.append(g);\n      // g.append(clone);\n      // const bb2 = bboxToObj(g.getBBox());\n      // g.remove();\n    }\n  }\n  return bb;\n};\n\n/**\n * @param {Element} elem\n * @returns {Float}\n * @todo This is problematic with large stroke-width and, for example, a single\n * horizontal line. The calculated BBox extends way beyond left and right sides.\n */\nfunction getStrokeOffsetForBBox (elem) {\n  const sw = elem.getAttribute('stroke-width');\n  return (!isNaN(sw) && elem.getAttribute('stroke') !== 'none') ? sw / 2 : 0;\n}\n\n/**\n * @typedef {PlainObject} BBox\n * @property {Integer} x The x value\n * @property {Integer} y The y value\n * @property {Float} width\n * @property {Float} height\n */\n\n/**\n* Get the bounding box for one or more stroked and/or transformed elements.\n* @function module:utilities.getStrokedBBox\n* @param {Element[]} elems - Array with DOM elements to check\n* @param {module:utilities.EditorContext#addSVGElementFromJson} addSVGElementFromJson - Function to add the path element to the current layer. See canvas.addSVGElementFromJson\n* @param {module:path.pathActions} pathActions - If a transform exists, pathActions.resetOrientation() is used. See: canvas.pathActions.\n* @returns {module:utilities.BBoxObject|module:math.TransformedBox|DOMRect} A single bounding box object\n*/\nexport const getStrokedBBox = function (elems, addSVGElementFromJson, pathActions) {\n  if (!elems || !elems.length) { return false; }\n\n  let fullBb;\n  $.each(elems, function () {\n    if (fullBb) { return; }\n    if (!this.parentNode) { return; }\n    fullBb = getBBoxWithTransform(this, addSVGElementFromJson, pathActions);\n  });\n\n  // This shouldn't ever happen...\n  if (fullBb === undefined) { return null; }\n\n  // fullBb doesn't include the stoke, so this does no good!\n  // if (elems.length == 1) return fullBb;\n\n  let maxX = fullBb.x + fullBb.width;\n  let maxY = fullBb.y + fullBb.height;\n  let minX = fullBb.x;\n  let minY = fullBb.y;\n\n  // If only one elem, don't call the potentially slow getBBoxWithTransform method again.\n  if (elems.length === 1) {\n    const offset = getStrokeOffsetForBBox(elems[0]);\n    minX -= offset;\n    minY -= offset;\n    maxX += offset;\n    maxY += offset;\n  } else {\n    $.each(elems, function (i, elem) {\n      const curBb = getBBoxWithTransform(elem, addSVGElementFromJson, pathActions);\n      if (curBb) {\n        const offset = getStrokeOffsetForBBox(elem);\n        minX = Math.min(minX, curBb.x - offset);\n        minY = Math.min(minY, curBb.y - offset);\n        // TODO: The old code had this test for max, but not min. I suspect this test should be for both min and max\n        if (elem.nodeType === 1) {\n          maxX = Math.max(maxX, curBb.x + curBb.width + offset);\n          maxY = Math.max(maxY, curBb.y + curBb.height + offset);\n        }\n      }\n    });\n  }\n\n  fullBb.x = minX;\n  fullBb.y = minY;\n  fullBb.width = maxX - minX;\n  fullBb.height = maxY - minY;\n  return fullBb;\n};\n\n/**\n* Get all elements that have a BBox (excludes `<defs>`, `<title>`, etc).\n* Note that 0-opacity, off-screen etc elements are still considered \"visible\"\n* for this function.\n* @function module:utilities.getVisibleElements\n* @param {Element} parentElement - The parent DOM element to search within\n* @returns {Element[]} All \"visible\" elements.\n*/\nexport const getVisibleElements = function (parentElement) {\n  if (!parentElement) {\n    parentElement = $(editorContext_.getSVGContent()).children(); // Prevent layers from being included\n  }\n\n  const contentElems = [];\n  $(parentElement).children().each(function (i, elem) {\n    if (elem.getBBox) {\n      contentElems.push(elem);\n    }\n  });\n  return contentElems.reverse();\n};\n\n/**\n* Get the bounding box for one or more stroked and/or transformed elements.\n* @function module:utilities.getStrokedBBoxDefaultVisible\n* @param {Element[]} elems - Array with DOM elements to check\n* @returns {module:utilities.BBoxObject} A single bounding box object\n*/\nexport const getStrokedBBoxDefaultVisible = function (elems) {\n  if (!elems) { elems = getVisibleElements(); }\n  return getStrokedBBox(\n    elems,\n    editorContext_.addSVGElementFromJson,\n    editorContext_.pathActions\n  );\n};\n\n/**\n* Get the rotation angle of the given transform list.\n* @function module:utilities.getRotationAngleFromTransformList\n* @param {SVGTransformList} tlist - List of transforms\n* @param {boolean} toRad - When true returns the value in radians rather than degrees\n* @returns {Float} The angle in degrees or radians\n*/\nexport const getRotationAngleFromTransformList = function (tlist, toRad) {\n  if (!tlist) { return 0; } // <svg> elements have no tlist\n  const N = tlist.numberOfItems;\n  for (let i = 0; i < N; ++i) {\n    const xform = tlist.getItem(i);\n    if (xform.type === 4) {\n      return toRad ? xform.angle * Math.PI / 180.0 : xform.angle;\n    }\n  }\n  return 0.0;\n};\n\n/**\n* Get the rotation angle of the given/selected DOM element.\n* @function module:utilities.getRotationAngle\n* @param {Element} [elem] - DOM element to get the angle for. Default to first of selected elements.\n* @param {boolean} [toRad=false] - When true returns the value in radians rather than degrees\n* @returns {Float} The angle in degrees or radians\n*/\nexport let getRotationAngle = function (elem, toRad) { // eslint-disable-line import/no-mutable-exports\n  const selected = elem || editorContext_.getSelectedElements()[0];\n  // find the rotation transform (if any) and set it\n  const tlist = getTransformList(selected);\n  return getRotationAngleFromTransformList(tlist, toRad);\n};\n\n/**\n* Get the reference element associated with the given attribute value.\n* @function module:utilities.getRefElem\n* @param {string} attrVal - The attribute value as a string\n* @returns {Element} Reference element\n*/\nexport const getRefElem = function (attrVal) {\n  return getElem(getUrlFromAttr(attrVal).substr(1));\n};\n\n/**\n* Get a DOM element by ID within the SVG root element.\n* @function module:utilities.getElem\n* @param {string} id - String with the element's new ID\n* @returns {?Element}\n*/\nexport const getElem = (supportsSelectors())\n  ? function (id) {\n    // querySelector lookup\n    return svgroot_.querySelector('#' + id);\n  }\n  : supportsXpath()\n    ? function (id) {\n      // xpath lookup\n      return domdoc_.evaluate(\n        'svg:svg[@id=\"svgroot\"]//svg:*[@id=\"' + id + '\"]',\n        domcontainer_,\n        function () { return NS.SVG; },\n        9,\n        null\n      ).singleNodeValue;\n    }\n    : function (id) {\n      // jQuery lookup: twice as slow as xpath in FF\n      return $(svgroot_).find(`[id=${id}]`)[0];\n    };\n\n/**\n* Assigns multiple attributes to an element.\n* @function module:utilities.assignAttributes\n* @param {Element} elem - DOM element to apply new attribute values to\n* @param {PlainObject<string, string>} attrs - Object with attribute keys/values\n* @param {Integer} [suspendLength] - Milliseconds to suspend redraw\n* @param {boolean} [unitCheck=false] - Boolean to indicate the need to use units.setUnitAttr\n* @returns {void}\n*/\nexport const assignAttributes = function (elem, attrs, suspendLength, unitCheck) {\n  for (const [key, value] of Object.entries(attrs)) {\n    const ns = (key.substr(0, 4) === 'xml:'\n      ? NS.XML\n      : key.substr(0, 6) === 'xlink:' ? NS.XLINK : null);\n    if (isNullish(value)) {\n      if (ns) {\n        elem.removeAttributeNS(ns, key);\n      } else {\n        elem.removeAttribute(key);\n      }\n      continue;\n    }\n    if (ns) {\n      elem.setAttributeNS(ns, key, value);\n    } else if (!unitCheck) {\n      elem.setAttribute(key, value);\n    } else {\n      setUnitAttr(elem, key, value);\n    }\n  }\n};\n\n/**\n* Remove unneeded (default) attributes, making resulting SVG smaller.\n* @function module:utilities.cleanupElement\n* @param {Element} element - DOM element to clean up\n* @returns {void}\n*/\nexport const cleanupElement = function (element) {\n  const defaults = {\n    'fill-opacity': 1,\n    'stop-opacity': 1,\n    opacity: 1,\n    stroke: 'none',\n    'stroke-dasharray': 'none',\n    'stroke-linejoin': 'miter',\n    'stroke-linecap': 'butt',\n    'stroke-opacity': 1,\n    'stroke-width': 1,\n    rx: 0,\n    ry: 0\n  };\n\n  if (element.nodeName === 'ellipse') {\n    // Ellipse elements require rx and ry attributes\n    delete defaults.rx;\n    delete defaults.ry;\n  }\n\n  Object.entries(defaults).forEach(([attr, val]) => {\n    if (element.getAttribute(attr) === String(val)) {\n      element.removeAttribute(attr);\n    }\n  });\n};\n\n/**\n* Round value to for snapping.\n* @function module:utilities.snapToGrid\n* @param {Float} value\n* @returns {Integer}\n*/\nexport const snapToGrid = function (value) {\n  const unit = editorContext_.getBaseUnit();\n  let stepSize = editorContext_.getSnappingStep();\n  if (unit !== 'px') {\n    stepSize *= getTypeMap()[unit];\n  }\n  value = Math.round(value / stepSize) * stepSize;\n  return value;\n};\n\n/**\n* Escapes special characters in a regular expression.\n* @function module:utilities.regexEscape\n* @param {string} str\n* @returns {string}\n*/\nexport const regexEscape = function (str) {\n  // Originally from: http://phpjs.org/functions\n  return String(str).replace(/[.\\\\+*?[^\\]$(){}=!<>|:-]/g, '\\\\$&');\n};\n\n/**\n * Prevents default browser click behaviour on the given element.\n * @function module:utilities.preventClickDefault\n * @param {Element} img - The DOM element to prevent the click on\n * @returns {void}\n */\nexport const preventClickDefault = function (img) {\n  $(img).click(function (e) { e.preventDefault(); });\n};\n\n/**\n * @callback module:utilities.GetNextID\n * @returns {string} The ID\n */\n\n/**\n * Whether a value is `null` or `undefined`.\n * @param {any} val\n * @returns {boolean}\n */\nexport const isNullish = (val) => {\n  return val === null || val === undefined;\n};\n\n/**\n* Overwrite methods for unit testing.\n* @function module:utilities.mock\n* @param {PlainObject} mockMethods\n* @param {module:utilities.getHref} mockMethods.getHref\n* @param {module:utilities.setHref} mockMethods.setHref\n* @param {module:utilities.getRotationAngle} mockMethods.getRotationAngle\n* @returns {void}\n*/\nexport const mock = ({\n  getHref: getHrefUser, setHref: setHrefUser, getRotationAngle: getRotationAngleUser\n}) => {\n  getHref = getHrefUser;\n  setHref = setHrefUser;\n  getRotationAngle = getRotationAngleUser;\n};\n\nexport const $q = (sel) => document.querySelector(sel);\nexport const $qq = (sel) => [...document.querySelectorAll(sel)];\n","/* globals jQuery */\n/**\n * Adds context menu functionality.\n * @module contextmenu\n * @license Apache-2.0\n * @author Adam Bender\n */\n// Dependencies:\n// 1) jQuery (for dom injection of context menus)\n\nconst $ = jQuery;\n\nlet contextMenuExtensions = {};\n\n/**\n * Signature depends on what the user adds; in the case of our uses with\n * SVGEditor, no parameters are passed nor anything expected for a return.\n * @callback module:contextmenu.MenuItemAction\n * @param {...args} args\n * @returns {any}\n*/\n\n/**\n* @typedef {PlainObject} module:contextmenu.MenuItem\n* @property {string} id\n* @property {string} label\n* @property {module:contextmenu.MenuItemAction} action\n*/\n\n/**\n* @param {module:contextmenu.MenuItem} menuItem\n* @returns {boolean}\n*/\nconst menuItemIsValid = function (menuItem) {\n  return menuItem && menuItem.id && menuItem.label && menuItem.action && typeof menuItem.action === 'function';\n};\n\n/**\n* @function module:contextmenu.add\n* @param {module:contextmenu.MenuItem} menuItem\n* @throws {Error|TypeError}\n* @returns {void}\n*/\nexport const add = function (menuItem) {\n  // menuItem: {id, label, shortcut, action}\n  if (!menuItemIsValid(menuItem)) {\n    throw new TypeError(\n      'Menu items must be defined and have at least properties: ' +\n      'id, label, action, where action must be a function'\n    );\n  }\n  if (menuItem.id in contextMenuExtensions) {\n    throw new Error('Cannot add extension \"' + menuItem.id + '\", an extension by that name already exists\"');\n  }\n  // Register menuItem action, see below for deferred menu dom injection\n  console.log('Registered contextmenu item: {id:' + menuItem.id + ', label:' + menuItem.label + '}'); // eslint-disable-line no-console\n  contextMenuExtensions[menuItem.id] = menuItem;\n  // TODO: Need to consider how to handle custom enable/disable behavior\n};\n\n/**\n* @function module:contextmenu.hasCustomHandler\n* @param {string} handlerKey\n* @returns {boolean}\n*/\nexport const hasCustomHandler = function (handlerKey) {\n  return Boolean(contextMenuExtensions[handlerKey]);\n};\n\n/**\n* @function module:contextmenu.getCustomHandler\n* @param {string} handlerKey\n* @returns {module:contextmenu.MenuItemAction}\n*/\nexport const getCustomHandler = function (handlerKey) {\n  return contextMenuExtensions[handlerKey].action;\n};\n\n/**\n* @param {module:contextmenu.MenuItem} menuItem\n* @returns {void}\n*/\nconst injectExtendedContextMenuItemIntoDom = function (menuItem) {\n  if (!Object.keys(contextMenuExtensions).length) {\n    // all menuItems appear at the bottom of the menu in their own container.\n    // if this is the first extension menu we need to add the separator.\n    $('#cmenu_canvas').append(\"<li class='separator'>\");\n  }\n  const shortcut = menuItem.shortcut || '';\n  $('#cmenu_canvas').append(\"<li class='disabled'><a href='#\" + menuItem.id + \"'>\" +\n    menuItem.label + \"<span class='shortcut'>\" +\n    shortcut + '</span></a></li>');\n};\n\n/**\n* @function module:contextmenu.injectExtendedContextMenuItemsIntoDom\n* @returns {void}\n*/\nexport const injectExtendedContextMenuItemsIntoDom = function () {\n  Object.values(contextMenuExtensions).forEach((menuItem) => {\n    injectExtendedContextMenuItemIntoDom(menuItem);\n  });\n};\n/**\n* @function module:contextmenu.resetCustomMenus\n* @returns {void}\n*/\nexport const resetCustomMenus = function () { contextMenuExtensions = {}; };\n","/**\n * Created by alexey2baranov on 28.01.17.\n */\n/*\n An extraction of the deparam method from Ben Alman's jQuery BBQ\n http://benalman.com/projects/jquery-bbq-plugin/\n */\n\nconst coerce_types = {'true': !0, 'false': !1, 'null': null};\n\nfunction deparam (params, coerce) {\n  // console.log(params)\n  const obj = {};\n\n  // Iterate over all name=value pairs.\n  params.replace(/\\+/g, ' ').split('&').forEach(function (v) {\n    const param = v.split('=');\n\n    let\n      key = decodeURIComponent(param[0]),\n      // If key is more complex than 'foo', like 'a[]' or 'a[b][c]', split it\n      // into its component parts.\n      keys = key.split(']['),\n      keys_last = keys.length - 1;\n\n    // If the first keys part contains [ and the last ends with ], then []\n    // are correctly balanced.\n    if (/\\[/.test(keys[0]) && /\\]$/.test(keys[keys_last])) {\n      // Remove the trailing ] from the last keys part.\n      keys[keys_last] = keys[keys_last].replace(/\\]$/, '');\n\n      // Split first keys part into two parts on the [ and add them back onto\n      // the beginning of the keys array.\n      keys = keys.shift().split('[').concat(keys);\n\n      keys_last = keys.length - 1;\n    } else {\n      // Basic 'foo' style key.\n      keys_last = 0;\n    }\n\n    // Are we dealing with a name=value pair, or just a name?\n    if (param.length >= 2) {\n      let val = decodeURIComponent(param.slice(1).join('='));\n\n      // Coerce values.\n      if (coerce) {\n        val = val && !isNaN(val) ? +val              // number\n          : val === 'undefined' ? undefined         // undefined\n            : coerce_types[val] !== undefined ? coerce_types[val] // true, false, null\n              : val;                                                // string\n      }\n\n      if (keys_last) {\n        let cur = obj;\n        // Complex key, build deep object structure based on a few rules:\n        // * The 'cur' pointer starts at the object top-level.\n        // * [] = array push (n is set to array length), [n] = array if n is\n        //   numeric, otherwise object.\n        // * If at the last keys part, set the value.\n        // * For each keys part, if the current level is undefined create an\n        //   object or array based on the type of the next keys part.\n        // * Move the 'cur' pointer to the next level.\n        // * Rinse & repeat.\n        for (let i = 0; i <= keys_last; i++) {\n          key = keys[i] === '' ? cur.length : keys[i];\n          cur = cur[key] = i < keys_last\n            ? cur[key] || (keys[i + 1] && isNaN(keys[i + 1]) ? {} : [])\n            : val;\n        }\n\n      } else {\n        // Simple key, even simpler rules, since only scalars and shallow\n        // arrays are allowed.\n\n        if (Array.isArray(obj[key])) {\n          // val is already an array, so push on the next value.\n          obj[key].push(val);\n\n        } else if (obj[key] !== undefined) {\n          // val isn't an array, but since a second value has been specified,\n          // convert val into an array.\n          obj[key] = [obj[key], val];\n\n        } else {\n          // val is a scalar.\n          obj[key] = val;\n        }\n      }\n\n    } else if (key) {\n      // No value was defined, so set something meaningful.\n      obj[key] = coerce\n        ? undefined\n        : '';\n    }\n  });\n\n  return obj;\n}\n\nexport default deparam;\n","/**\n * @module jQueryPluginDBox\n */\n/**\n* @param {external:jQuery} $\n* @param {PlainObject} [strings]\n* @param {PlainObject} [strings.ok]\n* @param {PlainObject} [strings.cancel]\n* @returns {external:jQuery}\n*/\nexport default function jQueryPluginDBox ($, {\n  ok: okString = 'Ok',\n  cancel: cancelString = 'Cancel'\n} = {}) {\n  // This sets up alternative dialog boxes. They mostly work the same way as\n  // their UI counterparts, expect instead of returning the result, a callback\n  // needs to be included that returns the result as its first parameter.\n  // In the future we may want to add additional types of dialog boxes, since\n  // they should be easy to handle this way.\n  $('#dialog_container').draggable({\n    cancel: '#dialog_content, #dialog_buttons *',\n    containment: 'window'\n  }).css('position', 'absolute');\n\n  const box = $('#dialog_box'),\n    btnHolder = $('#dialog_buttons'),\n    dialogContent = $('#dialog_content');\n\n  /**\n  * @typedef {PlainObject} module:jQueryPluginDBox.PromiseResultObject\n  * @property {string|true} response\n  * @property {boolean} checked\n  */\n\n  /**\n  * Resolves to `false` (if cancelled), for prompts and selects\n  * without checkboxes, it resolves to the value of the form control. For other\n  * types without checkboxes, it resolves to `true`. For checkboxes, it resolves\n  * to an object with the `response` key containing the same value as the previous\n  * mentioned (string or `true`) and a `checked` (boolean) property.\n  * @typedef {Promise<boolean|string|module:jQueryPluginDBox.PromiseResultObject>} module:jQueryPluginDBox.ResultPromise\n  */\n  /**\n  * @typedef {PlainObject} module:jQueryPluginDBox.SelectOption\n  * @property {string} text\n  * @property {string} value\n  */\n  /**\n  * @typedef {PlainObject} module:jQueryPluginDBox.CheckboxInfo\n  * @property {string} label Label for the checkbox\n  * @property {string} value Value of the checkbox\n  * @property {string} tooltip Tooltip on the checkbox label\n  * @property {boolean} checked Whether the checkbox is checked by default\n  */\n  /**\n   * Triggered upon a change of value for the select pull-down.\n   * @callback module:jQueryPluginDBox.SelectChangeListener\n   * @returns {void}\n   */\n  /**\n   * Creates a dialog of the specified type with a given message\n   *  and any defaults and type-specific metadata. Returns a `Promise`\n   *  which resolves differently depending on whether the dialog\n   *  was cancelled or okayed (with the response and any checked state).\n   * @param {\"alert\"|\"prompt\"|\"select\"|\"process\"} type\n   * @param {string} msg\n   * @param {string} [defaultVal]\n   * @param {module:jQueryPluginDBox.SelectOption[]} [opts]\n   * @param {module:jQueryPluginDBox.SelectChangeListener} [changeListener]\n   * @param {module:jQueryPluginDBox.CheckboxInfo} [checkbox]\n   * @returns {jQueryPluginDBox.ResultPromise}\n  */\n  function dbox (type, msg, defaultVal, opts, changeListener, checkbox) {\n    dialogContent.html('<p>' + msg.replace(/\\n/g, '</p><p>') + '</p>')\n      .toggleClass('prompt', (type === 'prompt'));\n    btnHolder.empty();\n\n    const ok = $('<input type=\"button\" data-ok=\"\" value=\"' + okString + '\">').appendTo(btnHolder);\n\n    return new Promise((resolve, reject) => { // eslint-disable-line promise/avoid-new\n      if (type !== 'alert') {\n        $('<input type=\"button\" value=\"' + cancelString + '\">')\n          .appendTo(btnHolder)\n          .click(function () {\n            box.hide();\n            resolve(false);\n          });\n      }\n\n      let ctrl, chkbx;\n      if (type === 'prompt') {\n        ctrl = $('<input type=\"text\">').prependTo(btnHolder);\n        ctrl.val(defaultVal || '');\n        ctrl.bind('keydown', 'return', function () { ok.click(); });\n      } else if (type === 'select') {\n        const div = $('<div style=\"text-align:center;\">');\n        ctrl = $(`<select aria-label=\"${msg}\">`).appendTo(div);\n        if (checkbox) {\n          const label = $('<label>').text(checkbox.label);\n          chkbx = $('<input type=\"checkbox\">').appendTo(label);\n          chkbx.val(checkbox.value);\n          if (checkbox.tooltip) {\n            label.attr('title', checkbox.tooltip);\n          }\n          chkbx.prop('checked', Boolean(checkbox.checked));\n          div.append($('<div>').append(label));\n        }\n        $.each(opts || [], function (opt, val) {\n          if (typeof val === 'object') {\n            ctrl.append($('<option>').val(val.value).html(val.text));\n          } else {\n            ctrl.append($('<option>').html(val));\n          }\n        });\n        dialogContent.append(div);\n        if (defaultVal) {\n          ctrl.val(defaultVal);\n        }\n        if (changeListener) {\n          ctrl.bind('change', 'return', changeListener);\n        }\n        ctrl.bind('keydown', 'return', function () { ok.click(); });\n      } else if (type === 'process') {\n        ok.hide();\n      }\n\n      box.show();\n\n      ok.click(function () {\n        box.hide();\n        const response = (type === 'prompt' || type === 'select') ? ctrl.val() : true;\n        if (chkbx) {\n          resolve({response, checked: chkbx.prop('checked')});\n          return;\n        }\n        resolve(response);\n      }).focus();\n\n      if (type === 'prompt' || type === 'select') {\n        ctrl.focus();\n      }\n    });\n  }\n\n  /**\n  * @param {string} msg Message to alert\n  * @returns {jQueryPluginDBox.ResultPromise}\n  */\n  $.alert = function (msg) {\n    return dbox('alert', msg);\n  };\n  /**\n  * @param {string} msg Message for which to ask confirmation\n  * @returns {jQueryPluginDBox.ResultPromise}\n  */\n  $.confirm = function (msg) {\n    return dbox('confirm', msg);\n  };\n  /**\n  * @param {string} msg Message to indicate upon cancelable indicator\n  * @returns {jQueryPluginDBox.ResultPromise}\n  */\n  $.process_cancel = function (msg) {\n    return dbox('process', msg);\n  };\n  /**\n  * @param {string} msg Message to accompany the prompt\n  * @param {string} [defaultText=''] The default text to show for the prompt\n  * @returns {jQueryPluginDBox.ResultPromise}\n  */\n  $.prompt = function (msg, defaultText = '') {\n    return dbox('prompt', msg, defaultText);\n  };\n  $.select = function (msg, opts, changeListener, txt, checkbox) {\n    return dbox('select', msg, txt, opts, changeListener, checkbox);\n  };\n  return $;\n}\n","/* eslint-disable no-console */\n/**\n * For command history tracking and undo functionality.\n * @module history\n * @license MIT\n * @copyright 2010 Jeff Schiller\n */\n\nimport {getHref, setHref, getRotationAngle, isNullish} from '../common/utilities.js';\nimport {removeElementFromListMap} from '../common/svgtransformlist.js';\n\n/**\n* Group: Undo/Redo history management.\n*/\nexport const HistoryEventTypes = {\n  BEFORE_APPLY: 'before_apply',\n  AFTER_APPLY: 'after_apply',\n  BEFORE_UNAPPLY: 'before_unapply',\n  AFTER_UNAPPLY: 'after_unapply'\n};\n\n/**\n* Base class for commands.\n*/\nexport class Command {\n  /**\n  * @returns {string}\n  */\n  getText () {\n    return this.text;\n  }\n  /**\n   * @param {module:history.HistoryEventHandler} handler\n   * @param {callback} applyFunction\n   * @returns {void}\n  */\n  apply (handler, applyFunction) {\n    handler && handler.handleHistoryEvent(HistoryEventTypes.BEFORE_APPLY, this);\n    applyFunction(handler);\n    handler && handler.handleHistoryEvent(HistoryEventTypes.AFTER_APPLY, this);\n  }\n\n  /**\n   * @param {module:history.HistoryEventHandler} handler\n   * @param {callback} unapplyFunction\n   * @returns {void}\n  */\n  unapply (handler, unapplyFunction) {\n    handler && handler.handleHistoryEvent(HistoryEventTypes.BEFORE_UNAPPLY, this);\n    unapplyFunction();\n    handler && handler.handleHistoryEvent(HistoryEventTypes.AFTER_UNAPPLY, this);\n  }\n\n  /**\n   * @returns {Element[]} Array with element associated with this command\n   * This function needs to be surcharged if multiple elements are returned.\n  */\n  elements () {\n    return [this.elem];\n  }\n\n  /**\n    * @returns {string} String with element associated with this command\n  */\n  type () {\n    return this.constructor.name;\n  }\n}\n\n// Todo: Figure out why the interface members aren't showing\n//   up (with or without modules applied), despite our apparently following\n//   http://usejsdoc.org/tags-interface.html#virtual-comments\n\n/**\n * An interface that all command objects must implement.\n * @interface module:history.HistoryCommand\n*/\n/**\n * Applies.\n *\n * @function module:history.HistoryCommand#apply\n * @param {module:history.HistoryEventHandler} handler\n * @fires module:history~Command#event:history\n * @returns {void|true}\n */\n/**\n *\n * Unapplies.\n * @function module:history.HistoryCommand#unapply\n * @param {module:history.HistoryEventHandler} handler\n * @fires module:history~Command#event:history\n * @returns {void|true}\n */\n/**\n * Returns the elements.\n * @function module:history.HistoryCommand#elements\n * @returns {Element[]}\n */\n/**\n * Gets the text.\n * @function module:history.HistoryCommand#getText\n * @returns {string}\n */\n/**\n * Gives the type.\n * @function module:history.HistoryCommand.type\n * @returns {string}\n */\n\n/**\n * @event module:history~Command#event:history\n * @type {module:history.HistoryCommand}\n */\n\n/**\n * An interface for objects that will handle history events.\n * @interface module:history.HistoryEventHandler\n */\n/**\n *\n * @function module:history.HistoryEventHandler#handleHistoryEvent\n * @param {string} eventType One of the HistoryEvent types\n * @param {module:history~Command#event:history} command\n * @listens module:history~Command#event:history\n * @returns {void}\n *\n */\n\n/**\n * History command for an element that had its DOM position changed.\n * @implements {module:history.HistoryCommand}\n*/\nexport class MoveElementCommand extends Command {\n  /**\n  * @param {Element} elem - The DOM element that was moved\n  * @param {Element} oldNextSibling - The element's next sibling before it was moved\n  * @param {Element} oldParent - The element's parent before it was moved\n  * @param {string} [text] - An optional string visible to user related to this change\n  */\n  constructor (elem, oldNextSibling, oldParent, text) {\n    super();\n    this.elem = elem;\n    this.text = text ? ('Move ' + elem.tagName + ' to ' + text) : ('Move ' + elem.tagName);\n    this.oldNextSibling = oldNextSibling;\n    this.oldParent = oldParent;\n    this.newNextSibling = elem.nextSibling;\n    this.newParent = elem.parentNode;\n  }\n\n  /**\n   * Re-positions the element.\n   * @param {module:history.HistoryEventHandler} handler\n   * @fires module:history~Command#event:history\n   * @returns {void}\n  */\n  apply (handler) {\n    super.apply(handler, () => {\n      this.elem = this.newParent.insertBefore(this.elem, this.newNextSibling);\n    });\n  }\n\n  /**\n   * Positions the element back to its original location.\n   * @param {module:history.HistoryEventHandler} handler\n   * @fires module:history~Command#event:history\n   * @returns {void}\n  */\n  unapply (handler) {\n    super.unapply(handler, () => {\n      this.elem = this.oldParent.insertBefore(this.elem, this.oldNextSibling);\n    });\n  }\n}\n\n/**\n* History command for an element that was added to the DOM.\n* @implements {module:history.HistoryCommand}\n*/\nexport class InsertElementCommand extends Command {\n  /**\n   * @param {Element} elem - The newly added DOM element\n   * @param {string} text - An optional string visible to user related to this change\n  */\n  constructor (elem, text) {\n    super();\n    this.elem = elem;\n    this.text = text || ('Create ' + elem.tagName);\n    this.parent = elem.parentNode;\n    this.nextSibling = this.elem.nextSibling;\n  }\n\n  /**\n  * Re-inserts the new element.\n  * @param {module:history.HistoryEventHandler} handler\n  * @fires module:history~Command#event:history\n  * @returns {void}\n  */\n  apply (handler) {\n    super.apply(handler, () => {\n      this.elem = this.parent.insertBefore(this.elem, this.nextSibling);\n    });\n  }\n\n  /**\n  * Removes the element.\n  * @param {module:history.HistoryEventHandler} handler\n  * @fires module:history~Command#event:history\n  * @returns {void}\n  */\n  unapply (handler) {\n    super.unapply(handler, () => {\n      this.parent = this.elem.parentNode;\n      this.elem.remove();\n    });\n  }\n}\n\n/**\n* History command for an element removed from the DOM.\n* @implements {module:history.HistoryCommand}\n*/\nexport class RemoveElementCommand extends Command {\n  /**\n  * @param {Element} elem - The removed DOM element\n  * @param {Node} oldNextSibling - The DOM element's nextSibling when it was in the DOM\n  * @param {Element} oldParent - The DOM element's parent\n  * @param {string} [text] - An optional string visible to user related to this change\n  */\n  constructor (elem, oldNextSibling, oldParent, text) {\n    super();\n    this.elem = elem;\n    this.text = text || ('Delete ' + elem.tagName);\n    this.nextSibling = oldNextSibling;\n    this.parent = oldParent;\n\n    // special hack for webkit: remove this element's entry in the svgTransformLists map\n    removeElementFromListMap(elem);\n  }\n\n  /**\n  * Re-removes the new element.\n  * @param {module:history.HistoryEventHandler} handler\n  * @fires module:history~Command#event:history\n  * @returns {void}\n  */\n  apply (handler) {\n    super.apply(handler, () => {\n      removeElementFromListMap(this.elem);\n      this.parent = this.elem.parentNode;\n      this.elem.remove();\n    });\n  }\n\n  /**\n  * Re-adds the new element.\n  * @param {module:history.HistoryEventHandler} handler\n  * @fires module:history~Command#event:history\n  * @returns {void}\n  */\n  unapply (handler) {\n    super.unapply(handler, () => {\n      removeElementFromListMap(this.elem);\n      if (isNullish(this.nextSibling)) {\n        if (window.console) {\n          console.error('Reference element was lost');\n        }\n      }\n      this.parent.insertBefore(this.elem, this.nextSibling); // Don't use `before` or `prepend` as `this.nextSibling` may be `null`\n    });\n  }\n}\n\n/**\n* @typedef {\"#text\"|\"#href\"|string} module:history.CommandAttributeName\n*/\n/**\n* @typedef {PlainObject<module:history.CommandAttributeName, string>} module:history.CommandAttributes\n*/\n\n/**\n* History command to make a change to an element.\n* Usually an attribute change, but can also be textcontent.\n* @implements {module:history.HistoryCommand}\n*/\nexport class ChangeElementCommand extends Command {\n  /**\n  * @param {Element} elem - The DOM element that was changed\n  * @param {module:history.CommandAttributes} attrs - Attributes to be changed with the values they had *before* the change\n  * @param {string} text - An optional string visible to user related to this change\n   */\n  constructor (elem, attrs, text) {\n    super();\n    this.elem = elem;\n    this.text = text ? ('Change ' + elem.tagName + ' ' + text) : ('Change ' + elem.tagName);\n    this.newValues = {};\n    this.oldValues = attrs;\n    for (const attr in attrs) {\n      if (attr === '#text') {\n        this.newValues[attr] = elem.textContent;\n      } else if (attr === '#href') {\n        this.newValues[attr] = getHref(elem);\n      } else {\n        this.newValues[attr] = elem.getAttribute(attr);\n      }\n    }\n  }\n\n  /**\n  * Performs the stored change action.\n  * @param {module:history.HistoryEventHandler} handler\n  * @fires module:history~Command#event:history\n  * @returns {void}\n  */\n  apply (handler) {\n    super.apply(handler, () => {\n      let bChangedTransform = false;\n      Object.entries(this.newValues).forEach(([attr, value]) => {\n        if (value) {\n          if (attr === '#text') {\n            this.elem.textContent = value;\n          } else if (attr === '#href') {\n            setHref(this.elem, value);\n          } else {\n            this.elem.setAttribute(attr, value);\n          }\n        } else if (attr === '#text') {\n          this.elem.textContent = '';\n        } else {\n          this.elem.setAttribute(attr, '');\n          this.elem.removeAttribute(attr);\n        }\n\n        if (attr === 'transform') { bChangedTransform = true; }\n      });\n\n      // relocate rotational transform, if necessary\n      if (!bChangedTransform) {\n        const angle = getRotationAngle(this.elem);\n        if (angle) {\n          const bbox = this.elem.getBBox();\n          const cx = bbox.x + bbox.width / 2;\n          const cy = bbox.y + bbox.height / 2;\n          const rotate = ['rotate(', angle, ' ', cx, ',', cy, ')'].join('');\n          if (rotate !== this.elem.getAttribute('transform')) {\n            this.elem.setAttribute('transform', rotate);\n          }\n        }\n      }\n    });\n  }\n\n  /**\n  * Reverses the stored change action.\n  * @param {module:history.HistoryEventHandler} handler\n  * @fires module:history~Command#event:history\n  * @returns {void}\n  */\n  unapply (handler) {\n    super.unapply(handler, () => {\n      let bChangedTransform = false;\n      Object.entries(this.oldValues).forEach(([attr, value]) => {\n        if (value) {\n          if (attr === '#text') {\n            this.elem.textContent = value;\n          } else if (attr === '#href') {\n            setHref(this.elem, value);\n          } else {\n            this.elem.setAttribute(attr, value);\n          }\n        } else if (attr === '#text') {\n          this.elem.textContent = '';\n        } else {\n          this.elem.removeAttribute(attr);\n        }\n        if (attr === 'transform') { bChangedTransform = true; }\n      });\n      // relocate rotational transform, if necessary\n      if (!bChangedTransform) {\n        const angle = getRotationAngle(this.elem);\n        if (angle) {\n          const bbox = this.elem.getBBox();\n          const cx = bbox.x + bbox.width / 2,\n            cy = bbox.y + bbox.height / 2;\n          const rotate = ['rotate(', angle, ' ', cx, ',', cy, ')'].join('');\n          if (rotate !== this.elem.getAttribute('transform')) {\n            this.elem.setAttribute('transform', rotate);\n          }\n        }\n      }\n      // Remove transformlist to prevent confusion that causes bugs like 575.\n      removeElementFromListMap(this.elem);\n    });\n  }\n}\n\n// TODO: create a 'typing' command object that tracks changes in text\n// if a new Typing command is created and the top command on the stack is also a Typing\n// and they both affect the same element, then collapse the two commands into one\n\n/**\n* History command that can contain/execute multiple other commands.\n* @implements {module:history.HistoryCommand}\n*/\nexport class BatchCommand extends Command {\n  /**\n  * @param {string} [text] - An optional string visible to user related to this change\n  */\n  constructor (text) {\n    super();\n    this.text = text || 'Batch Command';\n    this.stack = [];\n  }\n\n  /**\n  * Runs \"apply\" on all subcommands.\n  * @param {module:history.HistoryEventHandler} handler\n  * @fires module:history~Command#event:history\n  * @returns {void}\n  */\n  apply (handler) {\n    super.apply(handler, () => {\n      this.stack.forEach((stackItem) => {\n        console.assert(stackItem, 'stack item should not be null');\n        stackItem && stackItem.apply(handler);\n      });\n    });\n  }\n\n  /**\n  * Runs \"unapply\" on all subcommands.\n  * @param {module:history.HistoryEventHandler} handler\n  * @fires module:history~Command#event:history\n  * @returns {void}\n  */\n  unapply (handler) {\n    super.unapply(handler, () => {\n      this.stack.reverse().forEach((stackItem) => {\n        console.assert(stackItem, 'stack item should not be null');\n        stackItem && stackItem.unapply(handler);\n      });\n    });\n  }\n\n  /**\n  * Iterate through all our subcommands.\n  * @returns {Element[]} All the elements we are changing\n  */\n  elements () {\n    const elems = [];\n    let cmd = this.stack.length;\n    while (cmd--) {\n      if (!this.stack[cmd]) continue;\n      const thisElems = this.stack[cmd].elements();\n      let elem = thisElems.length;\n      while (elem--) {\n        if (!elems.includes(thisElems[elem])) { elems.push(thisElems[elem]); }\n      }\n    }\n    return elems;\n  }\n\n  /**\n  * Adds a given command to the history stack.\n  * @param {Command} cmd - The undo command object to add\n  * @returns {void}\n  */\n  addSubCommand (cmd) {\n    console.assert(cmd !== null, 'cmd should not be null');\n    this.stack.push(cmd);\n  }\n\n  /**\n  * @returns {boolean} Indicates whether or not the batch command is empty\n  */\n  isEmpty () {\n    return !this.stack.length;\n  }\n}\n\n/**\n*\n*/\nexport class UndoManager {\n  /**\n  * @param {module:history.HistoryEventHandler} historyEventHandler\n  */\n  constructor (historyEventHandler) {\n    this.handler_ = historyEventHandler || null;\n    this.undoStackPointer = 0;\n    this.undoStack = [];\n\n    // this is the stack that stores the original values, the elements and\n    // the attribute name for begin/finish\n    this.undoChangeStackPointer = -1;\n    this.undoableChangeStack = [];\n  }\n\n  /**\n  * Resets the undo stack, effectively clearing the undo/redo history.\n  * @returns {void}\n  */\n  resetUndoStack () {\n    this.undoStack = [];\n    this.undoStackPointer = 0;\n  }\n\n  /**\n  * @returns {Integer} Current size of the undo history stack\n  */\n  getUndoStackSize () {\n    return this.undoStackPointer;\n  }\n\n  /**\n  * @returns {Integer} Current size of the redo history stack\n  */\n  getRedoStackSize () {\n    return this.undoStack.length - this.undoStackPointer;\n  }\n\n  /**\n  * @returns {string} String associated with the next undo command\n  */\n  getNextUndoCommandText () {\n    return this.undoStackPointer > 0 ? this.undoStack[this.undoStackPointer - 1].getText() : '';\n  }\n\n  /**\n  * @returns {string} String associated with the next redo command\n  */\n  getNextRedoCommandText () {\n    return this.undoStackPointer < this.undoStack.length ? this.undoStack[this.undoStackPointer].getText() : '';\n  }\n\n  /**\n  * Performs an undo step.\n  * @returns {void}\n  */\n  undo () {\n    if (this.undoStackPointer > 0) {\n      const cmd = this.undoStack[--this.undoStackPointer];\n      cmd.unapply(this.handler_);\n    }\n  }\n\n  /**\n  * Performs a redo step.\n  * @returns {void}\n  */\n  redo () {\n    if (this.undoStackPointer < this.undoStack.length && this.undoStack.length > 0) {\n      const cmd = this.undoStack[this.undoStackPointer++];\n      cmd.apply(this.handler_);\n    }\n  }\n\n  /**\n  * Adds a command object to the undo history stack.\n  * @param {Command} cmd - The command object to add\n  * @returns {void}\n  */\n  addCommandToHistory (cmd) {\n    // TODO: we MUST compress consecutive text changes to the same element\n    // (right now each keystroke is saved as a separate command that includes the\n    // entire text contents of the text element)\n    // TODO: consider limiting the history that we store here (need to do some slicing)\n\n    // if our stack pointer is not at the end, then we have to remove\n    // all commands after the pointer and insert the new command\n    if (this.undoStackPointer < this.undoStack.length && this.undoStack.length > 0) {\n      this.undoStack = this.undoStack.splice(0, this.undoStackPointer);\n    }\n    this.undoStack.push(cmd);\n    this.undoStackPointer = this.undoStack.length;\n  }\n\n  /**\n  * This function tells the canvas to remember the old values of the\n  * `attrName` attribute for each element sent in.  The elements and values\n  * are stored on a stack, so the next call to `finishUndoableChange()` will\n  * pop the elements and old values off the stack, gets the current values\n  * from the DOM and uses all of these to construct the undo-able command.\n  * @param {string} attrName - The name of the attribute being changed\n  * @param {Element[]} elems - Array of DOM elements being changed\n  * @returns {void}\n  */\n  beginUndoableChange (attrName, elems) {\n    const p = ++this.undoChangeStackPointer;\n    let i = elems.length;\n    const oldValues = new Array(i), elements = new Array(i);\n    while (i--) {\n      const elem = elems[i];\n      if (isNullish(elem)) { continue; }\n      elements[i] = elem;\n      oldValues[i] = elem.getAttribute(attrName);\n    }\n    this.undoableChangeStack[p] = {\n      attrName,\n      oldValues,\n      elements\n    };\n  }\n\n  /**\n  * This function returns a `BatchCommand` object which summarizes the\n  * change since `beginUndoableChange` was called.  The command can then\n  * be added to the command history.\n  * @returns {BatchCommand} Batch command object with resulting changes\n  */\n  finishUndoableChange () {\n    const p = this.undoChangeStackPointer--;\n    const changeset = this.undoableChangeStack[p];\n    const {attrName} = changeset;\n    const batchCmd = new BatchCommand('Change ' + attrName);\n    let i = changeset.elements.length;\n    while (i--) {\n      const elem = changeset.elements[i];\n      if (isNullish(elem)) { continue; }\n      const changes = {};\n      changes[attrName] = changeset.oldValues[i];\n      if (changes[attrName] !== elem.getAttribute(attrName)) {\n        batchCmd.addSubCommand(new ChangeElementCommand(elem, changes, attrName));\n      }\n    }\n    this.undoableChangeStack[p] = null;\n    return batchCmd;\n  }\n}\n","/* globals jQuery */\n/**\n * Path functionality.\n * @module path\n * @license MIT\n *\n * @copyright 2011 Alexis Deveria, 2011 Jeff Schiller\n */\n\nimport '../common/svgpathseg.js';\nimport {NS} from '../common/namespaces.js';\nimport {getTransformList} from '../common/svgtransformlist.js';\nimport {shortFloat} from '../common/units.js';\nimport {ChangeElementCommand, BatchCommand} from './history.js';\nimport {\n  transformPoint, getMatrix, snapToAngle, rectsIntersect,\n  transformListToTransform\n} from '../common/math.js';\nimport {\n  assignAttributes, getElem, getRotationAngle, getBBox,\n  getRefElem, findDefs, snapToGrid, isNullish,\n  getBBox as utilsGetBBox\n} from '../common/utilities.js';\nimport {\n  supportsPathInsertItemBefore, supportsPathReplaceItem, isWebkit\n} from '../common/browser.js';\n\nconst $ = jQuery;\n\nconst segData = {\n  2: ['x', 'y'], // PATHSEG_MOVETO_ABS\n  4: ['x', 'y'], // PATHSEG_LINETO_ABS\n  6: ['x', 'y', 'x1', 'y1', 'x2', 'y2'], // PATHSEG_CURVETO_CUBIC_ABS\n  8: ['x', 'y', 'x1', 'y1'], // PATHSEG_CURVETO_QUADRATIC_ABS\n  10: ['x', 'y', 'r1', 'r2', 'angle', 'largeArcFlag', 'sweepFlag'], // PATHSEG_ARC_ABS\n  12: ['x'], // PATHSEG_LINETO_HORIZONTAL_ABS\n  14: ['y'], // PATHSEG_LINETO_VERTICAL_ABS\n  16: ['x', 'y', 'x2', 'y2'], // PATHSEG_CURVETO_CUBIC_SMOOTH_ABS\n  18: ['x', 'y'] // PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS\n};\n\n/**\n * @tutorial LocaleDocs\n * @typedef {module:locale.LocaleStrings|PlainObject} module:path.uiStrings\n * @property {PlainObject<string, string>} ui\n*/\n\nconst uiStrings = {};\n/**\n* @function module:path.setUiStrings\n* @param {module:path.uiStrings} strs\n* @returns {void}\n*/\nexport const setUiStrings = function (strs) {\n  Object.assign(uiStrings, strs.ui);\n};\n\nlet pathFuncs = [];\n\nlet linkControlPts = true;\n\n// Stores references to paths via IDs.\n// TODO: Make this cross-document happy.\nlet pathData = {};\n\n/**\n* @function module:path.setLinkControlPoints\n* @param {boolean} lcp\n* @returns {void}\n*/\nexport const setLinkControlPoints = function (lcp) {\n  linkControlPts = lcp;\n};\n\n/**\n * @name module:path.path\n * @type {null|module:path.Path}\n * @memberof module:path\n*/\nexport let path = null; // eslint-disable-line import/no-mutable-exports\n\nlet editorContext_ = null;\n\n/**\n* @external MouseEvent\n*/\n\n/**\n* Object with the following keys/values.\n* @typedef {PlainObject} module:path.SVGElementJSON\n* @property {string} element - Tag name of the SVG element to create\n* @property {PlainObject<string, string>} attr - Has key-value attributes to assign to the new element. An `id` should be set so that {@link module:utilities.EditorContext#addSVGElementFromJson} can later re-identify the element for modification or replacement.\n* @property {boolean} [curStyles=false] - Indicates whether current style attributes should be applied first\n* @property {module:path.SVGElementJSON[]} [children] - Data objects to be added recursively as children\n* @property {string} [namespace=\"http://www.w3.org/2000/svg\"] - Indicate a (non-SVG) namespace\n*/\n/**\n * @interface module:path.EditorContext\n * @property {module:select.SelectorManager} selectorManager\n * @property {module:svgcanvas.SvgCanvas} canvas\n */\n/**\n * @function module:path.EditorContext#call\n * @param {\"selected\"|\"changed\"} ev - String with the event name\n * @param {module:svgcanvas.SvgCanvas#event:selected|module:svgcanvas.SvgCanvas#event:changed} arg - Argument to pass through to the callback function. If the event is \"changed\", an array of `Element`s is passed; if \"selected\", a single-item array of `Element` is passed.\n * @returns {void}\n */\n/**\n * @function module:path.EditorContext#resetD\n * @param {SVGPathElement} p\n * @returns {void}\n*/\n/**\n * Note: This doesn't round to an integer necessarily.\n * @function module:path.EditorContext#round\n * @param {Float} val\n * @returns {Float} Rounded value to nearest value based on `currentZoom`\n */\n/**\n * @function module:path.EditorContext#clearSelection\n * @param {boolean} [noCall] - When `true`, does not call the \"selected\" handler\n * @returns {void}\n*/\n/**\n * @function module:path.EditorContext#addToSelection\n * @param {Element[]} elemsToAdd - An array of DOM elements to add to the selection\n * @param {boolean} showGrips - Indicates whether the resize grips should be shown\n * @returns {void}\n*/\n/**\n * @function module:path.EditorContext#addCommandToHistory\n * @param {Command} cmd\n * @returns {void}\n */\n/**\n * @function module:path.EditorContext#remapElement\n * @param {Element} selected - DOM element to be changed\n * @param {PlainObject<string, string>} changes - Object with changes to be remapped\n * @param {SVGMatrix} m - Matrix object to use for remapping coordinates\n * @returns {void}\n */\n/**\n * @function module:path.EditorContext#addSVGElementFromJson\n * @param {module:path.SVGElementJSON} data\n * @returns {Element} The new element\n*/\n/**\n * @function module:path.EditorContext#getGridSnapping\n * @returns {boolean}\n */\n/**\n * @function module:path.EditorContext#getOpacity\n * @returns {Float}\n */\n/**\n * @function module:path.EditorContext#getSelectedElements\n * @returns {Element[]} the array with selected DOM elements\n*/\n/**\n * @function module:path.EditorContext#getContainer\n * @returns {Element}\n */\n/**\n * @function module:path.EditorContext#setStarted\n * @param {boolean} s\n * @returns {void}\n */\n/**\n * @function module:path.EditorContext#getRubberBox\n * @returns {SVGRectElement}\n*/\n/**\n * @function module:path.EditorContext#setRubberBox\n * @param {SVGRectElement} rb\n * @returns {SVGRectElement} Same as parameter passed in\n */\n/**\n * @function module:path.EditorContext#addPtsToSelection\n * @param {PlainObject} cfg\n * @param {boolean} cfg.closedSubpath\n * @param {SVGCircleElement[]} cfg.grips\n * @returns {void}\n */\n/**\n * @function module:path.EditorContext#endChanges\n * @param {PlainObject} cfg\n * @param {string} cfg.cmd\n * @param {Element} cfg.elem\n * @returns {void}\n*/\n/**\n * @function module:path.EditorContext#getCurrentZoom\n * @returns {Float} The current zoom level\n */\n/**\n * Returns the last created DOM element ID string.\n * @function module:path.EditorContext#getId\n * @returns {string}\n */\n/**\n * Creates and returns a unique ID string for a DOM element.\n * @function module:path.EditorContext#getNextId\n * @returns {string}\n*/\n/**\n * Gets the desired element from a mouse event.\n * @function module:path.EditorContext#getMouseTarget\n * @param {external:MouseEvent} evt - Event object from the mouse event\n * @returns {Element} DOM element we want\n */\n/**\n * @function module:path.EditorContext#getCurrentMode\n * @returns {string}\n */\n/**\n * @function module:path.EditorContext#setCurrentMode\n * @param {string} cm The mode\n * @returns {string} The same mode as passed in\n*/\n/**\n * @function module:path.EditorContext#getDrawnPath\n * @returns {SVGPathElement|null}\n */\n/**\n * @function module:path.EditorContext#setDrawnPath\n * @param {SVGPathElement|null} dp\n * @returns {SVGPathElement|null} The same value as passed in\n */\n/**\n * @function module:path.EditorContext#getSVGRoot\n * @returns {SVGSVGElement}\n*/\n\n/**\n* @function module:path.init\n* @param {module:path.EditorContext} editorContext\n* @returns {void}\n*/\nexport const init = function (editorContext) {\n  editorContext_ = editorContext;\n\n  pathFuncs = [0, 'ClosePath'];\n  const pathFuncsStrs = [\n    'Moveto', 'Lineto', 'CurvetoCubic', 'CurvetoQuadratic', 'Arc',\n    'LinetoHorizontal', 'LinetoVertical', 'CurvetoCubicSmooth', 'CurvetoQuadraticSmooth'\n  ];\n  $.each(pathFuncsStrs, function (i, s) {\n    pathFuncs.push(s + 'Abs');\n    pathFuncs.push(s + 'Rel');\n  });\n};\n\n/**\n* @function module:path.insertItemBefore\n* @param {Element} elem\n* @param {Segment} newseg\n* @param {Integer} index\n* @returns {void}\n*/\nexport const insertItemBefore = function (elem, newseg, index) {\n  // Support insertItemBefore on paths for FF2\n  const list = elem.pathSegList;\n\n  if (supportsPathInsertItemBefore()) {\n    list.insertItemBefore(newseg, index);\n    return;\n  }\n  const len = list.numberOfItems;\n  const arr = [];\n  for (let i = 0; i < len; i++) {\n    const curSeg = list.getItem(i);\n    arr.push(curSeg);\n  }\n  list.clear();\n  for (let i = 0; i < len; i++) {\n    if (i === index) { // index + 1\n      list.appendItem(newseg);\n    }\n    list.appendItem(arr[i]);\n  }\n};\n\n/**\n* @function module:path.ptObjToArr\n* @todo See if this should just live in `replacePathSeg`\n* @param {string} type\n* @param {SVGPathSegMovetoAbs|SVGPathSegLinetoAbs|SVGPathSegCurvetoCubicAbs|SVGPathSegCurvetoQuadraticAbs|SVGPathSegArcAbs|SVGPathSegLinetoHorizontalAbs|SVGPathSegLinetoVerticalAbs|SVGPathSegCurvetoCubicSmoothAbs|SVGPathSegCurvetoQuadraticSmoothAbs} segItem\n* @returns {ArgumentsArray}\n*/\nexport const ptObjToArr = function (type, segItem) {\n  const props = segData[type];\n  return props.map((prop) => {\n    return segItem[prop];\n  });\n};\n\n/**\n* @function module:path.getGripPt\n* @param {Segment} seg\n* @param {module:math.XYObject} altPt\n* @returns {module:math.XYObject}\n*/\nexport const getGripPt = function (seg, altPt) {\n  const {path: pth} = seg;\n  let out = {\n    x: altPt ? altPt.x : seg.item.x,\n    y: altPt ? altPt.y : seg.item.y\n  };\n\n  if (pth.matrix) {\n    const pt = transformPoint(out.x, out.y, pth.matrix);\n    out = pt;\n  }\n\n  const currentZoom = editorContext_.getCurrentZoom();\n  out.x *= currentZoom;\n  out.y *= currentZoom;\n\n  return out;\n};\n\n/**\n* @function module:path.getPointFromGrip\n* @param {module:math.XYObject} pt\n* @param {module:path.Path} pth\n* @returns {module:math.XYObject}\n*/\nexport const getPointFromGrip = function (pt, pth) {\n  const out = {\n    x: pt.x,\n    y: pt.y\n  };\n\n  if (pth.matrix) {\n    pt = transformPoint(out.x, out.y, pth.imatrix);\n    out.x = pt.x;\n    out.y = pt.y;\n  }\n\n  const currentZoom = editorContext_.getCurrentZoom();\n  out.x /= currentZoom;\n  out.y /= currentZoom;\n\n  return out;\n};\n\n/**\n* Requires prior call to `setUiStrings` if `xlink:title`\n*    to be set on the grip.\n* @function module:path.addPointGrip\n* @param {Integer} index\n* @param {Integer} x\n* @param {Integer} y\n* @returns {SVGCircleElement}\n*/\nexport const addPointGrip = function (index, x, y) {\n  // create the container of all the point grips\n  const pointGripContainer = getGripContainer();\n\n  let pointGrip = getElem('pathpointgrip_' + index);\n  // create it\n  if (!pointGrip) {\n    pointGrip = document.createElementNS(NS.SVG, 'circle');\n    const atts = {\n      id: 'pathpointgrip_' + index,\n      display: 'none',\n      r: 4,\n      fill: '#0FF',\n      stroke: '#00F',\n      'stroke-width': 2,\n      cursor: 'move',\n      style: 'pointer-events:all'\n    };\n    if ('pathNodeTooltip' in uiStrings) { // May be empty if running path.js without svg-editor\n      atts['xlink:title'] = uiStrings.pathNodeTooltip;\n    }\n    assignAttributes(pointGrip, atts);\n    pointGrip = pointGripContainer.appendChild(pointGrip);\n\n    const grip = $('#pathpointgrip_' + index);\n    grip.dblclick(function () {\n      if (path) {\n        path.setSegType();\n      }\n    });\n  }\n  if (x && y) {\n    // set up the point grip element and display it\n    assignAttributes(pointGrip, {\n      cx: x,\n      cy: y,\n      display: 'inline'\n    });\n  }\n  return pointGrip;\n};\n\n/**\n* @function module:path.getGripContainer\n* @returns {Element}\n*/\nexport const getGripContainer = function () {\n  let c = getElem('pathpointgrip_container');\n  if (!c) {\n    const parentElement = getElem('selectorParentGroup');\n    c = parentElement.appendChild(document.createElementNS(NS.SVG, 'g'));\n    c.id = 'pathpointgrip_container';\n  }\n  return c;\n};\n\n/**\n* Requires prior call to `setUiStrings` if `xlink:title`\n*    to be set on the grip.\n* @function module:path.addCtrlGrip\n* @param {string} id\n* @returns {SVGCircleElement}\n*/\nexport const addCtrlGrip = function (id) {\n  let pointGrip = getElem('ctrlpointgrip_' + id);\n  if (pointGrip) { return pointGrip; }\n\n  pointGrip = document.createElementNS(NS.SVG, 'circle');\n  const atts = {\n    id: 'ctrlpointgrip_' + id,\n    display: 'none',\n    r: 4,\n    fill: '#0FF',\n    stroke: '#55F',\n    'stroke-width': 1,\n    cursor: 'move',\n    style: 'pointer-events:all'\n  };\n  if ('pathCtrlPtTooltip' in uiStrings) { // May be empty if running path.js without svg-editor\n    atts['xlink:title'] = uiStrings.pathCtrlPtTooltip;\n  }\n  assignAttributes(pointGrip, atts);\n  getGripContainer().append(pointGrip);\n  return pointGrip;\n};\n\n/**\n* @function module:path.getCtrlLine\n* @param {string} id\n* @returns {SVGLineElement}\n*/\nexport const getCtrlLine = function (id) {\n  let ctrlLine = getElem('ctrlLine_' + id);\n  if (ctrlLine) { return ctrlLine; }\n\n  ctrlLine = document.createElementNS(NS.SVG, 'line');\n  assignAttributes(ctrlLine, {\n    id: 'ctrlLine_' + id,\n    stroke: '#555',\n    'stroke-width': 1,\n    style: 'pointer-events:none'\n  });\n  getGripContainer().append(ctrlLine);\n  return ctrlLine;\n};\n\n/**\n* @function module:path.getPointGrip\n* @param {Segment} seg\n* @param {boolean} update\n* @returns {SVGCircleElement}\n*/\nexport const getPointGrip = function (seg, update) {\n  const {index} = seg;\n  const pointGrip = addPointGrip(index);\n\n  if (update) {\n    const pt = getGripPt(seg);\n    assignAttributes(pointGrip, {\n      cx: pt.x,\n      cy: pt.y,\n      display: 'inline'\n    });\n  }\n\n  return pointGrip;\n};\n\n/**\n* @function module:path.getControlPoints\n* @param {Segment} seg\n* @returns {PlainObject<string, SVGLineElement|SVGCircleElement>}\n*/\nexport const getControlPoints = function (seg) {\n  const {item, index} = seg;\n  if (!('x1' in item) || !('x2' in item)) { return null; }\n  const cpt = {};\n  /* const pointGripContainer = */ getGripContainer();\n\n  // Note that this is intentionally not seg.prev.item\n  const prev = path.segs[index - 1].item;\n\n  const segItems = [prev, item];\n\n  for (let i = 1; i < 3; i++) {\n    const id = index + 'c' + i;\n\n    const ctrlLine = cpt['c' + i + '_line'] = getCtrlLine(id);\n\n    const pt = getGripPt(seg, {x: item['x' + i], y: item['y' + i]});\n    const gpt = getGripPt(seg, {x: segItems[i - 1].x, y: segItems[i - 1].y});\n\n    assignAttributes(ctrlLine, {\n      x1: pt.x,\n      y1: pt.y,\n      x2: gpt.x,\n      y2: gpt.y,\n      display: 'inline'\n    });\n\n    cpt['c' + i + '_line'] = ctrlLine;\n\n    // create it\n    const pointGrip = cpt['c' + i] = addCtrlGrip(id);\n\n    assignAttributes(pointGrip, {\n      cx: pt.x,\n      cy: pt.y,\n      display: 'inline'\n    });\n    cpt['c' + i] = pointGrip;\n  }\n  return cpt;\n};\n\n/**\n* This replaces the segment at the given index. Type is given as number.\n* @function module:path.replacePathSeg\n* @param {Integer} type Possible values set during {@link module:path.init}\n* @param {Integer} index\n* @param {ArgumentsArray} pts\n* @param {SVGPathElement} elem\n* @returns {void}\n*/\nexport const replacePathSeg = function (type, index, pts, elem) {\n  const pth = elem || path.elem;\n\n  const func = 'createSVGPathSeg' + pathFuncs[type];\n  const seg = pth[func](...pts);\n\n  if (supportsPathReplaceItem()) {\n    pth.pathSegList.replaceItem(seg, index);\n  } else {\n    const segList = pth.pathSegList;\n    const len = segList.numberOfItems;\n    const arr = [];\n    for (let i = 0; i < len; i++) {\n      const curSeg = segList.getItem(i);\n      arr.push(curSeg);\n    }\n    segList.clear();\n    for (let i = 0; i < len; i++) {\n      if (i === index) {\n        segList.appendItem(seg);\n      } else {\n        segList.appendItem(arr[i]);\n      }\n    }\n  }\n};\n\n/**\n* @function module:path.getSegSelector\n* @param {Segment} seg\n* @param {boolean} update\n* @returns {SVGPathElement}\n*/\nexport const getSegSelector = function (seg, update) {\n  const {index} = seg;\n  let segLine = getElem('segline_' + index);\n  if (!segLine) {\n    const pointGripContainer = getGripContainer();\n    // create segline\n    segLine = document.createElementNS(NS.SVG, 'path');\n    assignAttributes(segLine, {\n      id: 'segline_' + index,\n      display: 'none',\n      fill: 'none',\n      stroke: '#0FF',\n      'stroke-width': 2,\n      style: 'pointer-events:none',\n      d: 'M0,0 0,0'\n    });\n    pointGripContainer.append(segLine);\n  }\n\n  if (update) {\n    const {prev} = seg;\n    if (!prev) {\n      segLine.setAttribute('display', 'none');\n      return segLine;\n    }\n\n    const pt = getGripPt(prev);\n    // Set start point\n    replacePathSeg(2, 0, [pt.x, pt.y], segLine);\n\n    const pts = ptObjToArr(seg.type, seg.item); // , true);\n    for (let i = 0; i < pts.length; i += 2) {\n      const point = getGripPt(seg, {x: pts[i], y: pts[i + 1]});\n      pts[i] = point.x;\n      pts[i + 1] = point.y;\n    }\n\n    replacePathSeg(seg.type, 1, pts, segLine);\n  }\n  return segLine;\n};\n\n/**\n * @typedef {PlainObject} Point\n * @property {Integer} x The x value\n * @property {Integer} y The y value\n */\n\n/**\n* Takes three points and creates a smoother line based on them.\n* @function module:path.smoothControlPoints\n* @param {Point} ct1 - Object with x and y values (first control point)\n* @param {Point} ct2 - Object with x and y values (second control point)\n* @param {Point} pt - Object with x and y values (third point)\n* @returns {Point[]} Array of two \"smoothed\" point objects\n*/\nexport const smoothControlPoints = function (ct1, ct2, pt) {\n  // each point must not be the origin\n  const x1 = ct1.x - pt.x,\n    y1 = ct1.y - pt.y,\n    x2 = ct2.x - pt.x,\n    y2 = ct2.y - pt.y;\n\n  if ((x1 !== 0 || y1 !== 0) && (x2 !== 0 || y2 !== 0)) {\n    const\n      r1 = Math.sqrt(x1 * x1 + y1 * y1),\n      r2 = Math.sqrt(x2 * x2 + y2 * y2),\n      nct1 = editorContext_.getSVGRoot().createSVGPoint(),\n      nct2 = editorContext_.getSVGRoot().createSVGPoint();\n    let anglea = Math.atan2(y1, x1),\n      angleb = Math.atan2(y2, x2);\n    if (anglea < 0) { anglea += 2 * Math.PI; }\n    if (angleb < 0) { angleb += 2 * Math.PI; }\n\n    const angleBetween = Math.abs(anglea - angleb),\n      angleDiff = Math.abs(Math.PI - angleBetween) / 2;\n\n    let newAnglea, newAngleb;\n    if (anglea - angleb > 0) {\n      newAnglea = angleBetween < Math.PI ? (anglea + angleDiff) : (anglea - angleDiff);\n      newAngleb = angleBetween < Math.PI ? (angleb - angleDiff) : (angleb + angleDiff);\n    } else {\n      newAnglea = angleBetween < Math.PI ? (anglea - angleDiff) : (anglea + angleDiff);\n      newAngleb = angleBetween < Math.PI ? (angleb + angleDiff) : (angleb - angleDiff);\n    }\n\n    // rotate the points\n    nct1.x = r1 * Math.cos(newAnglea) + pt.x;\n    nct1.y = r1 * Math.sin(newAnglea) + pt.y;\n    nct2.x = r2 * Math.cos(newAngleb) + pt.x;\n    nct2.y = r2 * Math.sin(newAngleb) + pt.y;\n\n    return [nct1, nct2];\n  }\n  return undefined;\n};\n\n/**\n*\n*/\nexport class Segment {\n  /**\n  * @param {Integer} index\n  * @param {SVGPathSeg} item\n  * @todo Is `item` be more constrained here?\n  */\n  constructor (index, item) {\n    this.selected = false;\n    this.index = index;\n    this.item = item;\n    this.type = item.pathSegType;\n\n    this.ctrlpts = [];\n    this.ptgrip = null;\n    this.segsel = null;\n  }\n\n  /**\n   * @param {boolean} y\n   * @returns {void}\n   */\n  showCtrlPts (y) {\n    for (const i in this.ctrlpts) {\n      if ({}.hasOwnProperty.call(this.ctrlpts, i)) {\n        this.ctrlpts[i].setAttribute('display', y ? 'inline' : 'none');\n      }\n    }\n  }\n\n  /**\n   * @param {boolean} y\n   * @returns {void}\n   */\n  selectCtrls (y) {\n    $('#ctrlpointgrip_' + this.index + 'c1, #ctrlpointgrip_' + this.index + 'c2')\n      .attr('fill', y ? '#0FF' : '#EEE');\n  }\n\n  /**\n   * @param {boolean} y\n   * @returns {void}\n   */\n  show (y) {\n    if (this.ptgrip) {\n      this.ptgrip.setAttribute('display', y ? 'inline' : 'none');\n      this.segsel.setAttribute('display', y ? 'inline' : 'none');\n      // Show/hide all control points if available\n      this.showCtrlPts(y);\n    }\n  }\n\n  /**\n   * @param {boolean} y\n   * @returns {void}\n   */\n  select (y) {\n    if (this.ptgrip) {\n      this.ptgrip.setAttribute('stroke', y ? '#0FF' : '#00F');\n      this.segsel.setAttribute('display', y ? 'inline' : 'none');\n      if (this.ctrlpts) {\n        this.selectCtrls(y);\n      }\n      this.selected = y;\n    }\n  }\n\n  /**\n   * @returns {void}\n   */\n  addGrip () {\n    this.ptgrip = getPointGrip(this, true);\n    this.ctrlpts = getControlPoints(this); // , true);\n    this.segsel = getSegSelector(this, true);\n  }\n\n  /**\n   * @param {boolean} full\n   * @returns {void}\n   */\n  update (full) {\n    if (this.ptgrip) {\n      const pt = getGripPt(this);\n      assignAttributes(this.ptgrip, {\n        cx: pt.x,\n        cy: pt.y\n      });\n\n      getSegSelector(this, true);\n\n      if (this.ctrlpts) {\n        if (full) {\n          this.item = path.elem.pathSegList.getItem(this.index);\n          this.type = this.item.pathSegType;\n        }\n        getControlPoints(this);\n      }\n      // this.segsel.setAttribute('display', y ? 'inline' : 'none');\n    }\n  }\n\n  /**\n   * @param {Integer} dx\n   * @param {Integer} dy\n   * @returns {void}\n   */\n  move (dx, dy) {\n    const {item} = this;\n\n    const curPts = this.ctrlpts\n      ? [\n        item.x += dx, item.y += dy,\n        item.x1, item.y1, item.x2 += dx, item.y2 += dy\n      ]\n      : [item.x += dx, item.y += dy];\n\n    replacePathSeg(\n      this.type,\n      this.index,\n      // type 10 means ARC\n      this.type === 10 ? ptObjToArr(this.type, item) : curPts\n    );\n\n    if (this.next && this.next.ctrlpts) {\n      const next = this.next.item;\n      const nextPts = [\n        next.x, next.y,\n        next.x1 += dx, next.y1 += dy, next.x2, next.y2\n      ];\n      replacePathSeg(this.next.type, this.next.index, nextPts);\n    }\n\n    if (this.mate) {\n      // The last point of a closed subpath has a 'mate',\n      // which is the 'M' segment of the subpath\n      const {item: itm} = this.mate;\n      const pts = [itm.x += dx, itm.y += dy];\n      replacePathSeg(this.mate.type, this.mate.index, pts);\n      // Has no grip, so does not need 'updating'?\n    }\n\n    this.update(true);\n    if (this.next) { this.next.update(true); }\n  }\n\n  /**\n   * @param {Integer} num\n   * @returns {void}\n   */\n  setLinked (num) {\n    let seg, anum, pt;\n    if (num === 2) {\n      anum = 1;\n      seg = this.next;\n      if (!seg) { return; }\n      pt = this.item;\n    } else {\n      anum = 2;\n      seg = this.prev;\n      if (!seg) { return; }\n      pt = seg.item;\n    }\n\n    const {item} = seg;\n    item['x' + anum] = pt.x + (pt.x - this.item['x' + num]);\n    item['y' + anum] = pt.y + (pt.y - this.item['y' + num]);\n\n    const pts = [\n      item.x, item.y,\n      item.x1, item.y1,\n      item.x2, item.y2\n    ];\n\n    replacePathSeg(seg.type, seg.index, pts);\n    seg.update(true);\n  }\n\n  /**\n   * @param {Integer} num\n   * @param {Integer} dx\n   * @param {Integer} dy\n   * @returns {void}\n   */\n  moveCtrl (num, dx, dy) {\n    const {item} = this;\n    item['x' + num] += dx;\n    item['y' + num] += dy;\n\n    const pts = [\n      item.x, item.y,\n      item.x1, item.y1, item.x2, item.y2\n    ];\n\n    replacePathSeg(this.type, this.index, pts);\n    this.update(true);\n  }\n\n  /**\n   * @param {Integer} newType Possible values set during {@link module:path.init}\n   * @param {ArgumentsArray} pts\n   * @returns {void}\n   */\n  setType (newType, pts) {\n    replacePathSeg(newType, this.index, pts);\n    this.type = newType;\n    this.item = path.elem.pathSegList.getItem(this.index);\n    this.showCtrlPts(newType === 6);\n    this.ctrlpts = getControlPoints(this);\n    this.update(true);\n  }\n}\n\n/**\n*\n*/\nexport class Path {\n  /**\n  * @param {SVGPathElement} elem\n  * @throws {Error} If constructed without a path element\n  */\n  constructor (elem) {\n    if (!elem || elem.tagName !== 'path') {\n      throw new Error('svgedit.path.Path constructed without a <path> element');\n    }\n\n    this.elem = elem;\n    this.segs = [];\n    this.selected_pts = [];\n    path = this;\n\n    this.init();\n  }\n\n  /**\n  * Reset path data.\n  * @returns {module:path.Path}\n  */\n  init () {\n    // Hide all grips, etc\n\n    // fixed, needed to work on all found elements, not just first\n    $(getGripContainer()).find('*').each(function () {\n      $(this).attr('display', 'none');\n    });\n\n    const segList = this.elem.pathSegList;\n    const len = segList.numberOfItems;\n    this.segs = [];\n    this.selected_pts = [];\n    this.first_seg = null;\n\n    // Set up segs array\n    for (let i = 0; i < len; i++) {\n      const item = segList.getItem(i);\n      const segment = new Segment(i, item);\n      segment.path = this;\n      this.segs.push(segment);\n    }\n\n    const {segs} = this;\n\n    let startI = null;\n    for (let i = 0; i < len; i++) {\n      const seg = segs[i];\n      const nextSeg = (i + 1) >= len ? null : segs[i + 1];\n      const prevSeg = (i - 1) < 0 ? null : segs[i - 1];\n      if (seg.type === 2) {\n        if (prevSeg && prevSeg.type !== 1) {\n          // New sub-path, last one is open,\n          // so add a grip to last sub-path's first point\n          const startSeg = segs[startI];\n          startSeg.next = segs[startI + 1];\n          startSeg.next.prev = startSeg;\n          startSeg.addGrip();\n        }\n        // Remember that this is a starter seg\n        startI = i;\n      } else if (nextSeg && nextSeg.type === 1) {\n        // This is the last real segment of a closed sub-path\n        // Next is first seg after \"M\"\n        seg.next = segs[startI + 1];\n\n        // First seg after \"M\"'s prev is this\n        seg.next.prev = seg;\n        seg.mate = segs[startI];\n        seg.addGrip();\n        if (isNullish(this.first_seg)) {\n          this.first_seg = seg;\n        }\n      } else if (!nextSeg) {\n        if (seg.type !== 1) {\n          // Last seg, doesn't close so add a grip\n          // to last sub-path's first point\n          const startSeg = segs[startI];\n          startSeg.next = segs[startI + 1];\n          startSeg.next.prev = startSeg;\n          startSeg.addGrip();\n          seg.addGrip();\n\n          if (!this.first_seg) {\n            // Open path, so set first as real first and add grip\n            this.first_seg = segs[startI];\n          }\n        }\n      } else if (seg.type !== 1) {\n        // Regular segment, so add grip and its \"next\"\n        seg.addGrip();\n\n        // Don't set its \"next\" if it's an \"M\"\n        if (nextSeg && nextSeg.type !== 2) {\n          seg.next = nextSeg;\n          seg.next.prev = seg;\n        }\n      }\n    }\n    return this;\n  }\n\n  /**\n  * @callback module:path.PathEachSegCallback\n  * @this module:path.Segment\n  * @param {Integer} i The index of the seg being iterated\n  * @returns {boolean|void} Will stop execution of `eachSeg` if returns `false`\n  */\n  /**\n  * @param {module:path.PathEachSegCallback} fn\n  * @returns {void}\n  */\n  eachSeg (fn) {\n    const len = this.segs.length;\n    for (let i = 0; i < len; i++) {\n      const ret = fn.call(this.segs[i], i);\n      if (ret === false) { break; }\n    }\n  }\n\n  /**\n  * @param {Integer} index\n  * @returns {void}\n  */\n  addSeg (index) {\n    // Adds a new segment\n    const seg = this.segs[index];\n    if (!seg.prev) { return; }\n\n    const {prev} = seg;\n    let newseg, newX, newY;\n    switch (seg.item.pathSegType) {\n    case 4: {\n      newX = (seg.item.x + prev.item.x) / 2;\n      newY = (seg.item.y + prev.item.y) / 2;\n      newseg = this.elem.createSVGPathSegLinetoAbs(newX, newY);\n      break;\n    } case 6: { // make it a curved segment to preserve the shape (WRS)\n      // https://en.wikipedia.org/wiki/De_Casteljau%27s_algorithm#Geometric_interpretation\n      const p0x = (prev.item.x + seg.item.x1) / 2;\n      const p1x = (seg.item.x1 + seg.item.x2) / 2;\n      const p2x = (seg.item.x2 + seg.item.x) / 2;\n      const p01x = (p0x + p1x) / 2;\n      const p12x = (p1x + p2x) / 2;\n      newX = (p01x + p12x) / 2;\n      const p0y = (prev.item.y + seg.item.y1) / 2;\n      const p1y = (seg.item.y1 + seg.item.y2) / 2;\n      const p2y = (seg.item.y2 + seg.item.y) / 2;\n      const p01y = (p0y + p1y) / 2;\n      const p12y = (p1y + p2y) / 2;\n      newY = (p01y + p12y) / 2;\n      newseg = this.elem.createSVGPathSegCurvetoCubicAbs(newX, newY, p0x, p0y, p01x, p01y);\n      const pts = [seg.item.x, seg.item.y, p12x, p12y, p2x, p2y];\n      replacePathSeg(seg.type, index, pts);\n      break;\n    }\n    }\n\n    insertItemBefore(this.elem, newseg, index);\n  }\n\n  /**\n  * @param {Integer} index\n  * @returns {void}\n  */\n  deleteSeg (index) {\n    const seg = this.segs[index];\n    const list = this.elem.pathSegList;\n\n    seg.show(false);\n    const {next} = seg;\n    if (seg.mate) {\n      // Make the next point be the \"M\" point\n      const pt = [next.item.x, next.item.y];\n      replacePathSeg(2, next.index, pt);\n\n      // Reposition last node\n      replacePathSeg(4, seg.index, pt);\n\n      list.removeItem(seg.mate.index);\n    } else if (!seg.prev) {\n      // First node of open path, make next point the M\n      // const {item} = seg;\n      const pt = [next.item.x, next.item.y];\n      replacePathSeg(2, seg.next.index, pt);\n      list.removeItem(index);\n    } else {\n      list.removeItem(index);\n    }\n  }\n\n  /**\n  * @param {Integer} index\n  * @returns {void}\n  */\n  removePtFromSelection (index) {\n    const pos = this.selected_pts.indexOf(index);\n    if (pos === -1) {\n      return;\n    }\n    this.segs[index].select(false);\n    this.selected_pts.splice(pos, 1);\n  }\n\n  /**\n  * @returns {void}\n  */\n  clearSelection () {\n    this.eachSeg(function () {\n      // 'this' is the segment here\n      this.select(false);\n    });\n    this.selected_pts = [];\n  }\n\n  /**\n  * @returns {void}\n  */\n  storeD () {\n    this.last_d = this.elem.getAttribute('d');\n  }\n\n  /**\n  * @param {Integer} y\n  * @returns {Path}\n  */\n  show (y) {\n    // Shows this path's segment grips\n    this.eachSeg(function () {\n      // 'this' is the segment here\n      this.show(y);\n    });\n    if (y) {\n      this.selectPt(this.first_seg.index);\n    }\n    return this;\n  }\n\n  /**\n  * Move selected points.\n  * @param {Integer} dx\n  * @param {Integer} dy\n  * @returns {void}\n  */\n  movePts (dx, dy) {\n    let i = this.selected_pts.length;\n    while (i--) {\n      const seg = this.segs[this.selected_pts[i]];\n      seg.move(dx, dy);\n    }\n  }\n\n  /**\n  * @param {Integer} dx\n  * @param {Integer} dy\n  * @returns {void}\n  */\n  moveCtrl (dx, dy) {\n    const seg = this.segs[this.selected_pts[0]];\n    seg.moveCtrl(this.dragctrl, dx, dy);\n    if (linkControlPts) {\n      seg.setLinked(this.dragctrl);\n    }\n  }\n\n  /**\n  * @param {?Integer} newType See {@link https://www.w3.org/TR/SVG/single-page.html#paths-InterfaceSVGPathSeg}\n  * @returns {void}\n  */\n  setSegType (newType) {\n    this.storeD();\n    let i = this.selected_pts.length;\n    let text;\n    while (i--) {\n      const selPt = this.selected_pts[i];\n\n      // Selected seg\n      const cur = this.segs[selPt];\n      const {prev} = cur;\n      if (!prev) { continue; }\n\n      if (!newType) { // double-click, so just toggle\n        text = 'Toggle Path Segment Type';\n\n        // Toggle segment to curve/straight line\n        const oldType = cur.type;\n\n        newType = (oldType === 6) ? 4 : 6;\n      }\n\n      newType = Number(newType);\n\n      const curX = cur.item.x;\n      const curY = cur.item.y;\n      const prevX = prev.item.x;\n      const prevY = prev.item.y;\n      let points;\n      switch (newType) {\n      case 6: {\n        if (cur.olditem) {\n          const old = cur.olditem;\n          points = [curX, curY, old.x1, old.y1, old.x2, old.y2];\n        } else {\n          const diffX = curX - prevX;\n          const diffY = curY - prevY;\n          // get control points from straight line segment\n          /*\n          const ct1x = (prevX + (diffY/2));\n          const ct1y = (prevY - (diffX/2));\n          const ct2x = (curX + (diffY/2));\n          const ct2y = (curY - (diffX/2));\n          */\n          // create control points on the line to preserve the shape (WRS)\n          const ct1x = (prevX + (diffX / 3));\n          const ct1y = (prevY + (diffY / 3));\n          const ct2x = (curX - (diffX / 3));\n          const ct2y = (curY - (diffY / 3));\n          points = [curX, curY, ct1x, ct1y, ct2x, ct2y];\n        }\n        break;\n      } case 4: {\n        points = [curX, curY];\n\n        // Store original prevve segment nums\n        cur.olditem = cur.item;\n        break;\n      }\n      }\n\n      cur.setType(newType, points);\n    }\n    path.endChanges(text);\n  }\n\n  /**\n  * @param {Integer} pt\n  * @param {Integer} ctrlNum\n  * @returns {void}\n  */\n  selectPt (pt, ctrlNum) {\n    this.clearSelection();\n    if (isNullish(pt)) {\n      this.eachSeg(function (i) {\n        // 'this' is the segment here.\n        if (this.prev) {\n          pt = i;\n        }\n      });\n    }\n    this.addPtsToSelection(pt);\n    if (ctrlNum) {\n      this.dragctrl = ctrlNum;\n\n      if (linkControlPts) {\n        this.segs[pt].setLinked(ctrlNum);\n      }\n    }\n  }\n\n  /**\n  * Update position of all points.\n  * @returns {Path}\n  */\n  update () {\n    const {elem} = this;\n    if (getRotationAngle(elem)) {\n      this.matrix = getMatrix(elem);\n      this.imatrix = this.matrix.inverse();\n    } else {\n      this.matrix = null;\n      this.imatrix = null;\n    }\n\n    this.eachSeg(function (i) {\n      this.item = elem.pathSegList.getItem(i);\n      this.update();\n    });\n\n    return this;\n  }\n\n  /**\n  * @param {string} text\n  * @returns {void}\n  */\n  endChanges (text) {\n    if (isWebkit()) { editorContext_.resetD(this.elem); }\n    const cmd = new ChangeElementCommand(this.elem, {d: this.last_d}, text);\n    editorContext_.endChanges({cmd, elem: this.elem});\n  }\n\n  /**\n  * @param {Integer|Integer[]} indexes\n  * @returns {void}\n  */\n  addPtsToSelection (indexes) {\n    if (!Array.isArray(indexes)) { indexes = [indexes]; }\n    indexes.forEach((index) => {\n      const seg = this.segs[index];\n      if (seg.ptgrip) {\n        if (!this.selected_pts.includes(index) && index >= 0) {\n          this.selected_pts.push(index);\n        }\n      }\n    });\n    this.selected_pts.sort();\n    let i = this.selected_pts.length;\n    const grips = [];\n    grips.length = i;\n    // Loop through points to be selected and highlight each\n    while (i--) {\n      const pt = this.selected_pts[i];\n      const seg = this.segs[pt];\n      seg.select(true);\n      grips[i] = seg.ptgrip;\n    }\n\n    const closedSubpath = Path.subpathIsClosed(this.selected_pts[0]);\n    editorContext_.addPtsToSelection({grips, closedSubpath});\n  }\n\n  // STATIC\n  /**\n  * @param {Integer} index\n  * @returns {boolean}\n  */\n  static subpathIsClosed (index) {\n    let clsd = false;\n    // Check if subpath is already open\n    path.eachSeg(function (i) {\n      if (i <= index) { return true; }\n      if (this.type === 2) {\n        // Found M first, so open\n        return false;\n      }\n      if (this.type === 1) {\n        // Found Z first, so closed\n        clsd = true;\n        return false;\n      }\n      return true;\n    });\n\n    return clsd;\n  }\n}\n\n/**\n* @function module:path.getPath_\n* @param {SVGPathElement} elem\n* @returns {module:path.Path}\n*/\nexport const getPath_ = function (elem) {\n  let p = pathData[elem.id];\n  if (!p) {\n    p = pathData[elem.id] = new Path(elem);\n  }\n  return p;\n};\n\n/**\n* @function module:path.removePath_\n* @param {string} id\n* @returns {void}\n*/\nexport const removePath_ = function (id) {\n  if (id in pathData) { delete pathData[id]; }\n};\n\nlet newcx, newcy, oldcx, oldcy, angle;\n\nconst getRotVals = function (x, y) {\n  let dx = x - oldcx;\n  let dy = y - oldcy;\n\n  // rotate the point around the old center\n  let r = Math.sqrt(dx * dx + dy * dy);\n  let theta = Math.atan2(dy, dx) + angle;\n  dx = r * Math.cos(theta) + oldcx;\n  dy = r * Math.sin(theta) + oldcy;\n\n  // dx,dy should now hold the actual coordinates of each\n  // point after being rotated\n\n  // now we want to rotate them around the new center in the reverse direction\n  dx -= newcx;\n  dy -= newcy;\n\n  r = Math.sqrt(dx * dx + dy * dy);\n  theta = Math.atan2(dy, dx) - angle;\n\n  return {x: r * Math.cos(theta) + newcx,\n    y: r * Math.sin(theta) + newcy};\n};\n\n// If the path was rotated, we must now pay the piper:\n// Every path point must be rotated into the rotated coordinate system of\n// its old center, then determine the new center, then rotate it back\n// This is because we want the path to remember its rotation\n\n/**\n* @function module:path.recalcRotatedPath\n* @todo This is still using ye olde transform methods, can probably\n* be optimized or even taken care of by `recalculateDimensions`\n* @returns {void}\n*/\nexport const recalcRotatedPath = function () {\n  const currentPath = path.elem;\n  angle = getRotationAngle(currentPath, true);\n  if (!angle) { return; }\n  // selectedBBoxes[0] = path.oldbbox;\n  const oldbox = path.oldbbox; // selectedBBoxes[0],\n  oldcx = oldbox.x + oldbox.width / 2;\n  oldcy = oldbox.y + oldbox.height / 2;\n  const box = getBBox(currentPath);\n  newcx = box.x + box.width / 2;\n  newcy = box.y + box.height / 2;\n\n  // un-rotate the new center to the proper position\n  const dx = newcx - oldcx,\n    dy = newcy - oldcy,\n    r = Math.sqrt(dx * dx + dy * dy),\n    theta = Math.atan2(dy, dx) + angle;\n\n  newcx = r * Math.cos(theta) + oldcx;\n  newcy = r * Math.sin(theta) + oldcy;\n\n  const list = currentPath.pathSegList;\n\n  let i = list.numberOfItems;\n  while (i) {\n    i -= 1;\n    const seg = list.getItem(i),\n      type = seg.pathSegType;\n    if (type === 1) { continue; }\n\n    const rvals = getRotVals(seg.x, seg.y),\n      points = [rvals.x, rvals.y];\n    if (!isNullish(seg.x1) && !isNullish(seg.x2)) {\n      const cVals1 = getRotVals(seg.x1, seg.y1);\n      const cVals2 = getRotVals(seg.x2, seg.y2);\n      points.splice(points.length, 0, cVals1.x, cVals1.y, cVals2.x, cVals2.y);\n    }\n    replacePathSeg(type, i, points);\n  } // loop for each point\n\n  /* box = */ getBBox(currentPath);\n  // selectedBBoxes[0].x = box.x; selectedBBoxes[0].y = box.y;\n  // selectedBBoxes[0].width = box.width; selectedBBoxes[0].height = box.height;\n\n  // now we must set the new transform to be rotated around the new center\n  const Rnc = editorContext_.getSVGRoot().createSVGTransform(),\n    tlist = getTransformList(currentPath);\n  Rnc.setRotate((angle * 180.0 / Math.PI), newcx, newcy);\n  tlist.replaceItem(Rnc, 0);\n};\n\n// ====================================\n// Public API starts here\n\n/**\n* @function module:path.clearData\n* @returns {void}\n*/\nexport const clearData = function () {\n  pathData = {};\n};\n\n// Making public for mocking\n/**\n* @function module:path.reorientGrads\n* @param {Element} elem\n* @param {SVGMatrix} m\n* @returns {void}\n*/\nexport const reorientGrads = function (elem, m) {\n  const bb = utilsGetBBox(elem);\n  for (let i = 0; i < 2; i++) {\n    const type = i === 0 ? 'fill' : 'stroke';\n    const attrVal = elem.getAttribute(type);\n    if (attrVal && attrVal.startsWith('url(')) {\n      const grad = getRefElem(attrVal);\n      if (grad.tagName === 'linearGradient') {\n        let x1 = grad.getAttribute('x1') || 0;\n        let y1 = grad.getAttribute('y1') || 0;\n        let x2 = grad.getAttribute('x2') || 1;\n        let y2 = grad.getAttribute('y2') || 0;\n\n        // Convert to USOU points\n        x1 = (bb.width * x1) + bb.x;\n        y1 = (bb.height * y1) + bb.y;\n        x2 = (bb.width * x2) + bb.x;\n        y2 = (bb.height * y2) + bb.y;\n\n        // Transform those points\n        const pt1 = transformPoint(x1, y1, m);\n        const pt2 = transformPoint(x2, y2, m);\n\n        // Convert back to BB points\n        const gCoords = {\n          x1: (pt1.x - bb.x) / bb.width,\n          y1: (pt1.y - bb.y) / bb.height,\n          x2: (pt2.x - bb.x) / bb.width,\n          y2: (pt2.y - bb.y) / bb.height\n        };\n\n        const newgrad = grad.cloneNode(true);\n        $(newgrad).attr(gCoords);\n\n        newgrad.id = editorContext_.getNextId();\n        findDefs().append(newgrad);\n        elem.setAttribute(type, 'url(#' + newgrad.id + ')');\n      }\n    }\n  }\n};\n\n/**\n* This is how we map paths to our preferred relative segment types.\n* @name module:path.pathMap\n* @type {GenericArray}\n*/\nconst pathMap = [\n  0, 'z', 'M', 'm', 'L', 'l', 'C', 'c', 'Q', 'q', 'A', 'a',\n  'H', 'h', 'V', 'v', 'S', 's', 'T', 't'\n];\n\n/**\n * Convert a path to one with only absolute or relative values.\n * @todo move to pathActions.js\n * @function module:path.convertPath\n * @param {SVGPathElement} pth - the path to convert\n * @param {boolean} toRel - true of convert to relative\n * @returns {string}\n */\nexport const convertPath = function (pth, toRel) {\n  const {pathSegList} = pth;\n  const len = pathSegList.numberOfItems;\n  let curx = 0, cury = 0;\n  let d = '';\n  let lastM = null;\n\n  for (let i = 0; i < len; ++i) {\n    const seg = pathSegList.getItem(i);\n    // if these properties are not in the segment, set them to zero\n    let x = seg.x || 0,\n      y = seg.y || 0,\n      x1 = seg.x1 || 0,\n      y1 = seg.y1 || 0,\n      x2 = seg.x2 || 0,\n      y2 = seg.y2 || 0;\n\n    const type = seg.pathSegType;\n    let letter = pathMap[type][toRel ? 'toLowerCase' : 'toUpperCase']();\n\n    switch (type) {\n    case 1: // z,Z closepath (Z/z)\n      d += 'z';\n      if (lastM && !toRel) {\n        curx = lastM[0];\n        cury = lastM[1];\n      }\n      break;\n    case 12: // absolute horizontal line (H)\n      x -= curx;\n      // Fallthrough\n    case 13: // relative horizontal line (h)\n      if (toRel) {\n        y = 0;\n        curx += x;\n        letter = 'l';\n      } else {\n        y = cury;\n        x += curx;\n        curx = x;\n        letter = 'L';\n      }\n      // Convert to \"line\" for easier editing\n      d += pathDSegment(letter, [[x, y]]);\n      break;\n    case 14: // absolute vertical line (V)\n      y -= cury;\n      // Fallthrough\n    case 15: // relative vertical line (v)\n      if (toRel) {\n        x = 0;\n        cury += y;\n        letter = 'l';\n      } else {\n        x = curx;\n        y += cury;\n        cury = y;\n        letter = 'L';\n      }\n      // Convert to \"line\" for easier editing\n      d += pathDSegment(letter, [[x, y]]);\n      break;\n    case 2: // absolute move (M)\n    case 4: // absolute line (L)\n    case 18: // absolute smooth quad (T)\n      x -= curx;\n      y -= cury;\n      // Fallthrough\n    case 5: // relative line (l)\n    case 3: // relative move (m)\n    case 19: // relative smooth quad (t)\n      if (toRel) {\n        curx += x;\n        cury += y;\n      } else {\n        x += curx;\n        y += cury;\n        curx = x;\n        cury = y;\n      }\n      if (type === 2 || type === 3) { lastM = [curx, cury]; }\n\n      d += pathDSegment(letter, [[x, y]]);\n      break;\n    case 6: // absolute cubic (C)\n      x -= curx; x1 -= curx; x2 -= curx;\n      y -= cury; y1 -= cury; y2 -= cury;\n      // Fallthrough\n    case 7: // relative cubic (c)\n      if (toRel) {\n        curx += x;\n        cury += y;\n      } else {\n        x += curx; x1 += curx; x2 += curx;\n        y += cury; y1 += cury; y2 += cury;\n        curx = x;\n        cury = y;\n      }\n      d += pathDSegment(letter, [[x1, y1], [x2, y2], [x, y]]);\n      break;\n    case 8: // absolute quad (Q)\n      x -= curx; x1 -= curx;\n      y -= cury; y1 -= cury;\n      // Fallthrough\n    case 9: // relative quad (q)\n      if (toRel) {\n        curx += x;\n        cury += y;\n      } else {\n        x += curx; x1 += curx;\n        y += cury; y1 += cury;\n        curx = x;\n        cury = y;\n      }\n      d += pathDSegment(letter, [[x1, y1], [x, y]]);\n      break;\n    // eslint-disable-next-line sonarjs/no-duplicated-branches\n    case 10: // absolute elliptical arc (A)\n      x -= curx;\n      y -= cury;\n      // Fallthrough\n    case 11: // relative elliptical arc (a)\n      if (toRel) {\n        curx += x;\n        cury += y;\n      } else {\n        x += curx;\n        y += cury;\n        curx = x;\n        cury = y;\n      }\n      d += pathDSegment(letter, [[seg.r1, seg.r2]], [\n        seg.angle,\n        (seg.largeArcFlag ? 1 : 0),\n        (seg.sweepFlag ? 1 : 0)\n      ], [x, y]);\n      break;\n    case 16: // absolute smooth cubic (S)\n      x -= curx; x2 -= curx;\n      y -= cury; y2 -= cury;\n      // Fallthrough\n    case 17: // relative smooth cubic (s)\n      if (toRel) {\n        curx += x;\n        cury += y;\n      } else {\n        x += curx; x2 += curx;\n        y += cury; y2 += cury;\n        curx = x;\n        cury = y;\n      }\n      d += pathDSegment(letter, [[x2, y2], [x, y]]);\n      break;\n    } // switch on path segment type\n  } // for each segment\n  return d;\n};\n\n/**\n * TODO: refactor callers in `convertPath` to use `getPathDFromSegments` instead of this function.\n * Legacy code refactored from `svgcanvas.pathActions.convertPath`.\n * @param {string} letter - path segment command (letter in potentially either case from {@link module:path.pathMap}; see [SVGPathSeg#pathSegTypeAsLetter]{@link https://www.w3.org/TR/SVG/single-page.html#paths-__svg__SVGPathSeg__pathSegTypeAsLetter})\n * @param {GenericArray<GenericArray<Integer>>} points - x,y points\n * @param {GenericArray<GenericArray<Integer>>} [morePoints] - x,y points\n * @param {Integer[]} [lastPoint] - x,y point\n * @returns {string}\n */\nfunction pathDSegment (letter, points, morePoints, lastPoint) {\n  $.each(points, function (i, pnt) {\n    points[i] = shortFloat(pnt);\n  });\n  let segment = letter + points.join(' ');\n  if (morePoints) {\n    segment += ' ' + morePoints.join(' ');\n  }\n  if (lastPoint) {\n    segment += ' ' + shortFloat(lastPoint);\n  }\n  return segment;\n}\n\n/* eslint-disable jsdoc/require-property */\n/**\n* Group: Path edit functions.\n* Functions relating to editing path elements.\n* @namespace {PlainObject} pathActions\n* @memberof module:path\n*/\nexport const pathActions = (function () {\n  /* eslint-enable jsdoc/require-property */\n  let subpath = false;\n  let newPoint, firstCtrl;\n\n  let currentPath = null;\n  let hasMoved = false;\n  // No `editorContext_` yet but should be ok as is `null` by default\n  // editorContext_.setDrawnPath(null);\n\n  /**\n  * This function converts a polyline (created by the fh_path tool) into\n  * a path element and coverts every three line segments into a single bezier\n  * curve in an attempt to smooth out the free-hand.\n  * @function smoothPolylineIntoPath\n  * @param {Element} element\n  * @returns {Element}\n  */\n  const smoothPolylineIntoPath = function (element) {\n    let i;\n    const {points} = element;\n    const N = points.numberOfItems;\n    if (N >= 4) {\n      // loop through every 3 points and convert to a cubic bezier curve segment\n      //\n      // NOTE: this is cheating, it means that every 3 points has the potential to\n      // be a corner instead of treating each point in an equal manner. In general,\n      // this technique does not look that good.\n      //\n      // I am open to better ideas!\n      //\n      // Reading:\n      // - http://www.efg2.com/Lab/Graphics/Jean-YvesQueinecBezierCurves.htm\n      // - https://www.codeproject.com/KB/graphics/BezierSpline.aspx?msg=2956963\n      // - https://www.ian-ko.com/ET_GeoWizards/UserGuide/smooth.htm\n      // - https://www.cs.mtu.edu/~shene/COURSES/cs3621/NOTES/spline/Bezier/bezier-der.html\n      let curpos = points.getItem(0), prevCtlPt = null;\n      let d = [];\n      d.push(['M', curpos.x, ',', curpos.y, ' C'].join(''));\n      for (i = 1; i <= (N - 4); i += 3) {\n        let ct1 = points.getItem(i);\n        const ct2 = points.getItem(i + 1);\n        const end = points.getItem(i + 2);\n\n        // if the previous segment had a control point, we want to smooth out\n        // the control points on both sides\n        if (prevCtlPt) {\n          const newpts = smoothControlPoints(prevCtlPt, ct1, curpos);\n          if (newpts && newpts.length === 2) {\n            const prevArr = d[d.length - 1].split(',');\n            prevArr[2] = newpts[0].x;\n            prevArr[3] = newpts[0].y;\n            d[d.length - 1] = prevArr.join(',');\n            ct1 = newpts[1];\n          }\n        }\n\n        d.push([ct1.x, ct1.y, ct2.x, ct2.y, end.x, end.y].join(','));\n\n        curpos = end;\n        prevCtlPt = ct2;\n      }\n      // handle remaining line segments\n      d.push('L');\n      while (i < N) {\n        const pt = points.getItem(i);\n        d.push([pt.x, pt.y].join(','));\n        i++;\n      }\n      d = d.join(' ');\n\n      // create new path element\n      element = editorContext_.addSVGElementFromJson({\n        element: 'path',\n        curStyles: true,\n        attr: {\n          id: editorContext_.getId(),\n          d,\n          fill: 'none'\n        }\n      });\n      // No need to call \"changed\", as this is already done under mouseUp\n    }\n    return element;\n  };\n\n  return (/** @lends module:path.pathActions */ {\n    /**\n    * @param {MouseEvent} evt\n    * @param {Element} mouseTarget\n    * @param {Float} startX\n    * @param {Float} startY\n    * @returns {boolean|void}\n    */\n    mouseDown (evt, mouseTarget, startX, startY) {\n      let id;\n      if (editorContext_.getCurrentMode() === 'path') {\n        let mouseX = startX; // Was this meant to work with the other `mouseX`? (was defined globally so adding `let` to at least avoid a global)\n        let mouseY = startY; // Was this meant to work with the other `mouseY`? (was defined globally so adding `let` to at least avoid a global)\n\n        const currentZoom = editorContext_.getCurrentZoom();\n        let x = mouseX / currentZoom,\n          y = mouseY / currentZoom,\n          stretchy = getElem('path_stretch_line');\n        newPoint = [x, y];\n\n        if (editorContext_.getGridSnapping()) {\n          x = snapToGrid(x);\n          y = snapToGrid(y);\n          mouseX = snapToGrid(mouseX);\n          mouseY = snapToGrid(mouseY);\n        }\n\n        if (!stretchy) {\n          stretchy = document.createElementNS(NS.SVG, 'path');\n          assignAttributes(stretchy, {\n            id: 'path_stretch_line',\n            stroke: '#22C',\n            'stroke-width': '0.5',\n            fill: 'none'\n          });\n          stretchy = getElem('selectorParentGroup').appendChild(stretchy);\n        }\n        stretchy.setAttribute('display', 'inline');\n\n        let keep = null;\n        let index;\n        // if pts array is empty, create path element with M at current point\n        const drawnPath = editorContext_.getDrawnPath();\n        if (!drawnPath) {\n          const dAttr = 'M' + x + ',' + y + ' '; // Was this meant to work with the other `dAttr`? (was defined globally so adding `var` to at least avoid a global)\n          /* drawnPath = */ editorContext_.setDrawnPath(editorContext_.addSVGElementFromJson({\n            element: 'path',\n            curStyles: true,\n            attr: {\n              d: dAttr,\n              id: editorContext_.getNextId(),\n              opacity: editorContext_.getOpacity() / 2\n            }\n          }));\n          // set stretchy line to first point\n          stretchy.setAttribute('d', ['M', mouseX, mouseY, mouseX, mouseY].join(' '));\n          index = subpath ? path.segs.length : 0;\n          addPointGrip(index, mouseX, mouseY);\n        } else {\n          // determine if we clicked on an existing point\n          const seglist = drawnPath.pathSegList;\n          let i = seglist.numberOfItems;\n          const FUZZ = 6 / currentZoom;\n          let clickOnPoint = false;\n          while (i) {\n            i--;\n            const item = seglist.getItem(i);\n            const px = item.x, py = item.y;\n            // found a matching point\n            if (x >= (px - FUZZ) && x <= (px + FUZZ) &&\n              y >= (py - FUZZ) && y <= (py + FUZZ)\n            ) {\n              clickOnPoint = true;\n              break;\n            }\n          }\n\n          // get path element that we are in the process of creating\n          id = editorContext_.getId();\n\n          // Remove previous path object if previously created\n          removePath_(id);\n\n          const newpath = getElem(id);\n          let newseg;\n          let sSeg;\n          const len = seglist.numberOfItems;\n          // if we clicked on an existing point, then we are done this path, commit it\n          // (i, i+1) are the x,y that were clicked on\n          if (clickOnPoint) {\n            // if clicked on any other point but the first OR\n            // the first point was clicked on and there are less than 3 points\n            // then leave the path open\n            // otherwise, close the path\n            if (i <= 1 && len >= 2) {\n              // Create end segment\n              const absX = seglist.getItem(0).x;\n              const absY = seglist.getItem(0).y;\n\n              sSeg = stretchy.pathSegList.getItem(1);\n              if (sSeg.pathSegType === 4) {\n                newseg = drawnPath.createSVGPathSegLinetoAbs(absX, absY);\n              } else {\n                newseg = drawnPath.createSVGPathSegCurvetoCubicAbs(\n                  absX,\n                  absY,\n                  sSeg.x1 / currentZoom,\n                  sSeg.y1 / currentZoom,\n                  absX,\n                  absY\n                );\n              }\n\n              const endseg = drawnPath.createSVGPathSegClosePath();\n              seglist.appendItem(newseg);\n              seglist.appendItem(endseg);\n            } else if (len < 3) {\n              keep = false;\n              return keep;\n            }\n            $(stretchy).remove();\n\n            // This will signal to commit the path\n            // const element = newpath; // Other event handlers define own `element`, so this was probably not meant to interact with them or one which shares state (as there were none); I therefore adding a missing `var` to avoid a global\n            /* drawnPath = */ editorContext_.setDrawnPath(null);\n            editorContext_.setStarted(false);\n\n            if (subpath) {\n              if (path.matrix) {\n                editorContext_.remapElement(newpath, {}, path.matrix.inverse());\n              }\n\n              const newD = newpath.getAttribute('d');\n              const origD = $(path.elem).attr('d');\n              $(path.elem).attr('d', origD + newD);\n              $(newpath).remove();\n              if (path.matrix) {\n                recalcRotatedPath();\n              }\n              init();\n              pathActions.toEditMode(path.elem);\n              path.selectPt();\n              return false;\n            }\n          // else, create a new point, update path element\n          } else {\n            // Checks if current target or parents are #svgcontent\n            if (!$.contains(\n              editorContext_.getContainer(),\n              editorContext_.getMouseTarget(evt)\n            )) {\n              // Clicked outside canvas, so don't make point\n              // console.log('Clicked outside canvas');\n              return false;\n            }\n\n            const num = drawnPath.pathSegList.numberOfItems;\n            const last = drawnPath.pathSegList.getItem(num - 1);\n            const lastx = last.x, lasty = last.y;\n\n            if (evt.shiftKey) {\n              const xya = snapToAngle(lastx, lasty, x, y);\n              ({x, y} = xya);\n            }\n\n            // Use the segment defined by stretchy\n            sSeg = stretchy.pathSegList.getItem(1);\n            if (sSeg.pathSegType === 4) {\n              newseg = drawnPath.createSVGPathSegLinetoAbs(\n                editorContext_.round(x),\n                editorContext_.round(y)\n              );\n            } else {\n              newseg = drawnPath.createSVGPathSegCurvetoCubicAbs(\n                editorContext_.round(x),\n                editorContext_.round(y),\n                sSeg.x1 / currentZoom,\n                sSeg.y1 / currentZoom,\n                sSeg.x2 / currentZoom,\n                sSeg.y2 / currentZoom\n              );\n            }\n\n            drawnPath.pathSegList.appendItem(newseg);\n\n            x *= currentZoom;\n            y *= currentZoom;\n\n            // set stretchy line to latest point\n            stretchy.setAttribute('d', ['M', x, y, x, y].join(' '));\n            index = num;\n            if (subpath) { index += path.segs.length; }\n            addPointGrip(index, x, y);\n          }\n          // keep = true;\n        }\n\n        return undefined;\n      }\n\n      // TODO: Make sure currentPath isn't null at this point\n      if (!path) { return undefined; }\n\n      path.storeD();\n\n      ({id} = evt.target);\n      let curPt;\n      if (id.substr(0, 14) === 'pathpointgrip_') {\n        // Select this point\n        curPt = path.cur_pt = Number.parseInt(id.substr(14));\n        path.dragging = [startX, startY];\n        const seg = path.segs[curPt];\n\n        // only clear selection if shift is not pressed (otherwise, add\n        // node to selection)\n        if (!evt.shiftKey) {\n          if (path.selected_pts.length <= 1 || !seg.selected) {\n            path.clearSelection();\n          }\n          path.addPtsToSelection(curPt);\n        } else if (seg.selected) {\n          path.removePtFromSelection(curPt);\n        } else {\n          path.addPtsToSelection(curPt);\n        }\n      } else if (id.startsWith('ctrlpointgrip_')) {\n        path.dragging = [startX, startY];\n\n        const parts = id.split('_')[1].split('c');\n        curPt = Number(parts[0]);\n        const ctrlNum = Number(parts[1]);\n        path.selectPt(curPt, ctrlNum);\n      }\n\n      // Start selection box\n      if (!path.dragging) {\n        let rubberBox = editorContext_.getRubberBox();\n        if (isNullish(rubberBox)) {\n          rubberBox = editorContext_.setRubberBox(\n            editorContext_.selectorManager.getRubberBandBox()\n          );\n        }\n        const currentZoom = editorContext_.getCurrentZoom();\n        assignAttributes(rubberBox, {\n          x: startX * currentZoom,\n          y: startY * currentZoom,\n          width: 0,\n          height: 0,\n          display: 'inline'\n        }, 100);\n      }\n      return undefined;\n    },\n    /**\n    * @param {Float} mouseX\n    * @param {Float} mouseY\n    * @returns {void}\n    */\n    mouseMove (mouseX, mouseY) {\n      const currentZoom = editorContext_.getCurrentZoom();\n      hasMoved = true;\n      const drawnPath = editorContext_.getDrawnPath();\n      if (editorContext_.getCurrentMode() === 'path') {\n        if (!drawnPath) { return; }\n        const seglist = drawnPath.pathSegList;\n        const index = seglist.numberOfItems - 1;\n\n        if (newPoint) {\n          // First point\n          // if (!index) { return; }\n\n          // Set control points\n          const pointGrip1 = addCtrlGrip('1c1');\n          const pointGrip2 = addCtrlGrip('0c2');\n\n          // dragging pointGrip1\n          pointGrip1.setAttribute('cx', mouseX);\n          pointGrip1.setAttribute('cy', mouseY);\n          pointGrip1.setAttribute('display', 'inline');\n\n          const ptX = newPoint[0];\n          const ptY = newPoint[1];\n\n          // set curve\n          // const seg = seglist.getItem(index);\n          const curX = mouseX / currentZoom;\n          const curY = mouseY / currentZoom;\n          const altX = (ptX + (ptX - curX));\n          const altY = (ptY + (ptY - curY));\n\n          pointGrip2.setAttribute('cx', altX * currentZoom);\n          pointGrip2.setAttribute('cy', altY * currentZoom);\n          pointGrip2.setAttribute('display', 'inline');\n\n          const ctrlLine = getCtrlLine(1);\n          assignAttributes(ctrlLine, {\n            x1: mouseX,\n            y1: mouseY,\n            x2: altX * currentZoom,\n            y2: altY * currentZoom,\n            display: 'inline'\n          });\n\n          if (index === 0) {\n            firstCtrl = [mouseX, mouseY];\n          } else {\n            const last = seglist.getItem(index - 1);\n            let lastX = last.x;\n            let lastY = last.y;\n\n            if (last.pathSegType === 6) {\n              lastX += (lastX - last.x2);\n              lastY += (lastY - last.y2);\n            } else if (firstCtrl) {\n              lastX = firstCtrl[0] / currentZoom;\n              lastY = firstCtrl[1] / currentZoom;\n            }\n            replacePathSeg(6, index, [ptX, ptY, lastX, lastY, altX, altY], drawnPath);\n          }\n        } else {\n          const stretchy = getElem('path_stretch_line');\n          if (stretchy) {\n            const prev = seglist.getItem(index);\n            if (prev.pathSegType === 6) {\n              const prevX = prev.x + (prev.x - prev.x2);\n              const prevY = prev.y + (prev.y - prev.y2);\n              replacePathSeg(6, 1, [mouseX, mouseY, prevX * currentZoom, prevY * currentZoom, mouseX, mouseY], stretchy);\n            } else if (firstCtrl) {\n              replacePathSeg(6, 1, [mouseX, mouseY, firstCtrl[0], firstCtrl[1], mouseX, mouseY], stretchy);\n            } else {\n              replacePathSeg(4, 1, [mouseX, mouseY], stretchy);\n            }\n          }\n        }\n        return;\n      }\n      // if we are dragging a point, let's move it\n      if (path.dragging) {\n        const pt = getPointFromGrip({\n          x: path.dragging[0],\n          y: path.dragging[1]\n        }, path);\n        const mpt = getPointFromGrip({\n          x: mouseX,\n          y: mouseY\n        }, path);\n        const diffX = mpt.x - pt.x;\n        const diffY = mpt.y - pt.y;\n        path.dragging = [mouseX, mouseY];\n\n        if (path.dragctrl) {\n          path.moveCtrl(diffX, diffY);\n        } else {\n          path.movePts(diffX, diffY);\n        }\n      } else {\n        path.selected_pts = [];\n        path.eachSeg(function (i) {\n          const seg = this;\n          if (!seg.next && !seg.prev) { return; }\n\n          // const {item} = seg;\n          const rubberBox = editorContext_.getRubberBox();\n          const rbb = rubberBox.getBBox();\n\n          const pt = getGripPt(seg);\n          const ptBb = {\n            x: pt.x,\n            y: pt.y,\n            width: 0,\n            height: 0\n          };\n\n          const sel = rectsIntersect(rbb, ptBb);\n\n          this.select(sel);\n          // Note that addPtsToSelection is not being run\n          if (sel) { path.selected_pts.push(seg.index); }\n        });\n      }\n    },\n    /**\n     * @typedef module:path.keepElement\n     * @type {PlainObject}\n     * @property {boolean} keep\n     * @property {Element} element\n     */\n    /**\n    * @param {Event} evt\n    * @param {Element} element\n    * @param {Float} mouseX\n    * @param {Float} mouseY\n    * @returns {module:path.keepElement|void}\n    */\n    mouseUp (evt, element, mouseX, mouseY) {\n      const drawnPath = editorContext_.getDrawnPath();\n      // Create mode\n      if (editorContext_.getCurrentMode() === 'path') {\n        newPoint = null;\n        if (!drawnPath) {\n          element = getElem(editorContext_.getId());\n          editorContext_.setStarted(false);\n          firstCtrl = null;\n        }\n\n        return {\n          keep: true,\n          element\n        };\n      }\n\n      // Edit mode\n      const rubberBox = editorContext_.getRubberBox();\n      if (path.dragging) {\n        const lastPt = path.cur_pt;\n\n        path.dragging = false;\n        path.dragctrl = false;\n        path.update();\n\n        if (hasMoved) {\n          path.endChanges('Move path point(s)');\n        }\n\n        if (!evt.shiftKey && !hasMoved) {\n          path.selectPt(lastPt);\n        }\n      } else if (rubberBox && rubberBox.getAttribute('display') !== 'none') {\n        // Done with multi-node-select\n        rubberBox.setAttribute('display', 'none');\n\n        if (rubberBox.getAttribute('width') <= 2 && rubberBox.getAttribute('height') <= 2) {\n          pathActions.toSelectMode(evt.target);\n        }\n\n      // else, move back to select mode\n      } else {\n        pathActions.toSelectMode(evt.target);\n      }\n      hasMoved = false;\n      return undefined;\n    },\n    /**\n    * @param {Element} element\n    * @returns {void}\n    */\n    toEditMode (element) {\n      path = getPath_(element);\n      editorContext_.setCurrentMode('pathedit');\n      editorContext_.clearSelection();\n      path.show(true).update();\n      path.oldbbox = utilsGetBBox(path.elem);\n      subpath = false;\n    },\n    /**\n    * @param {Element} elem\n    * @fires module:svgcanvas.SvgCanvas#event:selected\n    * @returns {void}\n    */\n    toSelectMode (elem) {\n      const selPath = (elem === path.elem);\n      editorContext_.setCurrentMode('select');\n      path.show(false);\n      currentPath = false;\n      editorContext_.clearSelection();\n\n      if (path.matrix) {\n        // Rotated, so may need to re-calculate the center\n        recalcRotatedPath();\n      }\n\n      if (selPath) {\n        editorContext_.call('selected', [elem]);\n        editorContext_.addToSelection([elem], true);\n      }\n    },\n    /**\n    * @param {boolean} on\n    * @returns {void}\n    */\n    addSubPath (on) {\n      if (on) {\n        // Internally we go into \"path\" mode, but in the UI it will\n        // still appear as if in \"pathedit\" mode.\n        editorContext_.setCurrentMode('path');\n        subpath = true;\n      } else {\n        pathActions.clear(true);\n        pathActions.toEditMode(path.elem);\n      }\n    },\n    /**\n    * @param {Element} target\n    * @returns {void}\n    */\n    select (target) {\n      if (currentPath === target) {\n        pathActions.toEditMode(target);\n        editorContext_.setCurrentMode('pathedit');\n      // going into pathedit mode\n      } else {\n        currentPath = target;\n      }\n    },\n    /**\n    * @fires module:svgcanvas.SvgCanvas#event:changed\n    * @returns {void}\n    */\n    reorient () {\n      const elem = editorContext_.getSelectedElements()[0];\n      if (!elem) { return; }\n      const angl = getRotationAngle(elem);\n      if (angl === 0) { return; }\n\n      const batchCmd = new BatchCommand('Reorient path');\n      const changes = {\n        d: elem.getAttribute('d'),\n        transform: elem.getAttribute('transform')\n      };\n      batchCmd.addSubCommand(new ChangeElementCommand(elem, changes));\n      editorContext_.clearSelection();\n      this.resetOrientation(elem);\n\n      editorContext_.addCommandToHistory(batchCmd);\n\n      // Set matrix to null\n      getPath_(elem).show(false).matrix = null;\n\n      this.clear();\n\n      editorContext_.addToSelection([elem], true);\n      editorContext_.call('changed', editorContext_.getSelectedElements());\n    },\n\n    /**\n    * @param {boolean} remove Not in use\n    * @returns {void}\n    */\n    clear (remove) {\n      const drawnPath = editorContext_.getDrawnPath();\n      currentPath = null;\n      if (drawnPath) {\n        const elem = getElem(editorContext_.getId());\n        $(getElem('path_stretch_line')).remove();\n        $(elem).remove();\n        $(getElem('pathpointgrip_container')).find('*').attr('display', 'none');\n        firstCtrl = null;\n        editorContext_.setDrawnPath(null);\n        editorContext_.setStarted(false);\n      } else if (editorContext_.getCurrentMode() === 'pathedit') {\n        this.toSelectMode();\n      }\n      if (path) { path.init().show(false); }\n    },\n    /**\n    * @param {?(Element|SVGPathElement)} pth\n    * @returns {false|void}\n    */\n    resetOrientation (pth) {\n      if (isNullish(pth) || pth.nodeName !== 'path') { return false; }\n      const tlist = getTransformList(pth);\n      const m = transformListToTransform(tlist).matrix;\n      tlist.clear();\n      pth.removeAttribute('transform');\n      const segList = pth.pathSegList;\n\n      // Opera/win/non-EN throws an error here.\n      // TODO: Find out why!\n      // Presumed fixed in Opera 10.5, so commented out for now\n\n      // try {\n      const len = segList.numberOfItems;\n      // } catch(err) {\n      //   const fixed_d = pathActions.convertPath(pth);\n      //   pth.setAttribute('d', fixed_d);\n      //   segList = pth.pathSegList;\n      //   const len = segList.numberOfItems;\n      // }\n      // let lastX, lastY;\n      for (let i = 0; i < len; ++i) {\n        const seg = segList.getItem(i);\n        const type = seg.pathSegType;\n        if (type === 1) { continue; }\n        const pts = [];\n        $.each(['', 1, 2], function (j, n) {\n          const x = seg['x' + n], y = seg['y' + n];\n          if (x !== undefined && y !== undefined) {\n            const pt = transformPoint(x, y, m);\n            pts.splice(pts.length, 0, pt.x, pt.y);\n          }\n        });\n        replacePathSeg(type, i, pts, pth);\n      }\n\n      reorientGrads(pth, m);\n      return undefined;\n    },\n    /**\n    * @returns {void}\n    */\n    zoomChange () {\n      if (editorContext_.getCurrentMode() === 'pathedit') {\n        path.update();\n      }\n    },\n    /**\n    * @typedef {PlainObject} module:path.NodePoint\n    * @property {Float} x\n    * @property {Float} y\n    * @property {Integer} type\n    */\n    /**\n    * @returns {module:path.NodePoint}\n    */\n    getNodePoint () {\n      const selPt = path.selected_pts.length ? path.selected_pts[0] : 1;\n\n      const seg = path.segs[selPt];\n      return {\n        x: seg.item.x,\n        y: seg.item.y,\n        type: seg.type\n      };\n    },\n    /**\n    * @param {boolean} linkPoints\n    * @returns {void}\n    */\n    linkControlPoints (linkPoints) {\n      setLinkControlPoints(linkPoints);\n    },\n    /**\n    * @returns {void}\n    */\n    clonePathNode () {\n      path.storeD();\n\n      const selPts = path.selected_pts;\n      // const {segs} = path;\n\n      let i = selPts.length;\n      const nums = [];\n\n      while (i--) {\n        const pt = selPts[i];\n        path.addSeg(pt);\n\n        nums.push(pt + i);\n        nums.push(pt + i + 1);\n      }\n      path.init().addPtsToSelection(nums);\n\n      path.endChanges('Clone path node(s)');\n    },\n    /**\n    * @returns {void}\n    */\n    opencloseSubPath () {\n      const selPts = path.selected_pts;\n      // Only allow one selected node for now\n      if (selPts.length !== 1) { return; }\n\n      const {elem} = path;\n      const list = elem.pathSegList;\n\n      // const len = list.numberOfItems;\n\n      const index = selPts[0];\n\n      let openPt = null;\n      let startItem = null;\n\n      // Check if subpath is already open\n      path.eachSeg(function (i) {\n        if (this.type === 2 && i <= index) {\n          startItem = this.item;\n        }\n        if (i <= index) { return true; }\n        if (this.type === 2) {\n          // Found M first, so open\n          openPt = i;\n          return false;\n        }\n        if (this.type === 1) {\n          // Found Z first, so closed\n          openPt = false;\n          return false;\n        }\n        return true;\n      });\n\n      if (isNullish(openPt)) {\n        // Single path, so close last seg\n        openPt = path.segs.length - 1;\n      }\n\n      if (openPt !== false) {\n        // Close this path\n\n        // Create a line going to the previous \"M\"\n        const newseg = elem.createSVGPathSegLinetoAbs(startItem.x, startItem.y);\n\n        const closer = elem.createSVGPathSegClosePath();\n        if (openPt === path.segs.length - 1) {\n          list.appendItem(newseg);\n          list.appendItem(closer);\n        } else {\n          insertItemBefore(elem, closer, openPt);\n          insertItemBefore(elem, newseg, openPt);\n        }\n\n        path.init().selectPt(openPt + 1);\n        return;\n      }\n\n      // M 1,1 L 2,2 L 3,3 L 1,1 z // open at 2,2\n      // M 2,2 L 3,3 L 1,1\n\n      // M 1,1 L 2,2 L 1,1 z M 4,4 L 5,5 L6,6 L 5,5 z\n      // M 1,1 L 2,2 L 1,1 z [M 4,4] L 5,5 L(M)6,6 L 5,5 z\n\n      const seg = path.segs[index];\n\n      if (seg.mate) {\n        list.removeItem(index); // Removes last \"L\"\n        list.removeItem(index); // Removes the \"Z\"\n        path.init().selectPt(index - 1);\n        return;\n      }\n\n      let lastM, zSeg;\n\n      // Find this sub-path's closing point and remove\n      for (let i = 0; i < list.numberOfItems; i++) {\n        const item = list.getItem(i);\n\n        if (item.pathSegType === 2) {\n          // Find the preceding M\n          lastM = i;\n        } else if (i === index) {\n          // Remove it\n          list.removeItem(lastM);\n          // index--;\n        } else if (item.pathSegType === 1 && index < i) {\n          // Remove the closing seg of this subpath\n          zSeg = i - 1;\n          list.removeItem(i);\n          break;\n        }\n      }\n\n      let num = (index - lastM) - 1;\n\n      while (num--) {\n        insertItemBefore(elem, list.getItem(lastM), zSeg);\n      }\n\n      const pt = list.getItem(lastM);\n\n      // Make this point the new \"M\"\n      replacePathSeg(2, lastM, [pt.x, pt.y]);\n\n      // i = index; // i is local here, so has no effect; what was the intent for this?\n\n      path.init().selectPt(0);\n    },\n    /**\n    * @returns {void}\n    */\n    deletePathNode () {\n      if (!pathActions.canDeleteNodes) { return; }\n      path.storeD();\n\n      const selPts = path.selected_pts;\n\n      let i = selPts.length;\n      while (i--) {\n        const pt = selPts[i];\n        path.deleteSeg(pt);\n      }\n\n      // Cleanup\n      const cleanup = function () {\n        const segList = path.elem.pathSegList;\n        let len = segList.numberOfItems;\n\n        const remItems = function (pos, count) {\n          while (count--) {\n            segList.removeItem(pos);\n          }\n        };\n\n        if (len <= 1) { return true; }\n\n        while (len--) {\n          const item = segList.getItem(len);\n          if (item.pathSegType === 1) {\n            const prev = segList.getItem(len - 1);\n            const nprev = segList.getItem(len - 2);\n            if (prev.pathSegType === 2) {\n              remItems(len - 1, 2);\n              cleanup();\n              break;\n            } else if (nprev.pathSegType === 2) {\n              remItems(len - 2, 3);\n              cleanup();\n              break;\n            }\n          } else if (item.pathSegType === 2) {\n            if (len > 0) {\n              const prevType = segList.getItem(len - 1).pathSegType;\n              // Path has M M\n              if (prevType === 2) {\n                remItems(len - 1, 1);\n                cleanup();\n                break;\n              // Entire path ends with Z M\n              } else if (prevType === 1 && segList.numberOfItems - 1 === len) {\n                remItems(len, 1);\n                cleanup();\n                break;\n              }\n            }\n          }\n        }\n        return false;\n      };\n\n      cleanup();\n\n      // Completely delete a path with 1 or 0 segments\n      if (path.elem.pathSegList.numberOfItems <= 1) {\n        pathActions.toSelectMode(path.elem);\n        editorContext_.canvas.deleteSelectedElements();\n        return;\n      }\n\n      path.init();\n      path.clearSelection();\n\n      // TODO: Find right way to select point now\n      // path.selectPt(selPt);\n      if (window.opera) { // Opera repaints incorrectly\n        const cp = $(path.elem);\n        cp.attr('d', cp.attr('d'));\n      }\n      path.endChanges('Delete path node(s)');\n    },\n    /* eslint-disable jsdoc/require-returns */\n    // Can't seem to use `@borrows` here, so using `@see`\n    /**\n    * Smooth polyline into path.\n    * @function module:path.pathActions.smoothPolylineIntoPath\n    * @see module:path~smoothPolylineIntoPath\n    */\n    smoothPolylineIntoPath,\n    /* eslint-enable jsdoc/require-returns */\n    /**\n    * @param {?Integer} v See {@link https://www.w3.org/TR/SVG/single-page.html#paths-InterfaceSVGPathSeg}\n    * @returns {void}\n    */\n    setSegType (v) {\n      path.setSegType(v);\n    },\n    /**\n    * @param {string} attr\n    * @param {Float} newValue\n    * @returns {void}\n    */\n    moveNode (attr, newValue) {\n      const selPts = path.selected_pts;\n      if (!selPts.length) { return; }\n\n      path.storeD();\n\n      // Get first selected point\n      const seg = path.segs[selPts[0]];\n      const diff = {x: 0, y: 0};\n      diff[attr] = newValue - seg.item[attr];\n\n      seg.move(diff.x, diff.y);\n      path.endChanges('Move path point');\n    },\n    /**\n    * @param {Element} elem\n    * @returns {void}\n    */\n    fixEnd (elem) {\n      // Adds an extra segment if the last seg before a Z doesn't end\n      // at its M point\n      // M0,0 L0,100 L100,100 z\n      const segList = elem.pathSegList;\n      const len = segList.numberOfItems;\n      let lastM;\n      for (let i = 0; i < len; ++i) {\n        const item = segList.getItem(i);\n        if (item.pathSegType === 2) {\n          lastM = item;\n        }\n\n        if (item.pathSegType === 1) {\n          const prev = segList.getItem(i - 1);\n          if (prev.x !== lastM.x || prev.y !== lastM.y) {\n            // Add an L segment here\n            const newseg = elem.createSVGPathSegLinetoAbs(lastM.x, lastM.y);\n            insertItemBefore(elem, newseg, i);\n            // Can this be done better?\n            pathActions.fixEnd(elem);\n            break;\n          }\n        }\n      }\n      if (isWebkit()) { editorContext_.resetD(elem); }\n    },\n    /* eslint-disable jsdoc/require-returns */\n    // Can't seem to use `@borrows` here, so using `@see`\n    /**\n    * Convert a path to one with only absolute or relative values.\n    * @function module:path.pathActions.convertPath\n    * @see module:path.convertPath\n    */\n    convertPath\n    /* eslint-enable jsdoc/require-returns */\n  });\n})();\n// end pathActions\n","/* globals jQuery */\n/**\n * Provides tools for the layer concept.\n * @module layer\n * @license MIT\n *\n * @copyright 2011 Jeff Schiller, 2016 Flint O'Brien\n */\n\nimport {NS} from './namespaces.js';\nimport {toXml, walkTree, isNullish} from './utilities.js';\n\nconst $ = jQuery;\n\n/**\n * This class encapsulates the concept of a layer in the drawing. It can be constructed with\n * an existing group element or, with three parameters, will create a new layer group element.\n *\n * @example\n * const l1 = new Layer('name', group); // Use the existing group for this layer.\n * const l2 = new Layer('name', group, svgElem); // Create a new group and add it to the DOM after group.\n * const l3 = new Layer('name', null, svgElem); // Create a new group and add it to the DOM as the last layer.\n * @memberof module:layer\n */\nclass Layer {\n  /**\n  * @param {string} name - Layer name\n  * @param {SVGGElement|null} group - An existing SVG group element or null.\n  *     If group and no svgElem, use group for this layer.\n  *     If group and svgElem, create a new group element and insert it in the DOM after group.\n  *     If no group and svgElem, create a new group element and insert it in the DOM as the last layer.\n  * @param {SVGGElement} [svgElem] - The SVG DOM element. If defined, use this to add\n  *     a new layer to the document.\n  */\n  constructor (name, group, svgElem) {\n    this.name_ = name;\n    this.group_ = svgElem ? null : group;\n\n    if (svgElem) {\n      // Create a group element with title and add it to the DOM.\n      const svgdoc = svgElem.ownerDocument;\n      this.group_ = svgdoc.createElementNS(NS.SVG, 'g');\n      const layerTitle = svgdoc.createElementNS(NS.SVG, 'title');\n      layerTitle.textContent = name;\n      this.group_.append(layerTitle);\n      if (group) {\n        $(group).after(this.group_);\n      } else {\n        svgElem.append(this.group_);\n      }\n    }\n\n    addLayerClass(this.group_);\n    walkTree(this.group_, function (e) {\n      e.setAttribute('style', 'pointer-events:inherit');\n    });\n\n    this.group_.setAttribute('style', svgElem ? 'pointer-events:all' : 'pointer-events:none');\n  }\n\n  /**\n   * Get the layer's name.\n   * @returns {string} The layer name\n   */\n  getName () {\n    return this.name_;\n  }\n\n  /**\n   * Get the group element for this layer.\n   * @returns {SVGGElement} The layer SVG group\n   */\n  getGroup () {\n    return this.group_;\n  }\n\n  /**\n   * Active this layer so it takes pointer events.\n   * @returns {void}\n   */\n  activate () {\n    this.group_.setAttribute('style', 'pointer-events:all');\n  }\n\n  /**\n   * Deactive this layer so it does NOT take pointer events.\n   * @returns {void}\n   */\n  deactivate () {\n    this.group_.setAttribute('style', 'pointer-events:none');\n  }\n\n  /**\n   * Set this layer visible or hidden based on 'visible' parameter.\n   * @param {boolean} visible - If true, make visible; otherwise, hide it.\n   * @returns {void}\n   */\n  setVisible (visible) {\n    const expected = visible === undefined || visible ? 'inline' : 'none';\n    const oldDisplay = this.group_.getAttribute('display');\n    if (oldDisplay !== expected) {\n      this.group_.setAttribute('display', expected);\n    }\n  }\n\n  /**\n   * Is this layer visible?\n   * @returns {boolean} True if visible.\n   */\n  isVisible () {\n    return this.group_.getAttribute('display') !== 'none';\n  }\n\n  /**\n   * Get layer opacity.\n   * @returns {Float} Opacity value.\n   */\n  getOpacity () {\n    const opacity = this.group_.getAttribute('opacity');\n    if (isNullish(opacity)) {\n      return 1;\n    }\n    return Number.parseFloat(opacity);\n  }\n\n  /**\n   * Sets the opacity of this layer. If opacity is not a value between 0.0 and 1.0,\n   * nothing happens.\n   * @param {Float} opacity - A float value in the range 0.0-1.0\n   * @returns {void}\n   */\n  setOpacity (opacity) {\n    if (typeof opacity === 'number' && opacity >= 0.0 && opacity <= 1.0) {\n      this.group_.setAttribute('opacity', opacity);\n    }\n  }\n\n  /**\n   * Append children to this layer.\n   * @param {SVGGElement} children - The children to append to this layer.\n   * @returns {void}\n   */\n  appendChildren (children) {\n    for (const child of children) {\n      this.group_.append(child);\n    }\n  }\n\n  /**\n  * @returns {SVGTitleElement|null}\n  */\n  getTitleElement () {\n    const len = this.group_.childNodes.length;\n    for (let i = 0; i < len; ++i) {\n      const child = this.group_.childNodes.item(i);\n      if (child && child.tagName === 'title') {\n        return child;\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Set the name of this layer.\n   * @param {string} name - The new name.\n   * @param {module:history.HistoryRecordingService} hrService - History recording service\n   * @returns {string|null} The new name if changed; otherwise, null.\n   */\n  setName (name, hrService) {\n    const previousName = this.name_;\n    name = toXml(name);\n    // now change the underlying title element contents\n    const title = this.getTitleElement();\n    if (title) {\n      $(title).empty();\n      title.textContent = name;\n      this.name_ = name;\n      if (hrService) {\n        hrService.changeElement(title, {'#text': previousName});\n      }\n      return this.name_;\n    }\n    return null;\n  }\n\n  /**\n   * Remove this layer's group from the DOM. No more functions on group can be called after this.\n   * @returns {SVGGElement} The layer SVG group that was just removed.\n   */\n  removeGroup () {\n    const group = this.group_;\n    this.group_.remove();\n    this.group_ = undefined;\n    return group;\n  }\n}\n/**\n * @property {string} CLASS_NAME - class attribute assigned to all layer groups.\n */\nLayer.CLASS_NAME = 'layer';\n\n/**\n * @property {RegExp} CLASS_REGEX - Used to test presence of class Layer.CLASS_NAME\n */\nLayer.CLASS_REGEX = new RegExp('(\\\\s|^)' + Layer.CLASS_NAME + '(\\\\s|$)');\n\n/**\n * Add class `Layer.CLASS_NAME` to the element (usually `class='layer'`).\n *\n * @param {SVGGElement} elem - The SVG element to update\n * @returns {void}\n */\nfunction addLayerClass (elem) {\n  const classes = elem.getAttribute('class');\n  if (isNullish(classes) || !classes.length) {\n    elem.setAttribute('class', Layer.CLASS_NAME);\n  } else if (!Layer.CLASS_REGEX.test(classes)) {\n    elem.setAttribute('class', classes + ' ' + Layer.CLASS_NAME);\n  }\n}\n\nexport default Layer;\n","/**\n * HistoryRecordingService component of history.\n * @module history\n * @license MIT\n * @copyright 2016 Flint O'Brien\n */\n\nimport {\n  BatchCommand, MoveElementCommand, InsertElementCommand, RemoveElementCommand,\n  ChangeElementCommand\n} from './history.js';\n\n/**\n * History recording service.\n *\n * A self-contained service interface for recording history. Once injected, no other dependencies\n * or globals are required (example: UndoManager, command types, etc.). Easy to mock for unit tests.\n * Built on top of history classes in history.js.\n *\n * There is a simple start/end interface for batch commands.\n *\n * HistoryRecordingService.NO_HISTORY is a singleton that can be passed in to functions\n * that record history. This helps when the caller requires that no history be recorded.\n *\n * The following will record history: insert, batch, insert.\n * @example\n * hrService = new HistoryRecordingService(this.undoMgr);\n * hrService.insertElement(elem, text); // add simple command to history.\n * hrService.startBatchCommand('create two elements');\n * hrService.changeElement(elem, attrs, text); // add to batchCommand\n * hrService.changeElement(elem, attrs2, text); // add to batchCommand\n * hrService.endBatchCommand(); // add batch command with two change commands to history.\n * hrService.insertElement(elem, text); // add simple command to history.\n *\n * @example\n * // Note that all functions return this, so commands can be chained, like so:\n * hrService\n *   .startBatchCommand('create two elements')\n *   .insertElement(elem, text)\n *   .changeElement(elem, attrs, text)\n *   .endBatchCommand();\n *\n * @memberof module:history\n */\nclass HistoryRecordingService {\n  /**\n  * @param {history.UndoManager|null} undoManager - The undo manager.\n  *     A value of `null` is valid for cases where no history recording is required.\n  *     See singleton: {@link module:history.HistoryRecordingService.HistoryRecordingService.NO_HISTORY}\n  */\n  constructor (undoManager) {\n    this.undoManager_ = undoManager;\n    this.currentBatchCommand_ = null;\n    this.batchCommandStack_ = [];\n  }\n\n  /**\n   * Start a batch command so multiple commands can recorded as a single history command.\n   * Requires a corresponding call to endBatchCommand. Start and end commands can be nested.\n   *\n   * @param {string} text - Optional string describing the batch command.\n   * @returns {module:history.HistoryRecordingService}\n   */\n  startBatchCommand (text) {\n    if (!this.undoManager_) { return this; }\n    this.currentBatchCommand_ = new BatchCommand(text);\n    this.batchCommandStack_.push(this.currentBatchCommand_);\n    return this;\n  }\n\n  /**\n   * End a batch command and add it to the history or a parent batch command.\n   * @returns {module:history.HistoryRecordingService}\n   */\n  endBatchCommand () {\n    if (!this.undoManager_) { return this; }\n    if (this.currentBatchCommand_) {\n      const batchCommand = this.currentBatchCommand_;\n      this.batchCommandStack_.pop();\n      const {length: len} = this.batchCommandStack_;\n      this.currentBatchCommand_ = len ? this.batchCommandStack_[len - 1] : null;\n      this.addCommand_(batchCommand);\n    }\n    return this;\n  }\n\n  /**\n   * Add a `MoveElementCommand` to the history or current batch command.\n   * @param {Element} elem - The DOM element that was moved\n   * @param {Element} oldNextSibling - The element's next sibling before it was moved\n   * @param {Element} oldParent - The element's parent before it was moved\n   * @param {string} [text] - An optional string visible to user related to this change\n   * @returns {module:history.HistoryRecordingService}\n   */\n  moveElement (elem, oldNextSibling, oldParent, text) {\n    if (!this.undoManager_) { return this; }\n    this.addCommand_(new MoveElementCommand(elem, oldNextSibling, oldParent, text));\n    return this;\n  }\n\n  /**\n   * Add an `InsertElementCommand` to the history or current batch command.\n   * @param {Element} elem - The DOM element that was added\n   * @param {string} [text] - An optional string visible to user related to this change\n   * @returns {module:history.HistoryRecordingService}\n   */\n  insertElement (elem, text) {\n    if (!this.undoManager_) { return this; }\n    this.addCommand_(new InsertElementCommand(elem, text));\n    return this;\n  }\n\n  /**\n   * Add a `RemoveElementCommand` to the history or current batch command.\n   * @param {Element} elem - The DOM element that was removed\n   * @param {Element} oldNextSibling - The element's next sibling before it was removed\n   * @param {Element} oldParent - The element's parent before it was removed\n   * @param {string} [text] - An optional string visible to user related to this change\n   * @returns {module:history.HistoryRecordingService}\n   */\n  removeElement (elem, oldNextSibling, oldParent, text) {\n    if (!this.undoManager_) { return this; }\n    this.addCommand_(new RemoveElementCommand(elem, oldNextSibling, oldParent, text));\n    return this;\n  }\n\n  /**\n   * Add a `ChangeElementCommand` to the history or current batch command.\n   * @param {Element} elem - The DOM element that was changed\n   * @param {module:history.CommandAttributes} attrs - An object with the attributes to be changed and the values they had *before* the change\n   * @param {string} [text] - An optional string visible to user related to this change\n   * @returns {module:history.HistoryRecordingService}\n   */\n  changeElement (elem, attrs, text) {\n    if (!this.undoManager_) { return this; }\n    this.addCommand_(new ChangeElementCommand(elem, attrs, text));\n    return this;\n  }\n\n  /**\n   * Private function to add a command to the history or current batch command.\n   * @private\n   * @param {Command} cmd\n   * @returns {module:history.HistoryRecordingService|void}\n   */\n  addCommand_ (cmd) {\n    if (!this.undoManager_) { return this; }\n    if (this.currentBatchCommand_) {\n      this.currentBatchCommand_.addSubCommand(cmd);\n    } else {\n      this.undoManager_.addCommandToHistory(cmd);\n    }\n    return undefined;\n  }\n}\n/**\n * @memberof module:history.HistoryRecordingService\n * @property {module:history.HistoryRecordingService} NO_HISTORY - Singleton that can be passed to functions that record history, but the caller requires that no history be recorded.\n */\nHistoryRecordingService.NO_HISTORY = new HistoryRecordingService();\nexport default HistoryRecordingService;\n","/* globals jQuery */\n\nimport jQueryPluginSVG from '../common/jQuery.attr.js'; // Needed for SVG attribute setting and array form with `attr`\nimport {isWebkit} from '../common/browser.js';\nimport {convertPath} from './path.js';\nimport {preventClickDefault} from '../common/utilities.js';\n\n// Constants\nconst $ = jQueryPluginSVG(jQuery);\n\n/**\n * Create a clone of an element, updating its ID and its children's IDs when needed.\n * @function module:utilities.copyElem\n * @param {Element} el - DOM element to clone\n * @param {module:utilities.GetNextID} getNextId - The getter of the next unique ID.\n * @returns {Element} The cloned element\n */\nexport const copyElem = function (el, getNextId) {\n  // manually create a copy of the element\n  const newEl = document.createElementNS(el.namespaceURI, el.nodeName);\n  $.each(el.attributes, function (i, attr) {\n    if (attr.localName !== '-moz-math-font-style') {\n      newEl.setAttributeNS(attr.namespaceURI, attr.nodeName, attr.value);\n    }\n  });\n  // set the copied element's new id\n  newEl.removeAttribute('id');\n  newEl.id = getNextId();\n\n  // Opera's \"d\" value needs to be reset for Opera/Win/non-EN\n  // Also needed for webkit (else does not keep curved segments on clone)\n  if (isWebkit() && el.nodeName === 'path') {\n    const fixedD = convertPath(el);\n    newEl.setAttribute('d', fixedD);\n  }\n\n  // now create copies of all children\n  $.each(el.childNodes, function (i, child) {\n    switch (child.nodeType) {\n    case 1: // element node\n      newEl.append(copyElem(child, getNextId));\n      break;\n    case 3: // text node\n      newEl.textContent = child.nodeValue;\n      break;\n    default:\n      break;\n    }\n  });\n\n  if ($(el).data('gsvg')) {\n    $(newEl).data('gsvg', newEl.firstChild);\n  } else if ($(el).data('symbol')) {\n    const ref = $(el).data('symbol');\n    $(newEl).data('ref', ref).data('symbol', ref);\n  } else if (newEl.tagName === 'image') {\n    preventClickDefault(newEl);\n  }\n\n  return newEl;\n};\n","/* globals jQuery */\n/**\n * Tools for drawing.\n * @module draw\n * @license MIT\n * @copyright 2011 Jeff Schiller\n */\n\nimport Layer from '../common/layer.js';\nimport HistoryRecordingService from './historyrecording.js';\n\nimport {NS} from '../common/namespaces.js';\nimport {isOpera} from '../common/browser.js';\nimport {\n  toXml, getElem\n} from '../common/utilities.js';\nimport {\n  copyElem as utilCopyElem\n} from './copy-elem.js';\nimport {\n  BatchCommand, RemoveElementCommand, MoveElementCommand, ChangeElementCommand\n} from './history.js';\n\nconst $ = jQuery;\n\nconst visElems = 'a,circle,ellipse,foreignObject,g,image,line,path,polygon,polyline,rect,svg,text,tspan,use'.split(',');\n\nconst RandomizeModes = {\n  LET_DOCUMENT_DECIDE: 0,\n  ALWAYS_RANDOMIZE: 1,\n  NEVER_RANDOMIZE: 2\n};\nlet randIds = RandomizeModes.LET_DOCUMENT_DECIDE;\n// Array with current disabled elements (for in-group editing)\nlet disabledElems = [];\n\n/**\n * Get a HistoryRecordingService.\n * @param {module:history.HistoryRecordingService} [hrService] - if exists, return it instead of creating a new service.\n * @returns {module:history.HistoryRecordingService}\n */\nfunction historyRecordingService (hrService) {\n  return hrService || new HistoryRecordingService(canvas_.undoMgr);\n}\n\n/**\n * Find the layer name in a group element.\n * @param {Element} group The group element to search in.\n * @returns {string} The layer name or empty string.\n */\nfunction findLayerNameInGroup (group) {\n  return $('title', group).text() ||\n    (isOpera() && group.querySelectorAll\n      // Hack for Opera 10.60\n      ? $(group.querySelectorAll('title')).text()\n      : '');\n}\n\n/**\n * Given a set of names, return a new unique name.\n * @param {string[]} existingLayerNames - Existing layer names.\n * @returns {string} - The new name.\n */\nfunction getNewLayerName (existingLayerNames) {\n  let i = 1;\n  // TODO(codedread): What about internationalization of \"Layer\"?\n  while (existingLayerNames.includes(('Layer ' + i))) { i++; }\n  return 'Layer ' + i;\n}\n\n/**\n * This class encapsulates the concept of a SVG-edit drawing.\n */\nexport class Drawing {\n  /**\n  * @param {SVGSVGElement} svgElem - The SVG DOM Element that this JS object\n  *     encapsulates.  If the svgElem has a se:nonce attribute on it, then\n  *     IDs will use the nonce as they are generated.\n  * @param {string} [optIdPrefix=svg_] - The ID prefix to use.\n  * @throws {Error} If not initialized with an SVG element\n  */\n  constructor (svgElem, optIdPrefix) {\n    if (!svgElem || !svgElem.tagName || !svgElem.namespaceURI ||\n      svgElem.tagName !== 'svg' || svgElem.namespaceURI !== NS.SVG) {\n      throw new Error('Error: svgedit.draw.Drawing instance initialized without a <svg> element');\n    }\n\n    /**\n    * The SVG DOM Element that represents this drawing.\n    * @type {SVGSVGElement}\n    */\n    this.svgElem_ = svgElem;\n\n    /**\n    * The latest object number used in this drawing.\n    * @type {Integer}\n    */\n    this.obj_num = 0;\n\n    /**\n    * The prefix to prepend to each element id in the drawing.\n    * @type {string}\n    */\n    this.idPrefix = optIdPrefix || 'svg_';\n\n    /**\n    * An array of released element ids to immediately reuse.\n    * @type {Integer[]}\n    */\n    this.releasedNums = [];\n\n    /**\n    * The z-ordered array of Layer objects. Each layer has a name\n    * and group element.\n    * The first layer is the one at the bottom of the rendering.\n    * @type {Layer[]}\n    */\n    this.all_layers = [];\n\n    /**\n    * Map of all_layers by name.\n    *\n    * Note: Layers are ordered, but referenced externally by name; so, we need both container\n    * types depending on which function is called (i.e. all_layers and layer_map).\n    *\n    * @type {PlainObject<string, Layer>}\n    */\n    this.layer_map = {};\n\n    /**\n    * The current layer being used.\n    * @type {Layer}\n    */\n    this.current_layer = null;\n\n    /**\n    * The nonce to use to uniquely identify elements across drawings.\n    * @type {!string}\n    */\n    this.nonce_ = '';\n    const n = this.svgElem_.getAttributeNS(NS.SE, 'nonce');\n    // If already set in the DOM, use the nonce throughout the document\n    // else, if randomizeIds(true) has been called, create and set the nonce.\n    if (n && randIds !== RandomizeModes.NEVER_RANDOMIZE) {\n      this.nonce_ = n;\n    } else if (randIds === RandomizeModes.ALWAYS_RANDOMIZE) {\n      this.setNonce(Math.floor(Math.random() * 100001));\n    }\n  }\n\n  /**\n   * @param {string} id Element ID to retrieve\n   * @returns {Element} SVG element within the root SVGSVGElement\n  */\n  getElem_ (id) {\n    if (this.svgElem_.querySelector) {\n      // querySelector lookup\n      return this.svgElem_.querySelector('#' + id);\n    }\n    // jQuery lookup: twice as slow as xpath in FF\n    return $(this.svgElem_).find('[id=' + id + ']')[0];\n  }\n\n  /**\n   * @returns {SVGSVGElement}\n   */\n  getSvgElem () {\n    return this.svgElem_;\n  }\n\n  /**\n   * @returns {!(string|Integer)} The previously set nonce\n   */\n  getNonce () {\n    return this.nonce_;\n  }\n\n  /**\n   * @param {!(string|Integer)} n The nonce to set\n   * @returns {void}\n   */\n  setNonce (n) {\n    this.svgElem_.setAttributeNS(NS.XMLNS, 'xmlns:se', NS.SE);\n    this.svgElem_.setAttributeNS(NS.SE, 'se:nonce', n);\n    this.nonce_ = n;\n  }\n\n  /**\n   * Clears any previously set nonce.\n   * @returns {void}\n   */\n  clearNonce () {\n    // We deliberately leave any se:nonce attributes alone,\n    // we just don't use it to randomize ids.\n    this.nonce_ = '';\n  }\n\n  /**\n   * Returns the latest object id as a string.\n   * @returns {string} The latest object Id.\n   */\n  getId () {\n    return this.nonce_\n      ? this.idPrefix + this.nonce_ + '_' + this.obj_num\n      : this.idPrefix + this.obj_num;\n  }\n\n  /**\n   * Returns the next object Id as a string.\n   * @returns {string} The next object Id to use.\n   */\n  getNextId () {\n    const oldObjNum = this.obj_num;\n    let restoreOldObjNum = false;\n\n    // If there are any released numbers in the release stack,\n    // use the last one instead of the next obj_num.\n    // We need to temporarily use obj_num as that is what getId() depends on.\n    if (this.releasedNums.length > 0) {\n      this.obj_num = this.releasedNums.pop();\n      restoreOldObjNum = true;\n    } else {\n      // If we are not using a released id, then increment the obj_num.\n      this.obj_num++;\n    }\n\n    // Ensure the ID does not exist.\n    let id = this.getId();\n    while (this.getElem_(id)) {\n      if (restoreOldObjNum) {\n        this.obj_num = oldObjNum;\n        restoreOldObjNum = false;\n      }\n      this.obj_num++;\n      id = this.getId();\n    }\n    // Restore the old object number if required.\n    if (restoreOldObjNum) {\n      this.obj_num = oldObjNum;\n    }\n    return id;\n  }\n\n  /**\n   * Releases the object Id, letting it be used as the next id in getNextId().\n   * This method DOES NOT remove any elements from the DOM, it is expected\n   * that client code will do this.\n   * @param {string} id - The id to release.\n   * @returns {boolean} True if the id was valid to be released, false otherwise.\n  */\n  releaseId (id) {\n    // confirm if this is a valid id for this Document, else return false\n    const front = this.idPrefix + (this.nonce_ ? this.nonce_ + '_' : '');\n    if (typeof id !== 'string' || !id.startsWith(front)) {\n      return false;\n    }\n    // extract the obj_num of this id\n    const num = Number.parseInt(id.substr(front.length));\n\n    // if we didn't get a positive number or we already released this number\n    // then return false.\n    if (typeof num !== 'number' || num <= 0 || this.releasedNums.includes(num)) {\n      return false;\n    }\n\n    // push the released number into the released queue\n    this.releasedNums.push(num);\n\n    return true;\n  }\n\n  /**\n   * Returns the number of layers in the current drawing.\n   * @returns {Integer} The number of layers in the current drawing.\n  */\n  getNumLayers () {\n    return this.all_layers.length;\n  }\n\n  /**\n   * Check if layer with given name already exists.\n   * @param {string} name - The layer name to check\n   * @returns {boolean}\n  */\n  hasLayer (name) {\n    return this.layer_map[name] !== undefined;\n  }\n\n  /**\n   * Returns the name of the ith layer. If the index is out of range, an empty string is returned.\n   * @param {Integer} i - The zero-based index of the layer you are querying.\n   * @returns {string} The name of the ith layer (or the empty string if none found)\n  */\n  getLayerName (i) {\n    return i >= 0 && i < this.getNumLayers() ? this.all_layers[i].getName() : '';\n  }\n\n  /**\n   * @returns {SVGGElement|null} The SVGGElement representing the current layer.\n   */\n  getCurrentLayer () {\n    return this.current_layer ? this.current_layer.getGroup() : null;\n  }\n\n  /**\n   * Get a layer by name.\n   * @param {string} name\n   * @returns {SVGGElement} The SVGGElement representing the named layer or null.\n   */\n  getLayerByName (name) {\n    const layer = this.layer_map[name];\n    return layer ? layer.getGroup() : null;\n  }\n\n  /**\n   * Returns the name of the currently selected layer. If an error occurs, an empty string\n   * is returned.\n   * @returns {string} The name of the currently active layer (or the empty string if none found).\n  */\n  getCurrentLayerName () {\n    return this.current_layer ? this.current_layer.getName() : '';\n  }\n\n  /**\n   * Set the current layer's name.\n   * @param {string} name - The new name.\n   * @param {module:history.HistoryRecordingService} hrService - History recording service\n   * @returns {string|null} The new name if changed; otherwise, null.\n   */\n  setCurrentLayerName (name, hrService) {\n    let finalName = null;\n    if (this.current_layer) {\n      const oldName = this.current_layer.getName();\n      finalName = this.current_layer.setName(name, hrService);\n      if (finalName) {\n        delete this.layer_map[oldName];\n        this.layer_map[finalName] = this.current_layer;\n      }\n    }\n    return finalName;\n  }\n\n  /**\n   * Set the current layer's position.\n   * @param {Integer} newpos - The zero-based index of the new position of the layer. Range should be 0 to layers-1\n   * @returns {{title: SVGGElement, previousName: string}|null} If the name was changed, returns {title:SVGGElement, previousName:string}; otherwise null.\n   */\n  setCurrentLayerPosition (newpos) {\n    const layerCount = this.getNumLayers();\n    if (!this.current_layer || newpos < 0 || newpos >= layerCount) {\n      return null;\n    }\n\n    let oldpos;\n    for (oldpos = 0; oldpos < layerCount; ++oldpos) {\n      if (this.all_layers[oldpos] === this.current_layer) { break; }\n    }\n    // some unknown error condition (current_layer not in all_layers)\n    if (oldpos === layerCount) { return null; }\n\n    if (oldpos !== newpos) {\n      // if our new position is below us, we need to insert before the node after newpos\n      const currentGroup = this.current_layer.getGroup();\n      const oldNextSibling = currentGroup.nextSibling;\n\n      let refGroup = null;\n      if (newpos > oldpos) {\n        if (newpos < layerCount - 1) {\n          refGroup = this.all_layers[newpos + 1].getGroup();\n        }\n      // if our new position is above us, we need to insert before the node at newpos\n      } else {\n        refGroup = this.all_layers[newpos].getGroup();\n      }\n      this.svgElem_.insertBefore(currentGroup, refGroup); // Ok to replace with `refGroup.before(currentGroup);`?\n\n      this.identifyLayers();\n      this.setCurrentLayer(this.getLayerName(newpos));\n\n      return {\n        currentGroup,\n        oldNextSibling\n      };\n    }\n    return null;\n  }\n\n  /**\n  * @param {module:history.HistoryRecordingService} hrService\n  * @returns {void}\n  */\n  mergeLayer (hrService) {\n    const currentGroup = this.current_layer.getGroup();\n    const prevGroup = $(currentGroup).prev()[0];\n    if (!prevGroup) { return; }\n\n    hrService.startBatchCommand('Merge Layer');\n\n    const layerNextSibling = currentGroup.nextSibling;\n    hrService.removeElement(currentGroup, layerNextSibling, this.svgElem_);\n\n    while (currentGroup.firstChild) {\n      const child = currentGroup.firstChild;\n      if (child.localName === 'title') {\n        hrService.removeElement(child, child.nextSibling, currentGroup);\n        child.remove();\n        continue;\n      }\n      const oldNextSibling = child.nextSibling;\n      prevGroup.append(child);\n      hrService.moveElement(child, oldNextSibling, currentGroup);\n    }\n\n    // Remove current layer's group\n    this.current_layer.removeGroup();\n    // Remove the current layer and set the previous layer as the new current layer\n    const index = this.all_layers.indexOf(this.current_layer);\n    if (index > 0) {\n      const name = this.current_layer.getName();\n      this.current_layer = this.all_layers[index - 1];\n      this.all_layers.splice(index, 1);\n      delete this.layer_map[name];\n    }\n\n    hrService.endBatchCommand();\n  }\n\n  /**\n  * @param {module:history.HistoryRecordingService} hrService\n  * @returns {void}\n  */\n  mergeAllLayers (hrService) {\n    // Set the current layer to the last layer.\n    this.current_layer = this.all_layers[this.all_layers.length - 1];\n\n    hrService.startBatchCommand('Merge all Layers');\n    while (this.all_layers.length > 1) {\n      this.mergeLayer(hrService);\n    }\n    hrService.endBatchCommand();\n  }\n\n  /**\n   * Sets the current layer. If the name is not a valid layer name, then this\n   * function returns `false`. Otherwise it returns `true`. This is not an\n   * undo-able action.\n   * @param {string} name - The name of the layer you want to switch to.\n   * @returns {boolean} `true` if the current layer was switched, otherwise `false`\n   */\n  setCurrentLayer (name) {\n    const layer = this.layer_map[name];\n    if (layer) {\n      if (this.current_layer) {\n        this.current_layer.deactivate();\n      }\n      this.current_layer = layer;\n      this.current_layer.activate();\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Deletes the current layer from the drawing and then clears the selection.\n   * This function then calls the 'changed' handler.  This is an undoable action.\n   * @todo Does this actually call the 'changed' handler?\n   * @returns {SVGGElement} The SVGGElement of the layer removed or null.\n   */\n  deleteCurrentLayer () {\n    if (this.current_layer && this.getNumLayers() > 1) {\n      const oldLayerGroup = this.current_layer.removeGroup();\n      this.identifyLayers();\n      return oldLayerGroup;\n    }\n    return null;\n  }\n\n  /**\n   * Updates layer system and sets the current layer to the\n   * top-most layer (last `<g>` child of this drawing).\n   * @returns {void}\n  */\n  identifyLayers () {\n    this.all_layers = [];\n    this.layer_map = {};\n    const numchildren = this.svgElem_.childNodes.length;\n    // loop through all children of SVG element\n    const orphans = [], layernames = [];\n    let layer = null;\n    let childgroups = false;\n    for (let i = 0; i < numchildren; ++i) {\n      const child = this.svgElem_.childNodes.item(i);\n      // for each g, find its layer name\n      if (child && child.nodeType === 1) {\n        if (child.tagName === 'g') {\n          childgroups = true;\n          const name = findLayerNameInGroup(child);\n          if (name) {\n            layernames.push(name);\n            layer = new Layer(name, child);\n            this.all_layers.push(layer);\n            this.layer_map[name] = layer;\n          } else {\n            // if group did not have a name, it is an orphan\n            orphans.push(child);\n          }\n        } else if (visElems.includes(child.nodeName)) {\n          // Child is \"visible\" (i.e. not a <title> or <defs> element), so it is an orphan\n          orphans.push(child);\n        }\n      }\n    }\n\n    // If orphans or no layers found, create a new layer and add all the orphans to it\n    if (orphans.length > 0 || !childgroups) {\n      layer = new Layer(getNewLayerName(layernames), null, this.svgElem_);\n      layer.appendChildren(orphans);\n      this.all_layers.push(layer);\n      this.layer_map[name] = layer;\n    } else {\n      layer.activate();\n    }\n    this.current_layer = layer;\n  }\n\n  /**\n   * Creates a new top-level layer in the drawing with the given name and\n   * makes it the current layer.\n   * @param {string} name - The given name. If the layer name exists, a new name will be generated.\n   * @param {module:history.HistoryRecordingService} hrService - History recording service\n   * @returns {SVGGElement} The SVGGElement of the new layer, which is\n   *     also the current layer of this drawing.\n  */\n  createLayer (name, hrService) {\n    if (this.current_layer) {\n      this.current_layer.deactivate();\n    }\n    // Check for duplicate name.\n    if (name === undefined || name === null || name === '' || this.layer_map[name]) {\n      name = getNewLayerName(Object.keys(this.layer_map));\n    }\n\n    // Crate new layer and add to DOM as last layer\n    const layer = new Layer(name, null, this.svgElem_);\n    // Like to assume hrService exists, but this is backwards compatible with old version of createLayer.\n    if (hrService) {\n      hrService.startBatchCommand('Create Layer');\n      hrService.insertElement(layer.getGroup());\n      hrService.endBatchCommand();\n    }\n\n    this.all_layers.push(layer);\n    this.layer_map[name] = layer;\n    this.current_layer = layer;\n    return layer.getGroup();\n  }\n\n  /**\n   * Creates a copy of the current layer with the given name and makes it the current layer.\n   * @param {string} name - The given name. If the layer name exists, a new name will be generated.\n   * @param {module:history.HistoryRecordingService} hrService - History recording service\n   * @returns {SVGGElement} The SVGGElement of the new layer, which is\n   *     also the current layer of this drawing.\n  */\n  cloneLayer (name, hrService) {\n    if (!this.current_layer) { return null; }\n    this.current_layer.deactivate();\n    // Check for duplicate name.\n    if (name === undefined || name === null || name === '' || this.layer_map[name]) {\n      name = getNewLayerName(Object.keys(this.layer_map));\n    }\n\n    // Create new group and add to DOM just after current_layer\n    const currentGroup = this.current_layer.getGroup();\n    const layer = new Layer(name, currentGroup, this.svgElem_);\n    const group = layer.getGroup();\n\n    // Clone children\n    const children = [...currentGroup.childNodes];\n    children.forEach((child) => {\n      if (child.localName === 'title') { return; }\n      group.append(this.copyElem(child));\n    });\n\n    if (hrService) {\n      hrService.startBatchCommand('Duplicate Layer');\n      hrService.insertElement(group);\n      hrService.endBatchCommand();\n    }\n\n    // Update layer containers and current_layer.\n    const index = this.all_layers.indexOf(this.current_layer);\n    if (index >= 0) {\n      this.all_layers.splice(index + 1, 0, layer);\n    } else {\n      this.all_layers.push(layer);\n    }\n    this.layer_map[name] = layer;\n    this.current_layer = layer;\n    return group;\n  }\n\n  /**\n   * Returns whether the layer is visible.  If the layer name is not valid,\n   * then this function returns `false`.\n   * @param {string} layerName - The name of the layer which you want to query.\n   * @returns {boolean} The visibility state of the layer, or `false` if the layer name was invalid.\n  */\n  getLayerVisibility (layerName) {\n    const layer = this.layer_map[layerName];\n    return layer ? layer.isVisible() : false;\n  }\n\n  /**\n   * Sets the visibility of the layer. If the layer name is not valid, this\n   * function returns `null`, otherwise it returns the `SVGElement` representing\n   * the layer. This is an undo-able action.\n   * @param {string} layerName - The name of the layer to change the visibility\n   * @param {boolean} bVisible - Whether the layer should be visible\n   * @returns {?SVGGElement} The SVGGElement representing the layer if the\n   *   `layerName` was valid, otherwise `null`.\n  */\n  setLayerVisibility (layerName, bVisible) {\n    if (typeof bVisible !== 'boolean') {\n      return null;\n    }\n    const layer = this.layer_map[layerName];\n    if (!layer) { return null; }\n    layer.setVisible(bVisible);\n    return layer.getGroup();\n  }\n\n  /**\n   * Returns the opacity of the given layer.  If the input name is not a layer, `null` is returned.\n   * @param {string} layerName - name of the layer on which to get the opacity\n   * @returns {?Float} The opacity value of the given layer.  This will be a value between 0.0 and 1.0, or `null`\n   * if `layerName` is not a valid layer\n  */\n  getLayerOpacity (layerName) {\n    const layer = this.layer_map[layerName];\n    if (!layer) { return null; }\n    return layer.getOpacity();\n  }\n\n  /**\n   * Sets the opacity of the given layer.  If the input name is not a layer,\n   * nothing happens. If opacity is not a value between 0.0 and 1.0, then\n   * nothing happens.\n   * NOTE: this function exists solely to apply a highlighting/de-emphasis\n   * effect to a layer. When it is possible for a user to affect the opacity\n   * of a layer, we will need to allow this function to produce an undo-able\n   * action.\n   * @param {string} layerName - Name of the layer on which to set the opacity\n   * @param {Float} opacity - A float value in the range 0.0-1.0\n   * @returns {void}\n  */\n  setLayerOpacity (layerName, opacity) {\n    if (typeof opacity !== 'number' || opacity < 0.0 || opacity > 1.0) {\n      return;\n    }\n    const layer = this.layer_map[layerName];\n    if (layer) {\n      layer.setOpacity(opacity);\n    }\n  }\n\n  /**\n   * Create a clone of an element, updating its ID and its children's IDs when needed.\n   * @param {Element} el - DOM element to clone\n   * @returns {Element}\n   */\n  copyElem (el) {\n    const that = this;\n    const getNextIdClosure = function () { return that.getNextId(); };\n    return utilCopyElem(el, getNextIdClosure);\n  }\n}\n\n/**\n * Called to ensure that drawings will or will not have randomized ids.\n * The currentDrawing will have its nonce set if it doesn't already.\n * @function module:draw.randomizeIds\n * @param {boolean} enableRandomization - flag indicating if documents should have randomized ids\n * @param {draw.Drawing} currentDrawing\n * @returns {void}\n */\nexport const randomizeIds = function (enableRandomization, currentDrawing) {\n  randIds = enableRandomization === false\n    ? RandomizeModes.NEVER_RANDOMIZE\n    : RandomizeModes.ALWAYS_RANDOMIZE;\n\n  if (randIds === RandomizeModes.ALWAYS_RANDOMIZE && !currentDrawing.getNonce()) {\n    currentDrawing.setNonce(Math.floor(Math.random() * 100001));\n  } else if (randIds === RandomizeModes.NEVER_RANDOMIZE && currentDrawing.getNonce()) {\n    currentDrawing.clearNonce();\n  }\n};\n\n// Layer API Functions\n\n/**\n* Group: Layers.\n*/\n\n/**\n * @see {@link https://api.jquery.com/jQuery.data/}\n * @name external:jQuery.data\n */\n\n/**\n * @interface module:draw.DrawCanvasInit\n * @property {module:path.pathActions} pathActions\n * @property {external:jQuery.data} elData\n * @property {module:history.UndoManager} undoMgr\n */\n/**\n * @function module:draw.DrawCanvasInit#getCurrentGroup\n * @returns {Element}\n */\n/**\n * @function module:draw.DrawCanvasInit#setCurrentGroup\n * @param {Element} cg\n * @returns {void}\n*/\n/**\n * @function module:draw.DrawCanvasInit#getSelectedElements\n * @returns {Element[]} the array with selected DOM elements\n*/\n/**\n * @function module:draw.DrawCanvasInit#getSVGContent\n * @returns {SVGSVGElement}\n */\n/**\n * @function module:draw.DrawCanvasInit#getCurrentDrawing\n * @returns {module:draw.Drawing}\n */\n/**\n * @function module:draw.DrawCanvasInit#clearSelection\n * @param {boolean} [noCall] - When `true`, does not call the \"selected\" handler\n * @returns {void}\n*/\n/**\n * Run the callback function associated with the given event.\n * @function module:draw.DrawCanvasInit#call\n * @param {\"changed\"|\"contextset\"} ev - String with the event name\n * @param {module:svgcanvas.SvgCanvas#event:changed|module:svgcanvas.SvgCanvas#event:contextset} arg - Argument to pass through to the callback\n * function. If the event is \"changed\", a (single-item) array of `Element`s is\n * passed. If the event is \"contextset\", the arg is `null` or `Element`.\n * @returns {void}\n */\n/**\n * @function module:draw.DrawCanvasInit#addCommandToHistory\n * @param {Command} cmd\n * @returns {void}\n*/\n/**\n * @function module:draw.DrawCanvasInit#changeSVGContent\n * @returns {void}\n */\n\nlet canvas_;\n/**\n* @function module:draw.init\n* @param {module:draw.DrawCanvasInit} canvas\n* @returns {void}\n*/\nexport const init = function (canvas) {\n  canvas_ = canvas;\n};\n\n/**\n* Updates layer system.\n* @function module:draw.identifyLayers\n* @returns {void}\n*/\nexport const identifyLayers = function () {\n  leaveContext();\n  canvas_.getCurrentDrawing().identifyLayers();\n};\n\n/**\n* Creates a new top-level layer in the drawing with the given name, sets the current layer\n* to it, and then clears the selection. This function then calls the 'changed' handler.\n* This is an undoable action.\n* @function module:draw.createLayer\n* @param {string} name - The given name\n* @param {module:history.HistoryRecordingService} hrService\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {void}\n*/\nexport const createLayer = function (name, hrService) {\n  const newLayer = canvas_.getCurrentDrawing().createLayer(\n    name,\n    historyRecordingService(hrService)\n  );\n  canvas_.clearSelection();\n  canvas_.call('changed', [newLayer]);\n};\n\n/**\n * Creates a new top-level layer in the drawing with the given name, copies all the current layer's contents\n * to it, and then clears the selection. This function then calls the 'changed' handler.\n * This is an undoable action.\n * @function module:draw.cloneLayer\n * @param {string} name - The given name. If the layer name exists, a new name will be generated.\n * @param {module:history.HistoryRecordingService} hrService - History recording service\n * @fires module:svgcanvas.SvgCanvas#event:changed\n * @returns {void}\n */\nexport const cloneLayer = function (name, hrService) {\n  // Clone the current layer and make the cloned layer the new current layer\n  const newLayer = canvas_.getCurrentDrawing().cloneLayer(name, historyRecordingService(hrService));\n\n  canvas_.clearSelection();\n  leaveContext();\n  canvas_.call('changed', [newLayer]);\n};\n\n/**\n* Deletes the current layer from the drawing and then clears the selection. This function\n* then calls the 'changed' handler. This is an undoable action.\n* @function module:draw.deleteCurrentLayer\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {boolean} `true` if an old layer group was found to delete\n*/\nexport const deleteCurrentLayer = function () {\n  let currentLayer = canvas_.getCurrentDrawing().getCurrentLayer();\n  const {nextSibling} = currentLayer;\n  const parent = currentLayer.parentNode;\n  currentLayer = canvas_.getCurrentDrawing().deleteCurrentLayer();\n  if (currentLayer) {\n    const batchCmd = new BatchCommand('Delete Layer');\n    // store in our Undo History\n    batchCmd.addSubCommand(new RemoveElementCommand(currentLayer, nextSibling, parent));\n    canvas_.addCommandToHistory(batchCmd);\n    canvas_.clearSelection();\n    canvas_.call('changed', [parent]);\n    return true;\n  }\n  return false;\n};\n\n/**\n* Sets the current layer. If the name is not a valid layer name, then this function returns\n* false. Otherwise it returns true. This is not an undo-able action.\n* @function module:draw.setCurrentLayer\n* @param {string} name - The name of the layer you want to switch to.\n* @returns {boolean} true if the current layer was switched, otherwise false\n*/\nexport const setCurrentLayer = function (name) {\n  const result = canvas_.getCurrentDrawing().setCurrentLayer(toXml(name));\n  if (result) {\n    canvas_.clearSelection();\n  }\n  return result;\n};\n\n/**\n* Renames the current layer. If the layer name is not valid (i.e. unique), then this function\n* does nothing and returns `false`, otherwise it returns `true`. This is an undo-able action.\n* @function module:draw.renameCurrentLayer\n* @param {string} newName - the new name you want to give the current layer. This name must\n* be unique among all layer names.\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {boolean} Whether the rename succeeded\n*/\nexport const renameCurrentLayer = function (newName) {\n  const drawing = canvas_.getCurrentDrawing();\n  const layer = drawing.getCurrentLayer();\n  if (layer) {\n    const result = drawing.setCurrentLayerName(newName, historyRecordingService());\n    if (result) {\n      canvas_.call('changed', [layer]);\n      return true;\n    }\n  }\n  return false;\n};\n\n/**\n* Changes the position of the current layer to the new value. If the new index is not valid,\n* this function does nothing and returns false, otherwise it returns true. This is an\n* undo-able action.\n* @function module:draw.setCurrentLayerPosition\n* @param {Integer} newPos - The zero-based index of the new position of the layer. This should be between\n* 0 and (number of layers - 1)\n* @returns {boolean} `true` if the current layer position was changed, `false` otherwise.\n*/\nexport const setCurrentLayerPosition = function (newPos) {\n  const drawing = canvas_.getCurrentDrawing();\n  const result = drawing.setCurrentLayerPosition(newPos);\n  if (result) {\n    canvas_.addCommandToHistory(new MoveElementCommand(result.currentGroup, result.oldNextSibling, canvas_.getSVGContent()));\n    return true;\n  }\n  return false;\n};\n\n/**\n* Sets the visibility of the layer. If the layer name is not valid, this function return\n* `false`, otherwise it returns `true`. This is an undo-able action.\n* @function module:draw.setLayerVisibility\n* @param {string} layerName - The name of the layer to change the visibility\n* @param {boolean} bVisible - Whether the layer should be visible\n* @returns {boolean} true if the layer's visibility was set, false otherwise\n*/\nexport const setLayerVisibility = function (layerName, bVisible) {\n  const drawing = canvas_.getCurrentDrawing();\n  const prevVisibility = drawing.getLayerVisibility(layerName);\n  const layer = drawing.setLayerVisibility(layerName, bVisible);\n  if (layer) {\n    const oldDisplay = prevVisibility ? 'inline' : 'none';\n    canvas_.addCommandToHistory(new ChangeElementCommand(layer, {display: oldDisplay}, 'Layer Visibility'));\n  } else {\n    return false;\n  }\n\n  if (layer === drawing.getCurrentLayer()) {\n    canvas_.clearSelection();\n    canvas_.pathActions.clear();\n  }\n  // call('changed', [selected]);\n  return true;\n};\n\n/**\n* Moves the selected elements to layerName. If the name is not a valid layer name, then `false`\n* is returned. Otherwise it returns `true`. This is an undo-able action.\n* @function module:draw.moveSelectedToLayer\n* @param {string} layerName - The name of the layer you want to which you want to move the selected elements\n* @returns {boolean} Whether the selected elements were moved to the layer.\n*/\nexport const moveSelectedToLayer = function (layerName) {\n  // find the layer\n  const drawing = canvas_.getCurrentDrawing();\n  const layer = drawing.getLayerByName(layerName);\n  if (!layer) { return false; }\n\n  const batchCmd = new BatchCommand('Move Elements to Layer');\n\n  // loop for each selected element and move it\n  const selElems = canvas_.getSelectedElements();\n  let i = selElems.length;\n  while (i--) {\n    const elem = selElems[i];\n    if (!elem) { continue; }\n    const oldNextSibling = elem.nextSibling;\n    // TODO: this is pretty brittle!\n    const oldLayer = elem.parentNode;\n    layer.append(elem);\n    batchCmd.addSubCommand(new MoveElementCommand(elem, oldNextSibling, oldLayer));\n  }\n\n  canvas_.addCommandToHistory(batchCmd);\n\n  return true;\n};\n\n/**\n* @function module:draw.mergeLayer\n* @param {module:history.HistoryRecordingService} hrService\n* @returns {void}\n*/\nexport const mergeLayer = function (hrService) {\n  canvas_.getCurrentDrawing().mergeLayer(historyRecordingService(hrService));\n  canvas_.clearSelection();\n  leaveContext();\n  canvas_.changeSVGContent();\n};\n\n/**\n* @function module:draw.mergeAllLayers\n* @param {module:history.HistoryRecordingService} hrService\n* @returns {void}\n*/\nexport const mergeAllLayers = function (hrService) {\n  canvas_.getCurrentDrawing().mergeAllLayers(historyRecordingService(hrService));\n  canvas_.clearSelection();\n  leaveContext();\n  canvas_.changeSVGContent();\n};\n\n/**\n* Return from a group context to the regular kind, make any previously\n* disabled elements enabled again.\n* @function module:draw.leaveContext\n* @fires module:svgcanvas.SvgCanvas#event:contextset\n* @returns {void}\n*/\nexport const leaveContext = function () {\n  const len = disabledElems.length;\n  if (len) {\n    for (let i = 0; i < len; i++) {\n      const elem = disabledElems[i];\n      const orig = canvas_.elData(elem, 'orig_opac');\n      if (orig !== 1) {\n        elem.setAttribute('opacity', orig);\n      } else {\n        elem.removeAttribute('opacity');\n      }\n      elem.setAttribute('style', 'pointer-events: inherit');\n    }\n    disabledElems = [];\n    canvas_.clearSelection(true);\n    canvas_.call('contextset', null);\n  }\n  canvas_.setCurrentGroup(null);\n};\n\n/**\n* Set the current context (for in-group editing).\n* @function module:draw.setContext\n* @param {Element} elem\n* @fires module:svgcanvas.SvgCanvas#event:contextset\n* @returns {void}\n*/\nexport const setContext = function (elem) {\n  leaveContext();\n  if (typeof elem === 'string') {\n    elem = getElem(elem);\n  }\n\n  // Edit inside this group\n  canvas_.setCurrentGroup(elem);\n\n  // Disable other elements\n  $(elem).parentsUntil('#svgcontent').andSelf().siblings().each(function () {\n    const opac = this.getAttribute('opacity') || 1;\n    // Store the original's opacity\n    canvas_.elData(this, 'orig_opac', opac);\n    this.setAttribute('opacity', opac * 0.33);\n    this.setAttribute('style', 'pointer-events: none');\n    disabledElems.push(this);\n  });\n\n  canvas_.clearSelection();\n  canvas_.call('contextset', canvas_.getCurrentGroup());\n};\n\n/**\n* @memberof module:draw\n* @class Layer\n* @see {@link module:layer.Layer}\n*/\nexport {Layer};\n","/**\n * Tools for SVG sanitization.\n * @module sanitize\n * @license MIT\n *\n * @copyright 2010 Alexis Deveria, 2010 Jeff Schiller\n */\n\nimport {getReverseNS, NS} from '../common/namespaces.js';\nimport {isGecko} from '../common/browser.js';\nimport {getHref, setHref, getUrlFromAttr} from '../common/utilities.js';\n\nconst REVERSE_NS = getReverseNS();\n\n// Todo: Split out into core attributes, presentation attributes, etc. so consistent\n/**\n * This defines which elements and attributes that we support (or at least\n * don't remove).\n * @type {PlainObject}\n */\n/* eslint-disable max-len */\nconst svgWhiteList_ = {\n  // SVG Elements\n  a: ['class', 'clip-path', 'clip-rule', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'id', 'mask', 'opacity', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'style', 'systemLanguage', 'transform', 'xlink:href', 'xlink:title'],\n  circle: ['class', 'clip-path', 'clip-rule', 'cx', 'cy', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'id', 'mask', 'opacity', 'r', 'requiredFeatures', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'style', 'systemLanguage', 'transform'],\n  clipPath: ['class', 'clipPathUnits', 'id'],\n  defs: [],\n  style: ['type'],\n  desc: [],\n  ellipse: ['class', 'clip-path', 'clip-rule', 'cx', 'cy', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'id', 'mask', 'opacity', 'requiredFeatures', 'rx', 'ry', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'style', 'systemLanguage', 'transform'],\n  feGaussianBlur: ['class', 'color-interpolation-filters', 'id', 'requiredFeatures', 'stdDeviation'],\n  feMorphology: ['class', 'in', 'operator', 'radius'],\n  filter: ['class', 'color-interpolation-filters', 'filterRes', 'filterUnits', 'height', 'id', 'primitiveUnits', 'requiredFeatures', 'width', 'x', 'xlink:href', 'y'],\n  foreignObject: ['class', 'font-size', 'height', 'id', 'opacity', 'requiredFeatures', 'style', 'transform', 'width', 'x', 'y'],\n  g: ['class', 'clip-path', 'clip-rule', 'id', 'display', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'mask', 'opacity', 'requiredFeatures', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'style', 'systemLanguage', 'transform', 'font-family', 'font-size', 'font-style', 'font-weight', 'text-anchor'],\n  image: ['class', 'clip-path', 'clip-rule', 'filter', 'height', 'id', 'mask', 'opacity', 'requiredFeatures', 'style', 'systemLanguage', 'transform', 'width', 'x', 'xlink:href', 'xlink:title', 'y'],\n  line: ['class', 'clip-path', 'clip-rule', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'id', 'marker-end', 'marker-mid', 'marker-start', 'mask', 'opacity', 'requiredFeatures', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'style', 'systemLanguage', 'transform', 'x1', 'x2', 'y1', 'y2'],\n  linearGradient: ['class', 'id', 'gradientTransform', 'gradientUnits', 'requiredFeatures', 'spreadMethod', 'systemLanguage', 'x1', 'x2', 'xlink:href', 'y1', 'y2'],\n  marker: ['id', 'class', 'markerHeight', 'markerUnits', 'markerWidth', 'orient', 'preserveAspectRatio', 'refX', 'refY', 'systemLanguage', 'viewBox'],\n  mask: ['class', 'height', 'id', 'maskContentUnits', 'maskUnits', 'width', 'x', 'y'],\n  metadata: ['class', 'id'],\n  path: ['class', 'clip-path', 'clip-rule', 'd', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'id', 'marker-end', 'marker-mid', 'marker-start', 'mask', 'opacity', 'requiredFeatures', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'style', 'systemLanguage', 'transform'],\n  pattern: ['class', 'height', 'id', 'patternContentUnits', 'patternTransform', 'patternUnits', 'requiredFeatures', 'style', 'systemLanguage', 'viewBox', 'width', 'x', 'xlink:href', 'y'],\n  polygon: ['class', 'clip-path', 'clip-rule', 'id', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'id', 'class', 'marker-end', 'marker-mid', 'marker-start', 'mask', 'opacity', 'points', 'requiredFeatures', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'style', 'systemLanguage', 'transform'],\n  polyline: ['class', 'clip-path', 'clip-rule', 'id', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'marker-end', 'marker-mid', 'marker-start', 'mask', 'opacity', 'points', 'requiredFeatures', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'style', 'systemLanguage', 'transform'],\n  radialGradient: ['class', 'cx', 'cy', 'fx', 'fy', 'gradientTransform', 'gradientUnits', 'id', 'r', 'requiredFeatures', 'spreadMethod', 'systemLanguage', 'xlink:href'],\n  rect: ['class', 'clip-path', 'clip-rule', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'height', 'id', 'mask', 'opacity', 'requiredFeatures', 'rx', 'ry', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'style', 'systemLanguage', 'transform', 'width', 'x', 'y'],\n  stop: ['class', 'id', 'offset', 'requiredFeatures', 'stop-color', 'stop-opacity', 'style', 'systemLanguage'],\n  svg: ['class', 'clip-path', 'clip-rule', 'filter', 'id', 'height', 'mask', 'preserveAspectRatio', 'requiredFeatures', 'style', 'systemLanguage', 'viewBox', 'width', 'x', 'xmlns', 'xmlns:se', 'xmlns:xlink', 'y'],\n  switch: ['class', 'id', 'requiredFeatures', 'systemLanguage'],\n  symbol: ['class', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'font-family', 'font-size', 'font-style', 'font-weight', 'id', 'opacity', 'preserveAspectRatio', 'requiredFeatures', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'style', 'systemLanguage', 'transform', 'viewBox'],\n  text: ['class', 'clip-path', 'clip-rule', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'font-family', 'font-size', 'font-style', 'font-weight', 'id', 'mask', 'opacity', 'requiredFeatures', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'style', 'systemLanguage', 'text-anchor', 'transform', 'x', 'xml:space', 'y'],\n  textPath: ['class', 'id', 'method', 'requiredFeatures', 'spacing', 'startOffset', 'style', 'systemLanguage', 'transform', 'xlink:href'],\n  title: [],\n  tspan: ['class', 'clip-path', 'clip-rule', 'dx', 'dy', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'font-family', 'font-size', 'font-style', 'font-weight', 'id', 'mask', 'opacity', 'requiredFeatures', 'rotate', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'style', 'systemLanguage', 'text-anchor', 'textLength', 'transform', 'x', 'xml:space', 'y'],\n  use: ['class', 'clip-path', 'clip-rule', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'height', 'id', 'mask', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'style', 'transform', 'width', 'x', 'xlink:href', 'y'],\n\n  // MathML Elements\n  annotation: ['encoding'],\n  'annotation-xml': ['encoding'],\n  maction: ['actiontype', 'other', 'selection'],\n  math: ['class', 'id', 'display', 'xmlns'],\n  menclose: ['notation'],\n  merror: [],\n  mfrac: ['linethickness'],\n  mi: ['mathvariant'],\n  mmultiscripts: [],\n  mn: [],\n  mo: ['fence', 'lspace', 'maxsize', 'minsize', 'rspace', 'stretchy'],\n  mover: [],\n  mpadded: ['lspace', 'width', 'height', 'depth', 'voffset'],\n  mphantom: [],\n  mprescripts: [],\n  mroot: [],\n  mrow: ['xlink:href', 'xlink:type', 'xmlns:xlink'],\n  mspace: ['depth', 'height', 'width'],\n  msqrt: [],\n  mstyle: ['displaystyle', 'mathbackground', 'mathcolor', 'mathvariant', 'scriptlevel'],\n  msub: [],\n  msubsup: [],\n  msup: [],\n  mtable: ['align', 'columnalign', 'columnlines', 'columnspacing', 'displaystyle', 'equalcolumns', 'equalrows', 'frame', 'rowalign', 'rowlines', 'rowspacing', 'width'],\n  mtd: ['columnalign', 'columnspan', 'rowalign', 'rowspan'],\n  mtext: [],\n  mtr: ['columnalign', 'rowalign'],\n  munder: [],\n  munderover: [],\n  none: [],\n  semantics: []\n};\n/* eslint-enable max-len */\n\n// Produce a Namespace-aware version of svgWhitelist\nconst svgWhiteListNS_ = {};\nObject.entries(svgWhiteList_).forEach(function ([elt, atts]) {\n  const attNS = {};\n  Object.entries(atts).forEach(function ([i, att]) {\n    if (att.includes(':')) {\n      const v = att.split(':');\n      attNS[v[1]] = NS[(v[0]).toUpperCase()];\n    } else {\n      attNS[att] = att === 'xmlns' ? NS.XMLNS : null;\n    }\n  });\n  svgWhiteListNS_[elt] = attNS;\n});\n\n/**\n* Sanitizes the input node and its children.\n* It only keeps what is allowed from our whitelist defined above.\n* @function module:sanitize.sanitizeSvg\n* @param {Text|Element} node - The DOM element to be checked (we'll also check its children) or text node to be cleaned up\n* @returns {void}\n*/\nexport const sanitizeSvg = function (node) {\n  // Cleanup text nodes\n  if (node.nodeType === 3) { // 3 === TEXT_NODE\n    // Trim whitespace\n    node.nodeValue = node.nodeValue.replace(/^\\s+|\\s+$/g, '');\n    // Remove if empty\n    if (!node.nodeValue.length) {\n      node.remove();\n    }\n  }\n\n  // We only care about element nodes.\n  // Automatically return for all non-element nodes, such as comments, etc.\n  if (node.nodeType !== 1) { // 1 == ELEMENT_NODE\n    return;\n  }\n\n  const doc = node.ownerDocument;\n  const parent = node.parentNode;\n  // can parent ever be null here?  I think the root node's parent is the document...\n  if (!doc || !parent) {\n    return;\n  }\n\n  const allowedAttrs = svgWhiteList_[node.nodeName];\n  const allowedAttrsNS = svgWhiteListNS_[node.nodeName];\n  // if this element is supported, sanitize it\n  if (typeof allowedAttrs !== 'undefined') {\n    const seAttrs = [];\n    let i = node.attributes.length;\n    while (i--) {\n      // if the attribute is not in our whitelist, then remove it\n      // could use jQuery's inArray(), but I don't know if that's any better\n      const attr = node.attributes.item(i);\n      const attrName = attr.nodeName;\n      const attrLocalName = attr.localName;\n      const attrNsURI = attr.namespaceURI;\n      // Check that an attribute with the correct localName in the correct namespace is on\n      // our whitelist or is a namespace declaration for one of our allowed namespaces\n      if (!({}.hasOwnProperty.call(allowedAttrsNS, attrLocalName) &&\n        attrNsURI === allowedAttrsNS[attrLocalName] && attrNsURI !== NS.XMLNS\n      ) &&\n        !(attrNsURI === NS.XMLNS && REVERSE_NS[attr.value])) {\n        // TODO(codedread): Programmatically add the se: attributes to the NS-aware whitelist.\n        // Bypassing the whitelist to allow se: prefixes.\n        // Is there a more appropriate way to do this?\n        if (attrName.startsWith('se:') || attrName.startsWith('data-')) {\n          seAttrs.push([attrName, attr.value]);\n        }\n        node.removeAttributeNS(attrNsURI, attrLocalName);\n      }\n\n      // Add spaces before negative signs where necessary\n      if (isGecko()) {\n        switch (attrName) {\n        case 'transform':\n        case 'gradientTransform':\n        case 'patternTransform': {\n          const val = attr.value.replace(/(\\d)-/g, '$1 -');\n          // const val = attr.value.replace(/(?<digit>\\d)-/g, '$<digit> -');\n          node.setAttribute(attrName, val);\n          break;\n        }\n        }\n      }\n\n      // For the style attribute, rewrite it in terms of XML presentational attributes\n      if (attrName === 'style') {\n        const props = attr.value.split(';');\n        let p = props.length;\n        while (p--) {\n          const [name, val] = props[p].split(':');\n          const styleAttrName = (name || '').trim();\n          const styleAttrVal = (val || '').trim();\n          // Now check that this attribute is supported\n          if (allowedAttrs.includes(styleAttrName)) {\n            node.setAttribute(styleAttrName, styleAttrVal);\n          }\n        }\n        node.removeAttribute('style');\n      }\n    }\n\n    Object.values(seAttrs).forEach(([att, val]) => {\n      node.setAttributeNS(NS.SE, att, val);\n    });\n\n    // for some elements that have a xlink:href, ensure the URI refers to a local element\n    // (but not for links)\n    const href = getHref(node);\n    if (href &&\n      ['filter', 'linearGradient', 'pattern',\n        'radialGradient', 'textPath', 'use'].includes(node.nodeName)) {\n      // TODO: we simply check if the first character is a #, is this bullet-proof?\n      if (href[0] !== '#') {\n        // remove the attribute (but keep the element)\n        setHref(node, '');\n        node.removeAttributeNS(NS.XLINK, 'href');\n      }\n    }\n\n    // Safari crashes on a <use> without a xlink:href, so we just remove the node here\n    if (node.nodeName === 'use' && !getHref(node)) {\n      node.remove();\n      return;\n    }\n    // if the element has attributes pointing to a non-local reference,\n    // need to remove the attribute\n    Object.values(['clip-path', 'fill', 'filter', 'marker-end', 'marker-mid', 'marker-start', 'mask', 'stroke'], function (attr) {\n      let val = node.getAttribute(attr);\n      if (val) {\n        val = getUrlFromAttr(val);\n        // simply check for first character being a '#'\n        if (val && val[0] !== '#') {\n          node.setAttribute(attr, '');\n          node.removeAttribute(attr);\n        }\n      }\n    });\n\n    // recurse to children\n    i = node.childNodes.length;\n    while (i--) { sanitizeSvg(node.childNodes.item(i)); }\n  // else (element not supported), remove it\n  } else {\n    // remove all children from this node and insert them before this node\n    // TODO: in the case of animation elements this will hardly ever be correct\n    const children = [];\n    while (node.hasChildNodes()) {\n      children.push(parent.insertBefore(node.firstChild, node));\n    }\n\n    // remove this node from the document altogether\n    node.remove();\n\n    // call sanitizeSvg on each of those children\n    let i = children.length;\n    while (i--) { sanitizeSvg(children[i]); }\n  }\n};\n","/* globals jQuery */\n/**\n * Manipulating coordinates.\n * @module coords\n * @license MIT\n */\n\nimport '../common/svgpathseg.js';\nimport {\n  snapToGrid, assignAttributes, getBBox, getRefElem, findDefs\n} from '../common/utilities.js';\nimport {\n  transformPoint, transformListToTransform, matrixMultiply, transformBox\n} from '../common/math.js';\nimport {getTransformList} from '../common/svgtransformlist.js';\n\nconst $ = jQuery;\n\n// this is how we map paths to our preferred relative segment types\nconst pathMap = [\n  0, 'z', 'M', 'm', 'L', 'l', 'C', 'c', 'Q', 'q', 'A', 'a',\n  'H', 'h', 'V', 'v', 'S', 's', 'T', 't'\n];\n\n/**\n * @interface module:coords.EditorContext\n */\n/**\n * @function module:coords.EditorContext#getGridSnapping\n * @returns {boolean}\n */\n/**\n * @function module:coords.EditorContext#getDrawing\n * @returns {module:draw.Drawing}\n*/\n/**\n * @function module:coords.EditorContext#getSVGRoot\n * @returns {SVGSVGElement}\n*/\n\nlet editorContext_ = null;\n\n/**\n* @function module:coords.init\n* @param {module:svgcanvas.SvgCanvas#event:pointsAdded} editorContext\n* @returns {void}\n*/\nexport const init = function (editorContext) {\n  editorContext_ = editorContext;\n};\n\n/**\n * Applies coordinate changes to an element based on the given matrix.\n * @name module:coords.remapElement\n * @type {module:path.EditorContext#remapElement}\n*/\nexport const remapElement = function (selected, changes, m) {\n  const remap = function (x, y) { return transformPoint(x, y, m); },\n    scalew = function (w) { return m.a * w; },\n    scaleh = function (h) { return m.d * h; },\n    doSnapping = editorContext_.getGridSnapping() && selected.parentNode.parentNode.localName === 'svg',\n    finishUp = function () {\n      if (doSnapping) {\n        Object.entries(changes).forEach(([o, value]) => {\n          changes[o] = snapToGrid(value);\n        });\n      }\n      assignAttributes(selected, changes, 1000, true);\n    },\n    box = getBBox(selected);\n\n  for (let i = 0; i < 2; i++) {\n    const type = i === 0 ? 'fill' : 'stroke';\n    const attrVal = selected.getAttribute(type);\n    if (attrVal && attrVal.startsWith('url(')) {\n      if (m.a < 0 || m.d < 0) {\n        const grad = getRefElem(attrVal);\n        const newgrad = grad.cloneNode(true);\n        if (m.a < 0) {\n          // flip x\n          const x1 = newgrad.getAttribute('x1');\n          const x2 = newgrad.getAttribute('x2');\n          newgrad.setAttribute('x1', -(x1 - 1));\n          newgrad.setAttribute('x2', -(x2 - 1));\n        }\n\n        if (m.d < 0) {\n          // flip y\n          const y1 = newgrad.getAttribute('y1');\n          const y2 = newgrad.getAttribute('y2');\n          newgrad.setAttribute('y1', -(y1 - 1));\n          newgrad.setAttribute('y2', -(y2 - 1));\n        }\n        newgrad.id = editorContext_.getDrawing().getNextId();\n        findDefs().append(newgrad);\n        selected.setAttribute(type, 'url(#' + newgrad.id + ')');\n      }\n\n      // Not really working :(\n      // if (selected.tagName === 'path') {\n      //   reorientGrads(selected, m);\n      // }\n    }\n  }\n\n  const elName = selected.tagName;\n  if (elName === 'g' || elName === 'text' || elName === 'tspan' || elName === 'use') {\n    // if it was a translate, then just update x,y\n    if (m.a === 1 && m.b === 0 && m.c === 0 && m.d === 1 && (m.e !== 0 || m.f !== 0)) {\n      // [T][M] = [M][T']\n      // therefore [T'] = [M_inv][T][M]\n      const existing = transformListToTransform(selected).matrix,\n        tNew = matrixMultiply(existing.inverse(), m, existing);\n      changes.x = Number.parseFloat(changes.x) + tNew.e;\n      changes.y = Number.parseFloat(changes.y) + tNew.f;\n    } else {\n      // we just absorb all matrices into the element and don't do any remapping\n      const chlist = getTransformList(selected);\n      const mt = editorContext_.getSVGRoot().createSVGTransform();\n      mt.setMatrix(matrixMultiply(transformListToTransform(chlist).matrix, m));\n      chlist.clear();\n      chlist.appendItem(mt);\n    }\n  }\n\n  // now we have a set of changes and an applied reduced transform list\n  // we apply the changes directly to the DOM\n  switch (elName) {\n  case 'foreignObject':\n  case 'rect':\n  case 'image': {\n    // Allow images to be inverted (give them matrix when flipped)\n    if (elName === 'image' && (m.a < 0 || m.d < 0)) {\n      // Convert to matrix\n      const chlist = getTransformList(selected);\n      const mt = editorContext_.getSVGRoot().createSVGTransform();\n      mt.setMatrix(matrixMultiply(transformListToTransform(chlist).matrix, m));\n      chlist.clear();\n      chlist.appendItem(mt);\n    } else {\n      const pt1 = remap(changes.x, changes.y);\n      changes.width = scalew(changes.width);\n      changes.height = scaleh(changes.height);\n      changes.x = pt1.x + Math.min(0, changes.width);\n      changes.y = pt1.y + Math.min(0, changes.height);\n      changes.width = Math.abs(changes.width);\n      changes.height = Math.abs(changes.height);\n    }\n    finishUp();\n    break;\n  } case 'ellipse': {\n    const c = remap(changes.cx, changes.cy);\n    changes.cx = c.x;\n    changes.cy = c.y;\n    changes.rx = scalew(changes.rx);\n    changes.ry = scaleh(changes.ry);\n    changes.rx = Math.abs(changes.rx);\n    changes.ry = Math.abs(changes.ry);\n    finishUp();\n    break;\n  } case 'circle': {\n    const c = remap(changes.cx, changes.cy);\n    changes.cx = c.x;\n    changes.cy = c.y;\n    // take the minimum of the new selected box's dimensions for the new circle radius\n    const tbox = transformBox(box.x, box.y, box.width, box.height, m);\n    const w = tbox.tr.x - tbox.tl.x, h = tbox.bl.y - tbox.tl.y;\n    changes.r = Math.min(w / 2, h / 2);\n\n    if (changes.r) { changes.r = Math.abs(changes.r); }\n    finishUp();\n    break;\n  } case 'line': {\n    const pt1 = remap(changes.x1, changes.y1);\n    const pt2 = remap(changes.x2, changes.y2);\n    changes.x1 = pt1.x;\n    changes.y1 = pt1.y;\n    changes.x2 = pt2.x;\n    changes.y2 = pt2.y;\n  } // Fallthrough\n  case 'text':\n  case 'tspan':\n  case 'use': {\n    finishUp();\n    break;\n  } case 'g': {\n    const gsvg = $(selected).data('gsvg');\n    if (gsvg) {\n      assignAttributes(gsvg, changes, 1000, true);\n    }\n    break;\n  } case 'polyline':\n  case 'polygon': {\n    const len = changes.points.length;\n    for (let i = 0; i < len; ++i) {\n      const pt = changes.points[i];\n      const {x, y} = remap(pt.x, pt.y);\n      changes.points[i].x = x;\n      changes.points[i].y = y;\n    }\n\n    // const len = changes.points.length;\n    let pstr = '';\n    for (let i = 0; i < len; ++i) {\n      const pt = changes.points[i];\n      pstr += pt.x + ',' + pt.y + ' ';\n    }\n    selected.setAttribute('points', pstr);\n    break;\n  } case 'path': {\n    const segList = selected.pathSegList;\n    let len = segList.numberOfItems;\n    changes.d = [];\n    for (let i = 0; i < len; ++i) {\n      const seg = segList.getItem(i);\n      changes.d[i] = {\n        type: seg.pathSegType,\n        x: seg.x,\n        y: seg.y,\n        x1: seg.x1,\n        y1: seg.y1,\n        x2: seg.x2,\n        y2: seg.y2,\n        r1: seg.r1,\n        r2: seg.r2,\n        angle: seg.angle,\n        largeArcFlag: seg.largeArcFlag,\n        sweepFlag: seg.sweepFlag\n      };\n    }\n\n    len = changes.d.length;\n    const firstseg = changes.d[0],\n      currentpt = remap(firstseg.x, firstseg.y);\n    changes.d[0].x = currentpt.x;\n    changes.d[0].y = currentpt.y;\n    for (let i = 1; i < len; ++i) {\n      const seg = changes.d[i];\n      const {type} = seg;\n      // if absolute or first segment, we want to remap x, y, x1, y1, x2, y2\n      // if relative, we want to scalew, scaleh\n      if (type % 2 === 0) { // absolute\n        const thisx = (seg.x !== undefined) ? seg.x : currentpt.x, // for V commands\n          thisy = (seg.y !== undefined) ? seg.y : currentpt.y; // for H commands\n        const pt = remap(thisx, thisy);\n        const pt1 = remap(seg.x1, seg.y1);\n        const pt2 = remap(seg.x2, seg.y2);\n        seg.x = pt.x;\n        seg.y = pt.y;\n        seg.x1 = pt1.x;\n        seg.y1 = pt1.y;\n        seg.x2 = pt2.x;\n        seg.y2 = pt2.y;\n        seg.r1 = scalew(seg.r1);\n        seg.r2 = scaleh(seg.r2);\n      } else { // relative\n        seg.x = scalew(seg.x);\n        seg.y = scaleh(seg.y);\n        seg.x1 = scalew(seg.x1);\n        seg.y1 = scaleh(seg.y1);\n        seg.x2 = scalew(seg.x2);\n        seg.y2 = scaleh(seg.y2);\n        seg.r1 = scalew(seg.r1);\n        seg.r2 = scaleh(seg.r2);\n      }\n    } // for each segment\n\n    let dstr = '';\n    len = changes.d.length;\n    for (let i = 0; i < len; ++i) {\n      const seg = changes.d[i];\n      const {type} = seg;\n      dstr += pathMap[type];\n      switch (type) {\n      case 13: // relative horizontal line (h)\n      case 12: // absolute horizontal line (H)\n        dstr += seg.x + ' ';\n        break;\n      case 15: // relative vertical line (v)\n      case 14: // absolute vertical line (V)\n        dstr += seg.y + ' ';\n        break;\n      case 3: // relative move (m)\n      case 5: // relative line (l)\n      case 19: // relative smooth quad (t)\n      case 2: // absolute move (M)\n      case 4: // absolute line (L)\n      case 18: // absolute smooth quad (T)\n        dstr += seg.x + ',' + seg.y + ' ';\n        break;\n      case 7: // relative cubic (c)\n      case 6: // absolute cubic (C)\n        dstr += seg.x1 + ',' + seg.y1 + ' ' + seg.x2 + ',' + seg.y2 + ' ' +\n          seg.x + ',' + seg.y + ' ';\n        break;\n      case 9: // relative quad (q)\n      case 8: // absolute quad (Q)\n        dstr += seg.x1 + ',' + seg.y1 + ' ' + seg.x + ',' + seg.y + ' ';\n        break;\n      case 11: // relative elliptical arc (a)\n      case 10: // absolute elliptical arc (A)\n        dstr += seg.r1 + ',' + seg.r2 + ' ' + seg.angle + ' ' + Number(seg.largeArcFlag) +\n          ' ' + Number(seg.sweepFlag) + ' ' + seg.x + ',' + seg.y + ' ';\n        break;\n      case 17: // relative smooth cubic (s)\n      case 16: // absolute smooth cubic (S)\n        dstr += seg.x2 + ',' + seg.y2 + ' ' + seg.x + ',' + seg.y + ' ';\n        break;\n      }\n    }\n\n    selected.setAttribute('d', dstr);\n    break;\n  }\n  }\n};\n","/* globals jQuery */\n/**\n * Recalculate.\n * @module recalculate\n * @license MIT\n */\n\nimport jQueryPluginSVG from '../common/jQuery.attr.js'; // Needed for SVG attribute setting and array form with `attr`\nimport {NS} from '../common/namespaces.js';\nimport {convertToNum} from '../common/units.js';\nimport {isWebkit} from '../common/browser.js';\nimport {getTransformList} from '../common/svgtransformlist.js';\nimport {getRotationAngle, getHref, getBBox, getRefElem, isNullish} from '../common/utilities.js';\nimport {BatchCommand, ChangeElementCommand} from './history.js';\nimport {remapElement} from './coords.js';\nimport {\n  isIdentity, matrixMultiply, transformPoint, transformListToTransform,\n  hasMatrixTransform\n} from '../common/math.js';\n\nconst $ = jQueryPluginSVG(jQuery);\n\nlet context_;\n\n/**\n* @interface module:recalculate.EditorContext\n*/\n/**\n * @function module:recalculate.EditorContext#getSVGRoot\n * @returns {SVGSVGElement} The root DOM element\n */\n/**\n * @function module:recalculate.EditorContext#getStartTransform\n * @returns {string}\n*/\n/**\n * @function module:recalculate.EditorContext#setStartTransform\n * @param {string} transform\n * @returns {void}\n */\n\n/**\n* @function module:recalculate.init\n* @param {module:recalculate.EditorContext} editorContext\n* @returns {void}\n*/\nexport const init = function (editorContext) {\n  context_ = editorContext;\n};\n\n/**\n* Updates a `<clipPath>`s values based on the given translation of an element.\n* @function module:recalculate.updateClipPath\n* @param {string} attr - The clip-path attribute value with the clipPath's ID\n* @param {Float} tx - The translation's x value\n* @param {Float} ty - The translation's y value\n* @returns {void}\n*/\nexport const updateClipPath = function (attr, tx, ty) {\n  const path = getRefElem(attr).firstChild;\n  const cpXform = getTransformList(path);\n  const newxlate = context_.getSVGRoot().createSVGTransform();\n  newxlate.setTranslate(tx, ty);\n\n  cpXform.appendItem(newxlate);\n\n  // Update clipPath's dimensions\n  recalculateDimensions(path);\n};\n\n/**\n* Decides the course of action based on the element's transform list.\n* @function module:recalculate.recalculateDimensions\n* @param {Element} selected - The DOM element to recalculate\n* @returns {Command} Undo command object with the resulting change\n*/\nexport const recalculateDimensions = function (selected) {\n  if (isNullish(selected)) { return null; }\n\n  // Firefox Issue - 1081\n  if (selected.nodeName === 'svg' && navigator.userAgent.includes('Firefox/20')) {\n    return null;\n  }\n\n  const svgroot = context_.getSVGRoot();\n  const tlist = getTransformList(selected);\n\n  // remove any unnecessary transforms\n  if (tlist && tlist.numberOfItems > 0) {\n    let k = tlist.numberOfItems;\n    const noi = k;\n    while (k--) {\n      const xform = tlist.getItem(k);\n      if (xform.type === 0) {\n        tlist.removeItem(k);\n      // remove identity matrices\n      } else if (xform.type === 1) {\n        if (isIdentity(xform.matrix)) {\n          if (noi === 1) {\n            // Overcome Chrome bug (though only when noi is 1) with\n            //    `removeItem` preventing `removeAttribute` from\n            //    subsequently working\n            // See https://bugs.chromium.org/p/chromium/issues/detail?id=843901\n            selected.removeAttribute('transform');\n            return null;\n          }\n          tlist.removeItem(k);\n        }\n      // remove zero-degree rotations\n      } else if (xform.type === 4) {\n        if (xform.angle === 0) {\n          tlist.removeItem(k);\n        }\n      }\n    }\n    // End here if all it has is a rotation\n    if (tlist.numberOfItems === 1 &&\n        getRotationAngle(selected)) { return null; }\n  }\n\n  // if this element had no transforms, we are done\n  if (!tlist || tlist.numberOfItems === 0) {\n    // Chrome apparently had a bug that requires clearing the attribute first.\n    selected.setAttribute('transform', '');\n    // However, this still next line currently doesn't work at all in Chrome\n    selected.removeAttribute('transform');\n    // selected.transform.baseVal.clear(); // Didn't help for Chrome bug\n    return null;\n  }\n\n  // TODO: Make this work for more than 2\n  if (tlist) {\n    let mxs = [];\n    let k = tlist.numberOfItems;\n    while (k--) {\n      const xform = tlist.getItem(k);\n      if (xform.type === 1) {\n        mxs.push([xform.matrix, k]);\n      } else if (mxs.length) {\n        mxs = [];\n      }\n    }\n    if (mxs.length === 2) {\n      const mNew = svgroot.createSVGTransformFromMatrix(matrixMultiply(mxs[1][0], mxs[0][0]));\n      tlist.removeItem(mxs[0][1]);\n      tlist.removeItem(mxs[1][1]);\n      tlist.insertItemBefore(mNew, mxs[1][1]);\n    }\n\n    // combine matrix + translate\n    k = tlist.numberOfItems;\n    if (k >= 2 && tlist.getItem(k - 2).type === 1 && tlist.getItem(k - 1).type === 2) {\n      const mt = svgroot.createSVGTransform();\n\n      const m = matrixMultiply(\n        tlist.getItem(k - 2).matrix,\n        tlist.getItem(k - 1).matrix\n      );\n      mt.setMatrix(m);\n      tlist.removeItem(k - 2);\n      tlist.removeItem(k - 2);\n      tlist.appendItem(mt);\n    }\n  }\n\n  // If it still has a single [M] or [R][M], return null too (prevents BatchCommand from being returned).\n  switch (selected.tagName) {\n  // Ignore these elements, as they can absorb the [M]\n  case 'line':\n  case 'polyline':\n  case 'polygon':\n  case 'path':\n    break;\n  default:\n    if ((tlist.numberOfItems === 1 && tlist.getItem(0).type === 1) ||\n        (tlist.numberOfItems === 2 && tlist.getItem(0).type === 1 && tlist.getItem(0).type === 4)) {\n      return null;\n    }\n  }\n\n  // Grouped SVG element\n  const gsvg = $(selected).data('gsvg');\n\n  // we know we have some transforms, so set up return variable\n  const batchCmd = new BatchCommand('Transform');\n\n  // store initial values that will be affected by reducing the transform list\n  let changes = {};\n  let initial = null;\n  let attrs = [];\n  switch (selected.tagName) {\n  case 'line':\n    attrs = ['x1', 'y1', 'x2', 'y2'];\n    break;\n  case 'circle':\n    attrs = ['cx', 'cy', 'r'];\n    break;\n  case 'ellipse':\n    attrs = ['cx', 'cy', 'rx', 'ry'];\n    break;\n  case 'foreignObject':\n  case 'rect':\n  case 'image':\n    attrs = ['width', 'height', 'x', 'y'];\n    break;\n  case 'use':\n  case 'text':\n  case 'tspan':\n    attrs = ['x', 'y'];\n    break;\n  case 'polygon':\n  case 'polyline': {\n    initial = {};\n    initial.points = selected.getAttribute('points');\n    const list = selected.points;\n    const len = list.numberOfItems;\n    changes.points = new Array(len);\n    for (let i = 0; i < len; ++i) {\n      const pt = list.getItem(i);\n      changes.points[i] = {x: pt.x, y: pt.y};\n    }\n    break;\n  } case 'path':\n    initial = {};\n    initial.d = selected.getAttribute('d');\n    changes.d = selected.getAttribute('d');\n    break;\n  } // switch on element type to get initial values\n\n  if (attrs.length) {\n    changes = $(selected).attr(attrs);\n    $.each(changes, function (attr, val) {\n      changes[attr] = convertToNum(attr, val);\n    });\n  } else if (gsvg) {\n    // GSVG exception\n    changes = {\n      x: $(gsvg).attr('x') || 0,\n      y: $(gsvg).attr('y') || 0\n    };\n  }\n\n  // if we haven't created an initial array in polygon/polyline/path, then\n  // make a copy of initial values and include the transform\n  if (isNullish(initial)) {\n    initial = $.extend(true, {}, changes);\n    $.each(initial, function (attr, val) {\n      initial[attr] = convertToNum(attr, val);\n    });\n  }\n  // save the start transform value too\n  initial.transform = context_.getStartTransform() || '';\n\n  let oldcenter, newcenter;\n\n  // if it's a regular group, we have special processing to flatten transforms\n  if ((selected.tagName === 'g' && !gsvg) || selected.tagName === 'a') {\n    const box = getBBox(selected);\n\n    oldcenter = {x: box.x + box.width / 2, y: box.y + box.height / 2};\n    newcenter = transformPoint(\n      box.x + box.width / 2,\n      box.y + box.height / 2,\n      transformListToTransform(tlist).matrix\n    );\n    // let m = svgroot.createSVGMatrix();\n\n    // temporarily strip off the rotate and save the old center\n    const gangle = getRotationAngle(selected);\n    if (gangle) {\n      const a = gangle * Math.PI / 180;\n      let s;\n      if (Math.abs(a) > (1.0e-10)) {\n        s = Math.sin(a) / (1 - Math.cos(a));\n      } else {\n        // TODO: This blows up if the angle is exactly 0!\n        s = 2 / a;\n      }\n      for (let i = 0; i < tlist.numberOfItems; ++i) {\n        const xform = tlist.getItem(i);\n        if (xform.type === 4) {\n          // extract old center through mystical arts\n          const rm = xform.matrix;\n          oldcenter.y = (s * rm.e + rm.f) / 2;\n          oldcenter.x = (rm.e - s * rm.f) / 2;\n          tlist.removeItem(i);\n          break;\n        }\n      }\n    }\n    const N = tlist.numberOfItems;\n    let tx = 0, ty = 0, operation = 0;\n\n    let firstM;\n    if (N) {\n      firstM = tlist.getItem(0).matrix;\n    }\n\n    let oldStartTransform;\n    // first, if it was a scale then the second-last transform will be it\n    if (N >= 3 && tlist.getItem(N - 2).type === 3 &&\n      tlist.getItem(N - 3).type === 2 && tlist.getItem(N - 1).type === 2) {\n      operation = 3; // scale\n\n      // if the children are unrotated, pass the scale down directly\n      // otherwise pass the equivalent matrix() down directly\n      const tm = tlist.getItem(N - 3).matrix,\n        sm = tlist.getItem(N - 2).matrix,\n        tmn = tlist.getItem(N - 1).matrix;\n\n      const children = selected.childNodes;\n      let c = children.length;\n      while (c--) {\n        const child = children.item(c);\n        tx = 0;\n        ty = 0;\n        if (child.nodeType === 1) {\n          const childTlist = getTransformList(child);\n\n          // some children might not have a transform (<metadata>, <defs>, etc)\n          if (!childTlist) { continue; }\n\n          const m = transformListToTransform(childTlist).matrix;\n\n          // Convert a matrix to a scale if applicable\n          // if (hasMatrixTransform(childTlist) && childTlist.numberOfItems == 1) {\n          //   if (m.b==0 && m.c==0 && m.e==0 && m.f==0) {\n          //     childTlist.removeItem(0);\n          //     const translateOrigin = svgroot.createSVGTransform(),\n          //       scale = svgroot.createSVGTransform(),\n          //       translateBack = svgroot.createSVGTransform();\n          //     translateOrigin.setTranslate(0, 0);\n          //     scale.setScale(m.a, m.d);\n          //     translateBack.setTranslate(0, 0);\n          //     childTlist.appendItem(translateBack);\n          //     childTlist.appendItem(scale);\n          //     childTlist.appendItem(translateOrigin);\n          //   }\n          // }\n\n          const angle = getRotationAngle(child);\n          oldStartTransform = context_.getStartTransform();\n          // const childxforms = [];\n          context_.setStartTransform(child.getAttribute('transform'));\n          if (angle || hasMatrixTransform(childTlist)) {\n            const e2t = svgroot.createSVGTransform();\n            e2t.setMatrix(matrixMultiply(tm, sm, tmn, m));\n            childTlist.clear();\n            childTlist.appendItem(e2t);\n            // childxforms.push(e2t);\n          // if not rotated or skewed, push the [T][S][-T] down to the child\n          } else {\n            // update the transform list with translate,scale,translate\n\n            // slide the [T][S][-T] from the front to the back\n            // [T][S][-T][M] = [M][T2][S2][-T2]\n\n            // (only bringing [-T] to the right of [M])\n            // [T][S][-T][M] = [T][S][M][-T2]\n            // [-T2] = [M_inv][-T][M]\n            const t2n = matrixMultiply(m.inverse(), tmn, m);\n            // [T2] is always negative translation of [-T2]\n            const t2 = svgroot.createSVGMatrix();\n            t2.e = -t2n.e;\n            t2.f = -t2n.f;\n\n            // [T][S][-T][M] = [M][T2][S2][-T2]\n            // [S2] = [T2_inv][M_inv][T][S][-T][M][-T2_inv]\n            const s2 = matrixMultiply(t2.inverse(), m.inverse(), tm, sm, tmn, m, t2n.inverse());\n\n            const translateOrigin = svgroot.createSVGTransform(),\n              scale = svgroot.createSVGTransform(),\n              translateBack = svgroot.createSVGTransform();\n            translateOrigin.setTranslate(t2n.e, t2n.f);\n            scale.setScale(s2.a, s2.d);\n            translateBack.setTranslate(t2.e, t2.f);\n            childTlist.appendItem(translateBack);\n            childTlist.appendItem(scale);\n            childTlist.appendItem(translateOrigin);\n            // childxforms.push(translateBack);\n            // childxforms.push(scale);\n            // childxforms.push(translateOrigin);\n            // logMatrix(translateBack.matrix);\n            // logMatrix(scale.matrix);\n          } // not rotated\n          batchCmd.addSubCommand(recalculateDimensions(child));\n          // TODO: If any <use> have this group as a parent and are\n          // referencing this child, then we need to impose a reverse\n          // scale on it so that when it won't get double-translated\n          // const uses = selected.getElementsByTagNameNS(NS.SVG, 'use');\n          // const href = '#' + child.id;\n          // let u = uses.length;\n          // while (u--) {\n          //   const useElem = uses.item(u);\n          //   if (href == getHref(useElem)) {\n          //     const usexlate = svgroot.createSVGTransform();\n          //     usexlate.setTranslate(-tx,-ty);\n          //     getTransformList(useElem).insertItemBefore(usexlate,0);\n          //     batchCmd.addSubCommand( recalculateDimensions(useElem) );\n          //   }\n          // }\n          context_.setStartTransform(oldStartTransform);\n        } // element\n      } // for each child\n      // Remove these transforms from group\n      tlist.removeItem(N - 1);\n      tlist.removeItem(N - 2);\n      tlist.removeItem(N - 3);\n    } else if (N >= 3 && tlist.getItem(N - 1).type === 1) {\n      operation = 3; // scale\n      const m = transformListToTransform(tlist).matrix;\n      const e2t = svgroot.createSVGTransform();\n      e2t.setMatrix(m);\n      tlist.clear();\n      tlist.appendItem(e2t);\n    // next, check if the first transform was a translate\n    // if we had [ T1 ] [ M ] we want to transform this into [ M ] [ T2 ]\n    // therefore [ T2 ] = [ M_inv ] [ T1 ] [ M ]\n    } else if ((N === 1 || (N > 1 && tlist.getItem(1).type !== 3)) &&\n      tlist.getItem(0).type === 2) {\n      operation = 2; // translate\n      const T_M = transformListToTransform(tlist).matrix;\n      tlist.removeItem(0);\n      const mInv = transformListToTransform(tlist).matrix.inverse();\n      const M2 = matrixMultiply(mInv, T_M);\n\n      tx = M2.e;\n      ty = M2.f;\n\n      if (tx !== 0 || ty !== 0) {\n        // we pass the translates down to the individual children\n        const children = selected.childNodes;\n        let c = children.length;\n\n        const clipPathsDone = [];\n        while (c--) {\n          const child = children.item(c);\n          if (child.nodeType === 1) {\n            // Check if child has clip-path\n            if (child.getAttribute('clip-path')) {\n              // tx, ty\n              const attr = child.getAttribute('clip-path');\n              if (!clipPathsDone.includes(attr)) {\n                updateClipPath(attr, tx, ty);\n                clipPathsDone.push(attr);\n              }\n            }\n\n            oldStartTransform = context_.getStartTransform();\n            context_.setStartTransform(child.getAttribute('transform'));\n\n            const childTlist = getTransformList(child);\n            // some children might not have a transform (<metadata>, <defs>, etc)\n            if (childTlist) {\n              const newxlate = svgroot.createSVGTransform();\n              newxlate.setTranslate(tx, ty);\n              if (childTlist.numberOfItems) {\n                childTlist.insertItemBefore(newxlate, 0);\n              } else {\n                childTlist.appendItem(newxlate);\n              }\n              batchCmd.addSubCommand(recalculateDimensions(child));\n              // If any <use> have this group as a parent and are\n              // referencing this child, then impose a reverse translate on it\n              // so that when it won't get double-translated\n              const uses = selected.getElementsByTagNameNS(NS.SVG, 'use');\n              const href = '#' + child.id;\n              let u = uses.length;\n              while (u--) {\n                const useElem = uses.item(u);\n                if (href === getHref(useElem)) {\n                  const usexlate = svgroot.createSVGTransform();\n                  usexlate.setTranslate(-tx, -ty);\n                  getTransformList(useElem).insertItemBefore(usexlate, 0);\n                  batchCmd.addSubCommand(recalculateDimensions(useElem));\n                }\n              }\n              context_.setStartTransform(oldStartTransform);\n            }\n          }\n        }\n        context_.setStartTransform(oldStartTransform);\n      }\n    // else, a matrix imposition from a parent group\n    // keep pushing it down to the children\n    } else if (N === 1 && tlist.getItem(0).type === 1 && !gangle) {\n      operation = 1;\n      const m = tlist.getItem(0).matrix,\n        children = selected.childNodes;\n      let c = children.length;\n      while (c--) {\n        const child = children.item(c);\n        if (child.nodeType === 1) {\n          oldStartTransform = context_.getStartTransform();\n          context_.setStartTransform(child.getAttribute('transform'));\n          const childTlist = getTransformList(child);\n\n          if (!childTlist) { continue; }\n\n          const em = matrixMultiply(m, transformListToTransform(childTlist).matrix);\n          const e2m = svgroot.createSVGTransform();\n          e2m.setMatrix(em);\n          childTlist.clear();\n          childTlist.appendItem(e2m, 0);\n\n          batchCmd.addSubCommand(recalculateDimensions(child));\n          context_.setStartTransform(oldStartTransform);\n\n          // Convert stroke\n          // TODO: Find out if this should actually happen somewhere else\n          const sw = child.getAttribute('stroke-width');\n          if (child.getAttribute('stroke') !== 'none' && !isNaN(sw)) {\n            const avg = (Math.abs(em.a) + Math.abs(em.d)) / 2;\n            child.setAttribute('stroke-width', sw * avg);\n          }\n        }\n      }\n      tlist.clear();\n    // else it was just a rotate\n    } else {\n      if (gangle) {\n        const newRot = svgroot.createSVGTransform();\n        newRot.setRotate(gangle, newcenter.x, newcenter.y);\n        if (tlist.numberOfItems) {\n          tlist.insertItemBefore(newRot, 0);\n        } else {\n          tlist.appendItem(newRot);\n        }\n      }\n      if (tlist.numberOfItems === 0) {\n        selected.removeAttribute('transform');\n      }\n      return null;\n    }\n\n    // if it was a translate, put back the rotate at the new center\n    if (operation === 2) {\n      if (gangle) {\n        newcenter = {\n          x: oldcenter.x + firstM.e,\n          y: oldcenter.y + firstM.f\n        };\n\n        const newRot = svgroot.createSVGTransform();\n        newRot.setRotate(gangle, newcenter.x, newcenter.y);\n        if (tlist.numberOfItems) {\n          tlist.insertItemBefore(newRot, 0);\n        } else {\n          tlist.appendItem(newRot);\n        }\n      }\n    // if it was a resize\n    } else if (operation === 3) {\n      const m = transformListToTransform(tlist).matrix;\n      const roldt = svgroot.createSVGTransform();\n      roldt.setRotate(gangle, oldcenter.x, oldcenter.y);\n      const rold = roldt.matrix;\n      const rnew = svgroot.createSVGTransform();\n      rnew.setRotate(gangle, newcenter.x, newcenter.y);\n      const rnewInv = rnew.matrix.inverse(),\n        mInv = m.inverse(),\n        extrat = matrixMultiply(mInv, rnewInv, rold, m);\n\n      tx = extrat.e;\n      ty = extrat.f;\n\n      if (tx !== 0 || ty !== 0) {\n        // now push this transform down to the children\n        // we pass the translates down to the individual children\n        const children = selected.childNodes;\n        let c = children.length;\n        while (c--) {\n          const child = children.item(c);\n          if (child.nodeType === 1) {\n            oldStartTransform = context_.getStartTransform();\n            context_.setStartTransform(child.getAttribute('transform'));\n            const childTlist = getTransformList(child);\n            const newxlate = svgroot.createSVGTransform();\n            newxlate.setTranslate(tx, ty);\n            if (childTlist.numberOfItems) {\n              childTlist.insertItemBefore(newxlate, 0);\n            } else {\n              childTlist.appendItem(newxlate);\n            }\n\n            batchCmd.addSubCommand(recalculateDimensions(child));\n            context_.setStartTransform(oldStartTransform);\n          }\n        }\n      }\n\n      if (gangle) {\n        if (tlist.numberOfItems) {\n          tlist.insertItemBefore(rnew, 0);\n        } else {\n          tlist.appendItem(rnew);\n        }\n      }\n    }\n  // else, it's a non-group\n  } else {\n    // TODO: box might be null for some elements (<metadata> etc), need to handle this\n    const box = getBBox(selected);\n\n    // Paths (and possbly other shapes) will have no BBox while still in <defs>,\n    // but we still may need to recalculate them (see issue 595).\n    // TODO: Figure out how to get BBox from these elements in case they\n    // have a rotation transform\n\n    if (!box && selected.tagName !== 'path') return null;\n\n    let m; // = svgroot.createSVGMatrix();\n    // temporarily strip off the rotate and save the old center\n    const angle = getRotationAngle(selected);\n    if (angle) {\n      oldcenter = {x: box.x + box.width / 2, y: box.y + box.height / 2};\n      newcenter = transformPoint(\n        box.x + box.width / 2,\n        box.y + box.height / 2,\n        transformListToTransform(tlist).matrix\n      );\n\n      const a = angle * Math.PI / 180;\n      const s = (Math.abs(a) > (1.0e-10))\n        ? Math.sin(a) / (1 - Math.cos(a))\n        // TODO: This blows up if the angle is exactly 0!\n        : 2 / a;\n\n      for (let i = 0; i < tlist.numberOfItems; ++i) {\n        const xform = tlist.getItem(i);\n        if (xform.type === 4) {\n          // extract old center through mystical arts\n          const rm = xform.matrix;\n          oldcenter.y = (s * rm.e + rm.f) / 2;\n          oldcenter.x = (rm.e - s * rm.f) / 2;\n          tlist.removeItem(i);\n          break;\n        }\n      }\n    }\n\n    // 2 = translate, 3 = scale, 4 = rotate, 1 = matrix imposition\n    let operation = 0;\n    const N = tlist.numberOfItems;\n\n    // Check if it has a gradient with userSpaceOnUse, in which case\n    // adjust it by recalculating the matrix transform.\n    // TODO: Make this work in Webkit using transformlist.SVGTransformList\n    if (!isWebkit()) {\n      const fill = selected.getAttribute('fill');\n      if (fill && fill.startsWith('url(')) {\n        const paint = getRefElem(fill);\n        let type = 'pattern';\n        if (paint.tagName !== type) type = 'gradient';\n        const attrVal = paint.getAttribute(type + 'Units');\n        if (attrVal === 'userSpaceOnUse') {\n          // Update the userSpaceOnUse element\n          m = transformListToTransform(tlist).matrix;\n          const gtlist = getTransformList(paint);\n          const gmatrix = transformListToTransform(gtlist).matrix;\n          m = matrixMultiply(m, gmatrix);\n          const mStr = 'matrix(' + [m.a, m.b, m.c, m.d, m.e, m.f].join(',') + ')';\n          paint.setAttribute(type + 'Transform', mStr);\n        }\n      }\n    }\n\n    // first, if it was a scale of a non-skewed element, then the second-last\n    // transform will be the [S]\n    // if we had [M][T][S][T] we want to extract the matrix equivalent of\n    // [T][S][T] and push it down to the element\n    if (N >= 3 && tlist.getItem(N - 2).type === 3 &&\n      tlist.getItem(N - 3).type === 2 && tlist.getItem(N - 1).type === 2) {\n      // Removed this so a <use> with a given [T][S][T] would convert to a matrix.\n      // Is that bad?\n      //  && selected.nodeName != 'use'\n      operation = 3; // scale\n      m = transformListToTransform(tlist, N - 3, N - 1).matrix;\n      tlist.removeItem(N - 1);\n      tlist.removeItem(N - 2);\n      tlist.removeItem(N - 3);\n    // if we had [T][S][-T][M], then this was a skewed element being resized\n    // Thus, we simply combine it all into one matrix\n    } else if (N === 4 && tlist.getItem(N - 1).type === 1) {\n      operation = 3; // scale\n      m = transformListToTransform(tlist).matrix;\n      const e2t = svgroot.createSVGTransform();\n      e2t.setMatrix(m);\n      tlist.clear();\n      tlist.appendItem(e2t);\n      // reset the matrix so that the element is not re-mapped\n      m = svgroot.createSVGMatrix();\n    // if we had [R][T][S][-T][M], then this was a rotated matrix-element\n    // if we had [T1][M] we want to transform this into [M][T2]\n    // therefore [ T2 ] = [ M_inv ] [ T1 ] [ M ] and we can push [T2]\n    // down to the element\n    } else if ((N === 1 || (N > 1 && tlist.getItem(1).type !== 3)) &&\n      tlist.getItem(0).type === 2) {\n      operation = 2; // translate\n      const oldxlate = tlist.getItem(0).matrix,\n        meq = transformListToTransform(tlist, 1).matrix,\n        meqInv = meq.inverse();\n      m = matrixMultiply(meqInv, oldxlate, meq);\n      tlist.removeItem(0);\n    // else if this child now has a matrix imposition (from a parent group)\n    // we might be able to simplify\n    } else if (N === 1 && tlist.getItem(0).type === 1 && !angle) {\n      // Remap all point-based elements\n      m = transformListToTransform(tlist).matrix;\n      switch (selected.tagName) {\n      case 'line':\n        changes = $(selected).attr(['x1', 'y1', 'x2', 'y2']);\n        // Fallthrough\n      case 'polyline':\n      case 'polygon':\n        changes.points = selected.getAttribute('points');\n        if (changes.points) {\n          const list = selected.points;\n          const len = list.numberOfItems;\n          changes.points = new Array(len);\n          for (let i = 0; i < len; ++i) {\n            const pt = list.getItem(i);\n            changes.points[i] = {x: pt.x, y: pt.y};\n          }\n        }\n        // Fallthrough\n      case 'path':\n        changes.d = selected.getAttribute('d');\n        operation = 1;\n        tlist.clear();\n        break;\n      default:\n        break;\n      }\n    // if it was a rotation, put the rotate back and return without a command\n    // (this function has zero work to do for a rotate())\n    } else {\n      // operation = 4; // rotation\n      if (angle) {\n        const newRot = svgroot.createSVGTransform();\n        newRot.setRotate(angle, newcenter.x, newcenter.y);\n\n        if (tlist.numberOfItems) {\n          tlist.insertItemBefore(newRot, 0);\n        } else {\n          tlist.appendItem(newRot);\n        }\n      }\n      if (tlist.numberOfItems === 0) {\n        selected.removeAttribute('transform');\n      }\n      return null;\n    }\n\n    // if it was a translate or resize, we need to remap the element and absorb the xform\n    if (operation === 1 || operation === 2 || operation === 3) {\n      remapElement(selected, changes, m);\n    } // if we are remapping\n\n    // if it was a translate, put back the rotate at the new center\n    if (operation === 2) {\n      if (angle) {\n        if (!hasMatrixTransform(tlist)) {\n          newcenter = {\n            x: oldcenter.x + m.e,\n            y: oldcenter.y + m.f\n          };\n        }\n        const newRot = svgroot.createSVGTransform();\n        newRot.setRotate(angle, newcenter.x, newcenter.y);\n        if (tlist.numberOfItems) {\n          tlist.insertItemBefore(newRot, 0);\n        } else {\n          tlist.appendItem(newRot);\n        }\n      }\n      // We have special processing for tspans:  Tspans are not transformable\n      // but they can have x,y coordinates (sigh).  Thus, if this was a translate,\n      // on a text element, also translate any tspan children.\n      if (selected.tagName === 'text') {\n        const children = selected.childNodes;\n        let c = children.length;\n        while (c--) {\n          const child = children.item(c);\n          if (child.tagName === 'tspan') {\n            const tspanChanges = {\n              x: $(child).attr('x') || 0,\n              y: $(child).attr('y') || 0\n            };\n            remapElement(child, tspanChanges, m);\n          }\n        }\n      }\n    // [Rold][M][T][S][-T] became [Rold][M]\n    // we want it to be [Rnew][M][Tr] where Tr is the\n    // translation required to re-center it\n    // Therefore, [Tr] = [M_inv][Rnew_inv][Rold][M]\n    } else if (operation === 3 && angle) {\n      const {matrix} = transformListToTransform(tlist);\n      const roldt = svgroot.createSVGTransform();\n      roldt.setRotate(angle, oldcenter.x, oldcenter.y);\n      const rold = roldt.matrix;\n      const rnew = svgroot.createSVGTransform();\n      rnew.setRotate(angle, newcenter.x, newcenter.y);\n      const rnewInv = rnew.matrix.inverse();\n      const mInv = matrix.inverse();\n      const extrat = matrixMultiply(mInv, rnewInv, rold, matrix);\n\n      remapElement(selected, changes, extrat);\n      if (angle) {\n        if (tlist.numberOfItems) {\n          tlist.insertItemBefore(rnew, 0);\n        } else {\n          tlist.appendItem(rnew);\n        }\n      }\n    }\n  } // a non-group\n\n  // if the transform list has been emptied, remove it\n  if (tlist.numberOfItems === 0) {\n    selected.removeAttribute('transform');\n  }\n\n  batchCmd.addSubCommand(new ChangeElementCommand(selected, initial));\n\n  return batchCmd;\n};\n","/* globals jQuery */\n/**\n * DOM element selection box tools.\n * @module select\n * @license MIT\n *\n * @copyright 2010 Alexis Deveria, 2010 Jeff Schiller\n */\n\nimport {isTouch, isWebkit} from '../common/browser.js'; // , isOpera\nimport {getRotationAngle, getBBox, getStrokedBBox, isNullish} from '../common/utilities.js';\nimport {transformListToTransform, transformBox, transformPoint} from '../common/math.js';\nimport {getTransformList} from '../common/svgtransformlist.js';\n\nconst $ = jQuery;\n\nlet svgFactory_;\nlet config_;\nlet selectorManager_; // A Singleton\nconst gripRadius = isTouch() ? 10 : 4;\n\n/**\n* Private class for DOM element selection boxes.\n*/\nexport class Selector {\n  /**\n  * @param {Integer} id - Internally identify the selector\n  * @param {Element} elem - DOM element associated with this selector\n  * @param {module:utilities.BBoxObject} [bbox] - Optional bbox to use for initialization (prevents duplicate `getBBox` call).\n  */\n  constructor (id, elem, bbox) {\n    // this is the selector's unique number\n    this.id = id;\n\n    // this holds a reference to the element for which this selector is being used\n    this.selectedElement = elem;\n\n    // this is a flag used internally to track whether the selector is being used or not\n    this.locked = true;\n\n    // this holds a reference to the <g> element that holds all visual elements of the selector\n    this.selectorGroup = svgFactory_.createSVGElement({\n      element: 'g',\n      attr: {id: ('selectorGroup' + this.id)}\n    });\n\n    // this holds a reference to the path rect\n    this.selectorRect = this.selectorGroup.appendChild(\n      svgFactory_.createSVGElement({\n        element: 'path',\n        attr: {\n          id: ('selectedBox' + this.id),\n          fill: 'none',\n          stroke: '#22C',\n          'stroke-width': '1',\n          'stroke-dasharray': '5,5',\n          // need to specify this so that the rect is not selectable\n          style: 'pointer-events:none'\n        }\n      })\n    );\n\n    // this holds a reference to the grip coordinates for this selector\n    this.gripCoords = {\n      nw: null,\n      n: null,\n      ne: null,\n      e: null,\n      se: null,\n      s: null,\n      sw: null,\n      w: null\n    };\n\n    this.reset(this.selectedElement, bbox);\n  }\n\n  /**\n  * Used to reset the id and element that the selector is attached to.\n  * @param {Element} e - DOM element associated with this selector\n  * @param {module:utilities.BBoxObject} bbox - Optional bbox to use for reset (prevents duplicate getBBox call).\n  * @returns {void}\n  */\n  reset (e, bbox) {\n    this.locked = true;\n    this.selectedElement = e;\n    this.resize(bbox);\n    this.selectorGroup.setAttribute('display', 'inline');\n  }\n\n  /**\n  * Show the resize grips of this selector.\n  * @param {boolean} show - Indicates whether grips should be shown or not\n  * @returns {void}\n  */\n  showGrips (show) {\n    const bShow = show ? 'inline' : 'none';\n    selectorManager_.selectorGripsGroup.setAttribute('display', bShow);\n    const elem = this.selectedElement;\n    this.hasGrips = show;\n    if (elem && show) {\n      this.selectorGroup.append(selectorManager_.selectorGripsGroup);\n      Selector.updateGripCursors(getRotationAngle(elem));\n    }\n  }\n\n  /**\n  * Updates the selector to match the element's size.\n  * @param {module:utilities.BBoxObject} [bbox] - BBox to use for resize (prevents duplicate getBBox call).\n  * @returns {void}\n  */\n  resize (bbox) {\n    const selectedBox = this.selectorRect,\n      mgr = selectorManager_,\n      selectedGrips = mgr.selectorGrips,\n      selected = this.selectedElement,\n      sw = selected.getAttribute('stroke-width'),\n      currentZoom = svgFactory_.getCurrentZoom();\n    let offset = 1 / currentZoom;\n    if (selected.getAttribute('stroke') !== 'none' && !isNaN(sw)) {\n      offset += (sw / 2);\n    }\n\n    const {tagName} = selected;\n    if (tagName === 'text') {\n      offset += 2 / currentZoom;\n    }\n\n    // loop and transform our bounding box until we reach our first rotation\n    const tlist = getTransformList(selected);\n    const m = transformListToTransform(tlist).matrix;\n\n    // This should probably be handled somewhere else, but for now\n    // it keeps the selection box correctly positioned when zoomed\n    m.e *= currentZoom;\n    m.f *= currentZoom;\n\n    if (!bbox) {\n      bbox = getBBox(selected);\n    }\n    // TODO: getBBox (previous line) already knows to call getStrokedBBox when tagName === 'g'. Remove this?\n    // TODO: getBBox doesn't exclude 'gsvg' and calls getStrokedBBox for any 'g'. Should getBBox be updated?\n    if (tagName === 'g' && !$.data(selected, 'gsvg')) {\n      // The bbox for a group does not include stroke vals, so we\n      // get the bbox based on its children.\n      const strokedBbox = getStrokedBBox([selected.childNodes]);\n      if (strokedBbox) {\n        bbox = strokedBbox;\n      }\n    }\n\n    // apply the transforms\n    const l = bbox.x, t = bbox.y, w = bbox.width, h = bbox.height;\n    // bbox = {x: l, y: t, width: w, height: h}; // Not in use\n\n    // we need to handle temporary transforms too\n    // if skewed, get its transformed box, then find its axis-aligned bbox\n\n    // *\n    offset *= currentZoom;\n\n    const nbox = transformBox(l * currentZoom, t * currentZoom, w * currentZoom, h * currentZoom, m),\n      {aabox} = nbox;\n    let nbax = aabox.x - offset,\n      nbay = aabox.y - offset,\n      nbaw = aabox.width + (offset * 2),\n      nbah = aabox.height + (offset * 2);\n\n    // now if the shape is rotated, un-rotate it\n    const cx = nbax + nbaw / 2,\n      cy = nbay + nbah / 2;\n\n    const angle = getRotationAngle(selected);\n    if (angle) {\n      const rot = svgFactory_.svgRoot().createSVGTransform();\n      rot.setRotate(-angle, cx, cy);\n      const rotm = rot.matrix;\n      nbox.tl = transformPoint(nbox.tl.x, nbox.tl.y, rotm);\n      nbox.tr = transformPoint(nbox.tr.x, nbox.tr.y, rotm);\n      nbox.bl = transformPoint(nbox.bl.x, nbox.bl.y, rotm);\n      nbox.br = transformPoint(nbox.br.x, nbox.br.y, rotm);\n\n      // calculate the axis-aligned bbox\n      const {tl} = nbox;\n      let minx = tl.x,\n        miny = tl.y,\n        maxx = tl.x,\n        maxy = tl.y;\n\n      const {min, max} = Math;\n\n      minx = min(minx, min(nbox.tr.x, min(nbox.bl.x, nbox.br.x))) - offset;\n      miny = min(miny, min(nbox.tr.y, min(nbox.bl.y, nbox.br.y))) - offset;\n      maxx = max(maxx, max(nbox.tr.x, max(nbox.bl.x, nbox.br.x))) + offset;\n      maxy = max(maxy, max(nbox.tr.y, max(nbox.bl.y, nbox.br.y))) + offset;\n\n      nbax = minx;\n      nbay = miny;\n      nbaw = (maxx - minx);\n      nbah = (maxy - miny);\n    }\n\n    const dstr = 'M' + nbax + ',' + nbay +\n      ' L' + (nbax + nbaw) + ',' + nbay +\n      ' ' + (nbax + nbaw) + ',' + (nbay + nbah) +\n      ' ' + nbax + ',' + (nbay + nbah) + 'z';\n    selectedBox.setAttribute('d', dstr);\n\n    const xform = angle ? 'rotate(' + [angle, cx, cy].join(',') + ')' : '';\n    this.selectorGroup.setAttribute('transform', xform);\n\n    // TODO(codedread): Is this needed?\n    //  if (selected === selectedElements[0]) {\n    this.gripCoords = {\n      nw: [nbax, nbay],\n      ne: [nbax + nbaw, nbay],\n      sw: [nbax, nbay + nbah],\n      se: [nbax + nbaw, nbay + nbah],\n      n: [nbax + (nbaw) / 2, nbay],\n      w: [nbax, nbay + (nbah) / 2],\n      e: [nbax + nbaw, nbay + (nbah) / 2],\n      s: [nbax + (nbaw) / 2, nbay + nbah]\n    };\n    Object.entries(this.gripCoords).forEach(([dir, coords]) => {\n      selectedGrips[dir].setAttribute('cx', coords[0]);\n      selectedGrips[dir].setAttribute('cy', coords[1]);\n    });\n\n    // we want to go 20 pixels in the negative transformed y direction, ignoring scale\n    mgr.rotateGripConnector.setAttribute('x1', nbax + (nbaw) / 2);\n    mgr.rotateGripConnector.setAttribute('y1', nbay);\n    mgr.rotateGripConnector.setAttribute('x2', nbax + (nbaw) / 2);\n    mgr.rotateGripConnector.setAttribute('y2', nbay - (gripRadius * 5));\n\n    mgr.rotateGrip.setAttribute('cx', nbax + (nbaw) / 2);\n    mgr.rotateGrip.setAttribute('cy', nbay - (gripRadius * 5));\n    // }\n  }\n\n  // STATIC methods\n  /**\n  * Updates cursors for corner grips on rotation so arrows point the right way.\n  * @param {Float} angle - Current rotation angle in degrees\n  * @returns {void}\n  */\n  static updateGripCursors (angle) {\n    const dirArr = Object.keys(selectorManager_.selectorGrips);\n    let steps = Math.round(angle / 45);\n    if (steps < 0) { steps += 8; }\n    while (steps > 0) {\n      dirArr.push(dirArr.shift());\n      steps--;\n    }\n    Object.values(selectorManager_.selectorGrips).forEach((gripElement, i) => {\n      gripElement.setAttribute('style', ('cursor:' + dirArr[i] + '-resize'));\n    });\n  }\n}\n\n/**\n* Manage all selector objects (selection boxes).\n*/\nexport class SelectorManager {\n  /**\n   * Sets up properties and calls `initGroup`.\n   */\n  constructor () {\n    // this will hold the <g> element that contains all selector rects/grips\n    this.selectorParentGroup = null;\n\n    // this is a special rect that is used for multi-select\n    this.rubberBandBox = null;\n\n    // this will hold objects of type Selector (see above)\n    this.selectors = [];\n\n    // this holds a map of SVG elements to their Selector object\n    this.selectorMap = {};\n\n    // this holds a reference to the grip elements\n    this.selectorGrips = {\n      nw: null,\n      n: null,\n      ne: null,\n      e: null,\n      se: null,\n      s: null,\n      sw: null,\n      w: null\n    };\n\n    this.selectorGripsGroup = null;\n    this.rotateGripConnector = null;\n    this.rotateGrip = null;\n\n    this.initGroup();\n  }\n\n  /**\n  * Resets the parent selector group element.\n  * @returns {void}\n  */\n  initGroup () {\n    // remove old selector parent group if it existed\n    if (this.selectorParentGroup && this.selectorParentGroup.parentNode) {\n      this.selectorParentGroup.remove();\n    }\n\n    // create parent selector group and add it to svgroot\n    this.selectorParentGroup = svgFactory_.createSVGElement({\n      element: 'g',\n      attr: {id: 'selectorParentGroup'}\n    });\n    this.selectorGripsGroup = svgFactory_.createSVGElement({\n      element: 'g',\n      attr: {display: 'none'}\n    });\n    this.selectorParentGroup.append(this.selectorGripsGroup);\n    svgFactory_.svgRoot().append(this.selectorParentGroup);\n\n    this.selectorMap = {};\n    this.selectors = [];\n    this.rubberBandBox = null;\n\n    // add the corner grips\n    Object.keys(this.selectorGrips).forEach((dir) => {\n      const grip = svgFactory_.createSVGElement({\n        element: 'circle',\n        attr: {\n          id: ('selectorGrip_resize_' + dir),\n          fill: '#22C',\n          r: gripRadius,\n          style: ('cursor:' + dir + '-resize'),\n          // This expands the mouse-able area of the grips making them\n          // easier to grab with the mouse.\n          // This works in Opera and WebKit, but does not work in Firefox\n          // see https://bugzilla.mozilla.org/show_bug.cgi?id=500174\n          'stroke-width': 2,\n          'pointer-events': 'all'\n        }\n      });\n\n      $.data(grip, 'dir', dir);\n      $.data(grip, 'type', 'resize');\n      this.selectorGrips[dir] = this.selectorGripsGroup.appendChild(grip);\n    });\n\n    // add rotator elems\n    this.rotateGripConnector = this.selectorGripsGroup.appendChild(\n      svgFactory_.createSVGElement({\n        element: 'line',\n        attr: {\n          id: ('selectorGrip_rotateconnector'),\n          stroke: '#22C',\n          'stroke-width': '1'\n        }\n      })\n    );\n\n    this.rotateGrip = this.selectorGripsGroup.appendChild(\n      svgFactory_.createSVGElement({\n        element: 'circle',\n        attr: {\n          id: 'selectorGrip_rotate',\n          fill: 'lime',\n          r: gripRadius,\n          stroke: '#22C',\n          'stroke-width': 2,\n          style: 'cursor:url(' + config_.imgPath + 'rotate.png) 12 12, auto;'\n        }\n      })\n    );\n    $.data(this.rotateGrip, 'type', 'rotate');\n\n    if ($('#canvasBackground').length) { return; }\n\n    const [width, height] = config_.dimensions;\n    const canvasbg = svgFactory_.createSVGElement({\n      element: 'svg',\n      attr: {\n        id: 'canvasBackground',\n        width,\n        height,\n        x: 0,\n        y: 0,\n        overflow: (isWebkit() ? 'none' : 'visible'), // Chrome 7 has a problem with this when zooming out\n        style: 'pointer-events:none'\n      }\n    });\n\n    const rect = svgFactory_.createSVGElement({\n      element: 'rect',\n      attr: {\n        width: '100%',\n        height: '100%',\n        x: 0,\n        y: 0,\n        'stroke-width': 1,\n        stroke: '#000',\n        fill: '#FFF',\n        style: 'pointer-events:none'\n      }\n    });\n\n    // Both Firefox and WebKit are too slow with this filter region (especially at higher\n    // zoom levels) and Opera has at least one bug\n    // if (!isOpera()) rect.setAttribute('filter', 'url(#canvashadow)');\n    canvasbg.append(rect);\n    svgFactory_.svgRoot().insertBefore(canvasbg, svgFactory_.svgContent());\n    // Ok to replace above with `svgFactory_.svgContent().before(canvasbg);`?\n  }\n\n  /**\n  *\n  * @param {Element} elem - DOM element to get the selector for\n  * @param {module:utilities.BBoxObject} [bbox] - Optional bbox to use for reset (prevents duplicate getBBox call).\n  * @returns {Selector} The selector based on the given element\n  */\n  requestSelector (elem, bbox) {\n    if (isNullish(elem)) { return null; }\n\n    const N = this.selectors.length;\n    // If we've already acquired one for this element, return it.\n    if (typeof this.selectorMap[elem.id] === 'object') {\n      this.selectorMap[elem.id].locked = true;\n      return this.selectorMap[elem.id];\n    }\n    for (let i = 0; i < N; ++i) {\n      if (this.selectors[i] && !this.selectors[i].locked) {\n        this.selectors[i].locked = true;\n        this.selectors[i].reset(elem, bbox);\n        this.selectorMap[elem.id] = this.selectors[i];\n        return this.selectors[i];\n      }\n    }\n    // if we reached here, no available selectors were found, we create one\n    this.selectors[N] = new Selector(N, elem, bbox);\n    this.selectorParentGroup.append(this.selectors[N].selectorGroup);\n    this.selectorMap[elem.id] = this.selectors[N];\n    return this.selectors[N];\n  }\n\n  /**\n  * Removes the selector of the given element (hides selection box).\n  *\n  * @param {Element} elem - DOM element to remove the selector for\n  * @returns {void}\n  */\n  releaseSelector (elem) {\n    if (isNullish(elem)) { return; }\n    const N = this.selectors.length,\n      sel = this.selectorMap[elem.id];\n    if (!sel.locked) {\n      // TODO(codedread): Ensure this exists in this module.\n      console.log('WARNING! selector was released but was already unlocked'); // eslint-disable-line no-console\n    }\n    for (let i = 0; i < N; ++i) {\n      if (this.selectors[i] && this.selectors[i] === sel) {\n        delete this.selectorMap[elem.id];\n        sel.locked = false;\n        sel.selectedElement = null;\n        sel.showGrips(false);\n\n        // remove from DOM and store reference in JS but only if it exists in the DOM\n        try {\n          sel.selectorGroup.setAttribute('display', 'none');\n        } catch (e) {}\n\n        break;\n      }\n    }\n  }\n\n  /**\n  * @returns {SVGRectElement} The rubberBandBox DOM element. This is the rectangle drawn by\n  * the user for selecting/zooming\n  */\n  getRubberBandBox () {\n    if (!this.rubberBandBox) {\n      this.rubberBandBox = this.selectorParentGroup.appendChild(\n        svgFactory_.createSVGElement({\n          element: 'rect',\n          attr: {\n            id: 'selectorRubberBand',\n            fill: '#22C',\n            'fill-opacity': 0.15,\n            stroke: '#22C',\n            'stroke-width': 0.5,\n            display: 'none',\n            style: 'pointer-events:none'\n          }\n        })\n      );\n    }\n    return this.rubberBandBox;\n  }\n}\n\n/**\n * An object that creates SVG elements for the canvas.\n *\n * @interface module:select.SVGFactory\n */\n/**\n * @function module:select.SVGFactory#createSVGElement\n * @param {module:utilities.EditorContext#addSVGElementFromJson} jsonMap\n * @returns {SVGElement}\n */\n/**\n * @function module:select.SVGFactory#svgRoot\n * @returns {SVGSVGElement}\n */\n/**\n * @function module:select.SVGFactory#svgContent\n * @returns {SVGSVGElement}\n */\n/**\n * @function module:select.SVGFactory#getCurrentZoom\n * @returns {Float} The current zoom level\n */\n\n/**\n * @typedef {GenericArray} module:select.Dimensions\n * @property {Integer} length 2\n * @property {Float} 0 Width\n * @property {Float} 1 Height\n */\n/**\n * @typedef {PlainObject} module:select.Config\n * @property {string} imgPath\n * @property {module:select.Dimensions} dimensions\n */\n\n/**\n * Initializes this module.\n * @function module:select.init\n * @param {module:select.Config} config - An object containing configurable parameters (imgPath)\n * @param {module:select.SVGFactory} svgFactory - An object implementing the SVGFactory interface.\n * @returns {void}\n */\nexport const init = function (config, svgFactory) {\n  config_ = config;\n  svgFactory_ = svgFactory;\n  selectorManager_ = new SelectorManager();\n};\n\n/**\n * @function module:select.getSelectorManager\n * @returns {module:select.SelectorManager} The SelectorManager instance.\n */\nexport const getSelectorManager = () => selectorManager_;\n","/* eslint-disable indent */\n/* globals jQuery, jsPDF */\n/**\n * Numerous tools for working with the editor's \"canvas\".\n * @module svgcanvas\n *\n * @license MIT\n *\n * @copyright 2010 Alexis Deveria, 2010 Pavol Rusnak, 2010 Jeff Schiller\n *\n */\n\n/* Dependencies:\n1. Also expects jQuery UI for `svgCanvasToString` and\n`convertToGroup` use of `:data()` selector\n*/\n\n// Todo: Obtain/adapt latest jsPDF to utilize ES Module for `jsPDF`/avoid global\n\nimport '../common/svgpathseg.js';\nimport jQueryPluginSVG from '../common/jQuery.attr.js'; // Needed for SVG attribute setting and array form with `attr`\nimport jQueryPluginDBox from './dbox.js';\n\nimport * as pathModule from './path.js';\nimport * as hstry from './history.js';\nimport * as draw from './draw.js';\n// eslint-disable-next-line no-duplicate-imports\nimport {\n  identifyLayers, createLayer, cloneLayer, deleteCurrentLayer,\n  setCurrentLayer, renameCurrentLayer, setCurrentLayerPosition,\n  setLayerVisibility, moveSelectedToLayer, mergeLayer, mergeAllLayers,\n  leaveContext, setContext\n} from './draw.js';\nimport {sanitizeSvg} from './sanitize.js';\nimport {getReverseNS, NS} from '../common/namespaces.js';\nimport {\n  text2xml, assignAttributes, cleanupElement, getElem, getUrlFromAttr,\n  findDefs, getHref, setHref, getRefElem, getRotationAngle, getPathBBox,\n  preventClickDefault, snapToGrid, walkTree, walkTreePost,\n  getBBoxOfElementAsPath, convertToPath, toXml, encode64, decode64,\n  dataURLToObjectURL, createObjectURL,\n  getVisibleElements, dropXMLInternalSubset,\n  init as utilsInit, getBBox as utilsGetBBox, getStrokedBBoxDefaultVisible,\n  isNullish\n} from '../common/utilities.js';\nimport {\n  transformPoint, matrixMultiply, hasMatrixTransform, transformListToTransform,\n  getMatrix, snapToAngle, isIdentity, rectsIntersect, transformBox\n} from '../common/math.js';\nimport {\n  convertToNum, convertAttrs, convertUnit, shortFloat, getTypeMap,\n  init as unitsInit\n} from '../common/units.js';\nimport {\n  isGecko, isChrome, isIE, isWebkit, supportsNonScalingStroke, supportsGoodTextCharPos\n} from '../common/browser.js'; // , supportsEditableText\nimport {\n  getTransformList, resetListMap,\n  SVGTransformList as SVGEditTransformList\n} from '../common/svgtransformlist.js';\nimport {\n  remapElement,\n  init as coordsInit\n} from './coords.js';\nimport {\n  recalculateDimensions,\n  init as recalculateInit\n} from './recalculate.js';\nimport {\n  getSelectorManager,\n  Selector,\n  init as selectInit\n} from './select.js';\n\nlet $ = jQueryPluginSVG(jQuery);\nconst {\n  MoveElementCommand, InsertElementCommand, RemoveElementCommand,\n  ChangeElementCommand, BatchCommand, UndoManager, HistoryEventTypes\n} = hstry;\n\nif (!window.console) {\n  window.console = {};\n  window.console.log = function (str) { /* */ };\n  window.console.dir = function (str) { /* */ };\n}\n\nif (window.opera) {\n  window.console.log = function (str) { window.opera.postError(str); };\n  window.console.dir = function (str) { /* */ };\n}\n\n// Reenable after fixing eslint-plugin-jsdoc to handle\n/**\n* The main SvgCanvas class that manages all SVG-related functions.\n* @memberof module:svgcanvas\n*\n* @borrows module:coords.remapElement as #remapElement\n* @borrows module:recalculate.recalculateDimensions as #recalculateDimensions\n*\n* @borrows module:utilities.cleanupElement as #cleanupElement\n* @borrows module:utilities.getStrokedBBoxDefaultVisible as #getStrokedBBox\n* @borrows module:utilities.getVisibleElements as #getVisibleElements\n* @borrows module:utilities.findDefs as #findDefs\n* @borrows module:utilities.getUrlFromAttr as #getUrlFromAttr\n* @borrows module:utilities.getHref as #getHref\n* @borrows module:utilities.setHref as #setHref\n* @borrows module:utilities.getRotationAngle as #getRotationAngle\n* @borrows module:utilities.getBBox as #getBBox\n* @borrows module:utilities.getElem as #getElem\n* @borrows module:utilities.getRefElem as #getRefElem\n* @borrows module:utilities.assignAttributes as #assignAttributes\n*\n* @borrows module:SVGTransformList.getTransformList as #getTransformList\n* @borrows module:math.matrixMultiply as #matrixMultiply\n* @borrows module:math.hasMatrixTransform as #hasMatrixTransform\n* @borrows module:math.transformListToTransform as #transformListToTransform\n* @borrows module:units.convertToNum as #convertToNum\n* @borrows module:sanitize.sanitizeSvg as #sanitizeSvg\n* @borrows module:path.pathActions.linkControlPoints as #linkControlPoints\n*/\nclass SvgCanvas {\n  /**\n  * @param {HTMLElement} container - The container HTML element that should hold the SVG root element\n  * @param {module:SVGEditor.curConfig} config - An object that contains configuration data\n  */\n  constructor (container, config) {\n// Alias Namespace constants\n\n// Default configuration options\nconst curConfig = {\n  show_outside_canvas: true,\n  selectNew: true,\n  dimensions: [640, 480]\n};\n\n// Update config with new one if given\nif (config) {\n  $.extend(curConfig, config);\n}\n\n// Array with width/height of canvas\nconst {dimensions} = curConfig;\n\nconst canvas = this;\n\n// \"document\" element associated with the container (same as window.document using default svg-editor.js)\n// NOTE: This is not actually a SVG document, but an HTML document.\n// JFH const svgdoc = container.ownerDocument;\nconst svgdoc = window.document;\n\n// This is a container for the document being edited, not the document itself.\n/**\n * @name module:svgcanvas~svgroot\n * @type {SVGSVGElement}\n */\nconst svgroot = svgdoc.importNode(\n  text2xml(\n    '<svg id=\"svgroot\" xmlns=\"' + NS.SVG + '\" xlinkns=\"' + NS.XLINK + '\" ' +\n      'width=\"' + dimensions[0] + '\" height=\"' + dimensions[1] +\n        '\" x=\"' + dimensions[0] + '\" y=\"' + dimensions[1] + '\" overflow=\"visible\">' +\n      '<defs>' +\n        '<filter id=\"canvashadow\" filterUnits=\"objectBoundingBox\">' +\n          '<feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"4\" result=\"blur\"/>' +\n          '<feOffset in=\"blur\" dx=\"5\" dy=\"5\" result=\"offsetBlur\"/>' +\n          '<feMerge>' +\n            '<feMergeNode in=\"offsetBlur\"/>' +\n            '<feMergeNode in=\"SourceGraphic\"/>' +\n          '</feMerge>' +\n        '</filter>' +\n      '</defs>' +\n    '</svg>'\n  ).documentElement,\n  true\n);\ncontainer.append(svgroot);\n\n/**\n * The actual element that represents the final output SVG element.\n * @name module:svgcanvas~svgcontent\n * @type {SVGSVGElement}\n */\nlet svgcontent = svgdoc.createElementNS(NS.SVG, 'svg');\n\n/**\n* This function resets the svgcontent element while keeping it in the DOM.\n* @function module:svgcanvas.SvgCanvas#clearSvgContentElement\n* @returns {void}\n*/\nconst clearSvgContentElement = canvas.clearSvgContentElement = function () {\n  $(svgcontent).empty();\n\n  // TODO: Clear out all other attributes first?\n  $(svgcontent).attr({\n    id: 'svgcontent',\n    width: dimensions[0],\n    height: dimensions[1],\n    x: dimensions[0],\n    y: dimensions[1],\n    overflow: curConfig.show_outside_canvas ? 'visible' : 'hidden',\n    xmlns: NS.SVG,\n    'xmlns:se': NS.SE,\n    'xmlns:xlink': NS.XLINK\n  }).appendTo(svgroot);\n\n  // TODO: make this string optional and set by the client\n  const comment = svgdoc.createComment(' Created with SVG-edit - https://github.com/SVG-Edit/svgedit');\n  svgcontent.append(comment);\n};\nclearSvgContentElement();\n\n// Prefix string for element IDs\nlet idprefix = 'svg_';\n\n/**\n* Changes the ID prefix to the given value.\n* @function module:svgcanvas.SvgCanvas#setIdPrefix\n* @param {string} p - String with the new prefix\n* @returns {void}\n*/\ncanvas.setIdPrefix = function (p) {\n  idprefix = p;\n};\n\n/**\n* Current `draw.Drawing` object.\n* @type {module:draw.Drawing}\n* @name module:svgcanvas.SvgCanvas#current_drawing_\n*/\ncanvas.current_drawing_ = new draw.Drawing(svgcontent, idprefix);\n\n/**\n* Returns the current Drawing.\n* @name module:svgcanvas.SvgCanvas#getCurrentDrawing\n* @type {module:draw.DrawCanvasInit#getCurrentDrawing}\n*/\nconst getCurrentDrawing = canvas.getCurrentDrawing = function () {\n  return canvas.current_drawing_;\n};\n\n/**\n* Float displaying the current zoom level (1 = 100%, .5 = 50%, etc.).\n* @type {Float}\n*/\nlet currentZoom = 1;\n\n// pointer to current group (for in-group editing)\nlet currentGroup = null;\n\n// Object containing data for the currently selected styles\nconst allProperties = {\n  shape: {\n    fill: (curConfig.initFill.color === 'none' ? '' : '#') + curConfig.initFill.color,\n    fill_paint: null,\n    fill_opacity: curConfig.initFill.opacity,\n    stroke: '#' + curConfig.initStroke.color,\n    stroke_paint: null,\n    stroke_opacity: curConfig.initStroke.opacity,\n    stroke_width: curConfig.initStroke.width,\n    stroke_dasharray: 'none',\n    stroke_linejoin: 'miter',\n    stroke_linecap: 'butt',\n    opacity: curConfig.initOpacity\n  }\n};\n\nallProperties.text = $.extend(true, {}, allProperties.shape);\n$.extend(allProperties.text, {\n  fill: '#000000',\n  stroke_width: curConfig.text && curConfig.text.stroke_width,\n  font_size: curConfig.text && curConfig.text.font_size,\n  font_family: curConfig.text && curConfig.text.font_family\n});\n\n// Current shape style properties\nconst curShape = allProperties.shape;\n\n// Array with all the currently selected elements\n// default size of 1 until it needs to grow bigger\nlet selectedElements = [];\n\n/**\n* @typedef {PlainObject} module:svgcanvas.SVGAsJSON\n* @property {string} element\n* @property {PlainObject<string, string>} attr\n* @property {module:svgcanvas.SVGAsJSON[]} children\n*/\n\n/**\n* @function module:svgcanvas.SvgCanvas#getContentElem\n* @param {Text|Element} data\n* @returns {module:svgcanvas.SVGAsJSON}\n*/\nconst getJsonFromSvgElement = this.getJsonFromSvgElement = function (data) {\n  // Text node\n  if (data.nodeType === 3) return data.nodeValue;\n\n  const retval = {\n    element: data.tagName,\n    // namespace: nsMap[data.namespaceURI],\n    attr: {},\n    children: []\n  };\n\n  // Iterate attributes\n  for (let i = 0, attr; (attr = data.attributes[i]); i++) {\n    retval.attr[attr.name] = attr.value;\n  }\n\n  // Iterate children\n  for (let i = 0, node; (node = data.childNodes[i]); i++) {\n    retval.children[i] = getJsonFromSvgElement(node);\n  }\n\n  return retval;\n};\n\n/**\n* This should really be an intersection implementing all rather than a union.\n* @name module:svgcanvas.SvgCanvas#addSVGElementFromJson\n* @type {module:utilities.EditorContext#addSVGElementFromJson|module:path.EditorContext#addSVGElementFromJson}\n*/\nconst addSVGElementFromJson = this.addSVGElementFromJson = function (data) {\n  if (typeof data === 'string') return svgdoc.createTextNode(data);\n\n  let shape = getElem(data.attr.id);\n  // if shape is a path but we need to create a rect/ellipse, then remove the path\n  const currentLayer = getCurrentDrawing().getCurrentLayer();\n  if (shape && data.element !== shape.tagName) {\n    shape.remove();\n    shape = null;\n  }\n  if (!shape) {\n    const ns = data.namespace || NS.SVG;\n    shape = svgdoc.createElementNS(ns, data.element);\n    if (currentLayer) {\n      (currentGroup || currentLayer).append(shape);\n    }\n  }\n  if (data.curStyles) {\n    assignAttributes(shape, {\n      fill: curShape.fill,\n      stroke: curShape.stroke,\n      'stroke-width': curShape.stroke_width,\n      'stroke-dasharray': curShape.stroke_dasharray,\n      'stroke-linejoin': curShape.stroke_linejoin,\n      'stroke-linecap': curShape.stroke_linecap,\n      'stroke-opacity': curShape.stroke_opacity,\n      'fill-opacity': curShape.fill_opacity,\n      opacity: curShape.opacity / 2,\n      style: 'pointer-events:inherit'\n    }, 100);\n  }\n  assignAttributes(shape, data.attr, 100);\n  cleanupElement(shape);\n\n  // Children\n  if (data.children) {\n    data.children.forEach((child) => {\n      shape.append(addSVGElementFromJson(child));\n    });\n  }\n\n  return shape;\n};\n\ncanvas.getTransformList = getTransformList;\n\ncanvas.matrixMultiply = matrixMultiply;\ncanvas.hasMatrixTransform = hasMatrixTransform;\ncanvas.transformListToTransform = transformListToTransform;\n\n/**\n* @type {module:utilities.EditorContext#getBaseUnit}\n*/\nconst getBaseUnit = () => { return curConfig.baseUnit; };\n\n/**\n* Initialize from units.js.\n* Send in an object implementing the ElementContainer interface (see units.js).\n*/\nunitsInit(\n  /**\n  * @implements {module:units.ElementContainer}\n  */\n  {\n    getBaseUnit,\n    getElement: getElem,\n    getHeight () { return svgcontent.getAttribute('height') / currentZoom; },\n    getWidth () { return svgcontent.getAttribute('width') / currentZoom; },\n    getRoundDigits () { return saveOptions.round_digits; }\n  }\n);\n\ncanvas.convertToNum = convertToNum;\n\n/**\n* This should really be an intersection implementing all rather than a union.\n* @type {module:draw.DrawCanvasInit#getSVGContent|module:utilities.EditorContext#getSVGContent}\n*/\nconst getSVGContent = () => { return svgcontent; };\n\n/**\n* Should really be an intersection with all needing to apply rather than a union.\n* @name module:svgcanvas.SvgCanvas#getSelectedElements\n* @type {module:utilities.EditorContext#getSelectedElements|module:draw.DrawCanvasInit#getSelectedElements|module:path.EditorContext#getSelectedElements}\n*/\nconst getSelectedElements = this.getSelectedElems = function () {\n  return selectedElements;\n};\n\nconst {pathActions} = pathModule;\n\n/**\n* This should actually be an intersection as all interfaces should be met.\n* @type {module:utilities.EditorContext#getSVGRoot|module:recalculate.EditorContext#getSVGRoot|module:coords.EditorContext#getSVGRoot|module:path.EditorContext#getSVGRoot}\n*/\nconst getSVGRoot = () => svgroot;\n\nutilsInit(\n  /**\n  * @implements {module:utilities.EditorContext}\n  */\n  {\n    pathActions, // Ok since not modifying\n    getSVGContent,\n    addSVGElementFromJson,\n    getSelectedElements,\n    getDOMDocument () { return svgdoc; },\n    getDOMContainer () { return container; },\n    getSVGRoot,\n    // TODO: replace this mostly with a way to get the current drawing.\n    getBaseUnit,\n    getSnappingStep () { return curConfig.snappingStep; }\n  }\n);\n\ncanvas.findDefs = findDefs;\ncanvas.getUrlFromAttr = getUrlFromAttr;\ncanvas.getHref = getHref;\ncanvas.setHref = setHref;\n/* const getBBox = */ canvas.getBBox = utilsGetBBox;\ncanvas.getRotationAngle = getRotationAngle;\ncanvas.getElem = getElem;\ncanvas.getRefElem = getRefElem;\ncanvas.assignAttributes = assignAttributes;\n\nthis.cleanupElement = cleanupElement;\n\n/**\n* This should actually be an intersection not a union as all should apply.\n* @type {module:coords.EditorContext#getGridSnapping|module:path.EditorContext#getGridSnapping}\n*/\nconst getGridSnapping = () => { return curConfig.gridSnapping; };\n\ncoordsInit(\n  /**\n  * @implements {module:coords.EditorContext}\n  */\n  {\n    getDrawing () { return getCurrentDrawing(); },\n    getSVGRoot,\n    getGridSnapping\n  }\n);\nthis.remapElement = remapElement;\n\nrecalculateInit(\n  /**\n  * @implements {module:recalculate.EditorContext}\n  */\n  {\n    getSVGRoot,\n    getStartTransform () { return startTransform; },\n    setStartTransform (transform) { startTransform = transform; }\n  }\n);\nthis.recalculateDimensions = recalculateDimensions;\n\n// import from sanitize.js\nconst nsMap = getReverseNS();\ncanvas.sanitizeSvg = sanitizeSvg;\n\n/**\n* @name undoMgr\n* @memberof module:svgcanvas.SvgCanvas#\n* @type {module:history.HistoryEventHandler}\n*/\nconst undoMgr = canvas.undoMgr = new UndoManager({\n  /**\n   * @param {string} eventType One of the HistoryEvent types\n   * @param {module:history.HistoryCommand} cmd Fulfills the HistoryCommand interface\n   * @fires module:svgcanvas.SvgCanvas#event:changed\n   * @returns {void}\n   */\n  handleHistoryEvent (eventType, cmd) {\n    const EventTypes = HistoryEventTypes;\n    // TODO: handle setBlurOffsets.\n    if (eventType === EventTypes.BEFORE_UNAPPLY || eventType === EventTypes.BEFORE_APPLY) {\n      canvas.clearSelection();\n    } else if (eventType === EventTypes.AFTER_APPLY || eventType === EventTypes.AFTER_UNAPPLY) {\n      const elems = cmd.elements();\n      canvas.pathActions.clear();\n      call('changed', elems);\n      const cmdType = cmd.type();\n      const isApply = (eventType === EventTypes.AFTER_APPLY);\n      if (cmdType === 'MoveElementCommand') {\n        const parent = isApply ? cmd.newParent : cmd.oldParent;\n        if (parent === svgcontent) {\n          draw.identifyLayers();\n        }\n      } else if (cmdType === 'InsertElementCommand' ||\n          cmdType === 'RemoveElementCommand') {\n        if (cmd.parent === svgcontent) {\n          draw.identifyLayers();\n        }\n        if (cmdType === 'InsertElementCommand') {\n          if (isApply) { restoreRefElems(cmd.elem); }\n        } else if (!isApply) {\n          restoreRefElems(cmd.elem);\n        }\n        if (cmd.elem && cmd.elem.tagName === 'use') {\n          setUseData(cmd.elem);\n        }\n      } else if (cmdType === 'ChangeElementCommand') {\n        // if we are changing layer names, re-identify all layers\n        if (cmd.elem.tagName === 'title' &&\n          cmd.elem.parentNode.parentNode === svgcontent\n        ) {\n          draw.identifyLayers();\n        }\n        const values = isApply ? cmd.newValues : cmd.oldValues;\n        // If stdDeviation was changed, update the blur.\n        if (values.stdDeviation) {\n          canvas.setBlurOffsets(cmd.elem.parentNode, values.stdDeviation);\n        }\n        // This is resolved in later versions of webkit, perhaps we should\n        // have a featured detection for correct 'use' behavior?\n        // ââââââââââ\n        // Remove & Re-add hack for Webkit (issue 775)\n        // if (cmd.elem.tagName === 'use' && isWebkit()) {\n        //  const {elem} = cmd;\n        //  if (!elem.getAttribute('x') && !elem.getAttribute('y')) {\n        //    const parent = elem.parentNode;\n        //    const sib = elem.nextSibling;\n        //    elem.remove();\n        //    parent.insertBefore(elem, sib);\n        //    // Ok to replace above with this? `sib.before(elem);`\n        //  }\n        // }\n      }\n    }\n  }\n});\n\n/**\n* This should really be an intersection applying to all types rather than a union.\n* @name module:svgcanvas~addCommandToHistory\n* @type {module:path.EditorContext#addCommandToHistory|module:draw.DrawCanvasInit#addCommandToHistory}\n*/\nconst addCommandToHistory = function (cmd) {\n  canvas.undoMgr.addCommandToHistory(cmd);\n};\n\n/**\n* This should really be an intersection applying to all types rather than a union.\n* @name module:svgcanvas.SvgCanvas#getZoom\n* @type {module:path.EditorContext#getCurrentZoom|module:select.SVGFactory#getCurrentZoom}\n*/\nconst getCurrentZoom = this.getZoom = function () { return currentZoom; };\n\n/**\n* This method rounds the incoming value to the nearest value based on the `currentZoom`\n* @name module:svgcanvas.SvgCanvas#round\n* @type {module:path.EditorContext#round}\n*/\nconst round = this.round = function (val) {\n  return Number.parseInt(val * currentZoom) / currentZoom;\n};\n\nselectInit(\n  curConfig,\n  /**\n  * Export to select.js.\n  * @implements {module:select.SVGFactory}\n  */\n  {\n    createSVGElement (jsonMap) { return canvas.addSVGElementFromJson(jsonMap); },\n    svgRoot () { return svgroot; },\n    svgContent () { return svgcontent; },\n    getCurrentZoom\n  }\n);\n/**\n* This object manages selectors for us.\n* @name module:svgcanvas.SvgCanvas#selectorManager\n* @type {module:select.SelectorManager}\n*/\nconst selectorManager = this.selectorManager = getSelectorManager();\n\n/**\n* @name module:svgcanvas.SvgCanvas#getNextId\n* @type {module:path.EditorContext#getNextId}\n*/\nconst getNextId = canvas.getNextId = function () {\n  return getCurrentDrawing().getNextId();\n};\n\n/**\n* @name module:svgcanvas.SvgCanvas#getId\n* @type {module:path.EditorContext#getId}\n*/\nconst getId = canvas.getId = function () {\n  return getCurrentDrawing().getId();\n};\n\n/**\n* The \"implements\" should really be an intersection applying to all types rather than a union.\n* @name module:svgcanvas.SvgCanvas#call\n* @type {module:draw.DrawCanvasInit#call|module:path.EditorContext#call}\n*/\nconst call = function (ev, arg) {\n  if (events[ev]) {\n    return events[ev](window, arg);\n  }\n  return undefined;\n};\n\n/**\n* Clears the selection. The 'selected' handler is then optionally called.\n* This should really be an intersection applying to all types rather than a union.\n* @name module:svgcanvas.SvgCanvas#clearSelection\n* @type {module:draw.DrawCanvasInit#clearSelection|module:path.EditorContext#clearSelection}\n* @fires module:svgcanvas.SvgCanvas#event:selected\n*/\nconst clearSelection = this.clearSelection = function (noCall) {\n  selectedElements.forEach((elem) => {\n    if (isNullish(elem)) {\n      return;\n    }\n    selectorManager.releaseSelector(elem);\n  });\n  selectedElements = [];\n\n  if (!noCall) { call('selected', selectedElements); }\n};\n\n/**\n* Adds a list of elements to the selection. The 'selected' handler is then called.\n* @name module:svgcanvas.SvgCanvas#addToSelection\n* @type {module:path.EditorContext#addToSelection}\n* @fires module:svgcanvas.SvgCanvas#event:selected\n*/\nconst addToSelection = this.addToSelection = function (elemsToAdd, showGrips) {\n  if (!elemsToAdd.length) { return; }\n  // find the first null in our selectedElements array\n\n  let j = 0;\n  while (j < selectedElements.length) {\n    if (isNullish(selectedElements[j])) {\n      break;\n    }\n    ++j;\n  }\n\n  // now add each element consecutively\n  let i = elemsToAdd.length;\n  while (i--) {\n    let elem = elemsToAdd[i];\n    if (!elem) { continue; }\n    const bbox = utilsGetBBox(elem);\n    if (!bbox) { continue; }\n\n    if (elem.tagName === 'a' && elem.childNodes.length === 1) {\n      // Make \"a\" element's child be the selected element\n      elem = elem.firstChild;\n    }\n\n    // if it's not already there, add it\n    if (!selectedElements.includes(elem)) {\n      selectedElements[j] = elem;\n\n      // only the first selectedBBoxes element is ever used in the codebase these days\n      // if (j === 0) selectedBBoxes[0] = utilsGetBBox(elem);\n      j++;\n      const sel = selectorManager.requestSelector(elem, bbox);\n\n      if (selectedElements.length > 1) {\n        sel.showGrips(false);\n      }\n    }\n  }\n  if (!selectedElements.length) {\n    return;\n  }\n  call('selected', selectedElements);\n\n  if (selectedElements.length === 1) {\n    selectorManager.requestSelector(selectedElements[0]).showGrips(showGrips);\n  }\n\n  // make sure the elements are in the correct order\n  // See: https://www.w3.org/TR/DOM-Level-3-Core/core.html#Node3-compareDocumentPosition\n\n  selectedElements.sort(function (a, b) {\n    if (a && b && a.compareDocumentPosition) {\n      return 3 - (b.compareDocumentPosition(a) & 6); // eslint-disable-line no-bitwise\n    }\n    if (isNullish(a)) {\n      return 1;\n    }\n    return 0;\n  });\n\n  // Make sure first elements are not null\n  while (isNullish(selectedElements[0])) {\n    selectedElements.shift(0);\n  }\n};\n\n/**\n* @type {module:path.EditorContext#getOpacity}\n*/\nconst getOpacity = function () {\n  return curShape.opacity;\n};\n\n/**\n* @name module:svgcanvas.SvgCanvas#getMouseTarget\n* @type {module:path.EditorContext#getMouseTarget}\n*/\nconst getMouseTarget = this.getMouseTarget = function (evt) {\n  if (isNullish(evt)) {\n    return null;\n  }\n  let mouseTarget = evt.target;\n\n  // if it was a <use>, Opera and WebKit return the SVGElementInstance\n  if (mouseTarget.correspondingUseElement) { mouseTarget = mouseTarget.correspondingUseElement; }\n\n  // for foreign content, go up until we find the foreignObject\n  // WebKit browsers set the mouse target to the svgcanvas div\n  if ([NS.MATH, NS.HTML].includes(mouseTarget.namespaceURI) &&\n    mouseTarget.id !== 'svgcanvas'\n  ) {\n    while (mouseTarget.nodeName !== 'foreignObject') {\n      mouseTarget = mouseTarget.parentNode;\n      if (!mouseTarget) { return svgroot; }\n    }\n  }\n\n  // Get the desired mouseTarget with jQuery selector-fu\n  // If it's root-like, select the root\n  const currentLayer = getCurrentDrawing().getCurrentLayer();\n  if ([svgroot, container, svgcontent, currentLayer].includes(mouseTarget)) {\n    return svgroot;\n  }\n\n  const $target = $(mouseTarget);\n\n  // If it's a selection grip, return the grip parent\n  if ($target.closest('#selectorParentGroup').length) {\n    // While we could instead have just returned mouseTarget,\n    // this makes it easier to indentify as being a selector grip\n    return selectorManager.selectorParentGroup;\n  }\n\n  while (mouseTarget.parentNode !== (currentGroup || currentLayer)) {\n    mouseTarget = mouseTarget.parentNode;\n  }\n\n  //\n  // // go up until we hit a child of a layer\n  // while (mouseTarget.parentNode.parentNode.tagName == 'g') {\n  //   mouseTarget = mouseTarget.parentNode;\n  // }\n  // Webkit bubbles the mouse event all the way up to the div, so we\n  // set the mouseTarget to the svgroot like the other browsers\n  // if (mouseTarget.nodeName.toLowerCase() == 'div') {\n  //   mouseTarget = svgroot;\n  // }\n\n  return mouseTarget;\n};\n\n/**\n* @namespace {module:path.pathActions} pathActions\n* @memberof module:svgcanvas.SvgCanvas#\n* @see module:path.pathActions\n*/\ncanvas.pathActions = pathActions;\n/**\n* @type {module:path.EditorContext#resetD}\n*/\nfunction resetD (p) {\n  p.setAttribute('d', pathActions.convertPath(p));\n}\npathModule.init(\n  /**\n  * @implements {module:path.EditorContext}\n  */\n  {\n    selectorManager, // Ok since not changing\n    canvas, // Ok since not changing\n    call,\n    resetD,\n    round,\n    clearSelection,\n    addToSelection,\n    addCommandToHistory,\n    remapElement,\n    addSVGElementFromJson,\n    getGridSnapping,\n    getOpacity,\n    getSelectedElements,\n    getContainer () {\n      return container;\n    },\n    setStarted (s) {\n      started = s;\n    },\n    getRubberBox () {\n      return rubberBox;\n    },\n    setRubberBox (rb) {\n      rubberBox = rb;\n      return rubberBox;\n    },\n    /**\n     * @param {PlainObject} ptsInfo\n     * @param {boolean} ptsInfo.closedSubpath\n     * @param {SVGCircleElement[]} ptsInfo.grips\n     * @fires module:svgcanvas.SvgCanvas#event:pointsAdded\n     * @fires module:svgcanvas.SvgCanvas#event:selected\n     * @returns {void}\n     */\n    addPtsToSelection ({closedSubpath, grips}) {\n      // TODO: Correct this:\n      pathActions.canDeleteNodes = true;\n      pathActions.closed_subpath = closedSubpath;\n      call('pointsAdded', {closedSubpath, grips});\n      call('selected', grips);\n    },\n    /**\n     * @param {PlainObject} changes\n     * @param {ChangeElementCommand} changes.cmd\n     * @param {SVGPathElement} changes.elem\n     * @fires module:svgcanvas.SvgCanvas#event:changed\n     * @returns {void}\n     */\n    endChanges ({cmd, elem}) {\n      addCommandToHistory(cmd);\n      call('changed', [elem]);\n    },\n    getCurrentZoom,\n    getId,\n    getNextId,\n    getMouseTarget,\n    getCurrentMode () {\n      return currentMode;\n    },\n    setCurrentMode (cm) {\n      currentMode = cm;\n      return currentMode;\n    },\n    getDrawnPath () {\n      return drawnPath;\n    },\n    setDrawnPath (dp) {\n      drawnPath = dp;\n      return drawnPath;\n    },\n    getSVGRoot\n  }\n);\n\n// Interface strings, usually for title elements\nconst uiStrings = {};\n\nconst visElems = 'a,circle,ellipse,foreignObject,g,image,line,path,polygon,polyline,rect,svg,text,tspan,use';\nconst refAttrs = ['clip-path', 'fill', 'filter', 'marker-end', 'marker-mid', 'marker-start', 'mask', 'stroke'];\n\nconst elData = $.data;\n\n// Animation element to change the opacity of any newly created element\nconst opacAni = document.createElementNS(NS.SVG, 'animate');\n$(opacAni).attr({\n  attributeName: 'opacity',\n  begin: 'indefinite',\n  dur: 1,\n  fill: 'freeze'\n}).appendTo(svgroot);\n\nconst restoreRefElems = function (elem) {\n  // Look for missing reference elements, restore any found\n  const attrs = $(elem).attr(refAttrs);\n  Object.values(attrs).forEach((val) => {\n    if (val && val.startsWith('url(')) {\n      const id = getUrlFromAttr(val).substr(1);\n      const ref = getElem(id);\n      if (!ref) {\n        findDefs().append(removedElements[id]);\n        delete removedElements[id];\n      }\n    }\n  });\n\n  const childs = elem.getElementsByTagName('*');\n\n  if (childs.length) {\n    for (let i = 0, l = childs.length; i < l; i++) {\n      restoreRefElems(childs[i]);\n    }\n  }\n};\n\n// (function () {\n// TODO For Issue 208: this is a start on a thumbnail\n//  const svgthumb = svgdoc.createElementNS(NS.SVG, 'use');\n//  svgthumb.setAttribute('width', '100');\n//  svgthumb.setAttribute('height', '100');\n//  setHref(svgthumb, '#svgcontent');\n//  svgroot.append(svgthumb);\n// }());\n\n/**\n * @typedef {PlainObject} module:svgcanvas.SaveOptions\n * @property {boolean} apply\n * @property {\"embed\"} [image]\n * @property {Integer} round_digits\n */\n\n// Object to contain image data for raster images that were found encodable\nconst encodableImages = {},\n\n  // Object with save options\n  /**\n   * @type {module:svgcanvas.SaveOptions}\n   */\n  saveOptions = {round_digits: 5},\n\n  // Object with IDs for imported files, to see if one was already added\n  importIds = {},\n\n  // Current text style properties\n  curText = allProperties.text,\n\n  // Object to contain all included extensions\n  extensions = {},\n\n  // Map of deleted reference elements\n  removedElements = {};\n\nlet\n  // String with image URL of last loadable image\n  lastGoodImgUrl = curConfig.imgPath + 'logo.png',\n\n  // Boolean indicating whether or not a draw action has been started\n  started = false,\n\n  // String with an element's initial transform attribute value\n  startTransform = null,\n\n  // String indicating the current editor mode\n  currentMode = 'select',\n\n  // String with the current direction in which an element is being resized\n  currentResizeMode = 'none',\n\n  // Current general properties\n  curProperties = curShape,\n\n  // Array with selected elements' Bounding box object\n  // selectedBBoxes = new Array(1),\n\n  // The DOM element that was just selected\n  justSelected = null,\n\n  // DOM element for selection rectangle drawn by the user\n  rubberBox = null,\n\n  // Array of current BBoxes, used in getIntersectionList().\n  curBBoxes = [],\n\n  // Canvas point for the most recent right click\n  lastClickPoint = null;\n\nthis.runExtension = function (name, action, vars) {\n  return this.runExtensions(action, vars, false, (n) => n === name);\n};\n/**\n* @typedef {module:svgcanvas.ExtensionMouseDownStatus|module:svgcanvas.ExtensionMouseUpStatus|module:svgcanvas.ExtensionIDsUpdatedStatus|module:locale.ExtensionLocaleData[]|void} module:svgcanvas.ExtensionStatus\n* @tutorial ExtensionDocs\n*/\n/**\n* @callback module:svgcanvas.ExtensionVarBuilder\n* @param {string} name The name of the extension\n* @returns {module:svgcanvas.SvgCanvas#event:ext_addLangData}\n*/\n/**\n* @callback module:svgcanvas.ExtensionNameFilter\n* @param {string} name\n* @returns {boolean}\n*/\n/**\n* @todo Consider: Should this return an array by default, so extension results aren't overwritten?\n* @todo Would be easier to document if passing in object with key of action and vars as value; could then define an interface which tied both together\n* @function module:svgcanvas.SvgCanvas#runExtensions\n* @param {\"mouseDown\"|\"mouseMove\"|\"mouseUp\"|\"zoomChanged\"|\"IDsUpdated\"|\"canvasUpdated\"|\"toolButtonStateUpdate\"|\"selectedChanged\"|\"elementTransition\"|\"elementChanged\"|\"langReady\"|\"langChanged\"|\"addLangData\"|\"onNewDocument\"|\"workareaResized\"} action\n* @param {module:svgcanvas.SvgCanvas#event:ext_mouseDown|module:svgcanvas.SvgCanvas#event:ext_mouseMove|module:svgcanvas.SvgCanvas#event:ext_mouseUp|module:svgcanvas.SvgCanvas#event:ext_zoomChanged|module:svgcanvas.SvgCanvas#event:ext_IDsUpdated|module:svgcanvas.SvgCanvas#event:ext_canvasUpdated|module:svgcanvas.SvgCanvas#event:ext_toolButtonStateUpdate|module:svgcanvas.SvgCanvas#event:ext_selectedChanged|module:svgcanvas.SvgCanvas#event:ext_elementTransition|module:svgcanvas.SvgCanvas#event:ext_elementChanged|module:svgcanvas.SvgCanvas#event:ext_langReady|module:svgcanvas.SvgCanvas#event:ext_langChanged|module:svgcanvas.SvgCanvas#event:ext_addLangData|module:svgcanvas.SvgCanvas#event:ext_onNewDocument|module:svgcanvas.SvgCanvas#event:ext_workareaResized|module:svgcanvas.ExtensionVarBuilder} [vars]\n* @param {boolean} [returnArray]\n* @param {module:svgcanvas.ExtensionNameFilter} nameFilter\n* @returns {GenericArray<module:svgcanvas.ExtensionStatus>|module:svgcanvas.ExtensionStatus|false} See {@tutorial ExtensionDocs} on the ExtensionStatus.\n*/\nconst runExtensions = this.runExtensions = function (action, vars, returnArray, nameFilter) {\n  let result = returnArray ? [] : false;\n  $.each(extensions, function (name, ext) {\n    if (nameFilter && !nameFilter(name)) {\n      return;\n    }\n    if (ext && action in ext) {\n      if (typeof vars === 'function') {\n        vars = vars(name); // ext, action\n      }\n      if (returnArray) {\n        result.push(ext[action](vars));\n      } else {\n        result = ext[action](vars);\n      }\n    }\n  });\n  return result;\n};\n\n/**\n* @typedef {PlainObject} module:svgcanvas.ExtensionMouseDownStatus\n* @property {boolean} started Indicates that creating/editing has started\n*/\n/**\n* @typedef {PlainObject} module:svgcanvas.ExtensionMouseUpStatus\n* @property {boolean} keep Indicates if the current element should be kept\n* @property {boolean} started Indicates if editing should still be considered as \"started\"\n* @property {Element} element The element being affected\n*/\n/**\n* @typedef {PlainObject} module:svgcanvas.ExtensionIDsUpdatedStatus\n* @property {string[]} remove Contains string IDs (used by `ext-connector.js`)\n*/\n\n/**\n * @interface module:svgcanvas.ExtensionInitResponse\n * @property {module:SVGEditor.ContextTool[]|PlainObject<string, module:SVGEditor.ContextTool>} [context_tools]\n * @property {module:SVGEditor.Button[]|PlainObject<Integer, module:SVGEditor.Button>} [buttons]\n * @property {string} [svgicons] The location of a local SVG or SVGz file\n*/\n/**\n * @function module:svgcanvas.ExtensionInitResponse#mouseDown\n * @param {module:svgcanvas.SvgCanvas#event:ext_mouseDown} arg\n * @returns {void|module:svgcanvas.ExtensionMouseDownStatus}\n */\n/**\n * @function module:svgcanvas.ExtensionInitResponse#mouseMove\n * @param {module:svgcanvas.SvgCanvas#event:ext_mouseMove} arg\n * @returns {void}\n*/\n/**\n * @function module:svgcanvas.ExtensionInitResponse#mouseUp\n * @param {module:svgcanvas.SvgCanvas#event:ext_mouseUp} arg\n * @returns {module:svgcanvas.ExtensionMouseUpStatus}\n */\n/**\n * @function module:svgcanvas.ExtensionInitResponse#zoomChanged\n * @param {module:svgcanvas.SvgCanvas#event:ext_zoomChanged} arg\n * @returns {void}\n*/\n/**\n * @function module:svgcanvas.ExtensionInitResponse#IDsUpdated\n * @param {module:svgcanvas.SvgCanvas#event:ext_IDsUpdated} arg\n * @returns {module:svgcanvas.ExtensionIDsUpdatedStatus}\n */\n/**\n * @function module:svgcanvas.ExtensionInitResponse#canvasUpdated\n * @param {module:svgcanvas.SvgCanvas#event:ext_canvasUpdated} arg\n * @returns {void}\n*/\n/**\n * @function module:svgcanvas.ExtensionInitResponse#toolButtonStateUpdate\n * @param {module:svgcanvas.SvgCanvas#event:ext_toolButtonStateUpdate} arg\n * @returns {void}\n*/\n/**\n * @function module:svgcanvas.ExtensionInitResponse#selectedChanged\n * @param {module:svgcanvas.SvgCanvas#event:ext_selectedChanged} arg\n * @returns {void}\n*/\n/**\n * @function module:svgcanvas.ExtensionInitResponse#elementTransition\n * @param {module:svgcanvas.SvgCanvas#event:ext_elementTransition} arg\n * @returns {void}\n*/\n/**\n * @function module:svgcanvas.ExtensionInitResponse#elementChanged\n * @param {module:svgcanvas.SvgCanvas#event:ext_elementChanged} arg\n * @returns {void}\n*/\n/**\n * @function module:svgcanvas.ExtensionInitResponse#langReady\n * @param {module:svgcanvas.SvgCanvas#event:ext_langReady} arg\n * @returns {void}\n*/\n/**\n * @function module:svgcanvas.ExtensionInitResponse#langChanged\n * @param {module:svgcanvas.SvgCanvas#event:ext_langChanged} arg\n * @returns {void}\n*/\n/**\n * @function module:svgcanvas.ExtensionInitResponse#addLangData\n * @param {module:svgcanvas.SvgCanvas#event:ext_addLangData} arg\n * @returns {Promise<module:locale.ExtensionLocaleData>} Resolves to {@link module:locale.ExtensionLocaleData}\n*/\n/**\n * @function module:svgcanvas.ExtensionInitResponse#onNewDocument\n * @param {module:svgcanvas.SvgCanvas#event:ext_onNewDocument} arg\n * @returns {void}\n*/\n/**\n * @function module:svgcanvas.ExtensionInitResponse#workareaResized\n * @param {module:svgcanvas.SvgCanvas#event:ext_workareaResized} arg\n * @returns {void}\n*/\n/**\n * @function module:svgcanvas.ExtensionInitResponse#callback\n * @this module:SVGEditor\n * @param {module:svgcanvas.SvgCanvas#event:ext_callback} arg\n * @returns {void}\n*/\n\n/**\n* @callback module:svgcanvas.ExtensionInitCallback\n* @this module:SVGEditor\n* @param {module:svgcanvas.ExtensionArgumentObject} arg\n* @returns {Promise<module:svgcanvas.ExtensionInitResponse|void>} Resolves to [ExtensionInitResponse]{@link module:svgcanvas.ExtensionInitResponse} or `undefined`\n*/\n/**\n* @typedef {PlainObject} module:svgcanvas.ExtensionInitArgs\n* @property {external:jQuery} $\n* @property {module:SVGEditor~ImportLocale} importLocale\n*/\n/**\n* Add an extension to the editor.\n* @function module:svgcanvas.SvgCanvas#addExtension\n* @param {string} name - String with the ID of the extension. Used internally; no need for i18n.\n* @param {module:svgcanvas.ExtensionInitCallback} [extInitFunc] - Function supplied by the extension with its data\n* @param {module:svgcanvas.ExtensionInitArgs} initArgs\n* @fires module:svgcanvas.SvgCanvas#event:extension_added\n* @throws {TypeError|Error} `TypeError` if `extInitFunc` is not a function, `Error`\n*   if extension of supplied name already exists\n* @returns {Promise<void>} Resolves to `undefined`\n*/\nthis.addExtension = async function (name, extInitFunc, {$: jq, importLocale}) {\n  if (typeof extInitFunc !== 'function') {\n    throw new TypeError('Function argument expected for `svgcanvas.addExtension`');\n  }\n  if (name in extensions) {\n    throw new Error('Cannot add extension \"' + name + '\", an extension by that name already exists.');\n  }\n  // Provide private vars/funcs here. Is there a better way to do this?\n  /**\n   * @typedef {module:svgcanvas.PrivateMethods} module:svgcanvas.ExtensionArgumentObject\n   * @property {SVGSVGElement} svgroot See {@link module:svgcanvas~svgroot}\n   * @property {SVGSVGElement} svgcontent See {@link module:svgcanvas~svgcontent}\n   * @property {!(string|Integer)} nonce See {@link module:draw.Drawing#getNonce}\n   * @property {module:select.SelectorManager} selectorManager\n   * @property {module:SVGEditor~ImportLocale} importLocale\n   */\n  /**\n   * @type {module:svgcanvas.ExtensionArgumentObject}\n   * @see {@link module:svgcanvas.PrivateMethods} source for the other methods/properties\n   */\n  const argObj = $.extend(canvas.getPrivateMethods(), {\n    $: jq,\n    importLocale,\n    svgroot,\n    svgcontent,\n    nonce: getCurrentDrawing().getNonce(),\n    selectorManager\n  });\n  const extObj = await extInitFunc(argObj);\n  if (extObj) {\n    extObj.name = name;\n  }\n\n  extensions[name] = extObj;\n  return call('extension_added', extObj);\n};\n\n/**\n* This method sends back an array or a NodeList full of elements that\n* intersect the multi-select rubber-band-box on the currentLayer only.\n*\n* We brute-force `getIntersectionList` for browsers that do not support it (Firefox).\n*\n* Reference:\n* Firefox does not implement `getIntersectionList()`, see {@link https://bugzilla.mozilla.org/show_bug.cgi?id=501421}.\n* @function module:svgcanvas.SvgCanvas#getIntersectionList\n* @param {SVGRect} rect\n* @returns {Element[]|NodeList} Bbox elements\n*/\nconst getIntersectionList = this.getIntersectionList = function (rect) {\n  if (isNullish(rubberBox)) { return null; }\n\n  const parent = currentGroup || getCurrentDrawing().getCurrentLayer();\n\n  let rubberBBox;\n  if (!rect) {\n    rubberBBox = rubberBox.getBBox();\n    const bb = svgcontent.createSVGRect();\n\n    ['x', 'y', 'width', 'height', 'top', 'right', 'bottom', 'left'].forEach((o) => {\n      bb[o] = rubberBBox[o] / currentZoom;\n    });\n    rubberBBox = bb;\n  } else {\n    rubberBBox = svgcontent.createSVGRect();\n    rubberBBox.x = rect.x;\n    rubberBBox.y = rect.y;\n    rubberBBox.width = rect.width;\n    rubberBBox.height = rect.height;\n  }\n\n  let resultList = null;\n  if (!isIE()) {\n    if (typeof svgroot.getIntersectionList === 'function') {\n      // Offset the bbox of the rubber box by the offset of the svgcontent element.\n      rubberBBox.x += Number.parseInt(svgcontent.getAttribute('x'));\n      rubberBBox.y += Number.parseInt(svgcontent.getAttribute('y'));\n\n      resultList = svgroot.getIntersectionList(rubberBBox, parent);\n    }\n  }\n\n  if (isNullish(resultList) || typeof resultList.item !== 'function') {\n    resultList = [];\n\n    if (!curBBoxes.length) {\n      // Cache all bboxes\n      curBBoxes = getVisibleElementsAndBBoxes(parent);\n    }\n    let i = curBBoxes.length;\n    while (i--) {\n      if (!rubberBBox.width) { continue; }\n      if (rectsIntersect(rubberBBox, curBBoxes[i].bbox)) {\n        resultList.push(curBBoxes[i].elem);\n      }\n    }\n  }\n\n  // addToSelection expects an array, but it's ok to pass a NodeList\n  // because using square-bracket notation is allowed:\n  // https://www.w3.org/TR/DOM-Level-2-Core/ecma-script-binding.html\n  return resultList;\n};\n\nthis.getStrokedBBox = getStrokedBBoxDefaultVisible;\n\nthis.getVisibleElements = getVisibleElements;\n\n/**\n* @typedef {PlainObject} ElementAndBBox\n* @property {Element} elem - The element\n* @property {module:utilities.BBoxObject} bbox - The element's BBox as retrieved from `getStrokedBBoxDefaultVisible`\n*/\n\n/**\n* Get all elements that have a BBox (excludes `<defs>`, `<title>`, etc).\n* Note that 0-opacity, off-screen etc elements are still considered \"visible\"\n* for this function.\n* @function module:svgcanvas.SvgCanvas#getVisibleElementsAndBBoxes\n* @param {Element} parent - The parent DOM element to search within\n* @returns {ElementAndBBox[]} An array with objects that include:\n*/\nconst getVisibleElementsAndBBoxes = this.getVisibleElementsAndBBoxes = function (parent) {\n  if (!parent) {\n    parent = $(svgcontent).children(); // Prevent layers from being included\n  }\n  const contentElems = [];\n  $(parent).children().each(function (i, elem) {\n    if (elem.getBBox) {\n      contentElems.push({elem, bbox: getStrokedBBoxDefaultVisible([elem])});\n    }\n  });\n  return contentElems.reverse();\n};\n\n/**\n* Wrap an SVG element into a group element, mark the group as 'gsvg'.\n* @function module:svgcanvas.SvgCanvas#groupSvgElem\n* @param {Element} elem - SVG element to wrap\n* @returns {void}\n*/\nconst groupSvgElem = this.groupSvgElem = function (elem) {\n  const g = document.createElementNS(NS.SVG, 'g');\n  elem.replaceWith(g);\n  $(g).append(elem).data('gsvg', elem)[0].id = getNextId();\n};\n\n// Set scope for these functions\n\n// Object to contain editor event names and callback functions\nconst events = {};\n\ncanvas.call = call;\n/**\n * Array of what was changed (elements, layers).\n * @event module:svgcanvas.SvgCanvas#event:changed\n * @type {Element[]}\n */\n/**\n * Array of selected elements.\n * @event module:svgcanvas.SvgCanvas#event:selected\n * @type {Element[]}\n */\n/**\n * Array of selected elements.\n * @event module:svgcanvas.SvgCanvas#event:transition\n * @type {Element[]}\n */\n/**\n * The Element is always `SVGGElement`?\n * If not `null`, will be the set current group element.\n * @event module:svgcanvas.SvgCanvas#event:contextset\n * @type {null|Element}\n */\n/**\n * @event module:svgcanvas.SvgCanvas#event:pointsAdded\n * @type {PlainObject}\n * @property {boolean} closedSubpath\n * @property {SVGCircleElement[]} grips Grips elements\n */\n\n/**\n * @event module:svgcanvas.SvgCanvas#event:zoomed\n * @type {PlainObject}\n * @property {Float} x\n * @property {Float} y\n * @property {Float} width\n * @property {Float} height\n * @property {0.5|2} factor\n * @see module:SVGEditor.BBoxObjectWithFactor\n */\n/**\n * @event module:svgcanvas.SvgCanvas#event:updateCanvas\n * @type {PlainObject}\n * @property {false} center\n * @property {module:math.XYObject} newCtr\n */\n/**\n * @typedef {PlainObject} module:svgcanvas.ExtensionInitResponsePlusName\n * @implements {module:svgcanvas.ExtensionInitResponse}\n * @property {string} name The extension's resolved ID (whether explicit or based on file name)\n */\n/**\n * Generalized extension object response of\n * [`init()`]{@link module:svgcanvas.ExtensionInitCallback}\n * along with the name of the extension.\n * @event module:svgcanvas.SvgCanvas#event:extension_added\n * @type {module:svgcanvas.ExtensionInitResponsePlusName|void}\n */\n/**\n * @event module:svgcanvas.SvgCanvas#event:extensions_added\n * @type {void}\n*/\n/**\n * @typedef {PlainObject} module:svgcanvas.Message\n * @property {any} data The data\n * @property {string} origin The origin\n */\n/**\n * @event module:svgcanvas.SvgCanvas#event:message\n * @type {module:svgcanvas.Message}\n */\n/**\n * SVG canvas converted to string.\n * @event module:svgcanvas.SvgCanvas#event:saved\n * @type {string}\n */\n/**\n * @event module:svgcanvas.SvgCanvas#event:setnonce\n * @type {!(string|Integer)}\n */\n/**\n * @event module:svgcanvas.SvgCanvas#event:unsetnonce\n * @type {void}\n */\n/**\n * @event module:svgcanvas.SvgCanvas#event:zoomDone\n * @type {void}\n*/\n/**\n * @event module:svgcanvas.SvgCanvas#event:cleared\n * @type {void}\n*/\n\n/**\n * @event module:svgcanvas.SvgCanvas#event:exported\n * @type {module:svgcanvas.ImageExportedResults}\n */\n/**\n * @event module:svgcanvas.SvgCanvas#event:exportedPDF\n * @type {module:svgcanvas.PDFExportedResults}\n */\n/**\n * Creating a cover-all class until {@link https://github.com/jsdoc3/jsdoc/issues/1545} may be supported.\n * `undefined` may be returned by {@link module:svgcanvas.SvgCanvas#event:extension_added} if the extension's `init` returns `undefined` It is also the type for the following events \"zoomDone\", \"unsetnonce\", \"cleared\", and \"extensions_added\".\n * @event module:svgcanvas.SvgCanvas#event:GenericCanvasEvent\n * @type {module:svgcanvas.SvgCanvas#event:selected|module:svgcanvas.SvgCanvas#event:changed|module:svgcanvas.SvgCanvas#event:contextset|module:svgcanvas.SvgCanvas#event:pointsAdded|module:svgcanvas.SvgCanvas#event:extension_added|module:svgcanvas.SvgCanvas#event:extensions_added|module:svgcanvas.SvgCanvas#event:message|module:svgcanvas.SvgCanvas#event:transition|module:svgcanvas.SvgCanvas#event:zoomed|module:svgcanvas.SvgCanvas#event:updateCanvas|module:svgcanvas.SvgCanvas#event:saved|module:svgcanvas.SvgCanvas#event:exported|module:svgcanvas.SvgCanvas#event:exportedPDF|module:svgcanvas.SvgCanvas#event:setnonce|module:svgcanvas.SvgCanvas#event:unsetnonce|void}\n */\n\n/**\n * The promise return, if present, resolves to `undefined`\n *  (`extension_added`, `exported`, `saved`).\n * @typedef {Promise<void>|void} module:svgcanvas.EventHandlerReturn\n*/\n\n/**\n* @callback module:svgcanvas.EventHandler\n* @param {external:Window} win\n* @param {module:svgcanvas.SvgCanvas#event:GenericCanvasEvent} arg\n* @listens module:svgcanvas.SvgCanvas#event:GenericCanvasEvent\n* @returns {module:svgcanvas.EventHandlerReturn}\n*/\n\n/**\n* Attaches a callback function to an event.\n* @function module:svgcanvas.SvgCanvas#bind\n* @param {\"changed\"|\"contextset\"|\"selected\"|\"pointsAdded\"|\"extension_added\"|\"extensions_added\"|\"message\"|\"transition\"|\"zoomed\"|\"updateCanvas\"|\"zoomDone\"|\"saved\"|\"exported\"|\"exportedPDF\"|\"setnonce\"|\"unsetnonce\"|\"cleared\"} ev - String indicating the name of the event\n* @param {module:svgcanvas.EventHandler} f - The callback function to bind to the event\n* @returns {module:svgcanvas.EventHandler} The previous event\n*/\ncanvas.bind = function (ev, f) {\n  const old = events[ev];\n  events[ev] = f;\n  return old;\n};\n\n/**\n* Runs the SVG Document through the sanitizer and then updates its paths.\n* @function module:svgcanvas.SvgCanvas#prepareSvg\n* @param {XMLDocument} newDoc - The SVG DOM document\n* @returns {void}\n*/\nthis.prepareSvg = function (newDoc) {\n  this.sanitizeSvg(newDoc.documentElement);\n\n  // convert paths into absolute commands\n  const paths = [...newDoc.getElementsByTagNameNS(NS.SVG, 'path')];\n  paths.forEach((path) => {\n    path.setAttribute('d', pathActions.convertPath(path));\n    pathActions.fixEnd(path);\n  });\n};\n\n/**\n* Hack for Firefox bugs where text element features aren't updated or get\n* messed up. See issue 136 and issue 137.\n* This function clones the element and re-selects it.\n* @function module:svgcanvas~ffClone\n* @todo Test for this bug on load and add it to \"support\" object instead of\n* browser sniffing\n* @param {Element} elem - The (text) DOM element to clone\n* @returns {Element} Cloned element\n*/\nconst ffClone = function (elem) {\n  if (!isGecko()) { return elem; }\n  const clone = elem.cloneNode(true);\n  elem.before(clone);\n  elem.remove();\n  selectorManager.releaseSelector(elem);\n  selectedElements[0] = clone;\n  selectorManager.requestSelector(clone).showGrips(true);\n  return clone;\n};\n\n// `this.each` is deprecated, if any extension used this it can be recreated by doing this:\n// * @example $(canvas.getRootElem()).children().each(...)\n// * @function module:svgcanvas.SvgCanvas#each\n// this.each = function (cb) {\n//  $(svgroot).children().each(cb);\n// };\n\n/**\n* Removes any old rotations if present, prepends a new rotation at the\n* transformed center.\n* @function module:svgcanvas.SvgCanvas#setRotationAngle\n* @param {string|Float} val - The new rotation angle in degrees\n* @param {boolean} preventUndo - Indicates whether the action should be undoable or not\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {void}\n*/\nthis.setRotationAngle = function (val, preventUndo) {\n  // ensure val is the proper type\n  val = Number.parseFloat(val);\n  const elem = selectedElements[0];\n  const oldTransform = elem.getAttribute('transform');\n  const bbox = utilsGetBBox(elem);\n  const cx = bbox.x + bbox.width / 2, cy = bbox.y + bbox.height / 2;\n  const tlist = getTransformList(elem);\n\n  // only remove the real rotational transform if present (i.e. at index=0)\n  if (tlist.numberOfItems > 0) {\n    const xform = tlist.getItem(0);\n    if (xform.type === 4) {\n      tlist.removeItem(0);\n    }\n  }\n  // find Rnc and insert it\n  if (val !== 0) {\n    const center = transformPoint(cx, cy, transformListToTransform(tlist).matrix);\n    const Rnc = svgroot.createSVGTransform();\n    Rnc.setRotate(val, center.x, center.y);\n    if (tlist.numberOfItems) {\n      tlist.insertItemBefore(Rnc, 0);\n    } else {\n      tlist.appendItem(Rnc);\n    }\n  } else if (tlist.numberOfItems === 0) {\n    elem.removeAttribute('transform');\n  }\n\n  if (!preventUndo) {\n    // we need to undo it, then redo it so it can be undo-able! :)\n    // TODO: figure out how to make changes to transform list undo-able cross-browser?\n    const newTransform = elem.getAttribute('transform');\n    elem.setAttribute('transform', oldTransform);\n    changeSelectedAttribute('transform', newTransform, selectedElements);\n    call('changed', selectedElements);\n  }\n  // const pointGripContainer = getElem('pathpointgrip_container');\n  // if (elem.nodeName === 'path' && pointGripContainer) {\n  //   pathActions.setPointContainerTransform(elem.getAttribute('transform'));\n  // }\n  const selector = selectorManager.requestSelector(selectedElements[0]);\n  selector.resize();\n  Selector.updateGripCursors(val);\n};\n\n/**\n* Runs `recalculateDimensions` on the selected elements,\n* adding the changes to a single batch command.\n* @function module:svgcanvas.SvgCanvas#recalculateAllSelectedDimensions\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {void}\n*/\nconst recalculateAllSelectedDimensions = this.recalculateAllSelectedDimensions = function () {\n  const text = (currentResizeMode === 'none' ? 'position' : 'size');\n  const batchCmd = new BatchCommand(text);\n\n  let i = selectedElements.length;\n  while (i--) {\n    const elem = selectedElements[i];\n    // if (getRotationAngle(elem) && !hasMatrixTransform(getTransformList(elem))) { continue; }\n    const cmd = recalculateDimensions(elem);\n    if (cmd) {\n      batchCmd.addSubCommand(cmd);\n    }\n  }\n\n  if (!batchCmd.isEmpty()) {\n    addCommandToHistory(batchCmd);\n    call('changed', selectedElements);\n  }\n};\n\n/**\n * Debug tool to easily see the current matrix in the browser's console.\n * @function module:svgcanvas~logMatrix\n * @param {SVGMatrix} m The matrix\n * @returns {void}\n */\nconst logMatrix = function (m) {\n  console.log([m.a, m.b, m.c, m.d, m.e, m.f]); // eslint-disable-line no-console\n};\n\n// Root Current Transformation Matrix in user units\nlet rootSctm = null;\n\n/**\n* Group: Selection.\n*/\n\n// TODO: do we need to worry about selectedBBoxes here?\n\n/**\n* Selects only the given elements, shortcut for `clearSelection(); addToSelection()`.\n* @function module:svgcanvas.SvgCanvas#selectOnly\n* @param {Element[]} elems - an array of DOM elements to be selected\n* @param {boolean} showGrips - Indicates whether the resize grips should be shown\n* @returns {void}\n*/\nconst selectOnly = this.selectOnly = function (elems, showGrips) {\n  clearSelection(true);\n  addToSelection(elems, showGrips);\n};\n\n// TODO: could use slice here to make this faster?\n// TODO: should the 'selected' handler\n\n/**\n* Removes elements from the selection.\n* @function module:svgcanvas.SvgCanvas#removeFromSelection\n* @param {Element[]} elemsToRemove - An array of elements to remove from selection\n* @returns {void}\n*/\n/* const removeFromSelection = */ this.removeFromSelection = function (elemsToRemove) {\n  if (isNullish(selectedElements[0])) { return; }\n  if (!elemsToRemove.length) { return; }\n\n  // find every element and remove it from our array copy\n  const newSelectedItems = [],\n    len = selectedElements.length;\n  for (let i = 0; i < len; ++i) {\n    const elem = selectedElements[i];\n    if (elem) {\n      // keep the item\n      if (!elemsToRemove.includes(elem)) {\n        newSelectedItems.push(elem);\n      } else { // remove the item and its selector\n        selectorManager.releaseSelector(elem);\n      }\n    }\n  }\n  // the copy becomes the master now\n  selectedElements = newSelectedItems;\n};\n\n/**\n* Clears the selection, then adds all elements in the current layer to the selection.\n* @function module:svgcanvas.SvgCanvas#selectAllInCurrentLayer\n* @returns {void}\n*/\nthis.selectAllInCurrentLayer = function () {\n  const currentLayer = getCurrentDrawing().getCurrentLayer();\n  if (currentLayer) {\n    currentMode = 'select';\n    selectOnly($(currentGroup || currentLayer).children());\n  }\n};\n\nlet drawnPath = null;\n\n// Mouse events\n(function () {\nconst freehand = {\n  minx: null,\n  miny: null,\n  maxx: null,\n  maxy: null\n};\nconst THRESHOLD_DIST = 0.8,\n  STEP_COUNT = 10;\nlet dAttr = null,\n  startX = null,\n  startY = null,\n  rStartX = null,\n  rStartY = null,\n  initBbox = {},\n  sumDistance = 0,\n  controllPoint2 = {x: 0, y: 0},\n  controllPoint1 = {x: 0, y: 0},\n  start = {x: 0, y: 0},\n  end = {x: 0, y: 0},\n  bSpline = {x: 0, y: 0},\n  nextPos = {x: 0, y: 0},\n  parameter,\n  nextParameter;\n\nconst getBsplinePoint = function (t) {\n  const spline = {x: 0, y: 0},\n    p0 = controllPoint2,\n    p1 = controllPoint1,\n    p2 = start,\n    p3 = end,\n    S = 1.0 / 6.0,\n    t2 = t * t,\n    t3 = t2 * t;\n\n  const m = [\n    [-1, 3, -3, 1],\n    [3, -6, 3, 0],\n    [-3, 0, 3, 0],\n    [1, 4, 1, 0]\n  ];\n\n  spline.x = S * (\n    (p0.x * m[0][0] + p1.x * m[0][1] + p2.x * m[0][2] + p3.x * m[0][3]) * t3 +\n      (p0.x * m[1][0] + p1.x * m[1][1] + p2.x * m[1][2] + p3.x * m[1][3]) * t2 +\n      (p0.x * m[2][0] + p1.x * m[2][1] + p2.x * m[2][2] + p3.x * m[2][3]) * t +\n      (p0.x * m[3][0] + p1.x * m[3][1] + p2.x * m[3][2] + p3.x * m[3][3])\n  );\n  spline.y = S * (\n    (p0.y * m[0][0] + p1.y * m[0][1] + p2.y * m[0][2] + p3.y * m[0][3]) * t3 +\n      (p0.y * m[1][0] + p1.y * m[1][1] + p2.y * m[1][2] + p3.y * m[1][3]) * t2 +\n      (p0.y * m[2][0] + p1.y * m[2][1] + p2.y * m[2][2] + p3.y * m[2][3]) * t +\n      (p0.y * m[3][0] + p1.y * m[3][1] + p2.y * m[3][2] + p3.y * m[3][3])\n  );\n\n  return {\n    x: spline.x,\n    y: spline.y\n  };\n};\n/**\n * Follows these conditions:\n * - When we are in a create mode, the element is added to the canvas but the\n *   action is not recorded until mousing up.\n * - When we are in select mode, select the element, remember the position\n *   and do nothing else.\n * @param {MouseEvent} evt\n * @fires module:svgcanvas.SvgCanvas#event:ext_mouseDown\n * @returns {void}\n */\nconst mouseDown = function (evt) {\n  if (canvas.spaceKey || evt.button === 1) { return; }\n\n  const rightClick = evt.button === 2;\n\n  if (evt.altKey) { // duplicate when dragging\n    canvas.cloneSelectedElements(0, 0);\n  }\n\n  rootSctm = $('#svgcontent g')[0].getScreenCTM().inverse();\n\n  const pt = transformPoint(evt.pageX, evt.pageY, rootSctm),\n    mouseX = pt.x * currentZoom,\n    mouseY = pt.y * currentZoom;\n\n  evt.preventDefault();\n\n  if (rightClick) {\n    currentMode = 'select';\n    lastClickPoint = pt;\n  }\n\n  // This would seem to be unnecessary...\n  // if (!['select', 'resize'].includes(currentMode)) {\n  //   setGradient();\n  // }\n\n  let x = mouseX / currentZoom,\n    y = mouseY / currentZoom;\n  let mouseTarget = getMouseTarget(evt);\n\n  if (mouseTarget.tagName === 'a' && mouseTarget.childNodes.length === 1) {\n    mouseTarget = mouseTarget.firstChild;\n  }\n\n  // realX/y ignores grid-snap value\n  const realX = x;\n  rStartX = startX = x;\n  const realY = y;\n  rStartY = startY = y;\n\n  if (curConfig.gridSnapping) {\n    x = snapToGrid(x);\n    y = snapToGrid(y);\n    startX = snapToGrid(startX);\n    startY = snapToGrid(startY);\n  }\n\n  // if it is a selector grip, then it must be a single element selected,\n  // set the mouseTarget to that and update the mode to rotate/resize\n\n  if (mouseTarget === selectorManager.selectorParentGroup && !isNullish(selectedElements[0])) {\n    const grip = evt.target;\n    const griptype = elData(grip, 'type');\n    // rotating\n    if (griptype === 'rotate') {\n      currentMode = 'rotate';\n    // resizing\n    } else if (griptype === 'resize') {\n      currentMode = 'resize';\n      currentResizeMode = elData(grip, 'dir');\n    }\n    mouseTarget = selectedElements[0];\n  }\n\n  startTransform = mouseTarget.getAttribute('transform');\n\n  const tlist = getTransformList(mouseTarget);\n  switch (currentMode) {\n  case 'select':\n    started = true;\n    currentResizeMode = 'none';\n    if (rightClick) { started = false; }\n\n    if (mouseTarget !== svgroot) {\n      // if this element is not yet selected, clear selection and select it\n      if (!selectedElements.includes(mouseTarget)) {\n        // only clear selection if shift is not pressed (otherwise, add\n        // element to selection)\n        if (!evt.shiftKey) {\n          // No need to do the call here as it will be done on addToSelection\n          clearSelection(true);\n        }\n        addToSelection([mouseTarget]);\n        justSelected = mouseTarget;\n        pathActions.clear();\n      }\n      // else if it's a path, go into pathedit mode in mouseup\n\n      if (!rightClick) {\n        // insert a dummy transform so if the element(s) are moved it will have\n        // a transform to use for its translate\n        for (const selectedElement of selectedElements) {\n          if (isNullish(selectedElement)) { continue; }\n          const slist = getTransformList(selectedElement);\n          if (slist.numberOfItems) {\n            slist.insertItemBefore(svgroot.createSVGTransform(), 0);\n          } else {\n            slist.appendItem(svgroot.createSVGTransform());\n          }\n        }\n      }\n    } else if (!rightClick) {\n      clearSelection();\n      currentMode = 'multiselect';\n      if (isNullish(rubberBox)) {\n        rubberBox = selectorManager.getRubberBandBox();\n      }\n      rStartX *= currentZoom;\n      rStartY *= currentZoom;\n      // console.log('p',[evt.pageX, evt.pageY]);\n      // console.log('c',[evt.clientX, evt.clientY]);\n      // console.log('o',[evt.offsetX, evt.offsetY]);\n      // console.log('s',[startX, startY]);\n\n      assignAttributes(rubberBox, {\n        x: rStartX,\n        y: rStartY,\n        width: 0,\n        height: 0,\n        display: 'inline'\n      }, 100);\n    }\n    break;\n  case 'zoom':\n    started = true;\n    if (isNullish(rubberBox)) {\n      rubberBox = selectorManager.getRubberBandBox();\n    }\n    assignAttributes(rubberBox, {\n      x: realX * currentZoom,\n      y: realX * currentZoom,\n      width: 0,\n      height: 0,\n      display: 'inline'\n    }, 100);\n    break;\n  case 'resize': {\n    started = true;\n    startX = x;\n    startY = y;\n\n    // Getting the BBox from the selection box, since we know we\n    // want to orient around it\n    initBbox = utilsGetBBox($('#selectedBox0')[0]);\n    const bb = {};\n    $.each(initBbox, function (key, val) {\n      bb[key] = val / currentZoom;\n    });\n    initBbox = bb;\n\n    // append three dummy transforms to the tlist so that\n    // we can translate,scale,translate in mousemove\n    const pos = getRotationAngle(mouseTarget) ? 1 : 0;\n\n    if (hasMatrixTransform(tlist)) {\n      tlist.insertItemBefore(svgroot.createSVGTransform(), pos);\n      tlist.insertItemBefore(svgroot.createSVGTransform(), pos);\n      tlist.insertItemBefore(svgroot.createSVGTransform(), pos);\n    } else {\n      tlist.appendItem(svgroot.createSVGTransform());\n      tlist.appendItem(svgroot.createSVGTransform());\n      tlist.appendItem(svgroot.createSVGTransform());\n\n      if (supportsNonScalingStroke()) {\n        // Handle crash for newer Chrome and Safari 6 (Mobile and Desktop):\n        // https://code.google.com/p/svg-edit/issues/detail?id=904\n        // Chromium issue: https://code.google.com/p/chromium/issues/detail?id=114625\n        // TODO: Remove this workaround once vendor fixes the issue\n        const iswebkit = isWebkit();\n\n        let delayedStroke;\n        if (iswebkit) {\n          delayedStroke = function (ele) {\n            const stroke_ = ele.getAttribute('stroke');\n            ele.removeAttribute('stroke');\n            // Re-apply stroke after delay. Anything higher than 1 seems to cause flicker\n            if (stroke_ !== null) setTimeout(function () { ele.setAttribute('stroke', stroke_); }, 0);\n          };\n        }\n        mouseTarget.style.vectorEffect = 'non-scaling-stroke';\n        if (iswebkit) { delayedStroke(mouseTarget); }\n\n        const all = mouseTarget.getElementsByTagName('*'),\n          len = all.length;\n        for (let i = 0; i < len; i++) {\n          if (!all[i].style) { // mathML\n            continue;\n          }\n          all[i].style.vectorEffect = 'non-scaling-stroke';\n          if (iswebkit) { delayedStroke(all[i]); }\n        }\n      }\n    }\n    break;\n  }\n  case 'fhellipse':\n  case 'fhrect':\n  case 'fhpath':\n    start.x = realX;\n    start.y = realY;\n    controllPoint1 = {x: 0, y: 0};\n    controllPoint2 = {x: 0, y: 0};\n    started = true;\n    dAttr = realX + ',' + realY + ' ';\n    // Commented out as doing nothing now:\n    // strokeW = parseFloat(curShape.stroke_width) === 0 ? 1 : curShape.stroke_width;\n    addSVGElementFromJson({\n      element: 'polyline',\n      curStyles: true,\n      attr: {\n        points: dAttr,\n        id: getNextId(),\n        fill: 'none',\n        opacity: curShape.opacity / 2,\n        'stroke-linecap': 'round',\n        style: 'pointer-events:none'\n      }\n    });\n    freehand.minx = realX;\n    freehand.maxx = realX;\n    freehand.miny = realY;\n    freehand.maxy = realY;\n    break;\n  case 'image': {\n    started = true;\n    const newImage = addSVGElementFromJson({\n      element: 'image',\n      attr: {\n        x,\n        y,\n        width: 0,\n        height: 0,\n        id: getNextId(),\n        opacity: curShape.opacity / 2,\n        style: 'pointer-events:inherit'\n      }\n    });\n    setHref(newImage, lastGoodImgUrl);\n    preventClickDefault(newImage);\n    break;\n  } case 'square':\n    // TODO: once we create the rect, we lose information that this was a square\n    // (for resizing purposes this could be important)\n    // Fallthrough\n  case 'rect':\n    started = true;\n    startX = x;\n    startY = y;\n    addSVGElementFromJson({\n      element: 'rect',\n      curStyles: true,\n      attr: {\n        x,\n        y,\n        width: 0,\n        height: 0,\n        id: getNextId(),\n        opacity: curShape.opacity / 2\n      }\n    });\n    break;\n  case 'line': {\n    started = true;\n    const strokeW = Number(curShape.stroke_width) === 0 ? 1 : curShape.stroke_width;\n    addSVGElementFromJson({\n      element: 'line',\n      curStyles: true,\n      attr: {\n        x1: x,\n        y1: y,\n        x2: x,\n        y2: y,\n        id: getNextId(),\n        stroke: curShape.stroke,\n        'stroke-width': strokeW,\n        'stroke-dasharray': curShape.stroke_dasharray,\n        'stroke-linejoin': curShape.stroke_linejoin,\n        'stroke-linecap': curShape.stroke_linecap,\n        'stroke-opacity': curShape.stroke_opacity,\n        fill: 'none',\n        opacity: curShape.opacity / 2,\n        style: 'pointer-events:none'\n      }\n    });\n    break;\n  } case 'circle':\n    started = true;\n    addSVGElementFromJson({\n      element: 'circle',\n      curStyles: true,\n      attr: {\n        cx: x,\n        cy: y,\n        r: 0,\n        id: getNextId(),\n        opacity: curShape.opacity / 2\n      }\n    });\n    break;\n  case 'ellipse':\n    started = true;\n    addSVGElementFromJson({\n      element: 'ellipse',\n      curStyles: true,\n      attr: {\n        cx: x,\n        cy: y,\n        rx: 0,\n        ry: 0,\n        id: getNextId(),\n        opacity: curShape.opacity / 2\n      }\n    });\n    break;\n  case 'text':\n    started = true;\n    /* const newText = */ addSVGElementFromJson({\n      element: 'text',\n      curStyles: true,\n      attr: {\n        x,\n        y,\n        id: getNextId(),\n        fill: curText.fill,\n        'stroke-width': curText.stroke_width,\n        'font-size': curText.font_size,\n        'font-family': curText.font_family,\n        'text-anchor': 'middle',\n        'xml:space': 'preserve',\n        opacity: curShape.opacity\n      }\n    });\n    // newText.textContent = 'text';\n    break;\n  case 'path':\n    // Fall through\n  case 'pathedit':\n    startX *= currentZoom;\n    startY *= currentZoom;\n    pathActions.mouseDown(evt, mouseTarget, startX, startY);\n    started = true;\n    break;\n  case 'textedit':\n    startX *= currentZoom;\n    startY *= currentZoom;\n    textActions.mouseDown(evt, mouseTarget, startX, startY);\n    started = true;\n    break;\n  case 'rotate':\n    started = true;\n    // we are starting an undoable change (a drag-rotation)\n    canvas.undoMgr.beginUndoableChange('transform', selectedElements);\n    break;\n  default:\n    // This could occur in an extension\n    break;\n  }\n\n  /**\n   * The main (left) mouse button is held down on the canvas area.\n   * @event module:svgcanvas.SvgCanvas#event:ext_mouseDown\n   * @type {PlainObject}\n   * @property {MouseEvent} event The event object\n   * @property {Float} start_x x coordinate on canvas\n   * @property {Float} start_y y coordinate on canvas\n   * @property {Element[]} selectedElements An array of the selected Elements\n  */\n  const extResult = runExtensions('mouseDown', /** @type {module:svgcanvas.SvgCanvas#event:ext_mouseDown} */ {\n    event: evt,\n    start_x: startX,\n    start_y: startY,\n    selectedElements\n  }, true);\n\n  $.each(extResult, function (i, r) {\n    if (r && r.started) {\n      started = true;\n    }\n  });\n};\n\n// in this function we do not record any state changes yet (but we do update\n// any elements that are still being created, moved or resized on the canvas)\n/**\n *\n * @param {MouseEvent} evt\n * @fires module:svgcanvas.SvgCanvas#event:transition\n * @fires module:svgcanvas.SvgCanvas#event:ext_mouseMove\n * @returns {void}\n */\nconst mouseMove = function (evt) {\n  if (!started) { return; }\n  if (evt.button === 1 || canvas.spaceKey) { return; }\n\n  let i, xya, c, cx, cy, dx, dy, len, angle, box,\n    selected = selectedElements[0];\n  const\n    pt = transformPoint(evt.pageX, evt.pageY, rootSctm),\n    mouseX = pt.x * currentZoom,\n    mouseY = pt.y * currentZoom,\n    shape = getElem(getId());\n\n  let realX = mouseX / currentZoom;\n  let x = realX;\n  let realY = mouseY / currentZoom;\n  let y = realY;\n\n  if (curConfig.gridSnapping) {\n    x = snapToGrid(x);\n    y = snapToGrid(y);\n  }\n\n  evt.preventDefault();\n  let tlist;\n  switch (currentMode) {\n  case 'select': {\n    // we temporarily use a translate on the element(s) being dragged\n    // this transform is removed upon mousing up and the element is\n    // relocated to the new location\n    if (selectedElements[0] !== null) {\n      dx = x - startX;\n      dy = y - startY;\n\n      if (curConfig.gridSnapping) {\n        dx = snapToGrid(dx);\n        dy = snapToGrid(dy);\n      }\n\n      /*\n      // Commenting out as currently has no effect\n      if (evt.shiftKey) {\n        xya = snapToAngle(startX, startY, x, y);\n        ({x, y} = xya);\n      }\n      */\n\n      if (dx !== 0 || dy !== 0) {\n        len = selectedElements.length;\n        for (i = 0; i < len; ++i) {\n          selected = selectedElements[i];\n          if (isNullish(selected)) { break; }\n          // if (i === 0) {\n          //   const box = utilsGetBBox(selected);\n          //     selectedBBoxes[i].x = box.x + dx;\n          //     selectedBBoxes[i].y = box.y + dy;\n          // }\n\n          // update the dummy transform in our transform list\n          // to be a translate\n          const xform = svgroot.createSVGTransform();\n          tlist = getTransformList(selected);\n          // Note that if Webkit and there's no ID for this\n          // element, the dummy transform may have gotten lost.\n          // This results in unexpected behaviour\n\n          xform.setTranslate(dx, dy);\n          if (tlist.numberOfItems) {\n            tlist.replaceItem(xform, 0);\n          } else {\n            tlist.appendItem(xform);\n          }\n\n          // update our internal bbox that we're tracking while dragging\n          selectorManager.requestSelector(selected).resize();\n        }\n\n        call('transition', selectedElements);\n      }\n    }\n    break;\n  } case 'multiselect': {\n    realX *= currentZoom;\n    realY *= currentZoom;\n    assignAttributes(rubberBox, {\n      x: Math.min(rStartX, realX),\n      y: Math.min(rStartY, realY),\n      width: Math.abs(realX - rStartX),\n      height: Math.abs(realY - rStartY)\n    }, 100);\n\n    // for each selected:\n    // - if newList contains selected, do nothing\n    // - if newList doesn't contain selected, remove it from selected\n    // - for any newList that was not in selectedElements, add it to selected\n    const elemsToRemove = selectedElements.slice(), elemsToAdd = [],\n      newList = getIntersectionList();\n\n    // For every element in the intersection, add if not present in selectedElements.\n    len = newList.length;\n    for (i = 0; i < len; ++i) {\n      const intElem = newList[i];\n      // Found an element that was not selected before, so we should add it.\n      if (!selectedElements.includes(intElem)) {\n        elemsToAdd.push(intElem);\n      }\n      // Found an element that was already selected, so we shouldn't remove it.\n      const foundInd = elemsToRemove.indexOf(intElem);\n      if (foundInd !== -1) {\n        elemsToRemove.splice(foundInd, 1);\n      }\n    }\n\n    if (elemsToRemove.length > 0) {\n      canvas.removeFromSelection(elemsToRemove);\n    }\n\n    if (elemsToAdd.length > 0) {\n      canvas.addToSelection(elemsToAdd);\n    }\n\n    break;\n  } case 'resize': {\n    // we track the resize bounding box and translate/scale the selected element\n    // while the mouse is down, when mouse goes up, we use this to recalculate\n    // the shape's coordinates\n    tlist = getTransformList(selected);\n    const hasMatrix = hasMatrixTransform(tlist);\n    box = hasMatrix ? initBbox : utilsGetBBox(selected);\n    let left = box.x,\n      top = box.y,\n      {width, height} = box;\n    dx = (x - startX);\n    dy = (y - startY);\n\n    if (curConfig.gridSnapping) {\n      dx = snapToGrid(dx);\n      dy = snapToGrid(dy);\n      height = snapToGrid(height);\n      width = snapToGrid(width);\n    }\n\n    // if rotated, adjust the dx,dy values\n    angle = getRotationAngle(selected);\n    if (angle) {\n      const r = Math.sqrt(dx * dx + dy * dy),\n        theta = Math.atan2(dy, dx) - angle * Math.PI / 180.0;\n      dx = r * Math.cos(theta);\n      dy = r * Math.sin(theta);\n    }\n\n    // if not stretching in y direction, set dy to 0\n    // if not stretching in x direction, set dx to 0\n    if (!currentResizeMode.includes('n') && !currentResizeMode.includes('s')) {\n      dy = 0;\n    }\n    if (!currentResizeMode.includes('e') && !currentResizeMode.includes('w')) {\n      dx = 0;\n    }\n\n    let // ts = null,\n      tx = 0, ty = 0,\n      sy = height ? (height + dy) / height : 1,\n      sx = width ? (width + dx) / width : 1;\n    // if we are dragging on the north side, then adjust the scale factor and ty\n    if (currentResizeMode.includes('n')) {\n      sy = height ? (height - dy) / height : 1;\n      ty = height;\n    }\n\n    // if we dragging on the east side, then adjust the scale factor and tx\n    if (currentResizeMode.includes('w')) {\n      sx = width ? (width - dx) / width : 1;\n      tx = width;\n    }\n\n    // update the transform list with translate,scale,translate\n    const translateOrigin = svgroot.createSVGTransform(),\n      scale = svgroot.createSVGTransform(),\n      translateBack = svgroot.createSVGTransform();\n\n    if (curConfig.gridSnapping) {\n      left = snapToGrid(left);\n      tx = snapToGrid(tx);\n      top = snapToGrid(top);\n      ty = snapToGrid(ty);\n    }\n\n    translateOrigin.setTranslate(-(left + tx), -(top + ty));\n    if (evt.shiftKey) {\n      if (sx === 1) {\n        sx = sy;\n      } else { sy = sx; }\n    }\n    scale.setScale(sx, sy);\n\n    translateBack.setTranslate(left + tx, top + ty);\n    if (hasMatrix) {\n      const diff = angle ? 1 : 0;\n      tlist.replaceItem(translateOrigin, 2 + diff);\n      tlist.replaceItem(scale, 1 + diff);\n      tlist.replaceItem(translateBack, Number(diff));\n    } else {\n      const N = tlist.numberOfItems;\n      tlist.replaceItem(translateBack, N - 3);\n      tlist.replaceItem(scale, N - 2);\n      tlist.replaceItem(translateOrigin, N - 1);\n    }\n\n    selectorManager.requestSelector(selected).resize();\n\n    call('transition', selectedElements);\n\n    break;\n  } case 'zoom': {\n    realX *= currentZoom;\n    realY *= currentZoom;\n    assignAttributes(rubberBox, {\n      x: Math.min(rStartX * currentZoom, realX),\n      y: Math.min(rStartY * currentZoom, realY),\n      width: Math.abs(realX - rStartX * currentZoom),\n      height: Math.abs(realY - rStartY * currentZoom)\n    }, 100);\n    break;\n  } case 'text': {\n    assignAttributes(shape, {\n      x,\n      y\n    }, 1000);\n    break;\n  } case 'line': {\n    if (curConfig.gridSnapping) {\n      x = snapToGrid(x);\n      y = snapToGrid(y);\n    }\n\n    let x2 = x;\n    let y2 = y;\n\n    if (evt.shiftKey) {\n      xya = snapToAngle(startX, startY, x2, y2);\n      x2 = xya.x;\n      y2 = xya.y;\n    }\n\n    shape.setAttribute('x2', x2);\n    shape.setAttribute('y2', y2);\n    break;\n  } case 'foreignObject':\n    // fall through\n  case 'square':\n    // fall through\n  case 'rect':\n    // fall through\n  case 'image': {\n    const square = (currentMode === 'square') || evt.shiftKey;\n    let\n      w = Math.abs(x - startX),\n      h = Math.abs(y - startY);\n    let newX, newY;\n    if (square) {\n      w = h = Math.max(w, h);\n      newX = startX < x ? startX : startX - w;\n      newY = startY < y ? startY : startY - h;\n    } else {\n      newX = Math.min(startX, x);\n      newY = Math.min(startY, y);\n    }\n\n    if (curConfig.gridSnapping) {\n      w = snapToGrid(w);\n      h = snapToGrid(h);\n      newX = snapToGrid(newX);\n      newY = snapToGrid(newY);\n    }\n\n    assignAttributes(shape, {\n      width: w,\n      height: h,\n      x: newX,\n      y: newY\n    }, 1000);\n\n    break;\n  } case 'circle': {\n    c = $(shape).attr(['cx', 'cy']);\n    ({cx, cy} = c);\n    let rad = Math.sqrt((x - cx) * (x - cx) + (y - cy) * (y - cy));\n    if (curConfig.gridSnapping) {\n      rad = snapToGrid(rad);\n    }\n    shape.setAttribute('r', rad);\n    break;\n  } case 'ellipse': {\n    c = $(shape).attr(['cx', 'cy']);\n    ({cx, cy} = c);\n    if (curConfig.gridSnapping) {\n      x = snapToGrid(x);\n      cx = snapToGrid(cx);\n      y = snapToGrid(y);\n      cy = snapToGrid(cy);\n    }\n    shape.setAttribute('rx', Math.abs(x - cx));\n    const ry = Math.abs(evt.shiftKey ? (x - cx) : (y - cy));\n    shape.setAttribute('ry', ry);\n    break;\n  }\n  case 'fhellipse':\n  case 'fhrect': {\n    freehand.minx = Math.min(realX, freehand.minx);\n    freehand.maxx = Math.max(realX, freehand.maxx);\n    freehand.miny = Math.min(realY, freehand.miny);\n    freehand.maxy = Math.max(realY, freehand.maxy);\n  }\n  // Fallthrough\n  case 'fhpath': {\n    // dAttr += + realX + ',' + realY + ' ';\n    // shape.setAttribute('points', dAttr);\n    end.x = realX; end.y = realY;\n    if (controllPoint2.x && controllPoint2.y) {\n      for (i = 0; i < STEP_COUNT - 1; i++) {\n        parameter = i / STEP_COUNT;\n        nextParameter = (i + 1) / STEP_COUNT;\n        bSpline = getBsplinePoint(nextParameter);\n        nextPos = bSpline;\n        bSpline = getBsplinePoint(parameter);\n        sumDistance += Math.sqrt((nextPos.x - bSpline.x) *\n          (nextPos.x - bSpline.x) + (nextPos.y - bSpline.y) *\n          (nextPos.y - bSpline.y));\n        if (sumDistance > THRESHOLD_DIST) {\n          sumDistance -= THRESHOLD_DIST;\n\n          // Faster than completely re-writing the points attribute.\n          const point = svgcontent.createSVGPoint();\n          point.x = bSpline.x;\n          point.y = bSpline.y;\n          shape.points.appendItem(point);\n        }\n      }\n    }\n    controllPoint2 = {x: controllPoint1.x, y: controllPoint1.y};\n    controllPoint1 = {x: start.x, y: start.y};\n    start = {x: end.x, y: end.y};\n    break;\n  // update path stretch line coordinates\n} case 'path':\n  // fall through\n  case 'pathedit': {\n    x *= currentZoom;\n    y *= currentZoom;\n\n    if (curConfig.gridSnapping) {\n      x = snapToGrid(x);\n      y = snapToGrid(y);\n      startX = snapToGrid(startX);\n      startY = snapToGrid(startY);\n    }\n    if (evt.shiftKey) {\n      const {path} = pathModule;\n      let x1, y1;\n      if (path) {\n        x1 = path.dragging ? path.dragging[0] : startX;\n        y1 = path.dragging ? path.dragging[1] : startY;\n      } else {\n        x1 = startX;\n        y1 = startY;\n      }\n      xya = snapToAngle(x1, y1, x, y);\n      ({x, y} = xya);\n    }\n\n    if (rubberBox && rubberBox.getAttribute('display') !== 'none') {\n      realX *= currentZoom;\n      realY *= currentZoom;\n      assignAttributes(rubberBox, {\n        x: Math.min(rStartX * currentZoom, realX),\n        y: Math.min(rStartY * currentZoom, realY),\n        width: Math.abs(realX - rStartX * currentZoom),\n        height: Math.abs(realY - rStartY * currentZoom)\n      }, 100);\n    }\n    pathActions.mouseMove(x, y);\n\n    break;\n  } case 'textedit': {\n    x *= currentZoom;\n    y *= currentZoom;\n    // if (rubberBox && rubberBox.getAttribute('display') !== 'none') {\n    //   assignAttributes(rubberBox, {\n    //     x: Math.min(startX, x),\n    //     y: Math.min(startY, y),\n    //     width: Math.abs(x - startX),\n    //     height: Math.abs(y - startY)\n    //   }, 100);\n    // }\n\n    textActions.mouseMove(mouseX, mouseY);\n\n    break;\n  } case 'rotate': {\n    box = utilsGetBBox(selected);\n    cx = box.x + box.width / 2;\n    cy = box.y + box.height / 2;\n    const m = getMatrix(selected),\n      center = transformPoint(cx, cy, m);\n    cx = center.x;\n    cy = center.y;\n    angle = ((Math.atan2(cy - y, cx - x) * (180 / Math.PI)) - 90) % 360;\n    if (curConfig.gridSnapping) {\n      angle = snapToGrid(angle);\n    }\n    if (evt.shiftKey) { // restrict rotations to nice angles (WRS)\n      const snap = 45;\n      angle = Math.round(angle / snap) * snap;\n    }\n\n    canvas.setRotationAngle(angle < -180 ? (360 + angle) : angle, true);\n    call('transition', selectedElements);\n    break;\n  } default:\n    break;\n  }\n\n  /**\n  * The mouse has moved on the canvas area.\n  * @event module:svgcanvas.SvgCanvas#event:ext_mouseMove\n  * @type {PlainObject}\n  * @property {MouseEvent} event The event object\n  * @property {Float} mouse_x x coordinate on canvas\n  * @property {Float} mouse_y y coordinate on canvas\n  * @property {Element} selected Refers to the first selected element\n  */\n  runExtensions('mouseMove', /** @type {module:svgcanvas.SvgCanvas#event:ext_mouseMove} */ {\n    event: evt,\n    mouse_x: mouseX,\n    mouse_y: mouseY,\n    selected\n  });\n}; // mouseMove()\n\n// - in create mode, the element's opacity is set properly, we create an InsertElementCommand\n// and store it on the Undo stack\n// - in move/resize mode, the element's attributes which were affected by the move/resize are\n// identified, a ChangeElementCommand is created and stored on the stack for those attrs\n// this is done in when we recalculate the selected dimensions()\n/**\n *\n * @param {MouseEvent} evt\n * @fires module:svgcanvas.SvgCanvas#event:zoomed\n * @fires module:svgcanvas.SvgCanvas#event:changed\n * @fires module:svgcanvas.SvgCanvas#event:ext_mouseUp\n * @returns {void}\n */\nconst mouseUp = function (evt) {\n  if (evt.button === 2) { return; }\n  const tempJustSelected = justSelected;\n  justSelected = null;\n  if (!started) { return; }\n  const pt = transformPoint(evt.pageX, evt.pageY, rootSctm),\n    mouseX = pt.x * currentZoom,\n    mouseY = pt.y * currentZoom,\n    x = mouseX / currentZoom,\n    y = mouseY / currentZoom;\n\n  let element = getElem(getId());\n  let keep = false;\n\n  const realX = x;\n  const realY = y;\n\n  // TODO: Make true when in multi-unit mode\n  const useUnit = false; // (curConfig.baseUnit !== 'px');\n  started = false;\n  let attrs, t;\n  switch (currentMode) {\n  // intentionally fall-through to select here\n  case 'resize':\n  case 'multiselect':\n    if (!isNullish(rubberBox)) {\n      rubberBox.setAttribute('display', 'none');\n      curBBoxes = [];\n    }\n    currentMode = 'select';\n    // Fallthrough\n  case 'select':\n    if (!isNullish(selectedElements[0])) {\n      // if we only have one selected element\n      if (isNullish(selectedElements[1])) {\n        // set our current stroke/fill properties to the element's\n        const selected = selectedElements[0];\n        switch (selected.tagName) {\n        case 'g':\n        case 'use':\n        case 'image':\n        case 'foreignObject':\n          break;\n        default:\n          curProperties.fill = selected.getAttribute('fill');\n          curProperties.fill_opacity = selected.getAttribute('fill-opacity');\n          curProperties.stroke = selected.getAttribute('stroke');\n          curProperties.stroke_opacity = selected.getAttribute('stroke-opacity');\n          curProperties.stroke_width = selected.getAttribute('stroke-width');\n          curProperties.stroke_dasharray = selected.getAttribute('stroke-dasharray');\n          curProperties.stroke_linejoin = selected.getAttribute('stroke-linejoin');\n          curProperties.stroke_linecap = selected.getAttribute('stroke-linecap');\n        }\n\n        if (selected.tagName === 'text') {\n          curText.font_size = selected.getAttribute('font-size');\n          curText.font_family = selected.getAttribute('font-family');\n        }\n        selectorManager.requestSelector(selected).showGrips(true);\n\n        // This shouldn't be necessary as it was done on mouseDown...\n        // call('selected', [selected]);\n      }\n      // always recalculate dimensions to strip off stray identity transforms\n      recalculateAllSelectedDimensions();\n      // if it was being dragged/resized\n      if (realX !== rStartX || realY !== rStartY) {\n        const len = selectedElements.length;\n        for (let i = 0; i < len; ++i) {\n          if (isNullish(selectedElements[i])) { break; }\n          if (!selectedElements[i].firstChild) {\n            // Not needed for groups (incorrectly resizes elems), possibly not needed at all?\n            selectorManager.requestSelector(selectedElements[i]).resize();\n          }\n        }\n      // no change in position/size, so maybe we should move to pathedit\n      } else {\n        t = evt.target;\n        if (selectedElements[0].nodeName === 'path' && isNullish(selectedElements[1])) {\n          pathActions.select(selectedElements[0]);\n        // if it was a path\n        // else, if it was selected and this is a shift-click, remove it from selection\n        } else if (evt.shiftKey) {\n          if (tempJustSelected !== t) {\n            canvas.removeFromSelection([t]);\n          }\n        }\n      } // no change in mouse position\n\n      // Remove non-scaling stroke\n      if (supportsNonScalingStroke()) {\n        const elem = selectedElements[0];\n        if (elem) {\n          elem.removeAttribute('style');\n          walkTree(elem, function (el) {\n            el.removeAttribute('style');\n          });\n        }\n      }\n    }\n    return;\n  case 'zoom': {\n    if (!isNullish(rubberBox)) {\n      rubberBox.setAttribute('display', 'none');\n    }\n    const factor = evt.shiftKey ? 0.5 : 2;\n    call('zoomed', {\n      x: Math.min(rStartX, realX),\n      y: Math.min(rStartY, realY),\n      width: Math.abs(realX - rStartX),\n      height: Math.abs(realY - rStartY),\n      factor\n    });\n    return;\n  } case 'fhpath': {\n    // Check that the path contains at least 2 points; a degenerate one-point path\n    // causes problems.\n    // Webkit ignores how we set the points attribute with commas and uses space\n    // to separate all coordinates, see https://bugs.webkit.org/show_bug.cgi?id=29870\n    sumDistance = 0;\n    controllPoint2 = {x: 0, y: 0};\n    controllPoint1 = {x: 0, y: 0};\n    start = {x: 0, y: 0};\n    end = {x: 0, y: 0};\n    const coords = element.getAttribute('points');\n    const commaIndex = coords.indexOf(',');\n    if (commaIndex >= 0) {\n      keep = coords.includes(',', commaIndex + 1);\n    } else {\n      keep = coords.includes(' ', coords.indexOf(' ') + 1);\n    }\n    if (keep) {\n      element = pathActions.smoothPolylineIntoPath(element);\n    }\n    break;\n  } case 'line':\n    attrs = $(element).attr(['x1', 'x2', 'y1', 'y2']);\n    keep = (attrs.x1 !== attrs.x2 || attrs.y1 !== attrs.y2);\n    break;\n  case 'foreignObject':\n  case 'square':\n  case 'rect':\n  case 'image':\n    attrs = $(element).attr(['width', 'height']);\n    // Image should be kept regardless of size (use inherit dimensions later)\n    keep = (attrs.width || attrs.height) || currentMode === 'image';\n    break;\n  case 'circle':\n    keep = (element.getAttribute('r') !== '0');\n    break;\n  case 'ellipse':\n    attrs = $(element).attr(['rx', 'ry']);\n    keep = (attrs.rx || attrs.ry);\n    break;\n  case 'fhellipse':\n    if ((freehand.maxx - freehand.minx) > 0 &&\n      (freehand.maxy - freehand.miny) > 0) {\n      element = addSVGElementFromJson({\n        element: 'ellipse',\n        curStyles: true,\n        attr: {\n          cx: (freehand.minx + freehand.maxx) / 2,\n          cy: (freehand.miny + freehand.maxy) / 2,\n          rx: (freehand.maxx - freehand.minx) / 2,\n          ry: (freehand.maxy - freehand.miny) / 2,\n          id: getId()\n        }\n      });\n      call('changed', [element]);\n      keep = true;\n    }\n    break;\n  case 'fhrect':\n    if ((freehand.maxx - freehand.minx) > 0 &&\n      (freehand.maxy - freehand.miny) > 0) {\n      element = addSVGElementFromJson({\n        element: 'rect',\n        curStyles: true,\n        attr: {\n          x: freehand.minx,\n          y: freehand.miny,\n          width: (freehand.maxx - freehand.minx),\n          height: (freehand.maxy - freehand.miny),\n          id: getId()\n        }\n      });\n      call('changed', [element]);\n      keep = true;\n    }\n    break;\n  case 'text':\n    keep = true;\n    selectOnly([element]);\n    textActions.start(element);\n    break;\n  case 'path': {\n    // set element to null here so that it is not removed nor finalized\n    element = null;\n    // continue to be set to true so that mouseMove happens\n    started = true;\n\n    const res = pathActions.mouseUp(evt, element, mouseX, mouseY);\n    ({element} = res);\n    ({keep} = res);\n    break;\n  } case 'pathedit':\n    keep = true;\n    element = null;\n    pathActions.mouseUp(evt);\n    break;\n  case 'textedit':\n    keep = false;\n    element = null;\n    textActions.mouseUp(evt, mouseX, mouseY);\n    break;\n  case 'rotate': {\n    keep = true;\n    element = null;\n    currentMode = 'select';\n    const batchCmd = canvas.undoMgr.finishUndoableChange();\n    if (!batchCmd.isEmpty()) {\n      addCommandToHistory(batchCmd);\n    }\n    // perform recalculation to weed out any stray identity transforms that might get stuck\n    recalculateAllSelectedDimensions();\n    call('changed', selectedElements);\n    break;\n  } default:\n    // This could occur in an extension\n    break;\n  }\n\n  /**\n  * The main (left) mouse button is released (anywhere).\n  * @event module:svgcanvas.SvgCanvas#event:ext_mouseUp\n  * @type {PlainObject}\n  * @property {MouseEvent} event The event object\n  * @property {Float} mouse_x x coordinate on canvas\n  * @property {Float} mouse_y y coordinate on canvas\n  */\n  const extResult = runExtensions('mouseUp', /** @type {module:svgcanvas.SvgCanvas#event:ext_mouseUp} */ {\n    event: evt,\n    mouse_x: mouseX,\n    mouse_y: mouseY\n  }, true);\n\n  $.each(extResult, function (i, r) {\n    if (r) {\n      keep = r.keep || keep;\n      ({element} = r);\n      started = r.started || started;\n    }\n  });\n\n  if (!keep && !isNullish(element)) {\n    getCurrentDrawing().releaseId(getId());\n    element.remove();\n    element = null;\n\n    t = evt.target;\n\n    // if this element is in a group, go up until we reach the top-level group\n    // just below the layer groups\n    // TODO: once we implement links, we also would have to check for <a> elements\n    while (t && t.parentNode && t.parentNode.parentNode && t.parentNode.parentNode.tagName === 'g') {\n      t = t.parentNode;\n    }\n    // if we are not in the middle of creating a path, and we've clicked on some shape,\n    // then go to Select mode.\n    // WebKit returns <div> when the canvas is clicked, Firefox/Opera return <svg>\n    if ((currentMode !== 'path' || !drawnPath) &&\n      t && t.parentNode &&\n      t.parentNode.id !== 'selectorParentGroup' &&\n      t.id !== 'svgcanvas' && t.id !== 'svgroot'\n    ) {\n      // switch into \"select\" mode if we've clicked on an element\n      canvas.setMode('select');\n      selectOnly([t], true);\n    }\n  } else if (!isNullish(element)) {\n    /**\n    * @name module:svgcanvas.SvgCanvas#addedNew\n    * @type {boolean}\n    */\n    canvas.addedNew = true;\n\n    if (useUnit) { convertAttrs(element); }\n\n    let aniDur = 0.2;\n    let cAni;\n    if (opacAni.beginElement && Number.parseFloat(element.getAttribute('opacity')) !== curShape.opacity) {\n      cAni = $(opacAni).clone().attr({\n        to: curShape.opacity,\n        dur: aniDur\n      }).appendTo(element);\n      try {\n        // Fails in FF4 on foreignObject\n        cAni[0].beginElement();\n      } catch (e) {}\n    } else {\n      aniDur = 0;\n    }\n\n    // Ideally this would be done on the endEvent of the animation,\n    // but that doesn't seem to be supported in Webkit\n    setTimeout(function () {\n      if (cAni) { cAni.remove(); }\n      element.setAttribute('opacity', curShape.opacity);\n      element.setAttribute('style', 'pointer-events:inherit');\n      cleanupElement(element);\n      if (currentMode === 'path') {\n        pathActions.toEditMode(element);\n      } else if (curConfig.selectNew) {\n        selectOnly([element], true);\n      }\n      // we create the insert command that is stored on the stack\n      // undo means to call cmd.unapply(), redo means to call cmd.apply()\n      addCommandToHistory(new InsertElementCommand(element));\n\n      call('changed', [element]);\n    }, aniDur * 1000);\n  }\n\n  startTransform = null;\n};\n\nconst dblClick = function (evt) {\n  const evtTarget = evt.target;\n  const parent = evtTarget.parentNode;\n\n  let mouseTarget = getMouseTarget(evt);\n  const {tagName} = mouseTarget;\n\n  if (tagName === 'text' && currentMode !== 'textedit') {\n    const pt = transformPoint(evt.pageX, evt.pageY, rootSctm);\n    textActions.select(mouseTarget, pt.x, pt.y);\n  }\n\n  // Do nothing if already in current group\n  if (parent === currentGroup) { return; }\n\n  if ((tagName === 'g' || tagName === 'a') &&\n    getRotationAngle(mouseTarget)\n  ) {\n    // TODO: Allow method of in-group editing without having to do\n    // this (similar to editing rotated paths)\n\n    // Ungroup and regroup\n    pushGroupProperties(mouseTarget);\n    mouseTarget = selectedElements[0];\n    clearSelection(true);\n  }\n  // Reset context\n  if (currentGroup) {\n    draw.leaveContext();\n  }\n\n  if ((parent.tagName !== 'g' && parent.tagName !== 'a') ||\n    parent === getCurrentDrawing().getCurrentLayer() ||\n    mouseTarget === selectorManager.selectorParentGroup\n  ) {\n    // Escape from in-group edit\n    return;\n  }\n  draw.setContext(mouseTarget);\n};\n\n// prevent links from being followed in the canvas\nconst handleLinkInCanvas = function (e) {\n  e.preventDefault();\n  return false;\n};\n\n// Added mouseup to the container here.\n// TODO(codedread): Figure out why after the Closure compiler, the window mouseup is ignored.\n$(container).mousedown(mouseDown).mousemove(mouseMove).click(handleLinkInCanvas).dblclick(dblClick).mouseup(mouseUp);\n// $(window).mouseup(mouseUp);\n\n// TODO(rafaelcastrocouto): User preference for shift key and zoom factor\n$(container).bind(\n  'mousewheel DOMMouseScroll',\n  /**\n   * @param {Event} e\n   * @fires module:svgcanvas.SvgCanvas#event:updateCanvas\n   * @fires module:svgcanvas.SvgCanvas#event:zoomDone\n   * @returns {void}\n   */\n  function (e) {\n    if (!e.shiftKey) { return; }\n\n    e.preventDefault();\n    const evt = e.originalEvent;\n\n    rootSctm = $('#svgcontent g')[0].getScreenCTM().inverse();\n\n    const workarea = $('#workarea');\n    const scrbar = 15;\n    const rulerwidth = curConfig.showRulers ? 16 : 0;\n\n    // mouse relative to content area in content pixels\n    const pt = transformPoint(evt.pageX, evt.pageY, rootSctm);\n\n    // full work area width in screen pixels\n    const editorFullW = workarea.width();\n    const editorFullH = workarea.height();\n\n    // work area width minus scroll and ruler in screen pixels\n    const editorW = editorFullW - scrbar - rulerwidth;\n    const editorH = editorFullH - scrbar - rulerwidth;\n\n    // work area width in content pixels\n    const workareaViewW = editorW * rootSctm.a;\n    const workareaViewH = editorH * rootSctm.d;\n\n    // content offset from canvas in screen pixels\n    const wOffset = workarea.offset();\n    const wOffsetLeft = wOffset.left + rulerwidth;\n    const wOffsetTop = wOffset.top + rulerwidth;\n\n    const delta = (evt.wheelDelta) ? evt.wheelDelta : (evt.detail) ? -evt.detail : 0;\n    if (!delta) { return; }\n\n    let factor = Math.max(3 / 4, Math.min(4 / 3, (delta)));\n\n    let wZoom, hZoom;\n    if (factor > 1) {\n      wZoom = Math.ceil(editorW / workareaViewW * factor * 100) / 100;\n      hZoom = Math.ceil(editorH / workareaViewH * factor * 100) / 100;\n    } else {\n      wZoom = Math.floor(editorW / workareaViewW * factor * 100) / 100;\n      hZoom = Math.floor(editorH / workareaViewH * factor * 100) / 100;\n    }\n    let zoomlevel = Math.min(wZoom, hZoom);\n    zoomlevel = Math.min(10, Math.max(0.01, zoomlevel));\n    if (zoomlevel === currentZoom) {\n      return;\n    }\n    factor = zoomlevel / currentZoom;\n\n    // top left of workarea in content pixels before zoom\n    const topLeftOld = transformPoint(wOffsetLeft, wOffsetTop, rootSctm);\n\n    // top left of workarea in content pixels after zoom\n    const topLeftNew = {\n      x: pt.x - (pt.x - topLeftOld.x) / factor,\n      y: pt.y - (pt.y - topLeftOld.y) / factor\n    };\n\n    // top left of workarea in canvas pixels relative to content after zoom\n    const topLeftNewCanvas = {\n      x: topLeftNew.x * zoomlevel,\n      y: topLeftNew.y * zoomlevel\n    };\n\n    // new center in canvas pixels\n    const newCtr = {\n      x: topLeftNewCanvas.x - rulerwidth + editorFullW / 2,\n      y: topLeftNewCanvas.y - rulerwidth + editorFullH / 2\n    };\n\n    canvas.setZoom(zoomlevel);\n    $('#zoom').val((zoomlevel * 100).toFixed(1));\n\n    call('updateCanvas', {center: false, newCtr});\n    call('zoomDone');\n  }\n);\n}());\n\n/* eslint-disable jsdoc/require-property */\n/**\n* Group: Text edit functions\n* Functions relating to editing text elements.\n* @namespace {PlainObject} textActions\n* @memberof module:svgcanvas.SvgCanvas#\n*/\nconst textActions = canvas.textActions = (function () {\n/* eslint-enable jsdoc/require-property */\nlet curtext;\nlet textinput;\nlet cursor;\nlet selblock;\nlet blinker;\nlet chardata = [];\nlet textbb; // , transbb;\nlet matrix;\nlet lastX, lastY;\nlet allowDbl;\n\n/**\n *\n * @param {Integer} index\n * @returns {void}\n */\nfunction setCursor (index) {\n  const empty = (textinput.value === '');\n  $(textinput).focus();\n\n  if (!arguments.length) {\n    if (empty) {\n      index = 0;\n    } else {\n      if (textinput.selectionEnd !== textinput.selectionStart) { return; }\n      index = textinput.selectionEnd;\n    }\n  }\n\n  const charbb = chardata[index];\n  if (!empty) {\n    textinput.setSelectionRange(index, index);\n  }\n  cursor = getElem('text_cursor');\n  if (!cursor) {\n    cursor = document.createElementNS(NS.SVG, 'line');\n    assignAttributes(cursor, {\n      id: 'text_cursor',\n      stroke: '#333',\n      'stroke-width': 1\n    });\n    cursor = getElem('selectorParentGroup').appendChild(cursor);\n  }\n\n  if (!blinker) {\n    blinker = setInterval(function () {\n      const show = (cursor.getAttribute('display') === 'none');\n      cursor.setAttribute('display', show ? 'inline' : 'none');\n    }, 600);\n  }\n\n  const startPt = ptToScreen(charbb.x, textbb.y);\n  const endPt = ptToScreen(charbb.x, (textbb.y + textbb.height));\n\n  assignAttributes(cursor, {\n    x1: startPt.x,\n    y1: startPt.y,\n    x2: endPt.x,\n    y2: endPt.y,\n    visibility: 'visible',\n    display: 'inline'\n  });\n\n  if (selblock) { selblock.setAttribute('d', ''); }\n}\n\n/**\n *\n * @param {Integer} start\n * @param {Integer} end\n * @param {boolean} skipInput\n * @returns {void}\n */\nfunction setSelection (start, end, skipInput) {\n  if (start === end) {\n    setCursor(end);\n    return;\n  }\n\n  if (!skipInput) {\n    textinput.setSelectionRange(start, end);\n  }\n\n  selblock = getElem('text_selectblock');\n  if (!selblock) {\n    selblock = document.createElementNS(NS.SVG, 'path');\n    assignAttributes(selblock, {\n      id: 'text_selectblock',\n      fill: 'green',\n      opacity: 0.5,\n      style: 'pointer-events:none'\n    });\n    getElem('selectorParentGroup').append(selblock);\n  }\n\n  const startbb = chardata[start];\n  const endbb = chardata[end];\n\n  cursor.setAttribute('visibility', 'hidden');\n\n  const tl = ptToScreen(startbb.x, textbb.y),\n    tr = ptToScreen(startbb.x + (endbb.x - startbb.x), textbb.y),\n    bl = ptToScreen(startbb.x, textbb.y + textbb.height),\n    br = ptToScreen(startbb.x + (endbb.x - startbb.x), textbb.y + textbb.height);\n\n  const dstr = 'M' + tl.x + ',' + tl.y +\n    ' L' + tr.x + ',' + tr.y +\n    ' ' + br.x + ',' + br.y +\n    ' ' + bl.x + ',' + bl.y + 'z';\n\n  assignAttributes(selblock, {\n    d: dstr,\n    display: 'inline'\n  });\n}\n\n/**\n *\n * @param {Float} mouseX\n * @param {Float} mouseY\n * @returns {Integer}\n */\nfunction getIndexFromPoint (mouseX, mouseY) {\n  // Position cursor here\n  const pt = svgroot.createSVGPoint();\n  pt.x = mouseX;\n  pt.y = mouseY;\n\n  // No content, so return 0\n  if (chardata.length === 1) { return 0; }\n  // Determine if cursor should be on left or right of character\n  let charpos = curtext.getCharNumAtPosition(pt);\n  if (charpos < 0) {\n    // Out of text range, look at mouse coords\n    charpos = chardata.length - 2;\n    if (mouseX <= chardata[0].x) {\n      charpos = 0;\n    }\n  } else if (charpos >= chardata.length - 2) {\n    charpos = chardata.length - 2;\n  }\n  const charbb = chardata[charpos];\n  const mid = charbb.x + (charbb.width / 2);\n  if (mouseX > mid) {\n    charpos++;\n  }\n  return charpos;\n}\n\n/**\n *\n * @param {Float} mouseX\n * @param {Float} mouseY\n * @returns {void}\n */\nfunction setCursorFromPoint (mouseX, mouseY) {\n  setCursor(getIndexFromPoint(mouseX, mouseY));\n}\n\n/**\n *\n * @param {Float} x\n * @param {Float} y\n * @param {boolean} apply\n * @returns {void}\n */\nfunction setEndSelectionFromPoint (x, y, apply) {\n  const i1 = textinput.selectionStart;\n  const i2 = getIndexFromPoint(x, y);\n\n  const start = Math.min(i1, i2);\n  const end = Math.max(i1, i2);\n  setSelection(start, end, !apply);\n}\n\n/**\n *\n * @param {Float} xIn\n * @param {Float} yIn\n * @returns {module:math.XYObject}\n */\nfunction screenToPt (xIn, yIn) {\n  const out = {\n    x: xIn,\n    y: yIn\n  };\n\n  out.x /= currentZoom;\n  out.y /= currentZoom;\n\n  if (matrix) {\n    const pt = transformPoint(out.x, out.y, matrix.inverse());\n    out.x = pt.x;\n    out.y = pt.y;\n  }\n\n  return out;\n}\n\n/**\n *\n * @param {Float} xIn\n * @param {Float} yIn\n * @returns {module:math.XYObject}\n */\nfunction ptToScreen (xIn, yIn) {\n  const out = {\n    x: xIn,\n    y: yIn\n  };\n\n  if (matrix) {\n    const pt = transformPoint(out.x, out.y, matrix);\n    out.x = pt.x;\n    out.y = pt.y;\n  }\n\n  out.x *= currentZoom;\n  out.y *= currentZoom;\n\n  return out;\n}\n\n/*\n// Not currently in use\nfunction hideCursor () {\n  if (cursor) {\n    cursor.setAttribute('visibility', 'hidden');\n  }\n}\n*/\n\n/**\n *\n * @param {Event} evt\n * @returns {void}\n */\nfunction selectAll (evt) {\n  setSelection(0, curtext.textContent.length);\n  $(this).unbind(evt);\n}\n\n/**\n *\n * @param {Event} evt\n * @returns {void}\n */\nfunction selectWord (evt) {\n  if (!allowDbl || !curtext) { return; }\n\n  const ept = transformPoint(evt.pageX, evt.pageY, rootSctm),\n    mouseX = ept.x * currentZoom,\n    mouseY = ept.y * currentZoom;\n  const pt = screenToPt(mouseX, mouseY);\n\n  const index = getIndexFromPoint(pt.x, pt.y);\n  const str = curtext.textContent;\n  const first = str.substr(0, index).replace(/[a-z\\d]+$/i, '').length;\n  const m = str.substr(index).match(/^[a-z\\d]+/i);\n  const last = (m ? m[0].length : 0) + index;\n  setSelection(first, last);\n\n  // Set tripleclick\n  $(evt.target).click(selectAll);\n  setTimeout(function () {\n    $(evt.target).unbind('click', selectAll);\n  }, 300);\n}\n\nreturn /** @lends module:svgcanvas.SvgCanvas#textActions */ {\n  /**\n  * @param {Element} target\n  * @param {Float} x\n  * @param {Float} y\n  * @returns {void}\n  */\n  select (target, x, y) {\n    curtext = target;\n    textActions.toEditMode(x, y);\n  },\n  /**\n  * @param {Element} elem\n  * @returns {void}\n  */\n  start (elem) {\n    curtext = elem;\n    textActions.toEditMode();\n  },\n  /**\n  * @param {external:MouseEvent} evt\n  * @param {Element} mouseTarget\n  * @param {Float} startX\n  * @param {Float} startY\n  * @returns {void}\n  */\n  mouseDown (evt, mouseTarget, startX, startY) {\n    const pt = screenToPt(startX, startY);\n\n    textinput.focus();\n    setCursorFromPoint(pt.x, pt.y);\n    lastX = startX;\n    lastY = startY;\n\n    // TODO: Find way to block native selection\n  },\n  /**\n  * @param {Float} mouseX\n  * @param {Float} mouseY\n  * @returns {void}\n  */\n  mouseMove (mouseX, mouseY) {\n    const pt = screenToPt(mouseX, mouseY);\n    setEndSelectionFromPoint(pt.x, pt.y);\n  },\n  /**\n  * @param {external:MouseEvent} evt\n  * @param {Float} mouseX\n  * @param {Float} mouseY\n  * @returns {void}\n  */\n  mouseUp (evt, mouseX, mouseY) {\n    const pt = screenToPt(mouseX, mouseY);\n\n    setEndSelectionFromPoint(pt.x, pt.y, true);\n\n    // TODO: Find a way to make this work: Use transformed BBox instead of evt.target\n    // if (lastX === mouseX && lastY === mouseY\n    //   && !rectsIntersect(transbb, {x: pt.x, y: pt.y, width: 0, height: 0})) {\n    //   textActions.toSelectMode(true);\n    // }\n\n    if (\n      evt.target !== curtext &&\n      mouseX < lastX + 2 &&\n      mouseX > lastX - 2 &&\n      mouseY < lastY + 2 &&\n      mouseY > lastY - 2\n    ) {\n      textActions.toSelectMode(true);\n    }\n  },\n  /**\n  * @function\n  * @param {Integer} index\n  * @returns {void}\n  */\n  setCursor,\n  /**\n  * @param {Float} x\n  * @param {Float} y\n  * @returns {void}\n  */\n  toEditMode (x, y) {\n    allowDbl = false;\n    currentMode = 'textedit';\n    selectorManager.requestSelector(curtext).showGrips(false);\n    // Make selector group accept clicks\n    /* const selector = */ selectorManager.requestSelector(curtext); // Do we need this? Has side effect of setting lock, so keeping for now, but next line wasn't being used\n    // const sel = selector.selectorRect;\n\n    textActions.init();\n\n    $(curtext).css('cursor', 'text');\n\n    // if (supportsEditableText()) {\n    //   curtext.setAttribute('editable', 'simple');\n    //   return;\n    // }\n\n    if (!arguments.length) {\n      setCursor();\n    } else {\n      const pt = screenToPt(x, y);\n      setCursorFromPoint(pt.x, pt.y);\n    }\n\n    setTimeout(function () {\n      allowDbl = true;\n    }, 300);\n  },\n  /**\n  * @param {boolean|Element} selectElem\n  * @fires module:svgcanvas.SvgCanvas#event:selected\n  * @returns {void}\n  */\n  toSelectMode (selectElem) {\n    currentMode = 'select';\n    clearInterval(blinker);\n    blinker = null;\n    if (selblock) { $(selblock).attr('display', 'none'); }\n    if (cursor) { $(cursor).attr('visibility', 'hidden'); }\n    $(curtext).css('cursor', 'move');\n\n    if (selectElem) {\n      clearSelection();\n      $(curtext).css('cursor', 'move');\n\n      call('selected', [curtext]);\n      addToSelection([curtext], true);\n    }\n    if (curtext && !curtext.textContent.length) {\n      // No content, so delete\n      canvas.deleteSelectedElements();\n    }\n\n    $(textinput).blur();\n\n    curtext = false;\n\n    // if (supportsEditableText()) {\n    //   curtext.removeAttribute('editable');\n    // }\n  },\n  /**\n  * @param {Element} elem\n  * @returns {void}\n  */\n  setInputElem (elem) {\n    textinput = elem;\n    // $(textinput).blur(hideCursor);\n  },\n  /**\n  * @returns {void}\n  */\n  clear () {\n    if (currentMode === 'textedit') {\n      textActions.toSelectMode();\n    }\n  },\n  /**\n  * @param {Element} inputElem Not in use\n  * @returns {void}\n  */\n  init (inputElem) {\n    if (!curtext) { return; }\n    let i, end;\n    // if (supportsEditableText()) {\n    //   curtext.select();\n    //   return;\n    // }\n\n    if (!curtext.parentNode) {\n      // Result of the ffClone, need to get correct element\n      curtext = selectedElements[0];\n      selectorManager.requestSelector(curtext).showGrips(false);\n    }\n\n    const str = curtext.textContent;\n    const len = str.length;\n\n    const xform = curtext.getAttribute('transform');\n\n    textbb = utilsGetBBox(curtext);\n\n    matrix = xform ? getMatrix(curtext) : null;\n\n    chardata = [];\n    chardata.length = len;\n    textinput.focus();\n\n    $(curtext).unbind('dblclick', selectWord).dblclick(selectWord);\n\n    if (!len) {\n      end = {x: textbb.x + (textbb.width / 2), width: 0};\n    }\n\n    for (i = 0; i < len; i++) {\n      const start = curtext.getStartPositionOfChar(i);\n      end = curtext.getEndPositionOfChar(i);\n\n      if (!supportsGoodTextCharPos()) {\n        const offset = canvas.contentW * currentZoom;\n        start.x -= offset;\n        end.x -= offset;\n\n        start.x /= currentZoom;\n        end.x /= currentZoom;\n      }\n\n      // Get a \"bbox\" equivalent for each character. Uses the\n      // bbox data of the actual text for y, height purposes\n\n      // TODO: Decide if y, width and height are actually necessary\n      chardata[i] = {\n        x: start.x,\n        y: textbb.y, // start.y?\n        width: end.x - start.x,\n        height: textbb.height\n      };\n    }\n\n    // Add a last bbox for cursor at end of text\n    chardata.push({\n      x: end.x,\n      width: 0\n    });\n    setSelection(textinput.selectionStart, textinput.selectionEnd, true);\n  }\n};\n}());\n\n/**\n* Group: Serialization.\n*/\n\n/**\n* Looks at DOM elements inside the `<defs>` to see if they are referred to,\n* removes them from the DOM if they are not.\n* @function module:svgcanvas.SvgCanvas#removeUnusedDefElems\n* @returns {Integer} The number of elements that were removed\n*/\nconst removeUnusedDefElems = this.removeUnusedDefElems = function () {\n  const defs = svgcontent.getElementsByTagNameNS(NS.SVG, 'defs');\n  if (!defs || !defs.length) { return 0; }\n\n  // if (!defs.firstChild) { return; }\n\n  const defelemUses = [];\n  let numRemoved = 0;\n  const attrs = ['fill', 'stroke', 'filter', 'marker-start', 'marker-mid', 'marker-end'];\n  const alen = attrs.length;\n\n  const allEls = svgcontent.getElementsByTagNameNS(NS.SVG, '*');\n  const allLen = allEls.length;\n\n  let i, j;\n  for (i = 0; i < allLen; i++) {\n    const el = allEls[i];\n    for (j = 0; j < alen; j++) {\n      const ref = getUrlFromAttr(el.getAttribute(attrs[j]));\n      if (ref) {\n        defelemUses.push(ref.substr(1));\n      }\n    }\n\n    // gradients can refer to other gradients\n    const href = getHref(el);\n    if (href && href.startsWith('#')) {\n      defelemUses.push(href.substr(1));\n    }\n  }\n\n  const defelems = $(defs).find('linearGradient, radialGradient, filter, marker, svg, symbol');\n  i = defelems.length;\n  while (i--) {\n    const defelem = defelems[i];\n    const {id} = defelem;\n    if (!defelemUses.includes(id)) {\n      // Not found, so remove (but remember)\n      removedElements[id] = defelem;\n      defelem.remove();\n      numRemoved++;\n    }\n  }\n\n  return numRemoved;\n};\n\n/**\n* Main function to set up the SVG content for output.\n* @function module:svgcanvas.SvgCanvas#svgCanvasToString\n* @returns {string} The SVG image for output\n*/\nthis.svgCanvasToString = function () {\n  // keep calling it until there are none to remove\n  while (removeUnusedDefElems() > 0) {} // eslint-disable-line no-empty\n\n  pathActions.clear(true);\n\n  // Keep SVG-Edit comment on top\n  $.each(svgcontent.childNodes, function (i, node) {\n    if (i && node.nodeType === 8 && node.data.includes('Created with')) {\n      svgcontent.firstChild.before(node);\n    }\n  });\n\n  // Move out of in-group editing mode\n  if (currentGroup) {\n    draw.leaveContext();\n    selectOnly([currentGroup]);\n  }\n\n  const nakedSvgs = [];\n\n  // Unwrap gsvg if it has no special attributes (only id and style)\n  $(svgcontent).find('g:data(gsvg)').each(function () {\n    const attrs = this.attributes;\n    let len = attrs.length;\n    for (let i = 0; i < len; i++) {\n      if (attrs[i].nodeName === 'id' || attrs[i].nodeName === 'style') {\n        len--;\n      }\n    }\n    // No significant attributes, so ungroup\n    if (len <= 0) {\n      const svg = this.firstChild;\n      nakedSvgs.push(svg);\n      $(this).replaceWith(svg);\n    }\n  });\n  const output = this.svgToString(svgcontent, 0);\n\n  // Rewrap gsvg\n  if (nakedSvgs.length) {\n    $(nakedSvgs).each(function () {\n      groupSvgElem(this);\n    });\n  }\n\n  return output;\n};\n\n/**\n* Sub function ran on each SVG element to convert it to a string as desired.\n* @function module:svgcanvas.SvgCanvas#svgToString\n* @param {Element} elem - The SVG element to convert\n* @param {Integer} indent - Number of spaces to indent this tag\n* @returns {string} The given element as an SVG tag\n*/\nthis.svgToString = function (elem, indent) {\n  const out = [];\n  const unit = curConfig.baseUnit;\n  const unitRe = new RegExp('^-?[\\\\d\\\\.]+' + unit + '$');\n\n  if (elem) {\n    cleanupElement(elem);\n    const attrs = [...elem.attributes];\n    const childs = elem.childNodes;\n    attrs.sort((a, b) => {\n      return a.name > b.name ? -1 : 1;\n    });\n\n    for (let i = 0; i < indent; i++) { out.push(' '); }\n    out.push('<'); out.push(elem.nodeName);\n    if (elem.id === 'svgcontent') {\n      // Process root element separately\n      const res = getResolution();\n\n      const vb = '';\n      // TODO: Allow this by dividing all values by current baseVal\n      // Note that this also means we should properly deal with this on import\n      // if (curConfig.baseUnit !== 'px') {\n      //   const unit = curConfig.baseUnit;\n      //   const unitM = getTypeMap()[unit];\n      //   res.w = shortFloat(res.w / unitM);\n      //   res.h = shortFloat(res.h / unitM);\n      //   vb = ' viewBox=\"' + [0, 0, res.w, res.h].join(' ') + '\"';\n      //   res.w += unit;\n      //   res.h += unit;\n      // }\n\n      if (unit !== 'px') {\n        res.w = convertUnit(res.w, unit) + unit;\n        res.h = convertUnit(res.h, unit) + unit;\n      }\n\n      out.push(' width=\"' + res.w + '\" height=\"' + res.h + '\"' + vb + ' xmlns=\"' + NS.SVG + '\"');\n\n      const nsuris = {};\n\n      // Check elements for namespaces, add if found\n      $(elem).find('*').andSelf().each(function () {\n        // const el = this;\n        // for some elements have no attribute\n        const uri = this.namespaceURI;\n        if (uri && !nsuris[uri] && nsMap[uri] && nsMap[uri] !== 'xmlns' && nsMap[uri] !== 'xml') {\n          nsuris[uri] = true;\n          out.push(' xmlns:' + nsMap[uri] + '=\"' + uri + '\"');\n        }\n\n        $.each(this.attributes, function (i, attr) {\n          const u = attr.namespaceURI;\n          if (u && !nsuris[u] && nsMap[u] !== 'xmlns' && nsMap[u] !== 'xml') {\n            nsuris[u] = true;\n            out.push(' xmlns:' + nsMap[u] + '=\"' + u + '\"');\n          }\n        });\n      });\n\n      let i = attrs.length;\n      const attrNames = ['width', 'height', 'xmlns', 'x', 'y', 'viewBox', 'id', 'overflow'];\n      while (i--) {\n        const attr = attrs[i];\n        const attrVal = toXml(attr.value);\n\n        // Namespaces have already been dealt with, so skip\n        if (attr.nodeName.startsWith('xmlns:')) { continue; }\n\n        // only serialize attributes we don't use internally\n        if (attrVal !== '' && !attrNames.includes(attr.localName)) {\n          if (!attr.namespaceURI || nsMap[attr.namespaceURI]) {\n            out.push(' ');\n            out.push(attr.nodeName); out.push('=\"');\n            out.push(attrVal); out.push('\"');\n          }\n        }\n      }\n    } else {\n      // Skip empty defs\n      if (elem.nodeName === 'defs' && !elem.firstChild) { return ''; }\n\n      const mozAttrs = ['-moz-math-font-style', '_moz-math-font-style'];\n      for (let i = attrs.length - 1; i >= 0; i--) {\n        const attr = attrs[i];\n        let attrVal = toXml(attr.value);\n        // remove bogus attributes added by Gecko\n        if (mozAttrs.includes(attr.localName)) { continue; }\n        if (attrVal === 'null') {\n          const styleName = attr.localName.replace(/-[a-z]/g, (s) => s[1].toUpperCase());\n          if (Object.prototype.hasOwnProperty.call(elem.style, styleName)) { continue; }\n        }\n        if (attrVal !== '') {\n          if (attrVal.startsWith('pointer-events')) { continue; }\n          if (attr.localName === 'class' && attrVal.startsWith('se_')) { continue; }\n          out.push(' ');\n          if (attr.localName === 'd') { attrVal = pathActions.convertPath(elem, true); }\n          if (!isNaN(attrVal)) {\n            attrVal = shortFloat(attrVal);\n          } else if (unitRe.test(attrVal)) {\n            attrVal = shortFloat(attrVal) + unit;\n          }\n\n          // Embed images when saving\n          if (saveOptions.apply &&\n            elem.nodeName === 'image' &&\n            attr.localName === 'href' &&\n            saveOptions.images &&\n            saveOptions.images === 'embed'\n          ) {\n            const img = encodableImages[attrVal];\n            if (img) { attrVal = img; }\n          }\n\n          // map various namespaces to our fixed namespace prefixes\n          // (the default xmlns attribute itself does not get a prefix)\n          if (!attr.namespaceURI || attr.namespaceURI === NS.SVG || nsMap[attr.namespaceURI]) {\n            out.push(attr.nodeName); out.push('=\"');\n            out.push(attrVal); out.push('\"');\n          }\n        }\n      }\n    }\n\n    if (elem.hasChildNodes()) {\n      out.push('>');\n      indent++;\n      let bOneLine = false;\n\n      for (let i = 0; i < childs.length; i++) {\n        const child = childs.item(i);\n        switch (child.nodeType) {\n        case 1: // element node\n          out.push('\\n');\n          out.push(this.svgToString(child, indent));\n          break;\n        case 3: { // text node\n          const str = child.nodeValue.replace(/^\\s+|\\s+$/g, '');\n          if (str !== '') {\n            bOneLine = true;\n            out.push(String(toXml(str)));\n          }\n          break;\n        } case 4: // cdata node\n          out.push('\\n');\n          out.push(new Array(indent + 1).join(' '));\n          out.push('<![CDATA[');\n          out.push(child.nodeValue);\n          out.push(']]>');\n          break;\n        case 8: // comment\n          out.push('\\n');\n          out.push(new Array(indent + 1).join(' '));\n          out.push('<!--');\n          out.push(child.data);\n          out.push('-->');\n          break;\n        } // switch on node type\n      }\n      indent--;\n      if (!bOneLine) {\n        out.push('\\n');\n        for (let i = 0; i < indent; i++) { out.push(' '); }\n      }\n      out.push('</'); out.push(elem.nodeName); out.push('>');\n    } else {\n      out.push('/>');\n    }\n  }\n  return out.join('');\n}; // end svgToString()\n\n/**\n * Function to run when image data is found.\n * @callback module:svgcanvas.ImageEmbeddedCallback\n * @param {string|false} result Data URL\n * @returns {void}\n */\n/**\n* Converts a given image file to a data URL when possible, then runs a given callback.\n* @function module:svgcanvas.SvgCanvas#embedImage\n* @param {string} src - The path/URL of the image\n* @returns {Promise<string|false>} Resolves to a Data URL (string|false)\n*/\nthis.embedImage = function (src) {\n  // Todo: Remove this Promise in favor of making an async/await `Image.load` utility\n  // eslint-disable-next-line promise/avoid-new\n  return new Promise(function (resolve, reject) {\n    // load in the image and once it's loaded, get the dimensions\n    $(new Image()).load(function (response, status, xhr) {\n      if (status === 'error') {\n        reject(new Error('Error loading image: ' + xhr.status + ' ' + xhr.statusText));\n        return;\n      }\n      // create a canvas the same size as the raster image\n      const cvs = document.createElement('canvas');\n      cvs.width = this.width;\n      cvs.height = this.height;\n      // load the raster image into the canvas\n      cvs.getContext('2d').drawImage(this, 0, 0);\n      // retrieve the data: URL\n      try {\n        let urldata = ';svgedit_url=' + encodeURIComponent(src);\n        urldata = cvs.toDataURL().replace(';base64', urldata + ';base64');\n        encodableImages[src] = urldata;\n      } catch (e) {\n        encodableImages[src] = false;\n      }\n      lastGoodImgUrl = src;\n      resolve(encodableImages[src]);\n    }).attr('src', src);\n  });\n};\n\n/**\n* Sets a given URL to be a \"last good image\" URL.\n* @function module:svgcanvas.SvgCanvas#setGoodImage\n* @param {string} val\n* @returns {void}\n*/\nthis.setGoodImage = function (val) {\n  lastGoodImgUrl = val;\n};\n\n/**\n* Does nothing by default, handled by optional widget/extension.\n* @function module:svgcanvas.SvgCanvas#open\n* @returns {void}\n*/\nthis.open = function () {\n  /* */\n};\n\n/**\n* Serializes the current drawing into SVG XML text and passes it to the 'saved' handler.\n* This function also includes the XML prolog. Clients of the `SvgCanvas` bind their save\n* function to the 'saved' event.\n* @function module:svgcanvas.SvgCanvas#save\n* @param {module:svgcanvas.SaveOptions} opts\n* @fires module:svgcanvas.SvgCanvas#event:saved\n* @returns {void}\n*/\nthis.save = function (opts) {\n  // remove the selected outline before serializing\n  clearSelection();\n  // Update save options if provided\n  if (opts) { $.extend(saveOptions, opts); }\n  saveOptions.apply = true;\n\n  // no need for doctype, see https://jwatt.org/svg/authoring/#doctype-declaration\n  const str = this.svgCanvasToString();\n  call('saved', str);\n};\n\n/**\n* @typedef {PlainObject} module:svgcanvas.IssuesAndCodes\n* @property {string[]} issueCodes The locale-independent code names\n* @property {string[]} issues The localized descriptions\n*/\n\n/**\n* Codes only is useful for locale-independent detection.\n* @returns {module:svgcanvas.IssuesAndCodes}\n*/\nfunction getIssues () {\n  // remove the selected outline before serializing\n  clearSelection();\n\n  // Check for known CanVG issues\n  const issues = [];\n  const issueCodes = [];\n\n  // Selector and notice\n  const issueList = {\n    feGaussianBlur: uiStrings.exportNoBlur,\n    foreignObject: uiStrings.exportNoforeignObject,\n    '[stroke-dasharray]': uiStrings.exportNoDashArray\n  };\n  const content = $(svgcontent);\n\n  // Add font/text check if Canvas Text API is not implemented\n  if (!('font' in $('<canvas>')[0].getContext('2d'))) {\n    issueList.text = uiStrings.exportNoText;\n  }\n\n  $.each(issueList, function (sel, descr) {\n    if (content.find(sel).length) {\n      issueCodes.push(sel);\n      issues.push(descr);\n    }\n  });\n  return {issues, issueCodes};\n}\n\nlet canvg;\n/**\n* @typedef {\"feGaussianBlur\"|\"foreignObject\"|\"[stroke-dasharray]\"|\"text\"} module:svgcanvas.IssueCode\n*/\n/**\n* @typedef {PlainObject} module:svgcanvas.ImageExportedResults\n* @property {string} datauri Contents as a Data URL\n* @property {string} bloburl May be the empty string\n* @property {string} svg The SVG contents as a string\n* @property {string[]} issues The localization messages of `issueCodes`\n* @property {module:svgcanvas.IssueCode[]} issueCodes CanVG issues found with the SVG\n* @property {\"PNG\"|\"JPEG\"|\"BMP\"|\"WEBP\"|\"ICO\"} type The chosen image type\n* @property {\"image/png\"|\"image/jpeg\"|\"image/bmp\"|\"image/webp\"} mimeType The image MIME type\n* @property {Float} quality A decimal between 0 and 1 (for use with JPEG or WEBP)\n* @property {string} exportWindowName A convenience for passing along a `window.name` to target a window on which the export could be added\n*/\n\n/**\n* Generates a PNG (or JPG, BMP, WEBP) Data URL based on the current image,\n* then calls \"exported\" with an object including the string, image\n* information, and any issues found.\n* @function module:svgcanvas.SvgCanvas#rasterExport\n* @param {\"PNG\"|\"JPEG\"|\"BMP\"|\"WEBP\"|\"ICO\"} [imgType=\"PNG\"]\n* @param {Float} [quality] Between 0 and 1\n* @param {string} [exportWindowName]\n* @param {PlainObject} [opts]\n* @param {boolean} [opts.avoidEvent]\n* @fires module:svgcanvas.SvgCanvas#event:exported\n* @todo Confirm/fix ICO type\n* @returns {Promise<module:svgcanvas.ImageExportedResults>} Resolves to {@link module:svgcanvas.ImageExportedResults}\n*/\nthis.rasterExport = async function (imgType, quality, exportWindowName, opts = {}) {\n  const type = imgType === 'ICO' ? 'BMP' : (imgType || 'PNG');\n  const mimeType = 'image/' + type.toLowerCase();\n  const {issues, issueCodes} = getIssues();\n  const svg = this.svgCanvasToString();\n\n  if (!canvg) {\n    // eslint-disable-next-line node/no-unsupported-features/es-syntax\n    ({canvg} = await import(curConfig.canvgPath + 'canvg.js').default);\n  }\n  if (!$('#export_canvas').length) {\n    $('<canvas>', {id: 'export_canvas'}).hide().appendTo('body');\n  }\n  const c = $('#export_canvas')[0];\n  c.width = canvas.contentW;\n  c.height = canvas.contentH;\n\n  await canvg(c, svg);\n  // Todo: Make async/await utility in place of `toBlob`, so we can remove this constructor\n  // eslint-disable-next-line promise/avoid-new\n  return new Promise((resolve, reject) => {\n    const dataURLType = type.toLowerCase();\n    const datauri = quality\n      ? c.toDataURL('image/' + dataURLType, quality)\n      : c.toDataURL('image/' + dataURLType);\n    let bloburl;\n    /**\n     * Called when `bloburl` is available for export.\n     * @returns {void}\n     */\n    function done () {\n      const obj = {\n        datauri, bloburl, svg, issues, issueCodes, type: imgType,\n        mimeType, quality, exportWindowName\n      };\n      if (!opts.avoidEvent) {\n        call('exported', obj);\n      }\n      resolve(obj);\n    }\n    if (c.toBlob) {\n      c.toBlob((blob) => {\n        bloburl = createObjectURL(blob);\n        done();\n      }, mimeType, quality);\n      return;\n    }\n    bloburl = dataURLToObjectURL(datauri);\n    done();\n  });\n};\n/**\n * @external jsPDF\n */\n/**\n * @typedef {void|\"save\"|\"arraybuffer\"|\"blob\"|\"datauristring\"|\"dataurlstring\"|\"dataurlnewwindow\"|\"datauri\"|\"dataurl\"} external:jsPDF.OutputType\n * @todo Newer version to add also allows these `outputType` values \"bloburi\"|\"bloburl\" which return strings, so document here and for `outputType` of `module:svgcanvas.PDFExportedResults` below if added\n*/\n/**\n* @typedef {PlainObject} module:svgcanvas.PDFExportedResults\n* @property {string} svg The SVG PDF output\n* @property {string|ArrayBuffer|Blob|window} output The output based on the `outputType`;\n* if `undefined`, \"datauristring\", \"dataurlstring\", \"datauri\",\n* or \"dataurl\", will be a string (`undefined` gives a document, while the others\n* build as Data URLs; \"datauri\" and \"dataurl\" change the location of the current page); if\n* \"arraybuffer\", will return `ArrayBuffer`; if \"blob\", returns a `Blob`;\n* if \"dataurlnewwindow\", will change the current page's location and return a string\n* if in Safari and no window object is found; otherwise opens in, and returns, a new `window`\n* object; if \"save\", will have the same return as \"dataurlnewwindow\" if\n* `navigator.getUserMedia` support is found without `URL.createObjectURL` support; otherwise\n* returns `undefined` but attempts to save\n* @property {external:jsPDF.OutputType} outputType\n* @property {string[]} issues The human-readable localization messages of corresponding `issueCodes`\n* @property {module:svgcanvas.IssueCode[]} issueCodes\n* @property {string} exportWindowName\n*/\n\n/**\n* Generates a PDF based on the current image, then calls \"exportedPDF\" with\n* an object including the string, the data URL, and any issues found.\n* @function module:svgcanvas.SvgCanvas#exportPDF\n* @param {string} [exportWindowName] Will also be used for the download file name here\n* @param {external:jsPDF.OutputType} [outputType=\"dataurlstring\"]\n* @fires module:svgcanvas.SvgCanvas#event:exportedPDF\n* @returns {Promise<module:svgcanvas.PDFExportedResults>} Resolves to {@link module:svgcanvas.PDFExportedResults}\n*/\nthis.exportPDF = async function (\n  exportWindowName,\n  outputType = isChrome() ? 'save' : undefined\n) {\n  if (!window.jsPDF) {\n    // Todo: Switch to `import()` when widely supported and available (also allow customization of path)\n    // eslint-disable-next-line node/no-unsupported-features/es-syntax\n    await import('../editor/jspdf/underscore-min.js');\n    // eslint-disable-next-line node/no-unsupported-features/es-syntax\n    await import('../editor/jspdf/jspdf.min.js');\n    // eslint-disable-next-line node/no-unsupported-features/es-syntax\n    await import('../editor/jspdf/jspdf.plugin.svgToPdf.js');\n  }\n\n  const res = getResolution();\n  const orientation = res.w > res.h ? 'landscape' : 'portrait';\n  const unit = 'pt'; // curConfig.baseUnit; // We could use baseUnit, but that is presumably not intended for export purposes\n\n  // Todo: Give options to use predefined jsPDF formats like \"a4\", etc. from pull-down (with option to keep customizable)\n  const doc = jsPDF({\n    orientation,\n    unit,\n    format: [res.w, res.h]\n    // , compressPdf: true\n  });\n  const docTitle = getDocumentTitle();\n  doc.setProperties({\n    title: docTitle /* ,\n    subject: '',\n    author: '',\n    keywords: '',\n    creator: '' */\n  });\n  const {issues, issueCodes} = getIssues();\n  const svg = this.svgCanvasToString();\n  doc.addSVG(svg, 0, 0);\n\n  // doc.output('save'); // Works to open in a new\n  //  window; todo: configure this and other export\n  //  options to optionally work in this manner as\n  //  opposed to opening a new tab\n  outputType = outputType || 'dataurlstring';\n  const obj = {svg, issues, issueCodes, exportWindowName, outputType};\n  obj.output = doc.output(outputType, outputType === 'save' ? (exportWindowName || 'svg.pdf') : undefined);\n  call('exportedPDF', obj);\n  return obj;\n};\n\n/**\n* Returns the current drawing as raw SVG XML text.\n* @function module:svgcanvas.SvgCanvas#getSvgString\n* @returns {string} The current drawing as raw SVG XML text.\n*/\nthis.getSvgString = function () {\n  saveOptions.apply = false;\n  return this.svgCanvasToString();\n};\n\n/**\n* This function determines whether to use a nonce in the prefix, when\n* generating IDs for future documents in SVG-Edit.\n* If you're controlling SVG-Edit externally, and want randomized IDs, call\n* this BEFORE calling `svgCanvas.setSvgString`.\n* @function module:svgcanvas.SvgCanvas#randomizeIds\n* @param {boolean} [enableRandomization] If true, adds a nonce to the prefix. Thus\n* `svgCanvas.randomizeIds() <==> svgCanvas.randomizeIds(true)`\n* @returns {void}\n*/\nthis.randomizeIds = function (enableRandomization) {\n  if (arguments.length > 0 && enableRandomization === false) {\n    draw.randomizeIds(false, getCurrentDrawing());\n  } else {\n    draw.randomizeIds(true, getCurrentDrawing());\n  }\n};\n\n/**\n* Ensure each element has a unique ID.\n* @function module:svgcanvas.SvgCanvas#uniquifyElems\n* @param {Element} g - The parent element of the tree to give unique IDs\n* @returns {void}\n*/\nconst uniquifyElems = this.uniquifyElems = function (g) {\n  const ids = {};\n  // TODO: Handle markers and connectors. These are not yet re-identified properly\n  // as their referring elements do not get remapped.\n  //\n  // <marker id='se_marker_end_svg_7'/>\n  // <polyline id='svg_7' se:connector='svg_1 svg_6' marker-end='url(#se_marker_end_svg_7)'/>\n  //\n  // Problem #1: if svg_1 gets renamed, we do not update the polyline's se:connector attribute\n  // Problem #2: if the polyline svg_7 gets renamed, we do not update the marker id nor the polyline's marker-end attribute\n  const refElems = ['filter', 'linearGradient', 'pattern', 'radialGradient', 'symbol', 'textPath', 'use'];\n\n  walkTree(g, function (n) {\n    // if it's an element node\n    if (n.nodeType === 1) {\n      // and the element has an ID\n      if (n.id) {\n        // and we haven't tracked this ID yet\n        if (!(n.id in ids)) {\n          // add this id to our map\n          ids[n.id] = {elem: null, attrs: [], hrefs: []};\n        }\n        ids[n.id].elem = n;\n      }\n\n      // now search for all attributes on this element that might refer\n      // to other elements\n      $.each(refAttrs, function (i, attr) {\n        const attrnode = n.getAttributeNode(attr);\n        if (attrnode) {\n          // the incoming file has been sanitized, so we should be able to safely just strip off the leading #\n          const url = getUrlFromAttr(attrnode.value),\n            refid = url ? url.substr(1) : null;\n          if (refid) {\n            if (!(refid in ids)) {\n              // add this id to our map\n              ids[refid] = {elem: null, attrs: [], hrefs: []};\n            }\n            ids[refid].attrs.push(attrnode);\n          }\n        }\n      });\n\n      // check xlink:href now\n      const href = getHref(n);\n      // TODO: what if an <image> or <a> element refers to an element internally?\n      if (href && refElems.includes(n.nodeName)) {\n        const refid = href.substr(1);\n        if (refid) {\n          if (!(refid in ids)) {\n            // add this id to our map\n            ids[refid] = {elem: null, attrs: [], hrefs: []};\n          }\n          ids[refid].hrefs.push(n);\n        }\n      }\n    }\n  });\n\n  // in ids, we now have a map of ids, elements and attributes, let's re-identify\n  for (const oldid in ids) {\n    if (!oldid) { continue; }\n    const {elem} = ids[oldid];\n    if (elem) {\n      const newid = getNextId();\n\n      // assign element its new id\n      elem.id = newid;\n\n      // remap all url() attributes\n      const {attrs} = ids[oldid];\n      let j = attrs.length;\n      while (j--) {\n        const attr = attrs[j];\n        attr.ownerElement.setAttribute(attr.name, 'url(#' + newid + ')');\n      }\n\n      // remap all href attributes\n      const hreffers = ids[oldid].hrefs;\n      let k = hreffers.length;\n      while (k--) {\n        const hreffer = hreffers[k];\n        setHref(hreffer, '#' + newid);\n      }\n    }\n  }\n};\n\n/**\n* Assigns reference data for each use element.\n* @function module:svgcanvas.SvgCanvas#setUseData\n* @param {Element} parent\n* @returns {void}\n*/\nconst setUseData = this.setUseData = function (parent) {\n  let elems = $(parent);\n\n  if (parent.tagName !== 'use') {\n    elems = elems.find('use');\n  }\n\n  elems.each(function () {\n    const id = getHref(this).substr(1);\n    const refElem = getElem(id);\n    if (!refElem) { return; }\n    $(this).data('ref', refElem);\n    if (refElem.tagName === 'symbol' || refElem.tagName === 'svg') {\n      $(this).data('symbol', refElem).data('ref', refElem);\n    }\n  });\n};\n\n/**\n* Converts gradients from userSpaceOnUse to objectBoundingBox.\n* @function module:svgcanvas.SvgCanvas#convertGradients\n* @param {Element} elem\n* @returns {void}\n*/\nconst convertGradients = this.convertGradients = function (elem) {\n  let elems = $(elem).find('linearGradient, radialGradient');\n  if (!elems.length && isWebkit()) {\n    // Bug in webkit prevents regular *Gradient selector search\n    elems = $(elem).find('*').filter(function () {\n      return (this.tagName.includes('Gradient'));\n    });\n  }\n\n  elems.each(function () {\n    const grad = this;\n    if ($(grad).attr('gradientUnits') === 'userSpaceOnUse') {\n      // TODO: Support more than one element with this ref by duplicating parent grad\n      const fillStrokeElems = $(svgcontent).find('[fill=\"url(#' + grad.id + ')\"],[stroke=\"url(#' + grad.id + ')\"]');\n      if (!fillStrokeElems.length) { return; }\n\n      // get object's bounding box\n      const bb = utilsGetBBox(fillStrokeElems[0]);\n\n      // This will occur if the element is inside a <defs> or a <symbol>,\n      // in which we shouldn't need to convert anyway.\n      if (!bb) { return; }\n\n      if (grad.tagName === 'linearGradient') {\n        const gCoords = $(grad).attr(['x1', 'y1', 'x2', 'y2']);\n\n        // If has transform, convert\n        const tlist = grad.gradientTransform.baseVal;\n        if (tlist && tlist.numberOfItems > 0) {\n          const m = transformListToTransform(tlist).matrix;\n          const pt1 = transformPoint(gCoords.x1, gCoords.y1, m);\n          const pt2 = transformPoint(gCoords.x2, gCoords.y2, m);\n\n          gCoords.x1 = pt1.x;\n          gCoords.y1 = pt1.y;\n          gCoords.x2 = pt2.x;\n          gCoords.y2 = pt2.y;\n          grad.removeAttribute('gradientTransform');\n        }\n\n        $(grad).attr({\n          x1: (gCoords.x1 - bb.x) / bb.width,\n          y1: (gCoords.y1 - bb.y) / bb.height,\n          x2: (gCoords.x2 - bb.x) / bb.width,\n          y2: (gCoords.y2 - bb.y) / bb.height\n        });\n        grad.removeAttribute('gradientUnits');\n      }\n      // else {\n      //   Note: radialGradient elements cannot be easily converted\n      //   because userSpaceOnUse will keep circular gradients, while\n      //   objectBoundingBox will x/y scale the gradient according to\n      //   its bbox.\n      //\n      //   For now we'll do nothing, though we should probably have\n      //   the gradient be updated as the element is moved, as\n      //   inkscape/illustrator do.\n      //\n      //   const gCoords = $(grad).attr(['cx', 'cy', 'r']);\n      //\n      //   $(grad).attr({\n      //     cx: (gCoords.cx - bb.x) / bb.width,\n      //     cy: (gCoords.cy - bb.y) / bb.height,\n      //     r: gCoords.r\n      //   });\n      //\n      //   grad.removeAttribute('gradientUnits');\n      // }\n    }\n  });\n};\n\n/**\n* Converts selected/given `<use>` or child SVG element to a group.\n* @function module:svgcanvas.SvgCanvas#convertToGroup\n* @param {Element} elem\n* @fires module:svgcanvas.SvgCanvas#event:selected\n* @returns {void}\n*/\nconst convertToGroup = this.convertToGroup = function (elem) {\n  if (!elem) {\n    elem = selectedElements[0];\n  }\n  const $elem = $(elem);\n  const batchCmd = new BatchCommand();\n  let ts;\n\n  if ($elem.data('gsvg')) {\n    // Use the gsvg as the new group\n    const svg = elem.firstChild;\n    const pt = $(svg).attr(['x', 'y']);\n\n    $(elem.firstChild.firstChild).unwrap();\n    $(elem).removeData('gsvg');\n\n    const tlist = getTransformList(elem);\n    const xform = svgroot.createSVGTransform();\n    xform.setTranslate(pt.x, pt.y);\n    tlist.appendItem(xform);\n    recalculateDimensions(elem);\n    call('selected', [elem]);\n  } else if ($elem.data('symbol')) {\n    elem = $elem.data('symbol');\n\n    ts = $elem.attr('transform');\n    const pos = $elem.attr(['x', 'y']);\n\n    const vb = elem.getAttribute('viewBox');\n\n    if (vb) {\n      const nums = vb.split(' ');\n      pos.x -= Number(nums[0]);\n      pos.y -= Number(nums[1]);\n    }\n\n    // Not ideal, but works\n    ts += ' translate(' + (pos.x || 0) + ',' + (pos.y || 0) + ')';\n\n    const prev = $elem.prev();\n\n    // Remove <use> element\n    batchCmd.addSubCommand(new RemoveElementCommand($elem[0], $elem[0].nextSibling, $elem[0].parentNode));\n    $elem.remove();\n\n    // See if other elements reference this symbol\n    const hasMore = $(svgcontent).find('use:data(symbol)').length;\n\n    const g = svgdoc.createElementNS(NS.SVG, 'g');\n    const childs = elem.childNodes;\n\n    let i;\n    for (i = 0; i < childs.length; i++) {\n      g.append(childs[i].cloneNode(true));\n    }\n\n    // Duplicate the gradients for Gecko, since they weren't included in the <symbol>\n    if (isGecko()) {\n      const dupeGrads = $(findDefs()).children('linearGradient,radialGradient,pattern').clone();\n      $(g).append(dupeGrads);\n    }\n\n    if (ts) {\n      g.setAttribute('transform', ts);\n    }\n\n    const parent = elem.parentNode;\n\n    uniquifyElems(g);\n\n    // Put the dupe gradients back into <defs> (after uniquifying them)\n    if (isGecko()) {\n      $(findDefs()).append($(g).find('linearGradient,radialGradient,pattern'));\n    }\n\n    // now give the g itself a new id\n    g.id = getNextId();\n\n    prev.after(g);\n\n    if (parent) {\n      if (!hasMore) {\n        // remove symbol/svg element\n        const {nextSibling} = elem;\n        elem.remove();\n        batchCmd.addSubCommand(new RemoveElementCommand(elem, nextSibling, parent));\n      }\n      batchCmd.addSubCommand(new InsertElementCommand(g));\n    }\n\n    setUseData(g);\n\n    if (isGecko()) {\n      convertGradients(findDefs());\n    } else {\n      convertGradients(g);\n    }\n\n    // recalculate dimensions on the top-level children so that unnecessary transforms\n    // are removed\n    walkTreePost(g, function (n) {\n      try {\n        recalculateDimensions(n);\n      } catch (e) {\n        console.log(e); // eslint-disable-line no-console\n      }\n    });\n\n    // Give ID for any visible element missing one\n    $(g).find(visElems).each(function () {\n      if (!this.id) { this.id = getNextId(); }\n    });\n\n    selectOnly([g]);\n\n    const cm = pushGroupProperties(g, true);\n    if (cm) {\n      batchCmd.addSubCommand(cm);\n    }\n\n    addCommandToHistory(batchCmd);\n  } else {\n    console.log('Unexpected element to ungroup:', elem); // eslint-disable-line no-console\n  }\n};\n\n/**\n* This function sets the current drawing as the input SVG XML.\n* @function module:svgcanvas.SvgCanvas#setSvgString\n* @param {string} xmlString - The SVG as XML text.\n* @param {boolean} [preventUndo=false] - Indicates if we want to do the\n* changes without adding them to the undo stack - e.g. for initializing a\n* drawing on page load.\n* @fires module:svgcanvas.SvgCanvas#event:setnonce\n* @fires module:svgcanvas.SvgCanvas#event:unsetnonce\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {boolean} This function returns `false` if the set was\n*     unsuccessful, `true` otherwise.\n*/\nthis.setSvgString = function (xmlString, preventUndo) {\n  try {\n    // convert string into XML document\n    const newDoc = text2xml(xmlString);\n    if (newDoc.firstElementChild &&\n      newDoc.firstElementChild.namespaceURI !== NS.SVG) {\n      return false;\n    }\n\n    this.prepareSvg(newDoc);\n\n    const batchCmd = new BatchCommand('Change Source');\n\n    // remove old svg document\n    const {nextSibling} = svgcontent;\n\n    svgcontent.remove();\n    const oldzoom = svgcontent;\n    batchCmd.addSubCommand(new RemoveElementCommand(oldzoom, nextSibling, svgroot));\n\n    // set new svg document\n    // If DOM3 adoptNode() available, use it. Otherwise fall back to DOM2 importNode()\n    if (svgdoc.adoptNode) {\n      svgcontent = svgdoc.adoptNode(newDoc.documentElement);\n    } else {\n      svgcontent = svgdoc.importNode(newDoc.documentElement, true);\n    }\n\n    svgroot.append(svgcontent);\n    const content = $(svgcontent);\n\n    canvas.current_drawing_ = new draw.Drawing(svgcontent, idprefix);\n\n    // retrieve or set the nonce\n    const nonce = getCurrentDrawing().getNonce();\n    if (nonce) {\n      call('setnonce', nonce);\n    } else {\n      call('unsetnonce');\n    }\n\n    // change image href vals if possible\n    content.find('image').each(function () {\n      const image = this;\n      preventClickDefault(image);\n      const val = getHref(this);\n      if (val) {\n        if (val.startsWith('data:')) {\n          // Check if an SVG-edit data URI\n          const m = val.match(/svgedit_url=(.*?);/);\n          // const m = val.match(/svgedit_url=(?<url>.*?);/);\n          if (m) {\n            const url = decodeURIComponent(m[1]);\n            // const url = decodeURIComponent(m.groups.url);\n            $(new Image()).load(function () {\n              image.setAttributeNS(NS.XLINK, 'xlink:href', url);\n            }).attr('src', url);\n          }\n        }\n        // Add to encodableImages if it loads\n        canvas.embedImage(val);\n      }\n    });\n\n    // Wrap child SVGs in group elements\n    content.find('svg').each(function () {\n      // Skip if it's in a <defs>\n      if ($(this).closest('defs').length) { return; }\n\n      uniquifyElems(this);\n\n      // Check if it already has a gsvg group\n      const pa = this.parentNode;\n      if (pa.childNodes.length === 1 && pa.nodeName === 'g') {\n        $(pa).data('gsvg', this);\n        pa.id = pa.id || getNextId();\n      } else {\n        groupSvgElem(this);\n      }\n    });\n\n    // For Firefox: Put all paint elems in defs\n    if (isGecko()) {\n      content.find('linearGradient, radialGradient, pattern').appendTo(findDefs());\n    }\n\n    // Set ref element for <use> elements\n\n    // TODO: This should also be done if the object is re-added through \"redo\"\n    setUseData(content);\n\n    convertGradients(content[0]);\n\n    const attrs = {\n      id: 'svgcontent',\n      overflow: curConfig.show_outside_canvas ? 'visible' : 'hidden'\n    };\n\n    let percs = false;\n\n    // determine proper size\n    if (content.attr('viewBox')) {\n      const vb = content.attr('viewBox').split(' ');\n      attrs.width = vb[2];\n      attrs.height = vb[3];\n    // handle content that doesn't have a viewBox\n    } else {\n      $.each(['width', 'height'], function (i, dim) {\n        // Set to 100 if not given\n        const val = content.attr(dim) || '100%';\n\n        if (String(val).substr(-1) === '%') {\n          // Use user units if percentage given\n          percs = true;\n        } else {\n          attrs[dim] = convertToNum(dim, val);\n        }\n      });\n    }\n\n    // identify layers\n    draw.identifyLayers();\n\n    // Give ID for any visible layer children missing one\n    content.children().find(visElems).each(function () {\n      if (!this.id) { this.id = getNextId(); }\n    });\n\n    // Percentage width/height, so let's base it on visible elements\n    if (percs) {\n      const bb = getStrokedBBoxDefaultVisible();\n      attrs.width = bb.width + bb.x;\n      attrs.height = bb.height + bb.y;\n    }\n\n    // Just in case negative numbers are given or\n    // result from the percs calculation\n    if (attrs.width <= 0) { attrs.width = 100; }\n    if (attrs.height <= 0) { attrs.height = 100; }\n\n    content.attr(attrs);\n    this.contentW = attrs.width;\n    this.contentH = attrs.height;\n\n    batchCmd.addSubCommand(new InsertElementCommand(svgcontent));\n    // update root to the correct size\n    const changes = content.attr(['width', 'height']);\n    batchCmd.addSubCommand(new ChangeElementCommand(svgroot, changes));\n\n    // reset zoom\n    currentZoom = 1;\n\n    // reset transform lists\n    resetListMap();\n    clearSelection();\n    pathModule.clearData();\n    svgroot.append(selectorManager.selectorParentGroup);\n\n    if (!preventUndo) addCommandToHistory(batchCmd);\n    call('changed', [svgcontent]);\n  } catch (e) {\n    console.log(e); // eslint-disable-line no-console\n    return false;\n  }\n\n  return true;\n};\n\n/**\n* This function imports the input SVG XML as a `<symbol>` in the `<defs>`, then adds a\n* `<use>` to the current layer.\n* @function module:svgcanvas.SvgCanvas#importSvgString\n* @param {string} xmlString - The SVG as XML text.\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {null|Element} This function returns null if the import was unsuccessful, or the element otherwise.\n* @todo\n* - properly handle if namespace is introduced by imported content (must add to svgcontent\n* and update all prefixes in the imported node)\n* - properly handle recalculating dimensions, `recalculateDimensions()` doesn't handle\n* arbitrary transform lists, but makes some assumptions about how the transform list\n* was obtained\n*/\nthis.importSvgString = function (xmlString) {\n  let j, ts, useEl;\n  try {\n    // Get unique ID\n    const uid = encode64(xmlString.length + xmlString).substr(0, 32);\n\n    let useExisting = false;\n    // Look for symbol and make sure symbol exists in image\n    if (importIds[uid]) {\n      if ($(importIds[uid].symbol).parents('#svgroot').length) {\n        useExisting = true;\n      }\n    }\n\n    const batchCmd = new BatchCommand('Import Image');\n    let symbol;\n    if (useExisting) {\n      ({symbol} = importIds[uid]);\n      ts = importIds[uid].xform;\n    } else {\n      // convert string into XML document\n      const newDoc = text2xml(xmlString);\n\n      this.prepareSvg(newDoc);\n\n      // import new svg document into our document\n      let svg;\n      // If DOM3 adoptNode() available, use it. Otherwise fall back to DOM2 importNode()\n      if (svgdoc.adoptNode) {\n        svg = svgdoc.adoptNode(newDoc.documentElement);\n      } else {\n        svg = svgdoc.importNode(newDoc.documentElement, true);\n      }\n\n      uniquifyElems(svg);\n\n      const innerw = convertToNum('width', svg.getAttribute('width')),\n        innerh = convertToNum('height', svg.getAttribute('height')),\n        innervb = svg.getAttribute('viewBox'),\n        // if no explicit viewbox, create one out of the width and height\n        vb = innervb ? innervb.split(' ') : [0, 0, innerw, innerh];\n      for (j = 0; j < 4; ++j) {\n        vb[j] = Number(vb[j]);\n      }\n\n      // TODO: properly handle preserveAspectRatio\n      const // canvasw = +svgcontent.getAttribute('width'),\n        canvash = Number(svgcontent.getAttribute('height'));\n      // imported content should be 1/3 of the canvas on its largest dimension\n\n      if (innerh > innerw) {\n        ts = 'scale(' + (canvash / 3) / vb[3] + ')';\n      } else {\n        ts = 'scale(' + (canvash / 3) / vb[2] + ')';\n      }\n\n      // Hack to make recalculateDimensions understand how to scale\n      ts = 'translate(0) ' + ts + ' translate(0)';\n\n      symbol = svgdoc.createElementNS(NS.SVG, 'symbol');\n      const defs = findDefs();\n\n      if (isGecko()) {\n        // Move all gradients into root for Firefox, workaround for this bug:\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=353575\n        // TODO: Make this properly undo-able.\n        $(svg).find('linearGradient, radialGradient, pattern').appendTo(defs);\n      }\n\n      while (svg.firstChild) {\n        const first = svg.firstChild;\n        symbol.append(first);\n      }\n      const attrs = svg.attributes;\n      for (const attr of attrs) { // Ok for `NamedNodeMap`\n        symbol.setAttribute(attr.nodeName, attr.value);\n      }\n      symbol.id = getNextId();\n\n      // Store data\n      importIds[uid] = {\n        symbol,\n        xform: ts\n      };\n\n      findDefs().append(symbol);\n      batchCmd.addSubCommand(new InsertElementCommand(symbol));\n    }\n\n    useEl = svgdoc.createElementNS(NS.SVG, 'use');\n    useEl.id = getNextId();\n    setHref(useEl, '#' + symbol.id);\n\n    (currentGroup || getCurrentDrawing().getCurrentLayer()).append(useEl);\n    batchCmd.addSubCommand(new InsertElementCommand(useEl));\n    clearSelection();\n\n    useEl.setAttribute('transform', ts);\n    recalculateDimensions(useEl);\n    $(useEl).data('symbol', symbol).data('ref', symbol);\n    addToSelection([useEl]);\n\n    // TODO: Find way to add this in a recalculateDimensions-parsable way\n    // if (vb[0] !== 0 || vb[1] !== 0) {\n    //   ts = 'translate(' + (-vb[0]) + ',' + (-vb[1]) + ') ' + ts;\n    // }\n    addCommandToHistory(batchCmd);\n    call('changed', [svgcontent]);\n  } catch (e) {\n    console.log(e); // eslint-disable-line no-console\n    return null;\n  }\n\n  // we want to return the element so we can automatically select it\n  return useEl;\n};\n\n// Could deprecate, but besides external uses, their usage makes clear that\n//  canvas is a dependency for all of these\nconst dr = {\n  identifyLayers, createLayer, cloneLayer, deleteCurrentLayer,\n  setCurrentLayer, renameCurrentLayer, setCurrentLayerPosition,\n  setLayerVisibility, moveSelectedToLayer, mergeLayer, mergeAllLayers,\n  leaveContext, setContext\n};\nObject.entries(dr).forEach(([prop, propVal]) => {\n  canvas[prop] = propVal;\n});\ndraw.init(\n  /**\n  * @implements {module:draw.DrawCanvasInit}\n  */\n  {\n    pathActions,\n    getCurrentGroup () {\n      return currentGroup;\n    },\n    setCurrentGroup (cg) {\n      currentGroup = cg;\n    },\n    getSelectedElements,\n    getSVGContent,\n    undoMgr,\n    elData,\n    getCurrentDrawing,\n    clearSelection,\n    call,\n    addCommandToHistory,\n    /**\n     * @fires module:svgcanvas.SvgCanvas#event:changed\n     * @returns {void}\n     */\n    changeSVGContent () {\n      call('changed', [svgcontent]);\n    }\n  }\n);\n\n/**\n* Group: Document functions.\n*/\n\n/**\n* Clears the current document. This is not an undoable action.\n* @function module:svgcanvas.SvgCanvas#clear\n* @fires module:svgcanvas.SvgCanvas#event:cleared\n* @returns {void}\n*/\nthis.clear = function () {\n  pathActions.clear();\n\n  clearSelection();\n\n  // clear the svgcontent node\n  canvas.clearSvgContentElement();\n\n  // create new document\n  canvas.current_drawing_ = new draw.Drawing(svgcontent);\n\n  // create empty first layer\n  canvas.createLayer('Layer 1');\n\n  // clear the undo stack\n  canvas.undoMgr.resetUndoStack();\n\n  // reset the selector manager\n  selectorManager.initGroup();\n\n  // reset the rubber band box\n  rubberBox = selectorManager.getRubberBandBox();\n\n  call('cleared');\n};\n\n// Alias function\nthis.linkControlPoints = pathActions.linkControlPoints;\n\n/**\n* @function module:svgcanvas.SvgCanvas#getContentElem\n* @returns {Element} The content DOM element\n*/\nthis.getContentElem = function () { return svgcontent; };\n\n/**\n* @function module:svgcanvas.SvgCanvas#getRootElem\n* @returns {SVGSVGElement} The root DOM element\n*/\nthis.getRootElem = function () { return svgroot; };\n\n/**\n* @typedef {PlainObject} DimensionsAndZoom\n* @property {Float} w Width\n* @property {Float} h Height\n* @property {Float} zoom Zoom\n*/\n\n/**\n* @function module:svgcanvas.SvgCanvas#getResolution\n* @returns {DimensionsAndZoom} The current dimensions and zoom level in an object\n*/\nconst getResolution = this.getResolution = function () {\n//    const vb = svgcontent.getAttribute('viewBox').split(' ');\n//    return {w:vb[2], h:vb[3], zoom: currentZoom};\n\n  const w = svgcontent.getAttribute('width') / currentZoom;\n  const h = svgcontent.getAttribute('height') / currentZoom;\n\n  return {\n    w,\n    h,\n    zoom: currentZoom\n  };\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#getSnapToGrid\n* @returns {boolean} The current snap to grid setting\n*/\nthis.getSnapToGrid = function () { return curConfig.gridSnapping; };\n\n/**\n* @function module:svgcanvas.SvgCanvas#getVersion\n* @returns {string} A string which describes the revision number of SvgCanvas.\n*/\nthis.getVersion = function () {\n  return 'svgcanvas.js ($Rev$)';\n};\n\n/**\n* Update interface strings with given values.\n* @function module:svgcanvas.SvgCanvas#setUiStrings\n* @param {module:path.uiStrings} strs - Object with strings (see the [locales API]{@link module:locale.LocaleStrings} and the [tutorial]{@tutorial LocaleDocs})\n* @returns {void}\n*/\nthis.setUiStrings = function (strs) {\n  Object.assign(uiStrings, strs.notification);\n  $ = jQueryPluginDBox($, strs.common);\n  pathModule.setUiStrings(strs);\n};\n\n/**\n* Update configuration options with given values.\n* @function module:svgcanvas.SvgCanvas#setConfig\n* @param {module:SVGEditor.Config} opts - Object with options\n* @returns {void}\n*/\nthis.setConfig = function (opts) {\n  Object.assign(curConfig, opts);\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#getTitle\n* @param {Element} [elem]\n* @returns {string|void} the current group/SVG's title contents or\n* `undefined` if no element is passed nd there are no selected elements.\n*/\nthis.getTitle = function (elem) {\n  elem = elem || selectedElements[0];\n  if (!elem) { return undefined; }\n  elem = $(elem).data('gsvg') || $(elem).data('symbol') || elem;\n  const childs = elem.childNodes;\n  for (const child of childs) {\n    if (child.nodeName === 'title') {\n      return child.textContent;\n    }\n  }\n  return '';\n};\n\n/**\n* Sets the group/SVG's title content.\n* @function module:svgcanvas.SvgCanvas#setGroupTitle\n* @param {string} val\n* @todo Combine this with `setDocumentTitle`\n* @returns {void}\n*/\nthis.setGroupTitle = function (val) {\n  let elem = selectedElements[0];\n  elem = $(elem).data('gsvg') || elem;\n\n  const ts = $(elem).children('title');\n\n  const batchCmd = new BatchCommand('Set Label');\n\n  let title;\n  if (!val.length) {\n    // Remove title element\n    const tsNextSibling = ts.nextSibling;\n    batchCmd.addSubCommand(new RemoveElementCommand(ts[0], tsNextSibling, elem));\n    ts.remove();\n  } else if (ts.length) {\n    // Change title contents\n    title = ts[0];\n    batchCmd.addSubCommand(new ChangeElementCommand(title, {'#text': title.textContent}));\n    title.textContent = val;\n  } else {\n    // Add title element\n    title = svgdoc.createElementNS(NS.SVG, 'title');\n    title.textContent = val;\n    $(elem).prepend(title);\n    batchCmd.addSubCommand(new InsertElementCommand(title));\n  }\n\n  addCommandToHistory(batchCmd);\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#getDocumentTitle\n* @returns {string|void} The current document title or an empty string if not found\n*/\nconst getDocumentTitle = this.getDocumentTitle = function () {\n  return canvas.getTitle(svgcontent);\n};\n\n/**\n* Adds/updates a title element for the document with the given name.\n* This is an undoable action.\n* @function module:svgcanvas.SvgCanvas#setDocumentTitle\n* @param {string} newTitle - String with the new title\n* @returns {void}\n*/\nthis.setDocumentTitle = function (newTitle) {\n  const childs = svgcontent.childNodes;\n  let docTitle = false, oldTitle = '';\n\n  const batchCmd = new BatchCommand('Change Image Title');\n\n  for (const child of childs) {\n    if (child.nodeName === 'title') {\n      docTitle = child;\n      oldTitle = docTitle.textContent;\n      break;\n    }\n  }\n  if (!docTitle) {\n    docTitle = svgdoc.createElementNS(NS.SVG, 'title');\n    svgcontent.insertBefore(docTitle, svgcontent.firstChild);\n    // svgcontent.firstChild.before(docTitle); // Ok to replace above with this?\n  }\n\n  if (newTitle.length) {\n    docTitle.textContent = newTitle;\n  } else {\n    // No title given, so element is not necessary\n    docTitle.remove();\n  }\n  batchCmd.addSubCommand(new ChangeElementCommand(docTitle, {'#text': oldTitle}));\n  addCommandToHistory(batchCmd);\n};\n\n/**\n* Returns the editor's namespace URL, optionally adding it to the root element.\n* @function module:svgcanvas.SvgCanvas#getEditorNS\n* @param {boolean} [add] - Indicates whether or not to add the namespace value\n* @returns {string} The editor's namespace URL\n*/\nthis.getEditorNS = function (add) {\n  if (add) {\n    svgcontent.setAttribute('xmlns:se', NS.SE);\n  }\n  return NS.SE;\n};\n\n/**\n* Changes the document's dimensions to the given size.\n* @function module:svgcanvas.SvgCanvas#setResolution\n* @param {Float|\"fit\"} x - Number with the width of the new dimensions in user units.\n* Can also be the string \"fit\" to indicate \"fit to content\".\n* @param {Float} y - Number with the height of the new dimensions in user units.\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {boolean} Indicates if resolution change was successful.\n* It will fail on \"fit to content\" option with no content to fit to.\n*/\nthis.setResolution = function (x, y) {\n  const res = getResolution();\n  const {w, h} = res;\n  let batchCmd;\n\n  if (x === 'fit') {\n    // Get bounding box\n    const bbox = getStrokedBBoxDefaultVisible();\n\n    if (bbox) {\n      batchCmd = new BatchCommand('Fit Canvas to Content');\n      const visEls = getVisibleElements();\n      addToSelection(visEls);\n      const dx = [], dy = [];\n      $.each(visEls, function (i, item) {\n        dx.push(bbox.x * -1);\n        dy.push(bbox.y * -1);\n      });\n\n      const cmd = canvas.moveSelectedElements(dx, dy, true);\n      batchCmd.addSubCommand(cmd);\n      clearSelection();\n\n      x = Math.round(bbox.width);\n      y = Math.round(bbox.height);\n    } else {\n      return false;\n    }\n  }\n  if (x !== w || y !== h) {\n    if (!batchCmd) {\n      batchCmd = new BatchCommand('Change Image Dimensions');\n    }\n\n    x = convertToNum('width', x);\n    y = convertToNum('height', y);\n\n    svgcontent.setAttribute('width', x);\n    svgcontent.setAttribute('height', y);\n\n    this.contentW = x;\n    this.contentH = y;\n    batchCmd.addSubCommand(new ChangeElementCommand(svgcontent, {width: w, height: h}));\n\n    svgcontent.setAttribute('viewBox', [0, 0, x / currentZoom, y / currentZoom].join(' '));\n    batchCmd.addSubCommand(new ChangeElementCommand(svgcontent, {viewBox: ['0 0', w, h].join(' ')}));\n\n    addCommandToHistory(batchCmd);\n    call('changed', [svgcontent]);\n  }\n  return true;\n};\n\n/**\n* @typedef {module:jQueryAttr.Attributes} module:svgcanvas.ElementPositionInCanvas\n* @property {Float} x\n* @property {Float} y\n*/\n\n/**\n* @function module:svgcanvas.SvgCanvas#getOffset\n* @returns {module:svgcanvas.ElementPositionInCanvas} An object with `x`, `y` values indicating the svgcontent element's\n* position in the editor's canvas.\n*/\nthis.getOffset = function () {\n  return $(svgcontent).attr(['x', 'y']);\n};\n\n/**\n * @typedef {PlainObject} module:svgcanvas.ZoomAndBBox\n * @property {Float} zoom\n * @property {module:utilities.BBoxObject} bbox\n */\n/**\n* Sets the zoom level on the canvas-side based on the given value.\n* @function module:svgcanvas.SvgCanvas#setBBoxZoom\n* @param {\"selection\"|\"canvas\"|\"content\"|\"layer\"|module:SVGEditor.BBoxObjectWithFactor} val - Bounding box object to zoom to or string indicating zoom option. Note: the object value type is defined in `svg-editor.js`\n* @param {Integer} editorW - The editor's workarea box's width\n* @param {Integer} editorH - The editor's workarea box's height\n* @returns {module:svgcanvas.ZoomAndBBox|void}\n*/\nthis.setBBoxZoom = function (val, editorW, editorH) {\n  let spacer = 0.85;\n  let bb;\n  const calcZoom = function (bb) { // eslint-disable-line no-shadow\n    if (!bb) { return false; }\n    const wZoom = Math.round((editorW / bb.width) * 100 * spacer) / 100;\n    const hZoom = Math.round((editorH / bb.height) * 100 * spacer) / 100;\n    const zoom = Math.min(wZoom, hZoom);\n    canvas.setZoom(zoom);\n    return {zoom, bbox: bb};\n  };\n\n  if (typeof val === 'object') {\n    bb = val;\n    if (bb.width === 0 || bb.height === 0) {\n      const newzoom = bb.zoom ? bb.zoom : currentZoom * bb.factor;\n      canvas.setZoom(newzoom);\n      return {zoom: currentZoom, bbox: bb};\n    }\n    return calcZoom(bb);\n  }\n\n  switch (val) {\n  case 'selection': {\n    if (!selectedElements[0]) { return undefined; }\n    const selectedElems = $.map(selectedElements, function (n) {\n      if (n) {\n        return n;\n      }\n      return undefined;\n    });\n    bb = getStrokedBBoxDefaultVisible(selectedElems);\n    break;\n  } case 'canvas': {\n    const res = getResolution();\n    spacer = 0.95;\n    bb = {width: res.w, height: res.h, x: 0, y: 0};\n    break;\n  } case 'content':\n    bb = getStrokedBBoxDefaultVisible();\n    break;\n  case 'layer':\n    bb = getStrokedBBoxDefaultVisible(getVisibleElements(getCurrentDrawing().getCurrentLayer()));\n    break;\n  default:\n    return undefined;\n  }\n  return calcZoom(bb);\n};\n\n/**\n* The zoom level has changed. Supplies the new zoom level as a number (not percentage).\n* @event module:svgcanvas.SvgCanvas#event:ext_zoomChanged\n* @type {Float}\n*/\n/**\n* The bottom panel was updated.\n* @event module:svgcanvas.SvgCanvas#event:ext_toolButtonStateUpdate\n* @type {PlainObject}\n* @property {boolean} nofill Indicates fill is disabled\n* @property {boolean} nostroke Indicates stroke is disabled\n*/\n/**\n* The element selection has changed (elements were added/removed from selection).\n* @event module:svgcanvas.SvgCanvas#event:ext_selectedChanged\n* @type {PlainObject}\n* @property {Element[]} elems Array of the newly selected elements\n* @property {Element|null} selectedElement The single selected element\n* @property {boolean} multiselected Indicates whether one or more elements were selected\n*/\n/**\n* Called when part of element is in process of changing, generally on\n* mousemove actions like rotate, move, etc.\n* @event module:svgcanvas.SvgCanvas#event:ext_elementTransition\n* @type {PlainObject}\n* @property {Element[]} elems Array of transitioning elements\n*/\n/**\n* One or more elements were changed.\n* @event module:svgcanvas.SvgCanvas#event:ext_elementChanged\n* @type {PlainObject}\n* @property {Element[]} elems Array of the affected elements\n*/\n/**\n* Invoked as soon as the locale is ready.\n* @event module:svgcanvas.SvgCanvas#event:ext_langReady\n* @type {PlainObject}\n* @property {string} lang The two-letter language code\n* @property {module:SVGEditor.uiStrings} uiStrings\n* @property {module:SVGEditor~ImportLocale} importLocale\n*/\n/**\n* The language was changed. Two-letter code of the new language.\n* @event module:svgcanvas.SvgCanvas#event:ext_langChanged\n* @type {string}\n*/\n/**\n* Means for an extension to add locale data. The two-letter language code.\n* @event module:svgcanvas.SvgCanvas#event:ext_addLangData\n* @type {PlainObject}\n* @property {string} lang\n* @property {module:SVGEditor~ImportLocale} importLocale\n*/\n/**\n * Called when new image is created.\n * @event module:svgcanvas.SvgCanvas#event:ext_onNewDocument\n * @type {void}\n */\n/**\n * Called when sidepanel is resized or toggled.\n * @event module:svgcanvas.SvgCanvas#event:ext_workareaResized\n * @type {void}\n*/\n/**\n * Called upon addition of the extension, or, if svgicons are set,\n * after the icons are ready when extension SVG icons have loaded.\n * @event module:svgcanvas.SvgCanvas#event:ext_callback\n * @type {void}\n*/\n\n/**\n* Sets the zoom to the given level.\n* @function module:svgcanvas.SvgCanvas#setZoom\n* @param {Float} zoomLevel - Float indicating the zoom level to change to\n* @fires module:svgcanvas.SvgCanvas#event:ext_zoomChanged\n* @returns {void}\n*/\nthis.setZoom = function (zoomLevel) {\n  const res = getResolution();\n  svgcontent.setAttribute('viewBox', '0 0 ' + res.w / zoomLevel + ' ' + res.h / zoomLevel);\n  currentZoom = zoomLevel;\n  $.each(selectedElements, function (i, elem) {\n    if (!elem) { return; }\n    selectorManager.requestSelector(elem).resize();\n  });\n  pathActions.zoomChange();\n  runExtensions('zoomChanged', /** @type {module:svgcanvas.SvgCanvas#event:ext_zoomChanged} */ zoomLevel);\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#getMode\n* @returns {string} The current editor mode string\n*/\nthis.getMode = function () {\n  return currentMode;\n};\n\n/**\n* Sets the editor's mode to the given string.\n* @function module:svgcanvas.SvgCanvas#setMode\n* @param {string} name - String with the new mode to change to\n* @returns {void}\n*/\nthis.setMode = function (name) {\n  pathActions.clear(true);\n  textActions.clear();\n  curProperties = (selectedElements[0] && selectedElements[0].nodeName === 'text') ? curText : curShape;\n  currentMode = name;\n};\n\n/**\n* Group: Element Styling.\n*/\n\n/**\n* @typedef {PlainObject} module:svgcanvas.PaintOptions\n* @property {\"solidColor\"} type\n*/\n\n/**\n* @function module:svgcanvas.SvgCanvas#getColor\n* @param {string} type\n* @returns {string|module:svgcanvas.PaintOptions|Float|module:jGraduate~Paint} The current fill/stroke option\n*/\nthis.getColor = function (type) {\n  return curProperties[type];\n};\n\n/**\n* Change the current stroke/fill color/gradient value.\n* @function module:svgcanvas.SvgCanvas#setColor\n* @param {string} type - String indicating fill or stroke\n* @param {string} val - The value to set the stroke attribute to\n* @param {boolean} preventUndo - Boolean indicating whether or not this should be an undoable option\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {void}\n*/\nthis.setColor = function (type, val, preventUndo) {\n  curShape[type] = val;\n  curProperties[type + '_paint'] = {type: 'solidColor'};\n  const elems = [];\n  /**\n   *\n   * @param {Element} e\n   * @returns {void}\n   */\n  function addNonG (e) {\n    if (e.nodeName !== 'g') {\n      elems.push(e);\n    }\n  }\n  let i = selectedElements.length;\n  while (i--) {\n    const elem = selectedElements[i];\n    if (elem) {\n      if (elem.tagName === 'g') {\n        walkTree(elem, addNonG);\n      } else if (type === 'fill') {\n        if (elem.tagName !== 'polyline' && elem.tagName !== 'line') {\n          elems.push(elem);\n        }\n      } else {\n        elems.push(elem);\n      }\n    }\n  }\n  if (elems.length > 0) {\n    if (!preventUndo) {\n      changeSelectedAttribute(type, val, elems);\n      call('changed', elems);\n    } else {\n      changeSelectedAttributeNoUndo(type, val, elems);\n    }\n  }\n};\n\n/**\n* Apply the current gradient to selected element's fill or stroke.\n* @function module:svgcanvas.SvgCanvas#setGradient\n* @param {\"fill\"|\"stroke\"} type - String indicating \"fill\" or \"stroke\" to apply to an element\n* @returns {void}\n*/\nconst setGradient = this.setGradient = function (type) {\n  if (!curProperties[type + '_paint'] || curProperties[type + '_paint'].type === 'solidColor') { return; }\n  let grad = canvas[type + 'Grad'];\n  // find out if there is a duplicate gradient already in the defs\n  const duplicateGrad = findDuplicateGradient(grad);\n  const defs = findDefs();\n  // no duplicate found, so import gradient into defs\n  if (!duplicateGrad) {\n    // const origGrad = grad;\n    grad = defs.appendChild(svgdoc.importNode(grad, true));\n    // get next id and set it on the grad\n    grad.id = getNextId();\n  } else { // use existing gradient\n    grad = duplicateGrad;\n  }\n  canvas.setColor(type, 'url(#' + grad.id + ')');\n};\n\n/**\n* Check if exact gradient already exists.\n* @function module:svgcanvas~findDuplicateGradient\n* @param {SVGGradientElement} grad - The gradient DOM element to compare to others\n* @returns {SVGGradientElement} The existing gradient if found, `null` if not\n*/\nconst findDuplicateGradient = function (grad) {\n  const defs = findDefs();\n  const existingGrads = $(defs).find('linearGradient, radialGradient');\n  let i = existingGrads.length;\n  const radAttrs = ['r', 'cx', 'cy', 'fx', 'fy'];\n  while (i--) {\n    const og = existingGrads[i];\n    if (grad.tagName === 'linearGradient') {\n      if (grad.getAttribute('x1') !== og.getAttribute('x1') ||\n        grad.getAttribute('y1') !== og.getAttribute('y1') ||\n        grad.getAttribute('x2') !== og.getAttribute('x2') ||\n        grad.getAttribute('y2') !== og.getAttribute('y2')\n      ) {\n        continue;\n      }\n    } else {\n      const gradAttrs = $(grad).attr(radAttrs);\n      const ogAttrs = $(og).attr(radAttrs);\n\n      let diff = false;\n      $.each(radAttrs, function (j, attr) {\n        if (gradAttrs[attr] !== ogAttrs[attr]) { diff = true; }\n      });\n\n      if (diff) { continue; }\n    }\n\n    // else could be a duplicate, iterate through stops\n    const stops = grad.getElementsByTagNameNS(NS.SVG, 'stop');\n    const ostops = og.getElementsByTagNameNS(NS.SVG, 'stop');\n\n    if (stops.length !== ostops.length) {\n      continue;\n    }\n\n    let j = stops.length;\n    while (j--) {\n      const stop = stops[j];\n      const ostop = ostops[j];\n\n      if (stop.getAttribute('offset') !== ostop.getAttribute('offset') ||\n        stop.getAttribute('stop-opacity') !== ostop.getAttribute('stop-opacity') ||\n        stop.getAttribute('stop-color') !== ostop.getAttribute('stop-color')) {\n        break;\n      }\n    }\n\n    if (j === -1) {\n      return og;\n    }\n  } // for each gradient in defs\n\n  return null;\n};\n\n/**\n* Set a color/gradient to a fill/stroke.\n* @function module:svgcanvas.SvgCanvas#setPaint\n* @param {\"fill\"|\"stroke\"} type - String with \"fill\" or \"stroke\"\n* @param {module:jGraduate.jGraduatePaintOptions} paint - The jGraduate paint object to apply\n* @returns {void}\n*/\nthis.setPaint = function (type, paint) {\n  // make a copy\n  const p = new $.jGraduate.Paint(paint);\n  this.setPaintOpacity(type, p.alpha / 100, true);\n\n  // now set the current paint object\n  curProperties[type + '_paint'] = p;\n  switch (p.type) {\n  case 'solidColor':\n    this.setColor(type, p.solidColor !== 'none' ? '#' + p.solidColor : 'none');\n    break;\n  case 'linearGradient':\n  case 'radialGradient':\n    canvas[type + 'Grad'] = p[p.type];\n    setGradient(type);\n    break;\n  }\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#setStrokePaint\n* @param {module:jGraduate~Paint} paint\n* @returns {void}\n*/\nthis.setStrokePaint = function (paint) {\n  this.setPaint('stroke', paint);\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#setFillPaint\n* @param {module:jGraduate~Paint} paint\n* @returns {void}\n*/\nthis.setFillPaint = function (paint) {\n  this.setPaint('fill', paint);\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#getStrokeWidth\n* @returns {Float|string} The current stroke-width value\n*/\nthis.getStrokeWidth = function () {\n  return curProperties.stroke_width;\n};\n\n/**\n* Sets the stroke width for the current selected elements.\n* When attempting to set a line's width to 0, this changes it to 1 instead.\n* @function module:svgcanvas.SvgCanvas#setStrokeWidth\n* @param {Float} val - A Float indicating the new stroke width value\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {void}\n*/\nthis.setStrokeWidth = function (val) {\n  if (val === 0 && ['line', 'path'].includes(currentMode)) {\n    canvas.setStrokeWidth(1);\n    return;\n  }\n  curProperties.stroke_width = val;\n\n  const elems = [];\n  /**\n   *\n   * @param {Element} e\n   * @returns {void}\n   */\n  function addNonG (e) {\n    if (e.nodeName !== 'g') {\n      elems.push(e);\n    }\n  }\n  let i = selectedElements.length;\n  while (i--) {\n    const elem = selectedElements[i];\n    if (elem) {\n      if (elem.tagName === 'g') {\n        walkTree(elem, addNonG);\n      } else {\n        elems.push(elem);\n      }\n    }\n  }\n  if (elems.length > 0) {\n    changeSelectedAttribute('stroke-width', val, elems);\n    call('changed', selectedElements);\n  }\n};\n\n/**\n* Set the given stroke-related attribute the given value for selected elements.\n* @function module:svgcanvas.SvgCanvas#setStrokeAttr\n* @param {string} attr - String with the attribute name\n* @param {string|Float} val - String or number with the attribute value\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {void}\n*/\nthis.setStrokeAttr = function (attr, val) {\n  curShape[attr.replace('-', '_')] = val;\n  const elems = [];\n\n  let i = selectedElements.length;\n  while (i--) {\n    const elem = selectedElements[i];\n    if (elem) {\n      if (elem.tagName === 'g') {\n        walkTree(elem, function (e) { if (e.nodeName !== 'g') { elems.push(e); } });\n      } else {\n        elems.push(elem);\n      }\n    }\n  }\n  if (elems.length > 0) {\n    changeSelectedAttribute(attr, val, elems);\n    call('changed', selectedElements);\n  }\n};\n\n/**\n* @typedef {PlainObject} module:svgcanvas.StyleOptions\n* @property {string} fill\n* @property {Float} fill_opacity\n* @property {string} stroke\n* @property {Float} stroke_width\n* @property {string} stroke_dasharray\n* @property {string} stroke_linejoin\n* @property {string} stroke_linecap\n* @property {Float} stroke_opacity\n* @property {Float} opacity\n*/\n\n/**\n* @function module:svgcanvas.SvgCanvas#getStyle\n* @returns {module:svgcanvas.StyleOptions} current style options\n*/\nthis.getStyle = function () {\n  return curShape;\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#getOpacity\n* @returns {Float} the current opacity\n*/\nthis.getOpacity = getOpacity;\n\n/**\n* Sets the given opacity on the current selected elements.\n* @function module:svgcanvas.SvgCanvas#setOpacity\n* @param {string} val\n* @returns {void}\n*/\nthis.setOpacity = function (val) {\n  curShape.opacity = val;\n  changeSelectedAttribute('opacity', val);\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#getFillOpacity\n* @returns {Float} the current fill opacity\n*/\nthis.getFillOpacity = function () {\n  return curShape.fill_opacity;\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#getStrokeOpacity\n* @returns {string} the current stroke opacity\n*/\nthis.getStrokeOpacity = function () {\n  return curShape.stroke_opacity;\n};\n\n/**\n* Sets the current fill/stroke opacity.\n* @function module:svgcanvas.SvgCanvas#setPaintOpacity\n* @param {string} type - String with \"fill\" or \"stroke\"\n* @param {Float} val - Float with the new opacity value\n* @param {boolean} preventUndo - Indicates whether or not this should be an undoable action\n* @returns {void}\n*/\nthis.setPaintOpacity = function (type, val, preventUndo) {\n  curShape[type + '_opacity'] = val;\n  if (!preventUndo) {\n    changeSelectedAttribute(type + '-opacity', val);\n  } else {\n    changeSelectedAttributeNoUndo(type + '-opacity', val);\n  }\n};\n\n/**\n* Gets the current fill/stroke opacity.\n* @function module:svgcanvas.SvgCanvas#getPaintOpacity\n* @param {\"fill\"|\"stroke\"} type - String with \"fill\" or \"stroke\"\n* @returns {Float} Fill/stroke opacity\n*/\nthis.getPaintOpacity = function (type) {\n  return type === 'fill' ? this.getFillOpacity() : this.getStrokeOpacity();\n};\n\n/**\n* Gets the `stdDeviation` blur value of the given element.\n* @function module:svgcanvas.SvgCanvas#getBlur\n* @param {Element} elem - The element to check the blur value for\n* @returns {string} stdDeviation blur attribute value\n*/\nthis.getBlur = function (elem) {\n  let val = 0;\n  // const elem = selectedElements[0];\n\n  if (elem) {\n    const filterUrl = elem.getAttribute('filter');\n    if (filterUrl) {\n      const blur = getElem(elem.id + '_blur');\n      if (blur) {\n        val = blur.firstChild.getAttribute('stdDeviation');\n      }\n    }\n  }\n  return val;\n};\n\n(function () {\nlet curCommand = null;\nlet filter = null;\nlet filterHidden = false;\n\n/**\n* Sets the `stdDeviation` blur value on the selected element without being undoable.\n* @function module:svgcanvas.SvgCanvas#setBlurNoUndo\n* @param {Float} val - The new `stdDeviation` value\n* @returns {void}\n*/\ncanvas.setBlurNoUndo = function (val) {\n  if (!filter) {\n    canvas.setBlur(val);\n    return;\n  }\n  if (val === 0) {\n    // Don't change the StdDev, as that will hide the element.\n    // Instead, just remove the value for \"filter\"\n    changeSelectedAttributeNoUndo('filter', '');\n    filterHidden = true;\n  } else {\n    const elem = selectedElements[0];\n    if (filterHidden) {\n      changeSelectedAttributeNoUndo('filter', 'url(#' + elem.id + '_blur)');\n    }\n    if (isWebkit()) {\n      // console.log('e', elem); // eslint-disable-line no-console\n      elem.removeAttribute('filter');\n      elem.setAttribute('filter', 'url(#' + elem.id + '_blur)');\n    }\n    changeSelectedAttributeNoUndo('stdDeviation', val, [filter.firstChild]);\n    canvas.setBlurOffsets(filter, val);\n  }\n};\n\n/**\n *\n * @returns {void}\n */\nfunction finishChange () {\n  const bCmd = canvas.undoMgr.finishUndoableChange();\n  curCommand.addSubCommand(bCmd);\n  addCommandToHistory(curCommand);\n  curCommand = null;\n  filter = null;\n}\n\n/**\n* Sets the `x`, `y`, `width`, `height` values of the filter element in order to\n* make the blur not be clipped. Removes them if not neeeded.\n* @function module:svgcanvas.SvgCanvas#setBlurOffsets\n* @param {Element} filterElem - The filter DOM element to update\n* @param {Float} stdDev - The standard deviation value on which to base the offset size\n* @returns {void}\n*/\ncanvas.setBlurOffsets = function (filterElem, stdDev) {\n  if (stdDev > 3) {\n    // TODO: Create algorithm here where size is based on expected blur\n    assignAttributes(filterElem, {\n      x: '-50%',\n      y: '-50%',\n      width: '200%',\n      height: '200%'\n    }, 100);\n  // Removing these attributes hides text in Chrome (see Issue 579)\n  } else if (!isWebkit()) {\n      filterElem.removeAttribute('x');\n      filterElem.removeAttribute('y');\n      filterElem.removeAttribute('width');\n      filterElem.removeAttribute('height');\n  }\n};\n\n/**\n* Adds/updates the blur filter to the selected element.\n* @function module:svgcanvas.SvgCanvas#setBlur\n* @param {Float} val - Float with the new `stdDeviation` blur value\n* @param {boolean} complete - Whether or not the action should be completed (to add to the undo manager)\n* @returns {void}\n*/\ncanvas.setBlur = function (val, complete) {\n  if (curCommand) {\n    finishChange();\n    return;\n  }\n\n  // Looks for associated blur, creates one if not found\n  const elem = selectedElements[0];\n  const elemId = elem.id;\n  filter = getElem(elemId + '_blur');\n\n  val -= 0;\n\n  const batchCmd = new BatchCommand();\n\n  // Blur found!\n  if (filter) {\n    if (val === 0) {\n      filter = null;\n    }\n  } else {\n    // Not found, so create\n    const newblur = addSVGElementFromJson({element: 'feGaussianBlur',\n      attr: {\n        in: 'SourceGraphic',\n        stdDeviation: val\n      }\n    });\n\n    filter = addSVGElementFromJson({element: 'filter',\n      attr: {\n        id: elemId + '_blur'\n      }\n    });\n\n    filter.append(newblur);\n    findDefs().append(filter);\n\n    batchCmd.addSubCommand(new InsertElementCommand(filter));\n  }\n\n  const changes = {filter: elem.getAttribute('filter')};\n\n  if (val === 0) {\n    elem.removeAttribute('filter');\n    batchCmd.addSubCommand(new ChangeElementCommand(elem, changes));\n    return;\n  }\n\n  changeSelectedAttribute('filter', 'url(#' + elemId + '_blur)');\n  batchCmd.addSubCommand(new ChangeElementCommand(elem, changes));\n  canvas.setBlurOffsets(filter, val);\n\n  curCommand = batchCmd;\n  canvas.undoMgr.beginUndoableChange('stdDeviation', [filter ? filter.firstChild : null]);\n  if (complete) {\n    canvas.setBlurNoUndo(val);\n    finishChange();\n  }\n};\n}());\n\n/**\n* Check whether selected element is bold or not.\n* @function module:svgcanvas.SvgCanvas#getBold\n* @returns {boolean} Indicates whether or not element is bold\n*/\nthis.getBold = function () {\n  // should only have one element selected\n  const selected = selectedElements[0];\n  if (!isNullish(selected) && selected.tagName === 'text' &&\n    isNullish(selectedElements[1])) {\n    return (selected.getAttribute('font-weight') === 'bold');\n  }\n  return false;\n};\n\n/**\n* Make the selected element bold or normal.\n* @function module:svgcanvas.SvgCanvas#setBold\n* @param {boolean} b - Indicates bold (`true`) or normal (`false`)\n* @returns {void}\n*/\nthis.setBold = function (b) {\n  const selected = selectedElements[0];\n  if (!isNullish(selected) && selected.tagName === 'text' &&\n    isNullish(selectedElements[1])) {\n    changeSelectedAttribute('font-weight', b ? 'bold' : 'normal');\n  }\n  if (!selectedElements[0].textContent) {\n    textActions.setCursor();\n  }\n};\n\n/**\n* Check whether selected element is in italics or not.\n* @function module:svgcanvas.SvgCanvas#getItalic\n* @returns {boolean} Indicates whether or not element is italic\n*/\nthis.getItalic = function () {\n  const selected = selectedElements[0];\n  if (!isNullish(selected) && selected.tagName === 'text' &&\n    isNullish(selectedElements[1])) {\n    return (selected.getAttribute('font-style') === 'italic');\n  }\n  return false;\n};\n\n/**\n* Make the selected element italic or normal.\n* @function module:svgcanvas.SvgCanvas#setItalic\n* @param {boolean} i - Indicates italic (`true`) or normal (`false`)\n* @returns {void}\n*/\nthis.setItalic = function (i) {\n  const selected = selectedElements[0];\n  if (!isNullish(selected) && selected.tagName === 'text' &&\n    isNullish(selectedElements[1])) {\n    changeSelectedAttribute('font-style', i ? 'italic' : 'normal');\n  }\n  if (!selectedElements[0].textContent) {\n    textActions.setCursor();\n  }\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#getFontFamily\n* @returns {string} The current font family\n*/\nthis.getFontFamily = function () {\n  return curText.font_family;\n};\n\n/**\n* Set the new font family.\n* @function module:svgcanvas.SvgCanvas#setFontFamily\n* @param {string} val - String with the new font family\n* @returns {void}\n*/\nthis.setFontFamily = function (val) {\n  curText.font_family = val;\n  changeSelectedAttribute('font-family', val);\n  if (selectedElements[0] && !selectedElements[0].textContent) {\n    textActions.setCursor();\n  }\n};\n\n/**\n* Set the new font color.\n* @function module:svgcanvas.SvgCanvas#setFontColor\n* @param {string} val - String with the new font color\n* @returns {void}\n*/\nthis.setFontColor = function (val) {\n  curText.fill = val;\n  changeSelectedAttribute('fill', val);\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#getFontColor\n* @returns {string} The current font color\n*/\nthis.getFontColor = function () {\n  return curText.fill;\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#getFontSize\n* @returns {Float} The current font size\n*/\nthis.getFontSize = function () {\n  return curText.font_size;\n};\n\n/**\n* Applies the given font size to the selected element.\n* @function module:svgcanvas.SvgCanvas#setFontSize\n* @param {Float} val - Float with the new font size\n* @returns {void}\n*/\nthis.setFontSize = function (val) {\n  curText.font_size = val;\n  changeSelectedAttribute('font-size', val);\n  if (!selectedElements[0].textContent) {\n    textActions.setCursor();\n  }\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#getText\n* @returns {string} The current text (`textContent`) of the selected element\n*/\nthis.getText = function () {\n  const selected = selectedElements[0];\n  if (isNullish(selected)) { return ''; }\n  return selected.textContent;\n};\n\n/**\n* Updates the text element with the given string.\n* @function module:svgcanvas.SvgCanvas#setTextContent\n* @param {string} val - String with the new text\n* @returns {void}\n*/\nthis.setTextContent = function (val) {\n  changeSelectedAttribute('#text', val);\n  textActions.init(val);\n  textActions.setCursor();\n};\n\n/**\n* Sets the new image URL for the selected image element. Updates its size if\n* a new URL is given.\n* @function module:svgcanvas.SvgCanvas#setImageURL\n* @param {string} val - String with the image URL/path\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {void}\n*/\nthis.setImageURL = function (val) {\n  const elem = selectedElements[0];\n  if (!elem) { return; }\n\n  const attrs = $(elem).attr(['width', 'height']);\n  const setsize = (!attrs.width || !attrs.height);\n\n  const curHref = getHref(elem);\n\n  // Do nothing if no URL change or size change\n  if (curHref === val && !setsize) {\n    return;\n  }\n\n  const batchCmd = new BatchCommand('Change Image URL');\n\n  setHref(elem, val);\n  batchCmd.addSubCommand(new ChangeElementCommand(elem, {\n    '#href': curHref\n  }));\n\n  $(new Image()).load(function () {\n    const changes = $(elem).attr(['width', 'height']);\n\n    $(elem).attr({\n      width: this.width,\n      height: this.height\n    });\n\n    selectorManager.requestSelector(elem).resize();\n\n    batchCmd.addSubCommand(new ChangeElementCommand(elem, changes));\n    addCommandToHistory(batchCmd);\n    call('changed', [elem]);\n  }).attr('src', val);\n};\n\n/**\n* Sets the new link URL for the selected anchor element.\n* @function module:svgcanvas.SvgCanvas#setLinkURL\n* @param {string} val - String with the link URL/path\n* @returns {void}\n*/\nthis.setLinkURL = function (val) {\n  let elem = selectedElements[0];\n  if (!elem) { return; }\n  if (elem.tagName !== 'a') {\n    // See if parent is an anchor\n    const parentsA = $(elem).parents('a');\n    if (parentsA.length) {\n      elem = parentsA[0];\n    } else {\n      return;\n    }\n  }\n\n  const curHref = getHref(elem);\n\n  if (curHref === val) { return; }\n\n  const batchCmd = new BatchCommand('Change Link URL');\n\n  setHref(elem, val);\n  batchCmd.addSubCommand(new ChangeElementCommand(elem, {\n    '#href': curHref\n  }));\n\n  addCommandToHistory(batchCmd);\n};\n\n/**\n* Sets the `rx` and `ry` values to the selected `rect` element\n* to change its corner radius.\n* @function module:svgcanvas.SvgCanvas#setRectRadius\n* @param {string|Float} val - The new radius\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {void}\n*/\nthis.setRectRadius = function (val) {\n  const selected = selectedElements[0];\n  if (!isNullish(selected) && selected.tagName === 'rect') {\n    const r = selected.getAttribute('rx');\n    if (r !== String(val)) {\n      selected.setAttribute('rx', val);\n      selected.setAttribute('ry', val);\n      addCommandToHistory(new ChangeElementCommand(selected, {rx: r, ry: r}, 'Radius'));\n      call('changed', [selected]);\n    }\n  }\n};\n\n/**\n* Wraps the selected element(s) in an anchor element or converts group to one.\n* @function module:svgcanvas.SvgCanvas#makeHyperlink\n* @param {string} url\n* @returns {void}\n*/\nthis.makeHyperlink = function (url) {\n  canvas.groupSelectedElements('a', url);\n\n  // TODO: If element is a single \"g\", convert to \"a\"\n  //  if (selectedElements.length > 1 && selectedElements[1]) {\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#removeHyperlink\n* @returns {void}\n*/\nthis.removeHyperlink = function () {\n  canvas.ungroupSelectedElement();\n};\n\n/**\n* Group: Element manipulation.\n*/\n\n/**\n* Sets the new segment type to the selected segment(s).\n* @function module:svgcanvas.SvgCanvas#setSegType\n* @param {Integer} newType - New segment type. See {@link https://www.w3.org/TR/SVG/paths.html#InterfaceSVGPathSeg} for list\n* @returns {void}\n*/\nthis.setSegType = function (newType) {\n  pathActions.setSegType(newType);\n};\n\n/**\n* Convert selected element to a path, or get the BBox of an element-as-path.\n* @function module:svgcanvas.SvgCanvas#convertToPath\n* @todo (codedread): Remove the getBBox argument and split this function into two.\n* @param {Element} elem - The DOM element to be converted\n* @param {boolean} getBBox - Boolean on whether or not to only return the path's BBox\n* @returns {void|DOMRect|false|SVGPathElement|null} If the getBBox flag is true, the resulting path's bounding box object.\n* Otherwise the resulting path element is returned.\n*/\nthis.convertToPath = function (elem, getBBox) {\n  if (isNullish(elem)) {\n    const elems = selectedElements;\n    $.each(elems, function (i, el) {\n      if (el) { canvas.convertToPath(el); }\n    });\n    return undefined;\n  }\n  if (getBBox) {\n    return getBBoxOfElementAsPath(elem, addSVGElementFromJson, pathActions);\n  }\n  // TODO: Why is this applying attributes from curShape, then inside utilities.convertToPath it's pulling addition attributes from elem?\n  // TODO: If convertToPath is called with one elem, curShape and elem are probably the same; but calling with multiple is a bug or cool feature.\n  const attrs = {\n    fill: curShape.fill,\n    'fill-opacity': curShape.fill_opacity,\n    stroke: curShape.stroke,\n    'stroke-width': curShape.stroke_width,\n    'stroke-dasharray': curShape.stroke_dasharray,\n    'stroke-linejoin': curShape.stroke_linejoin,\n    'stroke-linecap': curShape.stroke_linecap,\n    'stroke-opacity': curShape.stroke_opacity,\n    opacity: curShape.opacity,\n    visibility: 'hidden'\n  };\n  return convertToPath(\n    elem, attrs, addSVGElementFromJson, pathActions,\n    clearSelection, addToSelection, hstry, addCommandToHistory\n  );\n};\n\n/**\n* This function makes the changes to the elements. It does not add the change\n* to the history stack.\n* @param {string} attr - Attribute name\n* @param {string|Float} newValue - String or number with the new attribute value\n* @param {Element[]} elems - The DOM elements to apply the change to\n* @returns {void}\n*/\nconst changeSelectedAttributeNoUndo = function (attr, newValue, elems) {\n  if (currentMode === 'pathedit') {\n    // Editing node\n    pathActions.moveNode(attr, newValue);\n  }\n  elems = elems || selectedElements;\n  let i = elems.length;\n  const noXYElems = ['g', 'polyline', 'path'];\n  // const goodGAttrs = ['transform', 'opacity', 'filter'];\n\n  while (i--) {\n    let elem = elems[i];\n    if (isNullish(elem)) { continue; }\n\n    // Set x,y vals on elements that don't have them\n    if ((attr === 'x' || attr === 'y') && noXYElems.includes(elem.tagName)) {\n      const bbox = getStrokedBBoxDefaultVisible([elem]);\n      const diffX = attr === 'x' ? newValue - bbox.x : 0;\n      const diffY = attr === 'y' ? newValue - bbox.y : 0;\n      canvas.moveSelectedElements(diffX * currentZoom, diffY * currentZoom, true);\n      continue;\n    }\n\n    // only allow the transform/opacity/filter attribute to change on <g> elements, slightly hacky\n    // TODO: Missing statement body\n    // if (elem.tagName === 'g' && goodGAttrs.includes(attr)) {}\n    let oldval = attr === '#text' ? elem.textContent : elem.getAttribute(attr);\n    if (isNullish(oldval)) { oldval = ''; }\n    if (oldval !== String(newValue)) {\n      if (attr === '#text') {\n        // const oldW = utilsGetBBox(elem).width;\n        elem.textContent = newValue;\n\n        // FF bug occurs on on rotated elements\n        if ((/rotate/).test(elem.getAttribute('transform'))) {\n          elem = ffClone(elem);\n        }\n        // Hoped to solve the issue of moving text with text-anchor=\"start\",\n        // but this doesn't actually fix it. Hopefully on the right track, though. -Fyrd\n        // const box = getBBox(elem), left = box.x, top = box.y, {width, height} = box,\n        //   dx = width - oldW, dy = 0;\n        // const angle = getRotationAngle(elem, true);\n        // if (angle) {\n        //   const r = Math.sqrt(dx * dx + dy * dy);\n        //   const theta = Math.atan2(dy, dx) - angle;\n        //   dx = r * Math.cos(theta);\n        //   dy = r * Math.sin(theta);\n        //\n        //   elem.setAttribute('x', elem.getAttribute('x') - dx);\n        //   elem.setAttribute('y', elem.getAttribute('y') - dy);\n        // }\n      } else if (attr === '#href') {\n        setHref(elem, newValue);\n      } else { elem.setAttribute(attr, newValue); }\n\n      // Go into \"select\" mode for text changes\n      // NOTE: Important that this happens AFTER elem.setAttribute() or else attributes like\n      // font-size can get reset to their old value, ultimately by svgEditor.updateContextPanel(),\n      // after calling textActions.toSelectMode() below\n      if (currentMode === 'textedit' && attr !== '#text' && elem.textContent.length) {\n        textActions.toSelectMode(elem);\n      }\n\n      // if (i === 0) {\n      //   selectedBBoxes[0] = utilsGetBBox(elem);\n      // }\n\n      // Use the Firefox ffClone hack for text elements with gradients or\n      // where other text attributes are changed.\n      if (isGecko() && elem.nodeName === 'text' && (/rotate/).test(elem.getAttribute('transform'))) {\n        if (String(newValue).startsWith('url') || (['font-size', 'font-family', 'x', 'y'].includes(attr) && elem.textContent)) {\n          elem = ffClone(elem);\n        }\n      }\n      // Timeout needed for Opera & Firefox\n      // codedread: it is now possible for this function to be called with elements\n      // that are not in the selectedElements array, we need to only request a\n      // selector if the element is in that array\n      if (selectedElements.includes(elem)) {\n        setTimeout(function () {\n          // Due to element replacement, this element may no longer\n          // be part of the DOM\n          if (!elem.parentNode) { return; }\n          selectorManager.requestSelector(elem).resize();\n        }, 0);\n      }\n      // if this element was rotated, and we changed the position of this element\n      // we need to update the rotational transform attribute\n      const angle = getRotationAngle(elem);\n      if (angle !== 0 && attr !== 'transform') {\n        const tlist = getTransformList(elem);\n        let n = tlist.numberOfItems;\n        while (n--) {\n          const xform = tlist.getItem(n);\n          if (xform.type === 4) {\n            // remove old rotate\n            tlist.removeItem(n);\n\n            const box = utilsGetBBox(elem);\n            const center = transformPoint(box.x + box.width / 2, box.y + box.height / 2, transformListToTransform(tlist).matrix);\n            const cx = center.x,\n              cy = center.y;\n            const newrot = svgroot.createSVGTransform();\n            newrot.setRotate(angle, cx, cy);\n            tlist.insertItemBefore(newrot, n);\n            break;\n          }\n        }\n      }\n    } // if oldValue != newValue\n  } // for each elem\n};\n\n/**\n* Change the given/selected element and add the original value to the history stack.\n* If you want to change all `selectedElements`, ignore the `elems` argument.\n* If you want to change only a subset of `selectedElements`, then send the\n* subset to this function in the `elems` argument.\n* @function module:svgcanvas.SvgCanvas#changeSelectedAttribute\n* @param {string} attr - String with the attribute name\n* @param {string|Float} val - String or number with the new attribute value\n* @param {Element[]} elems - The DOM elements to apply the change to\n* @returns {void}\n*/\nconst changeSelectedAttribute = this.changeSelectedAttribute = function (attr, val, elems) {\n  elems = elems || selectedElements;\n  canvas.undoMgr.beginUndoableChange(attr, elems);\n  // const i = elems.length;\n\n  changeSelectedAttributeNoUndo(attr, val, elems);\n\n  const batchCmd = canvas.undoMgr.finishUndoableChange();\n  if (!batchCmd.isEmpty()) {\n    addCommandToHistory(batchCmd);\n  }\n};\n\n/**\n* Removes all selected elements from the DOM and adds the change to the\n* history stack.\n* @function module:svgcanvas.SvgCanvas#deleteSelectedElements\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {void}\n*/\nthis.deleteSelectedElements = function () {\n  const batchCmd = new BatchCommand('Delete Elements');\n  const len = selectedElements.length;\n  const selectedCopy = []; // selectedElements is being deleted\n\n  for (let i = 0; i < len; ++i) {\n    const selected = selectedElements[i];\n    if (isNullish(selected)) { break; }\n\n    let parent = selected.parentNode;\n    let t = selected;\n\n    // this will unselect the element and remove the selectedOutline\n    selectorManager.releaseSelector(t);\n\n    // Remove the path if present.\n    pathModule.removePath_(t.id);\n\n    // Get the parent if it's a single-child anchor\n    if (parent.tagName === 'a' && parent.childNodes.length === 1) {\n      t = parent;\n      parent = parent.parentNode;\n    }\n\n    const {nextSibling} = t;\n    t.remove();\n    const elem = t;\n    selectedCopy.push(selected); // for the copy\n    batchCmd.addSubCommand(new RemoveElementCommand(elem, nextSibling, parent));\n  }\n  selectedElements = [];\n\n  if (!batchCmd.isEmpty()) { addCommandToHistory(batchCmd); }\n  call('changed', selectedCopy);\n  clearSelection();\n};\n\n/**\n* Removes all selected elements from the DOM and adds the change to the\n* history stack. Remembers removed elements on the clipboard.\n* @function module:svgcanvas.SvgCanvas#cutSelectedElements\n* @returns {void}\n*/\nthis.cutSelectedElements = function () {\n  canvas.copySelectedElements();\n  canvas.deleteSelectedElements();\n};\n\nconst CLIPBOARD_ID = 'svgedit_clipboard';\n\n/**\n* Flash the clipboard data momentarily on localStorage so all tabs can see.\n* @returns {void}\n*/\nfunction flashStorage () {\n  const data = sessionStorage.getItem(CLIPBOARD_ID);\n  localStorage.setItem(CLIPBOARD_ID, data);\n  setTimeout(function () {\n    localStorage.removeItem(CLIPBOARD_ID);\n  }, 1);\n}\n\n/**\n* Transfers sessionStorage from one tab to another.\n* @param {!Event} ev Storage event.\n* @returns {void}\n*/\nfunction storageChange (ev) {\n  if (!ev.newValue) return; // This is a call from removeItem.\n  if (ev.key === CLIPBOARD_ID + '_startup') {\n    // Another tab asked for our sessionStorage.\n    localStorage.removeItem(CLIPBOARD_ID + '_startup');\n    flashStorage();\n  } else if (ev.key === CLIPBOARD_ID) {\n    // Another tab sent data.\n    sessionStorage.setItem(CLIPBOARD_ID, ev.newValue);\n  }\n}\n\n// Listen for changes to localStorage.\nwindow.addEventListener('storage', storageChange, false);\n// Ask other tabs for sessionStorage (this is ONLY to trigger event).\nlocalStorage.setItem(CLIPBOARD_ID + '_startup', Math.random());\n\n/**\n* Remembers the current selected elements on the clipboard.\n* @function module:svgcanvas.SvgCanvas#copySelectedElements\n* @returns {void}\n*/\nthis.copySelectedElements = function () {\n  const data =\n      JSON.stringify(selectedElements.map((x) => getJsonFromSvgElement(x)));\n  // Use sessionStorage for the clipboard data.\n  sessionStorage.setItem(CLIPBOARD_ID, data);\n  flashStorage();\n\n  const menu = $('#cmenu_canvas');\n  // Context menu might not exist (it is provided by editor.js).\n  if (menu.enableContextMenuItems) {\n    menu.enableContextMenuItems('#paste,#paste_in_place');\n  }\n};\n\n/**\n* @function module:svgcanvas.SvgCanvas#pasteElements\n* @param {\"in_place\"|\"point\"|void} type\n* @param {Integer|void} x Expected if type is \"point\"\n* @param {Integer|void} y Expected if type is \"point\"\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @fires module:svgcanvas.SvgCanvas#event:ext_IDsUpdated\n* @returns {void}\n*/\nthis.pasteElements = function (type, x, y) {\n  let clipb = JSON.parse(sessionStorage.getItem(CLIPBOARD_ID));\n  if (!clipb) return;\n  let len = clipb.length;\n  if (!len) return;\n\n  const pasted = [];\n  const batchCmd = new BatchCommand('Paste elements');\n  // const drawing = getCurrentDrawing();\n  /**\n  * @typedef {PlainObject<string, string>} module:svgcanvas.ChangedIDs\n  */\n  /**\n   * @type {module:svgcanvas.ChangedIDs}\n   */\n  const changedIDs = {};\n\n  // Recursively replace IDs and record the changes\n  /**\n   *\n   * @param {module:svgcanvas.SVGAsJSON} elem\n   * @returns {void}\n   */\n  function checkIDs (elem) {\n    if (elem.attr && elem.attr.id) {\n      changedIDs[elem.attr.id] = getNextId();\n      elem.attr.id = changedIDs[elem.attr.id];\n    }\n    if (elem.children) elem.children.forEach((child) => checkIDs(child));\n  }\n  clipb.forEach((elem) => checkIDs(elem));\n\n  // Give extensions like the connector extension a chance to reflect new IDs and remove invalid elements\n  /**\n  * Triggered when `pasteElements` is called from a paste action (context menu or key).\n  * @event module:svgcanvas.SvgCanvas#event:ext_IDsUpdated\n  * @type {PlainObject}\n  * @property {module:svgcanvas.SVGAsJSON[]} elems\n  * @property {module:svgcanvas.ChangedIDs} changes Maps past ID (on attribute) to current ID\n  */\n  runExtensions(\n    'IDsUpdated',\n    /** @type {module:svgcanvas.SvgCanvas#event:ext_IDsUpdated} */\n    {elems: clipb, changes: changedIDs},\n    true\n  ).forEach(function (extChanges) {\n    if (!extChanges || !('remove' in extChanges)) return;\n\n    extChanges.remove.forEach(function (removeID) {\n      clipb = clipb.filter(function (clipBoardItem) {\n        return clipBoardItem.attr.id !== removeID;\n      });\n    });\n  });\n\n  // Move elements to lastClickPoint\n  while (len--) {\n    const elem = clipb[len];\n    if (!elem) { continue; }\n\n    const copy = addSVGElementFromJson(elem);\n    pasted.push(copy);\n    batchCmd.addSubCommand(new InsertElementCommand(copy));\n\n    restoreRefElems(copy);\n  }\n\n  selectOnly(pasted);\n\n  if (type !== 'in_place') {\n    let ctrX, ctrY;\n\n    if (!type) {\n      ctrX = lastClickPoint.x;\n      ctrY = lastClickPoint.y;\n    } else if (type === 'point') {\n      ctrX = x;\n      ctrY = y;\n    }\n\n    const bbox = getStrokedBBoxDefaultVisible(pasted);\n    const cx = ctrX - (bbox.x + bbox.width / 2),\n      cy = ctrY - (bbox.y + bbox.height / 2),\n      dx = [],\n      dy = [];\n\n    $.each(pasted, function (i, item) {\n      dx.push(cx);\n      dy.push(cy);\n    });\n\n    const cmd = canvas.moveSelectedElements(dx, dy, false);\n    if (cmd) batchCmd.addSubCommand(cmd);\n  }\n\n  addCommandToHistory(batchCmd);\n  call('changed', pasted);\n};\n\n/**\n* Wraps all the selected elements in a group (`g`) element.\n* @function module:svgcanvas.SvgCanvas#groupSelectedElements\n* @param {\"a\"|\"g\"} [type=\"g\"] - type of element to group into, defaults to `<g>`\n* @param {string} [urlArg]\n* @returns {void}\n*/\nthis.groupSelectedElements = function (type, urlArg) {\n  if (!type) { type = 'g'; }\n  let cmdStr = '';\n  let url;\n\n  switch (type) {\n  case 'a': {\n    cmdStr = 'Make hyperlink';\n    url = urlArg || '';\n    break;\n  } default: {\n    type = 'g';\n    cmdStr = 'Group Elements';\n    break;\n  }\n  }\n\n  const batchCmd = new BatchCommand(cmdStr);\n\n  // create and insert the group element\n  const g = addSVGElementFromJson({\n    element: type,\n    attr: {\n      id: getNextId()\n    }\n  });\n  if (type === 'a') {\n    setHref(g, url);\n  }\n  batchCmd.addSubCommand(new InsertElementCommand(g));\n\n  // now move all children into the group\n  let i = selectedElements.length;\n  while (i--) {\n    let elem = selectedElements[i];\n    if (isNullish(elem)) { continue; }\n\n    if (elem.parentNode.tagName === 'a' && elem.parentNode.childNodes.length === 1) {\n      elem = elem.parentNode;\n    }\n\n    const oldNextSibling = elem.nextSibling;\n    const oldParent = elem.parentNode;\n    g.append(elem);\n    batchCmd.addSubCommand(new MoveElementCommand(elem, oldNextSibling, oldParent));\n  }\n  if (!batchCmd.isEmpty()) { addCommandToHistory(batchCmd); }\n\n  // update selection\n  selectOnly([g], true);\n};\n\n/**\n* Pushes all appropriate parent group properties down to its children, then\n* removes them from the group.\n* @function module:svgcanvas.SvgCanvas#pushGroupProperties\n* @param {SVGAElement|SVGGElement} g\n* @param {boolean} undoable\n* @returns {BatchCommand|void}\n*/\nconst pushGroupProperties = this.pushGroupProperties = function (g, undoable) {\n  const children = g.childNodes;\n  const len = children.length;\n  const xform = g.getAttribute('transform');\n\n  const glist = getTransformList(g);\n  const m = transformListToTransform(glist).matrix;\n\n  const batchCmd = new BatchCommand('Push group properties');\n\n  // TODO: get all fill/stroke properties from the group that we are about to destroy\n  // \"fill\", \"fill-opacity\", \"fill-rule\", \"stroke\", \"stroke-dasharray\", \"stroke-dashoffset\",\n  // \"stroke-linecap\", \"stroke-linejoin\", \"stroke-miterlimit\", \"stroke-opacity\",\n  // \"stroke-width\"\n  // and then for each child, if they do not have the attribute (or the value is 'inherit')\n  // then set the child's attribute\n\n  const gangle = getRotationAngle(g);\n\n  const gattrs = $(g).attr(['filter', 'opacity']);\n  let gfilter, gblur, changes;\n  const drawing = getCurrentDrawing();\n\n  for (let i = 0; i < len; i++) {\n    const elem = children[i];\n\n    if (elem.nodeType !== 1) { continue; }\n\n    if (gattrs.opacity !== null && gattrs.opacity !== 1) {\n      // const c_opac = elem.getAttribute('opacity') || 1;\n      const newOpac = Math.round((elem.getAttribute('opacity') || 1) * gattrs.opacity * 100) / 100;\n      changeSelectedAttribute('opacity', newOpac, [elem]);\n    }\n\n    if (gattrs.filter) {\n      let cblur = this.getBlur(elem);\n      const origCblur = cblur;\n      if (!gblur) { gblur = this.getBlur(g); }\n      if (cblur) {\n        // Is this formula correct?\n        cblur = Number(gblur) + Number(cblur);\n      } else if (cblur === 0) {\n        cblur = gblur;\n      }\n\n      // If child has no current filter, get group's filter or clone it.\n      if (!origCblur) {\n        // Set group's filter to use first child's ID\n        if (!gfilter) {\n          gfilter = getRefElem(gattrs.filter);\n        } else {\n          // Clone the group's filter\n          gfilter = drawing.copyElem(gfilter);\n          findDefs().append(gfilter);\n        }\n      } else {\n        gfilter = getRefElem(elem.getAttribute('filter'));\n      }\n\n      // Change this in future for different filters\n      const suffix = (gfilter.firstChild.tagName === 'feGaussianBlur') ? 'blur' : 'filter';\n      gfilter.id = elem.id + '_' + suffix;\n      changeSelectedAttribute('filter', 'url(#' + gfilter.id + ')', [elem]);\n\n      // Update blur value\n      if (cblur) {\n        changeSelectedAttribute('stdDeviation', cblur, [gfilter.firstChild]);\n        canvas.setBlurOffsets(gfilter, cblur);\n      }\n    }\n\n    let chtlist = getTransformList(elem);\n\n    // Don't process gradient transforms\n    if (elem.tagName.includes('Gradient')) { chtlist = null; }\n\n    // Hopefully not a problem to add this. Necessary for elements like <desc/>\n    if (!chtlist) { continue; }\n\n    // Apparently <defs> can get get a transformlist, but we don't want it to have one!\n    if (elem.tagName === 'defs') { continue; }\n\n    if (glist.numberOfItems) {\n      // TODO: if the group's transform is just a rotate, we can always transfer the\n      // rotate() down to the children (collapsing consecutive rotates and factoring\n      // out any translates)\n      if (gangle && glist.numberOfItems === 1) {\n        // [Rg] [Rc] [Mc]\n        // we want [Tr] [Rc2] [Mc] where:\n        //  - [Rc2] is at the child's current center but has the\n        // sum of the group and child's rotation angles\n        //  - [Tr] is the equivalent translation that this child\n        // undergoes if the group wasn't there\n\n        // [Tr] = [Rg] [Rc] [Rc2_inv]\n\n        // get group's rotation matrix (Rg)\n        const rgm = glist.getItem(0).matrix;\n\n        // get child's rotation matrix (Rc)\n        let rcm = svgroot.createSVGMatrix();\n        const cangle = getRotationAngle(elem);\n        if (cangle) {\n          rcm = chtlist.getItem(0).matrix;\n        }\n\n        // get child's old center of rotation\n        const cbox = utilsGetBBox(elem);\n        const ceqm = transformListToTransform(chtlist).matrix;\n        const coldc = transformPoint(cbox.x + cbox.width / 2, cbox.y + cbox.height / 2, ceqm);\n\n        // sum group and child's angles\n        const sangle = gangle + cangle;\n\n        // get child's rotation at the old center (Rc2_inv)\n        const r2 = svgroot.createSVGTransform();\n        r2.setRotate(sangle, coldc.x, coldc.y);\n\n        // calculate equivalent translate\n        const trm = matrixMultiply(rgm, rcm, r2.matrix.inverse());\n\n        // set up tlist\n        if (cangle) {\n          chtlist.removeItem(0);\n        }\n\n        if (sangle) {\n          if (chtlist.numberOfItems) {\n            chtlist.insertItemBefore(r2, 0);\n          } else {\n            chtlist.appendItem(r2);\n          }\n        }\n\n        if (trm.e || trm.f) {\n          const tr = svgroot.createSVGTransform();\n          tr.setTranslate(trm.e, trm.f);\n          if (chtlist.numberOfItems) {\n            chtlist.insertItemBefore(tr, 0);\n          } else {\n            chtlist.appendItem(tr);\n          }\n        }\n      } else { // more complicated than just a rotate\n        // transfer the group's transform down to each child and then\n        // call recalculateDimensions()\n        const oldxform = elem.getAttribute('transform');\n        changes = {};\n        changes.transform = oldxform || '';\n\n        const newxform = svgroot.createSVGTransform();\n\n        // [ gm ] [ chm ] = [ chm ] [ gm' ]\n        // [ gm' ] = [ chmInv ] [ gm ] [ chm ]\n        const chm = transformListToTransform(chtlist).matrix,\n          chmInv = chm.inverse();\n        const gm = matrixMultiply(chmInv, m, chm);\n        newxform.setMatrix(gm);\n        chtlist.appendItem(newxform);\n      }\n      const cmd = recalculateDimensions(elem);\n      if (cmd) { batchCmd.addSubCommand(cmd); }\n    }\n  }\n\n  // remove transform and make it undo-able\n  if (xform) {\n    changes = {};\n    changes.transform = xform;\n    g.setAttribute('transform', '');\n    g.removeAttribute('transform');\n    batchCmd.addSubCommand(new ChangeElementCommand(g, changes));\n  }\n\n  if (undoable && !batchCmd.isEmpty()) {\n    return batchCmd;\n  }\n  return undefined;\n};\n\n/**\n* Unwraps all the elements in a selected group (`g`) element. This requires\n* significant recalculations to apply group's transforms, etc. to its children.\n* @function module:svgcanvas.SvgCanvas#ungroupSelectedElement\n* @returns {void}\n*/\nthis.ungroupSelectedElement = function () {\n  let g = selectedElements[0];\n  if (!g) {\n    return;\n  }\n  if ($(g).data('gsvg') || $(g).data('symbol')) {\n    // Is svg, so actually convert to group\n    convertToGroup(g);\n    return;\n  }\n  if (g.tagName === 'use') {\n    // Somehow doesn't have data set, so retrieve\n    const symbol = getElem(getHref(g).substr(1));\n    $(g).data('symbol', symbol).data('ref', symbol);\n    convertToGroup(g);\n    return;\n  }\n  const parentsA = $(g).parents('a');\n  if (parentsA.length) {\n    g = parentsA[0];\n  }\n\n  // Look for parent \"a\"\n  if (g.tagName === 'g' || g.tagName === 'a') {\n    const batchCmd = new BatchCommand('Ungroup Elements');\n    const cmd = pushGroupProperties(g, true);\n    if (cmd) { batchCmd.addSubCommand(cmd); }\n\n    const parent = g.parentNode;\n    const anchor = g.nextSibling;\n    const children = new Array(g.childNodes.length);\n\n    let i = 0;\n    while (g.firstChild) {\n      const elem = g.firstChild;\n      const oldNextSibling = elem.nextSibling;\n      const oldParent = elem.parentNode;\n\n      // Remove child title elements\n      if (elem.tagName === 'title') {\n        const {nextSibling} = elem;\n        batchCmd.addSubCommand(new RemoveElementCommand(elem, nextSibling, oldParent));\n        elem.remove();\n        continue;\n      }\n\n      if (anchor) {\n        anchor.before(elem);\n      } else {\n        g.after(elem);\n      }\n      children[i++] = elem;\n      batchCmd.addSubCommand(new MoveElementCommand(elem, oldNextSibling, oldParent));\n    }\n\n    // remove the group from the selection\n    clearSelection();\n\n    // delete the group element (but make undo-able)\n    const gNextSibling = g.nextSibling;\n    g.remove();\n    batchCmd.addSubCommand(new RemoveElementCommand(g, gNextSibling, parent));\n\n    if (!batchCmd.isEmpty()) { addCommandToHistory(batchCmd); }\n\n    // update selection\n    addToSelection(children);\n  }\n};\n\n/**\n* Repositions the selected element to the bottom in the DOM to appear on top of\n* other elements.\n* @function module:svgcanvas.SvgCanvas#moveToTopSelectedElement\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {void}\n*/\nthis.moveToTopSelectedElement = function () {\n  const [selected] = selectedElements;\n  if (!isNullish(selected)) {\n    let t = selected;\n    const oldParent = t.parentNode;\n    const oldNextSibling = t.nextSibling;\n    t = t.parentNode.appendChild(t);\n    // If the element actually moved position, add the command and fire the changed\n    // event handler.\n    if (oldNextSibling !== t.nextSibling) {\n      addCommandToHistory(new MoveElementCommand(t, oldNextSibling, oldParent, 'top'));\n      call('changed', [t]);\n    }\n  }\n};\n\n/**\n* Repositions the selected element to the top in the DOM to appear under\n* other elements.\n* @function module:svgcanvas.SvgCanvas#moveToBottomSelectedElement\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {void}\n*/\nthis.moveToBottomSelectedElement = function () {\n  const [selected] = selectedElements;\n  if (!isNullish(selected)) {\n    let t = selected;\n    const oldParent = t.parentNode;\n    const oldNextSibling = t.nextSibling;\n    let {firstChild} = t.parentNode;\n    if (firstChild.tagName === 'title') {\n      firstChild = firstChild.nextSibling;\n    }\n    // This can probably be removed, as the defs should not ever apppear\n    // inside a layer group\n    if (firstChild.tagName === 'defs') {\n      firstChild = firstChild.nextSibling;\n    }\n    t = t.parentNode.insertBefore(t, firstChild);\n    // If the element actually moved position, add the command and fire the changed\n    // event handler.\n    if (oldNextSibling !== t.nextSibling) {\n      addCommandToHistory(new MoveElementCommand(t, oldNextSibling, oldParent, 'bottom'));\n      call('changed', [t]);\n    }\n  }\n};\n\n/**\n* Moves the select element up or down the stack, based on the visibly\n* intersecting elements.\n* @function module:svgcanvas.SvgCanvas#moveUpDownSelected\n* @param {\"Up\"|\"Down\"} dir - String that's either 'Up' or 'Down'\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {void}\n*/\nthis.moveUpDownSelected = function (dir) {\n  const selected = selectedElements[0];\n  if (!selected) { return; }\n\n  curBBoxes = [];\n  let closest, foundCur;\n  // jQuery sorts this list\n  const list = $(getIntersectionList(getStrokedBBoxDefaultVisible([selected]))).toArray();\n  if (dir === 'Down') { list.reverse(); }\n\n  $.each(list, function () {\n    if (!foundCur) {\n      if (this === selected) {\n        foundCur = true;\n      }\n      return true;\n    }\n    closest = this;\n    return false;\n  });\n  if (!closest) { return; }\n\n  const t = selected;\n  const oldParent = t.parentNode;\n  const oldNextSibling = t.nextSibling;\n  $(closest)[dir === 'Down' ? 'before' : 'after'](t);\n  // If the element actually moved position, add the command and fire the changed\n  // event handler.\n  if (oldNextSibling !== t.nextSibling) {\n    addCommandToHistory(new MoveElementCommand(t, oldNextSibling, oldParent, 'Move ' + dir));\n    call('changed', [t]);\n  }\n};\n\n/**\n* Moves selected elements on the X/Y axis.\n* @function module:svgcanvas.SvgCanvas#moveSelectedElements\n* @param {Float} dx - Float with the distance to move on the x-axis\n* @param {Float} dy - Float with the distance to move on the y-axis\n* @param {boolean} undoable - Boolean indicating whether or not the action should be undoable\n* @fires module:svgcanvas.SvgCanvas#event:changed\n* @returns {BatchCommand|void} Batch command for the move\n*/\nthis.moveSelectedElements = function (dx, dy, undoable) {\n  // if undoable is not sent, default to true\n  // if single values, scale them to the zoom\n  if (dx.constructor !== Array) {\n    dx /= currentZoom;\n    dy /= currentZoom;\n  }\n  undoable = undoable || true;\n  const batchCmd = new BatchCommand('position');\n  let i = selectedElements.length;\n  while (i--) {\n    const selected = selectedElements[i];\n    if (!isNullish(selected)) {\n      // if (i === 0) {\n      //   selectedBBoxes[0] = utilsGetBBox(selected);\n      // }\n      // const b = {};\n      // for (const j in selectedBBoxes[i]) b[j] = selectedBBoxes[i][j];\n      // selectedBBoxes[i] = b;\n\n      const xform = svgroot.createSVGTransform();\n      const tlist = getTransformList(selected);\n\n      // dx and dy could be arrays\n      if (dx.constructor === Array) {\n        // if (i === 0) {\n        //   selectedBBoxes[0].x += dx[0];\n        //   selectedBBoxes[0].y += dy[0];\n        // }\n        xform.setTranslate(dx[i], dy[i]);\n      } else {\n        // if (i === 0) {\n        //   selectedBBoxes[0].x += dx;\n        //   selectedBBoxes[0].y += dy;\n        // }\n        xform.setTranslate(dx, dy);\n      }\n\n      if (tlist.numberOfItems) {\n        tlist.insertItemBefore(xform, 0);\n      } else {\n        tlist.appendItem(xform);\n      }\n\n      const cmd = recalculateDimensions(selected);\n      if (cmd) {\n        batchCmd.addSubCommand(cmd);\n      }\n\n      selectorManager.requestSelector(selected).resize();\n    }\n  }\n  if (!batchCmd.isEmpty()) {\n    if (undoable) {\n      addCommandToHistory(batchCmd);\n    }\n    call('changed', selectedElements);\n    return batchCmd;\n  }\n  return undefined;\n};\n\n/**\n* Create deep DOM copies (clones) of all selected elements and move them slightly\n* from their originals.\n* @function module:svgcanvas.SvgCanvas#cloneSelectedElements\n* @param {Float} x Float with the distance to move on the x-axis\n* @param {Float} y Float with the distance to move on the y-axis\n* @returns {void}\n*/\nthis.cloneSelectedElements = function (x, y) {\n  let i, elem;\n  const batchCmd = new BatchCommand('Clone Elements');\n  // find all the elements selected (stop at first null)\n  const len = selectedElements.length;\n  /**\n   * Sorts an array numerically and ascending.\n   * @param {Element} a\n   * @param {Element} b\n   * @returns {Integer}\n   */\n  function sortfunction (a, b) {\n    return ($(b).index() - $(a).index());\n  }\n  selectedElements.sort(sortfunction);\n  for (i = 0; i < len; ++i) {\n    elem = selectedElements[i];\n    if (isNullish(elem)) { break; }\n  }\n  // use slice to quickly get the subset of elements we need\n  const copiedElements = selectedElements.slice(0, i);\n  this.clearSelection(true);\n  // note that we loop in the reverse way because of the way elements are added\n  // to the selectedElements array (top-first)\n  const drawing = getCurrentDrawing();\n  i = copiedElements.length;\n  while (i--) {\n    // clone each element and replace it within copiedElements\n    elem = copiedElements[i] = drawing.copyElem(copiedElements[i]);\n    (currentGroup || drawing.getCurrentLayer()).append(elem);\n    batchCmd.addSubCommand(new InsertElementCommand(elem));\n  }\n\n  if (!batchCmd.isEmpty()) {\n    addToSelection(copiedElements.reverse()); // Need to reverse for correct selection-adding\n    this.moveSelectedElements(x, y, false);\n    addCommandToHistory(batchCmd);\n  }\n};\n\n/**\n* Aligns selected elements.\n* @function module:svgcanvas.SvgCanvas#alignSelectedElements\n* @param {string} type - String with single character indicating the alignment type\n* @param {\"selected\"|\"largest\"|\"smallest\"|\"page\"} relativeTo\n* @returns {void}\n*/\nthis.alignSelectedElements = function (type, relativeTo) {\n  const bboxes = []; // angles = [];\n  const len = selectedElements.length;\n  if (!len) { return; }\n  let minx = Number.MAX_VALUE, maxx = Number.MIN_VALUE,\n    miny = Number.MAX_VALUE, maxy = Number.MIN_VALUE;\n  let curwidth = Number.MIN_VALUE, curheight = Number.MIN_VALUE;\n  for (let i = 0; i < len; ++i) {\n    if (isNullish(selectedElements[i])) { break; }\n    const elem = selectedElements[i];\n    bboxes[i] = getStrokedBBoxDefaultVisible([elem]);\n\n    // now bbox is axis-aligned and handles rotation\n    switch (relativeTo) {\n    case 'smallest':\n      if (((type === 'l' || type === 'c' || type === 'r') &&\n        (curwidth === Number.MIN_VALUE || curwidth > bboxes[i].width)) ||\n        ((type === 't' || type === 'm' || type === 'b') &&\n        (curheight === Number.MIN_VALUE || curheight > bboxes[i].height))\n      ) {\n        minx = bboxes[i].x;\n        miny = bboxes[i].y;\n        maxx = bboxes[i].x + bboxes[i].width;\n        maxy = bboxes[i].y + bboxes[i].height;\n        curwidth = bboxes[i].width;\n        curheight = bboxes[i].height;\n      }\n      break;\n    case 'largest':\n      if (((type === 'l' || type === 'c' || type === 'r') &&\n        (curwidth === Number.MIN_VALUE || curwidth < bboxes[i].width)) ||\n        ((type === 't' || type === 'm' || type === 'b') &&\n        (curheight === Number.MIN_VALUE || curheight < bboxes[i].height))\n      ) {\n        minx = bboxes[i].x;\n        miny = bboxes[i].y;\n        maxx = bboxes[i].x + bboxes[i].width;\n        maxy = bboxes[i].y + bboxes[i].height;\n        curwidth = bboxes[i].width;\n        curheight = bboxes[i].height;\n      }\n      break;\n    default: // 'selected'\n      if (bboxes[i].x < minx) { minx = bboxes[i].x; }\n      if (bboxes[i].y < miny) { miny = bboxes[i].y; }\n      if (bboxes[i].x + bboxes[i].width > maxx) { maxx = bboxes[i].x + bboxes[i].width; }\n      if (bboxes[i].y + bboxes[i].height > maxy) { maxy = bboxes[i].y + bboxes[i].height; }\n      break;\n    }\n  } // loop for each element to find the bbox and adjust min/max\n\n  if (relativeTo === 'page') {\n    minx = 0;\n    miny = 0;\n    maxx = canvas.contentW;\n    maxy = canvas.contentH;\n  }\n\n  const dx = new Array(len);\n  const dy = new Array(len);\n  for (let i = 0; i < len; ++i) {\n    if (isNullish(selectedElements[i])) { break; }\n    // const elem = selectedElements[i];\n    const bbox = bboxes[i];\n    dx[i] = 0;\n    dy[i] = 0;\n    switch (type) {\n    case 'l': // left (horizontal)\n      dx[i] = minx - bbox.x;\n      break;\n    case 'c': // center (horizontal)\n      dx[i] = (minx + maxx) / 2 - (bbox.x + bbox.width / 2);\n      break;\n    case 'r': // right (horizontal)\n      dx[i] = maxx - (bbox.x + bbox.width);\n      break;\n    case 't': // top (vertical)\n      dy[i] = miny - bbox.y;\n      break;\n    case 'm': // middle (vertical)\n      dy[i] = (miny + maxy) / 2 - (bbox.y + bbox.height / 2);\n      break;\n    case 'b': // bottom (vertical)\n      dy[i] = maxy - (bbox.y + bbox.height);\n      break;\n    }\n  }\n  this.moveSelectedElements(dx, dy);\n};\n\n/**\n* Group: Additional editor tools.\n*/\n\n/**\n* @name module:svgcanvas.SvgCanvas#contentW\n* @type {Float}\n*/\nthis.contentW = getResolution().w;\n/**\n* @name module:svgcanvas.SvgCanvas#contentH\n* @type {Float}\n*/\nthis.contentH = getResolution().h;\n\n/**\n* @typedef {PlainObject} module:svgcanvas.CanvasInfo\n* @property {Float} x - The canvas' new x coordinate\n* @property {Float} y - The canvas' new y coordinate\n* @property {string} oldX - The canvas' old x coordinate\n* @property {string} oldY - The canvas' old y coordinate\n* @property {Float} d_x - The x position difference\n* @property {Float} d_y - The y position difference\n*/\n\n/**\n* Updates the editor canvas width/height/position after a zoom has occurred.\n* @function module:svgcanvas.SvgCanvas#updateCanvas\n* @param {Float} w - Float with the new width\n* @param {Float} h - Float with the new height\n* @fires module:svgcanvas.SvgCanvas#event:ext_canvasUpdated\n* @returns {module:svgcanvas.CanvasInfo}\n*/\nthis.updateCanvas = function (w, h) {\n  svgroot.setAttribute('width', w);\n  svgroot.setAttribute('height', h);\n  const bg = $('#canvasBackground')[0];\n  const oldX = svgcontent.getAttribute('x');\n  const oldY = svgcontent.getAttribute('y');\n  const x = ((w - this.contentW * currentZoom) / 2);\n  const y = ((h - this.contentH * currentZoom) / 2);\n\n  assignAttributes(svgcontent, {\n    width: this.contentW * currentZoom,\n    height: this.contentH * currentZoom,\n    x,\n    y,\n    viewBox: '0 0 ' + this.contentW + ' ' + this.contentH\n  });\n\n  assignAttributes(bg, {\n    width: svgcontent.getAttribute('width'),\n    height: svgcontent.getAttribute('height'),\n    x,\n    y\n  });\n\n  const bgImg = getElem('background_image');\n  if (bgImg) {\n    assignAttributes(bgImg, {\n      width: '100%',\n      height: '100%'\n    });\n  }\n\n  selectorManager.selectorParentGroup.setAttribute('transform', 'translate(' + x + ',' + y + ')');\n\n  /**\n  * Invoked upon updates to the canvas.\n  * @event module:svgcanvas.SvgCanvas#event:ext_canvasUpdated\n  * @type {PlainObject}\n  * @property {Integer} new_x\n  * @property {Integer} new_y\n  * @property {string} old_x (Of Integer)\n  * @property {string} old_y (Of Integer)\n  * @property {Integer} d_x\n  * @property {Integer} d_y\n  */\n  runExtensions(\n    'canvasUpdated',\n    /**\n     * @type {module:svgcanvas.SvgCanvas#event:ext_canvasUpdated}\n     */\n    {new_x: x, new_y: y, old_x: oldX, old_y: oldY, d_x: x - oldX, d_y: y - oldY}\n  );\n  return {x, y, old_x: oldX, old_y: oldY, d_x: x - oldX, d_y: y - oldY};\n};\n\n/**\n* Set the background of the editor (NOT the actual document).\n* @function module:svgcanvas.SvgCanvas#setBackground\n* @param {string} color - String with fill color to apply\n* @param {string} url - URL or path to image to use\n* @returns {void}\n*/\nthis.setBackground = function (color, url) {\n  const bg = getElem('canvasBackground');\n  const border = $(bg).find('rect')[0];\n  let bgImg = getElem('background_image');\n  let bgPattern = getElem('background_pattern');\n  border.setAttribute('fill', color === 'chessboard' ? '#fff' : color);\n  if (color === 'chessboard') {\n    if (!bgPattern) {\n      bgPattern = svgdoc.createElementNS(NS.SVG, 'foreignObject');\n      assignAttributes(bgPattern, {\n        id: 'background_pattern',\n        width: '100%',\n        height: '100%',\n        preserveAspectRatio: 'xMinYMin',\n        style: 'pointer-events:none'\n      });\n      const div = document.createElement('div');\n      assignAttributes(div, {\n        style: 'pointer-events:none;width:100%;height:100%;' +\n          'background-image:url(data:image/gif;base64,' +\n          'R0lGODlhEAAQAIAAAP///9bW1iH5BAAAAAAALAAAAAAQABAAAAIfjG+' +\n          'gq4jM3IFLJgpswNly/XkcBpIiVaInlLJr9FZWAQA7);'\n      });\n      bgPattern.appendChild(div);\n      bg.append(bgPattern);\n    }\n  } else if (bgPattern) {\n    bgPattern.remove();\n  }\n  if (url) {\n    if (!bgImg) {\n      bgImg = svgdoc.createElementNS(NS.SVG, 'image');\n      assignAttributes(bgImg, {\n        id: 'background_image',\n        width: '100%',\n        height: '100%',\n        preserveAspectRatio: 'xMinYMin',\n        style: 'pointer-events:none'\n      });\n    }\n    setHref(bgImg, url);\n    bg.append(bgImg);\n  } else if (bgImg) {\n    bgImg.remove();\n  }\n};\n\n/**\n* Select the next/previous element within the current layer.\n* @function module:svgcanvas.SvgCanvas#cycleElement\n* @param {boolean} next - true = next and false = previous element\n* @fires module:svgcanvas.SvgCanvas#event:selected\n* @returns {void}\n*/\nthis.cycleElement = function (next) {\n  let num;\n  const curElem = selectedElements[0];\n  let elem = false;\n  const allElems = getVisibleElements(currentGroup || getCurrentDrawing().getCurrentLayer());\n  if (!allElems.length) { return; }\n  if (isNullish(curElem)) {\n    num = next ? allElems.length - 1 : 0;\n    elem = allElems[num];\n  } else {\n    let i = allElems.length;\n    while (i--) {\n      if (allElems[i] === curElem) {\n        num = next ? i - 1 : i + 1;\n        if (num >= allElems.length) {\n          num = 0;\n        } else if (num < 0) {\n          num = allElems.length - 1;\n        }\n        elem = allElems[num];\n        break;\n      }\n    }\n  }\n  selectOnly([elem], true);\n  call('selected', selectedElements);\n};\n\nthis.clear();\n\n/**\n* @interface module:svgcanvas.PrivateMethods\n* @type {PlainObject}\n* @property {module:svgcanvas~addCommandToHistory} addCommandToHistory\n* @property {module:history.HistoryCommand} BatchCommand\n* @property {module:history.HistoryCommand} ChangeElementCommand\n* @property {module:utilities.decode64} decode64\n* @property {module:utilities.dropXMLInternalSubset} dropXMLInternalSubset\n* @property {module:utilities.encode64} encode64\n* @property {module:svgcanvas~ffClone} ffClone\n* @property {module:svgcanvas~findDuplicateGradient} findDuplicateGradient\n* @property {module:utilities.getPathBBox} getPathBBox\n* @property {module:units.getTypeMap} getTypeMap\n* @property {module:draw.identifyLayers} identifyLayers\n* @property {module:history.HistoryCommand} InsertElementCommand\n* @property {module:browser.isChrome} isChrome\n* @property {module:math.isIdentity} isIdentity\n* @property {module:browser.isIE} isIE\n* @property {module:svgcanvas~logMatrix} logMatrix\n* @property {module:history.HistoryCommand} MoveElementCommand\n* @property {module:namespaces.NS} NS\n* @property {module:utilities.preventClickDefault} preventClickDefault\n* @property {module:history.HistoryCommand} RemoveElementCommand\n* @property {module:SVGTransformList.SVGEditTransformList} SVGEditTransformList\n* @property {module:utilities.text2xml} text2xml\n* @property {module:math.transformBox} transformBox\n* @property {module:math.transformPoint} transformPoint\n* @property {module:utilities.walkTree} walkTree\n*/\n/**\n* @deprecated getPrivateMethods\n* Since all methods are/should be public somehow, this function should be removed;\n*  we might require `import` in place of this in the future once ES6 Modules\n*  widespread\n\n* Being able to access private methods publicly seems wrong somehow,\n* but currently appears to be the best way to allow testing and provide\n* access to them to plugins.\n* @function module:svgcanvas.SvgCanvas#getPrivateMethods\n* @returns {module:svgcanvas.PrivateMethods}\n*/\nthis.getPrivateMethods = function () {\n  const obj = {\n    addCommandToHistory,\n    BatchCommand,\n    ChangeElementCommand,\n    decode64,\n    dropXMLInternalSubset,\n    encode64,\n    ffClone,\n    findDefs,\n    findDuplicateGradient,\n    getElem,\n    getPathBBox,\n    getTypeMap,\n    getUrlFromAttr,\n    identifyLayers: draw.identifyLayers,\n    InsertElementCommand,\n    isChrome,\n    isIdentity,\n    isIE,\n    logMatrix,\n    MoveElementCommand,\n    NS,\n    preventClickDefault,\n    RemoveElementCommand,\n    SVGEditTransformList,\n    text2xml,\n    transformBox,\n    transformPoint,\n    walkTree\n  };\n  return obj;\n};\n  } // End constructor\n} // End class\n\nexport default SvgCanvas;\n","// Todo: Update: https://github.com/jeresig/jquery.hotkeys\n/*\n * jQuery Hotkeys Plugin\n * Copyright 2010, John Resig\n * Dual licensed under the MIT or GPL Version 2 licenses.\n *\n * http://github.com/jeresig/jquery.hotkeys\n *\n * Based upon the plugin by Tzury Bar Yochay:\n * http://github.com/tzuryby/hotkeys\n *\n * Original idea by:\n * Binny V A, http://www.openjs.com/scripts/events/keyboard_shortcuts/\n*/\n\n// We *do* want to allow the escape key within textareas (and possibly tab too), so add the condition `n.which !== 27`\n\nexport default function(b){b.hotkeys={version:\"0.8\",specialKeys:{8:\"backspace\",9:\"tab\",13:\"return\",16:\"shift\",17:\"ctrl\",18:\"alt\",19:\"pause\",20:\"capslock\",27:\"esc\",32:\"space\",33:\"pageup\",34:\"pagedown\",35:\"end\",36:\"home\",37:\"left\",38:\"up\",39:\"right\",40:\"down\",45:\"insert\",46:\"del\",96:\"0\",97:\"1\",98:\"2\",99:\"3\",100:\"4\",101:\"5\",102:\"6\",103:\"7\",104:\"8\",105:\"9\",106:\"*\",107:\"+\",109:\"-\",110:\".\",111:\"/\",112:\"f1\",113:\"f2\",114:\"f3\",115:\"f4\",116:\"f5\",117:\"f6\",118:\"f7\",119:\"f8\",120:\"f9\",121:\"f10\",122:\"f11\",123:\"f12\",144:\"numlock\",145:\"scroll\",191:\"/\",224:\"meta\",219:\"[\",221:\"]\"},shiftNums:{\"`\":\"~\",\"1\":\"!\",\"2\":\"@\",\"3\":\"#\",\"4\":\"$\",\"5\":\"%\",\"6\":\"^\",\"7\":\"&\",\"8\":\"*\",\"9\":\"(\",\"0\":\")\",\"-\":\"_\",\"=\":\"+\",\";\":\": \",\"'\":'\"',\",\":\"<\",\".\":\">\",\"/\":\"?\",\"\\\\\":\"|\"}};function a(d){if(typeof d.data!==\"string\"){return}var c=d.handler,e=d.data.toLowerCase().split(\" \");d.handler=function(n){if(this!==n.target&&(n.which !== 27 && (/textarea|select/i.test(n.target.nodeName)||n.target.type===\"text\"))){return}var h=n.type!==\"keypress\"&&b.hotkeys.specialKeys[n.which],o=String.fromCharCode(n.which).toLowerCase(),k,m=\"\",g={};if(n.altKey&&h!==\"alt\"){m+=\"alt+\"}if(n.ctrlKey&&h!==\"ctrl\"){m+=\"ctrl+\"}if(n.metaKey&&!n.ctrlKey&&h!==\"meta\"){m+=\"meta+\"}if(n.shiftKey&&h!==\"shift\"){m+=\"shift+\"}if(h){g[m+h]=true}else{g[m+o]=true;g[m+b.hotkeys.shiftNums[o]]=true;if(m===\"shift+\"){g[b.hotkeys.shiftNums[o]]=true}}for(var j=0,f=e.length;j<f;j++){if(g[e[j]]){return c.apply(this,arguments)}}}}b.each([\"keydown\",\"keyup\",\"keypress\"],function(){b.event.special[this]={add:a}})\n\nreturn b;\n}\n","/**\n * @file SVG Icon Loader 2.0\n *\n * jQuery Plugin for loading SVG icons from a single file\n *\n * Adds {@link external:jQuery.svgIcons}, {@link external:jQuery.getSvgIcon}, {@link external:jQuery.resizeSvgIcons}\n *\n * How to use:\n\n1. Create the SVG master file that includes all icons:\n\nThe master SVG icon-containing file is an SVG file that contains\n`<g>` elements. Each `<g>` element should contain the markup of an SVG\nicon. The `<g>` element has an ID that should\ncorrespond with the ID of the HTML element used on the page that should contain\nor optionally be replaced by the icon. Additionally, one empty element should be\nadded at the end with id \"svg_eof\".\n\n2. Optionally create fallback raster images for each SVG icon.\n\n3. Include the jQuery and the SVG Icon Loader scripts on your page.\n\n4. Run `$.svgIcons()` when the document is ready. See its signature\n\n5. To access an icon at a later point without using the callback, use this:\n  `$.getSvgIcon(id (string), uniqueClone (boolean))`;\n\nThis will return the icon (as jQuery object) with a given ID.\n\n6. To resize icons at a later point without using the callback, use this:\n  `$.resizeSvgIcons(resizeOptions)` (use the same way as the \"resize\" parameter)\n *\n * @module jQuerySVGIcons\n * @license MIT\n * @copyright (c) 2009 Alexis Deveria\n * {@link http://a.deveria.com}\n * @example\n  $(function () {\n     $.svgIcons('my_icon_set.svg'); // The SVG file that contains all icons\n     // No options have been set, so all icons will automatically be inserted\n     // into HTML elements that match the same IDs.\n  });\n\n  * @example\n  $(function () {\n     // The SVG file that contains all icons\n     $.svgIcons('my_icon_set.svg', {\n       callback (icons) { // Custom callback function that sets click\n         // events for each icon\n         $.each(icons, function (id, icon) {\n           icon.click(function () {\n             alert('You clicked on the icon with id ' + id);\n           });\n         });\n       }\n     });\n   });\n\n  * @example\n   $(function () {\n     // The SVGZ file that contains all icons\n     $.svgIcons('my_icon_set.svgz', {\n       w: 32, // All icons will be 32px wide\n       h: 32, // All icons will be 32px high\n       fallback_path: 'icons/', // All fallback files can be found here\n       fallback: {\n         '#open_icon': 'open.png', // The \"open.png\" will be appended to the\n         // HTML element with ID \"open_icon\"\n         '#close_icon': 'close.png',\n         '#save_icon': 'save.png'\n       },\n       placement: {'.open_icon': 'open'}, // The \"open\" icon will be added\n       // to all elements with class \"open_icon\"\n       resize: {\n         '#save_icon .svg_icon': 64 // The \"save\" icon will be resized to 64 x 64px\n       },\n\n       callback (icons) { // Sets background color for \"close\" icon\n         icons.close.css('background', 'red');\n       },\n\n       svgz: true // Indicates that an SVGZ file is being used\n     });\n   });\n*/\n\n// Todo: Move to own module (and have it import a modular base64 encoder)\nimport {encode64} from '../../common/utilities.js';\n\nconst isOpera = Boolean(window.opera);\n\nconst fixIDs = function (svgEl, svgNum, force) {\n  const defs = svgEl.find('defs');\n  if (!defs.length) return svgEl;\n\n  let idElems;\n  if (isOpera) {\n    idElems = defs.find('*').filter(function () {\n      return Boolean(this.id);\n    });\n  } else {\n    idElems = defs.find('[id]');\n  }\n\n  const allElems = svgEl[0].getElementsByTagName('*'),\n    len = allElems.length;\n\n  idElems.each(function (i) {\n    const {id} = this;\n    /*\n    const noDupes = ($(svgdoc).find('#' + id).length <= 1);\n    if (isOpera) noDupes = false; // Opera didn't clone svgEl, so not reliable\n    if(!force && noDupes) return;\n    */\n    const newId = 'x' + id + svgNum + i;\n    this.id = newId;\n\n    const oldVal = 'url(#' + id + ')';\n    const newVal = 'url(#' + newId + ')';\n\n    // Selector method, possibly faster but fails in Opera / jQuery 1.4.3\n    //  svgEl.find('[fill=\"url(#' + id + ')\"]').each(function() {\n    //    this.setAttribute('fill', 'url(#' + newId + ')');\n    //  }).end().find('[stroke=\"url(#' + id + ')\"]').each(function() {\n    //    this.setAttribute('stroke', 'url(#' + newId + ')');\n    //  }).end().find('use').each(function() {\n    //    if(this.getAttribute('xlink:href') == '#' + id) {\n    //      this.setAttributeNS(xlinkns,'href','#' + newId);\n    //    }\n    //  }).end().find('[filter=\"url(#' + id + ')\"]').each(function() {\n    //    this.setAttribute('filter', 'url(#' + newId + ')');\n    //  });\n\n    for (i = 0; i < len; i++) {\n      const elem = allElems[i];\n      if (elem.getAttribute('fill') === oldVal) {\n        elem.setAttribute('fill', newVal);\n      }\n      if (elem.getAttribute('stroke') === oldVal) {\n        elem.setAttribute('stroke', newVal);\n      }\n      if (elem.getAttribute('filter') === oldVal) {\n        elem.setAttribute('filter', newVal);\n      }\n    }\n  });\n  return svgEl;\n};\n\n/**\n* @callback module:jQuerySVGIcons.SVGIconsLoadedCallback\n* @param {PlainObject<string, external:jQuery>} svgIcons IDs keyed to jQuery objects of images\n* @returns {void}\n*/\n\n/**\n * @function module:jQuerySVGIcons.jQuerySVGIcons\n * @param {external:jQuery} $ Its keys include all icon IDs and the values, the icon as a jQuery object\n * @returns {external:jQuery} The enhanced jQuery object\n*/\nexport default function jQueryPluginSVGIcons ($) {\n  const svgIcons = {};\n\n  /**\n   * Map of raster images with each key being the SVG icon ID\n   *   to replace, and the value the image file name.\n   * @typedef {PlainObject<string, string>} external:jQuery.svgIcons.Fallback\n  */\n  /**\n   * Map of raster images with each key being the SVG icon ID\n   *   whose `alt` will be set, and the value being the `alt` text.\n   * @typedef {PlainObject<string, string>} external:jQuery.svgIcons.Alts\n  */\n  /**\n  * @function external:jQuery.svgIcons\n  * @param {string} file The location of a local SVG or SVGz file\n  * @param {PlainObject} [opts]\n  * @param {Float} [opts.w] The icon widths\n  * @param {Float} [opts.h] The icon heights\n  * @param {external:jQuery.svgIcons.Fallback} [opts.fallback]\n  * @param {string} [opts.fallback_path] The path to use for all images\n  *   listed under \"fallback\"\n  * @param {boolean} [opts.replace] If set to `true`, HTML elements will\n  *   be replaced by, rather than include the SVG icon.\n  * @param {PlainObject<string, string>} [opts.placement] Map with selectors\n  *   for keys and SVG icon ids as values. This provides a custom method of\n  *   adding icons.\n  * @param {PlainObject<string, module:jQuerySVGIcons.Size>} [opts.resize] Map\n  *   with selectors for keys and numbers as values. This allows an easy way to\n  *   resize specific icons.\n  * @param {module:jQuerySVGIcons.SVGIconsLoadedCallback} [opts.callback] A\n  *   function to call when all icons have been loaded.\n  * @param {boolean} [opts.id_match=true] Automatically attempt to match\n  *   SVG icon ids with corresponding HTML id\n  * @param {boolean} [opts.no_img] Prevent attempting to convert the icon\n  *   into an `<img>` element (may be faster, help for browser consistency)\n  * @param {boolean} [opts.svgz] Indicate that the file is an SVGZ file, and\n  *   thus not to parse as XML. SVGZ files add compression benefits, but\n  *   getting data from them fails in Firefox 2 and older.\n  * @param {jQuery.svgIcons.Alts} [opts.alts] Map of images with each key\n  *   being the SVG icon ID whose `alt` will be set, and the value being\n  *   the `alt` text\n  * @param {string} [opts.testIconAlt=\"icon\"] Alt text for the injected test image.\n  *   In case wish to ensure have one for accessibility\n  * @returns {void}\n  */\n  $.svgIcons = function (file, opts = {}) {\n    const svgns = 'http://www.w3.org/2000/svg',\n      xlinkns = 'http://www.w3.org/1999/xlink',\n      iconW = opts.w || 24,\n      iconH = opts.h || 24;\n    let elems, svgdoc, testImg,\n      iconsMade = false,\n      dataLoaded = false,\n      loadAttempts = 0;\n    const // ua = navigator.userAgent,\n      // isSafari = (ua.includes('Safari/') && !ua.includes('Chrome/')),\n      dataPre = 'data:image/svg+xml;charset=utf-8;base64,';\n\n    let dataEl;\n    if (opts.svgz) {\n      dataEl = $('<object data=\"' + file + '\" type=image/svg+xml>').appendTo('body').hide();\n      try {\n        svgdoc = dataEl[0].contentDocument;\n        dataEl.load(getIcons);\n        getIcons(0, true); // Opera will not run \"load\" event if file is already cached\n      } catch (err1) {\n        useFallback();\n      }\n    } else {\n      const parser = new DOMParser();\n      $.ajax({\n        url: file,\n        dataType: 'string',\n        success (data) {\n          if (!data) {\n            $(useFallback);\n            return;\n          }\n          svgdoc = parser.parseFromString(data, 'text/xml');\n          $(function () {\n            getIcons('ajax');\n          });\n        },\n        error (err) {\n          // TODO: Fix Opera widget icon bug\n          if (window.opera) {\n            $(function () {\n              useFallback();\n            });\n          } else if (err.responseText) {\n            svgdoc = parser.parseFromString(err.responseText, 'text/xml');\n\n            if (!svgdoc.childNodes.length) {\n              $(useFallback);\n            }\n            $(function () {\n              getIcons('ajax');\n            });\n          } else {\n            $(useFallback);\n          }\n        }\n      });\n    }\n\n    /**\n     *\n     * @param {\"ajax\"|0|void} evt\n     * @param {boolean} [noWait]\n     * @returns {void}\n     */\n    function getIcons (evt, noWait) {\n      if (evt !== 'ajax') {\n        if (dataLoaded) return;\n        // Webkit sometimes says svgdoc is undefined, other times\n        // it fails to load all nodes. Thus we must make sure the \"eof\"\n        // element is loaded.\n        svgdoc = dataEl[0].contentDocument; // Needed again for Webkit\n        const isReady = (svgdoc && svgdoc.getElementById('svg_eof'));\n        if (!isReady && !(noWait && isReady)) {\n          loadAttempts++;\n          if (loadAttempts < 50) {\n            setTimeout(getIcons, 20);\n          } else {\n            useFallback();\n            dataLoaded = true;\n          }\n          return;\n        }\n        dataLoaded = true;\n      }\n\n      elems = $(svgdoc.firstChild).children(); // .getElementsByTagName('foreignContent');\n\n      if (!opts.no_img) {\n        const testSrc = dataPre +\n          'PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zd' +\n          'mciIHdpZHRoPSIyNzUiIGhlaWdodD0iMjc1Ij48L3N2Zz4%3D';\n\n        testImg = $(new Image()).attr({\n          src: testSrc,\n          width: 0,\n          height: 0,\n          alt: opts.testIconAlt || 'icon'\n        }).appendTo('body')\n          .load(function () {\n            // Safari 4 crashes, Opera and Chrome don't\n            makeIcons(true);\n          }).error(function () {\n            makeIcons();\n          });\n      } else {\n        setTimeout(function () {\n          if (!iconsMade) makeIcons();\n        }, 500);\n      }\n    }\n\n    /**\n     *\n     * @param {external:jQuery} target\n     * @param {external:jQuery} icon A wrapped `defs` or Image\n     * @param {string} id SVG icon ID\n     * @param {boolean} setID Whether to set the ID attribute (with `id`)\n     * @returns {void}\n     */\n    function setIcon (target, icon, id, setID) {\n      if (isOpera) icon.css('visibility', 'hidden');\n      if (opts.replace) {\n        if (setID) icon.attr('id', id);\n        const cl = target.attr('class');\n        if (cl) icon.attr('class', 'svg_icon ' + cl);\n        if (!target.alt) {\n          let alt = 'icon';\n          if (opts.alts) {\n            alt = opts.alts[id] || alt;\n          }\n          icon.attr('alt', alt);\n        }\n        target.replaceWith(icon);\n      } else {\n        target.append(icon);\n      }\n      if (isOpera) {\n        setTimeout(function () {\n          icon.removeAttr('style');\n        }, 1);\n      }\n    }\n\n    let holder;\n    /**\n     * @param {external:jQuery} icon A wrapped `defs` or Image\n     * @param {string} id SVG icon ID\n     * @returns {void}\n     */\n    function addIcon (icon, id) {\n      if (opts.id_match === undefined || opts.id_match !== false) {\n        setIcon(holder, icon, id, true);\n      }\n      svgIcons[id] = icon;\n    }\n\n    /**\n     *\n     * @param {boolean} [toImage]\n     * @param {external:jQuery.svgIcons.Fallback} [fallback=false]\n     * @returns {void}\n     */\n    function makeIcons (toImage = false, fallback = false) {\n      if (iconsMade) return;\n      if (opts.no_img) toImage = false;\n\n      let tempHolder;\n      if (toImage) {\n        tempHolder = $(document.createElement('div'));\n        tempHolder.hide().appendTo('body');\n      }\n      if (fallback) {\n        const path = opts.fallback_path || '';\n        $.each(fallback, function (id, imgsrc) {\n          holder = $('#' + id);\n          let alt = 'icon';\n          if (opts.alts) {\n            alt = opts.alts[id] || alt;\n          }\n          const icon = $(new Image())\n            .attr({\n              class: 'svg_icon',\n              src: path + imgsrc,\n              width: iconW,\n              height: iconH,\n              alt\n            });\n\n          addIcon(icon, id);\n        });\n      } else {\n        const len = elems.length;\n        for (let i = 0; i < len; i++) {\n          const elem = elems[i];\n          const {id} = elem;\n          if (id === 'svg_eof') break;\n          holder = $('#' + id);\n          const svgroot = document.createElementNS(svgns, 'svg');\n          // Per https://www.w3.org/TR/xml-names11/#defaulting, the namespace for\n          // attributes should have no value.\n          svgroot.setAttribute('viewBox', [0, 0, iconW, iconH].join(' '));\n\n          let svg = elem.getElementsByTagNameNS(svgns, 'svg')[0];\n\n          // Make flexible by converting width/height to viewBox\n          const w = svg.getAttribute('width');\n          const h = svg.getAttribute('height');\n          svg.removeAttribute('width');\n          svg.removeAttribute('height');\n\n          const vb = svg.getAttribute('viewBox');\n          if (!vb) {\n            svg.setAttribute('viewBox', [0, 0, w, h].join(' '));\n          }\n\n          // Not using jQuery to be a bit faster\n          svgroot.setAttribute('xmlns', svgns);\n          svgroot.setAttribute('width', iconW);\n          svgroot.setAttribute('height', iconH);\n          svgroot.setAttribute('xmlns:xlink', xlinkns);\n          svgroot.setAttribute('class', 'svg_icon');\n\n          // Without cloning, Firefox will make another GET request.\n          // With cloning, causes issue in Opera/Win/Non-EN\n          if (!isOpera) svg = svg.cloneNode(true);\n\n          svgroot.append(svg);\n\n          let icon;\n          if (toImage) {\n            tempHolder.empty().append(svgroot);\n            const str = dataPre + encode64(unescape(encodeURIComponent(\n              new XMLSerializer().serializeToString(svgroot)\n            )));\n            let alt = 'icon';\n            if (opts.alts) {\n              alt = opts.alts[id] || alt;\n            }\n            icon = $(new Image())\n              .attr({class: 'svg_icon', src: str, alt});\n          } else {\n            icon = fixIDs($(svgroot), i);\n          }\n          addIcon(icon, id);\n        }\n      }\n\n      if (opts.placement) {\n        $.each(opts.placement, function (sel, id) {\n          if (!svgIcons[id]) return;\n          $(sel).each(function (i) {\n            let copy = svgIcons[id].clone();\n            if (i > 0 && !toImage) copy = fixIDs(copy, i, true);\n            setIcon($(this), copy, id);\n          });\n        });\n      }\n      if (!fallback) {\n        if (toImage) tempHolder.remove();\n        if (dataEl) dataEl.remove();\n        if (testImg) testImg.remove();\n      }\n      if (opts.resize) $.resizeSvgIcons(opts.resize);\n      iconsMade = true;\n\n      if (opts.callback) opts.callback(svgIcons);\n    }\n\n    /**\n     * @returns {void}\n     */\n    function useFallback () {\n      if (file.includes('.svgz')) {\n        const regFile = file.replace('.svgz', '.svg');\n        if (window.console) {\n          console.log('.svgz failed, trying with .svg'); // eslint-disable-line no-console\n        }\n        $.svgIcons(regFile, opts);\n      } else if (opts.fallback) {\n        makeIcons(false, opts.fallback);\n      }\n    }\n  };\n\n  /**\n  * @function external:jQuery.getSvgIcon\n  * @param {string} id\n  * @param {boolean} uniqueClone Whether to clone\n  * @returns {external:jQuery} The icon (optionally cloned)\n  */\n  $.getSvgIcon = function (id, uniqueClone) {\n    let icon = svgIcons[id];\n    if (uniqueClone && icon) {\n      icon = fixIDs(icon, 0, true).clone(true);\n    }\n    return icon;\n  };\n\n  /**\n  * @typedef {GenericArray} module:jQuerySVGIcons.Dimensions\n  * @property {Integer} length 2\n  * @property {Float} 0 Width\n  * @property {Float} 1 Height\n  */\n\n  /**\n  * If a Float is used, it will represent width and height. Arrays contain\n  *   the width and height.\n  * @typedef {module:jQuerySVGIcons.Dimensions|Float} module:jQuerySVGIcons.Size\n  */\n\n  /**\n  * @function external:jQuery.resizeSvgIcons\n  * @param {PlainObject<string, module:jQuerySVGIcons.Size>} obj Object with\n  *   selectors as keys. The values are sizes.\n  * @returns {void}\n  */\n  $.resizeSvgIcons = function (obj) {\n    // FF2 and older don't detect .svg_icon, so we change it detect svg elems instead\n    const changeSel = !$('.svg_icon:first').length;\n    $.each(obj, function (sel, size) {\n      const arr = Array.isArray(size);\n      const w = arr ? size[0] : size,\n        h = arr ? size[1] : size;\n      if (changeSel) {\n        sel = sel.replace(/\\.svg_icon/g, 'svg');\n      }\n      $(sel).each(function () {\n        this.setAttribute('width', w);\n        this.setAttribute('height', h);\n        if (window.opera && window.widget) {\n          this.parentNode.style.width = w + 'px';\n          this.parentNode.style.height = h + 'px';\n        }\n      });\n    });\n  };\n  return $;\n}\n","/**\n * @file jGraduate 0.4\n *\n * jQuery Plugin for a gradient picker\n *\n * @module jGraduate\n * @copyright 2010 Jeff Schiller {@link http://blog.codedread.com/}, 2010 Alexis Deveria {@link http://a.deveria.com/}\n *\n * @license Apache-2.0\n * @example\n * // The Paint object is described below.\n * $.jGraduate.Paint(); // constructs a 'none' color\n * @example $.jGraduate.Paint({copy: o}); // creates a copy of the paint o\n * @example $.jGraduate.Paint({hex: '#rrggbb'}); // creates a solid color paint with hex = \"#rrggbb\"\n * @example $.jGraduate.Paint({linearGradient: o, a: 50}); // creates a linear gradient paint with opacity=0.5\n * @example $.jGraduate.Paint({radialGradient: o, a: 7}); // creates a radial gradient paint with opacity=0.07\n * @example $.jGraduate.Paint({hex: '#rrggbb', linearGradient: o}); // throws an exception?\n*/\n\n/* eslint-disable jsdoc/require-property */\n/**\n  * The jQuery namespace.\n  * @external jQuery\n*/\n/**\n * The jQuery plugin namespace.\n * @namespace {PlainObject} fn\n * @memberof external:jQuery\n * @see {@link http://learn.jquery.com/plugins/|jQuery Plugins}\n */\n/* eslint-enable jsdoc/require-property */\n\nconst ns = {\n  svg: 'http://www.w3.org/2000/svg',\n  xlink: 'http://www.w3.org/1999/xlink'\n};\n\nif (!window.console) {\n  window.console = {\n    log (str) { /* */ },\n    dir (str) { /* */ }\n  };\n}\n\n/**\n* Adds {@link external:jQuery.jGraduate.Paint},\n* {@link external:jQuery.fn.jGraduateDefaults},\n* {@link external:jQuery.fn.jGraduate}.\n* @function module:jGraduate.jGraduate\n* @param {external:jQuery} $ The jQuery instance to wrap\n* @returns {external:jQuery}\n*/\nexport default function jQueryPluginJGraduate ($) {\n  /**\n  * @typedef {PlainObject} module:jGraduate.jGraduatePaintOptions\n  * @property {Float} [alpha]\n  * @property {module:jGraduate~Paint} [copy] Copy paint object\n  * @property {SVGLinearGradientElement} [linearGradient]\n  * @property {SVGRadialGradientElement} [radialGradient]\n  * @property {string} [solidColor]\n  */\n\n  /**\n  * @memberof module:jGraduate~\n  */\n  class Paint {\n    /**\n     * @param {module:jGraduate.jGraduatePaintOptions} [opt]\n    */\n    constructor (opt) {\n      const options = opt || {};\n      this.alpha = isNaN(options.alpha) ? 100 : options.alpha;\n      // copy paint object\n      if (options.copy) {\n        /**\n         * @name module:jGraduate~Paint#type\n         * @type {\"none\"|\"solidColor\"|\"linearGradient\"|\"radialGradient\"}\n         */\n        this.type = options.copy.type;\n        /**\n         * Represents opacity (0-100).\n         * @name module:jGraduate~Paint#alpha\n         * @type {Float}\n         */\n        this.alpha = options.copy.alpha;\n        /**\n         * Represents #RRGGBB hex of color.\n         * @name module:jGraduate~Paint#solidColor\n         * @type {string}\n         */\n        this.solidColor = null;\n        /**\n         * @name module:jGraduate~Paint#linearGradient\n         * @type {SVGLinearGradientElement}\n         */\n        this.linearGradient = null;\n        /**\n         * @name module:jGraduate~Paint#radialGradient\n         * @type {SVGRadialGradientElement}\n         */\n        this.radialGradient = null;\n\n        switch (this.type) {\n        case 'none':\n          break;\n        case 'solidColor':\n          this.solidColor = options.copy.solidColor;\n          break;\n        case 'linearGradient':\n          this.linearGradient = options.copy.linearGradient.cloneNode(true);\n          break;\n        case 'radialGradient':\n          this.radialGradient = options.copy.radialGradient.cloneNode(true);\n          break;\n        }\n      // create linear gradient paint\n      } else if (options.linearGradient) {\n        this.type = 'linearGradient';\n        this.solidColor = null;\n        this.radialGradient = null;\n        this.linearGradient = options.linearGradient.cloneNode(true);\n      // create linear gradient paint\n      } else if (options.radialGradient) {\n        this.type = 'radialGradient';\n        this.solidColor = null;\n        this.linearGradient = null;\n        this.radialGradient = options.radialGradient.cloneNode(true);\n      // create solid color paint\n      } else if (options.solidColor) {\n        this.type = 'solidColor';\n        this.solidColor = options.solidColor;\n      // create empty paint\n      } else {\n        this.type = 'none';\n        this.solidColor = null;\n        this.linearGradient = null;\n        this.radialGradient = null;\n      }\n    }\n  }\n\n  /* eslint-disable jsdoc/require-property */\n  /**\n  * @namespace {PlainObject} jGraduate\n  * @memberof external:jQuery\n  */\n  $.jGraduate = /** @lends external:jQuery.jGraduate */ {\n    /* eslint-enable jsdoc/require-property */\n    /**\n    * @class external:jQuery.jGraduate.Paint\n    * @see module:jGraduate~Paint\n    */\n    Paint\n  };\n\n  // JSDoc doesn't show this as belonging to our `module:jGraduate.Options` type,\n  //   so we use `@see`\n  /**\n  * @namespace {module:jGraduate.Options} jGraduateDefaults\n  * @memberof external:jQuery.fn\n  */\n  $.fn.jGraduateDefaults = /** @lends external:jQuery.fn.jGraduateDefaults */ {\n    /**\n    * Creates an object with a 'none' color.\n    * @type {external:jQuery.jGraduate.Paint}\n    * @see module:jGraduate.Options\n    */\n    paint: new $.jGraduate.Paint(),\n    /**\n    * @namespace\n    */\n    window: {\n      /**\n      * @type {string}\n      * @see module:jGraduate.Options\n      */\n      pickerTitle: 'Drag markers to pick a paint'\n    },\n    /**\n    * @namespace\n    */\n    images: {\n      /**\n      * @type {string}\n      * @see module:jGraduate.Options\n      */\n      clientPath: 'images/'\n    },\n    /**\n    * @type {string}\n    * @see module:jGraduate.Options\n    */\n    newstop: 'inverse' // same, inverse, black, white\n  };\n\n  const isGecko = navigator.userAgent.includes('Gecko/');\n\n  /**\n  * @typedef {PlainObject<string, string>} module:jGraduate.Attrs\n  */\n  /**\n  * @param {SVGElement} elem\n  * @param {module:jGraduate.Attrs} attrs\n  * @returns {void}\n  */\n  function setAttrs (elem, attrs) {\n    if (isGecko) {\n      Object.entries(attrs).forEach(([aname, val]) => {\n        elem.setAttribute(aname, val);\n      });\n    } else {\n      Object.entries(attrs).forEach(([aname, val]) => {\n        const prop = elem[aname];\n        if (prop && prop.constructor === 'SVGLength') {\n          prop.baseVal.value = val;\n        } else {\n          elem.setAttribute(aname, val);\n        }\n      });\n    }\n  }\n\n  /**\n  * @param {string} name\n  * @param {module:jGraduate.Attrs} attrs\n  * @param {Element} newparent\n  * @returns {SVGElement}\n  */\n  function mkElem (name, attrs, newparent) {\n    const elem = document.createElementNS(ns.svg, name);\n    setAttrs(elem, attrs);\n    if (newparent) {\n      newparent.append(elem);\n    }\n    return elem;\n  }\n\n  /**\n  * @typedef {PlainObject} module:jGraduate.ColorOpac Object may have one or both values\n  * @property {string} [color] #Hex color\n  * @property {Float} [opac] 0-1\n  */\n  /**\n  * @typedef {PlainObject} module:jGraduate.Options\n  * @property {module:jGraduate~Paint} [paint] A Paint object object describing the paint to display initially; defaults to a new instance without options (defaults to opaque white)\n  * @property {external:Window} [window]\n  * @property {string} [window.pickerTitle='Drag markers to pick a paint']\n  * @property {PlainObject} [images]\n  * @property {string} [images.clientPath='images/']\n  * @property {\"same\"|\"inverse\"|\"black\"|\"white\"|module:jGraduate.ColorOpac} [newstop=\"inverse\"]\n  */\n\n  /**\n  * @callback external:jQuery.fn.jGraduate.OkCallback\n  * @param {external:jQuery.jGraduate.Paint} paint\n  * @returns {void}\n  */\n  /**\n  * @callback external:jQuery.fn.jGraduate.CancelCallback\n  * @returns {void}\n  */\n\n  /**\n  * @function external:jQuery.fn.jGraduate\n  * @param {module:jGraduate.Options} [options]\n  * @param {external:jQuery.fn.jGraduate.OkCallback} [okCallback] Called with a Paint object when Ok is pressed\n  * @param {external:jQuery.fn.jGraduate.CancelCallback} [cancelCallback] Called with no arguments when Cancel is pressed\n  * @returns {external:jQuery}\n  */\n  $.fn.jGraduate = function (options, okCallback, cancelCallback) {\n    return this.each(function () {\n      const $this = $(this),\n        $settings = $.extend(true, {}, $.fn.jGraduateDefaults, options || {}),\n        id = $this.attr('id'),\n        idref = '#' + $this.attr('id') + ' ';\n\n      if (!idref) {\n        /* await */ $.alert('Container element must have an id attribute to maintain unique id strings for sub-elements.');\n        return;\n      }\n\n      const okClicked = function () {\n        switch ($this.paint.type) {\n        case 'radialGradient':\n          $this.paint.linearGradient = null;\n          break;\n        case 'linearGradient':\n          $this.paint.radialGradient = null;\n          break;\n        case 'solidColor':\n          $this.paint.radialGradient = $this.paint.linearGradient = null;\n          break;\n        }\n        typeof $this.okCallback === 'function' && $this.okCallback($this.paint);\n        $this.hide();\n      };\n      const cancelClicked = function () {\n        typeof $this.cancelCallback === 'function' && $this.cancelCallback();\n        $this.hide();\n      };\n\n      $.extend(\n        true,\n        $this,\n        // public properties, methods, and callbacks\n        {\n          // make a copy of the incoming paint\n          paint: new $.jGraduate.Paint({copy: $settings.paint}),\n          okCallback: typeof okCallback === 'function' ? okCallback : null,\n          cancelCallback: typeof cancelCallback === 'function' ? cancelCallback : null\n        }\n      );\n\n      let // pos = $this.position(),\n        color = null;\n      const $win = $(window);\n\n      if ($this.paint.type === 'none') {\n        $this.paint = new $.jGraduate.Paint({solidColor: 'ffffff'});\n      }\n\n      $this.addClass('jGraduate_Picker');\n      /* eslint-disable max-len */\n      $this.html(\n        '<ul class=\"jGraduate_tabs\">' +\n          '<li class=\"jGraduate_tab_color jGraduate_tab_current\" data-type=\"col\">Solid Color</li>' +\n          '<li class=\"jGraduate_tab_lingrad\" data-type=\"lg\">Linear Gradient</li>' +\n          '<li class=\"jGraduate_tab_radgrad\" data-type=\"rg\">Radial Gradient</li>' +\n        '</ul>' +\n        '<div class=\"jGraduate_colPick\"></div>' +\n        '<div class=\"jGraduate_gradPick\"></div>' +\n        '<div class=\"jGraduate_LightBox\"></div>' +\n        '<div id=\"' + id + '_jGraduate_stopPicker\" class=\"jGraduate_stopPicker\"></div>'\n      );\n      const colPicker = $(idref + '> .jGraduate_colPick');\n      const gradPicker = $(idref + '> .jGraduate_gradPick');\n\n      gradPicker.html(\n        '<div id=\"' + id + '_jGraduate_Swatch\" class=\"jGraduate_Swatch\">' +\n          '<h2 class=\"jGraduate_Title\">' + $settings.window.pickerTitle + '</h2>' +\n          '<div id=\"' + id + '_jGraduate_GradContainer\" class=\"jGraduate_GradContainer\"></div>' +\n          '<div id=\"' + id + '_jGraduate_StopSlider\" class=\"jGraduate_StopSlider\"></div>' +\n        '</div>' +\n        '<div class=\"jGraduate_Form jGraduate_Points jGraduate_lg_field\">' +\n          '<div class=\"jGraduate_StopSection\">' +\n            '<label class=\"jGraduate_Form_Heading\">Begin Point</label>' +\n            '<div class=\"jGraduate_Form_Section\">' +\n              '<label>x:</label>' +\n              '<input type=\"text\" id=\"' + id + '_jGraduate_x1\" size=\"3\" title=\"Enter starting x value between 0.0 and 1.0\"/>' +\n              '<label>y:</label>' +\n              '<input type=\"text\" id=\"' + id + '_jGraduate_y1\" size=\"3\" title=\"Enter starting y value between 0.0 and 1.0\"/>' +\n            '</div>' +\n          '</div>' +\n          '<div class=\"jGraduate_StopSection\">' +\n            '<label class=\"jGraduate_Form_Heading\">End Point</label>' +\n            '<div class=\"jGraduate_Form_Section\">' +\n              '<label>x:</label>' +\n              '<input type=\"text\" id=\"' + id + '_jGraduate_x2\" size=\"3\" title=\"Enter ending x value between 0.0 and 1.0\"/>' +\n              '<label>y:</label>' +\n              '<input type=\"text\" id=\"' + id + '_jGraduate_y2\" size=\"3\" title=\"Enter ending y value between 0.0 and 1.0\"/>' +\n            '</div>' +\n          '</div>' +\n        '</div>' +\n        '<div class=\"jGraduate_Form jGraduate_Points jGraduate_rg_field\">' +\n          '<div class=\"jGraduate_StopSection\">' +\n            '<label class=\"jGraduate_Form_Heading\">Center Point</label>' +\n            '<div class=\"jGraduate_Form_Section\">' +\n              '<label>x:</label>' +\n              '<input type=\"text\" id=\"' + id + '_jGraduate_cx\" size=\"3\" title=\"Enter x value between 0.0 and 1.0\"/>' +\n              '<label>y:</label>' +\n              '<input type=\"text\" id=\"' + id + '_jGraduate_cy\" size=\"3\" title=\"Enter y value between 0.0 and 1.0\"/>' +\n            '</div>' +\n          '</div>' +\n          '<div class=\"jGraduate_StopSection\">' +\n            '<label class=\"jGraduate_Form_Heading\">Focal Point</label>' +\n            '<div class=\"jGraduate_Form_Section\">' +\n              '<label>Match center: <input type=\"checkbox\" checked=\"checked\" id=\"' + id + '_jGraduate_match_ctr\"/></label><br/>' +\n              '<label>x:</label>' +\n              '<input type=\"text\" id=\"' + id + '_jGraduate_fx\" size=\"3\" title=\"Enter x value between 0.0 and 1.0\"/>' +\n              '<label>y:</label>' +\n              '<input type=\"text\" id=\"' + id + '_jGraduate_fy\" size=\"3\" title=\"Enter y value between 0.0 and 1.0\"/>' +\n            '</div>' +\n          '</div>' +\n        '</div>' +\n        '<div class=\"jGraduate_StopSection jGraduate_SpreadMethod\">' +\n          '<label class=\"jGraduate_Form_Heading\">Spread method</label>' +\n          '<div class=\"jGraduate_Form_Section\">' +\n            '<select class=\"jGraduate_spreadMethod\">' +\n              '<option value=pad selected>Pad</option>' +\n              '<option value=reflect>Reflect</option>' +\n              '<option value=repeat>Repeat</option>' +\n            '</select>' +\n          '</div>' +\n        '</div>' +\n        '<div class=\"jGraduate_Form\">' +\n          '<div class=\"jGraduate_Slider jGraduate_RadiusField jGraduate_rg_field\">' +\n            '<label class=\"prelabel\">Radius:</label>' +\n            '<div id=\"' + id + '_jGraduate_Radius\" class=\"jGraduate_SliderBar jGraduate_Radius\" title=\"Click to set radius\">' +\n              '<img id=\"' + id + '_jGraduate_RadiusArrows\" class=\"jGraduate_RadiusArrows\" src=\"' + $settings.images.clientPath + 'rangearrows2.gif\">' +\n            '</div>' +\n            '<label><input type=\"text\" id=\"' + id + '_jGraduate_RadiusInput\" size=\"3\" value=\"100\"/>%</label>' +\n          '</div>' +\n          '<div class=\"jGraduate_Slider jGraduate_EllipField jGraduate_rg_field\">' +\n            '<label class=\"prelabel\">Ellip:</label>' +\n            '<div id=\"' + id + '_jGraduate_Ellip\" class=\"jGraduate_SliderBar jGraduate_Ellip\" title=\"Click to set Ellip\">' +\n              '<img id=\"' + id + '_jGraduate_EllipArrows\" class=\"jGraduate_EllipArrows\" src=\"' + $settings.images.clientPath + 'rangearrows2.gif\">' +\n            '</div>' +\n            '<label><input type=\"text\" id=\"' + id + '_jGraduate_EllipInput\" size=\"3\" value=\"0\"/>%</label>' +\n          '</div>' +\n          '<div class=\"jGraduate_Slider jGraduate_AngleField jGraduate_rg_field\">' +\n            '<label class=\"prelabel\">Angle:</label>' +\n            '<div id=\"' + id + '_jGraduate_Angle\" class=\"jGraduate_SliderBar jGraduate_Angle\" title=\"Click to set Angle\">' +\n              '<img id=\"' + id + '_jGraduate_AngleArrows\" class=\"jGraduate_AngleArrows\" src=\"' + $settings.images.clientPath + 'rangearrows2.gif\">' +\n            '</div>' +\n            '<label><input type=\"text\" id=\"' + id + '_jGraduate_AngleInput\" size=\"3\" value=\"0\"/>deg</label>' +\n          '</div>' +\n          '<div class=\"jGraduate_Slider jGraduate_OpacField\">' +\n            '<label class=\"prelabel\">Opac:</label>' +\n            '<div id=\"' + id + '_jGraduate_Opac\" class=\"jGraduate_SliderBar jGraduate_Opac\" title=\"Click to set Opac\">' +\n              '<img id=\"' + id + '_jGraduate_OpacArrows\" class=\"jGraduate_OpacArrows\" src=\"' + $settings.images.clientPath + 'rangearrows2.gif\">' +\n            '</div>' +\n            '<label><input type=\"text\" id=\"' + id + '_jGraduate_OpacInput\" size=\"3\" value=\"100\"/>%</label>' +\n          '</div>' +\n        '</div>' +\n        '<div class=\"jGraduate_OkCancel\">' +\n          '<input type=\"button\" id=\"' + id + '_jGraduate_Ok\" class=\"jGraduate_Ok\" value=\"OK\"/>' +\n          '<input type=\"button\" id=\"' + id + '_jGraduate_Cancel\" class=\"jGraduate_Cancel\" value=\"Cancel\"/>' +\n        '</div>'\n      );\n      /* eslint-enable max-len */\n      // --------------\n      // Set up all the SVG elements (the gradient, stops and rectangle)\n      const MAX = 256,\n        MARGINX = 0,\n        MARGINY = 0,\n        // STOP_RADIUS = 15 / 2,\n        SIZEX = MAX - 2 * MARGINX,\n        SIZEY = MAX - 2 * MARGINY;\n\n      const attrInput = {};\n\n      const SLIDERW = 145;\n      $('.jGraduate_SliderBar').width(SLIDERW);\n\n      const container = $('#' + id + '_jGraduate_GradContainer')[0];\n\n      const svg = mkElem('svg', {\n        id: id + '_jgraduate_svg',\n        width: MAX,\n        height: MAX,\n        xmlns: ns.svg\n      }, container);\n\n      // This wasn't working as designed\n      // let curType;\n      // curType = curType || $this.paint.type;\n\n      // if we are sent a gradient, import it\n      let curType = $this.paint.type;\n\n      let grad = $this.paint[curType];\n      let curGradient = grad;\n\n      const gradalpha = $this.paint.alpha;\n\n      const isSolid = curType === 'solidColor';\n\n      // Make any missing gradients\n      switch (curType) {\n      case 'solidColor':\n        // fall through\n      case 'linearGradient':\n        if (!isSolid) {\n          curGradient.id = id + '_lg_jgraduate_grad';\n          grad = curGradient = svg.appendChild(curGradient); // .cloneNode(true));\n        }\n        mkElem('radialGradient', {\n          id: id + '_rg_jgraduate_grad'\n        }, svg);\n        if (curType === 'linearGradient') { break; }\n        // fall through\n      case 'radialGradient':\n        if (!isSolid) {\n          curGradient.id = id + '_rg_jgraduate_grad';\n          grad = curGradient = svg.appendChild(curGradient); // .cloneNode(true));\n        }\n        mkElem('linearGradient', {\n          id: id + '_lg_jgraduate_grad'\n        }, svg);\n      }\n\n      let stopGroup; // eslint-disable-line prefer-const\n      if (isSolid) {\n        grad = curGradient = $('#' + id + '_lg_jgraduate_grad')[0];\n        color = $this.paint[curType];\n        mkStop(0, '#' + color, 1);\n\n        const type = typeof $settings.newstop;\n\n        if (type === 'string') {\n          switch ($settings.newstop) {\n          case 'same':\n            mkStop(1, '#' + color, 1);\n            break;\n\n          case 'inverse': {\n            // Invert current color for second stop\n            let inverted = '';\n            for (let i = 0; i < 6; i += 2) {\n              // const ch = color.substr(i, 2);\n              let inv = (255 - Number.parseInt(color.substr(i, 2), 16)).toString(16);\n              if (inv.length < 2) inv = 0 + inv;\n              inverted += inv;\n            }\n            mkStop(1, '#' + inverted, 1);\n            break;\n          } case 'white':\n            mkStop(1, '#ffffff', 1);\n            break;\n\n          case 'black':\n            mkStop(1, '#000000', 1);\n            break;\n          }\n        } else if (type === 'object') {\n          const opac = ('opac' in $settings.newstop) ? $settings.newstop.opac : 1;\n          mkStop(1, ($settings.newstop.color || '#' + color), opac);\n        }\n      }\n\n      const x1 = Number.parseFloat(grad.getAttribute('x1') || 0.0),\n        y1 = Number.parseFloat(grad.getAttribute('y1') || 0.0),\n        x2 = Number.parseFloat(grad.getAttribute('x2') || 1.0),\n        y2 = Number.parseFloat(grad.getAttribute('y2') || 0.0);\n\n      const cx = Number.parseFloat(grad.getAttribute('cx') || 0.5),\n        cy = Number.parseFloat(grad.getAttribute('cy') || 0.5),\n        fx = Number.parseFloat(grad.getAttribute('fx') || cx),\n        fy = Number.parseFloat(grad.getAttribute('fy') || cy);\n\n      const previewRect = mkElem('rect', {\n        id: id + '_jgraduate_rect',\n        x: MARGINX,\n        y: MARGINY,\n        width: SIZEX,\n        height: SIZEY,\n        fill: 'url(#' + id + '_jgraduate_grad)',\n        'fill-opacity': gradalpha / 100\n      }, svg);\n\n      // stop visuals created here\n      const beginCoord = $('<div/>').attr({\n        class: 'grad_coord jGraduate_lg_field',\n        title: 'Begin Stop'\n      }).text(1).css({\n        top: y1 * MAX,\n        left: x1 * MAX\n      }).data('coord', 'start').appendTo(container);\n\n      const endCoord = beginCoord.clone().text(2).css({\n        top: y2 * MAX,\n        left: x2 * MAX\n      }).attr('title', 'End stop').data('coord', 'end').appendTo(container);\n\n      const centerCoord = $('<div/>').attr({\n        class: 'grad_coord jGraduate_rg_field',\n        title: 'Center stop'\n      }).text('C').css({\n        top: cy * MAX,\n        left: cx * MAX\n      }).data('coord', 'center').appendTo(container);\n\n      const focusCoord = centerCoord.clone().text('F').css({\n        top: fy * MAX,\n        left: fx * MAX,\n        display: 'none'\n      }).attr('title', 'Focus point').data('coord', 'focus').appendTo(container);\n\n      focusCoord[0].id = id + '_jGraduate_focusCoord';\n\n      // const coords = $(idref + ' .grad_coord');\n\n      // $(container).hover(function () {\n      //   coords.animate({\n      //     opacity: 1\n      //   }, 500);\n      // }, function () {\n      //   coords.animate({\n      //     opacity: .2\n      //   }, 500);\n      // });\n\n      let showFocus;\n      $.each(['x1', 'y1', 'x2', 'y2', 'cx', 'cy', 'fx', 'fy'], function (i, attr) {\n        const isRadial = isNaN(attr[1]);\n\n        let attrval = curGradient.getAttribute(attr);\n        if (!attrval) {\n          // Set defaults\n          if (isRadial) {\n            // For radial points\n            attrval = '0.5';\n          } else {\n            // Only x2 is 1\n            attrval = attr === 'x2' ? '1.0' : '0.0';\n          }\n        }\n\n        attrInput[attr] = $('#' + id + '_jGraduate_' + attr)\n          .val(attrval)\n          .change(function () {\n            // TODO: Support values < 0 and > 1 (zoomable preview?)\n            if (isNaN(Number.parseFloat(this.value)) || this.value < 0) {\n              this.value = 0.0;\n            } else if (this.value > 1) {\n              this.value = 1.0;\n            }\n\n            if (!(attr[0] === 'f' && !showFocus)) {\n              if ((isRadial && curType === 'radialGradient') || (!isRadial && curType === 'linearGradient')) {\n                curGradient.setAttribute(attr, this.value);\n              }\n            }\n\n            const $elem = isRadial\n              ? attr[0] === 'c' ? centerCoord : focusCoord\n              : attr[1] === '1' ? beginCoord : endCoord;\n\n            const cssName = attr.includes('x') ? 'left' : 'top';\n\n            $elem.css(cssName, this.value * MAX);\n          }).change();\n      });\n\n      /**\n       *\n       * @param {Float} n\n       * @param {Float|string} colr\n       * @param {Float} opac\n       * @param {boolean} [sel]\n       * @param {SVGStopElement} [stopElem]\n       * @returns {SVGStopElement}\n       */\n      function mkStop (n, colr, opac, sel, stopElem) {\n        const stop = stopElem || mkElem('stop', {\n          'stop-color': colr,\n          'stop-opacity': opac,\n          offset: n\n        }, curGradient);\n        if (stopElem) {\n          colr = stopElem.getAttribute('stop-color');\n          opac = stopElem.getAttribute('stop-opacity');\n          n = stopElem.getAttribute('offset');\n        } else {\n          curGradient.append(stop);\n        }\n        if (opac === null) opac = 1;\n\n        const pickerD = 'M-6.2,0.9c3.6-4,6.7-4.3,6.7-12.4c-0.2,7.9,' +\n          '3.1,8.8,6.5,12.4c3.5,3.8,2.9,9.6,0,12.3c-3.1,2.8-10.4,' +\n          '2.7-13.2,0C-9.6,9.9-9.4,4.4-6.2,0.9z';\n\n        const pathbg = mkElem('path', {\n          d: pickerD,\n          fill: 'url(#jGraduate_trans)',\n          transform: 'translate(' + (10 + n * MAX) + ', 26)'\n        }, stopGroup);\n\n        const path = mkElem('path', {\n          d: pickerD,\n          fill: colr,\n          'fill-opacity': opac,\n          transform: 'translate(' + (10 + n * MAX) + ', 26)',\n          stroke: '#000',\n          'stroke-width': 1.5\n        }, stopGroup);\n\n        $(path).mousedown(function (e) {\n          selectStop(this);\n          drag = curStop;\n          $win.mousemove(dragColor).mouseup(remDrags);\n          stopOffset = stopMakerDiv.offset();\n          e.preventDefault();\n          return false;\n        }).data('stop', stop).data('bg', pathbg).dblclick(function () {\n          $('div.jGraduate_LightBox').show();\n          const colorhandle = this;\n          let stopOpacity = Number(stop.getAttribute('stop-opacity')) || 1;\n          let stopColor = stop.getAttribute('stop-color') || 1;\n          let thisAlpha = (Number.parseFloat(stopOpacity) * 255).toString(16);\n          while (thisAlpha.length < 2) { thisAlpha = '0' + thisAlpha; }\n          colr = stopColor.substr(1) + thisAlpha;\n          $('#' + id + '_jGraduate_stopPicker').css({left: 100, bottom: 15}).jPicker({\n            window: {title: 'Pick the start color and opacity for the gradient'},\n            images: {clientPath: $settings.images.clientPath},\n            color: {active: colr, alphaSupport: true}\n          }, function (clr, arg2) {\n            stopColor = clr.val('hex') ? ('#' + clr.val('hex')) : 'none';\n            stopOpacity = clr.val('a') !== null ? clr.val('a') / 256 : 1;\n            colorhandle.setAttribute('fill', stopColor);\n            colorhandle.setAttribute('fill-opacity', stopOpacity);\n            stop.setAttribute('stop-color', stopColor);\n            stop.setAttribute('stop-opacity', stopOpacity);\n            $('div.jGraduate_LightBox').hide();\n            $('#' + id + '_jGraduate_stopPicker').hide();\n          }, null, function () {\n            $('div.jGraduate_LightBox').hide();\n            $('#' + id + '_jGraduate_stopPicker').hide();\n          });\n        });\n\n        $(curGradient).find('stop').each(function () {\n          const curS = $(this);\n          if (Number(this.getAttribute('offset')) > n) {\n            if (!colr) {\n              const newcolor = this.getAttribute('stop-color');\n              const newopac = this.getAttribute('stop-opacity');\n              stop.setAttribute('stop-color', newcolor);\n              path.setAttribute('fill', newcolor);\n              stop.setAttribute('stop-opacity', newopac === null ? 1 : newopac);\n              path.setAttribute('fill-opacity', newopac === null ? 1 : newopac);\n            }\n            curS.before(stop);\n            return false;\n          }\n          return true;\n        });\n        if (sel) selectStop(path);\n        return stop;\n      }\n\n      /**\n      *\n      * @returns {void}\n      */\n      function remStop () {\n        delStop.setAttribute('display', 'none');\n        const path = $(curStop);\n        const stop = path.data('stop');\n        const bg = path.data('bg');\n        $([curStop, stop, bg]).remove();\n      }\n\n      const stopMakerDiv = $('#' + id + '_jGraduate_StopSlider');\n\n      let stops, curStop, drag;\n\n      const delStop = mkElem('path', {\n        d: 'm9.75,-6l-19.5,19.5m0,-19.5l19.5,19.5',\n        fill: 'none',\n        stroke: '#D00',\n        'stroke-width': 5,\n        display: 'none'\n      }, undefined); // stopMakerSVG);\n\n      /**\n      * @param {Element} item\n      * @returns {void}\n      */\n      function selectStop (item) {\n        if (curStop) curStop.setAttribute('stroke', '#000');\n        item.setAttribute('stroke', 'blue');\n        curStop = item;\n        //   stops = $('stop');\n        //   opac_select.val(curStop.attr('fill-opacity') || 1);\n        //   root.append(delStop);\n      }\n\n      let stopOffset;\n\n      /**\n      *\n      * @returns {void}\n      */\n      function remDrags () {\n        $win.unbind('mousemove', dragColor);\n        if (delStop.getAttribute('display') !== 'none') {\n          remStop();\n        }\n        drag = null;\n      }\n\n      let scaleX = 1, scaleY = 1, angle = 0;\n\n      let cX = cx;\n      let cY = cy;\n      /**\n      *\n      * @returns {void}\n      */\n      function xform () {\n        const rot = angle ? 'rotate(' + angle + ',' + cX + ',' + cY + ') ' : '';\n        if (scaleX === 1 && scaleY === 1) {\n          curGradient.removeAttribute('gradientTransform');\n          // $('#ang').addClass('dis');\n        } else {\n          const x = -cX * (scaleX - 1);\n          const y = -cY * (scaleY - 1);\n          curGradient.setAttribute(\n            'gradientTransform',\n            rot + 'translate(' + x + ',' + y + ') scale(' +\n              scaleX + ',' + scaleY + ')'\n          );\n          // $('#ang').removeClass('dis');\n        }\n      }\n\n      /**\n      * @param {Event} evt\n      * @returns {void}\n      */\n      function dragColor (evt) {\n        let x = evt.pageX - stopOffset.left;\n        const y = evt.pageY - stopOffset.top;\n        x = x < 10\n          ? 10\n          : x > MAX + 10\n            ? MAX + 10\n            : x;\n\n        const xfStr = 'translate(' + x + ', 26)';\n        if (y < -60 || y > 130) {\n          delStop.setAttribute('display', 'block');\n          delStop.setAttribute('transform', xfStr);\n        } else {\n          delStop.setAttribute('display', 'none');\n        }\n\n        drag.setAttribute('transform', xfStr);\n        $.data(drag, 'bg').setAttribute('transform', xfStr);\n        const stop = $.data(drag, 'stop');\n        const sX = (x - 10) / MAX;\n\n        stop.setAttribute('offset', sX);\n\n        let last = 0;\n        $(curGradient).find('stop').each(function (i) {\n          const cur = this.getAttribute('offset');\n          const t = $(this);\n          if (cur < last) {\n            t.prev().before(t);\n            stops = $(curGradient).find('stop');\n          }\n          last = cur;\n        });\n      }\n\n      const stopMakerSVG = mkElem('svg', {\n        width: '100%',\n        height: 45\n      }, stopMakerDiv[0]);\n\n      const transPattern = mkElem('pattern', {\n        width: 16,\n        height: 16,\n        patternUnits: 'userSpaceOnUse',\n        id: 'jGraduate_trans'\n      }, stopMakerSVG);\n\n      const transImg = mkElem('image', {\n        width: 16,\n        height: 16\n      }, transPattern);\n\n      const bgImage = $settings.images.clientPath + 'map-opacity.png';\n\n      transImg.setAttributeNS(ns.xlink, 'xlink:href', bgImage);\n\n      $(stopMakerSVG).click(function (evt) {\n        stopOffset = stopMakerDiv.offset();\n        const {target} = evt;\n        if (target.tagName === 'path') return;\n        let x = evt.pageX - stopOffset.left - 8;\n        x = x < 10 ? 10 : x > MAX + 10 ? MAX + 10 : x;\n        mkStop(x / MAX, 0, 0, true);\n        evt.stopPropagation();\n      });\n\n      $(stopMakerSVG).mouseover(function () {\n        stopMakerSVG.append(delStop);\n      });\n\n      stopGroup = mkElem('g', {}, stopMakerSVG);\n\n      mkElem('line', {\n        x1: 10,\n        y1: 15,\n        x2: MAX + 10,\n        y2: 15,\n        'stroke-width': 2,\n        stroke: '#000'\n      }, stopMakerSVG);\n\n      const spreadMethodOpt = gradPicker.find('.jGraduate_spreadMethod').change(function () {\n        curGradient.setAttribute('spreadMethod', $(this).val());\n      });\n\n      // handle dragging the stop around the swatch\n      let draggingCoord = null;\n\n      const onCoordDrag = function (evt) {\n        let x = evt.pageX - offset.left;\n        let y = evt.pageY - offset.top;\n\n        // clamp stop to the swatch\n        x = x < 0 ? 0 : x > MAX ? MAX : x;\n        y = y < 0 ? 0 : y > MAX ? MAX : y;\n\n        draggingCoord.css('left', x).css('top', y);\n\n        // calculate stop offset\n        const fracx = x / SIZEX;\n        const fracy = y / SIZEY;\n\n        const type = draggingCoord.data('coord');\n        const grd = curGradient;\n\n        switch (type) {\n        case 'start':\n          attrInput.x1.val(fracx);\n          attrInput.y1.val(fracy);\n          grd.setAttribute('x1', fracx);\n          grd.setAttribute('y1', fracy);\n          break;\n        case 'end':\n          attrInput.x2.val(fracx);\n          attrInput.y2.val(fracy);\n          grd.setAttribute('x2', fracx);\n          grd.setAttribute('y2', fracy);\n          break;\n        case 'center':\n          attrInput.cx.val(fracx);\n          attrInput.cy.val(fracy);\n          grd.setAttribute('cx', fracx);\n          grd.setAttribute('cy', fracy);\n          cX = fracx;\n          cY = fracy;\n          xform();\n          break;\n        case 'focus':\n          attrInput.fx.val(fracx);\n          attrInput.fy.val(fracy);\n          grd.setAttribute('fx', fracx);\n          grd.setAttribute('fy', fracy);\n          xform();\n        }\n\n        evt.preventDefault();\n      };\n\n      const onCoordUp = function () {\n        draggingCoord = null;\n        $win.unbind('mousemove', onCoordDrag).unbind('mouseup', onCoordUp);\n      };\n\n      // Linear gradient\n      // (function () {\n\n      stops = curGradient.getElementsByTagNameNS(ns.svg, 'stop');\n\n      let numstops = stops.length;\n      // if there are not at least two stops, then\n      if (numstops < 2) {\n        while (numstops < 2) {\n          curGradient.append(document.createElementNS(ns.svg, 'stop'));\n          ++numstops;\n        }\n        stops = curGradient.getElementsByTagNameNS(ns.svg, 'stop');\n      }\n\n      for (let i = 0; i < numstops; i++) {\n        mkStop(0, 0, 0, 0, stops[i]);\n      }\n\n      spreadMethodOpt.val(curGradient.getAttribute('spreadMethod') || 'pad');\n\n      let offset;\n\n      // No match, so show focus point\n      showFocus = false;\n\n      previewRect.setAttribute('fill-opacity', gradalpha / 100);\n\n      $('#' + id + ' div.grad_coord').mousedown(function (evt) {\n        evt.preventDefault();\n        draggingCoord = $(this);\n        // const sPos = draggingCoord.offset();\n        offset = draggingCoord.parent().offset();\n        $win.mousemove(onCoordDrag).mouseup(onCoordUp);\n      });\n\n      // bind GUI elements\n      $('#' + id + '_jGraduate_Ok').bind('click', function () {\n        $this.paint.type = curType;\n        $this.paint[curType] = curGradient.cloneNode(true);\n        $this.paint.solidColor = null;\n        okClicked();\n      });\n      $('#' + id + '_jGraduate_Cancel').bind('click', function (paint) {\n        cancelClicked();\n      });\n\n      if (curType === 'radialGradient') {\n        if (showFocus) {\n          focusCoord.show();\n        } else {\n          focusCoord.hide();\n          attrInput.fx.val('');\n          attrInput.fy.val('');\n        }\n      }\n\n      $('#' + id + '_jGraduate_match_ctr')[0].checked = !showFocus;\n\n      let lastfx, lastfy;\n\n      $('#' + id + '_jGraduate_match_ctr').change(function () {\n        showFocus = !this.checked;\n        focusCoord.toggle(showFocus);\n        attrInput.fx.val('');\n        attrInput.fy.val('');\n        const grd = curGradient;\n        if (!showFocus) {\n          lastfx = grd.getAttribute('fx');\n          lastfy = grd.getAttribute('fy');\n          grd.removeAttribute('fx');\n          grd.removeAttribute('fy');\n        } else {\n          const fX = lastfx || 0.5;\n          const fY = lastfy || 0.5;\n          grd.setAttribute('fx', fX);\n          grd.setAttribute('fy', fY);\n          attrInput.fx.val(fX);\n          attrInput.fy.val(fY);\n        }\n      });\n\n      stops = curGradient.getElementsByTagNameNS(ns.svg, 'stop');\n      numstops = stops.length;\n      // if there are not at least two stops, then\n      if (numstops < 2) {\n        while (numstops < 2) {\n          curGradient.append(document.createElementNS(ns.svg, 'stop'));\n          ++numstops;\n        }\n        stops = curGradient.getElementsByTagNameNS(ns.svg, 'stop');\n      }\n\n      let slider;\n\n      const setSlider = function (e) {\n        const {offset: {left}} = slider;\n        const div = slider.parent;\n        let x = (e.pageX - left - Number.parseInt(div.css('border-left-width')));\n        if (x > SLIDERW) x = SLIDERW;\n        if (x <= 0) x = 0;\n        const posx = x - 5;\n        x /= SLIDERW;\n\n        switch (slider.type) {\n        case 'radius':\n          x = (x * 2) ** 2.5;\n          if (x > 0.98 && x < 1.02) x = 1;\n          if (x <= 0.01) x = 0.01;\n          curGradient.setAttribute('r', x);\n          break;\n        case 'opacity':\n          $this.paint.alpha = Number.parseInt(x * 100);\n          previewRect.setAttribute('fill-opacity', x);\n          break;\n        case 'ellip':\n          scaleX = 1;\n          scaleY = 1;\n          if (x < 0.5) {\n            x /= 0.5; // 0.001\n            scaleX = x <= 0 ? 0.01 : x;\n          } else if (x > 0.5) {\n            x /= 0.5; // 2\n            x = 2 - x;\n            scaleY = x <= 0 ? 0.01 : x;\n          }\n          xform();\n          x -= 1;\n          if (scaleY === x + 1) {\n            x = Math.abs(x);\n          }\n          break;\n        case 'angle':\n          x -= 0.5;\n          angle = x *= 180;\n          xform();\n          x /= 100;\n          break;\n        }\n        slider.elem.css({'margin-left': posx});\n        x = Math.round(x * 100);\n        slider.input.val(x);\n      };\n\n      let ellipVal = 0, angleVal = 0;\n\n      if (curType === 'radialGradient') {\n        const tlist = curGradient.gradientTransform.baseVal;\n        if (tlist.numberOfItems === 2) {\n          const t = tlist.getItem(0);\n          const s = tlist.getItem(1);\n          if (t.type === 2 && s.type === 3) {\n            const m = s.matrix;\n            if (m.a !== 1) {\n              ellipVal = Math.round(-(1 - m.a) * 100);\n            } else if (m.d !== 1) {\n              ellipVal = Math.round((1 - m.d) * 100);\n            }\n          }\n        } else if (tlist.numberOfItems === 3) {\n          // Assume [R][T][S]\n          const r = tlist.getItem(0);\n          const t = tlist.getItem(1);\n          const s = tlist.getItem(2);\n\n          if (r.type === 4 &&\n            t.type === 2 &&\n            s.type === 3\n          ) {\n            angleVal = Math.round(r.angle);\n            const m = s.matrix;\n            if (m.a !== 1) {\n              ellipVal = Math.round(-(1 - m.a) * 100);\n            } else if (m.d !== 1) {\n              ellipVal = Math.round((1 - m.d) * 100);\n            }\n          }\n        }\n      }\n\n      const sliders = {\n        radius: {\n          handle: '#' + id + '_jGraduate_RadiusArrows',\n          input: '#' + id + '_jGraduate_RadiusInput',\n          val: (curGradient.getAttribute('r') || 0.5) * 100\n        },\n        opacity: {\n          handle: '#' + id + '_jGraduate_OpacArrows',\n          input: '#' + id + '_jGraduate_OpacInput',\n          val: $this.paint.alpha || 100\n        },\n        ellip: {\n          handle: '#' + id + '_jGraduate_EllipArrows',\n          input: '#' + id + '_jGraduate_EllipInput',\n          val: ellipVal\n        },\n        angle: {\n          handle: '#' + id + '_jGraduate_AngleArrows',\n          input: '#' + id + '_jGraduate_AngleInput',\n          val: angleVal\n        }\n      };\n\n      $.each(sliders, function (type, data) {\n        const handle = $(data.handle);\n        handle.mousedown(function (evt) {\n          const parent = handle.parent();\n          slider = {\n            type,\n            elem: handle,\n            input: $(data.input),\n            parent,\n            offset: parent.offset()\n          };\n          $win.mousemove(dragSlider).mouseup(stopSlider);\n          evt.preventDefault();\n        });\n\n        $(data.input).val(data.val).change(function () {\n          const isRad = curType === 'radialGradient';\n          let val = Number(this.value);\n          let xpos = 0;\n          switch (type) {\n          case 'radius':\n            if (isRad) curGradient.setAttribute('r', val / 100);\n            xpos = (((val / 100) ** (1 / 2.5)) / 2) * SLIDERW;\n            break;\n\n          case 'opacity':\n            $this.paint.alpha = val;\n            previewRect.setAttribute('fill-opacity', val / 100);\n            xpos = val * (SLIDERW / 100);\n            break;\n\n          case 'ellip':\n            scaleX = scaleY = 1;\n            if (val === 0) {\n              xpos = SLIDERW * 0.5;\n              break;\n            }\n            if (val > 99.5) val = 99.5;\n            if (val > 0) {\n              scaleY = 1 - (val / 100);\n            } else {\n              scaleX = -(val / 100) - 1;\n            }\n\n            xpos = SLIDERW * ((val + 100) / 2) / 100;\n            if (isRad) xform();\n            break;\n\n          case 'angle':\n            angle = val;\n            xpos = angle / 180;\n            xpos += 0.5;\n            xpos *= SLIDERW;\n            if (isRad) xform();\n          }\n          if (xpos > SLIDERW) {\n            xpos = SLIDERW;\n          } else if (xpos < 0) {\n            xpos = 0;\n          }\n          handle.css({'margin-left': xpos - 5});\n        }).change();\n      });\n\n      const dragSlider = function (evt) {\n        setSlider(evt);\n        evt.preventDefault();\n      };\n\n      const stopSlider = function (evt) {\n        $win.unbind('mousemove', dragSlider).unbind('mouseup', stopSlider);\n        slider = null;\n      };\n\n      // --------------\n      let thisAlpha = ($this.paint.alpha * 255 / 100).toString(16);\n      while (thisAlpha.length < 2) { thisAlpha = '0' + thisAlpha; }\n      thisAlpha = thisAlpha.split('.')[0];\n      color = $this.paint.solidColor === 'none' ? '' : $this.paint.solidColor + thisAlpha;\n\n      if (!isSolid) {\n        color = stops[0].getAttribute('stop-color');\n      }\n\n      // This should be done somewhere else, probably\n      $.extend($.fn.jPicker.defaults.window, {\n        alphaSupport: true, effects: {type: 'show', speed: 0}\n      });\n\n      colPicker.jPicker(\n        {\n          window: {title: $settings.window.pickerTitle},\n          images: {clientPath: $settings.images.clientPath},\n          color: {active: color, alphaSupport: true}\n        },\n        function (clr) {\n          $this.paint.type = 'solidColor';\n          $this.paint.alpha = clr.val('ahex') ? Math.round((clr.val('a') / 255) * 100) : 100;\n          $this.paint.solidColor = clr.val('hex') ? clr.val('hex') : 'none';\n          $this.paint.radialGradient = null;\n          okClicked();\n        },\n        null,\n        function () { cancelClicked(); }\n      );\n\n      const tabs = $(idref + ' .jGraduate_tabs li');\n      tabs.click(function () {\n        tabs.removeClass('jGraduate_tab_current');\n        $(this).addClass('jGraduate_tab_current');\n        $(idref + ' > div').hide();\n        const type = $(this).attr('data-type');\n        /* const container = */ $(idref + ' .jGraduate_gradPick').show();\n        if (type === 'rg' || type === 'lg') {\n          // Show/hide appropriate fields\n          $('.jGraduate_' + type + '_field').show();\n          $('.jGraduate_' + (type === 'lg' ? 'rg' : 'lg') + '_field').hide();\n\n          $('#' + id + '_jgraduate_rect')[0].setAttribute('fill', 'url(#' + id + '_' + type + '_jgraduate_grad)');\n\n          // Copy stops\n\n          curType = type === 'lg' ? 'linearGradient' : 'radialGradient';\n\n          $('#' + id + '_jGraduate_OpacInput').val($this.paint.alpha).change();\n\n          const newGrad = $('#' + id + '_' + type + '_jgraduate_grad')[0];\n\n          if (curGradient !== newGrad) {\n            const curStops = $(curGradient).find('stop');\n            $(newGrad).empty().append(curStops);\n            curGradient = newGrad;\n            const sm = spreadMethodOpt.val();\n            curGradient.setAttribute('spreadMethod', sm);\n          }\n          showFocus = type === 'rg' && curGradient.getAttribute('fx') !== null && !(cx === fx && cy === fy);\n          $('#' + id + '_jGraduate_focusCoord').toggle(showFocus);\n          if (showFocus) {\n            $('#' + id + '_jGraduate_match_ctr')[0].checked = false;\n          }\n        } else {\n          $(idref + ' .jGraduate_gradPick').hide();\n          $(idref + ' .jGraduate_colPick').show();\n        }\n      });\n      $(idref + ' > div').hide();\n      tabs.removeClass('jGraduate_tab_current');\n      let tab;\n      switch ($this.paint.type) {\n      case 'linearGradient':\n        tab = $(idref + ' .jGraduate_tab_lingrad');\n        break;\n      case 'radialGradient':\n        tab = $(idref + ' .jGraduate_tab_radgrad');\n        break;\n      default:\n        tab = $(idref + ' .jGraduate_tab_color');\n        break;\n      }\n      $this.show();\n\n      // jPicker will try to show after a 0ms timeout, so need to fire this after that\n      setTimeout(() => {\n        tab.addClass('jGraduate_tab_current').click();\n      }, 10);\n    });\n  };\n  return $;\n}\n","/**\n * SpinButton control.\n *\n * Adds bells and whistles to any ordinary textbox to\n * make it look and feel like a SpinButton Control.\n *\n * Supplies {@link external:jQuery.fn.SpinButton}).\n *\n * Originally written by George Adamson, Software Unity (george.jquery@softwareunity.com) August 2006:\n * - Added min/max options.\n * - Added step size option.\n * - Added bigStep (page up/down) option.\n *\n * Modifications made by Mark Gibson, (mgibson@designlinks.net) September 2006:\n * - Converted to jQuery plugin.\n * - Allow limited or unlimited min/max values.\n * - Allow custom class names, and add class to input element.\n * - Removed global vars.\n * - Reset (to original or through config) when invalid value entered.\n * - Repeat whilst holding mouse button down (with initial pause, like keyboard repeat).\n * - Support mouse wheel in Firefox.\n * - Fix double click in IE.\n * - Refactored some code and renamed some vars.\n *\n * Modifications by Jeff Schiller, June 2009:\n * - provide callback function for when the value changes based on the following\n *   {@link https://www.mail-archive.com/jquery-en@googlegroups.com/msg36070.html}.\n *\n * Modifications by Jeff Schiller, July 2009:\n * - improve styling for widget in Opera.\n * - consistent key-repeat handling cross-browser.\n *\n * Modifications by Alexis Deveria, October 2009:\n * - provide \"stepfunc\" callback option to allow custom function to run when changing a value.\n * - Made adjustValue(0) only run on certain keyup events, not all.\n *\n * Tested in IE6, Opera9, Firefox 1.5.\n *\n * | Version | Date | Author | Notes |\n * |---------|------|--------|-------|\n * | v1.0 | 11 Aug 2006 | George Adamson | First release |\n * | v1.1 | Aug 2006 | George Adamson | Minor enhancements |\n * | v1.2 | 27 Sep 2006 | Mark Gibson | Major enhancements |\n * | v1.3a | 28 Sep 2006 | George Adamson | Minor enhancements |\n * | v1.4 | 18 Jun 2009 | Jeff Schiller | Added callback function |\n * | v1.5 | 06 Jul 2009 | Jeff Schiller | Fixes for Opera. |\n * | v1.6 | 13 Oct 2009 | Alexis Deveria | Added stepfunc function |\n * | v1.7 | 21 Oct 2009 | Alexis Deveria | Minor fixes.<br />Fast-repeat for keys and live updating as you type. |\n * | v1.8 | 12 Jan 2010 | Benjamin Thomas | Fixes for mouseout behavior.<br />Added smallStep |\n * | v1.9 | 20 May 2018 | Brett Zamir | Avoid SVGEdit dependency via `stateObj` config;<br />convert to ES6 module |\n * .\n *\n * @module jQuerySpinButton\n * @example\n  // Create group of settings to initialise spinbutton(s). (Optional)\n  const myOptions = {\n     min: 0, // Set lower limit.\n     max: 100, // Set upper limit.\n     step: 1, // Set increment size.\n     smallStep: 0.5, // Set shift-click increment size.\n     stateObj: {tool_scale: 1}, // Object to allow passing in live-updating scale\n     spinClass: mySpinBtnClass, // CSS class to style the spinbutton. (Class also specifies url of the up/down button image.)\n     upClass: mySpinUpClass, // CSS class for style when mouse over up button.\n     downClass: mySpinDnClass // CSS class for style when mouse over down button.\n  };\n\n  $(function () {\n     // Initialise INPUT element(s) as SpinButtons: (passing options if desired)\n     $('#myInputElement').SpinButton(myOptions);\n  });\n */\n/**\n * @function module:jQuerySpinButton.jQuerySpinButton\n * @param {external:jQuery} $ The jQuery object to which to add the plug-in\n * @returns {external:jQuery}\n*/\nexport default function jQueryPluginSpinButton ($) {\n  /**\n  * @callback module:jQuerySpinButton.StepCallback\n  * @param {external:jQuery} thisArg Value of `this`\n  * @param {Float} i Value to adjust\n  * @returns {Float}\n  */\n  /**\n  * @callback module:jQuerySpinButton.ValueCallback\n  * @param {external:jQuery.fn.SpinButton} thisArg Spin Button; check its `value` to see how it was changed.\n  * @returns {void}\n  */\n  /**\n   * @typedef {PlainObject} module:jQuerySpinButton.SpinButtonConfig\n   * @property {Float} min Set lower limit\n   * @property {Float} max Set upper limit.\n   * @property {Float} step Set increment size.\n   * @property {module:jQuerySpinButton.StepCallback} stepfunc Custom function to run when changing a value; called with `this` of object and the value to adjust and returns a float.\n   * @property {module:jQuerySpinButton.ValueCallback} callback Called after value adjusted (with `this` of object)\n   * @property {Float} smallStep Set shift-click increment size.\n   * @property {PlainObject} stateObj Object to allow passing in live-updating scale\n   * @property {Float} stateObj.tool_scale\n   * @property {string} spinClass CSS class to style the spinbutton. (Class also specifies url of the up/down button image.)\n   * @property {string} upClass CSS class for style when mouse over up button.\n   * @property {string} downClass CSS class for style when mouse over down button.\n   * @property {Float} page Value to be adjusted on page up/page down\n   * @property {Float} reset Reset value when invalid value entered\n   * @property {Float} delay Millisecond delay\n   * @property {Float} interval Millisecond interval\n  */\n  /**\n  * @function external:jQuery.fn.SpinButton\n  * @param {module:jQuerySpinButton.SpinButtonConfig} cfg\n  * @returns {external:jQuery}\n  */\n  $.fn.SpinButton = function (cfg) {\n    cfg = cfg || {};\n\n    /**\n     *\n     * @param {Element} el\n     * @param {\"offsetLeft\"|\"offsetTop\"} prop\n     * @returns {Integer}\n     */\n    function coord (el, prop) {\n      const b = document.body;\n\n      let c = el[prop];\n      while ((el = el.offsetParent) && (el !== b)) {\n        if (!$.browser.msie || (el.currentStyle.position !== 'relative')) {\n          c += el[prop];\n        }\n      }\n\n      return c;\n    }\n\n    return this.each(function () {\n      this.repeating = false;\n\n      // Apply specified options or defaults:\n      // (Ought to refactor this some day to use $.extend() instead)\n      this.spinCfg = {\n        // min: cfg.min ? Number(cfg.min) : null,\n        // max: cfg.max ? Number(cfg.max) : null,\n        min: !isNaN(Number.parseFloat(cfg.min)) ? Number(cfg.min) : null, // Fixes bug with min:0\n        max: !isNaN(Number.parseFloat(cfg.max)) ? Number(cfg.max) : null,\n        step: cfg.step ? Number(cfg.step) : 1,\n        stepfunc: cfg.stepfunc || false,\n        page: cfg.page ? Number(cfg.page) : 10,\n        upClass: cfg.upClass || 'up',\n        downClass: cfg.downClass || 'down',\n        reset: cfg.reset || this.value,\n        delay: cfg.delay ? Number(cfg.delay) : 500,\n        interval: cfg.interval ? Number(cfg.interval) : 100,\n        _btn_width: 20,\n        _direction: null,\n        _delay: null,\n        _repeat: null,\n        callback: cfg.callback || null\n      };\n\n      // if a smallStep isn't supplied, use half the regular step\n      this.spinCfg.smallStep = cfg.smallStep || this.spinCfg.step / 2;\n\n      this.adjustValue = function (i) {\n        let v;\n        if (isNaN(this.value)) {\n          v = this.spinCfg.reset;\n        } else if (typeof this.spinCfg.stepfunc === 'function') {\n          v = this.spinCfg.stepfunc(this, i);\n        } else {\n          // weirdest JavaScript bug ever: 5.1 + 0.1 = 5.199999999\n          v = Number((Number(this.value) + Number(i)).toFixed(5));\n        }\n        if (this.spinCfg.min !== null) { v = Math.max(v, this.spinCfg.min); }\n        if (this.spinCfg.max !== null) { v = Math.min(v, this.spinCfg.max); }\n        this.value = v;\n        if (typeof this.spinCfg.callback === 'function') {\n          this.spinCfg.callback(this);\n        }\n      };\n\n      $(this)\n        .addClass(cfg.spinClass || 'spin-button')\n\n        .mousemove(function (e) {\n          // Determine which button mouse is over, or not (spin direction):\n          const x = e.pageX || e.x;\n          const y = e.pageY || e.y;\n          const el = e.target;\n          const scale = cfg.stateObj.tool_scale || 1;\n          const height = $(el).height() / 2;\n\n          const direction =\n            (x > coord(el, 'offsetLeft') +\n              el.offsetWidth * scale - this.spinCfg._btn_width)\n              ? ((y < coord(el, 'offsetTop') + height * scale) ? 1 : -1)\n              : 0;\n\n          if (direction !== this.spinCfg._direction) {\n            // Style up/down buttons:\n            switch (direction) {\n            case 1: // Up arrow:\n              $(this).removeClass(this.spinCfg.downClass).addClass(this.spinCfg.upClass);\n              break;\n            case -1: // Down arrow:\n              $(this).removeClass(this.spinCfg.upClass).addClass(this.spinCfg.downClass);\n              break;\n            default: // Mouse is elsewhere in the textbox\n              $(this).removeClass(this.spinCfg.upClass).removeClass(this.spinCfg.downClass);\n            }\n\n            // Set spin direction:\n            this.spinCfg._direction = direction;\n          }\n        })\n\n        .mouseout(function () {\n          // Reset up/down buttons to their normal appearance when mouse moves away:\n          $(this).removeClass(this.spinCfg.upClass).removeClass(this.spinCfg.downClass);\n          this.spinCfg._direction = null;\n          window.clearInterval(this.spinCfg._repeat);\n          window.clearTimeout(this.spinCfg._delay);\n        })\n\n        .mousedown(function (e) {\n          if (e.button === 0 && this.spinCfg._direction !== 0) {\n            // Respond to click on one of the buttons:\n            const stepSize = e.shiftKey ? this.spinCfg.smallStep : this.spinCfg.step;\n\n            const adjust = () => {\n              this.adjustValue(this.spinCfg._direction * stepSize);\n            };\n\n            adjust();\n\n            // Initial delay before repeating adjustment\n            this.spinCfg._delay = window.setTimeout(() => {\n              adjust();\n              // Repeat adjust at regular intervals\n              this.spinCfg._repeat = window.setInterval(adjust, this.spinCfg.interval);\n            }, this.spinCfg.delay);\n          }\n        })\n\n        .mouseup(function (e) {\n          // Cancel repeating adjustment\n          window.clearInterval(this.spinCfg._repeat);\n          window.clearTimeout(this.spinCfg._delay);\n        })\n\n        .dblclick(function (e) {\n          if ($.browser.msie) {\n            this.adjustValue(this.spinCfg._direction * this.spinCfg.step);\n          }\n        })\n\n        .keydown(function (e) {\n          // Respond to up/down arrow keys.\n          switch (e.keyCode) {\n          case 38: this.adjustValue(this.spinCfg.step); break; // Up\n          case 40: this.adjustValue(-this.spinCfg.step); break; // Down\n          case 33: this.adjustValue(this.spinCfg.page); break; // PageUp\n          case 34: this.adjustValue(-this.spinCfg.page); break; // PageDown\n          }\n        })\n\n        /*\n        http://unixpapa.com/js/key.html describes the current state-of-affairs for\n        key repeat events:\n        - Safari 3.1 changed their model so that keydown is reliably repeated going forward\n        - Firefox and Opera still only repeat the keypress event, not the keydown\n        */\n        .keypress(function (e) {\n          if (this.repeating) {\n            // Respond to up/down arrow keys.\n            switch (e.keyCode) {\n            case 38: this.adjustValue(this.spinCfg.step); break; // Up\n            case 40: this.adjustValue(-this.spinCfg.step); break; // Down\n            case 33: this.adjustValue(this.spinCfg.page); break; // PageUp\n            case 34: this.adjustValue(-this.spinCfg.page); break; // PageDown\n            }\n          // we always ignore the first keypress event (use the keydown instead)\n          } else {\n            this.repeating = true;\n          }\n        })\n\n        // clear the 'repeating' flag\n        .keyup(function (e) {\n          this.repeating = false;\n          switch (e.keyCode) {\n          case 38: // Up\n          case 40: // Down\n          case 33: // PageUp\n          case 34: // PageDown\n          case 13: this.adjustValue(0); break; // Enter/Return\n          }\n        })\n\n        .bind('mousewheel', function (e) {\n          // Respond to mouse wheel in IE. (It returns up/dn motion in multiples of 120)\n          if (e.wheelDelta >= 120) {\n            this.adjustValue(this.spinCfg.step);\n          } else if (e.wheelDelta <= -120) {\n            this.adjustValue(-this.spinCfg.step);\n          }\n\n          e.preventDefault();\n        })\n\n        .change(function (e) {\n          this.adjustValue(0);\n        });\n\n      if (this.addEventListener) {\n        // Respond to mouse wheel in Firefox\n        this.addEventListener('DOMMouseScroll', function (e) {\n          if (e.detail > 0) {\n            this.adjustValue(-this.spinCfg.step);\n          } else if (e.detail < 0) {\n            this.adjustValue(this.spinCfg.step);\n          }\n\n          e.preventDefault();\n        });\n      }\n    });\n  };\n  return $;\n}\n","/**\n * @file jQuery Context Menu Plugin\n * Cory S.N. LaViska\n * A Beautiful Site ({@link https://abeautifulsite.net/})\n * Modified by Alexis Deveria\n *\n * More info: {@link https://abeautifulsite.net/2008/09/jquery-context-menu-plugin/}\n *\n * @module jQueryContextMenu\n * @todo Update to latest version and adapt (and needs jQuery update as well): {@link https://github.com/swisnl/jQuery-contextMenu}\n * @version 1.0.1\n *\n * @license (MIT OR GPL-2.0-or-later)\n *\n * This plugin is dual-licensed under the GNU General Public License\n *   and the MIT License and is copyright A Beautiful Site, LLC.\n *\n*/\nimport {isMac} from '../../common/browser.js';\n\n/**\n* @callback module:jQueryContextMenu.jQueryContextMenuListener\n* @param {string} href The `href` value after the first character (for bypassing an initial `#`)\n* @param {external:jQuery} srcElement The wrapped jQuery srcElement\n* @param {{x: Float, y: Float, docX: Float, docY: Float}} coords\n* @returns {void}\n*/\n\n/**\n* @typedef {PlainObject} module:jQueryContextMenu.jQueryContextMenuConfig\n* @property {string} menu\n* @property {Float} inSpeed\n* @property {Float} outSpeed\n* @property {boolean} allowLeft\n*/\n\n/**\n* Adds {@link external:jQuery.fn.contextMenu},\n* {@link external:jQuery.fn.disableContextMenuItems},\n* {@link external:jQuery.fn.enableContextMenuItems},\n* {@link external:jQuery.fn.disableContextMenu},\n* {@link external:jQuery.fn.enableContextMenu},\n* {@link external:jQuery.fn.destroyContextMenu}.\n* @function module:jQueryContextMenu.jQueryContextMenu\n* @param {external:jQuery} $ The jQuery object to wrap (with `contextMenu`, `disableContextMenuItems`, `enableContextMenuItems`, `disableContextMenu`, `enableContextMenu`, `destroyContextMenu`)\n* @returns {external:jQuery}\n*/\nfunction jQueryContextMenu ($) {\n  const win = $(window);\n  const doc = $(document);\n\n  $.extend($.fn, {\n    /**\n    * @memberof external:jQuery.fn\n    * @param {module:jQueryContextMenu.jQueryContextMenuConfig} o\n    * @param {module:jQueryContextMenu.jQueryContextMenuListener} listener\n    * @returns {external:jQuery}\n    */\n    contextMenu (o, listener) {\n      // Defaults\n      if (o.menu === undefined) return false;\n      if (o.inSpeed === undefined) o.inSpeed = 150;\n      if (o.outSpeed === undefined) o.outSpeed = 75;\n      // 0 needs to be -1 for expected results (no fade)\n      if (o.inSpeed === 0) o.inSpeed = -1;\n      if (o.outSpeed === 0) o.outSpeed = -1;\n      // Loop each context menu\n      $(this).each(function () {\n        const el = $(this);\n        const offset = $(el).offset();\n\n        const menu = $('#' + o.menu);\n\n        // Add contextMenu class\n        menu.addClass('contextMenu');\n        // Simulate a true right click\n        $(this).bind('mousedown', function (evt) {\n          $(this).mouseup(function (e) {\n            const srcElement = $(this);\n            srcElement.unbind('mouseup');\n\n            if (!(evt.button === 2 || o.allowLeft ||\n              (evt.ctrlKey && isMac()))) {\n              return undefined;\n            }\n            e.stopPropagation();\n            // Hide context menus that may be showing\n            $('.contextMenu').hide();\n            // Get this context menu\n\n            if (el.hasClass('disabled')) return false;\n\n            // Detect mouse position\n            let x = e.pageX, y = e.pageY;\n\n            const xOff = win.width() - menu.width(),\n              yOff = win.height() - menu.height();\n\n            if (x > xOff - 15) x = xOff - 15;\n            if (y > yOff - 30) y = yOff - 30; // 30 is needed to prevent scrollbars in FF\n\n            // Show the menu\n            doc.unbind('click');\n            menu.css({top: y, left: x}).fadeIn(o.inSpeed);\n            // Hover events\n            menu.find('A').mouseover(function () {\n              menu.find('LI.hover').removeClass('hover');\n              $(this).parent().addClass('hover');\n            }).mouseout(function () {\n              menu.find('LI.hover').removeClass('hover');\n            });\n\n            // Keyboard\n            doc.keypress(function (ev) {\n              switch (ev.keyCode) {\n              case 38: // up\n                if (!menu.find('LI.hover').length) {\n                  menu.find('LI:last').addClass('hover');\n                } else {\n                  menu.find('LI.hover').removeClass('hover').prevAll('LI:not(.disabled)').eq(0).addClass('hover');\n                  if (!menu.find('LI.hover').length) menu.find('LI:last').addClass('hover');\n                }\n                break;\n              case 40: // down\n                if (!menu.find('LI.hover').length) {\n                  menu.find('LI:first').addClass('hover');\n                } else {\n                  menu.find('LI.hover').removeClass('hover').nextAll('LI:not(.disabled)').eq(0).addClass('hover');\n                  if (!menu.find('LI.hover').length) menu.find('LI:first').addClass('hover');\n                }\n                break;\n              case 13: // enter\n                menu.find('LI.hover A').trigger('click');\n                break;\n              case 27: // esc\n                doc.trigger('click');\n                break;\n              }\n            });\n\n            // When items are selected\n            menu.find('A').unbind('mouseup');\n            menu.find('LI:not(.disabled) A').mouseup(function () {\n              doc.unbind('click').unbind('keypress');\n              $('.contextMenu').hide();\n              if (listener) {\n                listener($(this).attr('href').substr(1), $(srcElement), {\n                  x: x - offset.left, y: y - offset.top, docX: x, docY: y\n                });\n              }\n              return false;\n            });\n\n            // Hide bindings\n            setTimeout(function () { // Delay for Mozilla\n              doc.click(function () {\n                doc.unbind('click').unbind('keypress');\n                menu.fadeOut(o.outSpeed);\n                return false;\n              });\n            }, 0);\n            return undefined;\n          });\n        });\n\n        // Disable text selection\n        if ($.browser.mozilla) {\n          $('#' + o.menu).each(function () { $(this).css({MozUserSelect: 'none'}); });\n        } else if ($.browser.msie) {\n          $('#' + o.menu).each(function () { $(this).bind('selectstart.disableTextSelect', function () { return false; }); });\n        } else {\n          $('#' + o.menu).each(function () { $(this).bind('mousedown.disableTextSelect', function () { return false; }); });\n        }\n        // Disable browser context menu (requires both selectors to work in IE/Safari + FF/Chrome)\n        $(el).add($('UL.contextMenu')).bind('contextmenu', function () { return false; });\n      });\n      return $(this);\n    },\n\n    /**\n    * Disable context menu items on the fly.\n    * @memberof external:jQuery.fn\n    * @param {void|string} o Comma-separated\n    * @returns {external:jQuery}\n    */\n    disableContextMenuItems (o) {\n      if (o === undefined) {\n        // Disable all\n        $(this).find('LI').addClass('disabled');\n        return $(this);\n      }\n      $(this).each(function () {\n        if (o !== undefined) {\n          const d = o.split(',');\n          for (const href of d) {\n            $(this).find('A[href=\"' + href + '\"]').parent().addClass('disabled');\n          }\n        }\n      });\n      return $(this);\n    },\n\n    /**\n    * Enable context menu items on the fly.\n    * @memberof external:jQuery.fn\n    * @param {void|string} o Comma-separated\n    * @returns {external:jQuery}\n    */\n    enableContextMenuItems (o) {\n      if (o === undefined) {\n        // Enable all\n        $(this).find('LI.disabled').removeClass('disabled');\n        return $(this);\n      }\n      $(this).each(function () {\n        if (o !== undefined) {\n          const d = o.split(',');\n          for (const href of d) {\n            $(this).find('A[href=\"' + href + '\"]').parent().removeClass('disabled');\n          }\n        }\n      });\n      return $(this);\n    },\n\n    /**\n    * Disable context menu(s).\n    * @memberof external:jQuery.fn\n    * @returns {external:jQuery}\n    */\n    disableContextMenu () {\n      $(this).each(function () {\n        $(this).addClass('disabled');\n      });\n      return $(this);\n    },\n\n    /**\n    * Enable context menu(s).\n    * @memberof external:jQuery.fn\n    * @returns {external:jQuery}\n    */\n    enableContextMenu () {\n      $(this).each(function () {\n        $(this).removeClass('disabled');\n      });\n      return $(this);\n    },\n\n    /**\n    * Destroy context menu(s).\n    * @memberof external:jQuery.fn\n    * @returns {external:jQuery}\n    */\n    destroyContextMenu () {\n      // Destroy specified context menus\n      $(this).each(function () {\n        // Disable action\n        $(this).unbind('mousedown').unbind('mouseup');\n      });\n      return $(this);\n    }\n  });\n  return $;\n}\n\nexport default jQueryContextMenu;\n","/* eslint-disable no-bitwise, max-len */\n/**\n * @file jPicker (Adapted from version 1.1.6)\n *\n * jQuery Plugin for Photoshop style color picker\n *\n * @module jPicker\n * @copyright (c) 2010 Christopher T. Tillman\n * Digital Magic Productions, Inc. ({@link http://www.digitalmagicpro.com/})\n * FREE to use, alter, copy, sell, and especially ENHANCE\n * @license MIT\n *\n * Painstakingly ported from John Dyers' excellent work on his own color picker based on the Prototype framework.\n *\n * John Dyers' website: {@link http://johndyer.name}\n * Color Picker page: {@link http://johndyer.name/photoshop-like-javascript-color-picker/}\n */\n\n/**\n* @external Math\n*/\n/**\n* @memberof external:Math\n* @param {Float} value\n* @param {Float} precision\n* @returns {Float}\n*/\nfunction toFixedNumeric (value, precision) {\n  if (precision === undefined) precision = 0;\n  return Math.round(value * (10 ** precision)) / (10 ** precision);\n}\n\n/**\n * Whether a value is `null` or `undefined`.\n * @param {any} val\n * @returns {boolean}\n */\nconst isNullish = (val) => {\n  return val === null || val === undefined;\n};\n\n/**\n* @function module:jPicker.jPicker\n* @param {external:jQuery} $ The jQuery object, {@link external:jQuery.fn.$.fn.jPicker}, {@link external:jQuery.fn.$.fn.jPicker.defaults})\n* @returns {external:jQuery}\n*/\nconst jPicker = function ($) {\n  /**\n  * @typedef {PlainObject} module:jPicker.SliderOptions\n  * @property {external:jQuery|PlainObject} arrow\n  * @property {string} arrow.image Not in use?\n  * @property {Float} arrow.width\n  * @property {Float} arrow.height\n  * @property {PlainObject} map\n  * @property {Float} map.width\n  * @property {Float} map.height\n  */\n\n  /**\n  * Encapsulate slider functionality for the ColorMap and ColorBar -\n  * could be useful to use a jQuery UI draggable for this with certain extensions.\n  * @memberof module:jPicker\n  */\n  class Slider {\n    /**\n     * @param {external:jQuery} bar\n     * @param {module:jPicker.SliderOptions} options\n     */\n    constructor (bar, options) {\n      const that = this;\n      /**\n       * Fire events on the supplied `context`\n       * @param {module:jPicker.JPickerInit} context\n       * @returns {void}\n       */\n      function fireChangeEvents (context) {\n        changeEvents.forEach((changeEvent) => {\n          changeEvent.call(that, that, context);\n        });\n      }\n\n      /**\n       * Bind the mousedown to the bar not the arrow for quick snapping to the clicked location.\n       * @param {external:jQuery.Event} e\n       * @returns {void}\n       */\n      function mouseDown (e) {\n        const off = bar.offset();\n        offset = {l: off.left | 0, t: off.top | 0};\n        clearTimeout(timeout);\n        // using setTimeout for visual updates - once the style is updated the browser will re-render internally allowing the next Javascript to run\n        timeout = setTimeout(function () {\n          setValuesFromMousePosition.call(that, e);\n        }, 0);\n        // Bind mousemove and mouseup event to the document so it responds when dragged of of the bar - we will unbind these when on mouseup to save processing\n        $(document).bind('mousemove', mouseMove).bind('mouseup', mouseUp);\n        e.preventDefault(); // don't try to select anything or drag the image to the desktop\n      }\n      /**\n       * Set the values as the mouse moves.\n       * @param {external:jQuery.Event} e\n       * @returns {false}\n       */\n      function mouseMove (e) {\n        clearTimeout(timeout);\n        timeout = setTimeout(function () {\n          setValuesFromMousePosition.call(that, e);\n        }, 0);\n        e.stopPropagation();\n        e.preventDefault();\n        return false;\n      }\n      /**\n       * Unbind the document events - they aren't needed when not dragging.\n       * @param {external:jQuery.Event} e\n       * @returns {false}\n       */\n      function mouseUp (e) {\n        $(document).unbind('mouseup', mouseUp).unbind('mousemove', mouseMove);\n        e.stopPropagation();\n        e.preventDefault();\n        return false;\n      }\n\n      /**\n       * Calculate mouse position and set value within the current range.\n       * @param {Event} e\n       * @returns {void}\n       */\n      function setValuesFromMousePosition (e) {\n        const barW = bar.w, // local copies for YUI compressor\n          barH = bar.h;\n        let locX = e.pageX - offset.l,\n          locY = e.pageY - offset.t;\n        // keep the arrow within the bounds of the bar\n        if (locX < 0) locX = 0;\n        else if (locX > barW) locX = barW;\n        if (locY < 0) locY = 0;\n        else if (locY > barH) locY = barH;\n        val.call(that, 'xy', {\n          x: ((locX / barW) * rangeX) + minX,\n          y: ((locY / barH) * rangeY) + minY\n        });\n      }\n      /**\n       *\n       * @returns {void}\n       */\n      function draw () {\n        const\n          barW = bar.w,\n          barH = bar.h,\n          arrowW = arrow.w,\n          arrowH = arrow.h;\n        let arrowOffsetX = 0,\n          arrowOffsetY = 0;\n        setTimeout(function () {\n          if (rangeX > 0) { // range is greater than zero\n            // constrain to bounds\n            if (x === maxX) arrowOffsetX = barW;\n            else arrowOffsetX = ((x / rangeX) * barW) | 0;\n          }\n          if (rangeY > 0) { // range is greater than zero\n            // constrain to bounds\n            if (y === maxY) arrowOffsetY = barH;\n            else arrowOffsetY = ((y / rangeY) * barH) | 0;\n          }\n          // if arrow width is greater than bar width, center arrow and prevent horizontal dragging\n          if (arrowW >= barW) arrowOffsetX = (barW >> 1) - (arrowW >> 1); // number >> 1 - superfast bitwise divide by two and truncate (move bits over one bit discarding lowest)\n          else arrowOffsetX -= arrowW >> 1;\n          // if arrow height is greater than bar height, center arrow and prevent vertical dragging\n          if (arrowH >= barH) arrowOffsetY = (barH >> 1) - (arrowH >> 1);\n          else arrowOffsetY -= arrowH >> 1;\n          // set the arrow position based on these offsets\n          arrow.css({left: arrowOffsetX + 'px', top: arrowOffsetY + 'px'});\n        });\n      }\n\n      /**\n       * Get or set a value.\n       * @param {?(\"xy\"|\"x\"|\"y\")} name\n       * @param {module:math.XYObject} value\n       * @param {module:jPicker.Slider} context\n       * @returns {module:math.XYObject|Float|void}\n       */\n      function val (name, value, context) {\n        const set = value !== undefined;\n        if (!set) {\n          if (isNullish(name)) name = 'xy';\n          switch (name.toLowerCase()) {\n          case 'x': return x;\n          case 'y': return y;\n          case 'xy':\n          default: return {x, y};\n          }\n        }\n        if (!isNullish(context) && context === that) return undefined;\n        let changed = false;\n\n        let newX, newY;\n        if (isNullish(name)) name = 'xy';\n        switch (name.toLowerCase()) {\n        case 'x':\n          newX = (value && ((value.x && value.x | 0) || value | 0)) || 0;\n          break;\n        case 'y':\n          newY = (value && ((value.y && value.y | 0) || value | 0)) || 0;\n          break;\n        case 'xy':\n        default:\n          newX = (value && value.x && value.x | 0) || 0;\n          newY = (value && value.y && value.y | 0) || 0;\n          break;\n        }\n        if (!isNullish(newX)) {\n          if (newX < minX) newX = minX;\n          else if (newX > maxX) newX = maxX;\n          if (x !== newX) {\n            x = newX;\n            changed = true;\n          }\n        }\n        if (!isNullish(newY)) {\n          if (newY < minY) newY = minY;\n          else if (newY > maxY) newY = maxY;\n          if (y !== newY) {\n            y = newY;\n            changed = true;\n          }\n        }\n        changed && fireChangeEvents.call(that, context || that);\n        return undefined;\n      }\n\n      /**\n      * @typedef {PlainObject} module:jPicker.MinMaxRangeX\n      * @property {Float} minX\n      * @property {Float} maxX\n      * @property {Float} rangeX\n      */\n      /**\n      * @typedef {PlainObject} module:jPicker.MinMaxRangeY\n      * @property {Float} minY\n      * @property {Float} maxY\n      * @property {Float} rangeY\n      */\n      /**\n      * @typedef {module:jPicker.MinMaxRangeY|module:jPicker.MinMaxRangeX} module:jPicker.MinMaxRangeXY\n      */\n\n      /**\n       *\n       * @param {\"minx\"|\"maxx\"|\"rangex\"|\"miny\"|\"maxy\"|\"rangey\"|\"all\"} name\n       * @param {module:jPicker.MinMaxRangeXY} value\n       * @returns {module:jPicker.MinMaxRangeXY|module:jPicker.MinMaxRangeX|module:jPicker.MinMaxRangeY|void}\n       */\n      function range (name, value) {\n        const set = value !== undefined;\n        if (!set) {\n          if (isNullish(name)) name = 'all';\n          switch (name.toLowerCase()) {\n          case 'minx': return minX;\n          case 'maxx': return maxX;\n          case 'rangex': return {minX, maxX, rangeX};\n          case 'miny': return minY;\n          case 'maxy': return maxY;\n          case 'rangey': return {minY, maxY, rangeY};\n          case 'all':\n          default: return {minX, maxX, rangeX, minY, maxY, rangeY};\n          }\n        }\n        let // changed = false,\n          newMinX,\n          newMaxX,\n          newMinY,\n          newMaxY;\n        if (isNullish(name)) name = 'all';\n        switch (name.toLowerCase()) {\n        case 'minx':\n          newMinX = (value && ((value.minX && value.minX | 0) || value | 0)) || 0;\n          break;\n        case 'maxx':\n          newMaxX = (value && ((value.maxX && value.maxX | 0) || value | 0)) || 0;\n          break;\n        case 'rangex':\n          newMinX = (value && value.minX && value.minX | 0) || 0;\n          newMaxX = (value && value.maxX && value.maxX | 0) || 0;\n          break;\n        case 'miny':\n          newMinY = (value && ((value.minY && value.minY | 0) || value | 0)) || 0;\n          break;\n        case 'maxy':\n          newMaxY = (value && ((value.maxY && value.maxY | 0) || value | 0)) || 0;\n          break;\n        case 'rangey':\n          newMinY = (value && value.minY && value.minY | 0) || 0;\n          newMaxY = (value && value.maxY && value.maxY | 0) || 0;\n          break;\n        case 'all':\n        default:\n          newMinX = (value && value.minX && value.minX | 0) || 0;\n          newMaxX = (value && value.maxX && value.maxX | 0) || 0;\n          newMinY = (value && value.minY && value.minY | 0) || 0;\n          newMaxY = (value && value.maxY && value.maxY | 0) || 0;\n          break;\n        }\n\n        if (!isNullish(newMinX) && minX !== newMinX) {\n          minX = newMinX;\n          rangeX = maxX - minX;\n        }\n        if (!isNullish(newMaxX) && maxX !== newMaxX) {\n          maxX = newMaxX;\n          rangeX = maxX - minX;\n        }\n        if (!isNullish(newMinY) && minY !== newMinY) {\n          minY = newMinY;\n          rangeY = maxY - minY;\n        }\n        if (!isNullish(newMaxY) && maxY !== newMaxY) {\n          maxY = newMaxY;\n          rangeY = maxY - minY;\n        }\n        return undefined;\n      }\n      /**\n      * @param {GenericCallback} callback\n      * @returns {void}\n      */\n      function bind (callback) { // eslint-disable-line promise/prefer-await-to-callbacks\n        if (typeof callback === 'function') changeEvents.push(callback);\n      }\n      /**\n      * @param {GenericCallback} callback\n      * @returns {void}\n      */\n      function unbind (callback) { // eslint-disable-line promise/prefer-await-to-callbacks\n        if (typeof callback !== 'function') return;\n        let i;\n        while ((i = changeEvents.includes(callback))) changeEvents.splice(i, 1);\n      }\n      /**\n      *\n      * @returns {void}\n      */\n      function destroy () {\n        // unbind all possible events and null objects\n        $(document).unbind('mouseup', mouseUp).unbind('mousemove', mouseMove);\n        bar.unbind('mousedown', mouseDown);\n        bar = null;\n        arrow = null;\n        changeEvents = null;\n      }\n      let offset,\n        timeout,\n        x = 0,\n        y = 0,\n        minX = 0,\n        maxX = 100,\n        rangeX = 100,\n        minY = 0,\n        maxY = 100,\n        rangeY = 100,\n        arrow = bar.find('img:first'), // the arrow image to drag\n        changeEvents = [];\n\n      $.extend(\n        true,\n        // public properties, methods, and event bindings - these we need\n        //   to access from other controls\n        that,\n        {\n          val,\n          range,\n          bind,\n          unbind,\n          destroy\n        }\n      );\n      // initialize this control\n      arrow.src = options.arrow && options.arrow.image;\n      arrow.w = (options.arrow && options.arrow.width) || arrow.width();\n      arrow.h = (options.arrow && options.arrow.height) || arrow.height();\n      bar.w = (options.map && options.map.width) || bar.width();\n      bar.h = (options.map && options.map.height) || bar.height();\n      // bind mousedown event\n      bar.bind('mousedown', mouseDown);\n      bind.call(that, draw);\n    }\n  }\n\n  /**\n   * Controls for all the input elements for the typing in color values.\n   */\n  class ColorValuePicker {\n    /**\n     * @param {external:jQuery} picker\n     * @param {external:jQuery.jPicker.Color} color\n     * @param {external:jQuery.fn.$.fn.jPicker} bindedHex\n     * @param {Float} alphaPrecision\n     */\n    constructor (picker, color, bindedHex, alphaPrecision) {\n      const that = this; // private properties and methods\n      const inputs = picker.find('td.Text input');\n      // input box key down - use arrows to alter color\n      /**\n       *\n       * @param {Event} e\n       * @returns {Event|false|void}\n       */\n      function keyDown (e) {\n        if (e.target.value === '' && e.target !== hex.get(0) && ((!isNullish(bindedHex) && e.target !== bindedHex.get(0)) || isNullish(bindedHex))) return undefined;\n        if (!validateKey(e)) return e;\n        switch (e.target) {\n        case red.get(0):\n          switch (e.keyCode) {\n          case 38:\n            red.val(setValueInRange.call(that, (red.val() << 0) + 1, 0, 255));\n            color.val('r', red.val(), e.target);\n            return false;\n          case 40:\n            red.val(setValueInRange.call(that, (red.val() << 0) - 1, 0, 255));\n            color.val('r', red.val(), e.target);\n            return false;\n          }\n          break;\n        case green.get(0):\n          switch (e.keyCode) {\n          case 38:\n            green.val(setValueInRange.call(that, (green.val() << 0) + 1, 0, 255));\n            color.val('g', green.val(), e.target);\n            return false;\n          case 40:\n            green.val(setValueInRange.call(that, (green.val() << 0) - 1, 0, 255));\n            color.val('g', green.val(), e.target);\n            return false;\n          }\n          break;\n        case blue.get(0):\n          switch (e.keyCode) {\n          case 38:\n            blue.val(setValueInRange.call(that, (blue.val() << 0) + 1, 0, 255));\n            color.val('b', blue.val(), e.target);\n            return false;\n          case 40:\n            blue.val(setValueInRange.call(that, (blue.val() << 0) - 1, 0, 255));\n            color.val('b', blue.val(), e.target);\n            return false;\n          }\n          break;\n        case alpha && alpha.get(0):\n          switch (e.keyCode) {\n          case 38:\n            alpha.val(setValueInRange.call(that, Number.parseFloat(alpha.val()) + 1, 0, 100));\n            color.val('a', toFixedNumeric((alpha.val() * 255) / 100, alphaPrecision), e.target);\n            return false;\n          case 40:\n            alpha.val(setValueInRange.call(that, Number.parseFloat(alpha.val()) - 1, 0, 100));\n            color.val('a', toFixedNumeric((alpha.val() * 255) / 100, alphaPrecision), e.target);\n            return false;\n          }\n          break;\n        case hue.get(0):\n          switch (e.keyCode) {\n          case 38:\n            hue.val(setValueInRange.call(that, (hue.val() << 0) + 1, 0, 360));\n            color.val('h', hue.val(), e.target);\n            return false;\n          case 40:\n            hue.val(setValueInRange.call(that, (hue.val() << 0) - 1, 0, 360));\n            color.val('h', hue.val(), e.target);\n            return false;\n          }\n          break;\n        case saturation.get(0):\n          switch (e.keyCode) {\n          case 38:\n            saturation.val(setValueInRange.call(that, (saturation.val() << 0) + 1, 0, 100));\n            color.val('s', saturation.val(), e.target);\n            return false;\n          case 40:\n            saturation.val(setValueInRange.call(that, (saturation.val() << 0) - 1, 0, 100));\n            color.val('s', saturation.val(), e.target);\n            return false;\n          }\n          break;\n        case value.get(0):\n          switch (e.keyCode) {\n          case 38:\n            value.val(setValueInRange.call(that, (value.val() << 0) + 1, 0, 100));\n            color.val('v', value.val(), e.target);\n            return false;\n          case 40:\n            value.val(setValueInRange.call(that, (value.val() << 0) - 1, 0, 100));\n            color.val('v', value.val(), e.target);\n            return false;\n          }\n          break;\n        }\n        return undefined;\n      }\n      // input box key up - validate value and set color\n      /**\n      * @param {Event} e\n      * @returns {Event|void}\n      * @todo Why is this returning an event?\n      */\n      function keyUp (e) {\n        if (e.target.value === '' && e.target !== hex.get(0) &&\n          ((!isNullish(bindedHex) && e.target !== bindedHex.get(0)) ||\n          isNullish(bindedHex))) return undefined;\n        if (!validateKey(e)) return e;\n        switch (e.target) {\n        case red.get(0):\n          red.val(setValueInRange.call(that, red.val(), 0, 255));\n          color.val('r', red.val(), e.target);\n          break;\n        case green.get(0):\n          green.val(setValueInRange.call(that, green.val(), 0, 255));\n          color.val('g', green.val(), e.target);\n          break;\n        case blue.get(0):\n          blue.val(setValueInRange.call(that, blue.val(), 0, 255));\n          color.val('b', blue.val(), e.target);\n          break;\n        case alpha && alpha.get(0):\n          alpha.val(setValueInRange.call(that, alpha.val(), 0, 100));\n          color.val('a', toFixedNumeric((alpha.val() * 255) / 100, alphaPrecision), e.target);\n          break;\n        case hue.get(0):\n          hue.val(setValueInRange.call(that, hue.val(), 0, 360));\n          color.val('h', hue.val(), e.target);\n          break;\n        case saturation.get(0):\n          saturation.val(setValueInRange.call(that, saturation.val(), 0, 100));\n          color.val('s', saturation.val(), e.target);\n          break;\n        case value.get(0):\n          value.val(setValueInRange.call(that, value.val(), 0, 100));\n          color.val('v', value.val(), e.target);\n          break;\n        case hex.get(0):\n          hex.val(hex.val().replace(/[^a-fA-F\\d]/g, '').toLowerCase().substring(0, 6));\n          bindedHex && bindedHex.val(hex.val());\n          color.val('hex', hex.val() !== '' ? hex.val() : null, e.target);\n          break;\n        case bindedHex && bindedHex.get(0):\n          bindedHex.val(bindedHex.val().replace(/[^a-fA-F\\d]/g, '').toLowerCase().substring(0, 6));\n          hex.val(bindedHex.val());\n          color.val('hex', bindedHex.val() !== '' ? bindedHex.val() : null, e.target);\n          break;\n        case ahex && ahex.get(0):\n          ahex.val(ahex.val().replace(/[^a-fA-F\\d]/g, '').toLowerCase().substring(0, 2));\n          color.val('a', !isNullish(ahex.val()) ? Number.parseInt(ahex.val(), 16) : null, e.target);\n          break;\n        }\n        return undefined;\n      }\n      // input box blur - reset to original if value empty\n      /**\n      * @param {Event} e\n      * @returns {void}\n      */\n      function blur (e) {\n        if (!isNullish(color.val())) {\n          switch (e.target) {\n          case red.get(0): red.val(color.val('r')); break;\n          case green.get(0): green.val(color.val('g')); break;\n          case blue.get(0): blue.val(color.val('b')); break;\n          case alpha && alpha.get(0): alpha.val(toFixedNumeric((color.val('a') * 100) / 255, alphaPrecision)); break;\n          case hue.get(0): hue.val(color.val('h')); break;\n          case saturation.get(0): saturation.val(color.val('s')); break;\n          case value.get(0): value.val(color.val('v')); break;\n          case hex.get(0):\n          case bindedHex && bindedHex.get(0):\n            hex.val(color.val('hex'));\n            bindedHex && bindedHex.val(color.val('hex'));\n            break;\n          case ahex && ahex.get(0): ahex.val(color.val('ahex').substring(6)); break;\n          }\n        }\n      }\n      /**\n      * @param {Event} e\n      * @returns {boolean}\n      */\n      function validateKey (e) {\n        switch (e.keyCode) {\n        case 9:\n        case 16:\n        case 29:\n        case 37:\n        case 39:\n          return false;\n        case 'c'.charCodeAt():\n        case 'v'.charCodeAt():\n          if (e.ctrlKey) return false;\n        }\n        return true;\n      }\n\n      /**\n      * Constrain value within range.\n      * @param {Float|string} value\n      * @param {Float} min\n      * @param {Float} max\n      * @returns {Float|string} Returns a number or numeric string\n      */\n      function setValueInRange (value, min, max) {\n        if (value === '' || isNaN(value)) return min;\n        if (value > max) return max;\n        if (value < min) return min;\n        return value;\n      }\n      /**\n      * @param {external:jQuery} ui\n      * @param {Element} context\n      * @returns {void}\n      */\n      function colorChanged (ui, context) {\n        const all = ui.val('all');\n        if (context !== red.get(0)) red.val(!isNullish(all) ? all.r : '');\n        if (context !== green.get(0)) green.val(!isNullish(all) ? all.g : '');\n        if (context !== blue.get(0)) blue.val(!isNullish(all) ? all.b : '');\n        if (alpha && context !== alpha.get(0)) alpha.val(!isNullish(all) ? toFixedNumeric((all.a * 100) / 255, alphaPrecision) : '');\n        if (context !== hue.get(0)) hue.val(!isNullish(all) ? all.h : '');\n        if (context !== saturation.get(0)) saturation.val(!isNullish(all) ? all.s : '');\n        if (context !== value.get(0)) value.val(!isNullish(all) ? all.v : '');\n        if (context !== hex.get(0) && ((bindedHex && context !== bindedHex.get(0)) || !bindedHex)) hex.val(!isNullish(all) ? all.hex : '');\n        if (bindedHex && context !== bindedHex.get(0) && context !== hex.get(0)) bindedHex.val(!isNullish(all) ? all.hex : '');\n        if (ahex && context !== ahex.get(0)) ahex.val(!isNullish(all) ? all.ahex.substring(6) : '');\n      }\n      /**\n      * Unbind all events and null objects.\n      * @returns {void}\n      */\n      function destroy () {\n        red.add(green).add(blue).add(alpha).add(hue).add(saturation).add(value).add(hex).add(bindedHex).add(ahex).unbind('keyup', keyUp).unbind('blur', blur);\n        red.add(green).add(blue).add(alpha).add(hue).add(saturation).add(value).unbind('keydown', keyDown);\n        color.unbind(colorChanged);\n        red = null;\n        green = null;\n        blue = null;\n        alpha = null;\n        hue = null;\n        saturation = null;\n        value = null;\n        hex = null;\n        ahex = null;\n      }\n      let\n        red = inputs.eq(3),\n        green = inputs.eq(4),\n        blue = inputs.eq(5),\n        alpha = inputs.length > 7 ? inputs.eq(6) : null,\n        hue = inputs.eq(0),\n        saturation = inputs.eq(1),\n        value = inputs.eq(2),\n        hex = inputs.eq(inputs.length > 7 ? 7 : 6),\n        ahex = inputs.length > 7 ? inputs.eq(8) : null;\n      $.extend(true, that, {\n        // public properties and methods\n        destroy\n      });\n      red.add(green).add(blue).add(alpha).add(hue).add(saturation).add(value).add(hex).add(bindedHex).add(ahex).bind('keyup', keyUp).bind('blur', blur);\n      red.add(green).add(blue).add(alpha).add(hue).add(saturation).add(value).bind('keydown', keyDown);\n      color.bind(colorChanged);\n    }\n  }\n\n  /**\n  * @typedef {PlainObject} module:jPicker.JPickerInit\n  * @property {Integer} [a]\n  * @property {Integer} [b]\n  * @property {Integer} [g]\n  * @property {Integer} [h]\n  * @property {Integer} [r]\n  * @property {Integer} [s]\n  * @property {Integer} [v]\n  * @property {string} [hex]\n  * @property {string} [ahex]\n  */\n\n  /* eslint-disable jsdoc/require-property */\n  /**\n  * @namespace {PlainObject} jPicker\n  * @memberof external:jQuery\n  */\n  $.jPicker = /** @lends external:jQuery.jPicker */ {\n    /* eslint-enable jsdoc/require-property */\n    /**\n    * Array holding references to each active instance of the jPicker control.\n    * @type {external:jQuery.fn.$.fn.jPicker[]}\n    */\n    List: [],\n    /**\n    * Color object - we will be able to assign by any color space type or\n    * retrieve any color space info.\n    * We want this public so we can optionally assign new color objects to\n    * initial values using inputs other than a string hex value (also supported)\n    * Note: JSDoc didn't document when expressed here as an ES6 Class.\n    * @namespace\n    * @class\n    * @memberof external:jQuery.jPicker\n    * @param {module:jPicker.JPickerInit} init\n    * @returns {external:jQuery.jPicker.Color}\n    */\n    Color: function (init) { // eslint-disable-line object-shorthand\n      const that = this;\n      /**\n       *\n       * @param {module:jPicker.Slider} context\n       * @returns {void}\n       */\n      function fireChangeEvents (context) {\n        for (let i = 0; i < changeEvents.length; i++) changeEvents[i].call(that, that, context);\n      }\n\n      /**\n       * @param {string|\"ahex\"|\"hex\"|\"all\"|\"\"|null|void} name String composed of letters \"r\", \"g\", \"b\", \"a\", \"h\", \"s\", and/or \"v\"\n       * @param {module:jPicker.RGBA|module:jPicker.JPickerInit|string} [value]\n       * @param {external:jQuery.jPicker.Color} context\n       * @returns {module:jPicker.JPickerInit|string|null|void}\n       */\n      function val (name, value, context) {\n        // Kind of ugly\n        const set = Boolean(value);\n        if (set && value.ahex === '') value.ahex = '00000000';\n        if (!set) {\n          let ret;\n          if (isNullish(name) || name === '') name = 'all';\n          if (isNullish(r)) return null;\n          switch (name.toLowerCase()) {\n          case 'ahex': return ColorMethods.rgbaToHex({r, g, b, a});\n          case 'hex': return val('ahex').substring(0, 6);\n          case 'all': return {\n            r, g, b, a, h, s, v,\n            hex: val.call(that, 'hex'),\n            ahex: val.call(that, 'ahex')\n          };\n          default: {\n            ret = {};\n            const nameLength = name.length;\n            [...name].forEach((ch) => {\n              switch (ch) {\n              case 'r':\n                if (nameLength === 1) ret = r;\n                else ret.r = r;\n                break;\n              case 'g':\n                if (nameLength === 1) ret = g;\n                else ret.g = g;\n                break;\n              case 'b':\n                if (nameLength === 1) ret = b;\n                else ret.b = b;\n                break;\n              case 'a':\n                if (nameLength === 1) ret = a;\n                else ret.a = a;\n                break;\n              case 'h':\n                if (nameLength === 1) ret = h;\n                else ret.h = h;\n                break;\n              case 's':\n                if (nameLength === 1) ret = s;\n                else ret.s = s;\n                break;\n              case 'v':\n                if (nameLength === 1) ret = v;\n                else ret.v = v;\n                break;\n              }\n            });\n          }\n          }\n          return typeof ret === 'object' && !Object.keys(ret).length\n            ? val.call(that, 'all')\n            : ret;\n        }\n        if (!isNullish(context) && context === that) return undefined;\n        if (isNullish(name)) name = '';\n\n        let changed = false;\n        if (isNullish(value)) {\n          if (!isNullish(r)) {\n            r = null;\n            changed = true;\n          }\n          if (!isNullish(g)) {\n            g = null;\n            changed = true;\n          }\n          if (!isNullish(b)) {\n            b = null;\n            changed = true;\n          }\n          if (!isNullish(a)) {\n            a = null;\n            changed = true;\n          }\n          if (!isNullish(h)) {\n            h = null;\n            changed = true;\n          }\n          if (!isNullish(s)) {\n            s = null;\n            changed = true;\n          }\n          if (!isNullish(v)) {\n            v = null;\n            changed = true;\n          }\n          changed && fireChangeEvents.call(that, context || that);\n          return undefined;\n        }\n        switch (name.toLowerCase()) {\n        case 'ahex':\n        case 'hex': {\n          const ret = ColorMethods.hexToRgba((value && (value.ahex || value.hex)) || value || 'none');\n          val.call(that, 'rgba', {\n            r: ret.r,\n            g: ret.g,\n            b: ret.b,\n            a: name === 'ahex'\n              ? ret.a\n              : !isNullish(a)\n                ? a\n                : 255\n          }, context);\n          break;\n        } default: {\n          if (value && (!isNullish(value.ahex) || !isNullish(value.hex))) {\n            val.call(that, 'ahex', value.ahex || value.hex || '00000000', context);\n            return undefined;\n          }\n          const newV = {};\n          let rgb = false, hsv = false;\n          if (value.r !== undefined && !name.includes('r')) name += 'r';\n          if (value.g !== undefined && !name.includes('g')) name += 'g';\n          if (value.b !== undefined && !name.includes('b')) name += 'b';\n          if (value.a !== undefined && !name.includes('a')) name += 'a';\n          if (value.h !== undefined && !name.includes('h')) name += 'h';\n          if (value.s !== undefined && !name.includes('s')) name += 's';\n          if (value.v !== undefined && !name.includes('v')) name += 'v';\n          [...name].forEach((ch) => {\n            switch (ch) {\n            case 'r':\n              if (hsv) return;\n              rgb = true;\n              newV.r = (value.r && value.r | 0) || (value | 0) || 0;\n              if (newV.r < 0) newV.r = 0;\n              else if (newV.r > 255) newV.r = 255;\n              if (r !== newV.r) {\n                ({r} = newV);\n                changed = true;\n              }\n              break;\n            case 'g':\n              if (hsv) return;\n              rgb = true;\n              newV.g = (value && value.g && value.g | 0) || (value && value | 0) || 0;\n              if (newV.g < 0) newV.g = 0;\n              else if (newV.g > 255) newV.g = 255;\n              if (g !== newV.g) {\n                ({g} = newV);\n                changed = true;\n              }\n              break;\n            case 'b':\n              if (hsv) return;\n              rgb = true;\n              newV.b = (value && value.b && value.b | 0) || (value && value | 0) || 0;\n              if (newV.b < 0) newV.b = 0;\n              else if (newV.b > 255) newV.b = 255;\n              if (b !== newV.b) {\n                ({b} = newV);\n                changed = true;\n              }\n              break;\n            case 'a':\n              newV.a = value && !isNullish(value.a) ? value.a | 0 : value | 0;\n              if (newV.a < 0) newV.a = 0;\n              else if (newV.a > 255) newV.a = 255;\n              if (a !== newV.a) {\n                ({a} = newV);\n                changed = true;\n              }\n              break;\n            case 'h':\n              if (rgb) return;\n              hsv = true;\n              newV.h = (value && value.h && value.h | 0) || (value && value | 0) || 0;\n              if (newV.h < 0) newV.h = 0;\n              else if (newV.h > 360) newV.h = 360;\n              if (h !== newV.h) {\n                ({h} = newV);\n                changed = true;\n              }\n              break;\n            case 's':\n              if (rgb) return;\n              hsv = true;\n              newV.s = !isNullish(value.s) ? value.s | 0 : value | 0;\n              if (newV.s < 0) newV.s = 0;\n              else if (newV.s > 100) newV.s = 100;\n              if (s !== newV.s) {\n                ({s} = newV);\n                changed = true;\n              }\n              break;\n            case 'v':\n              if (rgb) return;\n              hsv = true;\n              newV.v = !isNullish(value.v) ? value.v | 0 : value | 0;\n              if (newV.v < 0) newV.v = 0;\n              else if (newV.v > 100) newV.v = 100;\n              if (v !== newV.v) {\n                ({v} = newV);\n                changed = true;\n              }\n              break;\n            }\n          });\n          if (changed) {\n            if (rgb) {\n              r = r || 0;\n              g = g || 0;\n              b = b || 0;\n              const ret = ColorMethods.rgbToHsv({r, g, b});\n              ({h, s, v} = ret);\n            } else if (hsv) {\n              h = h || 0;\n              s = !isNullish(s) ? s : 100;\n              v = !isNullish(v) ? v : 100;\n              const ret = ColorMethods.hsvToRgb({h, s, v});\n              ({r, g, b} = ret);\n            }\n            a = !isNullish(a) ? a : 255;\n            fireChangeEvents.call(that, context || that);\n          }\n          break;\n        }\n        }\n        return undefined;\n      }\n      /**\n      * @param {GenericCallback} callback\n      * @returns {void}\n      */\n      function bind (callback) { // eslint-disable-line promise/prefer-await-to-callbacks\n        if (typeof callback === 'function') changeEvents.push(callback);\n      }\n      /**\n      * @param {GenericCallback} callback\n      * @returns {void}\n      */\n      function unbind (callback) { // eslint-disable-line promise/prefer-await-to-callbacks\n        if (typeof callback !== 'function') return;\n        let i;\n        while ((i = changeEvents.includes(callback))) {\n          changeEvents.splice(i, 1);\n        }\n      }\n      /**\n      * Unset `changeEvents`\n      * @returns {void}\n      */\n      function destroy () {\n        changeEvents = null;\n      }\n      let r, g, b, a, h, s, v, changeEvents = [];\n\n      $.extend(true, that, {\n        // public properties and methods\n        val,\n        bind,\n        unbind,\n        destroy\n      });\n      if (init) {\n        if (!isNullish(init.ahex)) {\n          val('ahex', init);\n        } else if (!isNullish(init.hex)) {\n          val(\n            (!isNullish(init.a) ? 'a' : '') + 'hex',\n            !isNullish(init.a)\n              ? {ahex: init.hex + ColorMethods.intToHex(init.a)}\n              : init\n          );\n        } else if (!isNullish(init.r) && !isNullish(init.g) && !isNullish(init.b)) {\n          val('rgb' + (!isNullish(init.a) ? 'a' : ''), init);\n        } else if (!isNullish(init.h) && !isNullish(init.s) && !isNullish(init.v)) {\n          val('hsv' + (!isNullish(init.a) ? 'a' : ''), init);\n        }\n      }\n    },\n    /**\n    * Color conversion methods  - make public to give use to external scripts.\n    * @namespace\n    */\n    ColorMethods: {\n      /**\n      * @typedef {PlainObject} module:jPicker.RGBA\n      * @property {Integer} r\n      * @property {Integer} g\n      * @property {Integer} b\n      * @property {Integer} a\n      */\n      /**\n      * @typedef {PlainObject} module:jPicker.RGB\n      * @property {Integer} r\n      * @property {Integer} g\n      * @property {Integer} b\n      */\n      /**\n      * @param {string} hex\n      * @returns {module:jPicker.RGBA}\n      */\n      hexToRgba (hex) {\n        if (hex === '' || hex === 'none') return {r: null, g: null, b: null, a: null};\n        hex = this.validateHex(hex);\n        let r = '00', g = '00', b = '00', a = '255';\n        if (hex.length === 6) hex += 'ff';\n        if (hex.length > 6) {\n          r = hex.substring(0, 2);\n          g = hex.substring(2, 4);\n          b = hex.substring(4, 6);\n          a = hex.substring(6, hex.length);\n        } else {\n          if (hex.length > 4) {\n            r = hex.substring(4, hex.length);\n            hex = hex.substring(0, 4);\n          }\n          if (hex.length > 2) {\n            g = hex.substring(2, hex.length);\n            hex = hex.substring(0, 2);\n          }\n          if (hex.length > 0) b = hex.substring(0, hex.length);\n        }\n        return {\n          r: this.hexToInt(r), g: this.hexToInt(g), b: this.hexToInt(b), a: this.hexToInt(a)\n        };\n      },\n      /**\n      * @param {string} hex\n      * @returns {string}\n      */\n      validateHex (hex) {\n        // if (typeof hex === 'object') return '';\n        hex = hex.toLowerCase().replace(/[^a-f\\d]/g, '');\n        if (hex.length > 8) hex = hex.substring(0, 8);\n        return hex;\n      },\n      /**\n      * @param {module:jPicker.RGBA} rgba\n      * @returns {string}\n      */\n      rgbaToHex (rgba) {\n        return this.intToHex(rgba.r) + this.intToHex(rgba.g) + this.intToHex(rgba.b) + this.intToHex(rgba.a);\n      },\n      /**\n      * @param {Integer} dec\n      * @returns {string}\n      */\n      intToHex (dec) {\n        let result = (dec | 0).toString(16);\n        if (result.length === 1) result = ('0' + result);\n        return result.toLowerCase();\n      },\n      /**\n      * @param {string} hex\n      * @returns {Integer}\n      */\n      hexToInt (hex) {\n        return Number.parseInt(hex, 16);\n      },\n      /**\n      * @typedef {PlainObject} module:jPicker.HSV\n      * @property {Integer} h\n      * @property {Integer} s\n      * @property {Integer} v\n      */\n      /**\n      * @param {module:jPicker.RGB} rgb\n      * @returns {module:jPicker.HSV}\n      */\n      rgbToHsv (rgb) {\n        const r = rgb.r / 255, g = rgb.g / 255, b = rgb.b / 255, hsv = {h: 0, s: 0, v: 0};\n        let min = 0, max = 0;\n        if (r >= g && r >= b) {\n          max = r;\n          min = g > b ? b : g;\n        } else if (g >= b && g >= r) {\n          max = g;\n          min = r > b ? b : r;\n        } else {\n          max = b;\n          min = g > r ? r : g;\n        }\n        hsv.v = max;\n        hsv.s = max ? (max - min) / max : 0;\n        let delta;\n        if (!hsv.s) hsv.h = 0;\n        else {\n          delta = max - min;\n          if (r === max) hsv.h = (g - b) / delta;\n          else if (g === max) hsv.h = 2 + (b - r) / delta;\n          else hsv.h = 4 + (r - g) / delta;\n          hsv.h = Number.parseInt(hsv.h * 60);\n          if (hsv.h < 0) hsv.h += 360;\n        }\n        hsv.s = (hsv.s * 100) | 0;\n        hsv.v = (hsv.v * 100) | 0;\n        return hsv;\n      },\n      /**\n      * @param {module:jPicker.HSV} hsv\n      * @returns {module:jPicker.RGB}\n      */\n      hsvToRgb (hsv) {\n        const rgb = {r: 0, g: 0, b: 0, a: 100};\n        let {h, s, v} = hsv;\n        if (s === 0) {\n          if (v === 0) rgb.r = rgb.g = rgb.b = 0;\n          else rgb.r = rgb.g = rgb.b = (v * 255 / 100) | 0;\n        } else {\n          if (h === 360) h = 0;\n          h /= 60;\n          s /= 100;\n          v /= 100;\n          const i = h | 0,\n            f = h - i,\n            p = v * (1 - s),\n            q = v * (1 - (s * f)),\n            t = v * (1 - (s * (1 - f)));\n          switch (i) {\n          case 0:\n            rgb.r = v;\n            rgb.g = t;\n            rgb.b = p;\n            break;\n          case 1:\n            rgb.r = q;\n            rgb.g = v;\n            rgb.b = p;\n            break;\n          case 2:\n            rgb.r = p;\n            rgb.g = v;\n            rgb.b = t;\n            break;\n          case 3:\n            rgb.r = p;\n            rgb.g = q;\n            rgb.b = v;\n            break;\n          case 4:\n            rgb.r = t;\n            rgb.g = p;\n            rgb.b = v;\n            break;\n          case 5:\n            rgb.r = v;\n            rgb.g = p;\n            rgb.b = q;\n            break;\n          }\n          rgb.r = (rgb.r * 255) | 0;\n          rgb.g = (rgb.g * 255) | 0;\n          rgb.b = (rgb.b * 255) | 0;\n        }\n        return rgb;\n      }\n    }\n  };\n  const {Color, List, ColorMethods} = $.jPicker; // local copies for YUI compressor\n  /* eslint-disable jsdoc/require-returns */\n  /**\n   * @function external:jQuery.fn.jPicker\n   * @see {@link external:jQuery.fn.$.fn.jPicker}\n   */\n  /* eslint-enable jsdoc/require-returns */\n\n  /**\n  * Will be bound to active {@link jQuery.jPicker.Color}.\n  * @callback module:jPicker.LiveCallback\n  * @param {external:jQuery} ui\n  * @param {Element} context\n  * @returns {void}\n  */\n  /**\n  * @callback module:jPicker.CommitCallback\n  * @param {external:jQuery.jPicker.Color} activeColor\n  * @param {external:jQuery} okButton\n  * @returns {void} Return value not used.\n  */\n  /**\n   * @callback module:jPicker.CancelCallback\n   * @param {external:jQuery.jPicker.Color} activeColor\n   * @param {external:jQuery} cancelButton\n   * @returns {void} Return value not used.\n   */\n  /**\n  * While it would seem this should specify the name `jPicker` for JSDoc, that doesn't\n  *   get us treated as a function as well as a namespace (even with `@function name`),\n  *   so we use an approach to add a redundant `$.fn.` in the name.\n  * @namespace\n  * @memberof external:jQuery.fn\n  * @param {external:jQuery.fn.jPickerOptions} options\n  * @param {module:jPicker.CommitCallback} [commitCallback]\n  * @param {module:jPicker.LiveCallback} [liveCallback]\n  * @param {module:jPicker.CancelCallback} [cancelCallback]\n  * @returns {external:jQuery}\n  */\n  $.fn.jPicker = function (options, commitCallback, liveCallback, cancelCallback) {\n    return this.each(function () {\n      const that = this,\n        settings = $.extend(true, {}, $.fn.jPicker.defaults, options); // local copies for YUI compressor\n      if ($(that).get(0).nodeName.toLowerCase() === 'input') { // Add color picker icon if binding to an input element and bind the events to the input\n        $.extend(true, settings, {\n          window: {\n            bindToInput: true,\n            expandable: true,\n            input: $(that)\n          }\n        });\n        if ($(that).val() === '') {\n          settings.color.active = new Color({hex: null});\n          settings.color.current = new Color({hex: null});\n        } else if (ColorMethods.validateHex($(that).val())) {\n          settings.color.active = new Color({hex: $(that).val(), a: settings.color.active.val('a')});\n          settings.color.current = new Color({hex: $(that).val(), a: settings.color.active.val('a')});\n        }\n      }\n      if (settings.window.expandable) {\n        $(that).after('<span class=\"jPicker\"><span class=\"Icon\"><span class=\"Color\">&nbsp;</span><span class=\"Alpha\">&nbsp;</span><span class=\"Image\" title=\"Click To Open Color Picker\">&nbsp;</span><span class=\"Container\">&nbsp;</span></span></span>');\n      } else {\n        settings.window.liveUpdate = false; // Basic control binding for inline use - You will need to override the liveCallback or commitCallback function to retrieve results\n      }\n      const isLessThanIE7 = Number.parseFloat(navigator.appVersion.split('MSIE')[1]) < 7 && document.body.filters; // needed to run the AlphaImageLoader function for IE6\n      // set color mode and update visuals for the new color mode\n      /**\n       *\n       * @param {\"h\"|\"s\"|\"v\"|\"r\"|\"g\"|\"b\"|\"a\"} colorMode\n       * @throws {Error} Invalid mode\n       * @returns {void}\n       */\n      function setColorMode (colorMode) {\n        const {active} = color, // local copies for YUI compressor\n          // {clientPath} = images,\n          hex = active.val('hex');\n        let rgbMap, rgbBar;\n        settings.color.mode = colorMode;\n        switch (colorMode) {\n        case 'h':\n          setTimeout(function () {\n            setBG.call(that, colorMapDiv, 'transparent');\n            setImgLoc.call(that, colorMapL1, 0);\n            setAlpha.call(that, colorMapL1, 100);\n            setImgLoc.call(that, colorMapL2, 260);\n            setAlpha.call(that, colorMapL2, 100);\n            setBG.call(that, colorBarDiv, 'transparent');\n            setImgLoc.call(that, colorBarL1, 0);\n            setAlpha.call(that, colorBarL1, 100);\n            setImgLoc.call(that, colorBarL2, 260);\n            setAlpha.call(that, colorBarL2, 100);\n            setImgLoc.call(that, colorBarL3, 260);\n            setAlpha.call(that, colorBarL3, 100);\n            setImgLoc.call(that, colorBarL4, 260);\n            setAlpha.call(that, colorBarL4, 100);\n            setImgLoc.call(that, colorBarL6, 260);\n            setAlpha.call(that, colorBarL6, 100);\n          }, 0);\n          colorMap.range('all', {minX: 0, maxX: 100, minY: 0, maxY: 100});\n          colorBar.range('rangeY', {minY: 0, maxY: 360});\n          if (isNullish(active.val('ahex'))) break;\n          colorMap.val('xy', {x: active.val('s'), y: 100 - active.val('v')}, colorMap);\n          colorBar.val('y', 360 - active.val('h'), colorBar);\n          break;\n        case 's':\n          setTimeout(function () {\n            setBG.call(that, colorMapDiv, 'transparent');\n            setImgLoc.call(that, colorMapL1, -260);\n            setImgLoc.call(that, colorMapL2, -520);\n            setImgLoc.call(that, colorBarL1, -260);\n            setImgLoc.call(that, colorBarL2, -520);\n            setImgLoc.call(that, colorBarL6, 260);\n            setAlpha.call(that, colorBarL6, 100);\n          }, 0);\n          colorMap.range('all', {minX: 0, maxX: 360, minY: 0, maxY: 100});\n          colorBar.range('rangeY', {minY: 0, maxY: 100});\n          if (isNullish(active.val('ahex'))) break;\n          colorMap.val('xy', {x: active.val('h'), y: 100 - active.val('v')}, colorMap);\n          colorBar.val('y', 100 - active.val('s'), colorBar);\n          break;\n        case 'v':\n          setTimeout(function () {\n            setBG.call(that, colorMapDiv, '000000');\n            setImgLoc.call(that, colorMapL1, -780);\n            setImgLoc.call(that, colorMapL2, 260);\n            setBG.call(that, colorBarDiv, hex);\n            setImgLoc.call(that, colorBarL1, -520);\n            setImgLoc.call(that, colorBarL2, 260);\n            setAlpha.call(that, colorBarL2, 100);\n            setImgLoc.call(that, colorBarL6, 260);\n            setAlpha.call(that, colorBarL6, 100);\n          }, 0);\n          colorMap.range('all', {minX: 0, maxX: 360, minY: 0, maxY: 100});\n          colorBar.range('rangeY', {minY: 0, maxY: 100});\n          if (isNullish(active.val('ahex'))) break;\n          colorMap.val('xy', {x: active.val('h'), y: 100 - active.val('s')}, colorMap);\n          colorBar.val('y', 100 - active.val('v'), colorBar);\n          break;\n        case 'r':\n          rgbMap = -1040;\n          rgbBar = -780;\n          colorMap.range('all', {minX: 0, maxX: 255, minY: 0, maxY: 255});\n          colorBar.range('rangeY', {minY: 0, maxY: 255});\n          if (isNullish(active.val('ahex'))) break;\n          colorMap.val('xy', {x: active.val('b'), y: 255 - active.val('g')}, colorMap);\n          colorBar.val('y', 255 - active.val('r'), colorBar);\n          break;\n        case 'g':\n          rgbMap = -1560;\n          rgbBar = -1820;\n          colorMap.range('all', {minX: 0, maxX: 255, minY: 0, maxY: 255});\n          colorBar.range('rangeY', {minY: 0, maxY: 255});\n          if (isNullish(active.val('ahex'))) break;\n          colorMap.val('xy', {x: active.val('b'), y: 255 - active.val('r')}, colorMap);\n          colorBar.val('y', 255 - active.val('g'), colorBar);\n          break;\n        case 'b':\n          rgbMap = -2080;\n          rgbBar = -2860;\n          colorMap.range('all', {minX: 0, maxX: 255, minY: 0, maxY: 255});\n          colorBar.range('rangeY', {minY: 0, maxY: 255});\n          if (isNullish(active.val('ahex'))) break;\n          colorMap.val('xy', {x: active.val('r'), y: 255 - active.val('g')}, colorMap);\n          colorBar.val('y', 255 - active.val('b'), colorBar);\n          break;\n        case 'a':\n          setTimeout(function () {\n            setBG.call(that, colorMapDiv, 'transparent');\n            setImgLoc.call(that, colorMapL1, -260);\n            setImgLoc.call(that, colorMapL2, -520);\n            setImgLoc.call(that, colorBarL1, 260);\n            setImgLoc.call(that, colorBarL2, 260);\n            setAlpha.call(that, colorBarL2, 100);\n            setImgLoc.call(that, colorBarL6, 0);\n            setAlpha.call(that, colorBarL6, 100);\n          }, 0);\n          colorMap.range('all', {minX: 0, maxX: 360, minY: 0, maxY: 100});\n          colorBar.range('rangeY', {minY: 0, maxY: 255});\n          if (isNullish(active.val('ahex'))) break;\n          colorMap.val('xy', {x: active.val('h'), y: 100 - active.val('v')}, colorMap);\n          colorBar.val('y', 255 - active.val('a'), colorBar);\n          break;\n        default:\n          throw new Error('Invalid Mode');\n        }\n        switch (colorMode) {\n        case 'h':\n          break;\n        case 's':\n        case 'v':\n        case 'a':\n          setTimeout(function () {\n            setAlpha.call(that, colorMapL1, 100);\n            setAlpha.call(that, colorBarL1, 100);\n            setImgLoc.call(that, colorBarL3, 260);\n            setAlpha.call(that, colorBarL3, 100);\n            setImgLoc.call(that, colorBarL4, 260);\n            setAlpha.call(that, colorBarL4, 100);\n          }, 0);\n          break;\n        case 'r':\n        case 'g':\n        case 'b':\n          setTimeout(function () {\n            setBG.call(that, colorMapDiv, 'transparent');\n            setBG.call(that, colorBarDiv, 'transparent');\n            setAlpha.call(that, colorBarL1, 100);\n            setAlpha.call(that, colorMapL1, 100);\n            setImgLoc.call(that, colorMapL1, rgbMap);\n            setImgLoc.call(that, colorMapL2, rgbMap - 260);\n            setImgLoc.call(that, colorBarL1, rgbBar - 780);\n            setImgLoc.call(that, colorBarL2, rgbBar - 520);\n            setImgLoc.call(that, colorBarL3, rgbBar);\n            setImgLoc.call(that, colorBarL4, rgbBar - 260);\n            setImgLoc.call(that, colorBarL6, 260);\n            setAlpha.call(that, colorBarL6, 100);\n          }, 0);\n          break;\n        }\n        if (isNullish(active.val('ahex'))) return;\n        activeColorChanged.call(that, active);\n      }\n      /**\n       * Update color when user changes text values.\n       * @param {external:jQuery} ui\n       * @param {?module:jPicker.Slider} context\n       * @returns {void}\n      */\n      function activeColorChanged (ui, context) {\n        if (isNullish(context) || (context !== colorBar && context !== colorMap)) positionMapAndBarArrows.call(that, ui, context);\n        setTimeout(function () {\n          updatePreview.call(that, ui);\n          updateMapVisuals.call(that, ui);\n          updateBarVisuals.call(that, ui);\n        }, 0);\n      }\n\n      /**\n       * User has dragged the ColorMap pointer.\n       * @param {external:jQuery} ui\n       * @param {?module:jPicker.Slider} context\n       * @returns {void}\n      */\n      function mapValueChanged (ui, context) {\n        const {active} = color;\n        if (context !== colorMap && isNullish(active.val())) return;\n        const xy = ui.val('all');\n        switch (settings.color.mode) {\n        case 'h':\n          active.val('sv', {s: xy.x, v: 100 - xy.y}, context);\n          break;\n        case 's':\n        case 'a':\n          active.val('hv', {h: xy.x, v: 100 - xy.y}, context);\n          break;\n        case 'v':\n          active.val('hs', {h: xy.x, s: 100 - xy.y}, context);\n          break;\n        case 'r':\n          active.val('gb', {g: 255 - xy.y, b: xy.x}, context);\n          break;\n        case 'g':\n          active.val('rb', {r: 255 - xy.y, b: xy.x}, context);\n          break;\n        case 'b':\n          active.val('rg', {r: xy.x, g: 255 - xy.y}, context);\n          break;\n        }\n      }\n\n      /**\n       * User has dragged the ColorBar slider.\n       * @param {external:jQuery} ui\n       * @param {?module:jPicker.Slider} context\n       * @returns {void}\n      */\n      function colorBarValueChanged (ui, context) {\n        const {active} = color;\n        if (context !== colorBar && isNullish(active.val())) return;\n        switch (settings.color.mode) {\n        case 'h':\n          active.val('h', {h: 360 - ui.val('y')}, context);\n          break;\n        case 's':\n          active.val('s', {s: 100 - ui.val('y')}, context);\n          break;\n        case 'v':\n          active.val('v', {v: 100 - ui.val('y')}, context);\n          break;\n        case 'r':\n          active.val('r', {r: 255 - ui.val('y')}, context);\n          break;\n        case 'g':\n          active.val('g', {g: 255 - ui.val('y')}, context);\n          break;\n        case 'b':\n          active.val('b', {b: 255 - ui.val('y')}, context);\n          break;\n        case 'a':\n          active.val('a', 255 - ui.val('y'), context);\n          break;\n        }\n      }\n\n      /**\n       * Position map and bar arrows to match current color.\n       * @param {external:jQuery} ui\n       * @param {?module:jPicker.Slider} context\n       * @returns {void}\n      */\n      function positionMapAndBarArrows (ui, context) {\n        if (context !== colorMap) {\n          switch (settings.color.mode) {\n          case 'h': {\n            const sv = ui.val('sv');\n            colorMap.val('xy', {x: !isNullish(sv) ? sv.s : 100, y: 100 - (!isNullish(sv) ? sv.v : 100)}, context);\n            break;\n          } case 's':\n          // Fall through\n          case 'a': {\n            const hv = ui.val('hv');\n            colorMap.val('xy', {x: (hv && hv.h) || 0, y: 100 - (!isNullish(hv) ? hv.v : 100)}, context);\n            break;\n          } case 'v': {\n            const hs = ui.val('hs');\n            colorMap.val('xy', {x: (hs && hs.h) || 0, y: 100 - (!isNullish(hs) ? hs.s : 100)}, context);\n            break;\n          } case 'r': {\n            const bg = ui.val('bg');\n            colorMap.val('xy', {x: (bg && bg.b) || 0, y: 255 - ((bg && bg.g) || 0)}, context);\n            break;\n          } case 'g': {\n            const br = ui.val('br');\n            colorMap.val('xy', {x: (br && br.b) || 0, y: 255 - ((br && br.r) || 0)}, context);\n            break;\n          } case 'b': {\n            const rg = ui.val('rg');\n            colorMap.val('xy', {x: (rg && rg.r) || 0, y: 255 - ((rg && rg.g) || 0)}, context);\n            break;\n          }\n          }\n        }\n        if (context !== colorBar) {\n          switch (settings.color.mode) {\n          case 'h':\n            colorBar.val('y', 360 - (ui.val('h') || 0), context);\n            break;\n          case 's': {\n            const s = ui.val('s');\n            colorBar.val('y', 100 - (!isNullish(s) ? s : 100), context);\n            break;\n          } case 'v': {\n            const v = ui.val('v');\n            colorBar.val('y', 100 - (!isNullish(v) ? v : 100), context);\n            break;\n          } case 'r':\n            colorBar.val('y', 255 - (ui.val('r') || 0), context);\n            break;\n          case 'g':\n            colorBar.val('y', 255 - (ui.val('g') || 0), context);\n            break;\n          case 'b':\n            colorBar.val('y', 255 - (ui.val('b') || 0), context);\n            break;\n          case 'a': {\n            const a = ui.val('a');\n            colorBar.val('y', 255 - (!isNullish(a) ? a : 255), context);\n            break;\n          }\n          }\n        }\n      }\n      /**\n      * @param {external:jQuery} ui\n      * @returns {void}\n      */\n      function updatePreview (ui) {\n        try {\n          const all = ui.val('all');\n          activePreview.css({backgroundColor: (all && '#' + all.hex) || 'transparent'});\n          setAlpha.call(that, activePreview, (all && toFixedNumeric((all.a * 100) / 255, 4)) || 0);\n        } catch (e) { }\n      }\n      /**\n      * @param {external:jQuery} ui\n      * @returns {void}\n      */\n      function updateMapVisuals (ui) {\n        switch (settings.color.mode) {\n        case 'h':\n          setBG.call(that, colorMapDiv, new Color({h: ui.val('h') || 0, s: 100, v: 100}).val('hex'));\n          break;\n        case 's':\n        case 'a': {\n          const s = ui.val('s');\n          setAlpha.call(that, colorMapL2, 100 - (!isNullish(s) ? s : 100));\n          break;\n        } case 'v': {\n          const v = ui.val('v');\n          setAlpha.call(that, colorMapL1, !isNullish(v) ? v : 100);\n          break;\n        } case 'r':\n          setAlpha.call(that, colorMapL2, toFixedNumeric((ui.val('r') || 0) / 255 * 100, 4));\n          break;\n        case 'g':\n          setAlpha.call(that, colorMapL2, toFixedNumeric((ui.val('g') || 0) / 255 * 100, 4));\n          break;\n        case 'b':\n          setAlpha.call(that, colorMapL2, toFixedNumeric((ui.val('b') || 0) / 255 * 100));\n          break;\n        }\n        const a = ui.val('a');\n        setAlpha.call(that, colorMapL3, toFixedNumeric(((255 - (a || 0)) * 100) / 255, 4));\n      }\n      /**\n      * @param {external:jQuery} ui\n      * @returns {void}\n      */\n      function updateBarVisuals (ui) {\n        switch (settings.color.mode) {\n        case 'h': {\n          const a = ui.val('a');\n          setAlpha.call(that, colorBarL5, toFixedNumeric(((255 - (a || 0)) * 100) / 255, 4));\n          break;\n        } case 's': {\n          const hva = ui.val('hva'),\n            saturatedColor = new Color({h: (hva && hva.h) || 0, s: 100, v: !isNullish(hva) ? hva.v : 100});\n          setBG.call(that, colorBarDiv, saturatedColor.val('hex'));\n          setAlpha.call(that, colorBarL2, 100 - (!isNullish(hva) ? hva.v : 100));\n          setAlpha.call(that, colorBarL5, toFixedNumeric(((255 - ((hva && hva.a) || 0)) * 100) / 255, 4));\n          break;\n        } case 'v': {\n          const hsa = ui.val('hsa'),\n            valueColor = new Color({h: (hsa && hsa.h) || 0, s: !isNullish(hsa) ? hsa.s : 100, v: 100});\n          setBG.call(that, colorBarDiv, valueColor.val('hex'));\n          setAlpha.call(that, colorBarL5, toFixedNumeric(((255 - ((hsa && hsa.a) || 0)) * 100) / 255, 4));\n          break;\n        } case 'r':\n        case 'g':\n        case 'b': {\n          const rgba = ui.val('rgba');\n          let hValue = 0, vValue = 0;\n          if (settings.color.mode === 'r') {\n            hValue = (rgba && rgba.b) || 0;\n            vValue = (rgba && rgba.g) || 0;\n          } else if (settings.color.mode === 'g') {\n            hValue = (rgba && rgba.b) || 0;\n            vValue = (rgba && rgba.r) || 0;\n          } else if (settings.color.mode === 'b') {\n            hValue = (rgba && rgba.r) || 0;\n            vValue = (rgba && rgba.g) || 0;\n          }\n          const middle = vValue > hValue ? hValue : vValue;\n          setAlpha.call(that, colorBarL2, hValue > vValue ? toFixedNumeric(((hValue - vValue) / (255 - vValue)) * 100, 4) : 0);\n          setAlpha.call(that, colorBarL3, vValue > hValue ? toFixedNumeric(((vValue - hValue) / (255 - hValue)) * 100, 4) : 0);\n          setAlpha.call(that, colorBarL4, toFixedNumeric((middle / 255) * 100, 4));\n          setAlpha.call(that, colorBarL5, toFixedNumeric(((255 - ((rgba && rgba.a) || 0)) * 100) / 255, 4));\n          break;\n        } case 'a': {\n          const a = ui.val('a');\n          setBG.call(that, colorBarDiv, ui.val('hex') || '000000');\n          setAlpha.call(that, colorBarL5, !isNullish(a) ? 0 : 100);\n          setAlpha.call(that, colorBarL6, !isNullish(a) ? 100 : 0);\n          break;\n        }\n        }\n      }\n      /**\n      * @param {external:jQuery} el\n      * @param {string} [c=\"transparent\"]\n      * @returns {void}\n      */\n      function setBG (el, c) {\n        el.css({backgroundColor: (c && c.length === 6 && '#' + c) || 'transparent'});\n      }\n\n      /**\n      * @param {external:jQuery} img\n      * @param {string} src The image source\n      * @returns {void}\n      */\n      function setImg (img, src) {\n        if (isLessThanIE7 && (src.includes('AlphaBar.png') || src.includes('Bars.png') || src.includes('Maps.png'))) {\n          img.attr('pngSrc', src);\n          img.css({backgroundImage: 'none', filter: 'progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\\'' + src + '\\', sizingMethod=\\'scale\\')'});\n        } else img.css({backgroundImage: 'url(\\'' + src + '\\')'});\n      }\n      /**\n      * @param {external:jQuery} img\n      * @param {Float} y\n      * @returns {void}\n      */\n      function setImgLoc (img, y) {\n        img.css({top: y + 'px'});\n      }\n      /**\n      * @param {external:jQuery} obj\n      * @param {Float} alpha\n      * @returns {void}\n      */\n      function setAlpha (obj, alpha) {\n        obj.css({visibility: alpha > 0 ? 'visible' : 'hidden'});\n        if (alpha > 0 && alpha < 100) {\n          if (isLessThanIE7) {\n            const src = obj.attr('pngSrc');\n            if (!isNullish(src) && (\n              src.includes('AlphaBar.png') || src.includes('Bars.png') || src.includes('Maps.png')\n            )) {\n              obj.css({\n                filter: 'progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\\'' + src +\n                  '\\', sizingMethod=\\'scale\\') progid:DXImageTransform.Microsoft.Alpha(opacity=' + alpha + ')'\n              });\n            } else obj.css({opacity: toFixedNumeric(alpha / 100, 4)});\n          } else obj.css({opacity: toFixedNumeric(alpha / 100, 4)});\n        } else if (alpha === 0 || alpha === 100) {\n          if (isLessThanIE7) {\n            const src = obj.attr('pngSrc');\n            if (!isNullish(src) && (\n              src.includes('AlphaBar.png') || src.includes('Bars.png') || src.includes('Maps.png')\n            )) {\n              obj.css({\n                filter: 'progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\\'' + src +\n                '\\', sizingMethod=\\'scale\\')'\n              });\n            } else obj.css({opacity: ''});\n          } else obj.css({opacity: ''});\n        }\n      }\n\n      /**\n      * Revert color to original color when opened.\n      * @returns {void}\n      */\n      function revertColor () {\n        color.active.val('ahex', color.current.val('ahex'));\n      }\n      /**\n      * Commit the color changes.\n      * @returns {void}\n      */\n      function commitColor () {\n        color.current.val('ahex', color.active.val('ahex'));\n      }\n      /**\n      * @param {Event} e\n      * @returns {void}\n      */\n      function radioClicked (e) {\n        $(this).parents('tbody:first').find('input:radio[value!=\"' + e.target.value + '\"]').removeAttr('checked');\n        setColorMode.call(that, e.target.value);\n      }\n      /**\n      *\n      * @returns {void}\n      */\n      function currentClicked () {\n        revertColor.call(that);\n      }\n      /**\n      *\n      * @returns {void}\n      */\n      function cancelClicked () {\n        revertColor.call(that);\n        settings.window.expandable && hide.call(that);\n        typeof cancelCallback === 'function' && cancelCallback.call(that, color.active, cancelButton);\n      }\n      /**\n      *\n      * @returns {void}\n      */\n      function okClicked () {\n        commitColor.call(that);\n        settings.window.expandable && hide.call(that);\n        typeof commitCallback === 'function' && commitCallback.call(that, color.active, okButton);\n      }\n      /**\n      *\n      * @returns {void}\n      */\n      function iconImageClicked () {\n        show.call(that);\n      }\n      /**\n      * @param {external:jQuery} ui\n      * @returns {void}\n      */\n      function currentColorChanged (ui) {\n        const hex = ui.val('hex');\n        currentPreview.css({backgroundColor: (hex && '#' + hex) || 'transparent'});\n        setAlpha.call(that, currentPreview, toFixedNumeric(((ui.val('a') || 0) * 100) / 255, 4));\n      }\n      /**\n      * @param {external:jQuery} ui\n      * @returns {void}\n      */\n      function expandableColorChanged (ui) {\n        const hex = ui.val('hex');\n        const va = ui.val('va');\n        iconColor.css({backgroundColor: (hex && '#' + hex) || 'transparent'});\n        setAlpha.call(that, iconAlpha, toFixedNumeric(((255 - ((va && va.a) || 0)) * 100) / 255, 4));\n        if (settings.window.bindToInput && settings.window.updateInputColor) {\n          settings.window.input.css({\n            backgroundColor: (hex && '#' + hex) || 'transparent',\n            color: isNullish(va) || va.v > 75 ? '#000000' : '#ffffff'\n          });\n        }\n      }\n      /**\n      * @param {Event} e\n      * @returns {void}\n      */\n      function moveBarMouseDown (e) {\n        // const {element} = settings.window, // local copies for YUI compressor\n        //     {page} = settings.window;\n        elementStartX = Number.parseInt(container.css('left'));\n        elementStartY = Number.parseInt(container.css('top'));\n        pageStartX = e.pageX;\n        pageStartY = e.pageY;\n        // bind events to document to move window - we will unbind these on mouseup\n        $(document).bind('mousemove', documentMouseMove).bind('mouseup', documentMouseUp);\n        e.preventDefault(); // prevent attempted dragging of the column\n      }\n      /**\n      * @param {Event} e\n      * @returns {false}\n      */\n      function documentMouseMove (e) {\n        container.css({\n          left: elementStartX - (pageStartX - e.pageX) + 'px',\n          top: elementStartY - (pageStartY - e.pageY) + 'px'\n        });\n        if (settings.window.expandable && !$.support.boxModel) {\n          container.prev().css({\n            left: container.css('left'),\n            top: container.css('top')\n          });\n        }\n        e.stopPropagation();\n        e.preventDefault();\n        return false;\n      }\n      /**\n      * @param {Event} e\n      * @returns {false}\n      */\n      function documentMouseUp (e) {\n        $(document).unbind('mousemove', documentMouseMove).unbind('mouseup', documentMouseUp);\n        e.stopPropagation();\n        e.preventDefault();\n        return false;\n      }\n      /**\n      * @param {Event} e\n      * @returns {false}\n      */\n      function quickPickClicked (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        color.active.val('ahex', $(this).attr('title') || null, e.target);\n        return false;\n      }\n      /**\n      *\n      * @returns {void}\n      */\n      function show () {\n        color.current.val('ahex', color.active.val('ahex'));\n        /**\n        *\n        * @returns {void}\n        */\n        function attachIFrame () {\n          if (!settings.window.expandable || $.support.boxModel) return;\n          const table = container.find('table:first');\n          container.before('<iframe/>');\n          container.prev().css({\n            width: table.width(),\n            height: container.height(),\n            opacity: 0,\n            position: 'absolute',\n            left: container.css('left'),\n            top: container.css('top')\n          });\n        }\n        if (settings.window.expandable) {\n          $(document.body).children('div.jPicker.Container').css({zIndex: 10});\n          container.css({zIndex: 20});\n        }\n        switch (settings.window.effects.type) {\n        case 'fade':\n          container.fadeIn(settings.window.effects.speed.show, attachIFrame);\n          break;\n        case 'slide':\n          container.slideDown(settings.window.effects.speed.show, attachIFrame);\n          break;\n        case 'show':\n        default:\n          container.show(settings.window.effects.speed.show, attachIFrame);\n          break;\n        }\n      }\n      /**\n      *\n      * @returns {void}\n      */\n      function hide () {\n        /**\n        *\n        * @returns {void}\n        */\n        function removeIFrame () {\n          if (settings.window.expandable) container.css({zIndex: 10});\n          if (!settings.window.expandable || $.support.boxModel) return;\n          container.prev().remove();\n        }\n        switch (settings.window.effects.type) {\n        case 'fade':\n          container.fadeOut(settings.window.effects.speed.hide, removeIFrame);\n          break;\n        case 'slide':\n          container.slideUp(settings.window.effects.speed.hide, removeIFrame);\n          break;\n        case 'show':\n        default:\n          container.hide(settings.window.effects.speed.hide, removeIFrame);\n          break;\n        }\n      }\n      /**\n      *\n      * @returns {void}\n      */\n      function initialize () {\n        const win = settings.window,\n          popup = win.expandable ? $(that).next().find('.Container:first') : null;\n        container = win.expandable ? $('<div/>') : $(that);\n        container.addClass('jPicker Container');\n        if (win.expandable) container.hide();\n        container.get(0).onselectstart = function (e) {\n          if (e.target.nodeName.toLowerCase() !== 'input') return false;\n          return true;\n        };\n        // inject html source code - we are using a single table for this control - I know tables are considered bad, but it takes care of equal height columns and\n        // this control really is tabular data, so I believe it is the right move\n        const all = color.active.val('all');\n        if (win.alphaPrecision < 0) win.alphaPrecision = 0;\n        else if (win.alphaPrecision > 2) win.alphaPrecision = 2;\n        const controlHtml = `<table class=\"jPicker\" cellpadding=\"0\" cellspacing=\"0\">\n          <tbody>\n            ${win.expandable ? '<tr><td class=\"Move\" colspan=\"5\">&nbsp;</td></tr>' : ''}\n            <tr>\n              <td rowspan=\"9\"><h2 class=\"Title\">${win.title || localization.text.title}</h2><div class=\"Map\"><span class=\"Map1\">&nbsp;</span><span class=\"Map2\">&nbsp;</span><span class=\"Map3\">&nbsp;</span><img src=\"${images.clientPath + images.colorMap.arrow.file}\" class=\"Arrow\"/></div></td>\n              <td rowspan=\"9\"><div class=\"Bar\"><span class=\"Map1\">&nbsp;</span><span class=\"Map2\">&nbsp;</span><span class=\"Map3\">&nbsp;</span><span class=\"Map4\">&nbsp;</span><span class=\"Map5\">&nbsp;</span><span class=\"Map6\">&nbsp;</span><img src=\"${images.clientPath + images.colorBar.arrow.file}\" class=\"Arrow\"/></div></td>\n              <td colspan=\"2\" class=\"Preview\">${localization.text.newColor}<div><span class=\"Active\" title=\"${localization.tooltips.colors.newColor}\">&nbsp;</span><span class=\"Current\" title=\"${localization.tooltips.colors.currentColor}\">&nbsp;</span></div>${localization.text.currentColor}</td>\n              <td rowspan=\"9\" class=\"Button\"><input type=\"button\" class=\"Ok\" value=\"${localization.text.ok}\" title=\"${localization.tooltips.buttons.ok}\"/><input type=\"button\" class=\"Cancel\" value=\"${localization.text.cancel}\" title=\"${localization.tooltips.buttons.cancel}\"/><hr/><div class=\"Grid\">&nbsp;</div></td>\n            </tr>\n            <tr class=\"Hue\">\n              <td class=\"Radio\"><label title=\"${localization.tooltips.hue.radio}\"><input type=\"radio\" value=\"h\"${settings.color.mode === 'h' ? ' checked=\"checked\"' : ''}/>H:</label></td>\n              <td class=\"Text\"><input type=\"text\" maxlength=\"3\" value=\"${!isNullish(all) ? all.h : ''}\" title=\"${localization.tooltips.hue.textbox}\"/>&nbsp;&deg;</td>\n            </tr>\n            <tr class=\"Saturation\">\n              <td class=\"Radio\"><label title=\"${localization.tooltips.saturation.radio}\"><input type=\"radio\" value=\"s\"${settings.color.mode === 's' ? ' checked=\"checked\"' : ''}/>S:</label></td>\n              <td class=\"Text\"><input type=\"text\" maxlength=\"3\" value=\"${!isNullish(all) ? all.s : ''}\" title=\"${localization.tooltips.saturation.textbox}\"/>&nbsp;%</td>\n            </tr>\n            <tr class=\"Value\">\n              <td class=\"Radio\"><label title=\"${localization.tooltips.value.radio}\"><input type=\"radio\" value=\"v\"${settings.color.mode === 'v' ? ' checked=\"checked\"' : ''}/>V:</label><br/><br/></td>\n              <td class=\"Text\"><input type=\"text\" maxlength=\"3\" value=\"${!isNullish(all) ? all.v : ''}\" title=\"${localization.tooltips.value.textbox}\"/>&nbsp;%<br/><br/></td>\n            </tr>\n            <tr class=\"Red\">\n              <td class=\"Radio\"><label title=\"${localization.tooltips.red.radio}\"><input type=\"radio\" value=\"r\"${settings.color.mode === 'r' ? ' checked=\"checked\"' : ''}/>R:</label></td>\n              <td class=\"Text\"><input type=\"text\" maxlength=\"3\" value=\"${!isNullish(all) ? all.r : ''}\" title=\"${localization.tooltips.red.textbox}\"/></td>\n            </tr>\n            <tr class=\"Green\">\n              <td class=\"Radio\"><label title=\"${localization.tooltips.green.radio}\"><input type=\"radio\" value=\"g\"${settings.color.mode === 'g' ? ' checked=\"checked\"' : ''}/>G:</label></td>\n              <td class=\"Text\"><input type=\"text\" maxlength=\"3\" value=\"${!isNullish(all) ? all.g : ''}\" title=\"${localization.tooltips.green.textbox}\"/></td>\n            </tr>\n            <tr class=\"Blue\">\n              <td class=\"Radio\"><label title=\"${localization.tooltips.blue.radio}\"><input type=\"radio\" value=\"b\"${settings.color.mode === 'b' ? ' checked=\"checked\"' : ''}/>B:</label></td>\n              <td class=\"Text\"><input type=\"text\" maxlength=\"3\" value=\"${!isNullish(all) ? all.b : ''}\" title=\"${localization.tooltips.blue.textbox}\"/></td>\n            </tr>\n            <tr class=\"Alpha\">\n              <td class=\"Radio\">${win.alphaSupport ? `<label title=\"${localization.tooltips.alpha.radio}\"><input type=\"radio\" value=\"a\"${settings.color.mode === 'a' ? ' checked=\"checked\"' : ''}/>A:</label>` : '&nbsp;'}</td>\n              <td class=\"Text\">${win.alphaSupport ? `<input type=\"text\" maxlength=\"${3 + win.alphaPrecision}\" value=\"${!isNullish(all) ? toFixedNumeric((all.a * 100) / 255, win.alphaPrecision) : ''}\" title=\"${localization.tooltips.alpha.textbox}\"/>&nbsp;%` : '&nbsp;'}</td>\n            </tr>\n            <tr class=\"Hex\">\n              <td colspan=\"2\" class=\"Text\"><label title=\"${localization.tooltips.hex.textbox}\">#:<input type=\"text\" maxlength=\"6\" class=\"Hex\" value=\"${!isNullish(all) ? all.hex : ''}\"/></label>${win.alphaSupport ? `<input type=\"text\" maxlength=\"2\" class=\"AHex\" value=\"${!isNullish(all) ? all.ahex.substring(6) : ''}\" title=\"${localization.tooltips.hex.alpha}\"/></td>` : '&nbsp;'}\n            </tr>\n          </tbody></table>`;\n        if (win.expandable) {\n          container.html(controlHtml);\n          if (!$(document.body).children('div.jPicker.Container').length) {\n            $(document.body).prepend(container);\n          } else {\n            $(document.body).children('div.jPicker.Container:last').after(container);\n          }\n          container.mousedown(\n            function () {\n              $(document.body).children('div.jPicker.Container').css({zIndex: 10});\n              container.css({zIndex: 20});\n            }\n          );\n          container.css( // positions must be set and display set to absolute before source code injection or IE will size the container to fit the window\n            {\n              left:\n                win.position.x === 'left'\n                  ? (popup.offset().left - 530 - (win.position.y === 'center' ? 25 : 0)) + 'px'\n                  : win.position.x === 'center'\n                    ? (popup.offset().left - 260) + 'px'\n                    : win.position.x === 'right'\n                      ? (popup.offset().left - 10 + (win.position.y === 'center' ? 25 : 0)) + 'px'\n                      : win.position.x === 'screenCenter'\n                        ? (($(document).width() >> 1) - 260) + 'px'\n                        : (popup.offset().left + Number.parseInt(win.position.x)) + 'px',\n              position: 'absolute',\n              top: win.position.y === 'top'\n                ? (popup.offset().top - 312) + 'px'\n                : win.position.y === 'center'\n                  ? (popup.offset().top - 156) + 'px'\n                  : win.position.y === 'bottom'\n                    ? (popup.offset().top + 25) + 'px'\n                    : (popup.offset().top + Number.parseInt(win.position.y)) + 'px'\n            }\n          );\n        } else {\n          container = $(that);\n          container.html(controlHtml);\n        }\n        // initialize the objects to the source code just injected\n        const tbody = container.find('tbody:first');\n        colorMapDiv = tbody.find('div.Map:first');\n        colorBarDiv = tbody.find('div.Bar:first');\n        const MapMaps = colorMapDiv.find('span');\n        const BarMaps = colorBarDiv.find('span');\n        colorMapL1 = MapMaps.filter('.Map1:first');\n        colorMapL2 = MapMaps.filter('.Map2:first');\n        colorMapL3 = MapMaps.filter('.Map3:first');\n        colorBarL1 = BarMaps.filter('.Map1:first');\n        colorBarL2 = BarMaps.filter('.Map2:first');\n        colorBarL3 = BarMaps.filter('.Map3:first');\n        colorBarL4 = BarMaps.filter('.Map4:first');\n        colorBarL5 = BarMaps.filter('.Map5:first');\n        colorBarL6 = BarMaps.filter('.Map6:first');\n        // create color pickers and maps\n        colorMap = new Slider(\n          colorMapDiv,\n          {\n            map: {\n              width: images.colorMap.width,\n              height: images.colorMap.height\n            },\n            arrow: {\n              image: images.clientPath + images.colorMap.arrow.file,\n              width: images.colorMap.arrow.width,\n              height: images.colorMap.arrow.height\n            }\n          }\n        );\n        colorMap.bind(mapValueChanged);\n        colorBar = new Slider(\n          colorBarDiv,\n          {\n            map: {\n              width: images.colorBar.width,\n              height: images.colorBar.height\n            },\n            arrow: {\n              image: images.clientPath + images.colorBar.arrow.file,\n              width: images.colorBar.arrow.width,\n              height: images.colorBar.arrow.height\n            }\n          }\n        );\n        colorBar.bind(colorBarValueChanged);\n        colorPicker = new ColorValuePicker(\n          tbody,\n          color.active,\n          win.expandable && win.bindToInput ? win.input : null,\n          win.alphaPrecision\n        );\n        const hex = !isNullish(all) ? all.hex : null,\n          preview = tbody.find('.Preview'),\n          button = tbody.find('.Button');\n        activePreview = preview.find('.Active:first').css({backgroundColor: (hex && '#' + hex) || 'transparent'});\n        currentPreview = preview.find('.Current:first').css({backgroundColor: (hex && '#' + hex) || 'transparent'}).bind('click', currentClicked);\n        setAlpha.call(that, currentPreview, toFixedNumeric((color.current.val('a') * 100) / 255, 4));\n        okButton = button.find('.Ok:first').bind('click', okClicked);\n        cancelButton = button.find('.Cancel:first').bind('click', cancelClicked);\n        grid = button.find('.Grid:first');\n        setTimeout(function () {\n          setImg.call(that, colorMapL1, images.clientPath + 'Maps.png');\n          setImg.call(that, colorMapL2, images.clientPath + 'Maps.png');\n          setImg.call(that, colorMapL3, images.clientPath + 'map-opacity.png');\n          setImg.call(that, colorBarL1, images.clientPath + 'Bars.png');\n          setImg.call(that, colorBarL2, images.clientPath + 'Bars.png');\n          setImg.call(that, colorBarL3, images.clientPath + 'Bars.png');\n          setImg.call(that, colorBarL4, images.clientPath + 'Bars.png');\n          setImg.call(that, colorBarL5, images.clientPath + 'bar-opacity.png');\n          setImg.call(that, colorBarL6, images.clientPath + 'AlphaBar.png');\n          setImg.call(that, preview.find('div:first'), images.clientPath + 'preview-opacity.png');\n        }, 0);\n        tbody.find('td.Radio input').bind('click', radioClicked);\n        // initialize quick list\n        if (color.quickList && color.quickList.length > 0) {\n          let html = '';\n          for (let i = 0; i < color.quickList.length; i++) {\n            /* if default colors are hex strings, change them to color objects */\n            if ((typeof (color.quickList[i])).toString().toLowerCase() === 'string') {\n              color.quickList[i] = new Color({hex: color.quickList[i]});\n            }\n            const alpha = color.quickList[i].val('a');\n            let ahex = color.quickList[i].val('ahex');\n            if (!win.alphaSupport && ahex) ahex = ahex.substring(0, 6) + 'ff';\n            const quickHex = color.quickList[i].val('hex');\n            if (!ahex) ahex = '00000000';\n            html += '<span class=\"QuickColor\"' + (' title=\"#' + ahex + '\"') + ' style=\"background-color:' + ((quickHex && '#' + quickHex) || '') + ';' + (quickHex ? '' : 'background-image:url(' + images.clientPath + 'NoColor.png)') + (win.alphaSupport && alpha && alpha < 255 ? ';opacity:' + toFixedNumeric(alpha / 255, 4) + ';filter:Alpha(opacity=' + toFixedNumeric(alpha / 2.55, 4) + ')' : '') + '\">&nbsp;</span>';\n          }\n          setImg.call(that, grid, images.clientPath + 'bar-opacity.png');\n          grid.html(html);\n          grid.find('.QuickColor').click(quickPickClicked);\n        }\n        setColorMode.call(that, settings.color.mode);\n        color.active.bind(activeColorChanged);\n        typeof liveCallback === 'function' && color.active.bind(liveCallback);\n        color.current.bind(currentColorChanged);\n        // bind to input\n        if (win.expandable) {\n          that.icon = popup.parents('.Icon:first');\n          iconColor = that.icon.find('.Color:first').css({backgroundColor: (hex && '#' + hex) || 'transparent'});\n          iconAlpha = that.icon.find('.Alpha:first');\n          setImg.call(that, iconAlpha, images.clientPath + 'bar-opacity.png');\n          setAlpha.call(that, iconAlpha, toFixedNumeric(((255 - (!isNullish(all) ? all.a : 0)) * 100) / 255, 4));\n          iconImage = that.icon.find('.Image:first').css({\n            backgroundImage: 'url(\\'' + images.clientPath + images.picker.file + '\\')'\n          }).bind('click', iconImageClicked);\n          if (win.bindToInput && win.updateInputColor) {\n            win.input.css({\n              backgroundColor: (hex && '#' + hex) || 'transparent',\n              color: isNullish(all) || all.v > 75 ? '#000000' : '#ffffff'\n            });\n          }\n          moveBar = tbody.find('.Move:first').bind('mousedown', moveBarMouseDown);\n          color.active.bind(expandableColorChanged);\n        } else show.call(that);\n      }\n      /**\n      *\n      * @returns {void}\n      */\n      function destroy () {\n        container.find('td.Radio input').unbind('click', radioClicked);\n        currentPreview.unbind('click', currentClicked);\n        cancelButton.unbind('click', cancelClicked);\n        okButton.unbind('click', okClicked);\n        if (settings.window.expandable) {\n          iconImage.unbind('click', iconImageClicked);\n          moveBar.unbind('mousedown', moveBarMouseDown);\n          that.icon = null;\n        }\n        container.find('.QuickColor').unbind('click', quickPickClicked);\n        colorMapDiv = null;\n        colorBarDiv = null;\n        colorMapL1 = null;\n        colorMapL2 = null;\n        colorMapL3 = null;\n        colorBarL1 = null;\n        colorBarL2 = null;\n        colorBarL3 = null;\n        colorBarL4 = null;\n        colorBarL5 = null;\n        colorBarL6 = null;\n        colorMap.destroy();\n        colorMap = null;\n        colorBar.destroy();\n        colorBar = null;\n        colorPicker.destroy();\n        colorPicker = null;\n        activePreview = null;\n        currentPreview = null;\n        okButton = null;\n        cancelButton = null;\n        grid = null;\n        commitCallback = null;\n        cancelCallback = null;\n        liveCallback = null;\n        container.html('');\n        for (let i = 0; i < List.length; i++) {\n          if (List[i] === that) {\n            List.splice(i, 1);\n            i--; // Decrement to ensure we don't miss next item (lgtm warning)\n          }\n        }\n      }\n      const {images, localization} = settings; // local copies for YUI compressor\n      const color = {\n        active: (typeof settings.color.active).toString().toLowerCase() === 'string'\n          ? new Color({ahex: !settings.window.alphaSupport && settings.color.active\n            ? settings.color.active.substring(0, 6) + 'ff'\n            : settings.color.active\n          })\n          : new Color({ahex: !settings.window.alphaSupport &&\n              settings.color.active.val('ahex')\n            ? settings.color.active.val('ahex').substring(0, 6) + 'ff'\n            : settings.color.active.val('ahex')\n          }),\n        current: (typeof settings.color.active).toString().toLowerCase() === 'string'\n          ? new Color({ahex: !settings.window.alphaSupport && settings.color.active\n            ? settings.color.active.substring(0, 6) + 'ff'\n            : settings.color.active})\n          : new Color({ahex: !settings.window.alphaSupport &&\n              settings.color.active.val('ahex')\n            ? settings.color.active.val('ahex').substring(0, 6) + 'ff'\n            : settings.color.active.val('ahex')\n          }),\n        quickList: settings.color.quickList\n      };\n\n      if (typeof commitCallback !== 'function') {\n        commitCallback = null;\n      }\n      if (typeof liveCallback !== 'function') {\n        liveCallback = null;\n      }\n      if (typeof cancelCallback !== 'function') {\n        cancelCallback = null;\n      }\n\n      let elementStartX = null, // Used to record the starting css positions for dragging the control\n        elementStartY = null,\n        pageStartX = null, // Used to record the mousedown coordinates for dragging the control\n        pageStartY = null,\n        container = null,\n        colorMapDiv = null,\n        colorBarDiv = null,\n        colorMapL1 = null, // different layers of colorMap and colorBar\n        colorMapL2 = null,\n        colorMapL3 = null,\n        colorBarL1 = null,\n        colorBarL2 = null,\n        colorBarL3 = null,\n        colorBarL4 = null,\n        colorBarL5 = null,\n        colorBarL6 = null,\n        colorMap = null, // color maps\n        colorBar = null,\n        colorPicker = null,\n        activePreview = null, // color boxes above the radio buttons\n        currentPreview = null,\n        okButton = null,\n        cancelButton = null,\n        grid = null, // preset colors grid\n        iconColor = null, // iconColor for popup icon\n        iconAlpha = null, // iconAlpha for popup icon\n        iconImage = null, // iconImage popup icon\n        moveBar = null; // drag bar\n\n      $.extend(true, that, {\n        // public properties, methods, and callbacks\n        commitCallback, // commitCallback function can be overridden to return the selected color to a method you specify when the user clicks \"OK\"\n        liveCallback, // liveCallback function can be overridden to return the selected color to a method you specify in live mode (continuous update)\n        cancelCallback, // cancelCallback function can be overridden to a method you specify when the user clicks \"Cancel\"\n        color,\n        show,\n        hide,\n        destroy // destroys this control entirely, removing all events and objects, and removing itself from the List\n      });\n      List.push(that);\n      setTimeout(function () {\n        initialize.call(that);\n      }, 0);\n    });\n  };\n  /**\n  * @typedef {PlainObject} external:jQuery.fn.jPickerOptionsIconInfo\n  * @property {string} file Color Map/Color Bar/Color Picker arrow icon\n  * @property {Float} width\n  * @property {Float} height\n  */\n  /**\n  * @typedef {PlainObject} external:jQuery.fn.jPickerOptionsImagesDimensionsArrow\n  * @property {Float} width\n  * @property {Float} height\n  * @property {external:jQuery.fn.jPickerOptionsIconInfo} arrow\n  */\n  /**\n  * @typedef {PlainObject} external:jQuery.fn.jPickerOptionsRadioTextboxLocale\n  * @property {string} radio\n  * @property {string} textbox\n  */\n  /**\n  * @typedef {PlainObject} external:jQuery.fn.jPickerOptions\n  * @property {PlainObject} window\n  * @property {string|null} window.title Any title for the jPicker window itself - displays\n  * \"Drag Markers To Pick A Color\" if left null\n  * @property {PlainObject} window.effects\n  * @property {\"slide\"|\"show\"|\"fade\"} window.effects.type Effect used to show/hide an expandable picker\n  * @property {PlainObject} window.effects.speed\n  * @property {\"fast\"|\"slow\"|Float} window.effects.speed.show Duration of \"show\" effect. Time in milliseconds.\n  * @property {\"fast\"|\"slow\"|Float} window.effects.speed.hide Duration of \"hide\" effect. Time in milliseconds\n  * @property {PlainObject} window.position\n  * @property {\"left\"|\"center\"|\"right\"|\"screenCenter\"|Float} window.position.x Relative px value\n  * @property {\"top\"|\"bottom\"|\"center\"|Float} window.position.y Relative px value\n  * @property {boolean} window.expandable Defaults to large static picker - set to `true` to make an expandable\n  * picker (small icon with popup) - set automatically when binded to input element; added by `$.fn.jPicker`\n  * @property {boolean} window.liveUpdate Set `false` if you want the user to have to click \"OK\" before the\n  * binded input box updates values (always `true` for expandable picker)\n  * @property {boolean} window.alphaSupport Set to `true` to enable alpha picking\n  * @property {Float} window.alphaPrecision Set decimal precision for alpha percentage display - hex codes do\n  * not map directly to percentage integers - range 0-2\n  * @property {boolean} window.updateInputColor Set to `false` to prevent binded input colors from changing\n  * @property {boolean} [window.bindToInput] Added by `$.fn.jPicker`\n  * @property {external:jQuery} [window.input] Added by `$.fn.jPicker`\n  * @property {PlainObject} color\n  * @property {\"h\"|\"s\"|\"v\"|\"r\"|\"g\"|\"b\"|\"a\"} color.mode Symbols stand for \"h\" (hue), \"s\" (saturation), \"v\" (value), \"r\" (red), \"g\" (green), \"b\" (blue), \"a\" (alpha)\n  * @property {Color|string} color.active Strings are HEX values (e.g. #ffc000) WITH OR WITHOUT the \"#\" prefix\n  * @property {Color[]|string[]} color.quickList The quick pick color list\n  * Strings are HEX values (e.g. #ffc000) WITH OR WITHOUT the \"#\" prefix\n  * @property {PlainObject} images\n  * @property {string} images.clientPath Path to image files\n  * @property {external:jQuery.fn.jPickerOptionsImagesDimensionsArrow} images.colorMap\n  * @property {external:jQuery.fn.jPickerOptionsImagesDimensionsArrow} images.colorBar\n  * @property {external:jQuery.fn.jPickerOptionsIconInfo} images.picker\n  * @property {PlainObject} localization alter these to change the text presented by the picker (e.g. different language)\n  * @property {PlainObject} localization.text\n  * @property {string} localization.text.title\n  * @property {string} localization.text.newColor\n  * @property {string} localization.text.currentColor\n  * @property {string} localization.text.ok\n  * @property {string} localization.text.cancel\n  * @property {PlainObject} localization.tooltips\n  * @property {PlainObject} localization.tooltips.colors\n  * @property {string} localization.tooltips.colors.newColor\n  * @property {string} localization.tooltips.colors.currentColor\n  * @property {PlainObject} localization.tooltips.buttons\n  * @property {string} localization.tooltips.buttons.ok\n  * @property {string} localization.tooltips.buttons.cancel\n  * @property {external:jQuery.fn.jPickerOptionsRadioTextboxLocale} localization.tooltips.hue\n  * @property {external:jQuery.fn.jPickerOptionsRadioTextboxLocale} localization.tooltips.saturation\n  * @property {external:jQuery.fn.jPickerOptionsRadioTextboxLocale} localization.tooltips.value\n  * @property {external:jQuery.fn.jPickerOptionsRadioTextboxLocale} localization.tooltips.red\n  * @property {external:jQuery.fn.jPickerOptionsRadioTextboxLocale} localization.tooltips.green\n  * @property {external:jQuery.fn.jPickerOptionsRadioTextboxLocale} localization.tooltips.blue\n  * @property {external:jQuery.fn.jPickerOptionsRadioTextboxLocale} localization.tooltips.alpha\n  * @property {PlainObject} localization.tooltips.hex\n  * @property {string} localization.tooltips.hex.textbox\n  * @property {string} localization.tooltips.hex.alpha\n  */\n  /**\n  * The jPicker defaults - you can change anything in this section (such as the\n  * clientPath to your images) without fear of breaking the program.\n  * @namespace {external:jQuery.fn.jPickerOptions} defaults\n  * @memberof external:jQuery.fn.$.fn.jPicker\n  * @borrows external:jQuery.fn.jPickerOptions as external:jQuery.fn.jPicker.defaults\n  * @see Source for all of the values\n  */\n  $.fn.jPicker.defaults = {\n    window: {\n      title: null,\n      effects: {\n        type: 'slide',\n        speed: {\n          show: 'slow',\n          hide: 'fast'\n        }\n      },\n      position: {\n        x: 'screenCenter',\n        y: 'top'\n      },\n      expandable: false,\n      liveUpdate: true,\n      alphaSupport: false,\n      alphaPrecision: 0,\n      updateInputColor: true\n    },\n    color: {\n      mode: 'h',\n      active: new Color({ahex: '#ffcc00ff'}),\n      quickList: [\n        new Color({h: 360, s: 33, v: 100}),\n        new Color({h: 360, s: 66, v: 100}),\n        new Color({h: 360, s: 100, v: 100}),\n        new Color({h: 360, s: 100, v: 75}),\n        new Color({h: 360, s: 100, v: 50}),\n        new Color({h: 180, s: 0, v: 100}),\n        new Color({h: 30, s: 33, v: 100}),\n        new Color({h: 30, s: 66, v: 100}),\n        new Color({h: 30, s: 100, v: 100}),\n        new Color({h: 30, s: 100, v: 75}),\n        new Color({h: 30, s: 100, v: 50}),\n        new Color({h: 180, s: 0, v: 90}),\n        new Color({h: 60, s: 33, v: 100}),\n        new Color({h: 60, s: 66, v: 100}),\n        new Color({h: 60, s: 100, v: 100}),\n        new Color({h: 60, s: 100, v: 75}),\n        new Color({h: 60, s: 100, v: 50}),\n        new Color({h: 180, s: 0, v: 80}),\n        new Color({h: 90, s: 33, v: 100}),\n        new Color({h: 90, s: 66, v: 100}),\n        new Color({h: 90, s: 100, v: 100}),\n        new Color({h: 90, s: 100, v: 75}),\n        new Color({h: 90, s: 100, v: 50}),\n        new Color({h: 180, s: 0, v: 70}),\n        new Color({h: 120, s: 33, v: 100}),\n        new Color({h: 120, s: 66, v: 100}),\n        new Color({h: 120, s: 100, v: 100}),\n        new Color({h: 120, s: 100, v: 75}),\n        new Color({h: 120, s: 100, v: 50}),\n        new Color({h: 180, s: 0, v: 60}),\n        new Color({h: 150, s: 33, v: 100}),\n        new Color({h: 150, s: 66, v: 100}),\n        new Color({h: 150, s: 100, v: 100}),\n        new Color({h: 150, s: 100, v: 75}),\n        new Color({h: 150, s: 100, v: 50}),\n        new Color({h: 180, s: 0, v: 50}),\n        new Color({h: 180, s: 33, v: 100}),\n        new Color({h: 180, s: 66, v: 100}),\n        new Color({h: 180, s: 100, v: 100}),\n        new Color({h: 180, s: 100, v: 75}),\n        new Color({h: 180, s: 100, v: 50}),\n        new Color({h: 180, s: 0, v: 40}),\n        new Color({h: 210, s: 33, v: 100}),\n        new Color({h: 210, s: 66, v: 100}),\n        new Color({h: 210, s: 100, v: 100}),\n        new Color({h: 210, s: 100, v: 75}),\n        new Color({h: 210, s: 100, v: 50}),\n        new Color({h: 180, s: 0, v: 30}),\n        new Color({h: 240, s: 33, v: 100}),\n        new Color({h: 240, s: 66, v: 100}),\n        new Color({h: 240, s: 100, v: 100}),\n        new Color({h: 240, s: 100, v: 75}),\n        new Color({h: 240, s: 100, v: 50}),\n        new Color({h: 180, s: 0, v: 20}),\n        new Color({h: 270, s: 33, v: 100}),\n        new Color({h: 270, s: 66, v: 100}),\n        new Color({h: 270, s: 100, v: 100}),\n        new Color({h: 270, s: 100, v: 75}),\n        new Color({h: 270, s: 100, v: 50}),\n        new Color({h: 180, s: 0, v: 10}),\n        new Color({h: 300, s: 33, v: 100}),\n        new Color({h: 300, s: 66, v: 100}),\n        new Color({h: 300, s: 100, v: 100}),\n        new Color({h: 300, s: 100, v: 75}),\n        new Color({h: 300, s: 100, v: 50}),\n        new Color({h: 180, s: 0, v: 0}),\n        new Color({h: 330, s: 33, v: 100}),\n        new Color({h: 330, s: 66, v: 100}),\n        new Color({h: 330, s: 100, v: 100}),\n        new Color({h: 330, s: 100, v: 75}),\n        new Color({h: 330, s: 100, v: 50}),\n        new Color()\n      ]\n    },\n    images: {\n      clientPath: '/jPicker/images/',\n      colorMap: {\n        width: 256,\n        height: 256,\n        arrow: {\n          file: 'mappoint.gif',\n          width: 15,\n          height: 15\n        }\n      },\n      colorBar: {\n        width: 20,\n        height: 256,\n        arrow: {\n          file: 'rangearrows.gif',\n          width: 20,\n          height: 7\n        }\n      },\n      picker: {\n        file: 'picker.gif',\n        width: 25,\n        height: 24\n      }\n    },\n    localization: {\n      text: {\n        title: 'Drag Markers To Pick A Color',\n        newColor: 'new',\n        currentColor: 'current',\n        ok: 'OK',\n        cancel: 'Cancel'\n      },\n      tooltips: {\n        colors: {\n          newColor: 'New Color - Press &ldquo;OK&rdquo; To Commit',\n          currentColor: 'Click To Revert To Original Color'\n        },\n        buttons: {\n          ok: 'Commit To This Color Selection',\n          cancel: 'Cancel And Revert To Original Color'\n        },\n        hue: {\n          radio: 'Set To &ldquo;Hue&rdquo; Color Mode',\n          textbox: 'Enter A &ldquo;Hue&rdquo; Value (0-360&deg;)'\n        },\n        saturation: {\n          radio: 'Set To &ldquo;Saturation&rdquo; Color Mode',\n          textbox: 'Enter A &ldquo;Saturation&rdquo; Value (0-100%)'\n        },\n        value: {\n          radio: 'Set To &ldquo;Value&rdquo; Color Mode',\n          textbox: 'Enter A &ldquo;Value&rdquo; Value (0-100%)'\n        },\n        red: {\n          radio: 'Set To &ldquo;Red&rdquo; Color Mode',\n          textbox: 'Enter A &ldquo;Red&rdquo; Value (0-255)'\n        },\n        green: {\n          radio: 'Set To &ldquo;Green&rdquo; Color Mode',\n          textbox: 'Enter A &ldquo;Green&rdquo; Value (0-255)'\n        },\n        blue: {\n          radio: 'Set To &ldquo;Blue&rdquo; Color Mode',\n          textbox: 'Enter A &ldquo;Blue&rdquo; Value (0-255)'\n        },\n        alpha: {\n          radio: 'Set To &ldquo;Alpha&rdquo; Color Mode',\n          textbox: 'Enter A &ldquo;Alpha&rdquo; Value (0-100)'\n        },\n        hex: {\n          textbox: 'Enter A &ldquo;Hex&rdquo; Color Value (#000000-#ffffff)',\n          alpha: 'Enter A &ldquo;Alpha&rdquo; Value (#00-#ff)'\n        }\n      }\n    }\n  };\n  return $;\n};\n\nexport default jPicker;\n","/* globals jQuery */\n/**\n * Localizing script for SVG-edit UI.\n * @module locale\n * @license MIT\n *\n * @copyright 2010 Narendra Sisodya\n * @copyright 2010 Alexis Deveria\n *\n */\n\n/**\n * Used, for example, in the ImageLibs extension, to present libraries\n * (with name/URL/description) in order.\n * @typedef {GenericArray<module:locale.LocaleStrings>} module:locale.LocaleArray\n*/\n/**\n * The string keys of the object are two-letter language codes.\n * @tutorial LocaleDocs\n * @typedef {PlainObject<string, string|module:locale.LocaleStrings|module:locale.LocaleArray>} module:locale.LocaleStrings\n */\n// keyed to an array of objects with \"id\" and \"title\" or \"textContent\" properties\n/**\n * @typedef {PlainObject<string, string>} module:locale.LocaleSelectorValue\n */\n\nconst $ = jQuery;\n\nlet langParam;\n\n/**\n * Looks for elements to localize using the supplied `obj` to indicate\n *   on which selectors (or IDs if `ids` is set to `true`) to set its\n *   strings (with selectors relative to the editor root element). All\n *   keys will be translated, but for each selector, only the first item\n *   found matching will be modified.\n * If the type is `content`, the selector-identified element's children\n *   will be checked, and the first (non-empty) text (placeholder) node\n *   found will have its text replaced.\n * If the type is `title`, the element's `title`\n *   property will be set.\n * If the type is `aria-label`, the element's `aria-label` attribute\n *   will be set (i.e., instructions for screen readers when there is\n *   otherwise no visible text to be read for the function of the form\n *   control).\n * @param {\"content\"|\"title\"} type\n * @param {module:locale.LocaleSelectorValue} obj Selectors or IDs keyed to strings\n * @param {boolean} ids\n * @returns {void}\n*/\nexport const setStrings = function (type, obj, ids) {\n  // Root element to look for element from\n  const parent = $('#svg_editor').parent();\n  Object.entries(obj).forEach(([sel, val]) => {\n    if (!val) {\n      console.log(sel); // eslint-disable-line no-console\n      return; // keep old text when has no translation\n    }\n\n    if (ids) { sel = '#' + sel; }\n    const $elem = parent.find(sel);\n    if ($elem.length) {\n      const elem = $elem[0];\n\n      switch (type) {\n      case 'aria-label':\n        elem.setAttribute('aria-label', val);\n        break;\n      case 'content':\n        [...elem.childNodes].some((node) => {\n          if (node.nodeType === 3 /* Node.TEXT_NODE */ &&\n            node.textContent.trim()\n          ) {\n            node.textContent = val;\n            return true;\n          }\n          return false;\n        });\n        break;\n\n      case 'title':\n        elem.title = val;\n        break;\n      }\n    } else {\n      console.log('Missing element for localization: ' + sel); // eslint-disable-line no-console\n    }\n  });\n};\n\n/**\n* The \"data\" property is generally set to an an array of objects with\n*   \"id\" and \"title\" or \"textContent\" properties.\n* @typedef {PlainObject} module:locale.AddLangExtensionLocaleData\n* @property {module:locale.LocaleStrings[]} data See {@tutorial LocaleDocs}\n*/\n\n/**\n* @interface module:locale.LocaleEditorInit\n*/\n/**\n * @function module:locale.LocaleEditorInit#addLangData\n * @param {string} langParam\n * @returns {module:locale.AddLangExtensionLocaleData}\n*/\n\nlet editor_;\n/**\n * Sets the current editor instance (on which `addLangData`) exists.\n * @function init\n * @memberof module:locale\n * @param {module:locale.LocaleEditorInit} editor\n * @returns {void}\n*/\nexport const init = (editor) => {\n  editor_ = editor;\n};\n\n/**\n* @typedef {PlainObject} module:locale.LangAndData\n* @property {string} langParam\n* @property {module:locale.LocaleStrings} langData\n*/\n\n/**\n* @function module:locale.readLang\n* @param {module:locale.LocaleStrings} langData See {@tutorial LocaleDocs}\n* @fires module:svgcanvas.SvgCanvas#event:ext_addLangData\n* @returns {Promise<module:locale.LangAndData>} Resolves to [`LangAndData`]{@link module:locale.LangAndData}\n*/\nexport const readLang = async function (langData) {\n  const more = await editor_.addLangData(langParam);\n  $.each(more, function (i, m) {\n    if (m.data) {\n      langData = $.merge(langData, m.data);\n    }\n  });\n\n  // Old locale file, do nothing for now.\n  if (!langData.tools) { return undefined; }\n\n  const {\n    tools,\n    // misc,\n    properties, config, layers, common, ui\n  } = langData;\n\n  setStrings('content', {\n    // Todo: Add this powered by (probably by default) but with config to remove\n    // copyrightLabel: misc.powered_by, // Currently commented out in svg-editor.html\n    curve_segments: properties.curve_segments,\n    fitToContent: tools.fitToContent,\n    fit_to_all: tools.fit_to_all,\n    fit_to_canvas: tools.fit_to_canvas,\n    fit_to_layer_content: tools.fit_to_layer_content,\n    fit_to_sel: tools.fit_to_sel,\n\n    icon_large: config.icon_large,\n    icon_medium: config.icon_medium,\n    icon_small: config.icon_small,\n    icon_xlarge: config.icon_xlarge,\n    image_opt_embed: config.image_opt_embed,\n    image_opt_ref: config.image_opt_ref,\n    includedImages: config.included_images,\n\n    largest_object: tools.largest_object,\n\n    layersLabel: layers.layers,\n    page: tools.page,\n    relativeToLabel: tools.relativeTo,\n    selLayerLabel: layers.move_elems_to,\n    selectedPredefined: config.select_predefined,\n\n    selected_objects: tools.selected_objects,\n    smallest_object: tools.smallest_object,\n    straight_segments: properties.straight_segments,\n\n    svginfo_bg_url: config.editor_img_url + ':',\n    svginfo_bg_note: config.editor_bg_note,\n    svginfo_change_background: config.background,\n    svginfo_dim: config.doc_dims,\n    svginfo_editor_prefs: config.editor_prefs,\n    svginfo_height: common.height,\n    svginfo_icons: config.icon_size,\n    svginfo_image_props: config.image_props,\n    svginfo_lang: config.language,\n    svginfo_title: config.doc_title,\n    svginfo_width: common.width,\n\n    tool_docprops_cancel: common.cancel,\n    tool_docprops_save: common.ok,\n\n    tool_source_cancel: common.cancel,\n    tool_source_save: common.ok,\n\n    tool_prefs_cancel: common.cancel,\n    tool_prefs_save: common.ok,\n\n    sidepanel_handle: layers.layers.split('').join(' '),\n\n    tool_clear: tools.new_doc,\n    tool_docprops: tools.docprops,\n    tool_export: tools.export_img,\n    tool_import: tools.import_doc,\n    tool_open: tools.open_doc,\n    tool_save: tools.save_doc,\n    tool_editor_prefs: config.editor_prefs,\n    tool_editor_homepage: tools.editor_homepage,\n\n    svginfo_units_rulers: config.units_and_rulers,\n    svginfo_rulers_onoff: config.show_rulers,\n    svginfo_unit: config.base_unit,\n\n    svginfo_grid_settings: config.grid,\n    svginfo_snap_onoff: config.snapping_onoff,\n    svginfo_snap_step: config.snapping_stepsize,\n    svginfo_grid_color: config.grid_color\n  }, true);\n\n  // Context menus\n  const opts = {};\n  [\n    'cut', 'copy', 'paste', 'paste_in_place', 'delete',\n    'group', 'ungroup', 'move_front', 'move_up',\n    'move_down', 'move_back'\n  ].forEach((item) => {\n    opts['#cmenu_canvas a[href=\"#' + item + '\"]'] = tools[item];\n  });\n\n  ['dupe', 'merge_down', 'merge_all'].forEach((item) => {\n    opts['#cmenu_layers a[href=\"#' + item + '\"]'] = layers[item];\n  });\n\n  opts['#cmenu_layers a[href=\"#delete\"]'] = layers.del;\n\n  setStrings('content', opts);\n\n  const ariaLabels = {};\n  Object.entries({\n    tool_blur: properties.blur,\n    tool_position: tools.align_to_page,\n    tool_font_family: properties.font_family,\n    zoom_panel: ui.zoom_level,\n    stroke_linejoin: properties.linejoin_miter,\n    stroke_linecap: properties.linecap_butt,\n    tool_opacity: properties.opacity\n  }).forEach(([id, value]) => {\n    ariaLabels['#' + id + ' button'] = value;\n  });\n  Object.entries({\n    group_opacity: properties.opacity,\n    zoom: ui.zoom_level\n  }).forEach(([id, value]) => {\n    ariaLabels['#' + id] = value;\n  });\n  setStrings('aria-label', ariaLabels);\n\n  setStrings('title', {\n    align_relative_to: tools.align_relative_to,\n    circle_cx: properties.circle_cx,\n    circle_cy: properties.circle_cy,\n    circle_r: properties.circle_r,\n    cornerRadiusLabel: properties.corner_radius,\n    ellipse_cx: properties.ellipse_cx,\n    ellipse_cy: properties.ellipse_cy,\n    ellipse_rx: properties.ellipse_rx,\n    ellipse_ry: properties.ellipse_ry,\n    fill_color: properties.fill_color,\n    font_family: properties.font_family,\n    idLabel: properties.id,\n    image_height: properties.image_height,\n    image_url: properties.image_url,\n    image_width: properties.image_width,\n    layer_delete: layers.del,\n    layer_down: layers.move_down,\n    layer_new: layers.new,\n    layer_rename: layers.rename,\n    layer_moreopts: common.more_opts,\n    layer_up: layers.move_up,\n    line_x1: properties.line_x1,\n    line_x2: properties.line_x2,\n    line_y1: properties.line_y1,\n    line_y2: properties.line_y2,\n    linecap_butt: properties.linecap_butt,\n    linecap_round: properties.linecap_round,\n    linecap_square: properties.linecap_square,\n    linejoin_bevel: properties.linejoin_bevel,\n    linejoin_miter: properties.linejoin_miter,\n    linejoin_round: properties.linejoin_round,\n    main_icon: tools.main_menu,\n    palette: ui.palette_info,\n    zoom_panel: ui.zoom_level,\n    path_node_x: properties.node_x,\n    path_node_y: properties.node_y,\n    rect_height_tool: properties.rect_height,\n    rect_width_tool: properties.rect_width,\n    seg_type: properties.seg_type,\n    selLayerNames: layers.move_selected,\n    selected_x: properties.pos_x,\n    selected_y: properties.pos_y,\n    stroke_color: properties.stroke_color,\n    stroke_style: properties.stroke_style,\n    stroke_width: properties.stroke_width,\n    svginfo_title: config.doc_title,\n    text: properties.text_contents,\n    toggle_stroke_tools: ui.toggle_stroke_tools,\n    tool_add_subpath: tools.add_subpath,\n    tool_alignbottom: tools.align_bottom,\n    tool_aligncenter: tools.align_center,\n    tool_alignleft: tools.align_left,\n    tool_alignmiddle: tools.align_middle,\n    tool_alignright: tools.align_right,\n    tool_aligntop: tools.align_top,\n    tool_angle: properties.angle,\n    tool_blur: properties.blur,\n    tool_bold: properties.bold,\n    tool_circle: tools.mode_circle,\n    tool_clone: tools.clone,\n    tool_clone_multi: tools.clone,\n    tool_delete: tools.del,\n    tool_delete_multi: tools.del,\n    tool_ellipse: tools.mode_ellipse,\n    tool_fhellipse: tools.mode_fhellipse,\n    tool_fhpath: tools.mode_fhpath,\n    tool_fhrect: tools.mode_fhrect,\n    tool_font_size: properties.font_size,\n    tool_group_elements: tools.group_elements,\n    tool_make_link: tools.make_link,\n    tool_link_url: tools.set_link_url,\n    tool_image: tools.mode_image,\n    tool_italic: properties.italic,\n    tool_line: tools.mode_line,\n    tool_move_bottom: tools.move_bottom,\n    tool_move_top: tools.move_top,\n    tool_node_clone: tools.node_clone,\n    tool_node_delete: tools.node_delete,\n    tool_node_link: tools.node_link,\n    tool_opacity: properties.opacity,\n    tool_openclose_path: tools.openclose_path,\n    tool_path: tools.mode_path,\n    tool_position: tools.align_to_page,\n    tool_rect: tools.mode_rect,\n    tool_redo: tools.redo,\n    tool_reorient: tools.reorient_path,\n    tool_select: tools.mode_select,\n    tool_source: tools.source_save,\n    tool_square: tools.mode_square,\n    tool_text: tools.mode_text,\n    tool_topath: tools.to_path,\n    tool_undo: tools.undo,\n    tool_ungroup: tools.ungroup,\n    tool_wireframe: tools.wireframe_mode,\n    tool_zoom: tools.mode_zoom,\n    url_notice: tools.no_embed\n\n  }, true);\n\n  return {langParam, langData};\n};\n\n/**\n *\n * @function module:locale.putLocale\n * @param {string} givenParam\n * @param {string[]} goodLangs\n * @param {{langPath: string}} conf\n * @fires module:svgcanvas.SvgCanvas#event:ext_addLangData\n * @fires module:svgcanvas.SvgCanvas#event:ext_langReady\n * @fires module:svgcanvas.SvgCanvas#event:ext_langChanged\n * @returns {Promise<module:locale.LangAndData>} Resolves to result of {@link module:locale.readLang}\n*/\nexport const putLocale = async function (givenParam, goodLangs, conf) {\n  if (givenParam) {\n    langParam = givenParam;\n  } else if (navigator.userLanguage) { // Explorer\n    langParam = navigator.userLanguage;\n  } else if (navigator.language) { // FF, Opera, ...\n    langParam = navigator.language;\n  }\n\n  console.log('Lang: ' + langParam); // eslint-disable-line no-console\n\n  // Set to English if language is not in list of good langs\n  if (!goodLangs.includes(langParam) && langParam !== 'test') {\n    langParam = 'en';\n  }\n  const url = `${conf.langPath}lang.${langParam}.js`;\n  // eslint-disable-next-line node/no-unsupported-features/es-syntax\n  const module = await import(url);\n  return readLang(module.default);\n};\n","/* globals jQuery */\n/**\n* The main module for the visual SVG Editor.\n*\n* @license MIT\n*\n* @copyright 2010 Alexis Deveria\n* 2010 Pavol Rusnak\n* 2010 Jeff Schiller\n* 2010 Narendra Sisodiya\n* 2014 Brett Zamir\n* @module SVGEditor\n* @borrows module:locale.putLocale as putLocale\n* @borrows module:locale.readLang as readLang\n* @borrows module:locale.setStrings as setStrings\n*/\n\nimport './touch.js';\nimport {NS} from '../common/namespaces.js';\nimport {isWebkit, isChrome, isGecko, isIE, isMac, isTouch} from '../common/browser.js';\n\n// Until we split this into smaller files, this helps distinguish utilities\n//   from local methods\nimport * as Utils from '../common/utilities.js';\nimport {getTypeMap, convertUnit, isValidUnit} from '../common/units.js';\nimport {\n  hasCustomHandler, getCustomHandler, injectExtendedContextMenuItemsIntoDom\n} from './contextmenu.js';\nimport deparam from '../external/deparam/deparam.esm.js';\n\nimport SvgCanvas from '../svgcanvas/svgcanvas.js';\nimport Layer from '../common/layer.js';\n\nimport jQueryPluginJSHotkeys from './js-hotkeys/jquery.hotkeys.min.js';\nimport jQueryPluginSVGIcons from './svgicons/jQuery.svgIcons.js';\nimport jQueryPluginJGraduate from './jgraduate/jQuery.jGraduate.js';\nimport jQueryPluginSpinButton from './spinbtn/jQuery.SpinButton.js';\nimport jQueryPluginSVG from '../common/jQuery.attr.js'; // Needed for SVG attribute setting and array form with `attr`\nimport jQueryPluginContextMenu from './contextmenu/jQuery.contextMenu.js';\nimport jQueryPluginJPicker from './jgraduate/jQuery.jPicker.js';\nimport jQueryPluginDBox from '../svgcanvas/dbox.js';\n\nimport {\n  readLang, putLocale,\n  setStrings,\n  init as localeInit\n} from './locale/locale.js';\n\nconst {$q} = Utils;\n\nconst editor = {};\n\nconst $ = [\n  jQueryPluginJSHotkeys, jQueryPluginSVGIcons, jQueryPluginJGraduate,\n  jQueryPluginSpinButton, jQueryPluginSVG, jQueryPluginContextMenu, jQueryPluginJPicker\n].reduce((jq, func) => func(jq), jQuery);\n\nconst homePage = 'https://github.com/SVG-Edit/svgedit';\n\n// EDITOR PROPERTIES: (defined below)\n//    curPrefs, curConfig, canvas, storage, uiStrings\n//\n// STATE MAINTENANCE PROPERTIES\n/**\n* @type {Float}\n*/\neditor.tool_scale = 1; // Dependent on icon size, so any use to making configurable instead? Used by `jQuery.SpinButton.js`\n/**\n* @type {Integer}\n*/\neditor.exportWindowCt = 0;\n/**\n* @type {boolean}\n*/\neditor.langChanged = false;\n/**\n* @type {boolean}\n*/\neditor.showSaveWarning = false;\n/**\n * Will be set to a boolean by `ext-storage.js`\n * @type {\"ignore\"|\"waiting\"|\"closed\"}\n*/\neditor.storagePromptState = 'ignore';\n\nconst callbacks = [],\n  /**\n  * @typedef {\"s\"|\"m\"|\"l\"|\"xl\"|Float} module:SVGEditor.IconSize\n  */\n  /**\n  * Preferences.\n  * @interface module:SVGEditor.Prefs\n  * @property {string} [lang=\"en\"] Two-letter language code. The language must exist in the Editor Preferences language list. Defaults to \"en\" if `locale.js` detection does not detect another language.\n  * @property {module:SVGEditor.IconSize} [iconsize=\"s\"|\"m\"] Size of the toolbar icons. Will default to 's' if the window height is smaller than the minimum height and 'm' otherwise.\n  * @property {string} [bkgd_color=\"#FFF\"] Color hex for canvas background color. Defaults to white.\n  * @property {string} [bkgd_url=\"\"] Background raster image URL. This image will fill the background of the document; useful for tracing purposes.\n  * @property {\"embed\"|\"ref\"} [img_save=\"embed\"] Defines whether included raster images should be saved as Data URIs when possible, or as URL references. Settable in the Document Properties dialog.\n  * @property {boolean} [save_notice_done=false] Used to track alert status\n  * @property {boolean} [export_notice_done=false] Used to track alert status\n  * @todo `save_notice_done` and `export_notice_done` should be changed to flags rather than preferences\n  */\n  /**\n  * @namespace {module:SVGEditor.Prefs} defaultPrefs\n  * @memberof module:SVGEditor~\n  * @implements {module:SVGEditor.Prefs}\n  */\n  // The iteration algorithm for defaultPrefs does not currently support array/objects\n  defaultPrefs = /** @lends module:SVGEditor~defaultPrefs */ {\n    // EDITOR OPTIONS (DIALOG)\n    /**\n    * Default to \"en\" if locale.js detection does not detect another language.\n    */\n    lang: '',\n    /**\n    * Will default to 's' if the window height is smaller than the minimum\n    * height and 'm' otherwise.\n    */\n    iconsize: '',\n    bkgd_color: '#FFF',\n    bkgd_url: '',\n    // DOCUMENT PROPERTIES (DIALOG)\n    img_save: 'embed',\n    // ALERT NOTICES\n    // Only shows in UI as far as alert notices, but useful to remember, so keeping as pref\n    save_notice_done: false,\n    export_notice_done: false\n  },\n  /**\n  * @name module:SVGEditor~defaultExtensions\n  * @type {string[]}\n  */\n  defaultExtensions = [\n    'ext-connector.js',\n    'ext-eyedropper.js',\n    'ext-grid.js',\n    'ext-imagelib.js',\n    'ext-markers.js',\n    'ext-overview_window.js',\n    'ext-panning.js',\n    'ext-polygon.js',\n    'ext-shapes.js',\n    'ext-star.js',\n    'ext-storage.js'\n  ],\n  /**\n  * @typedef {\"@default\"|string} module:SVGEditor.Stylesheet `@default` will automatically load all of the default CSS paths for SVGEditor\n  */\n  /**\n  * @typedef {GenericArray} module:SVGEditor.XYDimensions\n  * @property {Integer} length 2\n  * @property {Float} 0\n  * @property {Float} 1\n  */\n  /**\n  * @tutorial ConfigOptions\n  * @interface module:SVGEditor.Config\n  * @property {string} [canvasName=\"default\"] Used to namespace storage provided via `ext-storage.js`; you can use this if you wish to have multiple independent instances of SVG Edit on the same domain\n  * @property {boolean} [no_save_warning=false] If `true`, prevents the warning dialog box from appearing when closing/reloading the page. Mostly useful for testing.\n  * @property {string} [imgPath=\"images/\"] The path where the SVG icons are located, with trailing slash. Note that as of version 2.7, this is not configurable by URL for security reasons.\n  * @property {string} [langPath=\"locale/\"] The path where the language files are located, with trailing slash. Default will be changed to `../dist/locale/` if this is a modular load. Note that as of version 2.7, this is not configurable by URL for security reasons.\n  * @property {string} [extPath=\"extensions/\"] The path used for extension files, with trailing slash. Default will be changed to `../dist/extensions/` if this is a modular load. Note that as of version 2.7, this is not configurable by URL for security reasons.\n  * @property {string} [canvgPath=\"canvg/\"] The path used for `canvg` files, with trailing slash. Default will be changed to `../dist/` if this is a modular load.\n  * @property {string} [jspdfPath=\"jspdf/\"] The path used for `jsPDF` files, with trailing slash. Default will be changed to `../dist/` if this is a modular load.\n  * @property {string} [extIconsPath=\"extensions/\"] The path used for extension icons, with trailing slash.\n  * @property {string} [jGraduatePath=\"jgraduate/images/\"] The path where jGraduate images are located. Note that as of version 2.7, this is not configurable by URL for security reasons.\n  * @property {boolean} [preventAllURLConfig=false] Set to `true` to override the ability for URLs to set non-content configuration (including extension config). Must be set early, i.e., in `svgedit-config-iife.js`; extension loading is too late!\n  * @property {boolean} [preventURLContentLoading=false] Set to `true` to override the ability for URLs to set URL-based SVG content. Must be set early, i.e., in `svgedit-config-iife.js`; extension loading is too late!\n  * @property {boolean} [lockExtensions=false] Set to `true` to override the ability for URLs to set their own extensions; disallowed in URL setting. There is no need for this when `preventAllURLConfig` is used. Must be set early, i.e., in `svgedit-config-iife.js`; extension loading is too late!\n  * @property {boolean} [noDefaultExtensions=false] If set to `true`, prohibits automatic inclusion of default extensions (though \"extensions\" can still be used to add back any desired default extensions along with any other extensions). This can only be meaningfully used in `svgedit-config-iife.js` or in the URL\n  * @property {boolean} [noStorageOnLoad=false] Some interaction with `ext-storage.js`; prevent even the loading of previously saved local storage.\n  * @property {boolean} [forceStorage=false] Some interaction with `ext-storage.js`; strongly discouraged from modification as it bypasses user privacy by preventing them from choosing whether to keep local storage or not (and may be required by law in some regions)\n  * @property {boolean} [emptyStorageOnDecline=false] Used by `ext-storage.js`; empty any prior storage if the user declines to store\n  * @property {boolean} [avoidClientSide=false] DEPRECATED (use `avoidClientSideDownload` instead); Used by `ext-server_opensave.js`; set to `true` if you wish to always save to server and not only as fallback when client support is lacking\n  * @property {boolean} [avoidClientSideDownload=false] Used by `ext-server_opensave.js`; set to `true` if you wish to always save to server and not only as fallback when client support is lacking\n  * @property {boolean} [avoidClientSideOpen=false] Used by `ext-server_opensave.js`; set to `true` if you wish to always open from the server and not only as fallback when FileReader client support is lacking\n  * @property {string[]} [extensions=module:SVGEditor~defaultExtensions] Extensions to load on startup. Use an array in `setConfig` and comma separated file names in the URL. Extension names must begin with \"ext-\". Note that as of version 2.7, paths containing \"/\", \"\\\", or \":\", are disallowed for security reasons. Although previous versions of this list would entirely override the default list, as of version 2.7, the defaults will always be added to this explicit list unless the configuration `noDefaultExtensions` is included.\n  * @property {string[]} [allowedOrigins=[]] Used by `ext-xdomain-messaging.js` to indicate which origins are permitted for cross-domain messaging (e.g., between the embedded editor and main editor code). Besides explicit domains, one might add '*' to allow all domains (not recommended for privacy/data integrity of your user's content!), `window.location.origin` for allowing the same origin (should be safe if you trust all apps on your domain), 'null' to allow `file:///` URL usage\n  * @property {null|PlainObject} [colorPickerCSS=null] Object of CSS properties mapped to values (for jQuery) to apply to the color picker. See {@link http://api.jquery.com/css/#css-properties}. A `null` value (the default) will cause the CSS to default to `left` with a position equal to that of the `fill_color` or `stroke_color` element minus 140, and a `bottom` equal to 40\n  * @property {string} [paramurl] This was available via URL only. Allowed an un-encoded URL within the query string (use \"url\" or \"source\" with a data: URI instead)\n  * @property {Float} [canvas_expansion=3] The minimum area visible outside the canvas, as a multiple of the image dimensions. The larger the number, the more one can scroll outside the canvas.\n  * @property {PlainObject} [initFill] Init fill properties\n  * @property {string} [initFill.color=\"FF0000\"] The initial fill color. Must be a hex code string. Defaults to solid red.\n  * @property {Float} [initFill.opacity=1] The initial fill opacity. Must be a number between 0 and 1\n  * @property {PlainObject} [initStroke] Init stroke properties\n  * @property {Float} [initStroke.width=5] The initial stroke width. Must be a positive number.\n  * @property {string} [initStroke.color=\"000000\"] The initial stroke color. Must be a hex code. Defaults to solid black.\n  * @property {Float} [initStroke.opacity=1] The initial stroke opacity. Must be a number between 0 and 1.\n  * @property {PlainObject} text Text style properties\n  * @property {Float} [text.stroke_width=0] Text stroke width\n  * @property {Float} [text.font_size=24] Text font size\n  * @property {string} [text.font_family=\"serif\"] Text font family\n  * @property {Float} [initOpacity=1] Initial opacity (multiplied by 100)\n  * @property {module:SVGEditor.XYDimensions} [dimensions=[640, 480]] The default width/height of a new document. Use an array in `setConfig` (e.g., `[800, 600]`) and comma separated numbers in the URL.\n  * @property {boolean} [gridSnapping=false] Enable snap to grid by default. Set in Editor Options.\n  * @property {string} [gridColor=\"#000\"] Accepts hex, e.g., '#000'. Set in Editor Options. Defaults to black.\n  * @property {string} [baseUnit=\"px\"] Set in Editor Options.\n  * @property {Float} [snappingStep=10] Set the default grid snapping value. Set in Editor Options.\n  * @property {boolean} [showRulers=true] Initial state of ruler display (v2.6). Set in Editor Options.\n  * @property {string} [initTool=\"select\"] The initially selected tool. Must be either the ID of the button for the tool, or the ID without `tool_` prefix (e.g., \"select\").\n  * @property {boolean} [wireframe=false] Start in wireframe mode\n  * @property {boolean} [showlayers=false] Open the layers side-panel by default.\n  * @property {\"new\"|\"same\"} [exportWindowType=\"new\"] Can be \"new\" or \"same\" to indicate whether new windows will be generated for each export; the `window.name` of the export window is namespaced based on the `canvasName` (and incremented if \"new\" is selected as the type). Introduced 2.8.\n  * @property {boolean} [showGrid=false] Set by `ext-grid.js`; determines whether or not to show the grid by default\n  * @property {boolean} [show_outside_canvas=true] Defines whether or not elements outside the canvas should be visible. Set and used in `svgcanvas.js`.\n  * @property {boolean} [selectNew=true] If true, will replace the selection with the current element and automatically select element objects (when not in \"path\" mode) after they are created, showing their grips (v2.6). Set and used in `svgcanvas.js` (`mouseUp`).\n  * @todo Some others could be preferences as well (e.g., preventing URL changing of extensions, defaultExtensions, stylesheets, colorPickerCSS); Change the following to preferences and add pref controls where missing to the UI (e.g., `canvas_expansion`, `initFill`, `initStroke`, `text`, `initOpacity`, `dimensions`, `initTool`, `wireframe`, `showlayers`, `gridSnapping`, `gridColor`, `baseUnit`, `snappingStep`, `showRulers`, `exportWindowType`, `showGrid`, `show_outside_canvas`, `selectNew`)?\n  */\n  /**\n  * @namespace {module:SVGEditor.Config} defaultConfig\n  * @memberof module:SVGEditor~\n  * @implements {module:SVGEditor.Config}\n  */\n  defaultConfig = {\n    canvasName: 'default',\n    canvas_expansion: 3,\n    initFill: {\n      color: 'FF0000', // solid red\n      opacity: 1\n    },\n    initStroke: {\n      width: 5,\n      color: '000000', // solid black\n      opacity: 1\n    },\n    text: {\n      stroke_width: 0,\n      font_size: 24,\n      font_family: 'serif'\n    },\n    initOpacity: 1,\n    colorPickerCSS: null, // Defaults to 'left' with a position equal to that of the fill_color or stroke_color element minus 140, and a 'bottom' equal to 40\n    initTool: 'select',\n    exportWindowType: 'new', // 'same' (todo: also support 'download')\n    wireframe: false,\n    showlayers: false,\n    no_save_warning: false,\n    // PATH CONFIGURATION\n    // The following path configuration items are disallowed in the URL (as should any future path configurations)\n    langPath: './locale/', // Default will be changed if this is a non-modular load\n    extPath: './extensions/', // Default will be changed if this is a non-modular load\n    canvgPath: './canvg/', // Default will be changed if this is a non-modular load\n    jspdfPath: './jspdf/', // Default will be changed if this is a non-modular load\n    imgPath: './images/',\n    jGraduatePath: './images/',\n    extIconsPath: './extensions/',\n    // DOCUMENT PROPERTIES\n    // Change the following to a preference (already in the Document Properties dialog)?\n    dimensions: [640, 480],\n    // EDITOR OPTIONS\n    // Change the following to preferences (already in the Editor Options dialog)?\n    gridSnapping: false,\n    gridColor: '#000',\n    baseUnit: 'px',\n    snappingStep: 10,\n    showRulers: true,\n    // URL BEHAVIOR CONFIGURATION\n    preventAllURLConfig: false,\n    preventURLContentLoading: false,\n    // EXTENSION CONFIGURATION (see also preventAllURLConfig)\n    lockExtensions: false, // Disallowed in URL setting\n    noDefaultExtensions: false, // noDefaultExtensions can only be meaningfully used in `svgedit-config-iife.js` or in the URL\n    // EXTENSION-RELATED (GRID)\n    showGrid: false, // Set by ext-grid.js\n    // EXTENSION-RELATED (STORAGE)\n    noStorageOnLoad: false, // Some interaction with ext-storage.js; prevent even the loading of previously saved local storage\n    forceStorage: false, // Some interaction with ext-storage.js; strongly discouraged from modification as it bypasses user privacy by preventing them from choosing whether to keep local storage or not\n    emptyStorageOnDecline: false, // Used by ext-storage.js; empty any prior storage if the user declines to store\n    // EXTENSION (CLIENT VS. SERVER SAVING/OPENING)\n    avoidClientSide: false, // Deprecated in favor of `avoidClientSideDownload`\n    avoidClientSideDownload: false,\n    avoidClientSideOpen: false\n  },\n  /**\n  * LOCALE.\n  * @name module:SVGEditor.uiStrings\n  * @type {PlainObject}\n  */\n  uiStrings = editor.uiStrings = {};\n\nlet svgCanvas, urldata = {},\n  isReady = false,\n  customExportImage = false,\n  customExportPDF = false,\n  curPrefs = {},\n  // Note: The difference between Prefs and Config is that Prefs\n  //   can be changed in the UI and are stored in the browser,\n  //   while config cannot\n  curConfig = {\n    // We do not put on defaultConfig to simplify object copying\n    //   procedures (we obtain instead from defaultExtensions)\n    extensions: [],\n    /**\n    * Can use `location.origin` to indicate the current\n    * origin. Can contain a '*' to allow all domains or 'null' (as\n    * a string) to support all `file:///` URLs. Cannot be set by\n    * URL for security reasons (not safe, at least for\n    * privacy or data integrity of SVG content).\n    * Might have been fairly safe to allow\n    *   `new URL(location.href).origin` by default but\n    *   avoiding it ensures some more security that even third\n    *   party apps on the same domain also cannot communicate\n    *   with this app by default.\n    * For use with `ext-xdomain-messaging.js`\n    * @todo We might instead make as a user-facing preference.\n    */\n    allowedOrigins: []\n  };\n\n/**\n *\n * @param {string} str SVG string\n * @param {PlainObject} [opts={}]\n * @param {boolean} [opts.noAlert]\n * @throws {Error} Upon failure to load SVG\n * @returns {Promise<void>} Resolves to undefined upon success (or if `noAlert` is\n *   falsey, though only until after the `alert` is closed); rejects if SVG\n *   loading fails and `noAlert` is truthy.\n */\nasync function loadSvgString (str, {noAlert} = {}) {\n  const success = svgCanvas.setSvgString(str) !== false;\n  if (success) {\n    return;\n  }\n\n  if (!noAlert) {\n    await $.alert(uiStrings.notification.errorLoadingSVG);\n    return;\n  }\n  throw new Error('Error loading SVG');\n}\n\n/**\n * @function module:SVGEditor~getImportLocale\n * @param {PlainObject} defaults\n * @param {string} defaults.defaultLang\n * @param {string} defaults.defaultName\n * @returns {module:SVGEditor~ImportLocale}\n */\nfunction getImportLocale ({defaultLang, defaultName}) {\n  /**\n   * @function module:SVGEditor~ImportLocale\n   * @param {PlainObject} localeInfo\n   * @param {string} [localeInfo.name] Defaults to `defaultName` of {@link module:SVGEditor~getImportLocale}\n   * @param {string} [localeInfo.lang=defaultLang] Defaults to `defaultLang` of {@link module:SVGEditor~getImportLocale}\n   * @returns {Promise<module:locale.LocaleStrings>} Resolves to {@link module:locale.LocaleStrings}\n   */\n  return async function importLocaleDefaulting ({name = defaultName, lang = defaultLang} = {}) {\n    /**\n     *\n     * @param {string} language\n     * @returns {Promise<module:locale.LocaleStrings>} Resolves to {@link module:locale.LocaleStrings}\n     */\n    async function importLocale (language) {\n      const url = `${curConfig.extPath}ext-locale/${name}/${language}.js`;\n      // eslint-disable-next-line node/no-unsupported-features/es-syntax\n      const locale = await import(url);\n      return locale.default;\n    }\n    try {\n      return await importLocale(lang);\n    } catch (err) {\n      return importLocale('en');\n    }\n  };\n}\n\n/**\n* EXPORTS.\n*/\n\n/**\n* Store and retrieve preferences.\n* @function module:SVGEditor.pref\n* @param {string} key The preference name to be retrieved or set\n* @param {string} [val] The value. If the value supplied is missing or falsey, no change to the preference will\n* be made unless `mayBeEmpty` is set.\n* @param {boolean} [mayBeEmpty] If value may be falsey.\n* @returns {string|void} If val is missing or falsey and `mayBeEmpty` is not set, the\n* value of the previously stored preference will be returned.\n* @todo Review whether any remaining existing direct references to\n*  getting `curPrefs` can be changed to use `svgEditor.pref()` getting to ensure\n*  `defaultPrefs` fallback (also for sake of `allowInitialUserOverride`);\n*  specifically, `bkgd_color` could be changed so that the pref dialog has a\n*  button to auto-calculate background, but otherwise uses `svgEditor.pref()` to\n*  be able to get default prefs or overridable settings\n*/\neditor.pref = function (key, val, mayBeEmpty) {\n  if (mayBeEmpty || val) {\n    curPrefs[key] = val;\n    /**\n    * @name curPrefs\n    * @memberof module:SVGEditor\n    * @implements {module:SVGEditor.Prefs}\n    */\n    editor.curPrefs = curPrefs; // Update exported value\n    return undefined;\n  }\n  return (key in curPrefs) ? curPrefs[key] : defaultPrefs[key];\n};\n\n/*\n* EDITOR PUBLIC METHODS\n// Todo: Sort these methods per invocation order, ideally with init at the end\n// Todo: Prevent execution until init executes if dependent on it?\n*/\neditor.putLocale = putLocale;\neditor.readLang = readLang;\neditor.setStrings = setStrings;\n\n/**\n* Where permitted, sets canvas and/or `defaultPrefs` based on previous\n*  storage. This will override URL settings (for security reasons) but\n*  not `svgedit-config-iife.js` configuration (unless initial user\n*  overriding is explicitly permitted there via `allowInitialUserOverride`).\n* @function module:SVGEditor.loadContentAndPrefs\n* @todo Split `allowInitialUserOverride` into `allowOverrideByURL` and\n*  `allowOverrideByUserStorage` so `svgedit-config-iife.js` can disallow some\n*  individual items for URL setting but allow for user storage AND/OR\n*  change URL setting so that it always uses a different namespace,\n*  so it won't affect pre-existing user storage (but then if users saves\n*  that, it will then be subject to tampering\n* @returns {void}\n*/\neditor.loadContentAndPrefs = function () {\n  if (!curConfig.forceStorage &&\n    (curConfig.noStorageOnLoad ||\n        !document.cookie.match(/(?:^|;\\s*)svgeditstore=(?:prefsAndContent|prefsOnly)/)\n    )\n  ) {\n    return;\n  }\n\n  // LOAD CONTENT\n  if (editor.storage && // Cookies do not have enough available memory to hold large documents\n    (curConfig.forceStorage ||\n      (!curConfig.noStorageOnLoad &&\n        document.cookie.match(/(?:^|;\\s*)svgeditstore=prefsAndContent/))\n    )\n  ) {\n    const name = 'svgedit-' + curConfig.canvasName;\n    const cached = editor.storage.getItem(name);\n    if (cached) {\n      editor.loadFromString(cached);\n    }\n  }\n\n  // LOAD PREFS\n  Object.keys(defaultPrefs).forEach((key) => {\n    const storeKey = 'svg-edit-' + key;\n    if (editor.storage) {\n      const val = editor.storage.getItem(storeKey);\n      if (val) {\n        defaultPrefs[key] = String(val); // Convert to string for FF (.value fails in Webkit)\n      }\n    } else if (window.widget) {\n      defaultPrefs[key] = window.widget.preferenceForKey(storeKey);\n    } else {\n      const result = document.cookie.match(\n        new RegExp('(?:^|;\\\\s*)' + Utils.regexEscape(\n          encodeURIComponent(storeKey)\n        ) + '=([^;]+)')\n      );\n      defaultPrefs[key] = result ? decodeURIComponent(result[1]) : '';\n    }\n  });\n};\n\n/**\n* Allows setting of preferences or configuration (including extensions).\n* @function module:SVGEditor.setConfig\n* @param {module:SVGEditor.Config|module:SVGEditor.Prefs} opts The preferences or configuration (including extensions). See the tutorial on {@tutorial ConfigOptions} for info on config and preferences.\n* @param {PlainObject} [cfgCfg] Describes configuration which applies to the\n*    particular batch of supplied options\n* @param {boolean} [cfgCfg.allowInitialUserOverride=false] Set to true if you wish\n*  to allow initial overriding of settings by the user via the URL\n*  (if permitted) or previously stored preferences (if permitted);\n*  note that it will be too late if you make such calls in extension\n*  code because the URL or preference storage settings will\n*   have already taken place.\n* @param {boolean} [cfgCfg.overwrite=true] Set to false if you wish to\n*  prevent the overwriting of prior-set preferences or configuration\n*  (URL settings will always follow this requirement for security\n*  reasons, so `svgedit-config-iife.js` settings cannot be overridden unless it\n*  explicitly permits via `allowInitialUserOverride` but extension config\n*  can be overridden as they will run after URL settings). Should\n*   not be needed in `svgedit-config-iife.js`.\n* @returns {void}\n*/\neditor.setConfig = function (opts, cfgCfg) {\n  cfgCfg = cfgCfg || {};\n  /**\n   *\n   * @param {module:SVGEditor.Config|module:SVGEditor.Prefs} cfgObj\n   * @param {string} key\n   * @param {any} val See {@link module:SVGEditor.Config} or {@link module:SVGEditor.Prefs}\n   * @returns {void}\n   */\n  function extendOrAdd (cfgObj, key, val) {\n    if (cfgObj[key] && typeof cfgObj[key] === 'object') {\n      $.extend(true, cfgObj[key], val);\n    } else {\n      cfgObj[key] = val;\n    }\n  }\n  Object.entries(opts).forEach(function ([key, val]) {\n    // Only allow prefs defined in defaultPrefs or...\n    if ({}.hasOwnProperty.call(defaultPrefs, key)) {\n      if (cfgCfg.overwrite === false && (\n        curConfig.preventAllURLConfig ||\n        {}.hasOwnProperty.call(curPrefs, key)\n      )) {\n        return;\n      }\n      if (cfgCfg.allowInitialUserOverride === true) {\n        defaultPrefs[key] = val;\n      } else {\n        editor.pref(key, val);\n      }\n    } else if (['extensions', 'allowedOrigins'].includes(key)) {\n      if (cfgCfg.overwrite === false &&\n        (\n          curConfig.preventAllURLConfig ||\n          ['allowedOrigins'].includes(key) ||\n          (key === 'extensions' && curConfig.lockExtensions)\n        )\n      ) {\n        return;\n      }\n      curConfig[key] = curConfig[key].concat(val); // We will handle any dupes later\n    // Only allow other curConfig if defined in defaultConfig\n    } else if ({}.hasOwnProperty.call(defaultConfig, key)) {\n      if (cfgCfg.overwrite === false && (\n        curConfig.preventAllURLConfig ||\n        {}.hasOwnProperty.call(curConfig, key)\n      )) {\n        return;\n      }\n      // Potentially overwriting of previously set config\n      if ({}.hasOwnProperty.call(curConfig, key)) {\n        if (cfgCfg.overwrite === false) {\n          return;\n        }\n        extendOrAdd(curConfig, key, val);\n      } else if (cfgCfg.allowInitialUserOverride === true) {\n        extendOrAdd(defaultConfig, key, val);\n      } else if (defaultConfig[key] && typeof defaultConfig[key] === 'object') {\n        curConfig[key] = Array.isArray(defaultConfig[key]) ? [] : {};\n        $.extend(true, curConfig[key], val); // Merge properties recursively, e.g., on initFill, initStroke objects\n      } else {\n        curConfig[key] = val;\n      }\n    }\n  });\n  /**\n  * @name curConfig\n  * @memberof module:SVGEditor\n  * @implements {module:SVGEditor.Config}\n  */\n  editor.curConfig = curConfig; // Update exported value\n};\n\n/**\n* All methods are optional.\n* @interface module:SVGEditor.CustomHandler\n* @type {PlainObject}\n*/\n/**\n* Its responsibilities are:\n*  - invoke a file chooser dialog in 'open' mode\n*  - let user pick a SVG file\n*  - calls [svgCanvas.setSvgString()]{@link module:svgcanvas.SvgCanvas#setSvgString} with the string contents of that file.\n* Not passed any parameters.\n* @function module:SVGEditor.CustomHandler#open\n* @returns {void}\n*/\n/**\n* Its responsibilities are:\n*  - accept the string contents of the current document\n*  - invoke a file chooser dialog in 'save' mode\n*  - save the file to location chosen by the user.\n* @function module:SVGEditor.CustomHandler#save\n* @param {external:Window} win\n* @param {module:svgcanvas.SvgCanvas#event:saved} svgStr A string of the SVG\n* @listens module:svgcanvas.SvgCanvas#event:saved\n* @returns {void}\n*/\n/**\n* Its responsibilities (with regard to the object it is supplied in its 2nd argument) are:\n*  - inform user of any issues supplied via the \"issues\" property\n*  - convert the \"svg\" property SVG string into an image for export;\n*    utilize the properties \"type\" (currently 'PNG', 'JPEG', 'BMP',\n*    'WEBP', 'PDF'), \"mimeType\", and \"quality\" (for 'JPEG' and 'WEBP'\n*    types) to determine the proper output.\n* @function module:SVGEditor.CustomHandler#exportImage\n* @param {external:Window} win\n* @param {module:svgcanvas.SvgCanvas#event:exported} data\n* @listens module:svgcanvas.SvgCanvas#event:exported\n* @returns {void}\n*/\n/**\n* @function module:SVGEditor.CustomHandler#exportPDF\n* @param {external:Window} win\n* @param {module:svgcanvas.SvgCanvas#event:exportedPDF} data\n* @listens module:svgcanvas.SvgCanvas#event:exportedPDF\n* @returns {void}\n*/\n\n/**\n* Allows one to override default SVGEdit `open`, `save`, and\n* `export` editor behaviors.\n* @function module:SVGEditor.setCustomHandlers\n* @param {module:SVGEditor.CustomHandler} opts Extension mechanisms may call `setCustomHandlers` with three functions: `opts.open`, `opts.save`, and `opts.exportImage`\n* @returns {Promise<void>}\n*/\neditor.setCustomHandlers = function (opts) {\n  return editor.ready(function () {\n    if (opts.open) {\n      $('#tool_open > input[type=\"file\"]').remove();\n      $('#tool_open').show();\n      svgCanvas.open = opts.open;\n    }\n    if (opts.save) {\n      editor.showSaveWarning = false;\n      svgCanvas.bind('saved', opts.save);\n    }\n    if (opts.exportImage) {\n      customExportImage = opts.exportImage;\n      svgCanvas.bind('exported', customExportImage); // canvg and our RGBColor will be available to the method\n    }\n    if (opts.exportPDF) {\n      customExportPDF = opts.exportPDF;\n      svgCanvas.bind('exportedPDF', customExportPDF); // jsPDF and our RGBColor will be available to the method\n    }\n  });\n};\n\n/**\n * @function module:SVGEditor.randomizeIds\n * @param {boolean} arg\n * @returns {void}\n */\neditor.randomizeIds = function (arg) {\n  svgCanvas.randomizeIds(arg);\n};\n\n/**\n* Auto-run after a Promise microtask.\n* @function module:SVGEditor.init\n* @returns {void}\n*/\neditor.init = function () {\n  // const host = location.hostname,\n  //  onWeb = host && host.includes('.');\n  // Some FF versions throw security errors here when directly accessing\n  try {\n    if ('localStorage' in window) { // && onWeb removed so Webkit works locally\n      /**\n      * The built-in interface implemented by `localStorage`\n      * @external Storage\n      */\n      /**\n      * @name storage\n      * @memberof module:SVGEditor\n      * @type {external:Storage}\n      */\n      editor.storage = localStorage;\n    }\n  } catch (err) {}\n\n  // Todo: Avoid const-defined functions and group functions together, etc. where possible\n  const goodLangs = [];\n  $('#lang_select option').each(function () {\n    goodLangs.push(this.value);\n  });\n\n  /**\n   * Sets up current preferences based on defaults.\n   * @returns {void}\n   */\n  function setupCurPrefs () {\n    curPrefs = $.extend(true, {}, defaultPrefs, curPrefs); // Now safe to merge with priority for curPrefs in the event any are already set\n    // Export updated prefs\n    editor.curPrefs = curPrefs;\n  }\n\n  /**\n   * Sets up current config based on defaults.\n   * @returns {void}\n   */\n  function setupCurConfig () {\n    curConfig = $.extend(true, {}, defaultConfig, curConfig); // Now safe to merge with priority for curConfig in the event any are already set\n\n    // Now deal with extensions and other array config\n    if (!curConfig.noDefaultExtensions) {\n      curConfig.extensions = curConfig.extensions.concat(defaultExtensions);\n    }\n    // ...and remove any dupes\n    ['extensions', 'allowedOrigins'].forEach(function (cfg) {\n      curConfig[cfg] = $.grep(curConfig[cfg], function (n, i) { // Supposedly faster than filter per http://amandeep1986.blogspot.hk/2015/02/jquery-grep-vs-js-filter.html\n        return i === curConfig[cfg].indexOf(n);\n      });\n    });\n    // Export updated config\n    editor.curConfig = curConfig;\n  }\n  (() => {\n    // Load config/data from URL if given\n    const {search, searchParams} = new URL(location);\n\n    if (search) {\n      urldata = deparam(searchParams.toString(), true);\n\n      ['initStroke', 'initFill'].forEach((prop) => {\n        if (searchParams.has(`${prop}[color]`)) {\n          // Restore back to original non-deparamed value to avoid color\n          //  strings being converted to numbers\n          urldata[prop].color = searchParams.get(`${prop}[color]`);\n        }\n      });\n\n      if (searchParams.has('bkgd_color')) {\n        urldata.bkgd_color = '#' + searchParams.get('bkgd_color');\n      }\n\n      if (urldata.dimensions) {\n        urldata.dimensions = urldata.dimensions.split(',');\n      }\n\n      if (urldata.extensions) {\n        // For security reasons, disallow cross-domain or cross-folder\n        //  extensions via URL\n        urldata.extensions = urldata.extensions.match(/[:/\\\\]/)\n          ? ''\n          : urldata.extensions.split(',');\n      }\n\n      // Disallowing extension paths via URL for\n      // security reasons, even for same-domain\n      // ones given potential to interact in undesirable\n      // ways with other script resources\n      [\n        'langPath', 'extPath', 'canvgPath', 'jspdfPath',\n        'imgPath', 'jGraduatePath', 'extIconsPath'\n      ].forEach(function (pathConfig) {\n        if (urldata[pathConfig]) {\n          delete urldata[pathConfig];\n        }\n      });\n\n      // Note: `source` and `url` (as with `storagePrompt` later) are not\n      //  set on config but are used below\n      editor.setConfig(urldata, {overwrite: false});\n      setupCurConfig();\n\n      if (!curConfig.preventURLContentLoading) {\n        let {source} = urldata;\n        if (!source) { // urldata.source may have been null if it ended with '='\n          const src = searchParams.get('source');\n          if (src && src.startsWith('data:')) {\n            source = src;\n          }\n        }\n        if (source) {\n          if (source.startsWith('data:')) {\n            editor.loadFromDataURI(source);\n          } else {\n            editor.loadFromString(source);\n          }\n          return;\n        }\n        if (urldata.url) {\n          editor.loadFromURL(urldata.url);\n          return;\n        }\n      }\n      if (!urldata.noStorageOnLoad || curConfig.forceStorage) {\n        editor.loadContentAndPrefs();\n      }\n    } else {\n      setupCurConfig();\n      editor.loadContentAndPrefs();\n    }\n  })();\n  setupCurPrefs();\n\n  /**\n  * Called internally.\n  * @function module:SVGEditor.setIcon\n  * @param {string|Element|external:jQuery} elem\n  * @param {string|external:jQuery} iconId\n  * @param {Float} forcedSize Not in use\n  * @returns {void}\n  */\n  const setIcon = editor.setIcon = function (elem, iconId, forcedSize) {\n    const icon = (typeof iconId === 'string') ? $.getSvgIcon(iconId, true) : iconId.clone();\n    if (!icon) {\n      // Todo: Investigate why this still occurs in some cases\n      console.log('NOTE: Icon image missing: ' + iconId); // eslint-disable-line no-console\n      return;\n    }\n    $(elem).empty().append(icon);\n  };\n\n  /**\n   * @fires module:svgcanvas.SvgCanvas#event:ext_addLangData\n   * @fires module:svgcanvas.SvgCanvas#event:ext_langReady\n   * @fires module:svgcanvas.SvgCanvas#event:ext_langChanged\n   * @fires module:svgcanvas.SvgCanvas#event:extensions_added\n   * @returns {Promise<module:locale.LangAndData>} Resolves to result of {@link module:locale.readLang}\n   */\n  const extAndLocaleFunc = async function () {\n    // const lang = ('lang' in curPrefs) ? curPrefs.lang : null;\n    const {langParam, langData} = await editor.putLocale(\n      editor.pref('lang'), goodLangs, curConfig\n    );\n    await setLang(langParam, langData);\n\n    const {ok, cancel} = uiStrings.common;\n    jQueryPluginDBox($, {ok, cancel});\n\n    setIcons(); // Wait for dbox as needed for i18n\n\n    try {\n      await Promise.all(\n        curConfig.extensions.map(async (extname) => {\n          const extensionName = extname.match(/^ext-(.+)\\.js/);\n          // const {extName} = extname.match(/^ext-(?<extName>.+)\\.js/).groups;\n          if (!extensionName) { // Ensure URL cannot specify some other unintended file in the extPath\n            return undefined;\n          }\n          const url = curConfig.extPath + extname;\n\n          /**\n           * @tutorial ExtensionDocs\n           * @typedef {PlainObject} module:SVGEditor.ExtensionObject\n           * @property {string} [name] Name of the extension. Used internally; no need for i18n. Defaults to extension name without beginning \"ext-\" or ending \".js\".\n           * @property {module:svgcanvas.ExtensionInitCallback} [init]\n           */\n          try {\n            /**\n             * @type {module:SVGEditor.ExtensionObject}\n             */\n            // eslint-disable-next-line node/no-unsupported-features/es-syntax\n            const imported = await import(url);\n            const {name = extensionName[1], init} = imported.default;\n            // const {name = extName, init} = imported;\n            const importLocale = getImportLocale({defaultLang: langParam, defaultName: name});\n            return editor.addExtension(name, (init && init.bind(editor)), {$, importLocale});\n          } catch (err) {\n            // Todo: Add config to alert any errors\n            console.log(err); // eslint-disable-line no-console\n            console.error('Extension failed to load: ' + extname + '; ' + err); // eslint-disable-line no-console\n            return undefined;\n          }\n        })\n      );\n      svgCanvas.bind(\n        'extensions_added',\n        /**\n        * @param {external:Window} win\n        * @param {module:svgcanvas.SvgCanvas#event:extensions_added} data\n        * @listens module:svgcanvas.SvgCanvas#event:extensions_added\n        * @returns {void}\n        */\n        (win, data) => {\n          extensionsAdded = true;\n          Actions.setAll();\n\n          $('.flyout_arrow_horiz:empty').each(function () {\n            $(this).append($.getSvgIcon('arrow_right', true).width(5).height(5));\n          });\n\n          if (editor.storagePromptState === 'ignore') {\n            updateCanvas(true);\n          }\n\n          messageQueue.forEach(\n            /**\n             * @param {module:svgcanvas.SvgCanvas#event:message} messageObj\n             * @fires module:svgcanvas.SvgCanvas#event:message\n             * @returns {void}\n             */\n            (messageObj) => {\n              svgCanvas.call('message', messageObj);\n            }\n          );\n        }\n      );\n      svgCanvas.call('extensions_added');\n    } catch (err) {\n      // Todo: Report errors through the UI\n      console.log(err); // eslint-disable-line no-console\n    }\n  };\n\n  const stateObj = {tool_scale: editor.tool_scale};\n\n  /**\n  *\n  * @returns {void}\n  */\n  const setFlyoutPositions = function () {\n    $('.tools_flyout').each(function () {\n      const shower = $('#' + this.id + '_show');\n      const {left, top} = shower.offset();\n      const w = shower.outerWidth();\n      $(this).css({left: (left + w) * editor.tool_scale, top});\n    });\n  };\n\n  /**\n  * @type {string}\n  */\n  const uaPrefix = (function () {\n    const regex = /^(?:Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/;\n    const someScript = document.getElementsByTagName('script')[0];\n    for (const prop in someScript.style) {\n      if (regex.test(prop)) {\n        // test is faster than match, so it's better to perform\n        // that on the lot and match only when necessary\n        return prop.match(regex)[0];\n      }\n    }\n    // Nothing found so far?\n    if ('WebkitOpacity' in someScript.style) { return 'Webkit'; }\n    if ('KhtmlOpacity' in someScript.style) { return 'Khtml'; }\n\n    return '';\n  }());\n\n  /**\n  * @param {external:jQuery} elems\n  * @param {Float} scale\n  * @returns {void}\n  */\n  const scaleElements = function (elems, scale) {\n    // const prefix = '-' + uaPrefix.toLowerCase() + '-'; // Currently unused\n    const sides = ['top', 'left', 'bottom', 'right'];\n\n    elems.each(function () {\n      // Handled in CSS\n      // this.style[uaPrefix + 'Transform'] = 'scale(' + scale + ')';\n      const el = $(this);\n      const w = el.outerWidth() * (scale - 1);\n      const h = el.outerHeight() * (scale - 1);\n      // const margins = {}; // Currently unused\n\n      for (let i = 0; i < 4; i++) {\n        const s = sides[i];\n        let cur = el.data('orig_margin-' + s);\n        if (Utils.isNullish(cur)) {\n          cur = Number.parseInt(el.css('margin-' + s));\n          // Cache the original margin\n          el.data('orig_margin-' + s, cur);\n        }\n        let val = cur * scale;\n        if (s === 'right') {\n          val += w;\n        } else if (s === 'bottom') {\n          val += h;\n        }\n\n        el.css('margin-' + s, val);\n        // el.css('outline', '1px solid red');\n      }\n    });\n  };\n\n  /**\n  * Called internally.\n  * @function module:SVGEditor.setIconSize\n  * @param {module:SVGEditor.IconSize} size\n  * @returns {void}\n  */\n  const setIconSize = editor.setIconSize = function (size) {\n    // const elems = $('.tool_button, .push_button, .tool_button_current, .disabled, .icon_label, #url_notice, #tool_open');\n    const selToscale = '#tools_top .toolset, #editor_panel > *, #history_panel > *,' +\n  '        #main_button, #tools_left > *, #path_node_panel > *, #multiselected_panel > *,' +\n  '        #g_panel > *, #tool_font_size > *, .tools_flyout';\n\n    const elems = $(selToscale);\n\n    let scale = 1;\n    if (typeof size === 'number') {\n      scale = size;\n    } else {\n      const iconSizes = {s: 0.75, m: 1, l: 1.25, xl: 1.5};\n      scale = iconSizes[size];\n    }\n\n    stateObj.tool_scale = editor.tool_scale = scale;\n\n    setFlyoutPositions();\n    // $('.tools_flyout').each(function () {\n    //   const pos = $(this).position();\n    //   console.log($(this), pos.left+(34 * scale));\n    //   $(this).css({left: pos.left+(34 * scale), top: pos.top+(77 * scale)});\n    //   console.log('l', $(this).css('left'));\n    // });\n    //\n    // const scale = .75;\n\n    const hiddenPs = elems.parents(':hidden');\n    hiddenPs.css('visibility', 'hidden').show();\n    scaleElements(elems, scale);\n    hiddenPs.css('visibility', 'visible').hide();\n    // return;\n\n    editor.pref('iconsize', size);\n    $('#iconsize').val(size);\n\n    // Note that all rules will be prefixed with '#svg_editor' when parsed\n    const cssResizeRules = {\n      '#tools_top': {\n        left: 50 + $('#main_button').width(),\n        height: 72\n      },\n      '#tools_left': {\n        width: 31,\n        top: 74\n      },\n      'div#workarea': {\n        left: 38,\n        top: 74\n      }\n    };\n\n    let ruleElem = $('#tool_size_rules');\n    if (!ruleElem.length) {\n      ruleElem = $('<style id=\"tool_size_rules\"></style>').appendTo('head');\n    } else {\n      ruleElem.empty();\n    }\n\n    if (size !== 'm') {\n      let styleStr = '';\n      $.each(cssResizeRules, function (selector, rules) {\n        selector = '#svg_editor ' + selector.replace(/,/g, ', #svg_editor');\n        styleStr += selector + '{';\n        $.each(rules, function (prop, values) {\n          let val;\n          if (typeof values === 'number') {\n            val = (values * scale) + 'px';\n          } else if (values[size] || values.all) {\n            val = (values[size] || values.all);\n          }\n          styleStr += (prop + ':' + val + ';');\n        });\n        styleStr += '}';\n      });\n      // this.style[uaPrefix + 'Transform'] = 'scale(' + scale + ')';\n      const prefix = '-' + uaPrefix.toLowerCase() + '-';\n      styleStr += (selToscale + '{' + prefix + 'transform: scale(' + scale + ');}' +\n        ' #svg_editor div.toolset .toolset {' + prefix + 'transform: scale(1); margin: 1px !important;}' + // Hack for markers\n        ' #svg_editor .ui-slider {' + prefix + 'transform: scale(' + (1 / scale) + ');}' // Hack for sliders\n      );\n      ruleElem.text(styleStr);\n    }\n\n    setFlyoutPositions();\n  };\n\n  /**\n   * Setup SVG icons.\n   * @returns {void}\n   */\n  function setIcons () {\n    $.svgIcons(curConfig.imgPath + 'svg_edit_icons.svg', {\n      w: 24, h: 24,\n      id_match: false,\n      no_img: !isWebkit(), // Opera & Firefox 4 gives odd behavior w/images\n      fallback_path: curConfig.imgPath,\n      // Todo: Set `alts: {}` with keys as the IDs in fallback set to\n      //   `uiStrings` (localized) values\n      fallback: {\n        logo: 'logo.png',\n\n        select: 'select.png',\n        select_node: 'select_node.png',\n\n        square: 'square.png',\n        rect: 'rect.png',\n        fh_rect: 'freehand-square.png',\n        circle: 'circle.png',\n        ellipse: 'ellipse.png',\n        fh_ellipse: 'freehand-circle.png',\n        pencil: 'fhpath.png',\n        pen: 'line.png',\n        text: 'text.png',\n        path: 'path.png',\n        add_subpath: 'add_subpath.png',\n        close_path: 'closepath.png',\n        open_path: 'openpath.png',\n\n        image: 'image.png',\n        zoom: 'zoom.png',\n\n        arrow_right: 'flyouth.png',\n        arrow_right_big: 'arrow_right_big.png',\n        arrow_down: 'dropdown.gif',\n        fill: 'fill.png',\n        stroke: 'stroke.png',\n        opacity: 'opacity.png',\n\n        new_image: 'clear.png',\n        save: 'save.png',\n        export: 'export.png',\n        open: 'open.png',\n        import: 'import.png',\n        docprops: 'document-properties.png',\n        source: 'source.png',\n        wireframe: 'wireframe.png',\n\n        undo: 'undo.png',\n        redo: 'redo.png',\n\n        clone: 'clone.png',\n        delete: 'delete.png',\n        go_up: 'go-up.png',\n        go_down: 'go-down.png',\n        context_menu: 'context_menu.png',\n        move_bottom: 'move_bottom.png',\n        move_top: 'move_top.png',\n        to_path: 'to_path.png',\n        link_controls: 'link_controls.png',\n        reorient: 'reorient.png',\n        group_elements: 'shape_group_elements.png',\n\n        ungroup: 'shape_ungroup.png',\n        unlink_use: 'unlink_use.png',\n        width: 'width.png',\n        height: 'height.png',\n        c_radius: 'c_radius.png',\n        angle: 'angle.png',\n        blur: 'blur.png',\n        fontsize: 'fontsize.png',\n        align: 'align.png',\n\n        align_left: 'align-left.png',\n        align_center: 'align-center.png',\n        align_right: 'align-right.png',\n        align_top: 'align-top.png',\n        align_middle: 'align-middle.png',\n        align_bottom: 'align-bottom.png',\n\n        linecap_butt: 'linecap_butt.png',\n        linecap_square: 'linecap_square.png',\n        linecap_round: 'linecap_round.png',\n        linejoin_miter: 'linejoin_miter.png',\n        linejoin_bevel: 'linejoin_bevel.png',\n        linejoin_round: 'linejoin_round.png',\n        eye: 'eye.png',\n        no_color: 'no_color.png',\n\n        ok: 'save.png',\n        cancel: 'cancel.png',\n        warning: 'warning.png',\n\n        node_delete: 'node_delete.png',\n        node_clone: 'node_clone.png',\n\n        globe_link: 'globe_link.png',\n        config: 'config.png'\n      },\n      placement: {\n        '#logo': 'logo',\n\n        '#tool_clear div,#layer_new': 'new_image',\n        '#tool_save div': 'save',\n        '#tool_export div': 'export',\n        '#tool_open div': 'open',\n        '#tool_import div': 'import',\n        '#tool_source': 'source',\n        '#tool_docprops > div': 'docprops',\n        '#tool_editor_prefs > div': 'config',\n        '#tool_editor_homepage > div': 'globe_link',\n        '#tool_wireframe': 'wireframe',\n\n        '#tool_undo': 'undo',\n        '#tool_redo': 'redo',\n\n        '#tool_select': 'select',\n        '#tool_fhpath': 'pencil',\n        '#tool_line': 'pen',\n        '#tool_rect,#tools_rect_show': 'rect',\n        '#tool_square': 'square',\n        '#tool_fhrect': 'fh_rect',\n        '#tool_ellipse,#tools_ellipse_show': 'ellipse',\n        '#tool_circle': 'circle',\n        '#tool_fhellipse': 'fh_ellipse',\n        '#tool_path': 'path',\n        '#tool_text,#layer_rename': 'text',\n        '#tool_image': 'image',\n        '#tool_zoom': 'zoom',\n\n        '#tool_clone,#tool_clone_multi': 'clone',\n        '#tool_node_clone': 'node_clone',\n        '#layer_delete,#tool_delete,#tool_delete_multi': 'delete',\n        '#tool_node_delete': 'node_delete',\n        '#tool_add_subpath': 'add_subpath',\n        '#tool_openclose_path': 'open_path',\n        '#tool_move_top': 'move_top',\n        '#tool_move_bottom': 'move_bottom',\n        '#tool_topath': 'to_path',\n        '#tool_node_link': 'link_controls',\n        '#tool_reorient': 'reorient',\n        '#tool_group_elements': 'group_elements',\n        '#tool_ungroup': 'ungroup',\n        '#tool_unlink_use': 'unlink_use',\n\n        '#tool_alignleft, #tool_posleft': 'align_left',\n        '#tool_aligncenter, #tool_poscenter': 'align_center',\n        '#tool_alignright, #tool_posright': 'align_right',\n        '#tool_aligntop, #tool_postop': 'align_top',\n        '#tool_alignmiddle, #tool_posmiddle': 'align_middle',\n        '#tool_alignbottom, #tool_posbottom': 'align_bottom',\n        '#cur_position': 'align',\n\n        '#linecap_butt,#cur_linecap': 'linecap_butt',\n        '#linecap_round': 'linecap_round',\n        '#linecap_square': 'linecap_square',\n\n        '#linejoin_miter,#cur_linejoin': 'linejoin_miter',\n        '#linejoin_round': 'linejoin_round',\n        '#linejoin_bevel': 'linejoin_bevel',\n\n        '#url_notice': 'warning',\n\n        '#layer_up': 'go_up',\n        '#layer_down': 'go_down',\n        '#layer_moreopts': 'context_menu',\n        '#layerlist td.layervis': 'eye',\n\n        '#tool_source_save,#tool_docprops_save,#tool_prefs_save': 'ok',\n        '#tool_source_cancel,#tool_docprops_cancel,#tool_prefs_cancel': 'cancel',\n\n        '#rwidthLabel, #iwidthLabel': 'width',\n        '#rheightLabel, #iheightLabel': 'height',\n        '#cornerRadiusLabel span': 'c_radius',\n        '#angleLabel': 'angle',\n        '#linkLabel,#tool_make_link,#tool_make_link_multi': 'globe_link',\n        '#zoomLabel': 'zoom',\n        '#tool_fill label': 'fill',\n        '#tool_stroke .icon_label': 'stroke',\n        '#group_opacityLabel': 'opacity',\n        '#blurLabel': 'blur',\n        '#font_sizeLabel': 'fontsize',\n\n        '.flyout_arrow_horiz': 'arrow_right',\n        '.dropdown button, #main_button .dropdown': 'arrow_down',\n        '#palette .palette_item:first, #fill_bg, #stroke_bg': 'no_color'\n      },\n      resize: {\n        '#logo .svg_icon': 28,\n        '.flyout_arrow_horiz .svg_icon': 5,\n        '.layer_button .svg_icon, #layerlist td.layervis .svg_icon': 14,\n        '.dropdown button .svg_icon': 7,\n        '#main_button .dropdown .svg_icon': 9,\n        '.palette_item:first .svg_icon': 15,\n        '#fill_bg .svg_icon, #stroke_bg .svg_icon': 16,\n        '.toolbar_button button .svg_icon': 16,\n        '.stroke_tool div div .svg_icon': 20,\n        '#tools_bottom label .svg_icon': 18\n      },\n      async callback (icons) {\n        $('.toolbar_button button > svg, .toolbar_button button > img').each(function () {\n          $(this).parent().prepend(this);\n        });\n\n        const tleft = $('#tools_left');\n\n        let minHeight;\n        if (tleft.length) {\n          minHeight = tleft.offset().top + tleft.outerHeight();\n        }\n\n        const size = editor.pref('iconsize');\n        editor.setIconSize(size || ($(window).height() < minHeight ? 's' : 'm'));\n\n        // Look for any missing flyout icons from plugins\n        $('.tools_flyout').each(function () {\n          const shower = $('#' + this.id + '_show');\n          const sel = shower.attr('data-curopt');\n          // Check if there's an icon here\n          if (!shower.children('svg, img').length) {\n            const clone = $(sel).children().clone();\n            if (clone.length) {\n              clone[0].removeAttribute('style'); // Needed for Opera\n              shower.append(clone);\n            }\n          }\n        });\n        $('#svg_container')[0].style.visibility = 'visible';\n        await editor.runCallbacks();\n      }\n    });\n  }\n  /**\n  * @name module:SVGEditor.canvas\n  * @type {module:svgcanvas.SvgCanvas}\n  */\n  editor.canvas = svgCanvas = new SvgCanvas(\n    document.getElementById('svgcanvas'),\n    curConfig\n  );\n  const palette = [\n      // Todo: Make into configuration item?\n      '#000000', '#3f3f3f', '#7f7f7f', '#bfbfbf', '#ffffff',\n      '#ff0000', '#ff7f00', '#ffff00', '#7fff00',\n      '#00ff00', '#00ff7f', '#00ffff', '#007fff',\n      '#0000ff', '#7f00ff', '#ff00ff', '#ff007f',\n      '#7f0000', '#7f3f00', '#7f7f00', '#3f7f00',\n      '#007f00', '#007f3f', '#007f7f', '#003f7f',\n      '#00007f', '#3f007f', '#7f007f', '#7f003f',\n      '#ffaaaa', '#ffd4aa', '#ffffaa', '#d4ffaa',\n      '#aaffaa', '#aaffd4', '#aaffff', '#aad4ff',\n      '#aaaaff', '#d4aaff', '#ffaaff', '#ffaad4'\n    ],\n    modKey = (isMac() ? 'meta+' : 'ctrl+'), // â\n    path = svgCanvas.pathActions,\n    {undoMgr} = svgCanvas,\n    workarea = $('#workarea'),\n    canvMenu = $('#cmenu_canvas'),\n    // layerMenu = $('#cmenu_layers'), // Unused\n    paintBox = {fill: null, stroke: null};\n\n  let resizeTimer, curScrollPos;\n  let exportWindow = null,\n    defaultImageURL = curConfig.imgPath + 'logo.png',\n    zoomInIcon = 'crosshair',\n    zoomOutIcon = 'crosshair',\n    uiContext = 'toolbars';\n\n  // For external openers\n  (function () {\n    // let the opener know SVG Edit is ready (now that config is set up)\n    const w = window.opener || window.parent;\n    if (w) {\n      try {\n        /**\n         * Triggered on a containing `document` (of `window.opener`\n         * or `window.parent`) when the editor is loaded.\n         * @event module:SVGEditor#event:svgEditorReadyEvent\n         * @type {Event}\n         * @property {true} bubbles\n         * @property {true} cancelable\n         */\n        /**\n         * @name module:SVGEditor.svgEditorReadyEvent\n         * @type {module:SVGEditor#event:svgEditorReadyEvent}\n         */\n        const svgEditorReadyEvent = new w.CustomEvent('svgEditorReady', {\n          bubbles: true,\n          cancelable: true\n        });\n        w.document.documentElement.dispatchEvent(svgEditorReadyEvent);\n      } catch (e) {}\n    }\n  }());\n\n  /**\n  *\n  * @returns {void}\n  */\n  const setSelectMode = function () {\n    const curr = $('.tool_button_current');\n    if (curr.length && curr[0].id !== 'tool_select') {\n      curr.removeClass('tool_button_current').addClass('tool_button');\n      $('#tool_select').addClass('tool_button_current').removeClass('tool_button');\n      $('#styleoverrides').text(`\n        #svgcanvas svg * {\n          cursor: move;\n          pointer-events: all;\n        }\n        #svgcanvas svg {\n          cursor: default;\n        }\n      `);\n    }\n    svgCanvas.setMode('select');\n    workarea.css('cursor', 'auto');\n  };\n\n  // used to make the flyouts stay on the screen longer the very first time\n  // const flyoutspeed = 1250; // Currently unused\n  // let textBeingEntered = false; // Currently unused\n  const origTitle = $('title:first').text();\n  // Make [1,2,5] array\n  const rIntervals = [];\n  for (let i = 0.1; i < 1e5; i *= 10) {\n    rIntervals.push(i);\n    rIntervals.push(2 * i);\n    rIntervals.push(5 * i);\n  }\n\n  /**\n   * This function highlights the layer passed in (by fading out the other layers).\n   * If no layer is passed in, this function restores the other layers.\n   * @param {string} [layerNameToHighlight]\n   * @returns {void}\n  */\n  const toggleHighlightLayer = function (layerNameToHighlight) {\n    let i;\n    const curNames = [], numLayers = svgCanvas.getCurrentDrawing().getNumLayers();\n    for (i = 0; i < numLayers; i++) {\n      curNames[i] = svgCanvas.getCurrentDrawing().getLayerName(i);\n    }\n\n    if (layerNameToHighlight) {\n      curNames.forEach((curName) => {\n        if (curName !== layerNameToHighlight) {\n          svgCanvas.getCurrentDrawing().setLayerOpacity(curName, 0.5);\n        }\n      });\n    } else {\n      curNames.forEach((curName) => {\n        svgCanvas.getCurrentDrawing().setLayerOpacity(curName, 1.0);\n      });\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const populateLayers = function () {\n    svgCanvas.clearSelection();\n    const layerlist = $('#layerlist tbody').empty();\n    const selLayerNames = $('#selLayerNames').empty();\n    const drawing = svgCanvas.getCurrentDrawing();\n    const currentLayerName = drawing.getCurrentLayerName();\n    const icon = $.getSvgIcon('eye');\n    let layer = svgCanvas.getCurrentDrawing().getNumLayers();\n    // we get the layers in the reverse z-order (the layer rendered on top is listed first)\n    while (layer--) {\n      const name = drawing.getLayerName(layer);\n      const layerTr = $('<tr class=\"layer\">').toggleClass('layersel', name === currentLayerName);\n      const layerVis = $('<td class=\"layervis\">').toggleClass('layerinvis', !drawing.getLayerVisibility(name));\n      const layerName = $('<td class=\"layername\">' + name + '</td>');\n      layerlist.append(layerTr.append(layerVis, layerName));\n      selLayerNames.append('<option value=\"' + name + '\">' + name + '</option>');\n    }\n    if (icon !== undefined) {\n      const copy = icon.clone();\n      $('td.layervis', layerlist).append(copy);\n      $.resizeSvgIcons({'td.layervis .svg_icon': 14});\n    }\n    // handle selection of layer\n    $('#layerlist td.layername')\n      .mouseup(function (evt) {\n        $('#layerlist tr.layer').removeClass('layersel');\n        $(this.parentNode).addClass('layersel');\n        svgCanvas.setCurrentLayer(this.textContent);\n        evt.preventDefault();\n      })\n      .mouseover(function () {\n        toggleHighlightLayer(this.textContent);\n      })\n      .mouseout(function () {\n        toggleHighlightLayer();\n      });\n    $('#layerlist td.layervis').click(function () {\n      const row = $(this.parentNode).prevAll().length;\n      const name = $('#layerlist tr.layer:eq(' + row + ') td.layername').text();\n      const vis = $(this).hasClass('layerinvis');\n      svgCanvas.setLayerVisibility(name, vis);\n      $(this).toggleClass('layerinvis');\n    });\n\n    // if there were too few rows, let's add a few to make it not so lonely\n    let num = 5 - $('#layerlist tr.layer').size();\n    while (num-- > 0) {\n      // TODO: there must a better way to do this\n      layerlist.append('<tr><td style=\"color:white\">_</td><td/></tr>');\n    }\n  };\n\n  let editingsource = false;\n  let origSource = '';\n\n  /**\n  * @param {Event} [e] Not used.\n  * @param {boolean} forSaving\n  * @returns {void}\n  */\n  const showSourceEditor = function (e, forSaving) {\n    if (editingsource) { return; }\n\n    editingsource = true;\n    origSource = svgCanvas.getSvgString();\n    $('#save_output_btns').toggle(Boolean(forSaving));\n    $('#tool_source_back').toggle(!forSaving);\n    $('#svg_source_textarea').val(origSource);\n    $('#svg_source_editor').fadeIn();\n    $('#svg_source_textarea').focus();\n  };\n\n  let selectedElement = null;\n  let multiselected = false;\n\n  /**\n  * @param {boolean} editmode\n  * @param {module:svgcanvas.SvgCanvas#event:selected} elems\n  * @returns {void}\n  */\n  const togglePathEditMode = function (editmode, elems) {\n    $('#path_node_panel').toggle(editmode);\n    $('#tools_bottom_2,#tools_bottom_3').toggle(!editmode);\n    if (editmode) {\n      // Change select icon\n      $('.tool_button_current').removeClass('tool_button_current').addClass('tool_button');\n      $('#tool_select').addClass('tool_button_current').removeClass('tool_button');\n      setIcon('#tool_select', 'select_node');\n      multiselected = false;\n      if (elems.length) {\n        selectedElement = elems[0];\n      }\n    } else {\n      setTimeout(() => {\n        setIcon('#tool_select', 'select');\n      }, 1000);\n    }\n  };\n\n  /**\n   * @type {module:svgcanvas.EventHandler}\n   * @param {external:Window} wind\n   * @param {module:svgcanvas.SvgCanvas#event:saved} svg The SVG source\n   * @listens module:svgcanvas.SvgCanvas#event:saved\n   * @returns {void}\n   */\n  const saveHandler = function (wind, svg) {\n    editor.showSaveWarning = false;\n\n    // by default, we add the XML prolog back, systems integrating SVG-edit (wikis, CMSs)\n    // can just provide their own custom save handler and might not want the XML prolog\n    svg = '<?xml version=\"1.0\"?>\\n' + svg;\n\n    // IE9 doesn't allow standalone Data URLs\n    // https://connect.microsoft.com/IE/feedback/details/542600/data-uri-images-fail-when-loaded-by-themselves\n    if (isIE()) {\n      showSourceEditor(0, true);\n      return;\n    }\n\n    // Since saving SVGs by opening a new window was removed in Chrome use artificial link-click\n    // https://stackoverflow.com/questions/45603201/window-is-not-allowed-to-navigate-top-frame-navigations-to-data-urls\n    const a = document.createElement('a');\n    a.href = 'data:image/svg+xml;base64,' + Utils.encode64(svg);\n    a.download = 'icon.svg';\n    a.style.display = 'none';\n    document.body.append(a); // Need to append for Firefox\n\n    a.click();\n\n    // Alert will only appear the first time saved OR the\n    //   first time the bug is encountered\n    let done = editor.pref('save_notice_done');\n\n    if (done !== 'all') {\n      let note = uiStrings.notification.saveFromBrowser.replace('%s', 'SVG');\n      // Check if FF and has <defs/>\n      if (isGecko()) {\n        if (svg.includes('<defs')) {\n          // warning about Mozilla bug #308590 when applicable (seems to be fixed now in Feb 2013)\n          note += '\\n\\n' + uiStrings.notification.defsFailOnSave;\n          editor.pref('save_notice_done', 'all');\n          done = 'all';\n        } else {\n          editor.pref('save_notice_done', 'part');\n        }\n      } else {\n        editor.pref('save_notice_done', 'all');\n      }\n      if (done !== 'part') {\n        $.alert(note);\n      }\n    }\n  };\n\n  /**\n   * @param {external:Window} win\n   * @param {module:svgcanvas.SvgCanvas#event:exported} data\n   * @listens module:svgcanvas.SvgCanvas#event:exported\n   * @returns {void}\n   */\n  const exportHandler = function (win, data) {\n    const {issues, exportWindowName} = data;\n\n    exportWindow = window.open(Utils.blankPageObjectURL || '', exportWindowName); // A hack to get the window via JSON-able name without opening a new one\n\n    if (!exportWindow || exportWindow.closed) {\n      /* await */ $.alert(uiStrings.notification.popupWindowBlocked);\n      return;\n    }\n\n    exportWindow.location.href = data.bloburl || data.datauri;\n    const done = editor.pref('export_notice_done');\n    if (done !== 'all') {\n      let note = uiStrings.notification.saveFromBrowser.replace('%s', data.type);\n\n      // Check if there are issues\n      if (issues.length) {\n        const pre = '\\n \\u2022 ';\n        note += ('\\n\\n' + uiStrings.notification.noteTheseIssues + pre + issues.join(pre));\n      }\n\n      // Note that this will also prevent the notice even though new issues may appear later.\n      // May want to find a way to deal with that without annoying the user\n      editor.pref('export_notice_done', 'all');\n      exportWindow.alert(note);\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const operaRepaint = function () {\n    // Repaints canvas in Opera. Needed for stroke-dasharray change as well as fill change\n    if (!window.opera) {\n      return;\n    }\n    $('<p/>').hide().appendTo('body').remove();\n  };\n\n  /**\n   *\n   * @param {Element} opt\n   * @param {boolean} changeElem\n   * @returns {void}\n   */\n  function setStrokeOpt (opt, changeElem) {\n    const {id} = opt;\n    const bits = id.split('_');\n    const [pre, val] = bits;\n\n    if (changeElem) {\n      svgCanvas.setStrokeAttr('stroke-' + pre, val);\n    }\n    operaRepaint();\n    setIcon('#cur_' + pre, id, 20);\n    $(opt).addClass('current').siblings().removeClass('current');\n  }\n\n  /**\n  * This is a common function used when a tool has been clicked (chosen).\n  * It does several common things:\n  * - Removes the `tool_button_current` class from whatever tool currently has it.\n  * - Hides any flyouts.\n  * - Adds the `tool_button_current` class to the button passed in.\n  * @function module:SVGEditor.toolButtonClick\n  * @param {string|Element} button The DOM element or string selector representing the toolbar button\n  * @param {boolean} noHiding Whether not to hide any flyouts\n  * @returns {boolean} Whether the button was disabled or not\n  */\n  const toolButtonClick = editor.toolButtonClick = function (button, noHiding) {\n    if ($(button).hasClass('disabled')) { return false; }\n    if ($(button).parent().hasClass('tools_flyout')) { return true; }\n    const fadeFlyouts = 'normal';\n    if (!noHiding) {\n      $('.tools_flyout').fadeOut(fadeFlyouts);\n    }\n    $('#styleoverrides').text('');\n    workarea.css('cursor', 'auto');\n    $('.tool_button_current').removeClass('tool_button_current').addClass('tool_button');\n    $(button).addClass('tool_button_current').removeClass('tool_button');\n    return true;\n  };\n\n  /**\n  * Unless the select toolbar button is disabled, sets the button\n  * and sets the select mode and cursor styles.\n  * @function module:SVGEditor.clickSelect\n  * @returns {void}\n  */\n  const clickSelect = editor.clickSelect = function () {\n    if (toolButtonClick('#tool_select')) {\n      svgCanvas.setMode('select');\n      $('#styleoverrides').text(`\n        #svgcanvas svg * {\n          cursor: move;\n          pointer-events: all;\n        }\n        #svgcanvas svg {\n          cursor: default;\n        }\n      `);\n    }\n  };\n\n  /**\n  * Set a selected image's URL.\n  * @function module:SVGEditor.setImageURL\n  * @param {string} url\n  * @returns {void}\n  */\n  const setImageURL = editor.setImageURL = function (url) {\n    if (!url) {\n      url = defaultImageURL;\n    }\n    svgCanvas.setImageURL(url);\n    $('#image_url').val(url);\n\n    if (url.startsWith('data:')) {\n      // data URI found\n      $('#image_url').hide();\n      $('#change_image_url').show();\n    } else {\n      // regular URL\n      svgCanvas.embedImage(url, function (dataURI) {\n        // Couldn't embed, so show warning\n        $('#url_notice').toggle(!dataURI);\n        defaultImageURL = url;\n      });\n      $('#image_url').show();\n      $('#change_image_url').hide();\n    }\n  };\n\n  /**\n   *\n   * @param {string} color\n   * @param {string} url\n   * @returns {void}\n   */\n  function setBackground (color, url) {\n    // if (color == editor.pref('bkgd_color') && url == editor.pref('bkgd_url')) { return; }\n    editor.pref('bkgd_color', color);\n    editor.pref('bkgd_url', url, true);\n\n    // This should be done in svgcanvas.js for the borderRect fill\n    svgCanvas.setBackground(color, url);\n  }\n\n  /**\n   * @param {PlainObject} [opts={}]\n   * @param {boolean} [opts.cancelDeletes=false}]\n   * @returns {Promise<void>} Resolves to `undefined`\n   */\n  async function promptImgURL ({cancelDeletes = false} = {}) {\n    let curhref = svgCanvas.getHref(selectedElement);\n    curhref = curhref.startsWith('data:') ? '' : curhref;\n    const url = await $.prompt(uiStrings.notification.enterNewImgURL, curhref);\n    if (url) {\n      setImageURL(url);\n    } else if (cancelDeletes) {\n      svgCanvas.deleteSelectedElements();\n    }\n  }\n\n  /**\n  * @param {Element} elem\n  * @returns {void}\n  */\n  const setInputWidth = function (elem) {\n    const w = Math.min(Math.max(12 + elem.value.length * 6, 50), 300);\n    $(elem).width(w);\n  };\n\n  /**\n   *\n   * @param {HTMLDivElement} [scanvas]\n   * @param {Float} [zoom]\n   * @returns {void}\n   */\n  function updateRulers (scanvas, zoom) {\n    if (!zoom) { zoom = svgCanvas.getZoom(); }\n    if (!scanvas) { scanvas = $('#svgcanvas'); }\n\n    let d, i;\n    const limit = 30000;\n    const contentElem = svgCanvas.getContentElem();\n    const units = getTypeMap();\n    const unit = units[curConfig.baseUnit]; // 1 = 1px\n\n    // draw x ruler then y ruler\n    for (d = 0; d < 2; d++) {\n      const isX = (d === 0);\n      const dim = isX ? 'x' : 'y';\n      const lentype = isX ? 'width' : 'height';\n      const contentDim = Number(contentElem.getAttribute(dim));\n\n      const $hcanvOrig = $('#ruler_' + dim + ' canvas:first');\n\n      // Bit of a hack to fully clear the canvas in Safari & IE9\n      const $hcanv = $hcanvOrig.clone();\n      $hcanvOrig.replaceWith($hcanv);\n\n      const hcanv = $hcanv[0];\n\n      // Set the canvas size to the width of the container\n      let rulerLen = scanvas[lentype]();\n      const totalLen = rulerLen;\n      hcanv.parentNode.style[lentype] = totalLen + 'px';\n      let ctx = hcanv.getContext('2d');\n      let ctxArr, num, ctxArrNum;\n\n      ctx.fillStyle = 'rgb(200,0,0)';\n      ctx.fillRect(0, 0, hcanv.width, hcanv.height);\n\n      // Remove any existing canvasses\n      $hcanv.siblings().remove();\n\n      // Create multiple canvases when necessary (due to browser limits)\n      if (rulerLen >= limit) {\n        ctxArrNum = Number.parseInt(rulerLen / limit) + 1;\n        ctxArr = [];\n        ctxArr[0] = ctx;\n        let copy;\n        for (i = 1; i < ctxArrNum; i++) {\n          hcanv[lentype] = limit;\n          copy = hcanv.cloneNode(true);\n          hcanv.parentNode.append(copy);\n          ctxArr[i] = copy.getContext('2d');\n        }\n\n        copy[lentype] = rulerLen % limit;\n\n        // set copy width to last\n        rulerLen = limit;\n      }\n\n      hcanv[lentype] = rulerLen;\n\n      const uMulti = unit * zoom;\n\n      // Calculate the main number interval\n      const rawM = 50 / uMulti;\n      let multi = 1;\n      for (i = 0; i < rIntervals.length; i++) {\n        num = rIntervals[i];\n        multi = num;\n        if (rawM <= num) {\n          break;\n        }\n      }\n\n      const bigInt = multi * uMulti;\n\n      ctx.font = '9px sans-serif';\n\n      let rulerD = ((contentDim / uMulti) % multi) * uMulti;\n      let labelPos = rulerD - bigInt;\n      // draw big intervals\n      let ctxNum = 0;\n      while (rulerD < totalLen) {\n        labelPos += bigInt;\n        // const realD = rulerD - contentDim; // Currently unused\n\n        const curD = Math.round(rulerD) + 0.5;\n        if (isX) {\n          ctx.moveTo(curD, 15);\n          ctx.lineTo(curD, 0);\n        } else {\n          ctx.moveTo(15, curD);\n          ctx.lineTo(0, curD);\n        }\n\n        num = (labelPos - contentDim) / uMulti;\n        let label;\n        if (multi >= 1) {\n          label = Math.round(num);\n        } else {\n          const decs = String(multi).split('.')[1].length;\n          label = num.toFixed(decs);\n        }\n\n        // Change 1000s to Ks\n        if (label !== 0 && label !== 1000 && label % 1000 === 0) {\n          label = (label / 1000) + 'K';\n        }\n\n        if (isX) {\n          ctx.fillText(label, rulerD + 2, 8);\n        } else {\n          // draw label vertically\n          const str = String(label).split('');\n          for (i = 0; i < str.length; i++) {\n            ctx.fillText(str[i], 1, (rulerD + 9) + i * 9);\n          }\n        }\n\n        const part = bigInt / 10;\n        // draw the small intervals\n        for (i = 1; i < 10; i++) {\n          let subD = Math.round(rulerD + part * i) + 0.5;\n          if (ctxArr && subD > rulerLen) {\n            ctxNum++;\n            ctx.stroke();\n            if (ctxNum >= ctxArrNum) {\n              i = 10;\n              rulerD = totalLen;\n              continue;\n            }\n            ctx = ctxArr[ctxNum];\n            rulerD -= limit;\n            subD = Math.round(rulerD + part * i) + 0.5;\n          }\n\n          // odd lines are slighly longer\n          const lineNum = (i % 2) ? 12 : 10;\n          if (isX) {\n            ctx.moveTo(subD, 15);\n            ctx.lineTo(subD, lineNum);\n          } else {\n            ctx.moveTo(15, subD);\n            ctx.lineTo(lineNum, subD);\n          }\n        }\n        rulerD += bigInt;\n      }\n      ctx.strokeStyle = '#000';\n      ctx.stroke();\n    }\n  }\n\n  /**\n  * @function module:SVGEditor.updateCanvas\n  * @param {boolean} center\n  * @param {module:math.XYObject} newCtr\n  * @returns {void}\n  */\n  const updateCanvas = editor.updateCanvas = function (center, newCtr) {\n    const zoom = svgCanvas.getZoom();\n    const wArea = workarea;\n    const cnvs = $('#svgcanvas');\n\n    let w = workarea.width(), h = workarea.height();\n    const wOrig = w, hOrig = h;\n    const oldCtr = {\n      x: wArea[0].scrollLeft + wOrig / 2,\n      y: wArea[0].scrollTop + hOrig / 2\n    };\n    const multi = curConfig.canvas_expansion;\n    w = Math.max(wOrig, svgCanvas.contentW * zoom * multi);\n    h = Math.max(hOrig, svgCanvas.contentH * zoom * multi);\n\n    if (w === wOrig && h === hOrig) {\n      workarea.css('overflow', 'hidden');\n    } else {\n      workarea.css('overflow', 'scroll');\n    }\n\n    const oldCanY = cnvs.height() / 2;\n    const oldCanX = cnvs.width() / 2;\n    cnvs.width(w).height(h);\n    const newCanY = h / 2;\n    const newCanX = w / 2;\n    const offset = svgCanvas.updateCanvas(w, h);\n\n    const ratio = newCanX / oldCanX;\n\n    const scrollX = w / 2 - wOrig / 2; // eslint-disable-line no-shadow\n    const scrollY = h / 2 - hOrig / 2; // eslint-disable-line no-shadow\n\n    if (!newCtr) {\n      const oldDistX = oldCtr.x - oldCanX;\n      const newX = newCanX + oldDistX * ratio;\n\n      const oldDistY = oldCtr.y - oldCanY;\n      const newY = newCanY + oldDistY * ratio;\n\n      newCtr = {\n        x: newX,\n        y: newY\n      };\n    } else {\n      newCtr.x += offset.x;\n      newCtr.y += offset.y;\n    }\n\n    if (center) {\n      // Go to top-left for larger documents\n      if (svgCanvas.contentW > wArea.width()) {\n        // Top-left\n        workarea[0].scrollLeft = offset.x - 10;\n        workarea[0].scrollTop = offset.y - 10;\n      } else {\n        // Center\n        wArea[0].scrollLeft = scrollX;\n        wArea[0].scrollTop = scrollY;\n      }\n    } else {\n      wArea[0].scrollLeft = newCtr.x - wOrig / 2;\n      wArea[0].scrollTop = newCtr.y - hOrig / 2;\n    }\n    if (curConfig.showRulers) {\n      updateRulers(cnvs, zoom);\n      workarea.scroll();\n    }\n\n    if (urldata.storagePrompt !== true && editor.storagePromptState === 'ignore') {\n      $('#dialog_box').hide();\n    }\n  };\n\n  /**\n   * @fires module:svgcanvas.SvgCanvas#event:ext_toolButtonStateUpdate\n   * @returns {void}\n   */\n  const updateToolButtonState = function () {\n    const bNoFill = (svgCanvas.getColor('fill') === 'none');\n    const bNoStroke = (svgCanvas.getColor('stroke') === 'none');\n    const buttonsNeedingStroke = ['#tool_fhpath', '#tool_line'];\n    const buttonsNeedingFillAndStroke = [\n      '#tools_rect .tool_button', '#tools_ellipse .tool_button',\n      '#tool_text', '#tool_path'\n    ];\n\n    if (bNoStroke) {\n      buttonsNeedingStroke.forEach((btn) => {\n        if ($(btn).hasClass('tool_button_current')) {\n          clickSelect();\n        }\n        $(btn).addClass('disabled');\n      });\n    } else {\n      buttonsNeedingStroke.forEach((btn) => {\n        $(btn).removeClass('disabled');\n      });\n    }\n\n    if (bNoStroke && bNoFill) {\n      buttonsNeedingFillAndStroke.forEach((btn) => {\n        if ($(btn).hasClass('tool_button_current')) {\n          clickSelect();\n        }\n        $(btn).addClass('disabled');\n      });\n    } else {\n      buttonsNeedingFillAndStroke.forEach((btn) => {\n        $(btn).removeClass('disabled');\n      });\n    }\n\n    svgCanvas.runExtensions(\n      'toolButtonStateUpdate',\n      /** @type {module:svgcanvas.SvgCanvas#event:ext_toolButtonStateUpdate} */ {\n        nofill: bNoFill,\n        nostroke: bNoStroke\n      }\n    );\n\n    // Disable flyouts if all inside are disabled\n    $('.tools_flyout').each(function () {\n      const shower = $('#' + this.id + '_show');\n      let hasEnabled = false;\n      $(this).children().each(function () {\n        if (!$(this).hasClass('disabled')) {\n          hasEnabled = true;\n        }\n      });\n      shower.toggleClass('disabled', !hasEnabled);\n    });\n\n    operaRepaint();\n  };\n\n  /**\n  * Updates the toolbar (colors, opacity, etc) based on the selected element.\n  * This function also updates the opacity and id elements that are in the\n  * context panel.\n  * @returns {void}\n  */\n  const updateToolbar = function () {\n    let i, len;\n    if (!Utils.isNullish(selectedElement)) {\n      switch (selectedElement.tagName) {\n      case 'use':\n      case 'image':\n      case 'foreignObject':\n        break;\n      case 'g':\n      case 'a': {\n        // Look for common styles\n        const childs = selectedElement.getElementsByTagName('*');\n        let gWidth = null;\n        for (i = 0, len = childs.length; i < len; i++) {\n          const swidth = childs[i].getAttribute('stroke-width');\n\n          if (i === 0) {\n            gWidth = swidth;\n          } else if (gWidth !== swidth) {\n            gWidth = null;\n          }\n        }\n\n        $('#stroke_width').val(gWidth === null ? '' : gWidth);\n\n        paintBox.fill.update(true);\n        paintBox.stroke.update(true);\n\n        break;\n      } default: {\n        paintBox.fill.update(true);\n        paintBox.stroke.update(true);\n\n        $('#stroke_width').val(selectedElement.getAttribute('stroke-width') || 1);\n        $('#stroke_style').val(selectedElement.getAttribute('stroke-dasharray') || 'none');\n\n        let attr = selectedElement.getAttribute('stroke-linejoin') || 'miter';\n\n        if ($('#linejoin_' + attr).length) {\n          setStrokeOpt($('#linejoin_' + attr)[0]);\n        }\n\n        attr = selectedElement.getAttribute('stroke-linecap') || 'butt';\n\n        if ($('#linecap_' + attr).length) {\n          setStrokeOpt($('#linecap_' + attr)[0]);\n        }\n      }\n      }\n    }\n\n    // All elements including image and group have opacity\n    if (!Utils.isNullish(selectedElement)) {\n      const opacPerc = (selectedElement.getAttribute('opacity') || 1.0) * 100;\n      $('#group_opacity').val(opacPerc);\n      $('#opac_slider').slider('option', 'value', opacPerc);\n      $('#elem_id').val(selectedElement.id);\n      $('#elem_class').val(selectedElement.getAttribute('class'));\n    }\n\n    updateToolButtonState();\n  };\n\n  /**\n  * Updates the context panel tools based on the selected element.\n  * @returns {void}\n  */\n  const updateContextPanel = function () {\n    let elem = selectedElement;\n    // If element has just been deleted, consider it null\n    if (!Utils.isNullish(elem) && !elem.parentNode) { elem = null; }\n    const currentLayerName = svgCanvas.getCurrentDrawing().getCurrentLayerName();\n    const currentMode = svgCanvas.getMode();\n    const unit = curConfig.baseUnit !== 'px' ? curConfig.baseUnit : null;\n\n    const isNode = currentMode === 'pathedit'; // elem ? (elem.id && elem.id.startsWith('pathpointgrip')) : false;\n    const menuItems = $('#cmenu_canvas li');\n    $('#selected_panel, #multiselected_panel, #g_panel, #rect_panel, #circle_panel,' +\n      '#ellipse_panel, #line_panel, #text_panel, #image_panel, #container_panel,' +\n      ' #use_panel, #a_panel').hide();\n    if (!Utils.isNullish(elem)) {\n      const elname = elem.nodeName;\n      // If this is a link with no transform and one child, pretend\n      // its child is selected\n      // if (elname === 'a') { // && !$(elem).attr('transform')) {\n      //   elem = elem.firstChild;\n      // }\n\n      const angle = svgCanvas.getRotationAngle(elem);\n      $('#angle').val(angle);\n\n      const blurval = svgCanvas.getBlur(elem);\n      $('#blur').val(blurval);\n      $('#blur_slider').slider('option', 'value', blurval);\n\n      if (svgCanvas.addedNew) {\n        if (elname === 'image' && svgCanvas.getMode() === 'image') {\n          // Prompt for URL if not a data URL\n          if (!svgCanvas.getHref(elem).startsWith('data:')) {\n            /* await */ promptImgURL({cancelDeletes: true});\n          }\n        }\n        /* else if (elname == 'text') {\n          // TODO: Do something here for new text\n        } */\n      }\n\n      if (!isNode && currentMode !== 'pathedit') {\n        $('#selected_panel').show();\n        // Elements in this array already have coord fields\n        if (['line', 'circle', 'ellipse'].includes(elname)) {\n          $('#xy_panel').hide();\n        } else {\n          let x, y;\n\n          // Get BBox vals for g, polyline and path\n          if (['g', 'polyline', 'path'].includes(elname)) {\n            const bb = svgCanvas.getStrokedBBox([elem]);\n            if (bb) {\n              ({x, y} = bb);\n            }\n          } else {\n            x = elem.getAttribute('x');\n            y = elem.getAttribute('y');\n          }\n\n          if (unit) {\n            x = convertUnit(x);\n            y = convertUnit(y);\n          }\n\n          $('#selected_x').val(x || 0);\n          $('#selected_y').val(y || 0);\n          $('#xy_panel').show();\n        }\n\n        // Elements in this array cannot be converted to a path\n        const noPath = !['image', 'text', 'path', 'g', 'use'].includes(elname);\n        $('#tool_topath').toggle(noPath);\n        $('#tool_reorient').toggle(elname === 'path');\n        $('#tool_reorient').toggleClass('disabled', angle === 0);\n      } else {\n        const point = path.getNodePoint();\n        $('#tool_add_subpath').removeClass('push_button_pressed').addClass('tool_button');\n        $('#tool_node_delete').toggleClass('disabled', !path.canDeleteNodes);\n\n        // Show open/close button based on selected point\n        setIcon('#tool_openclose_path', path.closed_subpath ? 'open_path' : 'close_path');\n\n        if (point) {\n          const segType = $('#seg_type');\n          if (unit) {\n            point.x = convertUnit(point.x);\n            point.y = convertUnit(point.y);\n          }\n          $('#path_node_x').val(point.x);\n          $('#path_node_y').val(point.y);\n          if (point.type) {\n            segType.val(point.type).removeAttr('disabled');\n          } else {\n            segType.val(4).attr('disabled', 'disabled');\n          }\n        }\n        return;\n      }\n\n      // update contextual tools here\n      const panels = {\n        g: [],\n        a: [],\n        rect: ['rx', 'width', 'height'],\n        image: ['width', 'height'],\n        circle: ['cx', 'cy', 'r'],\n        ellipse: ['cx', 'cy', 'rx', 'ry'],\n        line: ['x1', 'y1', 'x2', 'y2'],\n        text: [],\n        use: []\n      };\n\n      const {tagName} = elem;\n\n      // if ($(elem).data('gsvg')) {\n      //   $('#g_panel').show();\n      // }\n\n      let linkHref = null;\n      if (tagName === 'a') {\n        linkHref = svgCanvas.getHref(elem);\n        $('#g_panel').show();\n      }\n\n      if (elem.parentNode.tagName === 'a') {\n        if (!$(elem).siblings().length) {\n          $('#a_panel').show();\n          linkHref = svgCanvas.getHref(elem.parentNode);\n        }\n      }\n\n      // Hide/show the make_link buttons\n      $('#tool_make_link, #tool_make_link').toggle(!linkHref);\n\n      if (linkHref) {\n        $('#link_url').val(linkHref);\n      }\n\n      if (panels[tagName]) {\n        const curPanel = panels[tagName];\n\n        $('#' + tagName + '_panel').show();\n\n        $.each(curPanel, function (i, item) {\n          let attrVal = elem.getAttribute(item);\n          if (curConfig.baseUnit !== 'px' && elem[item]) {\n            const bv = elem[item].baseVal.value;\n            attrVal = convertUnit(bv);\n          }\n          $('#' + tagName + '_' + item).val(attrVal || 0);\n        });\n\n        if (tagName === 'text') {\n          $('#text_panel').css('display', 'inline');\n          $('#tool_font_size').css('display', 'inline');\n          if (svgCanvas.getItalic()) {\n            $('#tool_italic').addClass('push_button_pressed').removeClass('tool_button');\n          } else {\n            $('#tool_italic').removeClass('push_button_pressed').addClass('tool_button');\n          }\n          if (svgCanvas.getBold()) {\n            $('#tool_bold').addClass('push_button_pressed').removeClass('tool_button');\n          } else {\n            $('#tool_bold').removeClass('push_button_pressed').addClass('tool_button');\n          }\n          $('#font_family').val(elem.getAttribute('font-family'));\n          $('#font_size').val(elem.getAttribute('font-size'));\n          $('#text').val(elem.textContent);\n          if (svgCanvas.addedNew) {\n            // Timeout needed for IE9\n            setTimeout(function () {\n              $('#text').focus().select();\n            }, 100);\n          }\n        // text\n        } else if (tagName === 'image' && svgCanvas.getMode() === 'image') {\n          setImageURL(svgCanvas.getHref(elem));\n        // image\n        } else if (tagName === 'g' || tagName === 'use') {\n          $('#container_panel').show();\n          const title = svgCanvas.getTitle();\n          const label = $('#g_title')[0];\n          label.value = title;\n          setInputWidth(label);\n          $('#g_title').prop('disabled', tagName === 'use');\n        }\n      }\n      menuItems[(tagName === 'g' ? 'en' : 'dis') + 'ableContextMenuItems']('#ungroup');\n      menuItems[((tagName === 'g' || !multiselected) ? 'dis' : 'en') + 'ableContextMenuItems']('#group');\n    // if (!Utils.isNullish(elem))\n    } else if (multiselected) {\n      $('#multiselected_panel').show();\n      menuItems\n        .enableContextMenuItems('#group')\n        .disableContextMenuItems('#ungroup');\n    } else {\n      menuItems.disableContextMenuItems('#delete,#cut,#copy,#group,#ungroup,#move_front,#move_up,#move_down,#move_back');\n    }\n\n    // update history buttons\n    $('#tool_undo').toggleClass('disabled', undoMgr.getUndoStackSize() === 0);\n    $('#tool_redo').toggleClass('disabled', undoMgr.getRedoStackSize() === 0);\n\n    svgCanvas.addedNew = false;\n\n    if ((elem && !isNode) || multiselected) {\n      // update the selected elements' layer\n      $('#selLayerNames').removeAttr('disabled').val(currentLayerName);\n\n      // Enable regular menu options\n      canvMenu.enableContextMenuItems(\n        '#delete,#cut,#copy,#move_front,#move_up,#move_down,#move_back'\n      );\n    } else {\n      $('#selLayerNames').attr('disabled', 'disabled');\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const updateWireFrame = function () {\n    // Test support\n    if (supportsNonSS) { return; }\n\n    const rule = `\n      #workarea.wireframe #svgcontent * {\n        stroke-width: ${1 / svgCanvas.getZoom()}px;\n      }\n    `;\n    $('#wireframe_rules').text(workarea.hasClass('wireframe') ? rule : '');\n  };\n\n  let curContext = '';\n\n  /**\n  * @param {string} [title=svgCanvas.getDocumentTitle()]\n  * @returns {void}\n  */\n  const updateTitle = function (title) {\n    title = title || svgCanvas.getDocumentTitle();\n    const newTitle = origTitle + (title ? ': ' + title : '');\n\n    // Remove title update with current context info, isn't really necessary\n    // if (curContext) {\n    //   new_title = new_title + curContext;\n    // }\n    $('title:first').text(newTitle);\n  };\n\n  // called when we've selected a different element\n  /**\n  *\n  * @param {external:Window} win\n  * @param {module:svgcanvas.SvgCanvas#event:selected} elems Array of elements that were selected\n  * @listens module:svgcanvas.SvgCanvas#event:selected\n  * @fires module:svgcanvas.SvgCanvas#event:ext_selectedChanged\n  * @returns {void}\n  */\n  const selectedChanged = function (win, elems) {\n    const mode = svgCanvas.getMode();\n    if (mode === 'select') {\n      setSelectMode();\n    }\n    const isNode = mode === 'pathedit';\n    // if elems[1] is present, then we have more than one element\n    selectedElement = (elems.length === 1 || Utils.isNullish(elems[1]) ? elems[0] : null);\n    multiselected = (elems.length >= 2 && !Utils.isNullish(elems[1]));\n    if (!Utils.isNullish(selectedElement)) {\n      // unless we're already in always set the mode of the editor to select because\n      // upon creation of a text element the editor is switched into\n      // select mode and this event fires - we need our UI to be in sync\n\n      if (!isNode) {\n        updateToolbar();\n      }\n    } // if (!Utils.isNullish(elem))\n\n    // Deal with pathedit mode\n    togglePathEditMode(isNode, elems);\n    updateContextPanel();\n    svgCanvas.runExtensions('selectedChanged', /** @type {module:svgcanvas.SvgCanvas#event:ext_selectedChanged} */ {\n      elems,\n      selectedElement,\n      multiselected\n    });\n  };\n\n  // Call when part of element is in process of changing, generally\n  // on mousemove actions like rotate, move, etc.\n  /**\n   * @param {external:Window} win\n   * @param {module:svgcanvas.SvgCanvas#event:transition} elems\n   * @listens module:svgcanvas.SvgCanvas#event:transition\n   * @fires module:svgcanvas.SvgCanvas#event:ext_elementTransition\n   * @returns {void}\n   */\n  const elementTransition = function (win, elems) {\n    const mode = svgCanvas.getMode();\n    const elem = elems[0];\n\n    if (!elem) {\n      return;\n    }\n\n    multiselected = (elems.length >= 2 && !Utils.isNullish(elems[1]));\n    // Only updating fields for single elements for now\n    if (!multiselected) {\n      switch (mode) {\n      case 'rotate': {\n        const ang = svgCanvas.getRotationAngle(elem);\n        $('#angle').val(ang);\n        $('#tool_reorient').toggleClass('disabled', ang === 0);\n        break;\n\n      // TODO: Update values that change on move/resize, etc\n      // } case 'select': {\n      // } case 'resize': {\n      //   break;\n      // }\n      }\n      }\n    }\n    svgCanvas.runExtensions('elementTransition', /** @type {module:svgcanvas.SvgCanvas#event:ext_elementTransition} */ {\n      elems\n    });\n  };\n\n  /**\n   * Test whether an element is a layer or not.\n   * @param {SVGGElement} elem - The SVGGElement to test.\n   * @returns {boolean} True if the element is a layer\n   */\n  function isLayer (elem) {\n    return elem && elem.tagName === 'g' && Layer.CLASS_REGEX.test(elem.getAttribute('class'));\n  }\n\n  // called when any element has changed\n  /**\n   * @param {external:Window} win\n   * @param {module:svgcanvas.SvgCanvas#event:changed} elems\n   * @listens module:svgcanvas.SvgCanvas#event:changed\n   * @fires module:svgcanvas.SvgCanvas#event:ext_elementChanged\n   * @returns {void}\n   */\n  const elementChanged = function (win, elems) {\n    const mode = svgCanvas.getMode();\n    if (mode === 'select') {\n      setSelectMode();\n    }\n\n    elems.forEach((elem) => {\n      const isSvgElem = (elem && elem.tagName === 'svg');\n      if (isSvgElem || isLayer(elem)) {\n        populateLayers();\n        // if the element changed was the svg, then it could be a resolution change\n        if (isSvgElem) {\n          updateCanvas();\n        }\n      // Update selectedElement if element is no longer part of the image.\n      // This occurs for the text elements in Firefox\n      } else if (elem && selectedElement && Utils.isNullish(selectedElement.parentNode)) {\n        // || elem && elem.tagName == \"path\" && !multiselected) { // This was added in r1430, but not sure why\n        selectedElement = elem;\n      }\n    });\n\n    editor.showSaveWarning = true;\n\n    // we update the contextual panel with potentially new\n    // positional/sizing information (we DON'T want to update the\n    // toolbar here as that creates an infinite loop)\n    // also this updates the history buttons\n\n    // we tell it to skip focusing the text control if the\n    // text element was previously in focus\n    updateContextPanel();\n\n    // In the event a gradient was flipped:\n    if (selectedElement && mode === 'select') {\n      paintBox.fill.update();\n      paintBox.stroke.update();\n    }\n\n    svgCanvas.runExtensions('elementChanged', /** @type {module:svgcanvas.SvgCanvas#event:ext_elementChanged} */ {\n      elems\n    });\n  };\n\n  /**\n   * @returns {void}\n   */\n  const zoomDone = function () {\n    updateWireFrame();\n    // updateCanvas(); // necessary?\n  };\n\n  /**\n  * @typedef {PlainObject} module:SVGEditor.BBoxObjectWithFactor (like `DOMRect`)\n  * @property {Float} x\n  * @property {Float} y\n  * @property {Float} width\n  * @property {Float} height\n  * @property {Float} [factor] Needed if width or height are 0\n  * @property {Float} [zoom]\n  * @see module:svgcanvas.SvgCanvas#event:zoomed\n  */\n\n  /**\n  * @function module:svgcanvas.SvgCanvas#zoomChanged\n  * @param {external:Window} win\n  * @param {module:svgcanvas.SvgCanvas#event:zoomed} bbox\n  * @param {boolean} autoCenter\n  * @listens module:svgcanvas.SvgCanvas#event:zoomed\n  * @returns {void}\n  */\n  const zoomChanged = svgCanvas.zoomChanged = function (win, bbox, autoCenter) {\n    const scrbar = 15,\n      // res = svgCanvas.getResolution(), // Currently unused\n      wArea = workarea;\n    // const canvasPos = $('#svgcanvas').position(); // Currently unused\n    const zInfo = svgCanvas.setBBoxZoom(bbox, wArea.width() - scrbar, wArea.height() - scrbar);\n    if (!zInfo) { return; }\n    const zoomlevel = zInfo.zoom,\n      bb = zInfo.bbox;\n\n    if (zoomlevel < 0.001) {\n      changeZoom({value: 0.1});\n      return;\n    }\n\n    $('#zoom').val((zoomlevel * 100).toFixed(1));\n\n    if (autoCenter) {\n      updateCanvas();\n    } else {\n      updateCanvas(false, {x: bb.x * zoomlevel + (bb.width * zoomlevel) / 2, y: bb.y * zoomlevel + (bb.height * zoomlevel) / 2});\n    }\n\n    if (svgCanvas.getMode() === 'zoom' && bb.width) {\n      // Go to select if a zoom box was drawn\n      setSelectMode();\n    }\n\n    zoomDone();\n  };\n\n  /**\n  * @type {module:jQuerySpinButton.ValueCallback}\n  */\n  const changeZoom = function (ctl) {\n    const zoomlevel = ctl.value / 100;\n    if (zoomlevel < 0.001) {\n      ctl.value = 0.1;\n      return;\n    }\n    const zoom = svgCanvas.getZoom();\n    const wArea = workarea;\n\n    zoomChanged(window, {\n      width: 0,\n      height: 0,\n      // center pt of scroll position\n      x: (wArea[0].scrollLeft + wArea.width() / 2) / zoom,\n      y: (wArea[0].scrollTop + wArea.height() / 2) / zoom,\n      zoom: zoomlevel\n    }, true);\n  };\n\n  $('#cur_context_panel').delegate('a', 'click', function () {\n    const link = $(this);\n    if (link.attr('data-root')) {\n      svgCanvas.leaveContext();\n    } else {\n      svgCanvas.setContext(link.text());\n    }\n    svgCanvas.clearSelection();\n    return false;\n  });\n\n  /**\n   * @param {external:Window} win\n   * @param {module:svgcanvas.SvgCanvas#event:contextset} context\n   * @listens module:svgcanvas.SvgCanvas#event:contextset\n   * @returns {void}\n   */\n  const contextChanged = function (win, context) {\n    let linkStr = '';\n    if (context) {\n      let str = '';\n      linkStr = '<a href=\"#\" data-root=\"y\">' + svgCanvas.getCurrentDrawing().getCurrentLayerName() + '</a>';\n\n      $(context).parentsUntil('#svgcontent > g').andSelf().each(function () {\n        if (this.id) {\n          str += ' > ' + this.id;\n          if (this !== context) {\n            linkStr += ' > <a href=\"#\">' + this.id + '</a>';\n          } else {\n            linkStr += ' > ' + this.id;\n          }\n        }\n      });\n\n      curContext = str;\n    } else {\n      curContext = null;\n    }\n    $('#cur_context_panel').toggle(Boolean(context)).html(linkStr);\n\n    updateTitle();\n  };\n\n  /**\n  * Makes sure the current selected paint is available to work with.\n  * @returns {void}\n  */\n  const prepPaints = function () {\n    paintBox.fill.prep();\n    paintBox.stroke.prep();\n  };\n\n  const flyoutFuncs = {};\n\n  /**\n  *\n  * @returns {void}\n  */\n  const setFlyoutTitles = function () {\n    $('.tools_flyout').each(function () {\n      const shower = $('#' + this.id + '_show');\n      if (shower.data('isLibrary')) {\n        return;\n      }\n\n      const tooltips = $(this).children().map(function () {\n        return this.title;\n      }).get();\n      shower[0].title = tooltips.join(' / ');\n    });\n  };\n\n  const allHolders = {};\n  /**\n   * @param {PlainObject<string, module:SVGEditor.ToolButton>} holders Key is a selector\n   * @returns {void}\n   */\n  const setupFlyouts = function (holders) {\n    $.each(holders, function (holdSel, btnOpts) {\n      if (!allHolders[holdSel]) {\n        allHolders[holdSel] = [];\n      }\n      allHolders[holdSel].push(...btnOpts);\n\n      const buttons = $(holdSel).children().not('.tool_button_evt_handled');\n      const showSel = holdSel + '_show';\n      const shower = $(showSel);\n      let def = false;\n      buttons.addClass('tool_button tool_button_evt_handled')\n        .unbind('click mousedown mouseup') // may not be necessary\n        .each(function () {\n          // Get this button's options\n          const idSel = '#' + this.getAttribute('id');\n          const [i, opts] = Object.entries(btnOpts).find(([_, {sel}]) => {\n            return sel === idSel;\n          });\n\n          // Remember the function that goes with this ID\n          flyoutFuncs[opts.sel] = opts.fn;\n\n          if (opts.isDefault) { def = i; }\n\n          /**\n           * Clicking the icon in flyout should set this set's icon.\n           * @param {Event} ev\n           * @returns {boolean}\n           */\n          const flyoutAction = function (ev) {\n            let options = opts;\n            // Find the currently selected tool if comes from keystroke\n            if (ev.type === 'keydown') {\n              const flyoutIsSelected = $(options.parent + '_show').hasClass('tool_button_current');\n              const currentOperation = $(options.parent + '_show').attr('data-curopt');\n              Object.entries(holders[opts.parent]).some(([j, tool]) => {\n                if (tool.sel !== currentOperation) {\n                  return false;\n                }\n                if (!ev.shiftKey || !flyoutIsSelected) {\n                  options = tool;\n                } else {\n                  // If flyout is selected, allow shift key to iterate through subitems\n                  j = Number.parseInt(j);\n                  // Use `allHolders` to include both extension `includeWith` and toolbarButtons\n                  options = allHolders[opts.parent][j + 1] ||\n                    holders[opts.parent][0];\n                }\n                return true;\n              });\n            }\n            if ($(this).hasClass('disabled')) { return false; }\n            if (toolButtonClick(showSel)) {\n              options.fn();\n            }\n            let icon;\n            if (options.icon) {\n              icon = $.getSvgIcon(options.icon, true);\n            } else {\n              icon = $(options.sel).children().eq(0).clone();\n            }\n\n            icon[0].setAttribute('width', shower.width());\n            icon[0].setAttribute('height', shower.height());\n            shower.children(':not(.flyout_arrow_horiz)').remove();\n            shower.append(icon).attr('data-curopt', options.sel); // This sets the current mode\n            return true;\n          };\n\n          $(this).mouseup(flyoutAction);\n\n          if (opts.key) {\n            $(document).bind('keydown', opts.key[0] + ' shift+' + opts.key[0], flyoutAction);\n          }\n          return true;\n        });\n\n      if (def) {\n        shower.attr('data-curopt', btnOpts[def].sel);\n      } else if (!shower.attr('data-curopt')) {\n        // Set first as default\n        shower.attr('data-curopt', btnOpts[0].sel);\n      }\n\n      let timer;\n\n      // Clicking the \"show\" icon should set the current mode\n      shower.mousedown(function (evt) {\n        if (shower.hasClass('disabled')) {\n          return false;\n        }\n        const holder = $(holdSel);\n        const pos = $(showSel).position();\n        const l = pos.left + 34;\n        const w = holder.width() * -1;\n        const time = holder.data('shown_popop') ? 200 : 0;\n        timer = setTimeout(function () {\n          // Show corresponding menu\n          if (!shower.data('isLibrary')) {\n            holder.css('left', w).show().animate({\n              left: l\n            }, 150);\n          } else {\n            holder.css('left', l).show();\n          }\n          holder.data('shown_popop', true);\n        }, time);\n        evt.preventDefault();\n        return true;\n      }).mouseup(function (evt) {\n        clearTimeout(timer);\n        const opt = $(this).attr('data-curopt');\n        // Is library and popped up, so do nothing\n        if (shower.data('isLibrary') && $(showSel.replace('_show', '')).is(':visible')) {\n          toolButtonClick(showSel, true);\n          return;\n        }\n        if (toolButtonClick(showSel) && flyoutFuncs[opt]) {\n          flyoutFuncs[opt]();\n        }\n      });\n      // $('#tools_rect').mouseleave(function () { $('#tools_rect').fadeOut(); });\n    });\n    setFlyoutTitles();\n    setFlyoutPositions();\n  };\n\n  /**\n  * @param {string} id\n  * @param {external:jQuery} child\n  * @returns {external:jQuery}\n  */\n  const makeFlyoutHolder = function (id, child) {\n    const div = $('<div>', {\n      class: 'tools_flyout',\n      id\n    }).appendTo('#svg_editor').append(child);\n\n    return div;\n  };\n\n  /**\n  * @param {string} elemSel\n  * @param {string} listSel\n  * @param {external:jQuery.Function} callback\n  * @param {PlainObject} opts\n  * @param {boolean} opts.dropUp\n  * @param {boolean} opts.seticon\n  * @param {boolean} opts.multiclick\n  * @todo Combine this with `addDropDown` or find other way to optimize.\n  * @returns {void}\n  */\n  const addAltDropDown = function (elemSel, listSel, callback, opts) {\n    const button = $(elemSel);\n    const {dropUp} = opts;\n    const list = $(listSel);\n    if (dropUp) {\n      $(elemSel).addClass('dropup');\n    }\n    list.find('li').bind('mouseup', function (...args) {\n      if (opts.seticon) {\n        setIcon('#cur_' + button[0].id, $(this).children());\n        $(this).addClass('current').siblings().removeClass('current');\n      }\n      callback.apply(this, ...args);\n    });\n\n    let onButton = false;\n    $(window).mouseup(function (evt) {\n      if (!onButton) {\n        button.removeClass('down');\n        list.hide();\n        list.css({top: 0, left: 0});\n      }\n      onButton = false;\n    });\n\n    // const height = list.height(); // Currently unused\n    button.bind('mousedown', function () {\n      const off = button.offset();\n      if (dropUp) {\n        off.top -= list.height();\n        off.left += 8;\n      } else {\n        off.top += button.height();\n      }\n      list.offset(off);\n\n      if (!button.hasClass('down')) {\n        list.show();\n        onButton = true;\n      } else {\n        // CSS position must be reset for Webkit\n        list.hide();\n        list.css({top: 0, left: 0});\n      }\n      button.toggleClass('down');\n    }).hover(function () {\n      onButton = true;\n    }).mouseout(function () {\n      onButton = false;\n    });\n\n    if (opts.multiclick) {\n      list.mousedown(function () {\n        onButton = true;\n      });\n    }\n  };\n\n  const extsPreLang = [];\n  /**\n   * @param {external:Window} win\n   * @param {module:svgcanvas.SvgCanvas#event:extension_added} ext\n   * @listens module:svgcanvas.SvgCanvas#event:extension_added\n   * @returns {Promise<void>|void} Resolves to `undefined`\n   */\n  const extAdded = async function (win, ext) {\n    if (!ext) {\n      return undefined;\n    }\n    let cbCalled = false;\n    let resizeDone = false;\n\n    if (ext.langReady) {\n      if (editor.langChanged) { // We check for this since the \"lang\" pref could have been set by storage\n        const lang = editor.pref('lang');\n        await ext.langReady({\n          lang,\n          uiStrings,\n          importLocale: getImportLocale({defaultLang: lang, defaultName: ext.name})\n        });\n        loadedExtensionNames.push(ext.name);\n      } else {\n        extsPreLang.push(ext);\n      }\n    }\n\n    /**\n     * Clear resize timer if present and if not previously performed,\n     *   perform an icon resize.\n     * @returns {void}\n     */\n    function prepResize () {\n      if (resizeTimer) {\n        clearTimeout(resizeTimer);\n        resizeTimer = null;\n      }\n      if (!resizeDone) {\n        resizeTimer = setTimeout(function () {\n          resizeDone = true;\n          setIconSize(editor.pref('iconsize'));\n        }, 50);\n      }\n    }\n\n    /**\n    *\n    * @returns {void}\n    */\n    const runCallback = function () {\n      if (ext.callback && !cbCalled) {\n        cbCalled = true;\n        ext.callback.call(editor);\n      }\n    };\n\n    const btnSelects = [];\n\n    /**\n    * @typedef {PlainObject} module:SVGEditor.ContextTool\n    * @property {string} panel The ID of the existing panel to which the tool is being added. Required.\n    * @property {string} id The ID of the actual tool element. Required.\n    * @property {PlainObject<string, external:jQuery.Function>|PlainObject<\"change\", external:jQuery.Function>} events DOM event names keyed to associated functions. Example: `{change () { alert('Option was changed') } }`. \"change\" event is one specifically handled for the \"button-select\" type. Required.\n    * @property {string} title The tooltip text that will appear when the user hovers over the tool. Required.\n    * @property {\"tool_button\"|\"select\"|\"button-select\"|\"input\"|string} type The type of tool being added. Expected.\n    * @property {PlainObject<string, string>} [options] List of options and their labels for select tools. Example: `{1: 'One', 2: 'Two', all: 'All' }`. Required by \"select\" tools.\n    * @property {string} [container_id] The ID to be given to the tool's container element.\n    * @property {string} [defval] Default value\n    * @property {string|Integer} [colnum] Added as part of the option list class.\n    * @property {string} [label] Label associated with the tool, visible in the UI\n    * @property {Integer} [size] Value of the \"size\" attribute of the tool input\n    * @property {module:jQuerySpinButton.SpinButtonConfig} [spindata] When added to a tool of type \"input\", this tool becomes a \"spinner\" which allows the number to be in/decreased.\n    */\n    if (ext.context_tools) {\n      $.each(ext.context_tools, function (i, tool) {\n        // Add select tool\n        const contId = tool.container_id ? (' id=\"' + tool.container_id + '\"') : '';\n\n        let panel = $('#' + tool.panel);\n        // create the panel if it doesn't exist\n        if (!panel.length) {\n          panel = $('<div>', {id: tool.panel}).appendTo('#tools_top');\n        }\n\n        let html;\n        // TODO: Allow support for other types, or adding to existing tool\n        switch (tool.type) {\n        case 'tool_button': {\n          html = '<div class=\"tool_button\">' + tool.id + '</div>';\n          const div = $(html).appendTo(panel);\n          if (tool.events) {\n            $.each(tool.events, function (evt, func) {\n              $(div).bind(evt, func);\n            });\n          }\n          break;\n        } case 'select': {\n          html = '<label' + contId + '>' +\n            '<select id=\"' + tool.id + '\">';\n          $.each(tool.options, function (val, text) {\n            const sel = (val === tool.defval) ? ' selected' : '';\n            html += '<option value=\"' + val + '\"' + sel + '>' + text + '</option>';\n          });\n          html += '</select></label>';\n          // Creates the tool, hides & adds it, returns the select element\n          const sel = $(html).appendTo(panel).find('select');\n\n          $.each(tool.events, function (evt, func) {\n            $(sel).bind(evt, func);\n          });\n          break;\n        } case 'button-select': {\n          html = '<div id=\"' + tool.id + '\" class=\"dropdown toolset\" title=\"' + tool.title + '\">' +\n            '<div id=\"cur_' + tool.id + '\" class=\"icon_label\"></div><button></button></div>';\n\n          const list = $('<ul id=\"' + tool.id + '_opts\"></ul>').appendTo('#option_lists');\n\n          if (tool.colnum) {\n            list.addClass('optcols' + tool.colnum);\n          }\n\n          // Creates the tool, hides & adds it, returns the select element\n          /* const dropdown = */ $(html).appendTo(panel).children();\n\n          btnSelects.push({\n            elem: ('#' + tool.id),\n            list: ('#' + tool.id + '_opts'),\n            title: tool.title,\n            callback: tool.events.change,\n            cur: ('#cur_' + tool.id)\n          });\n\n          break;\n        } case 'input': {\n          html = '<label' + contId + '>' +\n            '<span id=\"' + tool.id + '_label\">' +\n            tool.label + ':</span>' +\n            '<input id=\"' + tool.id + '\" title=\"' + tool.title +\n            '\" size=\"' + (tool.size || '4') +\n            '\" value=\"' + (tool.defval || '') + '\" type=\"text\"/></label>';\n\n          // Creates the tool, hides & adds it, returns the select element\n\n          // Add to given tool.panel\n          const inp = $(html).appendTo(panel).find('input');\n\n          if (tool.spindata) {\n            inp.SpinButton(tool.spindata);\n          }\n\n          if (tool.events) {\n            $.each(tool.events, function (evt, func) {\n              inp.bind(evt, func);\n            });\n          }\n          break;\n        } default:\n          break;\n        }\n      });\n    }\n\n    const {svgicons} = ext;\n    if (ext.buttons) {\n      const fallbackObj = {},\n        altsObj = {},\n        placementObj = {},\n        holders = {};\n\n      /**\n      * @typedef {GenericArray} module:SVGEditor.KeyArray\n      * @property {string} 0 The key to bind (on `keydown`)\n      * @property {boolean} 1 Whether to `preventDefault` on the `keydown` event\n      * @property {boolean} 2 Not apparently in use (NoDisableInInput)\n      */\n      /**\n       * @typedef {string|module:SVGEditor.KeyArray} module:SVGEditor.Key\n       */\n      /**\n      * @typedef {PlainObject} module:SVGEditor.Button\n      * @property {string} id A unique identifier for this button. If SVG icons are used, this must match the ID used in the icon file. Required.\n      * @property {\"mode_flyout\"|\"mode\"|\"context\"|\"app_menu\"} type Type of button. Required.\n      * @property {string} title The tooltip text that will appear when the user hovers over the icon. Required.\n      * @property {PlainObject<string, external:jQuery.Function>|PlainObject<\"click\", external:jQuery.Function>} events DOM event names with associated functions. Example: `{click () { alert('Button was clicked') } }`. Click is used with `includeWith` and `type` of \"mode_flyout\" (and \"mode\"); any events may be added if `list` is not present. Expected.\n      * @property {string} panel The ID of the context panel to be included, if type is \"context\". Required only if type is \"context\".\n      * @property {string} icon The file path to the raster version of the icon image source. Required only if no `svgicons` is supplied from [ExtensionInitResponse]{@link module:svgcanvas.ExtensionInitResponse}.\n      * @property {string} [svgicon] If absent, will utilize the button \"id\"; used to set \"placement\" on the `svgIcons` call\n      * @property {string} [list] Points to the \"id\" of a `context_tools` item of type \"button-select\" into which the button will be added as a panel list item\n      * @property {Integer} [position] The numeric index for placement; defaults to last position (as of the time of extension addition) if not present. For use with {@link http://api.jquery.com/eq/}.\n      * @property {boolean} [isDefault] Whether or not the button is the default. Used with `list`.\n      * @property {PlainObject} [includeWith] Object with flyout menu data\n      * @property {boolean} [includeWith.isDefault] Indicates whether button is default in flyout list or not.\n      * @property {string} includeWith.button jQuery selector of the existing button to be joined. Example: '#tool_line'. Required if `includeWith` is used.\n      * @property {\"last\"|Integer} [includeWith.position] Position of icon in flyout list; will be added to end if not indicated. Integer is for use with {@link http://api.jquery.com/eq/}.\n      * @property {module:SVGEditor.Key} [key] The key to bind to the button\n      */\n      // Add buttons given by extension\n      $.each(ext.buttons, function (i, /** @type {module:SVGEditor.Button} */ btn) {\n        let {id} = btn;\n        let num = i;\n        // Give button a unique ID\n        while ($('#' + id).length) {\n          id = btn.id + '_' + (++num);\n        }\n\n        let icon;\n        if (!svgicons) {\n          icon = $(\n            '<img src=\"' + btn.icon +\n              (btn.title ? '\" alt=\"' + btn.title : '') +\n              '\">'\n          );\n        } else {\n          fallbackObj[id] = btn.icon;\n          altsObj[id] = btn.title;\n          const svgicon = btn.svgicon || btn.id;\n          if (btn.type === 'app_menu') {\n            placementObj['#' + id + ' > div'] = svgicon;\n          } else {\n            placementObj['#' + id] = svgicon;\n          }\n        }\n\n        let cls, parent;\n\n        // Set button up according to its type\n        switch (btn.type) {\n        case 'mode_flyout':\n        case 'mode':\n          cls = 'tool_button';\n          parent = '#tools_left';\n          break;\n        case 'context':\n          cls = 'tool_button';\n          parent = '#' + btn.panel;\n          // create the panel if it doesn't exist\n          if (!$(parent).length) {\n            $('<div>', {id: btn.panel}).appendTo('#tools_top');\n          }\n          break;\n        case 'app_menu':\n          cls = '';\n          parent = '#main_menu ul';\n          break;\n        }\n        let flyoutHolder, showBtn, refData, refBtn;\n        const button = $((btn.list || btn.type === 'app_menu') ? '<li/>' : '<div/>')\n          .attr('id', id)\n          .attr('title', btn.title)\n          .addClass(cls);\n        if (!btn.includeWith && !btn.list) {\n          if ('position' in btn) {\n            if ($(parent).children().eq(btn.position).length) {\n              $(parent).children().eq(btn.position).before(button);\n            } else {\n              $(parent).children().last().after(button);\n            }\n          } else {\n            button.appendTo(parent);\n          }\n\n          if (btn.type === 'mode_flyout') {\n          // Add to flyout menu / make flyout menu\n            // const opts = btn.includeWith;\n            // // opts.button, default, position\n            refBtn = $(button);\n\n            flyoutHolder = refBtn.parent();\n            // Create a flyout menu if there isn't one already\n            let tlsId;\n            if (!refBtn.parent().hasClass('tools_flyout')) {\n              // Create flyout placeholder\n              tlsId = refBtn[0].id.replace('tool_', 'tools_');\n              showBtn = refBtn.clone()\n                .attr('id', tlsId + '_show')\n                .append($('<div>', {class: 'flyout_arrow_horiz'}));\n\n              refBtn.before(showBtn);\n\n              // Create a flyout div\n              flyoutHolder = makeFlyoutHolder(tlsId, refBtn);\n              flyoutHolder.data('isLibrary', true);\n              showBtn.data('isLibrary', true);\n            }\n            // refData = Actions.getButtonData(opts.button);\n\n            placementObj['#' + tlsId + '_show'] = btn.id;\n            // TODO: Find way to set the current icon using the iconloader if this is not default\n\n            // Include data for extension button as well as ref button\n            /* curH = */ holders['#' + flyoutHolder[0].id] = [{\n              sel: '#' + id,\n              fn: btn.events.click,\n              icon: btn.id,\n              // key: btn.key,\n              isDefault: true\n            }]; // , refData\n            //\n            // // {sel:'#tool_rect', fn: clickRect, evt: 'mouseup', key: 4, parent: '#tools_rect', icon: 'rect'}\n            //\n            // const pos = ('position' in opts)?opts.position:'last';\n            // const len = flyoutHolder.children().length;\n            //\n            // // Add at given position or end\n            // if (!isNaN(pos) && pos >= 0 && pos < len) {\n            //   flyoutHolder.children().eq(pos).before(button);\n            // } else {\n            //   flyoutHolder.append(button);\n            //   curH.reverse();\n            // }\n          } else if (btn.type === 'app_menu') {\n            button.append('<div>').append(btn.title);\n          }\n        } else if (btn.list) {\n          // Add button to list\n          button.addClass('push_button');\n          $('#' + btn.list + '_opts').append(button);\n          if (btn.isDefault) {\n            $('#cur_' + btn.list).append(button.children().clone());\n            const svgicon = btn.svgicon || btn.id;\n            placementObj['#cur_' + btn.list] = svgicon;\n          }\n        } else if (btn.includeWith) {\n          // Add to flyout menu / make flyout menu\n          const opts = btn.includeWith;\n          // opts.button, default, position\n          refBtn = $(opts.button);\n\n          flyoutHolder = refBtn.parent();\n          // Create a flyout menu if there isn't one already\n          let tlsId;\n          if (!refBtn.parent().hasClass('tools_flyout')) {\n            // Create flyout placeholder\n            tlsId = refBtn[0].id.replace('tool_', 'tools_');\n            showBtn = refBtn.clone()\n              .attr('id', tlsId + '_show')\n              .append($('<div>', {class: 'flyout_arrow_horiz'}));\n\n            refBtn.before(showBtn);\n            // Create a flyout div\n            flyoutHolder = makeFlyoutHolder(tlsId, refBtn);\n          }\n\n          refData = Actions.getButtonData(opts.button);\n\n          if (opts.isDefault) {\n            placementObj['#' + tlsId + '_show'] = btn.id;\n          }\n          // TODO: Find way to set the current icon using the iconloader if this is not default\n\n          // Include data for extension button as well as ref button\n          const curH = holders['#' + flyoutHolder[0].id] = [{\n            sel: '#' + id,\n            fn: btn.events.click,\n            icon: btn.id,\n            key: btn.key,\n            isDefault: Boolean(btn.includeWith && btn.includeWith.isDefault)\n          }, refData];\n\n          // {sel:'#tool_rect', fn: clickRect, evt: 'mouseup', key: 4, parent: '#tools_rect', icon: 'rect'}\n\n          const pos = ('position' in opts) ? opts.position : 'last';\n          const len = flyoutHolder.children().length;\n\n          // Add at given position or end\n          if (!isNaN(pos) && pos >= 0 && pos < len) {\n            flyoutHolder.children().eq(pos).before(button);\n          } else {\n            flyoutHolder.append(button);\n            curH.reverse();\n          }\n        }\n\n        if (!svgicons) {\n          button.append(icon);\n        }\n\n        if (!btn.list) {\n          // Add given events to button\n          $.each(btn.events, function (name, func) {\n            if (name === 'click' && btn.type === 'mode') {\n              // `touch.js` changes `touchstart` to `mousedown`,\n              //   so we must map extension click events as well\n              if (isTouch() && name === 'click') {\n                name = 'mousedown';\n              }\n              if (btn.includeWith) {\n                button.bind(name, func);\n              } else {\n                button.bind(name, function () {\n                  if (toolButtonClick(button)) {\n                    func();\n                  }\n                });\n              }\n              if (btn.key) {\n                $(document).bind('keydown', btn.key, func);\n                if (btn.title) {\n                  button.attr('title', btn.title + ' [' + btn.key + ']');\n                }\n              }\n            } else {\n              button.bind(name, func);\n            }\n          });\n        }\n\n        setupFlyouts(holders);\n      });\n\n      $.each(btnSelects, function () {\n        addAltDropDown(this.elem, this.list, this.callback, {seticon: true});\n      });\n\n      if (svgicons) {\n        return new Promise((resolve, reject) => { // eslint-disable-line promise/avoid-new\n          $.svgIcons(svgicons, {\n            w: 24, h: 24,\n            id_match: false,\n            no_img: (!isWebkit()),\n            fallback: fallbackObj,\n            placement: placementObj,\n            callback (icons) {\n              // Non-ideal hack to make the icon match the current size\n              // if (curPrefs.iconsize && curPrefs.iconsize !== 'm') {\n              if (editor.pref('iconsize') !== 'm') {\n                prepResize();\n              }\n              runCallback();\n              resolve();\n            }\n          });\n        });\n      }\n    }\n    return runCallback();\n  };\n\n  /**\n  * @param {string} color\n  * @param {Float} opac\n  * @param {string} type\n  * @returns {module:jGraduate~Paint}\n  */\n  const getPaint = function (color, opac, type) {\n    // update the editor's fill paint\n    const opts = {alpha: opac};\n    if (color.startsWith('url(#')) {\n      let refElem = svgCanvas.getRefElem(color);\n      if (refElem) {\n        refElem = refElem.cloneNode(true);\n      } else {\n        refElem = $('#' + type + '_color defs *')[0];\n      }\n      opts[refElem.tagName] = refElem;\n    } else if (color.startsWith('#')) {\n      opts.solidColor = color.substr(1);\n    } else {\n      opts.solidColor = 'none';\n    }\n    return new $.jGraduate.Paint(opts);\n  };\n\n  // $('#text').focus(function () { textBeingEntered = true; });\n  // $('#text').blur(function () { textBeingEntered = false; });\n\n  // bind the selected event to our function that handles updates to the UI\n  svgCanvas.bind('selected', selectedChanged);\n  svgCanvas.bind('transition', elementTransition);\n  svgCanvas.bind('changed', elementChanged);\n  svgCanvas.bind('saved', saveHandler);\n  svgCanvas.bind('exported', exportHandler);\n  svgCanvas.bind('exportedPDF', function (win, data) {\n    if (!data.output) { // Ignore Chrome\n      return;\n    }\n    const {exportWindowName} = data;\n    if (exportWindowName) {\n      exportWindow = window.open('', exportWindowName); // A hack to get the window via JSON-able name without opening a new one\n    }\n    if (!exportWindow || exportWindow.closed) {\n      /* await */ $.alert(uiStrings.notification.popupWindowBlocked);\n      return;\n    }\n    exportWindow.location.href = data.output;\n  });\n  svgCanvas.bind('zoomed', zoomChanged);\n  svgCanvas.bind('zoomDone', zoomDone);\n  svgCanvas.bind(\n    'updateCanvas',\n    /**\n     * @param {external:Window} win\n     * @param {PlainObject} centerInfo\n     * @param {false} centerInfo.center\n     * @param {module:math.XYObject} centerInfo.newCtr\n     * @listens module:svgcanvas.SvgCanvas#event:updateCanvas\n     * @returns {void}\n     */\n    function (win, {center, newCtr}) {\n      updateCanvas(center, newCtr);\n    }\n  );\n  svgCanvas.bind('contextset', contextChanged);\n  svgCanvas.bind('extension_added', extAdded);\n  svgCanvas.textActions.setInputElem($('#text')[0]);\n\n  let str = '<div class=\"palette_item\" data-rgb=\"none\"></div>';\n  $.each(palette, function (i, item) {\n    str += '<div class=\"palette_item\" style=\"background-color: ' + item +\n      ';\" data-rgb=\"' + item + '\"></div>';\n  });\n  $('#palette').append(str);\n\n  // Set up editor background functionality\n  const colorBlocks = ['#FFF', '#888', '#000', 'chessboard'];\n  str = '';\n  $.each(colorBlocks, function (i, e) {\n    if (e === 'chessboard') {\n      str += '<div class=\"color_block\" data-bgcolor=\"' + e +\n        '\" style=\"background-image:url(data:image/gif;base64,' +\n        'R0lGODlhEAAQAIAAAP///9bW1iH5BAAAAAAALAAAAAAQABAAAAIfjG+' +\n        'gq4jM3IFLJgpswNly/XkcBpIiVaInlLJr9FZWAQA7);\"></div>';\n    } else {\n      str += '<div class=\"color_block\" data-bgcolor=\"' + e + '\" style=\"background-color:' + e + ';\"></div>';\n    }\n  });\n  $('#bg_blocks').append(str);\n  const blocks = $('#bg_blocks div');\n  const curBg = 'cur_background';\n  blocks.each(function () {\n    const blk = $(this);\n    blk.click(function () {\n      blocks.removeClass(curBg);\n      $(this).addClass(curBg);\n    });\n  });\n\n  setBackground(editor.pref('bkgd_color'), editor.pref('bkgd_url'));\n\n  $('#image_save_opts input').val([editor.pref('img_save')]);\n\n  /**\n  * @type {module:jQuerySpinButton.ValueCallback}\n  */\n  const changeRectRadius = function (ctl) {\n    svgCanvas.setRectRadius(ctl.value);\n  };\n\n  /**\n  * @type {module:jQuerySpinButton.ValueCallback}\n  */\n  const changeFontSize = function (ctl) {\n    svgCanvas.setFontSize(ctl.value);\n  };\n\n  /**\n  * @type {module:jQuerySpinButton.ValueCallback}\n  */\n  const changeStrokeWidth = function (ctl) {\n    let val = ctl.value;\n    if (val === 0 && selectedElement && ['line', 'polyline'].includes(selectedElement.nodeName)) {\n      val = ctl.value = 1;\n    }\n    svgCanvas.setStrokeWidth(val);\n  };\n\n  /**\n  * @type {module:jQuerySpinButton.ValueCallback}\n  */\n  const changeRotationAngle = function (ctl) {\n    svgCanvas.setRotationAngle(ctl.value);\n    $('#tool_reorient').toggleClass('disabled', Number.parseInt(ctl.value) === 0);\n  };\n\n  /**\n  * @param {external:jQuery.fn.SpinButton} ctl Spin Button\n  * @param {string} [val=ctl.value]\n  * @returns {void}\n  */\n  const changeOpacity = function (ctl, val) {\n    if (Utils.isNullish(val)) { val = ctl.value; }\n    $('#group_opacity').val(val);\n    if (!ctl || !ctl.handle) {\n      $('#opac_slider').slider('option', 'value', val);\n    }\n    svgCanvas.setOpacity(val / 100);\n  };\n\n  /**\n  * @param {external:jQuery.fn.SpinButton} ctl Spin Button\n  * @param {string} [val=ctl.value]\n  * @param {boolean} noUndo\n  * @returns {void}\n  */\n  const changeBlur = function (ctl, val, noUndo) {\n    if (Utils.isNullish(val)) { val = ctl.value; }\n    $('#blur').val(val);\n    let complete = false;\n    if (!ctl || !ctl.handle) {\n      $('#blur_slider').slider('option', 'value', val);\n      complete = true;\n    }\n    if (noUndo) {\n      svgCanvas.setBlurNoUndo(val);\n    } else {\n      svgCanvas.setBlur(val, complete);\n    }\n  };\n\n  $('#stroke_style').change(function () {\n    svgCanvas.setStrokeAttr('stroke-dasharray', $(this).val());\n    operaRepaint();\n  });\n\n  $('#stroke_linejoin').change(function () {\n    svgCanvas.setStrokeAttr('stroke-linejoin', $(this).val());\n    operaRepaint();\n  });\n\n  // Lose focus for select elements when changed (Allows keyboard shortcuts to work better)\n  $('select').change(function () { $(this).blur(); });\n\n  // fired when user wants to move elements to another layer\n  let promptMoveLayerOnce = false;\n  $('#selLayerNames').change(async function () {\n    const destLayer = this.options[this.selectedIndex].value;\n    const confirmStr = uiStrings.notification.QmoveElemsToLayer.replace('%s', destLayer);\n    /**\n    * @param {boolean} ok\n    * @returns {void}\n    */\n    const moveToLayer = function (ok) {\n      if (!ok) { return; }\n      promptMoveLayerOnce = true;\n      svgCanvas.moveSelectedToLayer(destLayer);\n      svgCanvas.clearSelection();\n      populateLayers();\n    };\n    if (destLayer) {\n      if (promptMoveLayerOnce) {\n        moveToLayer(true);\n      } else {\n        const ok = await $.confirm(confirmStr);\n        if (!ok) {\n          return;\n        }\n        moveToLayer(true);\n      }\n    }\n  });\n\n  $('#font_family').change(function () {\n    svgCanvas.setFontFamily(this.value);\n  });\n\n  $('#seg_type').change(function () {\n    svgCanvas.setSegType($(this).val());\n  });\n\n  $('#text').bind('keyup input', function () {\n    svgCanvas.setTextContent(this.value);\n  });\n\n  $('#image_url').change(function () {\n    setImageURL(this.value);\n  });\n\n  $('#link_url').change(function () {\n    if (this.value.length) {\n      svgCanvas.setLinkURL(this.value);\n    } else {\n      svgCanvas.removeHyperlink();\n    }\n  });\n\n  $('#g_title').change(function () {\n    svgCanvas.setGroupTitle(this.value);\n  });\n\n  $('.attr_changer').change(function () {\n    const attr = this.getAttribute('data-attr');\n    let val = this.value;\n    const valid = isValidUnit(attr, val, selectedElement);\n\n    if (!valid) {\n      this.value = selectedElement.getAttribute(attr);\n      /* await */ $.alert(uiStrings.notification.invalidAttrValGiven);\n      return false;\n    }\n\n    if (attr !== 'id' && attr !== 'class') {\n      if (isNaN(val)) {\n        val = svgCanvas.convertToNum(attr, val);\n      } else if (curConfig.baseUnit !== 'px') {\n        // Convert unitless value to one with given unit\n\n        const unitData = getTypeMap();\n\n        if (selectedElement[attr] || svgCanvas.getMode() === 'pathedit' || attr === 'x' || attr === 'y') {\n          val *= unitData[curConfig.baseUnit];\n        }\n      }\n    }\n\n    // if the user is changing the id, then de-select the element first\n    // change the ID, then re-select it with the new ID\n    if (attr === 'id') {\n      const elem = selectedElement;\n      svgCanvas.clearSelection();\n      elem.id = val;\n      svgCanvas.addToSelection([elem], true);\n    } else {\n      svgCanvas.changeSelectedAttribute(attr, val);\n    }\n    this.blur();\n    return true;\n  });\n\n  // Prevent selection of elements when shift-clicking\n  $('#palette').mouseover(function () {\n    const inp = $('<input type=\"hidden\">');\n    $(this).append(inp);\n    inp.focus().remove();\n  });\n\n  $('.palette_item').mousedown(function (evt) {\n    // shift key or right click for stroke\n    const picker = evt.shiftKey || evt.button === 2 ? 'stroke' : 'fill';\n    let color = $(this).data('rgb');\n    let paint;\n\n    // Webkit-based browsers returned 'initial' here for no stroke\n    if (color === 'none' || color === 'transparent' || color === 'initial') {\n      color = 'none';\n      paint = new $.jGraduate.Paint();\n    } else {\n      paint = new $.jGraduate.Paint({alpha: 100, solidColor: color.substr(1)});\n    }\n\n    paintBox[picker].setPaint(paint);\n    svgCanvas.setColor(picker, color);\n\n    if (color !== 'none' && svgCanvas.getPaintOpacity(picker) !== 1) {\n      svgCanvas.setPaintOpacity(picker, 1.0);\n    }\n    updateToolButtonState();\n  }).bind('contextmenu', function (e) { e.preventDefault(); });\n\n  $('#toggle_stroke_tools').on('click', function () {\n    $('#tools_bottom').toggleClass('expanded');\n  });\n\n  (function () {\n    const wArea = workarea[0];\n\n    let lastX = null, lastY = null,\n      panning = false, keypan = false;\n\n    $('#svgcanvas').bind('mousemove mouseup', function (evt) {\n      if (panning === false) { return true; }\n\n      wArea.scrollLeft -= (evt.clientX - lastX);\n      wArea.scrollTop -= (evt.clientY - lastY);\n\n      lastX = evt.clientX;\n      lastY = evt.clientY;\n\n      if (evt.type === 'mouseup') { panning = false; }\n      return false;\n    }).mousedown(function (evt) {\n      if (evt.button === 1 || keypan === true) {\n        panning = true;\n        lastX = evt.clientX;\n        lastY = evt.clientY;\n        return false;\n      }\n      return true;\n    });\n\n    $(window).mouseup(function () {\n      panning = false;\n    });\n\n    $(document).bind('keydown', 'space', function (evt) {\n      svgCanvas.spaceKey = keypan = true;\n      evt.preventDefault();\n    }).bind('keyup', 'space', function (evt) {\n      evt.preventDefault();\n      svgCanvas.spaceKey = keypan = false;\n    }).bind('keydown', 'shift', function (evt) {\n      if (svgCanvas.getMode() === 'zoom') {\n        workarea.css('cursor', zoomOutIcon);\n      }\n    }).bind('keyup', 'shift', function (evt) {\n      if (svgCanvas.getMode() === 'zoom') {\n        workarea.css('cursor', zoomInIcon);\n      }\n    });\n\n    /**\n     * @function module:SVGEditor.setPanning\n     * @param {boolean} active\n     * @returns {void}\n     */\n    editor.setPanning = function (active) {\n      svgCanvas.spaceKey = keypan = active;\n    };\n  }());\n\n  (function () {\n    const button = $('#main_icon');\n    const overlay = $('#main_icon span');\n    const list = $('#main_menu');\n\n    let onButton = false;\n    let height = 0;\n    let jsHover = true;\n    let setClick = false;\n\n    /*\n    // Currently unused\n    const hideMenu = function () {\n      list.fadeOut(200);\n    };\n    */\n\n    $(window).mouseup(function (evt) {\n      if (!onButton) {\n        button.removeClass('buttondown');\n        // do not hide if it was the file input as that input needs to be visible\n        // for its change event to fire\n        if (evt.target.tagName !== 'INPUT') {\n          list.fadeOut(200);\n        } else if (!setClick) {\n          setClick = true;\n          $(evt.target).click(function () {\n            list.css('margin-left', '-9999px').show();\n          });\n        }\n      }\n      onButton = false;\n    }).mousedown(function (evt) {\n      // $('.contextMenu').hide();\n      const islib = $(evt.target).closest('div.tools_flyout, .contextMenu').length;\n      if (!islib) {\n        $('.tools_flyout:visible,.contextMenu').fadeOut(250);\n      }\n    });\n\n    overlay.bind('mousedown', function () {\n      if (!button.hasClass('buttondown')) {\n        // Margin must be reset in case it was changed before;\n        list.css('margin-left', 0).show();\n        if (!height) {\n          height = list.height();\n        }\n        // Using custom animation as slideDown has annoying 'bounce effect'\n        list.css('height', 0).animate({\n          height\n        }, 200);\n        onButton = true;\n      } else {\n        list.fadeOut(200);\n      }\n      button.toggleClass('buttondown buttonup');\n    }).hover(function () {\n      onButton = true;\n    }).mouseout(function () {\n      onButton = false;\n    });\n\n    const listItems = $('#main_menu li');\n\n    // Check if JS method of hovering needs to be used (Webkit bug)\n    listItems.mouseover(function () {\n      jsHover = ($(this).css('background-color') === 'rgba(0, 0, 0, 0)');\n\n      listItems.unbind('mouseover');\n      if (jsHover) {\n        listItems.mouseover(function () {\n          this.style.backgroundColor = '#FFC';\n        }).mouseout(function () {\n          this.style.backgroundColor = 'transparent';\n          return true;\n        });\n      }\n    });\n  }());\n  // Made public for UI customization.\n  // TODO: Group UI functions into a public editor.ui interface.\n  /**\n   * See {@link http://api.jquery.com/bind/#bind-eventType-eventData-handler}.\n   * @callback module:SVGEditor.DropDownCallback\n   * @param {external:jQuery.Event} ev See {@link http://api.jquery.com/Types/#Event}\n   * @listens external:jQuery.Event\n   * @returns {void|boolean} Calls `preventDefault()` and `stopPropagation()`\n  */\n  /**\n   * @function module:SVGEditor.addDropDown\n   * @param {Element|string} elem DOM Element or selector\n   * @param {module:SVGEditor.DropDownCallback} callback Mouseup callback\n   * @param {boolean} dropUp\n   * @returns {void}\n  */\n  editor.addDropDown = function (elem, callback, dropUp) {\n    if (!$(elem).length) { return; } // Quit if called on non-existent element\n    const button = $(elem).find('button');\n    const list = $(elem).find('ul').attr('id', $(elem)[0].id + '-list');\n    if (dropUp) {\n      $(elem).addClass('dropup');\n    } else {\n      // Move list to place where it can overflow container\n      $('#option_lists').append(list);\n    }\n    list.find('li').bind('mouseup', callback);\n\n    let onButton = false;\n    $(window).mouseup(function (evt) {\n      if (!onButton) {\n        button.removeClass('down');\n        list.hide();\n      }\n      onButton = false;\n    });\n\n    button.bind('mousedown', function () {\n      if (!button.hasClass('down')) {\n        if (!dropUp) {\n          const pos = $(elem).position();\n          list.css({\n            top: pos.top + 24,\n            left: pos.left - 10\n          });\n        }\n        list.show();\n        onButton = true;\n      } else {\n        list.hide();\n      }\n      button.toggleClass('down');\n    }).hover(function () {\n      onButton = true;\n    }).mouseout(function () {\n      onButton = false;\n    });\n  };\n\n  editor.addDropDown('#font_family_dropdown', function () {\n    $('#font_family').val($(this).text()).change();\n  });\n\n  editor.addDropDown('#opacity_dropdown', function () {\n    if ($(this).find('div').length) { return; }\n    const perc = Number.parseInt($(this).text().split('%')[0]);\n    changeOpacity(false, perc);\n  }, true);\n\n  // For slider usage, see: http://jqueryui.com/demos/slider/\n  $('#opac_slider').slider({\n    start () {\n      $('#opacity_dropdown li:not(.special)').hide();\n    },\n    stop () {\n      $('#opacity_dropdown li').show();\n      $(window).mouseup();\n    },\n    slide (evt, ui) {\n      changeOpacity(ui);\n    }\n  });\n\n  editor.addDropDown('#blur_dropdown', $.noop);\n\n  let slideStart = false;\n  $('#blur_slider').slider({\n    max: 10,\n    step: 0.1,\n    stop (evt, ui) {\n      slideStart = false;\n      changeBlur(ui);\n      $('#blur_dropdown li').show();\n      $(window).mouseup();\n    },\n    start () {\n      slideStart = true;\n    },\n    slide (evt, ui) {\n      changeBlur(ui, null, slideStart);\n    }\n  });\n\n  editor.addDropDown('#zoom_dropdown', function () {\n    const item = $(this);\n    const val = item.data('val');\n    if (val) {\n      zoomChanged(window, val);\n    } else {\n      changeZoom({value: Number.parseFloat(item.text())});\n    }\n  }, true);\n\n  addAltDropDown('#stroke_linecap', '#linecap_opts', function () {\n    setStrokeOpt(this, true);\n  }, {dropUp: true});\n\n  addAltDropDown('#stroke_linejoin', '#linejoin_opts', function () {\n    setStrokeOpt(this, true);\n  }, {dropUp: true});\n\n  addAltDropDown('#tool_position', '#position_opts', function () {\n    const letter = this.id.replace('tool_pos', '').charAt(0);\n    svgCanvas.alignSelectedElements(letter, 'page');\n  }, {multiclick: true});\n\n  /*\n\n  When a flyout icon is selected\n    (if flyout) {\n    - Change the icon\n    - Make pressing the button run its stuff\n    }\n    - Run its stuff\n\n  When its shortcut key is pressed\n    - If not current in list, do as above\n    , else:\n    - Just run its stuff\n\n  */\n\n  // Unfocus text input when workarea is mousedowned.\n  (function () {\n    let inp;\n    /**\n    *\n    * @returns {void}\n    */\n    const unfocus = function () {\n      $(inp).blur();\n    };\n\n    $('#svg_editor').find('button, select, input:not(#text)').focus(function () {\n      inp = this;\n      uiContext = 'toolbars';\n      workarea.mousedown(unfocus);\n    }).blur(function () {\n      uiContext = 'canvas';\n      workarea.unbind('mousedown', unfocus);\n      // Go back to selecting text if in textedit mode\n      if (svgCanvas.getMode() === 'textedit') {\n        $('#text').focus();\n      }\n    });\n  }());\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickFHPath = function () {\n    if (toolButtonClick('#tool_fhpath')) {\n      svgCanvas.setMode('fhpath');\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickLine = function () {\n    if (toolButtonClick('#tool_line')) {\n      svgCanvas.setMode('line');\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickSquare = function () {\n    if (toolButtonClick('#tool_square')) {\n      svgCanvas.setMode('square');\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickRect = function () {\n    if (toolButtonClick('#tool_rect')) {\n      svgCanvas.setMode('rect');\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickFHRect = function () {\n    if (toolButtonClick('#tool_fhrect')) {\n      svgCanvas.setMode('fhrect');\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickCircle = function () {\n    if (toolButtonClick('#tool_circle')) {\n      svgCanvas.setMode('circle');\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickEllipse = function () {\n    if (toolButtonClick('#tool_ellipse')) {\n      svgCanvas.setMode('ellipse');\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickFHEllipse = function () {\n    if (toolButtonClick('#tool_fhellipse')) {\n      svgCanvas.setMode('fhellipse');\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickImage = function () {\n    if (toolButtonClick('#tool_image')) {\n      svgCanvas.setMode('image');\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickZoom = function () {\n    if (toolButtonClick('#tool_zoom')) {\n      svgCanvas.setMode('zoom');\n      workarea.css('cursor', zoomInIcon);\n    }\n  };\n\n  /**\n  * @param {Float} multiplier\n  * @returns {void}\n  */\n  const zoomImage = function (multiplier) {\n    const res = svgCanvas.getResolution();\n    multiplier = multiplier ? res.zoom * multiplier : 1;\n    // setResolution(res.w * multiplier, res.h * multiplier, true);\n    $('#zoom').val(multiplier * 100);\n    svgCanvas.setZoom(multiplier);\n    zoomDone();\n    updateCanvas(true);\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const dblclickZoom = function () {\n    if (toolButtonClick('#tool_zoom')) {\n      zoomImage();\n      setSelectMode();\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickText = function () {\n    if (toolButtonClick('#tool_text')) {\n      svgCanvas.setMode('text');\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickPath = function () {\n    if (toolButtonClick('#tool_path')) {\n      svgCanvas.setMode('path');\n    }\n  };\n\n  /**\n  * Delete is a contextual tool that only appears in the ribbon if\n  * an element has been selected.\n  * @returns {void}\n  */\n  const deleteSelected = function () {\n    if (!Utils.isNullish(selectedElement) || multiselected) {\n      svgCanvas.deleteSelectedElements();\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const cutSelected = function () {\n    if (!Utils.isNullish(selectedElement) || multiselected) {\n      svgCanvas.cutSelectedElements();\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const copySelected = function () {\n    if (!Utils.isNullish(selectedElement) || multiselected) {\n      svgCanvas.copySelectedElements();\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const pasteInCenter = function () {\n    const zoom = svgCanvas.getZoom();\n    const x = (workarea[0].scrollLeft + workarea.width() / 2) / zoom - svgCanvas.contentW;\n    const y = (workarea[0].scrollTop + workarea.height() / 2) / zoom - svgCanvas.contentH;\n    svgCanvas.pasteElements('point', x, y);\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const moveToTopSelected = function () {\n    if (!Utils.isNullish(selectedElement)) {\n      svgCanvas.moveToTopSelectedElement();\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const moveToBottomSelected = function () {\n    if (!Utils.isNullish(selectedElement)) {\n      svgCanvas.moveToBottomSelectedElement();\n    }\n  };\n\n  /**\n  * @param {\"Up\"|\"Down\"} dir\n  * @returns {void}\n  */\n  const moveUpDownSelected = function (dir) {\n    if (!Utils.isNullish(selectedElement)) {\n      svgCanvas.moveUpDownSelected(dir);\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const convertToPath = function () {\n    if (!Utils.isNullish(selectedElement)) {\n      svgCanvas.convertToPath();\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const reorientPath = function () {\n    if (!Utils.isNullish(selectedElement)) {\n      path.reorient();\n    }\n  };\n\n  /**\n  *\n  * @returns {Promise<void>} Resolves to `undefined`\n  */\n  const makeHyperlink = async function () {\n    if (!Utils.isNullish(selectedElement) || multiselected) {\n      const url = await $.prompt(uiStrings.notification.enterNewLinkURL, 'http://');\n      if (url) {\n        svgCanvas.makeHyperlink(url);\n      }\n    }\n  };\n\n  /**\n  * @param {Float} dx\n  * @param {Float} dy\n  * @returns {void}\n  */\n  const moveSelected = function (dx, dy) {\n    if (!Utils.isNullish(selectedElement) || multiselected) {\n      if (curConfig.gridSnapping) {\n        // Use grid snap value regardless of zoom level\n        const multi = svgCanvas.getZoom() * curConfig.snappingStep;\n        dx *= multi;\n        dy *= multi;\n      }\n      svgCanvas.moveSelectedElements(dx, dy);\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const linkControlPoints = function () {\n    $('#tool_node_link').toggleClass('push_button_pressed tool_button');\n    const linked = $('#tool_node_link').hasClass('push_button_pressed');\n    path.linkControlPoints(linked);\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clonePathNode = function () {\n    if (path.getNodePoint()) {\n      path.clonePathNode();\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const deletePathNode = function () {\n    if (path.getNodePoint()) {\n      path.deletePathNode();\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const addSubPath = function () {\n    const button = $('#tool_add_subpath');\n    const sp = !button.hasClass('push_button_pressed');\n    button.toggleClass('push_button_pressed tool_button');\n    path.addSubPath(sp);\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const opencloseSubPath = function () {\n    path.opencloseSubPath();\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const selectNext = function () {\n    svgCanvas.cycleElement(1);\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const selectPrev = function () {\n    svgCanvas.cycleElement(0);\n  };\n\n  /**\n  * @param {0|1} cw\n  * @param {Integer} step\n  * @returns {void}\n  */\n  const rotateSelected = function (cw, step) {\n    if (Utils.isNullish(selectedElement) || multiselected) { return; }\n    if (!cw) { step *= -1; }\n    const angle = Number.parseFloat($('#angle').val()) + step;\n    svgCanvas.setRotationAngle(angle);\n    updateContextPanel();\n  };\n\n  /**\n   * @fires module:svgcanvas.SvgCanvas#event:ext_onNewDocument\n   * @returns {Promise<void>} Resolves to `undefined`\n   */\n  const clickClear = async function () {\n    const [x, y] = curConfig.dimensions;\n    const ok = await $.confirm(uiStrings.notification.QwantToClear);\n    if (!ok) {\n      return;\n    }\n    setSelectMode();\n    svgCanvas.clear();\n    svgCanvas.setResolution(x, y);\n    updateCanvas(true);\n    zoomImage();\n    populateLayers();\n    updateContextPanel();\n    prepPaints();\n    svgCanvas.runExtensions('onNewDocument');\n  };\n\n  /**\n  *\n  * @returns {false}\n  */\n  const clickBold = function () {\n    svgCanvas.setBold(!svgCanvas.getBold());\n    updateContextPanel();\n    return false;\n  };\n\n  /**\n  *\n  * @returns {false}\n  */\n  const clickItalic = function () {\n    svgCanvas.setItalic(!svgCanvas.getItalic());\n    updateContextPanel();\n    return false;\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickSave = function () {\n    // In the future, more options can be provided here\n    const saveOpts = {\n      images: editor.pref('img_save'),\n      round_digits: 6\n    };\n    svgCanvas.save(saveOpts);\n  };\n\n  let loadingURL;\n  /**\n  *\n  * @returns {Promise<void>} Resolves to `undefined`\n  */\n  const clickExport = async function () {\n    const imgType = await $.select('Select an image type for export: ', [\n      // See http://kangax.github.io/jstests/toDataUrl_mime_type_test/ for a useful list of MIME types and browser support\n      // 'ICO', // Todo: Find a way to preserve transparency in SVG-Edit if not working presently and do full packaging for x-icon; then switch back to position after 'PNG'\n      'PNG',\n      'JPEG', 'BMP', 'WEBP', 'PDF'\n    ], function () {\n      const sel = $(this);\n      if (sel.val() === 'JPEG' || sel.val() === 'WEBP') {\n        if (!$('#image-slider').length) {\n          $(`<div><label>${uiStrings.ui.quality}\n              <input id=\"image-slider\"\n                type=\"range\" min=\"1\" max=\"100\" value=\"92\" />\n            </label></div>`).appendTo(sel.parent());\n        }\n      } else {\n        $('#image-slider').parent().remove();\n      }\n    }); // todo: replace hard-coded msg with uiStrings.notification.\n    if (!imgType) {\n      return;\n    }\n    // Open placeholder window (prevents popup)\n    let exportWindowName;\n\n    /**\n     *\n     * @returns {void}\n     */\n    function openExportWindow () {\n      const {loadingImage} = uiStrings.notification;\n      if (curConfig.exportWindowType === 'new') {\n        editor.exportWindowCt++;\n      }\n      exportWindowName = curConfig.canvasName + editor.exportWindowCt;\n      let popHTML, popURL;\n      if (loadingURL) {\n        popURL = loadingURL;\n      } else {\n        popHTML = `<!DOCTYPE html><html>\n          <head>\n            <meta charset=\"utf-8\">\n            <title>${loadingImage}</title>\n          </head>\n          <body><h1>${loadingImage}</h1></body>\n        <html>`;\n        if (typeof URL !== 'undefined' && URL.createObjectURL) {\n          const blob = new Blob([popHTML], {type: 'text/html'});\n          popURL = URL.createObjectURL(blob);\n        } else {\n          popURL = 'data:text/html;base64;charset=utf-8,' + Utils.encode64(popHTML);\n        }\n        loadingURL = popURL;\n      }\n      exportWindow = window.open(popURL, exportWindowName);\n    }\n    const chrome = isChrome();\n    if (imgType === 'PDF') {\n      if (!customExportPDF && !chrome) {\n        openExportWindow();\n      }\n      svgCanvas.exportPDF(exportWindowName);\n    } else {\n      if (!customExportImage) {\n        openExportWindow();\n      }\n      const quality = Number.parseInt($('#image-slider').val()) / 100;\n      /* const results = */ await svgCanvas.rasterExport(imgType, quality, exportWindowName);\n    }\n  };\n\n  /**\n   * By default, svgCanvas.open() is a no-op. It is up to an extension\n   *  mechanism (opera widget, etc.) to call `setCustomHandlers()` which\n   *  will make it do something.\n   * @returns {void}\n   */\n  const clickOpen = function () {\n    svgCanvas.open();\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickImport = function () {\n    /* */\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickUndo = function () {\n    if (undoMgr.getUndoStackSize() > 0) {\n      undoMgr.undo();\n      populateLayers();\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickRedo = function () {\n    if (undoMgr.getRedoStackSize() > 0) {\n      undoMgr.redo();\n      populateLayers();\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickGroup = function () {\n    // group\n    if (multiselected) {\n      svgCanvas.groupSelectedElements();\n    // ungroup\n    } else if (selectedElement) {\n      svgCanvas.ungroupSelectedElement();\n    }\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickClone = function () {\n    svgCanvas.cloneSelectedElements(20, 20);\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickAlign = function () {\n    const letter = this.id.replace('tool_align', '').charAt(0);\n    svgCanvas.alignSelectedElements(letter, $('#align_relative_to').val());\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const clickWireframe = function () {\n    $('#tool_wireframe').toggleClass('push_button_pressed tool_button');\n    workarea.toggleClass('wireframe');\n\n    if (supportsNonSS) { return; }\n    const wfRules = $('#wireframe_rules');\n    if (!wfRules.length) {\n      /* wfRules = */ $('<style id=\"wireframe_rules\"></style>').appendTo('head');\n    } else {\n      wfRules.empty();\n    }\n\n    updateWireFrame();\n  };\n\n  $('#svg_docprops_container, #svg_prefs_container').draggable({\n    cancel: 'button,fieldset',\n    containment: 'window'\n  }).css('position', 'absolute');\n\n  let docprops = false;\n  let preferences = false;\n\n  /**\n  *\n  * @returns {void}\n  */\n  const showDocProperties = function () {\n    if (docprops) { return; }\n    docprops = true;\n\n    // This selects the correct radio button by using the array notation\n    $('#image_save_opts input').val([editor.pref('img_save')]);\n\n    // update resolution option with actual resolution\n    const res = svgCanvas.getResolution();\n    if (curConfig.baseUnit !== 'px') {\n      res.w = convertUnit(res.w) + curConfig.baseUnit;\n      res.h = convertUnit(res.h) + curConfig.baseUnit;\n    }\n\n    $('#canvas_width').val(res.w);\n    $('#canvas_height').val(res.h);\n    $('#canvas_title').val(svgCanvas.getDocumentTitle());\n\n    $('#svg_docprops').show();\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const showPreferences = function () {\n    if (preferences) { return; }\n    preferences = true;\n    $('#main_menu').hide();\n\n    // Update background color with current one\n    const canvasBg = curPrefs.bkgd_color;\n    const url = editor.pref('bkgd_url');\n    blocks.each(function () {\n      const blk = $(this);\n      const isBg = blk.data('bgcolor') === canvasBg;\n      blk.toggleClass(curBg, isBg);\n    });\n    if (!canvasBg) { blocks.eq(0).addClass(curBg); }\n    if (url) {\n      $('#canvas_bg_url').val(url);\n    }\n    $('#grid_snapping_on').prop('checked', curConfig.gridSnapping);\n    $('#grid_snapping_step').attr('value', curConfig.snappingStep);\n    $('#grid_color').attr('value', curConfig.gridColor);\n\n    $('#svg_prefs').show();\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const openHomePage = function () {\n    window.open(homePage, '_blank');\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const hideSourceEditor = function () {\n    $('#svg_source_editor').hide();\n    editingsource = false;\n    $('#svg_source_textarea').blur();\n  };\n\n  /**\n  *\n  * @returns {Promise<void>} Resolves to `undefined`\n  */\n  const saveSourceEditor = async function () {\n    if (!editingsource) { return; }\n\n    const saveChanges = function () {\n      svgCanvas.clearSelection();\n      hideSourceEditor();\n      zoomImage();\n      populateLayers();\n      updateTitle();\n      prepPaints();\n    };\n\n    if (!svgCanvas.setSvgString($('#svg_source_textarea').val())) {\n      const ok = await $.confirm(uiStrings.notification.QerrorsRevertToSource);\n      if (!ok) {\n        return;\n      }\n      saveChanges();\n      return;\n    }\n    saveChanges();\n    setSelectMode();\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const hideDocProperties = function () {\n    $('#svg_docprops').hide();\n    $('#canvas_width,#canvas_height').removeAttr('disabled');\n    $('#resolution')[0].selectedIndex = 0;\n    $('#image_save_opts input').val([editor.pref('img_save')]);\n    docprops = false;\n  };\n\n  /**\n  *\n  * @returns {void}\n  */\n  const hidePreferences = function () {\n    $('#svg_prefs').hide();\n    preferences = false;\n  };\n\n  /**\n  *\n  * @returns {boolean} Whether there were problems saving the document properties\n  */\n  const saveDocProperties = function () {\n    // set title\n    const newTitle = $('#canvas_title').val();\n    updateTitle(newTitle);\n    svgCanvas.setDocumentTitle(newTitle);\n\n    // update resolution\n    const width = $('#canvas_width'), w = width.val();\n    const height = $('#canvas_height'), h = height.val();\n\n    if (w !== 'fit' && !isValidUnit('width', w)) {\n      width.parent().addClass('error');\n      /* await */ $.alert(uiStrings.notification.invalidAttrValGiven);\n      return false;\n    }\n\n    width.parent().removeClass('error');\n\n    if (h !== 'fit' && !isValidUnit('height', h)) {\n      height.parent().addClass('error');\n      /* await */ $.alert(uiStrings.notification.invalidAttrValGiven);\n      return false;\n    }\n\n    height.parent().removeClass('error');\n\n    if (!svgCanvas.setResolution(w, h)) {\n      /* await */ $.alert(uiStrings.notification.noContentToFitTo);\n      return false;\n    }\n\n    // Set image save option\n    editor.pref('img_save', $('#image_save_opts :checked').val());\n    updateCanvas();\n    hideDocProperties();\n    return true;\n  };\n\n  /**\n  * Save user preferences based on current values in the UI.\n  * @function module:SVGEditor.savePreferences\n  * @returns {Promise<void>}\n  */\n  const savePreferences = editor.savePreferences = async function () {\n    // Set background\n    const color = $('#bg_blocks div.cur_background').data('bgcolor') || '#FFF';\n    setBackground(color, $('#canvas_bg_url').val());\n\n    // set language\n    const lang = $('#lang_select').val();\n    if (lang && lang !== editor.pref('lang')) {\n      const {langParam, langData} = await editor.putLocale(lang, goodLangs, curConfig);\n      await setLang(langParam, langData);\n    }\n\n    // set icon size\n    setIconSize($('#iconsize').val());\n\n    // set grid setting\n    curConfig.gridSnapping = $('#grid_snapping_on')[0].checked;\n    curConfig.snappingStep = $('#grid_snapping_step').val();\n    curConfig.gridColor = $('#grid_color').val();\n    curConfig.showRulers = $('#show_rulers')[0].checked;\n\n    $('#rulers').toggle(curConfig.showRulers);\n    if (curConfig.showRulers) { updateRulers(); }\n    curConfig.baseUnit = $('#base_unit').val();\n\n    svgCanvas.setConfig(curConfig);\n\n    updateCanvas();\n    hidePreferences();\n  };\n\n  let resetScrollPos = $.noop;\n\n  /**\n  *\n  * @returns {Promise<void>} Resolves to `undefined`\n  */\n  const cancelOverlays = async function () {\n    $('#dialog_box').hide();\n    if (!editingsource && !docprops && !preferences) {\n      if (curContext) {\n        svgCanvas.leaveContext();\n      }\n      return;\n    }\n\n    if (editingsource) {\n      if (origSource !== $('#svg_source_textarea').val()) {\n        const ok = await $.confirm(uiStrings.notification.QignoreSourceChanges);\n        if (ok) {\n          hideSourceEditor();\n        }\n      } else {\n        hideSourceEditor();\n      }\n    } else if (docprops) {\n      hideDocProperties();\n    } else if (preferences) {\n      hidePreferences();\n    }\n    resetScrollPos();\n  };\n\n  const winWh = {width: $(window).width(), height: $(window).height()};\n\n  // Fix for Issue 781: Drawing area jumps to top-left corner on window resize (IE9)\n  if (isIE()) {\n    resetScrollPos = function () {\n      if (workarea[0].scrollLeft === 0 && workarea[0].scrollTop === 0) {\n        workarea[0].scrollLeft = curScrollPos.left;\n        workarea[0].scrollTop = curScrollPos.top;\n      }\n    };\n\n    curScrollPos = {\n      left: workarea[0].scrollLeft,\n      top: workarea[0].scrollTop\n    };\n\n    $(window).resize(resetScrollPos);\n    editor.ready(function () {\n      // TODO: Find better way to detect when to do this to minimize\n      // flickering effect\n      return new Promise((resolve, reject) => { // eslint-disable-line promise/avoid-new\n        setTimeout(function () {\n          resetScrollPos();\n          resolve();\n        }, 500);\n      });\n    });\n\n    workarea.scroll(function () {\n      curScrollPos = {\n        left: workarea[0].scrollLeft,\n        top: workarea[0].scrollTop\n      };\n    });\n  }\n\n  $(window).resize(function (evt) {\n    $.each(winWh, function (type, val) {\n      const curval = $(window)[type]();\n      workarea[0]['scroll' + (type === 'width' ? 'Left' : 'Top')] -= (curval - val) / 2;\n      winWh[type] = curval;\n    });\n    setFlyoutPositions();\n  });\n\n  workarea.scroll(function () {\n    // TODO: jQuery's scrollLeft/Top() wouldn't require a null check\n    if ($('#ruler_x').length) {\n      $('#ruler_x')[0].scrollLeft = workarea[0].scrollLeft;\n    }\n    if ($('#ruler_y').length) {\n      $('#ruler_y')[0].scrollTop = workarea[0].scrollTop;\n    }\n  });\n\n  $('#url_notice').click(function () {\n    /* await */ $.alert(this.title);\n  });\n\n  $('#change_image_url').click(promptImgURL);\n\n  // added these event handlers for all the push buttons so they\n  // behave more like buttons being pressed-in and not images\n  (function () {\n    const toolnames = [\n      'clear', 'open', 'save', 'source', 'delete',\n      'delete_multi', 'paste', 'clone', 'clone_multi',\n      'move_top', 'move_bottom'\n    ];\n    const curClass = 'tool_button_current';\n\n    let allTools = '';\n\n    $.each(toolnames, function (i, item) {\n      allTools += (i ? ',' : '') + '#tool_' + item;\n    });\n\n    $(allTools).mousedown(function () {\n      $(this).addClass(curClass);\n    }).bind('mousedown mouseout', function () {\n      $(this).removeClass(curClass);\n    });\n\n    $('#tool_undo, #tool_redo').mousedown(function () {\n      if (!$(this).hasClass('disabled')) { $(this).addClass(curClass); }\n    }).bind('mousedown mouseout', function () {\n      $(this).removeClass(curClass);\n    });\n  }());\n\n  // switch modifier key in tooltips if mac\n  // NOTE: This code is not used yet until I can figure out how to successfully bind ctrl/meta\n  // in Opera and Chrome\n  if (isMac() && !window.opera) {\n    const shortcutButtons = [\n      'tool_clear', 'tool_save', 'tool_source',\n      'tool_undo', 'tool_redo', 'tool_clone'\n    ];\n    let i = shortcutButtons.length;\n    while (i--) {\n      const button = document.getElementById(shortcutButtons[i]);\n      if (button) {\n        const {title} = button;\n        const index = title.indexOf('Ctrl+');\n        button.title = [\n          title.substr(0, index),\n          'Cmd+',\n          title.substr(index + 5)\n        ].join('');\n      }\n    }\n  }\n\n  /**\n  * @param {external:jQuery} elem\n  * @todo Go back to the color boxes having white background-color and then setting\n  *  background-image to none.png (otherwise partially transparent gradients look weird)\n  * @returns {void}\n  */\n  const colorPicker = function (elem) {\n    const picker = elem.attr('id') === 'stroke_color' ? 'stroke' : 'fill';\n    // const opacity = (picker == 'stroke' ? $('#stroke_opacity') : $('#fill_opacity'));\n    const title = picker === 'stroke'\n      ? uiStrings.ui.pick_stroke_paint_opacity\n      : uiStrings.ui.pick_fill_paint_opacity;\n    // let wasNone = false; // Currently unused\n    const pos = elem.offset();\n    let {paint} = paintBox[picker];\n    $('#color_picker')\n      .draggable({\n        cancel: '.jGraduate_tabs, .jGraduate_colPick, .jGraduate_gradPick, .jPicker',\n        containment: 'window'\n      })\n      .css(curConfig.colorPickerCSS || {left: pos.left - 140, bottom: 40})\n      .jGraduate(\n        {\n          paint,\n          window: {pickerTitle: title},\n          images: {clientPath: curConfig.jGraduatePath},\n          newstop: 'inverse'\n        },\n        function (p) {\n          paint = new $.jGraduate.Paint(p);\n          paintBox[picker].setPaint(paint);\n          svgCanvas.setPaint(picker, paint);\n          $('#color_picker').hide();\n        },\n        function () {\n          $('#color_picker').hide();\n        }\n      );\n  };\n\n  /**\n   * Paint box class.\n   */\n  class PaintBox {\n    /**\n     * @param {string|Element|external:jQuery} container\n     * @param {\"fill\"} type\n     */\n    constructor (container, type) {\n      const cur = curConfig[type === 'fill' ? 'initFill' : 'initStroke'];\n      // set up gradients to be used for the buttons\n      const svgdocbox = new DOMParser().parseFromString(\n        `<svg xmlns=\"http://www.w3.org/2000/svg\">\n          <rect width=\"16.5\" height=\"16.5\"\n            fill=\"#${cur.color}\" opacity=\"${cur.opacity}\"/>\n          <defs><linearGradient id=\"gradbox_${PaintBox.ctr++}\"/></defs>\n        </svg>`,\n        'text/xml'\n      );\n\n      let docElem = svgdocbox.documentElement;\n      docElem = $(container)[0].appendChild(document.importNode(docElem, true));\n      docElem.setAttribute('width', 16.5);\n\n      this.rect = docElem.firstElementChild;\n      this.defs = docElem.getElementsByTagName('defs')[0];\n      this.grad = this.defs.firstElementChild;\n      this.paint = new $.jGraduate.Paint({solidColor: cur.color});\n      this.type = type;\n    }\n\n    /**\n     * @param {module:jGraduate~Paint} paint\n     * @param {boolean} apply\n     * @returns {void}\n     */\n    setPaint (paint, apply) {\n      this.paint = paint;\n\n      const ptype = paint.type;\n      const opac = paint.alpha / 100;\n\n      let fillAttr = 'none';\n      switch (ptype) {\n      case 'solidColor':\n        fillAttr = (paint[ptype] !== 'none') ? '#' + paint[ptype] : paint[ptype];\n        break;\n      case 'linearGradient':\n      case 'radialGradient': {\n        this.grad.remove();\n        this.grad = this.defs.appendChild(paint[ptype]);\n        const id = this.grad.id = 'gradbox_' + this.type;\n        fillAttr = 'url(#' + id + ')';\n        break;\n      }\n      }\n\n      this.rect.setAttribute('fill', fillAttr);\n      this.rect.setAttribute('opacity', opac);\n\n      if (apply) {\n        svgCanvas.setColor(this.type, this._paintColor, true);\n        svgCanvas.setPaintOpacity(this.type, this._paintOpacity, true);\n      }\n    }\n\n    /**\n     * @param {boolean} apply\n     * @returns {void}\n     */\n    update (apply) {\n      if (!selectedElement) { return; }\n\n      const {type} = this;\n      switch (selectedElement.tagName) {\n      case 'use':\n      case 'image':\n      case 'foreignObject':\n        // These elements don't have fill or stroke, so don't change\n        // the current value\n        return;\n      case 'g':\n      case 'a': {\n        const childs = selectedElement.getElementsByTagName('*');\n\n        let gPaint = null;\n        for (let i = 0, len = childs.length; i < len; i++) {\n          const elem = childs[i];\n          const p = elem.getAttribute(type);\n          if (i === 0) {\n            gPaint = p;\n          } else if (gPaint !== p) {\n            gPaint = null;\n            break;\n          }\n        }\n\n        if (gPaint === null) {\n          // No common color, don't update anything\n          this._paintColor = null;\n          return;\n        }\n        this._paintColor = gPaint;\n        this._paintOpacity = 1;\n        break;\n      } default: {\n        this._paintOpacity = Number.parseFloat(selectedElement.getAttribute(type + '-opacity'));\n        if (Number.isNaN(this._paintOpacity)) {\n          this._paintOpacity = 1.0;\n        }\n\n        const defColor = type === 'fill' ? 'black' : 'none';\n        this._paintColor = selectedElement.getAttribute(type) || defColor;\n      }\n      }\n\n      if (apply) {\n        svgCanvas.setColor(type, this._paintColor, true);\n        svgCanvas.setPaintOpacity(type, this._paintOpacity, true);\n      }\n\n      this._paintOpacity *= 100;\n\n      const paint = getPaint(this._paintColor, this._paintOpacity, type);\n      // update the rect inside #fill_color/#stroke_color\n      this.setPaint(paint);\n    }\n\n    /**\n     * @returns {void}\n     */\n    prep () {\n      const ptype = this.paint.type;\n\n      switch (ptype) {\n      case 'linearGradient':\n      case 'radialGradient': {\n        const paint = new $.jGraduate.Paint({copy: this.paint});\n        svgCanvas.setPaint(this.type, paint);\n        break;\n      }\n      }\n    }\n  }\n  PaintBox.ctr = 0;\n\n  paintBox.fill = new PaintBox('#fill_color', 'fill');\n  paintBox.stroke = new PaintBox('#stroke_color', 'stroke');\n\n  $('#stroke_width').val(curConfig.initStroke.width);\n  $('#group_opacity').val(curConfig.initOpacity * 100);\n\n  // Use this SVG elem to test vectorEffect support\n  const testEl = paintBox.fill.rect.cloneNode(false);\n  testEl.setAttribute('style', 'vector-effect:non-scaling-stroke');\n  const supportsNonSS = (testEl.style.vectorEffect === 'non-scaling-stroke');\n  testEl.removeAttribute('style');\n  const svgdocbox = paintBox.fill.rect.ownerDocument;\n  // Use this to test support for blur element. Seems to work to test support in Webkit\n  const blurTest = svgdocbox.createElementNS(NS.SVG, 'feGaussianBlur');\n  if (blurTest.stdDeviationX === undefined) {\n    $('#tool_blur').hide();\n  }\n  $(blurTest).remove();\n\n  // Test for zoom icon support\n  (function () {\n    const pre = '-' + uaPrefix.toLowerCase() + '-zoom-';\n    const zoom = pre + 'in';\n    workarea.css('cursor', zoom);\n    if (workarea.css('cursor') === zoom) {\n      zoomInIcon = zoom;\n      zoomOutIcon = pre + 'out';\n    }\n    workarea.css('cursor', 'auto');\n  }());\n\n  // Test for embedImage support (use timeout to not interfere with page load)\n  setTimeout(function () {\n    svgCanvas.embedImage('images/logo.png', function (datauri) {\n      if (!datauri) {\n        // Disable option\n        $('#image_save_opts [value=embed]').attr('disabled', 'disabled');\n        $('#image_save_opts input').val(['ref']);\n        editor.pref('img_save', 'ref');\n        $('#image_opt_embed').css('color', '#666').attr(\n          'title',\n          uiStrings.notification.featNotSupported\n        );\n      }\n    });\n  }, 1000);\n\n  $('#fill_color, #tool_fill .icon_label').click(function () {\n    colorPicker($('#fill_color'));\n    updateToolButtonState();\n  });\n\n  $('#stroke_color, #tool_stroke .icon_label').click(function () {\n    colorPicker($('#stroke_color'));\n    updateToolButtonState();\n  });\n\n  $('#group_opacityLabel').click(function () {\n    $('#opacity_dropdown button').mousedown();\n    $(window).mouseup();\n  });\n\n  $('#zoomLabel').click(function () {\n    $('#zoom_dropdown button').mousedown();\n    $(window).mouseup();\n  });\n\n  $('#tool_move_top').mousedown(function (evt) {\n    $('#tools_stacking').show();\n    evt.preventDefault();\n  });\n\n  $('.layer_button').mousedown(function () {\n    $(this).addClass('layer_buttonpressed');\n  }).mouseout(function () {\n    $(this).removeClass('layer_buttonpressed');\n  }).mouseup(function () {\n    $(this).removeClass('layer_buttonpressed');\n  });\n\n  $('.push_button').mousedown(function () {\n    if (!$(this).hasClass('disabled')) {\n      $(this).addClass('push_button_pressed').removeClass('push_button');\n    }\n  }).mouseout(function () {\n    $(this).removeClass('push_button_pressed').addClass('push_button');\n  }).mouseup(function () {\n    $(this).removeClass('push_button_pressed').addClass('push_button');\n  });\n\n  // ask for a layer name\n  $('#layer_new').click(async function () {\n    let uniqName,\n      i = svgCanvas.getCurrentDrawing().getNumLayers();\n    do {\n      uniqName = uiStrings.layers.layer + ' ' + (++i);\n    } while (svgCanvas.getCurrentDrawing().hasLayer(uniqName));\n\n    const newName = await $.prompt(uiStrings.notification.enterUniqueLayerName, uniqName);\n    if (!newName) { return; }\n    if (svgCanvas.getCurrentDrawing().hasLayer(newName)) {\n      /* await */ $.alert(uiStrings.notification.dupeLayerName);\n      return;\n    }\n    svgCanvas.createLayer(newName);\n    updateContextPanel();\n    populateLayers();\n  });\n\n  /**\n   *\n   * @returns {void}\n   */\n  function deleteLayer () {\n    if (svgCanvas.deleteCurrentLayer()) {\n      updateContextPanel();\n      populateLayers();\n      // This matches what SvgCanvas does\n      // TODO: make this behavior less brittle (svg-editor should get which\n      // layer is selected from the canvas and then select that one in the UI)\n      $('#layerlist tr.layer').removeClass('layersel');\n      $('#layerlist tr.layer:first').addClass('layersel');\n    }\n  }\n\n  /**\n   *\n   * @returns {Promise<void>}\n   */\n  async function cloneLayer () {\n    const name = svgCanvas.getCurrentDrawing().getCurrentLayerName() + ' copy';\n\n    const newName = await $.prompt(uiStrings.notification.enterUniqueLayerName, name);\n    if (!newName) { return; }\n    if (svgCanvas.getCurrentDrawing().hasLayer(newName)) {\n      /* await */ $.alert(uiStrings.notification.dupeLayerName);\n      return;\n    }\n    svgCanvas.cloneLayer(newName);\n    updateContextPanel();\n    populateLayers();\n  }\n\n  /**\n   *\n   * @returns {void}\n   */\n  function mergeLayer () {\n    if ($('#layerlist tr.layersel').index() === svgCanvas.getCurrentDrawing().getNumLayers() - 1) {\n      return;\n    }\n    svgCanvas.mergeLayer();\n    updateContextPanel();\n    populateLayers();\n  }\n\n  /**\n   * @param {Integer} pos\n   * @returns {void}\n   */\n  function moveLayer (pos) {\n    const total = svgCanvas.getCurrentDrawing().getNumLayers();\n\n    let curIndex = $('#layerlist tr.layersel').index();\n    if (curIndex > 0 || curIndex < total - 1) {\n      curIndex += pos;\n      svgCanvas.setCurrentLayerPosition(total - curIndex - 1);\n      populateLayers();\n    }\n  }\n\n  $('#layer_delete').click(deleteLayer);\n\n  $('#layer_up').click(() => {\n    moveLayer(-1);\n  });\n\n  $('#layer_down').click(() => {\n    moveLayer(1);\n  });\n\n  $('#layer_rename').click(async function () {\n    // const curIndex = $('#layerlist tr.layersel').prevAll().length; // Currently unused\n    const oldName = $('#layerlist tr.layersel td.layername').text();\n    const newName = await $.prompt(uiStrings.notification.enterNewLayerName, '');\n    if (!newName) { return; }\n    if (oldName === newName || svgCanvas.getCurrentDrawing().hasLayer(newName)) {\n      /* await */ $.alert(uiStrings.notification.layerHasThatName);\n      return;\n    }\n\n    svgCanvas.renameCurrentLayer(newName);\n    populateLayers();\n  });\n\n  const SIDEPANEL_MAXWIDTH = 300;\n  const SIDEPANEL_OPENWIDTH = 150;\n  let sidedrag = -1, sidedragging = false, allowmove = false;\n\n  /**\n   * @param {Float} delta\n   * @fires module:svgcanvas.SvgCanvas#event:ext_workareaResized\n   * @returns {void}\n   */\n  const changeSidePanelWidth = function (delta) {\n    const rulerX = $('#ruler_x');\n    $('#sidepanels').width('+=' + delta);\n    $('#layerpanel').width('+=' + delta);\n    rulerX.css('right', Number.parseInt(rulerX.css('right')) + delta);\n    workarea.css('right', Number.parseInt(workarea.css('right')) + delta);\n    svgCanvas.runExtensions('workareaResized');\n  };\n\n  /**\n  * @param {Event} evt\n  * @returns {void}\n  */\n  const resizeSidePanel = function (evt) {\n    if (!allowmove) { return; }\n    if (sidedrag === -1) { return; }\n    sidedragging = true;\n    let deltaX = sidedrag - evt.pageX;\n    const sideWidth = $('#sidepanels').width();\n    if (sideWidth + deltaX > SIDEPANEL_MAXWIDTH) {\n      deltaX = SIDEPANEL_MAXWIDTH - sideWidth;\n      // sideWidth = SIDEPANEL_MAXWIDTH;\n    } else if (sideWidth + deltaX < 2) {\n      deltaX = 2 - sideWidth;\n      // sideWidth = 2;\n    }\n    if (deltaX === 0) { return; }\n    sidedrag -= deltaX;\n    changeSidePanelWidth(deltaX);\n  };\n\n  /**\n   * If width is non-zero, then fully close it; otherwise fully open it.\n   * @param {boolean} close Forces the side panel closed\n   * @returns {void}\n   */\n  const toggleSidePanel = function (close) {\n    const dpr = window.devicePixelRatio || 1;\n    const w = $('#sidepanels').width();\n    const isOpened = (dpr < 1 ? w : w / dpr) > 2;\n    const zoomAdjustedSidepanelWidth = (dpr < 1 ? 1 : dpr) * SIDEPANEL_OPENWIDTH;\n    const deltaX = (isOpened || close ? 0 : zoomAdjustedSidepanelWidth) - w;\n    changeSidePanelWidth(deltaX);\n  };\n\n  $('#sidepanel_handle')\n    .mousedown(function (evt) {\n      sidedrag = evt.pageX;\n      $(window).mousemove(resizeSidePanel);\n      allowmove = false;\n      // Silly hack for Chrome, which always runs mousemove right after mousedown\n      setTimeout(function () {\n        allowmove = true;\n      }, 20);\n    })\n    .mouseup(function (evt) {\n      if (!sidedragging) { toggleSidePanel(); }\n      sidedrag = -1;\n      sidedragging = false;\n    });\n\n  $(window).mouseup(function () {\n    sidedrag = -1;\n    sidedragging = false;\n    $('#svg_editor').unbind('mousemove', resizeSidePanel);\n  });\n\n  populateLayers();\n\n  // function changeResolution (x,y) {\n  //   const {zoom} = svgCanvas.getResolution();\n  //   setResolution(x * zoom, y * zoom);\n  // }\n\n  const centerCanvas = () => {\n    // this centers the canvas vertically in the workarea (horizontal handled in CSS)\n    workarea.css('line-height', workarea.height() + 'px');\n  };\n\n  $(window).bind('load resize', centerCanvas);\n\n  /**\n   * @type {module:jQuerySpinButton.StepCallback}\n   */\n  function stepFontSize (elem, step) {\n    const origVal = Number(elem.value);\n    const sugVal = origVal + step;\n    const increasing = sugVal >= origVal;\n    if (step === 0) { return origVal; }\n\n    if (origVal >= 24) {\n      if (increasing) {\n        return Math.round(origVal * 1.1);\n      }\n      return Math.round(origVal / 1.1);\n    }\n    if (origVal <= 1) {\n      if (increasing) {\n        return origVal * 2;\n      }\n      return origVal / 2;\n    }\n    return sugVal;\n  }\n\n  /**\n   * @type {module:jQuerySpinButton.StepCallback}\n   */\n  function stepZoom (elem, step) {\n    const origVal = Number(elem.value);\n    if (origVal === 0) { return 100; }\n    const sugVal = origVal + step;\n    if (step === 0) { return origVal; }\n\n    if (origVal >= 100) {\n      return sugVal;\n    }\n    if (sugVal >= origVal) {\n      return origVal * 2;\n    }\n    return origVal / 2;\n  }\n\n  // function setResolution (w, h, center) {\n  //   updateCanvas();\n  //   // w -= 0; h -= 0;\n  //   // $('#svgcanvas').css({width: w, height: h});\n  //   // $('#canvas_width').val(w);\n  //   // $('#canvas_height').val(h);\n  //   //\n  //   // if (center) {\n  //   //   const wArea = workarea;\n  //   //   const scrollY = h/2 - wArea.height()/2;\n  //   //   const scrollX = w/2 - wArea.width()/2;\n  //   //   wArea[0].scrollTop = scrollY;\n  //   //   wArea[0].scrollLeft = scrollX;\n  //   // }\n  // }\n\n  $('#resolution').change(function () {\n    const wh = $('#canvas_width,#canvas_height');\n    if (!this.selectedIndex) {\n      if ($('#canvas_width').val() === 'fit') {\n        wh.removeAttr('disabled').val(100);\n      }\n    } else if (this.value === 'content') {\n      wh.val('fit').attr('disabled', 'disabled');\n    } else {\n      const dims = this.value.split('x');\n      $('#canvas_width').val(dims[0]);\n      $('#canvas_height').val(dims[1]);\n      wh.removeAttr('disabled');\n    }\n  });\n\n  // Prevent browser from erroneously repopulating fields\n  $('input,select').attr('autocomplete', 'off');\n\n  const dialogSelectors = [\n    '#tool_source_cancel', '#tool_docprops_cancel',\n    '#tool_prefs_cancel', '.overlay'\n  ];\n  /* eslint-disable jsdoc/require-property */\n  /**\n   * Associate all button actions as well as non-button keyboard shortcuts.\n   * @namespace {PlainObject} module:SVGEditor~Actions\n   */\n  const Actions = (function () {\n    /* eslint-enable jsdoc/require-property */\n    /**\n    * @typedef {PlainObject} module:SVGEditor.ToolButton\n    * @property {string} sel The CSS selector for the tool\n    * @property {external:jQuery.Function} fn A handler to be attached to the `evt`\n    * @property {string} evt The event for which the `fn` listener will be added\n    * @property {module:SVGEditor.Key} [key] [key, preventDefault, NoDisableInInput]\n    * @property {string} [parent] Selector\n    * @property {boolean} [hidekey] Whether to show key value in title\n    * @property {string} [icon] The button ID\n    * @property {boolean} isDefault For flyout holders\n    */\n    /**\n     *\n     * @name module:SVGEditor~ToolButtons\n     * @type {module:SVGEditor.ToolButton[]}\n     */\n    const toolButtons = [\n      {sel: '#tool_select', fn: clickSelect, evt: 'click', key: ['V', true]},\n      {sel: '#tool_fhpath', fn: clickFHPath, evt: 'click', key: ['Q', true]},\n      {sel: '#tool_line', fn: clickLine, evt: 'click', key: ['L', true],\n        parent: '#tools_line', prepend: true},\n      {sel: '#tool_rect', fn: clickRect, evt: 'mouseup',\n        key: ['R', true], parent: '#tools_rect', icon: 'rect'},\n      {sel: '#tool_square', fn: clickSquare, evt: 'mouseup',\n        parent: '#tools_rect', icon: 'square'},\n      {sel: '#tool_fhrect', fn: clickFHRect, evt: 'mouseup',\n        parent: '#tools_rect', icon: 'fh_rect'},\n      {sel: '#tool_ellipse', fn: clickEllipse, evt: 'mouseup',\n        key: ['E', true], parent: '#tools_ellipse', icon: 'ellipse'},\n      {sel: '#tool_circle', fn: clickCircle, evt: 'mouseup',\n        parent: '#tools_ellipse', icon: 'circle'},\n      {sel: '#tool_fhellipse', fn: clickFHEllipse, evt: 'mouseup',\n        parent: '#tools_ellipse', icon: 'fh_ellipse'},\n      {sel: '#tool_path', fn: clickPath, evt: 'click', key: ['P', true]},\n      {sel: '#tool_text', fn: clickText, evt: 'click', key: ['T', true]},\n      {sel: '#tool_image', fn: clickImage, evt: 'mouseup'},\n      {sel: '#tool_zoom', fn: clickZoom, evt: 'mouseup', key: ['Z', true]},\n      {sel: '#tool_clear', fn: clickClear, evt: 'mouseup', key: ['N', true]},\n      {sel: '#tool_save', fn () {\n        if (editingsource) {\n          saveSourceEditor();\n        } else {\n          clickSave();\n        }\n      }, evt: 'mouseup', key: ['S', true]},\n      {sel: '#tool_export', fn: clickExport, evt: 'mouseup'},\n      {sel: '#tool_open', fn: clickOpen, evt: 'mouseup', key: ['O', true]},\n      {sel: '#tool_import', fn: clickImport, evt: 'mouseup'},\n      {sel: '#tool_source', fn: showSourceEditor, evt: 'click', key: ['U', true]},\n      {sel: '#tool_wireframe', fn: clickWireframe, evt: 'click', key: ['F', true]},\n      {\n        key: ['esc', false, false],\n        fn () {\n          if (dialogSelectors.every((sel) => {\n            return $(sel + ':hidden').length;\n          })) {\n            svgCanvas.clearSelection();\n          }\n        },\n        hidekey: true\n      },\n      {sel: dialogSelectors.join(','), fn: cancelOverlays, evt: 'click',\n        key: ['esc', false, false], hidekey: true},\n      {sel: '#tool_source_save', fn: saveSourceEditor, evt: 'click'},\n      {sel: '#tool_docprops_save', fn: saveDocProperties, evt: 'click'},\n      {sel: '#tool_docprops', fn: showDocProperties, evt: 'click'},\n      {sel: '#tool_prefs_save', fn: savePreferences, evt: 'click'},\n      {sel: '#tool_editor_prefs', fn: showPreferences, evt: 'click'},\n      {sel: '#tool_editor_homepage', fn: openHomePage, evt: 'click'},\n      {sel: '#tool_open', fn () { window.dispatchEvent(new CustomEvent('openImage')); }, evt: 'click'},\n      {sel: '#tool_import', fn () { window.dispatchEvent(new CustomEvent('importImage')); }, evt: 'click'},\n      {sel: '#tool_delete,#tool_delete_multi', fn: deleteSelected,\n        evt: 'click', key: ['del/backspace', true]},\n      {sel: '#tool_reorient', fn: reorientPath, evt: 'click'},\n      {sel: '#tool_node_link', fn: linkControlPoints, evt: 'click'},\n      {sel: '#tool_node_clone', fn: clonePathNode, evt: 'click'},\n      {sel: '#tool_node_delete', fn: deletePathNode, evt: 'click'},\n      {sel: '#tool_openclose_path', fn: opencloseSubPath, evt: 'click'},\n      {sel: '#tool_add_subpath', fn: addSubPath, evt: 'click'},\n      {sel: '#tool_move_top', fn: moveToTopSelected, evt: 'click', key: 'ctrl+shift+]'},\n      {sel: '#tool_move_bottom', fn: moveToBottomSelected, evt: 'click', key: 'ctrl+shift+['},\n      {sel: '#tool_topath', fn: convertToPath, evt: 'click'},\n      {sel: '#tool_make_link,#tool_make_link_multi', fn: makeHyperlink, evt: 'click'},\n      {sel: '#tool_undo', fn: clickUndo, evt: 'click'},\n      {sel: '#tool_redo', fn: clickRedo, evt: 'click'},\n      {sel: '#tool_clone,#tool_clone_multi', fn: clickClone, evt: 'click', key: ['D', true]},\n      {sel: '#tool_group_elements', fn: clickGroup, evt: 'click', key: ['G', true]},\n      {sel: '#tool_ungroup', fn: clickGroup, evt: 'click'},\n      {sel: '#tool_unlink_use', fn: clickGroup, evt: 'click'},\n      {sel: '[id^=tool_align]', fn: clickAlign, evt: 'click'},\n      // these two lines are required to make Opera work properly with the flyout mechanism\n      // {sel: '#tools_rect_show', fn: clickRect, evt: 'click'},\n      // {sel: '#tools_ellipse_show', fn: clickEllipse, evt: 'click'},\n      {sel: '#tool_bold', fn: clickBold, evt: 'mousedown'},\n      {sel: '#tool_italic', fn: clickItalic, evt: 'mousedown'},\n      {sel: '#sidepanel_handle', fn: toggleSidePanel, key: ['X']},\n      {sel: '#copy_save_done', fn: cancelOverlays, evt: 'click'},\n\n      // Shortcuts not associated with buttons\n\n      {key: 'ctrl+left', fn () { rotateSelected(0, 1); }},\n      {key: 'ctrl+right', fn () { rotateSelected(1, 1); }},\n      {key: 'ctrl+shift+left', fn () { rotateSelected(0, 5); }},\n      {key: 'ctrl+shift+right', fn () { rotateSelected(1, 5); }},\n      {key: 'shift+O', fn: selectPrev},\n      {key: 'shift+P', fn: selectNext},\n      {key: [modKey + 'up', true], fn () { zoomImage(2); }},\n      {key: [modKey + 'down', true], fn () { zoomImage(0.5); }},\n      {key: [modKey + ']', true], fn () { moveUpDownSelected('Up'); }},\n      {key: [modKey + '[', true], fn () { moveUpDownSelected('Down'); }},\n      {key: ['up', true], fn () { moveSelected(0, -1); }},\n      {key: ['down', true], fn () { moveSelected(0, 1); }},\n      {key: ['left', true], fn () { moveSelected(-1, 0); }},\n      {key: ['right', true], fn () { moveSelected(1, 0); }},\n      {key: 'shift+up', fn () { moveSelected(0, -10); }},\n      {key: 'shift+down', fn () { moveSelected(0, 10); }},\n      {key: 'shift+left', fn () { moveSelected(-10, 0); }},\n      {key: 'shift+right', fn () { moveSelected(10, 0); }},\n      {key: ['alt+up', true], fn () { svgCanvas.cloneSelectedElements(0, -1); }},\n      {key: ['alt+down', true], fn () { svgCanvas.cloneSelectedElements(0, 1); }},\n      {key: ['alt+left', true], fn () { svgCanvas.cloneSelectedElements(-1, 0); }},\n      {key: ['alt+right', true], fn () { svgCanvas.cloneSelectedElements(1, 0); }},\n      {key: ['alt+shift+up', true], fn () { svgCanvas.cloneSelectedElements(0, -10); }},\n      {key: ['alt+shift+down', true], fn () { svgCanvas.cloneSelectedElements(0, 10); }},\n      {key: ['alt+shift+left', true], fn () { svgCanvas.cloneSelectedElements(-10, 0); }},\n      {key: ['alt+shift+right', true], fn () { svgCanvas.cloneSelectedElements(10, 0); }},\n      {key: 'a', fn () { svgCanvas.selectAllInCurrentLayer(); }},\n      {key: modKey + 'a', fn () { svgCanvas.selectAllInCurrentLayer(); }},\n\n      // Standard shortcuts\n      {key: modKey + 'z', fn: clickUndo},\n      {key: modKey + 'shift+z', fn: clickRedo},\n      {key: modKey + 'y', fn: clickRedo},\n\n      {key: modKey + 'x', fn: cutSelected},\n      {key: modKey + 'c', fn: copySelected},\n      {key: modKey + 'v', fn: pasteInCenter}\n    ];\n\n    // Tooltips not directly associated with a single function\n    const keyAssocs = {\n      '4/Shift+4': '#tools_rect_show',\n      '5/Shift+5': '#tools_ellipse_show'\n    };\n\n    return {\n      /** @lends module:SVGEditor~Actions */\n      /**\n       * @returns {void}\n       */\n      setAll () {\n        const flyouts = {};\n        const keyHandler = {}; // will contain the action for each pressed key\n\n        toolButtons.forEach((opts) => {\n          // Bind function to button\n          let btn;\n          if (opts.sel) {\n            btn = $q(opts.sel);\n            if (btn === null) { return true; } // Skip if markup does not exist\n            if (opts.evt) {\n              // `touch.js` changes `touchstart` to `mousedown`,\n              //   so we must map tool button click events as well\n              if (isTouch() && opts.evt === 'click') {\n                opts.evt = 'mousedown';\n              }\n              btn.addEventListener(opts.evt, opts.fn);\n            }\n\n            // Add to parent flyout menu, if able to be displayed\n            if (opts.parent && $(opts.parent + '_show').length) {\n              let fH = $(opts.parent);\n              if (!fH.length) {\n                fH = makeFlyoutHolder(opts.parent.substr(1));\n              }\n              if (opts.prepend) {\n                btn.style.margin = 'initial';\n              }\n              fH[opts.prepend ? 'prepend' : 'append'](btn);\n\n              if (!Array.isArray(flyouts[opts.parent])) {\n                flyouts[opts.parent] = [];\n              }\n              flyouts[opts.parent].push(opts);\n            }\n          }\n\n          // Bind function to shortcut key\n          if (opts.key) {\n            // Set shortcut based on options\n            let keyval = opts.key;\n            let pd = false;\n            if (Array.isArray(opts.key)) {\n              keyval = opts.key[0];\n              if (opts.key.length > 1) { pd = opts.key[1]; }\n            }\n            keyval = String(keyval);\n            const {fn} = opts;\n            keyval.split('/').forEach((key) => { keyHandler[key] = {fn, pd}; });\n\n            // Put shortcut in title\n            if (opts.sel && !opts.hidekey && btn.title) {\n              const newTitle = `${btn.title.split('[')[0]} (${keyval})`;\n              keyAssocs[keyval] = opts.sel;\n              // Disregard for menu items\n              if (btn.closest('#main_menu') === null) {\n                btn.title = newTitle;\n              }\n            }\n          }\n          return true;\n        });\n        // register the keydown event\n        document.addEventListener('keydown', (e) => {\n          // only track keyboard shortcuts for the body containing the SVG-Editor\n          if (e.target.nodeName !== 'BODY') return;\n          // normalize key\n          const key = `${(e.metaKey) ? 'meta+' : ''}${(e.ctrlKey) ? 'ctrl+' : ''}${e.key.toLowerCase()}`;\n          // return if no shortcut defined for this key\n          if (!keyHandler[key]) return;\n          // launch associated handler and preventDefault if necessary\n          keyHandler[key].fn();\n          if (keyHandler[key].pd) {\n            e.preventDefault();\n          }\n        });\n\n        // Setup flyouts\n        setupFlyouts(flyouts);\n\n        // Misc additional actions\n\n        // Make 'return' keypress trigger the change event\n        $('.attr_changer, #image_url').bind(\n          'keydown',\n          'return',\n          function (evt) {\n            $(this).change();\n            evt.preventDefault();\n          }\n        );\n\n        $(window).bind('keydown', 'tab', function (e) {\n          if (uiContext === 'canvas') {\n            e.preventDefault();\n            selectNext();\n          }\n        }).bind('keydown', 'shift+tab', function (e) {\n          if (uiContext === 'canvas') {\n            e.preventDefault();\n            selectPrev();\n          }\n        });\n\n        $('#tool_zoom').dblclick(dblclickZoom);\n      },\n      /**\n       * @returns {void}\n       */\n      setTitles () {\n        $.each(keyAssocs, function (keyval, sel) {\n          const menu = ($(sel).parents('#main_menu').length);\n\n          $(sel).each(function () {\n            let t;\n            if (menu) {\n              t = $(this).text().split(' [')[0];\n            } else {\n              t = this.title.split(' [')[0];\n            }\n            let keyStr = '';\n            // Shift+Up\n            $.each(keyval.split('/'), function (i, key) {\n              const modBits = key.split('+');\n              let mod = '';\n              if (modBits.length > 1) {\n                mod = modBits[0] + '+';\n                key = modBits[1];\n              }\n              keyStr += (i ? '/' : '') + mod + (uiStrings['key_' + key] || key);\n            });\n            if (menu) {\n              this.lastChild.textContent = t + ' [' + keyStr + ']';\n            } else {\n              this.title = t + ' [' + keyStr + ']';\n            }\n          });\n        });\n      },\n      /**\n       * @param {string} sel Selector to match\n       * @returns {module:SVGEditor.ToolButton}\n       */\n      getButtonData (sel) {\n        return Object.values(toolButtons).find((btn) => {\n          return btn.sel === sel;\n        });\n      }\n    };\n  }());\n\n  // Select given tool\n  editor.ready(function () {\n    let tool;\n    const itool = curConfig.initTool,\n      container = $('#tools_left, #svg_editor .tools_flyout'),\n      preTool = container.find('#tool_' + itool),\n      regTool = container.find('#' + itool);\n    if (preTool.length) {\n      tool = preTool;\n    } else if (regTool.length) {\n      tool = regTool;\n    } else {\n      tool = $('#tool_select');\n    }\n    tool.click().mouseup();\n\n    if (curConfig.wireframe) {\n      $('#tool_wireframe').click();\n    }\n\n    if (curConfig.showlayers) {\n      toggleSidePanel();\n    }\n\n    $('#rulers').toggle(Boolean(curConfig.showRulers));\n\n    if (curConfig.showRulers) {\n      $('#show_rulers')[0].checked = true;\n    }\n\n    if (curConfig.baseUnit) {\n      $('#base_unit').val(curConfig.baseUnit);\n    }\n\n    if (curConfig.gridSnapping) {\n      $('#grid_snapping_on')[0].checked = true;\n    }\n\n    if (curConfig.snappingStep) {\n      $('#grid_snapping_step').val(curConfig.snappingStep);\n    }\n\n    if (curConfig.gridColor) {\n      $('#grid_color').val(curConfig.gridColor);\n    }\n  });\n\n  // init SpinButtons\n  $('#rect_rx').SpinButton({\n    min: 0, max: 1000, stateObj, callback: changeRectRadius\n  });\n  $('#stroke_width').SpinButton({\n    min: 0, max: 99, smallStep: 0.1, stateObj, callback: changeStrokeWidth\n  });\n  $('#angle').SpinButton({\n    min: -180, max: 180, step: 5, stateObj, callback: changeRotationAngle\n  });\n  $('#font_size').SpinButton({\n    min: 0.001, stepfunc: stepFontSize, stateObj, callback: changeFontSize\n  });\n  $('#group_opacity').SpinButton({\n    min: 0, max: 100, step: 5, stateObj, callback: changeOpacity\n  });\n  $('#blur').SpinButton({\n    min: 0, max: 10, step: 0.1, stateObj, callback: changeBlur\n  });\n  $('#zoom').SpinButton({\n    min: 0.001, max: 10000, step: 50, stepfunc: stepZoom,\n    stateObj, callback: changeZoom\n  // Set default zoom\n  }).val(\n    svgCanvas.getZoom() * 100\n  );\n\n  $('#workarea').contextMenu(\n    {\n      menu: 'cmenu_canvas',\n      inSpeed: 0\n    },\n    function (action, el, pos) {\n      switch (action) {\n      case 'delete':\n        deleteSelected();\n        break;\n      case 'cut':\n        cutSelected();\n        break;\n      case 'copy':\n        copySelected();\n        break;\n      case 'paste':\n        svgCanvas.pasteElements();\n        break;\n      case 'paste_in_place':\n        svgCanvas.pasteElements('in_place');\n        break;\n      case 'group':\n      case 'group_elements':\n        svgCanvas.groupSelectedElements();\n        break;\n      case 'ungroup':\n        svgCanvas.ungroupSelectedElement();\n        break;\n      case 'move_front':\n        moveToTopSelected();\n        break;\n      case 'move_up':\n        moveUpDownSelected('Up');\n        break;\n      case 'move_down':\n        moveUpDownSelected('Down');\n        break;\n      case 'move_back':\n        moveToBottomSelected();\n        break;\n      default:\n        if (hasCustomHandler(action)) {\n          getCustomHandler(action).call();\n        }\n        break;\n      }\n    }\n  );\n\n  /**\n  * Implements {@see module:jQueryContextMenu.jQueryContextMenuListener}.\n  * @param {\"dupe\"|\"delete\"|\"merge_down\"|\"merge_all\"} action\n  * @param {external:jQuery} el\n  * @param {{x: Float, y: Float, docX: Float, docY: Float}} pos\n  * @returns {void}\n  */\n  const lmenuFunc = function (action, el, pos) {\n    switch (action) {\n    case 'dupe':\n      /* await */ cloneLayer();\n      break;\n    case 'delete':\n      deleteLayer();\n      break;\n    case 'merge_down':\n      mergeLayer();\n      break;\n    case 'merge_all':\n      svgCanvas.mergeAllLayers();\n      updateContextPanel();\n      populateLayers();\n      break;\n    }\n  };\n\n  $('#layerlist').contextMenu(\n    {\n      menu: 'cmenu_layers',\n      inSpeed: 0\n    },\n    lmenuFunc\n  );\n\n  $('#layer_moreopts').contextMenu(\n    {\n      menu: 'cmenu_layers',\n      inSpeed: 0,\n      allowLeft: true\n    },\n    lmenuFunc\n  );\n\n  $('.contextMenu li').mousedown(function (ev) {\n    ev.preventDefault();\n  });\n\n  $('#cmenu_canvas li').disableContextMenu();\n  canvMenu.enableContextMenuItems('#delete,#cut,#copy');\n\n  /**\n   * @returns {void}\n   */\n  function enableOrDisableClipboard () {\n    let svgeditClipboard;\n    try {\n      svgeditClipboard = localStorage.getItem('svgedit_clipboard');\n    } catch (err) {}\n    canvMenu[(svgeditClipboard ? 'en' : 'dis') + 'ableContextMenuItems'](\n      '#paste,#paste_in_place'\n    );\n  }\n  enableOrDisableClipboard();\n\n  window.addEventListener('storage', function (e) {\n    if (e.key !== 'svgedit_clipboard') { return; }\n\n    enableOrDisableClipboard();\n  });\n\n  window.addEventListener('beforeunload', function (e) {\n    // Suppress warning if page is empty\n    if (undoMgr.getUndoStackSize() === 0) {\n      editor.showSaveWarning = false;\n    }\n\n    // showSaveWarning is set to 'false' when the page is saved.\n    if (!curConfig.no_save_warning && editor.showSaveWarning) {\n      // Browser already asks question about closing the page\n      e.returnValue = uiStrings.notification.unsavedChanges; // Firefox needs this when beforeunload set by addEventListener (even though message is not used)\n      return uiStrings.notification.unsavedChanges;\n    }\n    return true;\n  });\n\n  /**\n  * Expose the `uiStrings`.\n  * @function module:SVGEditor.canvas.getUIStrings\n  * @returns {module:SVGEditor.uiStrings}\n  */\n  editor.canvas.getUIStrings = function () {\n    return uiStrings;\n  };\n\n  /**\n   * @function module:SVGEditor.openPrep\n   * @returns {boolean|Promise<boolean>} Resolves to boolean indicating `true` if there were no changes\n   *  and `false` after the user confirms.\n   */\n  editor.openPrep = function () {\n    $('#main_menu').hide();\n    if (undoMgr.getUndoStackSize() === 0) {\n      return true;\n    }\n    return $.confirm(uiStrings.notification.QwantToOpen);\n  };\n\n  /**\n   *\n   * @param {Event} e\n   * @returns {void}\n   */\n  function onDragEnter (e) {\n    e.stopPropagation();\n    e.preventDefault();\n    // and indicator should be displayed here, such as \"drop files here\"\n  }\n\n  /**\n   *\n   * @param {Event} e\n   * @returns {void}\n   */\n  function onDragOver (e) {\n    e.stopPropagation();\n    e.preventDefault();\n  }\n\n  /**\n   *\n   * @param {Event} e\n   * @returns {void}\n   */\n  function onDragLeave (e) {\n    e.stopPropagation();\n    e.preventDefault();\n    // hypothetical indicator should be removed here\n  }\n  // Use HTML5 File API: http://www.w3.org/TR/FileAPI/\n  // if browser has HTML5 File API support, then we will show the open menu item\n  // and provide a file input to click. When that change event fires, it will\n  // get the text contents of the file and send it to the canvas\n  if (window.FileReader) {\n    /**\n    * @param {Event} e\n    * @returns {void}\n    */\n    const importImage = function (e) {\n      $.process_cancel(uiStrings.notification.loadingImage);\n      e.stopPropagation();\n      e.preventDefault();\n      $('#main_menu').hide();\n      const file = (e.type === 'drop') ? e.dataTransfer.files[0] : this.files[0];\n      if (!file) {\n        $('#dialog_box').hide();\n        return;\n      }\n      /* if (file.type === 'application/pdf') { // Todo: Handle PDF imports\n\n      }\n      else */\n      if (!file.type.includes('image')) {\n        return;\n      }\n      // Detected an image\n      // svg handling\n      let reader;\n      if (file.type.includes('svg')) {\n        reader = new FileReader();\n        reader.onloadend = function (ev) {\n          const newElement = svgCanvas.importSvgString(ev.target.result, true);\n          svgCanvas.ungroupSelectedElement();\n          svgCanvas.ungroupSelectedElement();\n          svgCanvas.groupSelectedElements();\n          svgCanvas.alignSelectedElements('m', 'page');\n          svgCanvas.alignSelectedElements('c', 'page');\n          // highlight imported element, otherwise we get strange empty selectbox\n          svgCanvas.selectOnly([newElement]);\n          $('#dialog_box').hide();\n        };\n        reader.readAsText(file);\n      } else {\n        // bitmap handling\n        reader = new FileReader();\n        reader.onloadend = function ({target: {result}}) {\n          /**\n          * Insert the new image until we know its dimensions.\n          * @param {Float} width\n          * @param {Float} height\n          * @returns {void}\n          */\n          const insertNewImage = function (width, height) {\n            const newImage = svgCanvas.addSVGElementFromJson({\n              element: 'image',\n              attr: {\n                x: 0,\n                y: 0,\n                width,\n                height,\n                id: svgCanvas.getNextId(),\n                style: 'pointer-events:inherit'\n              }\n            });\n            svgCanvas.setHref(newImage, result);\n            svgCanvas.selectOnly([newImage]);\n            svgCanvas.alignSelectedElements('m', 'page');\n            svgCanvas.alignSelectedElements('c', 'page');\n            updateContextPanel();\n            $('#dialog_box').hide();\n          };\n          // create dummy img so we know the default dimensions\n          let imgWidth = 100;\n          let imgHeight = 100;\n          const img = new Image();\n          img.style.opacity = 0;\n          img.addEventListener('load', function () {\n            imgWidth = img.offsetWidth || img.naturalWidth || img.width;\n            imgHeight = img.offsetHeight || img.naturalHeight || img.height;\n            insertNewImage(imgWidth, imgHeight);\n          });\n          img.src = result;\n        };\n        reader.readAsDataURL(file);\n      }\n    };\n\n    workarea[0].addEventListener('dragenter', onDragEnter);\n    workarea[0].addEventListener('dragover', onDragOver);\n    workarea[0].addEventListener('dragleave', onDragLeave);\n    workarea[0].addEventListener('drop', importImage);\n\n    const open = $('<input type=\"file\">').change(async function (e) {\n      const ok = await editor.openPrep();\n      if (!ok) { return; }\n      svgCanvas.clear();\n      if (this.files.length === 1) {\n        $.process_cancel(uiStrings.notification.loadingImage);\n        const reader = new FileReader();\n        reader.onloadend = async function ({target}) {\n          await loadSvgString(target.result);\n          updateCanvas();\n        };\n        reader.readAsText(this.files[0]);\n      }\n    });\n    $('#tool_open').show();\n    $(window).on('openImage', () => open.click());\n\n    const imgImport = $('<input type=\"file\">').change(importImage);\n    $('#tool_import').show();\n    $(window).on('importImage', () => imgImport.click());\n  }\n\n  updateCanvas(true);\n  //  const revnums = 'svg-editor.js ($Rev$) ';\n  //  revnums += svgCanvas.getVersion();\n  //  $('#copyright')[0].setAttribute('title', revnums);\n\n  const loadedExtensionNames = [];\n  /**\n  * @function module:SVGEditor.setLang\n  * @param {string} lang The language code\n  * @param {module:locale.LocaleStrings} allStrings See {@tutorial LocaleDocs}\n  * @fires module:svgcanvas.SvgCanvas#event:ext_langReady\n  * @fires module:svgcanvas.SvgCanvas#event:ext_langChanged\n  * @returns {Promise<void>} A Promise which resolves to `undefined`\n  */\n  const setLang = editor.setLang = async function (lang, allStrings) {\n    editor.langChanged = true;\n    editor.pref('lang', lang);\n    $('#lang_select').val(lang);\n    if (!allStrings) {\n      return;\n    }\n    // Todo: Remove `allStrings.lang` property in locale in\n    //   favor of just `lang`?\n    document.documentElement.lang = allStrings.lang; // lang;\n    // Todo: Add proper RTL Support!\n    // Todo: Use RTL detection instead and take out of locales?\n    // document.documentElement.dir = allStrings.dir;\n    $.extend(uiStrings, allStrings);\n\n    // const notif = allStrings.notification; // Currently unused\n    // $.extend will only replace the given strings\n    const oldLayerName = $('#layerlist tr.layersel td.layername').text();\n    const renameLayer = (oldLayerName === uiStrings.common.layer + ' 1');\n\n    svgCanvas.setUiStrings(allStrings);\n    Actions.setTitles();\n\n    if (renameLayer) {\n      svgCanvas.renameCurrentLayer(uiStrings.common.layer + ' 1');\n      populateLayers();\n    }\n\n    // In case extensions loaded before the locale, now we execute a callback on them\n    if (extsPreLang.length) {\n      await Promise.all(extsPreLang.map((ext) => {\n        loadedExtensionNames.push(ext.name);\n        return ext.langReady({\n          lang,\n          uiStrings,\n          importLocale: getImportLocale({defaultLang: lang, defaultName: ext.name})\n        });\n      }));\n      extsPreLang.length = 0;\n    } else {\n      loadedExtensionNames.forEach((loadedExtensionName) => {\n        svgCanvas.runExtension(\n          loadedExtensionName,\n          'langReady',\n          /** @type {module:svgcanvas.SvgCanvas#event:ext_langReady} */ {\n            lang, uiStrings, importLocale: getImportLocale({defaultLang: lang, defaultName: loadedExtensionName})\n          }\n        );\n      });\n    }\n    svgCanvas.runExtensions('langChanged', /** @type {module:svgcanvas.SvgCanvas#event:ext_langChanged} */ lang);\n\n    // Update flyout tooltips\n    setFlyoutTitles();\n\n    // Copy title for certain tool elements\n    const elems = {\n      '#stroke_color': '#tool_stroke .icon_label, #tool_stroke .color_block',\n      '#fill_color': '#tool_fill label, #tool_fill .color_block',\n      '#linejoin_miter': '#cur_linejoin',\n      '#linecap_butt': '#cur_linecap'\n    };\n\n    $.each(elems, function (source, dest) {\n      $(dest).attr('title', $(source)[0].title);\n    });\n\n    // Copy alignment titles\n    $('#multiselected_panel div[id^=tool_align]').each(function () {\n      $('#tool_pos' + this.id.substr(10))[0].title = this.title;\n    });\n  };\n  localeInit(\n    /**\n    * @implements {module:locale.LocaleEditorInit}\n    */\n    {\n      /**\n      * Gets an array of results from extensions with a `addLangData` method,\n      * returning an object with a `data` property set to its locales (to be\n      * merged with regular locales).\n      * @param {string} langParam\n      * @fires module:svgcanvas.SvgCanvas#event:ext_addLangData\n      * @todo Can we forego this in favor of `langReady` (or forego `langReady`)?\n      * @returns {module:locale.AddLangExtensionLocaleData[]}\n      */\n      addLangData (langParam) {\n        return svgCanvas.runExtensions(\n          'addLangData',\n          /**\n           * @function\n           * @type {module:svgcanvas.ExtensionVarBuilder}\n           * @param {string} name\n           * @returns {module:svgcanvas.SvgCanvas#event:ext_addLangData}\n           */\n          (name) => { // We pass in a function as we don't know the extension name here when defining this `addLangData` method\n            return {\n              lang: langParam,\n              importLocale: getImportLocale({defaultLang: langParam, defaultName: name})\n            };\n          },\n          true\n        );\n      },\n      curConfig\n    }\n  );\n  // Load extensions\n  // Bit of a hack to run extensions in local Opera/IE9\n  if (document.location.protocol === 'file:') {\n    setTimeout(extAndLocaleFunc, 100);\n  } else {\n    // Returns a promise (if we wanted to fire 'extensions-loaded' event,\n    //   potentially useful to hide interface as some extension locales\n    //   are only available after this)\n    extAndLocaleFunc();\n  }\n};\n\n/**\n* @callback module:SVGEditor.ReadyCallback\n* @returns {Promise<void>|void}\n*/\n/**\n* Queues a callback to be invoked when the editor is ready (or\n*   to be invoked immediately if it is already ready--i.e.,\n*   if `runCallbacks` has been run).\n* @function module:SVGEditor.ready\n* @param {module:SVGEditor.ReadyCallback} cb Callback to be queued to invoke\n* @returns {Promise<ArbitraryCallbackResult>} Resolves when all callbacks, including the supplied have resolved\n*/\neditor.ready = function (cb) { // eslint-disable-line promise/prefer-await-to-callbacks\n  return new Promise((resolve, reject) => { // eslint-disable-line promise/avoid-new\n    if (isReady) {\n      resolve(cb()); // eslint-disable-line node/callback-return, promise/prefer-await-to-callbacks\n      return;\n    }\n    callbacks.push([cb, resolve, reject]);\n  });\n};\n\n/**\n* Invokes the callbacks previous set by `svgEditor.ready`\n* @function module:SVGEditor.runCallbacks\n* @returns {Promise<void>} Resolves to `undefined` if all callbacks succeeded and rejects otherwise\n*/\neditor.runCallbacks = async function () {\n  try {\n    await Promise.all(callbacks.map(([cb]) => {\n      return cb(); // eslint-disable-line promise/prefer-await-to-callbacks\n    }));\n  } catch (err) {\n    callbacks.forEach(([, , reject]) => {\n      reject();\n    });\n    throw err;\n  }\n  callbacks.forEach(([, resolve]) => {\n    resolve();\n  });\n  isReady = true;\n};\n\n/**\n * @function module:SVGEditor.loadFromString\n * @param {string} str The SVG string to load\n * @param {PlainObject} [opts={}]\n * @param {boolean} [opts.noAlert=false] Option to avoid alert to user and instead get rejected promise\n * @returns {Promise<void>}\n */\neditor.loadFromString = function (str, {noAlert} = {}) {\n  return editor.ready(async function () {\n    try {\n      await loadSvgString(str, {noAlert});\n    } catch (err) {\n      if (noAlert) {\n        throw err;\n      }\n    }\n  });\n};\n\n/**\n* Not presently in use.\n* @function module:SVGEditor.disableUI\n* @param {PlainObject} featList\n* @returns {void}\n*/\neditor.disableUI = function (featList) {\n  // $(function () {\n  //   $('#tool_wireframe, #tool_image, #main_button, #tool_source, #sidepanels').remove();\n  //   $('#tools_top').css('left', 5);\n  // });\n};\n\n/**\n * @callback module:SVGEditor.URLLoadCallback\n * @param {boolean} success\n * @returns {void}\n */\n/**\n * @function module:SVGEditor.loadFromURL\n * @param {string} url URL from which to load an SVG string via Ajax\n * @param {PlainObject} [opts={}] May contain properties: `cache`, `callback`\n * @param {boolean} [opts.cache]\n * @param {boolean} [opts.noAlert]\n * @returns {Promise<void>} Resolves to `undefined` or rejects upon bad loading of\n *   the SVG (or upon failure to parse the loaded string) when `noAlert` is\n *   enabled\n */\neditor.loadFromURL = function (url, {cache, noAlert} = {}) {\n  return editor.ready(function () {\n    return new Promise((resolve, reject) => { // eslint-disable-line promise/avoid-new\n      $.ajax({\n        url,\n        dataType: 'text',\n        cache: Boolean(cache),\n        beforeSend () {\n          $.process_cancel(uiStrings.notification.loadingImage);\n        },\n        success (str) {\n          resolve(loadSvgString(str, {noAlert}));\n        },\n        error (xhr, stat, err) {\n          if (xhr.status !== 404 && xhr.responseText) {\n            resolve(loadSvgString(xhr.responseText, {noAlert}));\n            return;\n          }\n          if (noAlert) {\n            reject(new Error('URLLoadFail'));\n            return;\n          }\n          $.alert(uiStrings.notification.URLLoadFail + ': \\n' + err);\n          resolve();\n        },\n        complete () {\n          $('#dialog_box').hide();\n        }\n      });\n    });\n  });\n};\n\n/**\n* @function module:SVGEditor.loadFromDataURI\n* @param {string} str The Data URI to base64-decode (if relevant) and load\n* @param {PlainObject} [opts={}]\n* @param {boolean} [opts.noAlert]\n* @returns {Promise<void>} Resolves to `undefined` and rejects if loading SVG string fails and `noAlert` is enabled\n*/\neditor.loadFromDataURI = function (str, {noAlert} = {}) {\n  return editor.ready(function () {\n    let base64 = false;\n    let pre = str.match(/^data:image\\/svg\\+xml;base64,/);\n    if (pre) {\n      base64 = true;\n    } else {\n      pre = str.match(/^data:image\\/svg\\+xml(?:;|;utf8)?,/);\n    }\n    if (pre) {\n      pre = pre[0];\n    }\n    const src = str.slice(pre.length);\n    return loadSvgString(base64 ? Utils.decode64(src) : decodeURIComponent(src), {noAlert});\n  });\n};\n\n/**\n * @function module:SVGEditor.addExtension\n * @param {string} name Used internally; no need for i18n.\n * @param {module:svgcanvas.ExtensionInitCallback} init Config to be invoked on this module\n * @param {module:svgcanvas.ExtensionInitArgs} initArgs\n * @throws {Error} If called too early\n * @returns {Promise<void>} Resolves to `undefined`\n*/\neditor.addExtension = function (name, init, initArgs) {\n  // Note that we don't want this on editor.ready since some extensions\n  // may want to run before then (like server_opensave).\n  // $(function () {\n  if (!svgCanvas) {\n    throw new Error('Extension added too early');\n  }\n  return svgCanvas.addExtension.call(this, name, init, initArgs);\n  // });\n};\n\n// Defer injection to wait out initial menu processing. This probably goes\n//    away once all context menu behavior is brought to context menu.\neditor.ready(() => {\n  injectExtendedContextMenuItemsIntoDom();\n});\n\nlet extensionsAdded = false;\nconst messageQueue = [];\n/**\n * @param {PlainObject} info\n * @param {any} info.data\n * @param {string} info.origin\n * @fires module:svgcanvas.SvgCanvas#event:message\n * @returns {void}\n */\nconst messageListener = ({data, origin}) => { // eslint-disable-line no-shadow\n  // console.log('data, origin, extensionsAdded', data, origin, extensionsAdded);\n  const messageObj = {data, origin};\n  if (!extensionsAdded) {\n    messageQueue.push(messageObj);\n  } else {\n    // Extensions can handle messages at this stage with their own\n    //  canvas `message` listeners\n    svgCanvas.call('message', messageObj);\n  }\n};\nwindow.addEventListener('message', messageListener);\n\n// Run init once DOM is loaded\n// jQuery(editor.init);\n\n(async () => {\ntry {\n  // We wait a micro-task to let the svgEditor variable be defined for module checks\n  await Promise.resolve();\n  editor.init();\n} catch (err) {\n  console.error(err); // eslint-disable-line no-console\n}\n})();\n\nexport default editor;\n","//  TO BUILD AN IIFE VERSION OF THIS FILE (AS CAN WORK ON OLDER BROWSERS),\n//   RUN THE FOLLOWING ON THE COMMAND LINE FROM THE PROJECT ROOT:\n//   `npm run build-by-config`. REPEAT AFTER ANY MODIFICATIONS\n//   TO svgedit-config-es.js.\n\n/*\nThe svgedit-config-es.js file is intended for the setting of configuration\n  or preferences which must run early on; if this is not needed, it is\n  recommended that you create an extension instead (for greater\n  reusability and modularity). This file needs to be in the parent\n  folder of the editor folder. It is referenced in the code as\n  '../svgedit-config-es.js'.\n*/\n\n// CONFIG AND EXTENSION SETTING\n/*\nFor default config and extensions (and available options) available to\n`setConfig()`, see the file `docs/tutorials/ConfigOptions.md`\n*/\n\n// eslint-disable-next-line node/file-extension-in-import\nimport 'core-js/stable';\n// eslint-disable-next-line node/file-extension-in-import\nimport 'regenerator-runtime/runtime';\nimport svgEditor from './svgedit.js';\n\n// URL OVERRIDE CONFIG\nsvgEditor.setConfig({\n  /* To override the ability for URLs to set URL-based SVG content,\n  uncomment the following: */\n  // preventURLContentLoading: true,\n  /* To override the ability for URLs to set other configuration (including\n    extension config), uncomment the following: */\n  // preventAllURLConfig: true,\n  /* To override the ability for URLs to set their own extensions, uncomment the\n  following (note that if `setConfig()` is used in extension code, it will still\n  be additive to extensions, however): */\n  // lockExtensions: true,\n});\n\nsvgEditor.setConfig({\n  /*\n  Provide default values here which differ from that of the editor but\n    which the URL can override\n  */\n}, {allowInitialUserOverride: true});\n\n// EXTENSION CONFIG\nsvgEditor.setConfig({\n  extensions: [\n    // 'ext-overview_window.js', 'ext-markers.js', 'ext-connector.js',\n    //  'ext-eyedropper.js', 'ext-shapes.js', 'ext-imagelib.js',\n    //  'ext-grid.js', 'ext-polygon.js', 'ext-star.js', 'ext-panning.js',\n    //   'ext-storage.js'\n  ],\n  // noDefaultExtensions can only be meaningfully used in\n  //  `svgedit-config-es.js` or in the URL\n  noDefaultExtensions: false\n});\n\n// OTHER CONFIG\nsvgEditor.setConfig({\n  // canvasName: 'default',\n  // canvas_expansion: 3,\n  // initFill: {\n  //   color: 'FF0000', // solid red\n  //   opacity: 1\n  // },\n  // initStroke: {\n  //   width: 5,\n  //   color: '000000', // solid black\n  //   opacity: 1\n  // },\n  // initOpacity: 1,\n  // colorPickerCSS: null,\n  // initTool: 'select',\n  // exportWindowType: 'new', // 'same'\n  // wireframe: false,\n  // showlayers: false,\n  // no_save_warning: false,\n  // PATH CONFIGURATION\n  // imgPath: 'images/',\n  // langPath: './locale/',\n  // extPath: 'extensions/',\n  // jGraduatePath: 'jgraduate/images/',\n  /*\n  Uncomment the following to allow at least same domain (embedded) access,\n  including `file:///` access.\n  Setting as `['*']` would allow any domain to access but would be unsafe to\n  data privacy and integrity.\n  */\n  // May be 'null' (as a string) when used as a `file:///` URL\n  // allowedOrigins: [location.origin || 'null'],\n  // DOCUMENT PROPERTIES\n  // dimensions: [640, 480],\n  // EDITOR OPTIONS\n  // gridSnapping: false,\n  // gridColor: '#000',\n  // baseUnit: 'px',\n  // snappingStep: 10,\n  // showRulers: true,\n  // EXTENSION-RELATED (GRID)\n  // showGrid: false, // Set by ext-grid.js\n  // EXTENSION-RELATED (STORAGE)\n  // Some interaction with `ext-storage.js`; prevent even the loading of\n  //  previously saved local storage\n  // noStorageOnLoad: false,\n  // Some interaction with `ext-storage.js`; strongly discouraged from\n  //  modification as it bypasses user privacy by preventing them from\n  //  choosing whether to keep local storage or not\n  // forceStorage: false,\n  // Used by `ext-storage.js`; empty any prior storage if the user\n  //  declines to store\n  // emptyStorageOnDecline: true,\n});\n\n// PREF CHANGES\n/*\nsetConfig() can also be used to set preferences in addition to\n  configuration (see defaultPrefs in svg-editor.js for a list of\n  possible settings), but at least if you are using ext-storage.js\n  to store preferences, it will probably be better to let your\n  users control these.\nAs with configuration, one may use allowInitialUserOverride, but\n  in the case of preferences, any previously stored preferences\n  will also thereby be enabled to override this setting (and at a\n  higher priority than any URL preference setting overrides).\n  Failing to use allowInitialUserOverride will ensure preferences\n  are hard-coded here regardless of URL or prior user storage setting.\n*/\nsvgEditor.setConfig({\n  // Set dynamically within locale.js if not previously set\n  // lang: '',\n  // Will default to 's' if the window height is smaller than the minimum\n  //  height and 'm' otherwise\n  // iconsize: '',\n  /**\n  * When showing the preferences dialog, svg-editor.js currently relies\n  * on `curPrefs` instead of `svgEditor.pref`, so allowing an override for\n  * `bkgd_color` means that this value won't have priority over block\n  * auto-detection as far as determining which color shows initially\n  * in the preferences dialog (though it can be changed and saved).\n  */\n  // bkgd_color: '#FFF',\n  // bkgd_url: '',\n  // img_save: 'embed',\n  // Only shows in UI as far as alert notices\n  // save_notice_done: false,\n  // export_notice_done: false\n});\nsvgEditor.setConfig(\n  {\n    // Indicate pref settings here if you wish to allow user storage or URL\n    //   settings to be able to override your default preferences (unless\n    //   other config options have already explicitly prevented one or the\n    //   other)\n  },\n  {allowInitialUserOverride: true}\n);\n","!function(n,r){var t,e;\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=r():\"function\"==typeof define&&define.amd?define(\"underscore\",r):(t=n._,e=r(),(n._=e).noConflict=function(){return n._=t,e})}(this,function(){\n//     Underscore.js 1.10.2\n//     https://underscorejs.org\n//     (c) 2009-2020 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\nvar n=\"object\"==typeof self&&self.self===self&&self||\"object\"==typeof global&&global.global===global&&global||Function(\"return this\")()||{},e=Array.prototype,i=Object.prototype,p=\"undefined\"!=typeof Symbol?Symbol.prototype:null,u=e.push,f=e.slice,s=i.toString,o=i.hasOwnProperty,r=Array.isArray,a=Object.keys,t=Object.create,c=n.isNaN,l=n.isFinite,v=function(){};function h(n){return n instanceof h?n:this instanceof h?void(this._wrapped=n):new h(n)}var g=h.VERSION=\"1.10.2\";function y(u,o,n){if(void 0===o)return u;switch(null==n?3:n){case 1:return function(n){return u.call(o,n)};case 3:return function(n,r,t){return u.call(o,n,r,t)};case 4:return function(n,r,t,e){return u.call(o,n,r,t,e)}}return function(){return u.apply(o,arguments)}}function d(n,r,t){return null==n?ur:Cn(n)?y(n,r,t):Ln(n)&&!Kn(n)?ir(n):or(n)}function m(n,r){return d(n,r,1/0)}function b(n,r,t){return h.iteratee!==m?h.iteratee(n,r):d(n,r,t)}function j(u,o){return o=null==o?u.length-1:+o,function(){for(var n=Math.max(arguments.length-o,0),r=Array(n),t=0;t<n;t++)r[t]=arguments[t+o];switch(o){case 0:return u.call(this,r);case 1:return u.call(this,arguments[0],r);case 2:return u.call(this,arguments[0],arguments[1],r)}var e=Array(o+1);for(t=0;t<o;t++)e[t]=arguments[t];return e[o]=r,u.apply(this,e)}}function _(n){if(!Ln(n))return{};if(t)return t(n);v.prototype=n;var r=new v;return v.prototype=null,r}function w(r){return function(n){return null==n?void 0:n[r]}}function x(n,r){return null!=n&&o.call(n,r)}function S(n,r){for(var t=r.length,e=0;e<t;e++){if(null==n)return;n=n[r[e]]}return t?n:void 0}h.iteratee=m;var A=Math.pow(2,53)-1,O=w(\"length\");function M(n){var r=O(n);return\"number\"==typeof r&&0<=r&&r<=A}function E(n,r,t){var e,u;if(r=y(r,t),M(n))for(e=0,u=n.length;e<u;e++)r(n[e],e,n);else{var o=Sn(n);for(e=0,u=o.length;e<u;e++)r(n[o[e]],o[e],n)}return n}function N(n,r,t){r=b(r,t);for(var e=!M(n)&&Sn(n),u=(e||n).length,o=Array(u),i=0;i<u;i++){var a=e?e[i]:i;o[i]=r(n[a],a,n)}return o}function k(f){return function(n,r,t,e){var u=3<=arguments.length;return function(n,r,t,e){var u=!M(n)&&Sn(n),o=(u||n).length,i=0<f?0:o-1;for(e||(t=n[u?u[i]:i],i+=f);0<=i&&i<o;i+=f){var a=u?u[i]:i;t=r(t,n[a],a,n)}return t}(n,y(r,e,4),t,u)}}var I=k(1),T=k(-1);function B(n,r,t){var e=(M(n)?on:Tn)(n,r,t);if(void 0!==e&&-1!==e)return n[e]}function R(n,e,r){var u=[];return e=b(e,r),E(n,function(n,r,t){e(n,r,t)&&u.push(n)}),u}function F(n,r,t){r=b(r,t);for(var e=!M(n)&&Sn(n),u=(e||n).length,o=0;o<u;o++){var i=e?e[o]:o;if(!r(n[i],i,n))return!1}return!0}function q(n,r,t){r=b(r,t);for(var e=!M(n)&&Sn(n),u=(e||n).length,o=0;o<u;o++){var i=e?e[o]:o;if(r(n[i],i,n))return!0}return!1}function D(n,r,t,e){return M(n)||(n=On(n)),(\"number\"!=typeof t||e)&&(t=0),0<=ln(n,r,t)}var W=j(function(n,t,e){var u,o;return Cn(t)?o=t:Kn(t)&&(u=t.slice(0,-1),t=t[t.length-1]),N(n,function(n){var r=o;if(!r){if(u&&u.length&&(n=S(n,u)),null==n)return;r=n[t]}return null==r?r:r.apply(n,e)})});function z(n,r){return N(n,or(r))}function P(n,e,r){var t,u,o=-1/0,i=-1/0;if(null==e||\"number\"==typeof e&&\"object\"!=typeof n[0]&&null!=n)for(var a=0,f=(n=M(n)?n:On(n)).length;a<f;a++)null!=(t=n[a])&&o<t&&(o=t);else e=b(e,r),E(n,function(n,r,t){u=e(n,r,t),(i<u||u===-1/0&&o===-1/0)&&(o=n,i=u)});return o}function K(n,r,t){if(null==r||t)return M(n)||(n=On(n)),n[ar(n.length-1)];var e=M(n)?Dn(n):On(n),u=O(e);r=Math.max(Math.min(r,u),0);for(var o=u-1,i=0;i<r;i++){var a=ar(i,o),f=e[i];e[i]=e[a],e[a]=f}return e.slice(0,r)}function L(i,r){return function(e,u,n){var o=r?[[],[]]:{};return u=b(u,n),E(e,function(n,r){var t=u(n,r,e);i(o,n,t)}),o}}var V=L(function(n,r,t){x(n,t)?n[t].push(r):n[t]=[r]}),C=L(function(n,r,t){n[t]=r}),J=L(function(n,r,t){x(n,t)?n[t]++:n[t]=1}),U=/[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;var $=L(function(n,r,t){n[t?0:1].push(r)},!0);function G(n,r,t){return null==n||n.length<1?null==r?void 0:[]:null==r||t?n[0]:H(n,n.length-r)}function H(n,r,t){return f.call(n,0,Math.max(0,n.length-(null==r||t?1:r)))}function Q(n,r,t){return f.call(n,null==r||t?1:r)}function X(n,r,t,e){for(var u=(e=e||[]).length,o=0,i=O(n);o<i;o++){var a=n[o];if(M(a)&&(Kn(a)||Vn(a)))if(r)for(var f=0,c=a.length;f<c;)e[u++]=a[f++];else X(a,r,t,e),u=e.length;else t||(e[u++]=a)}return e}var Y=j(function(n,r){return rn(n,r)});function Z(n,r,t,e){er(r)||(e=t,t=r,r=!1),null!=t&&(t=b(t,e));for(var u=[],o=[],i=0,a=O(n);i<a;i++){var f=n[i],c=t?t(f,i,n):f;r&&!t?(i&&o===c||u.push(f),o=c):t?D(o,c)||(o.push(c),u.push(f)):D(u,f)||u.push(f)}return u}var nn=j(function(n){return Z(X(n,!0,!0))});var rn=j(function(n,r){return r=X(r,!0,!0),R(n,function(n){return!D(r,n)})});function tn(n){for(var r=n&&P(n,O).length||0,t=Array(r),e=0;e<r;e++)t[e]=z(n,e);return t}var en=j(tn);function un(o){return function(n,r,t){r=b(r,t);for(var e=O(n),u=0<o?0:e-1;0<=u&&u<e;u+=o)if(r(n[u],u,n))return u;return-1}}var on=un(1),an=un(-1);function fn(n,r,t,e){for(var u=(t=b(t,e,1))(r),o=0,i=O(n);o<i;){var a=Math.floor((o+i)/2);t(n[a])<u?o=a+1:i=a}return o}function cn(o,i,a){return function(n,r,t){var e=0,u=O(n);if(\"number\"==typeof t)0<o?e=0<=t?t:Math.max(t+u,e):u=0<=t?Math.min(t+1,u):t+u+1;else if(a&&t&&u)return n[t=a(n,r)]===r?t:-1;if(r!=r)return 0<=(t=i(f.call(n,e,u),tr))?t+e:-1;for(t=0<o?e:u-1;0<=t&&t<u;t+=o)if(n[t]===r)return t;return-1}}var ln=cn(1,on,fn),pn=cn(-1,an);function sn(n,r,t,e,u){if(!(e instanceof r))return n.apply(t,u);var o=_(n.prototype),i=n.apply(o,u);return Ln(i)?i:o}var vn=j(function(r,t,e){if(!Cn(r))throw new TypeError(\"Bind must be called on a function\");var u=j(function(n){return sn(r,u,t,this,e.concat(n))});return u}),hn=j(function(u,o){var i=hn.placeholder,a=function(){for(var n=0,r=o.length,t=Array(r),e=0;e<r;e++)t[e]=o[e]===i?arguments[n++]:o[e];for(;n<arguments.length;)t.push(arguments[n++]);return sn(u,a,this,this,t)};return a});hn.placeholder=h;var gn=j(function(n,r){var t=(r=X(r,!1,!1)).length;if(t<1)throw new Error(\"bindAll must be passed function names\");for(;t--;){var e=r[t];n[e]=vn(n[e],n)}});var yn=j(function(n,r,t){return setTimeout(function(){return n.apply(null,t)},r)}),dn=hn(yn,h,1);function mn(n){return function(){return!n.apply(this,arguments)}}function bn(n,r){var t;return function(){return 0<--n&&(t=r.apply(this,arguments)),n<=1&&(r=null),t}}var jn=hn(bn,2),_n=!{toString:null}.propertyIsEnumerable(\"toString\"),wn=[\"valueOf\",\"isPrototypeOf\",\"toString\",\"propertyIsEnumerable\",\"hasOwnProperty\",\"toLocaleString\"];function xn(n,r){var t=wn.length,e=n.constructor,u=Cn(e)&&e.prototype||i,o=\"constructor\";for(x(n,o)&&!D(r,o)&&r.push(o);t--;)(o=wn[t])in n&&n[o]!==u[o]&&!D(r,o)&&r.push(o)}function Sn(n){if(!Ln(n))return[];if(a)return a(n);var r=[];for(var t in n)x(n,t)&&r.push(t);return _n&&xn(n,r),r}function An(n){if(!Ln(n))return[];var r=[];for(var t in n)r.push(t);return _n&&xn(n,r),r}function On(n){for(var r=Sn(n),t=r.length,e=Array(t),u=0;u<t;u++)e[u]=n[r[u]];return e}function Mn(n){for(var r={},t=Sn(n),e=0,u=t.length;e<u;e++)r[n[t[e]]]=t[e];return r}function En(n){var r=[];for(var t in n)Cn(n[t])&&r.push(t);return r.sort()}function Nn(f,c){return function(n){var r=arguments.length;if(c&&(n=Object(n)),r<2||null==n)return n;for(var t=1;t<r;t++)for(var e=arguments[t],u=f(e),o=u.length,i=0;i<o;i++){var a=u[i];c&&void 0!==n[a]||(n[a]=e[a])}return n}}var kn=Nn(An),In=Nn(Sn);function Tn(n,r,t){r=b(r,t);for(var e,u=Sn(n),o=0,i=u.length;o<i;o++)if(r(n[e=u[o]],e,n))return e}function Bn(n,r,t){return r in t}var Rn=j(function(n,r){var t={},e=r[0];if(null==n)return t;Cn(e)?(1<r.length&&(e=y(e,r[1])),r=An(n)):(e=Bn,r=X(r,!1,!1),n=Object(n));for(var u=0,o=r.length;u<o;u++){var i=r[u],a=n[i];e(a,i,n)&&(t[i]=a)}return t}),Fn=j(function(n,t){var r,e=t[0];return Cn(e)?(e=mn(e),1<t.length&&(r=t[1])):(t=N(X(t,!1,!1),String),e=function(n,r){return!D(t,r)}),Rn(n,e,r)}),qn=Nn(An,!0);function Dn(n){return Ln(n)?Kn(n)?n.slice():kn({},n):n}function Wn(n,r){var t=Sn(r),e=t.length;if(null==n)return!e;for(var u=Object(n),o=0;o<e;o++){var i=t[o];if(r[i]!==u[i]||!(i in u))return!1}return!0}function zn(n,r,t,e){if(n===r)return 0!==n||1/n==1/r;if(null==n||null==r)return!1;if(n!=n)return r!=r;var u=typeof n;return(\"function\"===u||\"object\"===u||\"object\"==typeof r)&&function(n,r,t,e){n instanceof h&&(n=n._wrapped);r instanceof h&&(r=r._wrapped);var u=s.call(n);if(u!==s.call(r))return!1;switch(u){case\"[object RegExp]\":case\"[object String]\":return\"\"+n==\"\"+r;case\"[object Number]\":return+n!=+n?+r!=+r:0==+n?1/+n==1/r:+n==+r;case\"[object Date]\":case\"[object Boolean]\":return+n==+r;case\"[object Symbol]\":return p.valueOf.call(n)===p.valueOf.call(r)}var o=\"[object Array]\"===u;if(!o){if(\"object\"!=typeof n||\"object\"!=typeof r)return!1;var i=n.constructor,a=r.constructor;if(i!==a&&!(Cn(i)&&i instanceof i&&Cn(a)&&a instanceof a)&&\"constructor\"in n&&\"constructor\"in r)return!1}e=e||[];var f=(t=t||[]).length;for(;f--;)if(t[f]===n)return e[f]===r;if(t.push(n),e.push(r),o){if((f=n.length)!==r.length)return!1;for(;f--;)if(!zn(n[f],r[f],t,e))return!1}else{var c,l=Sn(n);if(f=l.length,Sn(r).length!==f)return!1;for(;f--;)if(c=l[f],!x(r,c)||!zn(n[c],r[c],t,e))return!1}return t.pop(),e.pop(),!0}(n,r,t,e)}function Pn(r){return function(n){return s.call(n)===\"[object \"+r+\"]\"}}var Kn=r||Pn(\"Array\");function Ln(n){var r=typeof n;return\"function\"===r||\"object\"===r&&!!n}var Vn=Pn(\"Arguments\"),Cn=Pn(\"Function\"),Jn=Pn(\"String\"),Un=Pn(\"Number\"),$n=Pn(\"Date\"),Gn=Pn(\"RegExp\"),Hn=Pn(\"Error\"),Qn=Pn(\"Symbol\"),Xn=Pn(\"Map\"),Yn=Pn(\"WeakMap\"),Zn=Pn(\"Set\"),nr=Pn(\"WeakSet\");!function(){Vn(arguments)||(Vn=function(n){return x(n,\"callee\")})}();var rr=n.document&&n.document.childNodes;function tr(n){return Un(n)&&c(n)}function er(n){return!0===n||!1===n||\"[object Boolean]\"===s.call(n)}function ur(n){return n}function or(r){return Kn(r)?function(n){return S(n,r)}:w(r)}function ir(r){return r=In({},r),function(n){return Wn(n,r)}}function ar(n,r){return null==r&&(r=n,n=0),n+Math.floor(Math.random()*(r-n+1))}\"function\"!=typeof/./&&\"object\"!=typeof Int8Array&&\"function\"!=typeof rr&&(Cn=function(n){return\"function\"==typeof n||!1});var fr=Date.now||function(){return(new Date).getTime()},cr={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#x27;\",\"`\":\"&#x60;\"},lr=Mn(cr);function pr(r){var t=function(n){return r[n]},n=\"(?:\"+Sn(r).join(\"|\")+\")\",e=RegExp(n),u=RegExp(n,\"g\");return function(n){return n=null==n?\"\":\"\"+n,e.test(n)?n.replace(u,t):n}}var sr=pr(cr),vr=pr(lr);var hr=0;var gr=h.templateSettings={evaluate:/<%([\\s\\S]+?)%>/g,interpolate:/<%=([\\s\\S]+?)%>/g,escape:/<%-([\\s\\S]+?)%>/g},yr=/(.)^/,dr={\"'\":\"'\",\"\\\\\":\"\\\\\",\"\\r\":\"r\",\"\\n\":\"n\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},mr=/\\\\|'|\\r|\\n|\\u2028|\\u2029/g,br=function(n){return\"\\\\\"+dr[n]};function jr(n,r){return n._chain?h(r).chain():r}function _r(t){return E(En(t),function(n){var r=h[n]=t[n];h.prototype[n]=function(){var n=[this._wrapped];return u.apply(n,arguments),jr(this,r.apply(h,n))}}),h}E([\"pop\",\"push\",\"reverse\",\"shift\",\"sort\",\"splice\",\"unshift\"],function(r){var t=e[r];h.prototype[r]=function(){var n=this._wrapped;return t.apply(n,arguments),\"shift\"!==r&&\"splice\"!==r||0!==n.length||delete n[0],jr(this,n)}}),E([\"concat\",\"join\",\"slice\"],function(n){var r=e[n];h.prototype[n]=function(){return jr(this,r.apply(this._wrapped,arguments))}}),h.prototype.valueOf=h.prototype.toJSON=h.prototype.value=function(){return this._wrapped},h.prototype.toString=function(){return String(this._wrapped)};var wr=_r({default:h,VERSION:g,iteratee:m,restArguments:j,each:E,forEach:E,map:N,collect:N,reduce:I,foldl:I,inject:I,reduceRight:T,foldr:T,find:B,detect:B,filter:R,select:R,reject:function(n,r,t){return R(n,mn(b(r)),t)},every:F,all:F,some:q,any:q,contains:D,includes:D,include:D,invoke:W,pluck:z,where:function(n,r){return R(n,ir(r))},findWhere:function(n,r){return B(n,ir(r))},max:P,min:function(n,e,r){var t,u,o=1/0,i=1/0;if(null==e||\"number\"==typeof e&&\"object\"!=typeof n[0]&&null!=n)for(var a=0,f=(n=M(n)?n:On(n)).length;a<f;a++)null!=(t=n[a])&&t<o&&(o=t);else e=b(e,r),E(n,function(n,r,t){((u=e(n,r,t))<i||u===1/0&&o===1/0)&&(o=n,i=u)});return o},shuffle:function(n){return K(n,1/0)},sample:K,sortBy:function(n,e,r){var u=0;return e=b(e,r),z(N(n,function(n,r,t){return{value:n,index:u++,criteria:e(n,r,t)}}).sort(function(n,r){var t=n.criteria,e=r.criteria;if(t!==e){if(e<t||void 0===t)return 1;if(t<e||void 0===e)return-1}return n.index-r.index}),\"value\")},groupBy:V,indexBy:C,countBy:J,toArray:function(n){return n?Kn(n)?f.call(n):Jn(n)?n.match(U):M(n)?N(n,ur):On(n):[]},size:function(n){return null==n?0:M(n)?n.length:Sn(n).length},partition:$,first:G,head:G,take:G,initial:H,last:function(n,r,t){return null==n||n.length<1?null==r?void 0:[]:null==r||t?n[n.length-1]:Q(n,Math.max(0,n.length-r))},rest:Q,tail:Q,drop:Q,compact:function(n){return R(n,Boolean)},flatten:function(n,r){return X(n,r,!1)},without:Y,uniq:Z,unique:Z,union:nn,intersection:function(n){for(var r=[],t=arguments.length,e=0,u=O(n);e<u;e++){var o=n[e];if(!D(r,o)){var i;for(i=1;i<t&&D(arguments[i],o);i++);i===t&&r.push(o)}}return r},difference:rn,unzip:tn,zip:en,object:function(n,r){for(var t={},e=0,u=O(n);e<u;e++)r?t[n[e]]=r[e]:t[n[e][0]]=n[e][1];return t},findIndex:on,findLastIndex:an,sortedIndex:fn,indexOf:ln,lastIndexOf:pn,range:function(n,r,t){null==r&&(r=n||0,n=0),t||(t=r<n?-1:1);for(var e=Math.max(Math.ceil((r-n)/t),0),u=Array(e),o=0;o<e;o++,n+=t)u[o]=n;return u},chunk:function(n,r){if(null==r||r<1)return[];for(var t=[],e=0,u=n.length;e<u;)t.push(f.call(n,e,e+=r));return t},bind:vn,partial:hn,bindAll:gn,memoize:function(e,u){var o=function(n){var r=o.cache,t=\"\"+(u?u.apply(this,arguments):n);return x(r,t)||(r[t]=e.apply(this,arguments)),r[t]};return o.cache={},o},delay:yn,defer:dn,throttle:function(t,e,u){var o,i,a,f,c=0;u||(u={});var l=function(){c=!1===u.leading?0:fr(),o=null,f=t.apply(i,a),o||(i=a=null)},n=function(){var n=fr();c||!1!==u.leading||(c=n);var r=e-(n-c);return i=this,a=arguments,r<=0||e<r?(o&&(clearTimeout(o),o=null),c=n,f=t.apply(i,a),o||(i=a=null)):o||!1===u.trailing||(o=setTimeout(l,r)),f};return n.cancel=function(){clearTimeout(o),c=0,o=i=a=null},n},debounce:function(t,e,u){var o,i,a=function(n,r){o=null,r&&(i=t.apply(n,r))},n=j(function(n){if(o&&clearTimeout(o),u){var r=!o;o=setTimeout(a,e),r&&(i=t.apply(this,n))}else o=yn(a,e,this,n);return i});return n.cancel=function(){clearTimeout(o),o=null},n},wrap:function(n,r){return hn(r,n)},negate:mn,compose:function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},after:function(n,r){return function(){if(--n<1)return r.apply(this,arguments)}},before:bn,once:jn,keys:Sn,allKeys:An,values:On,mapObject:function(n,r,t){r=b(r,t);for(var e=Sn(n),u=e.length,o={},i=0;i<u;i++){var a=e[i];o[a]=r(n[a],a,n)}return o},pairs:function(n){for(var r=Sn(n),t=r.length,e=Array(t),u=0;u<t;u++)e[u]=[r[u],n[r[u]]];return e},invert:Mn,functions:En,methods:En,extend:kn,extendOwn:In,assign:In,findKey:Tn,pick:Rn,omit:Fn,defaults:qn,create:function(n,r){var t=_(n);return r&&In(t,r),t},clone:Dn,tap:function(n,r){return r(n),n},isMatch:Wn,isEqual:function(n,r){return zn(n,r)},isEmpty:function(n){return null==n||(M(n)&&(Kn(n)||Jn(n)||Vn(n))?0===n.length:0===Sn(n).length)},isElement:function(n){return!(!n||1!==n.nodeType)},isArray:Kn,isObject:Ln,isArguments:Vn,isFunction:Cn,isString:Jn,isNumber:Un,isDate:$n,isRegExp:Gn,isError:Hn,isSymbol:Qn,isMap:Xn,isWeakMap:Yn,isSet:Zn,isWeakSet:nr,isFinite:function(n){return!Qn(n)&&l(n)&&!c(parseFloat(n))},isNaN:tr,isBoolean:er,isNull:function(n){return null===n},isUndefined:function(n){return void 0===n},has:function(n,r){if(!Kn(r))return x(n,r);for(var t=r.length,e=0;e<t;e++){var u=r[e];if(null==n||!o.call(n,u))return!1;n=n[u]}return!!t},identity:ur,constant:function(n){return function(){return n}},noop:function(){},property:or,propertyOf:function(r){return null==r?function(){}:function(n){return Kn(n)?S(r,n):r[n]}},matcher:ir,matches:ir,times:function(n,r,t){var e=Array(Math.max(0,n));r=y(r,t,1);for(var u=0;u<n;u++)e[u]=r(u);return e},random:ar,now:fr,escape:sr,unescape:vr,result:function(n,r,t){Kn(r)||(r=[r]);var e=r.length;if(!e)return Cn(t)?t.call(n):t;for(var u=0;u<e;u++){var o=null==n?void 0:n[r[u]];void 0===o&&(o=t,u=e),n=Cn(o)?o.call(n):o}return n},uniqueId:function(n){var r=++hr+\"\";return n?n+r:r},templateSettings:gr,template:function(o,n,r){!n&&r&&(n=r),n=qn({},n,h.templateSettings);var t,e=RegExp([(n.escape||yr).source,(n.interpolate||yr).source,(n.evaluate||yr).source].join(\"|\")+\"|$\",\"g\"),i=0,a=\"__p+='\";o.replace(e,function(n,r,t,e,u){return a+=o.slice(i,u).replace(mr,br),i=u+n.length,r?a+=\"'+\\n((__t=(\"+r+\"))==null?'':_.escape(__t))+\\n'\":t?a+=\"'+\\n((__t=(\"+t+\"))==null?'':__t)+\\n'\":e&&(a+=\"';\\n\"+e+\"\\n__p+='\"),n}),a+=\"';\\n\",n.variable||(a=\"with(obj||{}){\\n\"+a+\"}\\n\"),a=\"var __t,__p='',__j=Array.prototype.join,\"+\"print=function(){__p+=__j.call(arguments,'');};\\n\"+a+\"return __p;\\n\";try{t=new Function(n.variable||\"obj\",\"_\",a)}catch(n){throw n.source=a,n}var u=function(n){return t.call(this,n,h)},f=n.variable||\"obj\";return u.source=\"function(\"+f+\"){\\n\"+a+\"}\",u},chain:function(n){var r=h(n);return r._chain=!0,r},mixin:_r});return wr._=wr});","export default (typeof global !== \"undefined\" ? global :\n  typeof self !== \"undefined\" ? self :\n  typeof window !== \"undefined\" ? window : {});","var lookup = [];\nvar revLookup = [];\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array;\nvar inited = false;\nfunction init () {\n  inited = true;\n  var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n  for (var i = 0, len = code.length; i < len; ++i) {\n    lookup[i] = code[i];\n    revLookup[code.charCodeAt(i)] = i;\n  }\n\n  revLookup['-'.charCodeAt(0)] = 62;\n  revLookup['_'.charCodeAt(0)] = 63;\n}\n\nfunction toByteArray (b64) {\n  if (!inited) {\n    init();\n  }\n  var i, j, l, tmp, placeHolders, arr;\n  var len = b64.length;\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  placeHolders = b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0;\n\n  // base64 is 4/3 + up to two characters of the original data\n  arr = new Arr(len * 3 / 4 - placeHolders);\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len;\n\n  var L = 0;\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)];\n    arr[L++] = (tmp >> 16) & 0xFF;\n    arr[L++] = (tmp >> 8) & 0xFF;\n    arr[L++] = tmp & 0xFF;\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4);\n    arr[L++] = tmp & 0xFF;\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2);\n    arr[L++] = (tmp >> 8) & 0xFF;\n    arr[L++] = tmp & 0xFF;\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp;\n  var output = [];\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2]);\n    output.push(tripletToBase64(tmp));\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  if (!inited) {\n    init();\n  }\n  var tmp;\n  var len = uint8.length;\n  var extraBytes = len % 3; // if we have 1 byte left, pad 2 bytes\n  var output = '';\n  var parts = [];\n  var maxChunkLength = 16383; // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)));\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1];\n    output += lookup[tmp >> 2];\n    output += lookup[(tmp << 4) & 0x3F];\n    output += '==';\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1]);\n    output += lookup[tmp >> 10];\n    output += lookup[(tmp >> 4) & 0x3F];\n    output += lookup[(tmp << 2) & 0x3F];\n    output += '=';\n  }\n\n  parts.push(output);\n\n  return parts.join('')\n}\n\nfunction read (buffer, offset, isLE, mLen, nBytes) {\n  var e, m;\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = -7;\n  var i = isLE ? (nBytes - 1) : 0;\n  var d = isLE ? -1 : 1;\n  var s = buffer[offset + i];\n\n  i += d;\n\n  e = s & ((1 << (-nBits)) - 1);\n  s >>= (-nBits);\n  nBits += eLen;\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1);\n  e >>= (-nBits);\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nfunction write (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c;\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0);\n  var i = isLE ? 0 : (nBytes - 1);\n  var d = isLE ? 1 : -1;\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0;\n\n  value = Math.abs(value);\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128;\n}\n\nvar toString = {}.toString;\n\nvar isArray = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n\nvar INSPECT_MAX_BYTES = 50;\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : true;\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nvar _kMaxLength = kMaxLength();\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length);\n    that.__proto__ = Buffer.prototype;\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length);\n    }\n    that.length = length;\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192; // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype;\n  return arr\n};\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n};\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype;\n  Buffer.__proto__ = Uint8Array;\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size);\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n};\n\nfunction allocUnsafe (that, size) {\n  assertSize(size);\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0);\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0;\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n};\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n};\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8';\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0;\n  that = createBuffer(that, length);\n\n  var actual = that.write(string, encoding);\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual);\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0;\n  that = createBuffer(that, length);\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255;\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength; // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array);\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset);\n  } else {\n    array = new Uint8Array(array, byteOffset, length);\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array;\n    that.__proto__ = Buffer.prototype;\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array);\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (internalIsBuffer(obj)) {\n    var len = checked(obj.length) | 0;\n    that = createBuffer(that, len);\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len);\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0;\n  }\n  return Buffer.alloc(+length)\n}\nBuffer.isBuffer = isBuffer;\nfunction internalIsBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!internalIsBuffer(a) || !internalIsBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n};\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n};\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i;\n  if (length === undefined) {\n    length = 0;\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length;\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length);\n  var pos = 0;\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i];\n    if (!internalIsBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos);\n    pos += buf.length;\n  }\n  return buffer\n};\n\nfunction byteLength (string, encoding) {\n  if (internalIsBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string;\n  }\n\n  var len = string.length;\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false;\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase();\n        loweredCase = true;\n    }\n  }\n}\nBuffer.byteLength = byteLength;\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false;\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0;\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length;\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0;\n  start >>>= 0;\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8';\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase();\n        loweredCase = true;\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true;\n\nfunction swap (b, n, m) {\n  var i = b[n];\n  b[n] = b[m];\n  b[m] = i;\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length;\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1);\n  }\n  return this\n};\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length;\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3);\n    swap(this, i + 1, i + 2);\n  }\n  return this\n};\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length;\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7);\n    swap(this, i + 1, i + 6);\n    swap(this, i + 2, i + 5);\n    swap(this, i + 3, i + 4);\n  }\n  return this\n};\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0;\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n};\n\nBuffer.prototype.equals = function equals (b) {\n  if (!internalIsBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n};\n\nBuffer.prototype.inspect = function inspect () {\n  var str = '';\n  var max = INSPECT_MAX_BYTES;\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ');\n    if (this.length > max) str += ' ... ';\n  }\n  return '<Buffer ' + str + '>'\n};\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!internalIsBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0;\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0;\n  }\n  if (thisStart === undefined) {\n    thisStart = 0;\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length;\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0;\n  end >>>= 0;\n  thisStart >>>= 0;\n  thisEnd >>>= 0;\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart;\n  var y = end - start;\n  var len = Math.min(x, y);\n\n  var thisCopy = this.slice(thisStart, thisEnd);\n  var targetCopy = target.slice(start, end);\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i];\n      y = targetCopy[i];\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n};\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset;\n    byteOffset = 0;\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff;\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000;\n  }\n  byteOffset = +byteOffset;  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1);\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset;\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1;\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0;\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding);\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (internalIsBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF; // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1;\n  var arrLength = arr.length;\n  var valLength = val.length;\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase();\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2;\n      arrLength /= 2;\n      valLength /= 2;\n      byteOffset /= 2;\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i;\n  if (dir) {\n    var foundIndex = -1;\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i;\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex;\n        foundIndex = -1;\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength;\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true;\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false;\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n};\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n};\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n};\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0;\n  var remaining = buf.length - offset;\n  if (!length) {\n    length = remaining;\n  } else {\n    length = Number(length);\n    if (length > remaining) {\n      length = remaining;\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length;\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2;\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16);\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed;\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8';\n    length = this.length;\n    offset = 0;\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset;\n    length = this.length;\n    offset = 0;\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0;\n    if (isFinite(length)) {\n      length = length | 0;\n      if (encoding === undefined) encoding = 'utf8';\n    } else {\n      encoding = length;\n      length = undefined;\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset;\n  if (length === undefined || length > remaining) length = remaining;\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8';\n\n  var loweredCase = false;\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase();\n        loweredCase = true;\n    }\n  }\n};\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n};\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return fromByteArray(buf)\n  } else {\n    return fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end);\n  var res = [];\n\n  var i = start;\n  while (i < end) {\n    var firstByte = buf[i];\n    var codePoint = null;\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1;\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint;\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte;\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1];\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F);\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint;\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1];\n          thirdByte = buf[i + 2];\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F);\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint;\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1];\n          thirdByte = buf[i + 2];\n          fourthByte = buf[i + 3];\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F);\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint;\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD;\n      bytesPerSequence = 1;\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000;\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800);\n      codePoint = 0xDC00 | codePoint & 0x3FF;\n    }\n\n    res.push(codePoint);\n    i += bytesPerSequence;\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000;\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length;\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = '';\n  var i = 0;\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    );\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = '';\n  end = Math.min(buf.length, end);\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F);\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = '';\n  end = Math.min(buf.length, end);\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i]);\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length;\n\n  if (!start || start < 0) start = 0;\n  if (!end || end < 0 || end > len) end = len;\n\n  var out = '';\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i]);\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end);\n  var res = '';\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256);\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length;\n  start = ~~start;\n  end = end === undefined ? len : ~~end;\n\n  if (start < 0) {\n    start += len;\n    if (start < 0) start = 0;\n  } else if (start > len) {\n    start = len;\n  }\n\n  if (end < 0) {\n    end += len;\n    if (end < 0) end = 0;\n  } else if (end > len) {\n    end = len;\n  }\n\n  if (end < start) end = start;\n\n  var newBuf;\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end);\n    newBuf.__proto__ = Buffer.prototype;\n  } else {\n    var sliceLen = end - start;\n    newBuf = new Buffer(sliceLen, undefined);\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start];\n    }\n  }\n\n  return newBuf\n};\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n\n  var val = this[offset];\n  var mul = 1;\n  var i = 0;\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul;\n  }\n\n  return val\n};\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length);\n  }\n\n  var val = this[offset + --byteLength];\n  var mul = 1;\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul;\n  }\n\n  return val\n};\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length);\n  return this[offset]\n};\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  return this[offset] | (this[offset + 1] << 8)\n};\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  return (this[offset] << 8) | this[offset + 1]\n};\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n};\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n};\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n\n  var val = this[offset];\n  var mul = 1;\n  var i = 0;\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul;\n  }\n  mul *= 0x80;\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n\n  return val\n};\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n\n  var i = byteLength;\n  var mul = 1;\n  var val = this[offset + --i];\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul;\n  }\n  mul *= 0x80;\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n\n  return val\n};\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length);\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n};\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  var val = this[offset] | (this[offset + 1] << 8);\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n};\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  var val = this[offset + 1] | (this[offset] << 8);\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n};\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n};\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n};\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return read(this, offset, true, 23, 4)\n};\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return read(this, offset, false, 23, 4)\n};\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length);\n  return read(this, offset, true, 52, 8)\n};\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length);\n  return read(this, offset, false, 52, 8)\n};\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!internalIsBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1;\n    checkInt(this, value, offset, byteLength, maxBytes, 0);\n  }\n\n  var mul = 1;\n  var i = 0;\n  this[offset] = value & 0xFF;\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF;\n  }\n\n  return offset + byteLength\n};\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1;\n    checkInt(this, value, offset, byteLength, maxBytes, 0);\n  }\n\n  var i = byteLength - 1;\n  var mul = 1;\n  this[offset + i] = value & 0xFF;\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF;\n  }\n\n  return offset + byteLength\n};\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0);\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value);\n  this[offset] = (value & 0xff);\n  return offset + 1\n};\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1;\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8;\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff);\n    this[offset + 1] = (value >>> 8);\n  } else {\n    objectWriteUInt16(this, value, offset, true);\n  }\n  return offset + 2\n};\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8);\n    this[offset + 1] = (value & 0xff);\n  } else {\n    objectWriteUInt16(this, value, offset, false);\n  }\n  return offset + 2\n};\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1;\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff;\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24);\n    this[offset + 2] = (value >>> 16);\n    this[offset + 1] = (value >>> 8);\n    this[offset] = (value & 0xff);\n  } else {\n    objectWriteUInt32(this, value, offset, true);\n  }\n  return offset + 4\n};\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24);\n    this[offset + 1] = (value >>> 16);\n    this[offset + 2] = (value >>> 8);\n    this[offset + 3] = (value & 0xff);\n  } else {\n    objectWriteUInt32(this, value, offset, false);\n  }\n  return offset + 4\n};\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1);\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit);\n  }\n\n  var i = 0;\n  var mul = 1;\n  var sub = 0;\n  this[offset] = value & 0xFF;\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1;\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF;\n  }\n\n  return offset + byteLength\n};\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1);\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit);\n  }\n\n  var i = byteLength - 1;\n  var mul = 1;\n  var sub = 0;\n  this[offset + i] = value & 0xFF;\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1;\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF;\n  }\n\n  return offset + byteLength\n};\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80);\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value);\n  if (value < 0) value = 0xff + value + 1;\n  this[offset] = (value & 0xff);\n  return offset + 1\n};\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff);\n    this[offset + 1] = (value >>> 8);\n  } else {\n    objectWriteUInt16(this, value, offset, true);\n  }\n  return offset + 2\n};\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8);\n    this[offset + 1] = (value & 0xff);\n  } else {\n    objectWriteUInt16(this, value, offset, false);\n  }\n  return offset + 2\n};\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff);\n    this[offset + 1] = (value >>> 8);\n    this[offset + 2] = (value >>> 16);\n    this[offset + 3] = (value >>> 24);\n  } else {\n    objectWriteUInt32(this, value, offset, true);\n  }\n  return offset + 4\n};\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n  if (value < 0) value = 0xffffffff + value + 1;\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24);\n    this[offset + 1] = (value >>> 16);\n    this[offset + 2] = (value >>> 8);\n    this[offset + 3] = (value & 0xff);\n  } else {\n    objectWriteUInt32(this, value, offset, false);\n  }\n  return offset + 4\n};\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4);\n  }\n  write(buf, value, offset, littleEndian, 23, 4);\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n};\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n};\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8);\n  }\n  write(buf, value, offset, littleEndian, 52, 8);\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n};\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n};\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0;\n  if (!end && end !== 0) end = this.length;\n  if (targetStart >= target.length) targetStart = target.length;\n  if (!targetStart) targetStart = 0;\n  if (end > 0 && end < start) end = start;\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length;\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start;\n  }\n\n  var len = end - start;\n  var i;\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start];\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start];\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    );\n  }\n\n  return len\n};\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start;\n      start = 0;\n      end = this.length;\n    } else if (typeof end === 'string') {\n      encoding = end;\n      end = this.length;\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0);\n      if (code < 256) {\n        val = code;\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255;\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0;\n  end = end === undefined ? this.length : end >>> 0;\n\n  if (!val) val = 0;\n\n  var i;\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val;\n    }\n  } else {\n    var bytes = internalIsBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString());\n    var len = bytes.length;\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len];\n    }\n  }\n\n  return this\n};\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g;\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '');\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '=';\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity;\n  var codePoint;\n  var length = string.length;\n  var leadSurrogate = null;\n  var bytes = [];\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i);\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint;\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n        leadSurrogate = codePoint;\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000;\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n    }\n\n    leadSurrogate = null;\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint);\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      );\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      );\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      );\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = [];\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF);\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo;\n  var byteArray = [];\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i);\n    hi = c >> 8;\n    lo = c % 256;\n    byteArray.push(lo);\n    byteArray.push(hi);\n  }\n\n  return byteArray\n}\n\n\nfunction base64ToBytes (str) {\n  return toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i];\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n// the following is from is-buffer, also by Feross Aboukhadijeh and with same lisence\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nfunction isBuffer(obj) {\n  return obj != null && (!!obj._isBuffer || isFastBuffer(obj) || isSlowBuffer(obj))\n}\n\nfunction isFastBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isFastBuffer(obj.slice(0, 0))\n}\n\nexport { Buffer, INSPECT_MAX_BYTES, SlowBuffer, isBuffer, _kMaxLength as kMaxLength };\n","/**\n * jsPDF - PDF Document creation from JavaScript\n * Version 1.0.150-git Built on 2014-05-30T00:40\n *                           CommitID dcbc9fcb9b\n *\n * Copyright (c) 2010-2014 James Hall, https://github.com/MrRio/jsPDF\n *               2010 Aaron Spike, https://github.com/acspike\n *               2012 Willow Systems Corporation, willow-systems.com\n *               2012 Pablo Hess, https://github.com/pablohess\n *               2012 Florian Jenett, https://github.com/fjenett\n *               2013 Warren Weckesser, https://github.com/warrenweckesser\n *               2013 Youssef Beddad, https://github.com/lifof\n *               2013 Lee Driscoll, https://github.com/lsdriscoll\n *               2013 Stefan Slonevskiy, https://github.com/stefslon\n *               2013 Jeremy Morel, https://github.com/jmorel\n *               2013 Christoph Hartmann, https://github.com/chris-rock\n *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria\n *               2014 James Makes, https://github.com/dollaruw\n *               2014 Diego Casorran, https://github.com/diegocr\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n *\n * Contributor(s):\n *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,\n *    kim3er, mfo, alnorth,\n */\n/**\n * jsPDF addHTML PlugIn\n * Copyright (c) 2014 Diego Casorran\n * Licensed under the MIT License.\n * http://opensource.org/licenses/mit-license\n */\n/**\n * jsPDF addImage plugin\n * Copyright (c) 2012 Jason Siefken, https://github.com/siefkenj/\n *               2013 Chris Dowling, https://github.com/gingerchris\n *               2013 Trinh Ho, https://github.com/ineedfat\n *               2013 Edwin Alejandro Perez, https://github.com/eaparango\n *               2013 Norah Smith, https://github.com/burnburnrocket\n *               2014 Diego Casorran, https://github.com/diegocr\n *               2014 James Robb, https://github.com/jamesbrobb\n */\n/**\n * jsPDF Cell plugin\n * Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com\n *               2013 Eduardo Menezes de Morais, eduardo.morais@usp.br\n *               2013 Lee Driscoll, https://github.com/lsdriscoll\n *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria\n *               2014 James Hall, james@parall.ax\n *               2014 Diego Casorran, https://github.com/diegocr\n */\n/**\n * jsPDF fromHTML plugin. BETA stage. API subject to change. Needs browser\n * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com\n *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria\n *               2014 Diego Casorran, https://github.com/diegocr\n *               2014 Daniel Husar, https://github.com/danielhusar\n *               2014 Wolfgang Gassler, https://github.com/woolfg\n */\n/**\n * jsPDF JavaScript plugin\n * Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com\n */\n/**\n * jsPDF PNG PlugIn\n * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb\n */\n/**\njsPDF Silly SVG plugin\nCopyright (c) 2012 Willow Systems Corporation, willow-systems.com\n*/\n/**\n * jsPDF split_text_to_size plugin - MIT license.\n * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com\n *               2014 Diego Casorran, https://github.com/diegocr\n */\n/**\njsPDF standard_fonts_metrics plugin\nCopyright (c) 2012 Willow Systems Corporation, willow-systems.com\nMIT license.\n*/\n/**\n * jsPDF total_pages plugin\n * Copyright (c) 2013 Eduardo Menezes de Morais, eduardo.morais@usp.br\n */\n/* Blob.js\n * A Blob implementation.\n * 2014-05-27\n * By Eli Grey, http://eligrey.com\n * By Devin Samarin, https://github.com/eboyjr\n * License: X11/MIT\n *   See https://github.com/eligrey/Blob.js/blob/master/LICENSE.md\n */\n/* FileSaver.js\n *  A saveAs() FileSaver implementation.\n *  2014-05-27\n *  By Eli Grey, http://eligrey.com\n *  License: X11/MIT\n *    See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n/*\n * Copyright (c) 2012 chick307 <chick307@gmail.com>\n * Licensed under the MIT License.\n * http://opensource.org/licenses/mit-license\n */\n/*\n Deflate.js - https://github.com/gildas-lormeau/zip.js\n Copyright (c) 2013 Gildas Lormeau. All rights reserved.\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n 2. Redistributions in binary form must reproduce the above copyright\n notice, this list of conditions and the following disclaimer in\n the documentation and/or other materials provided with the distribution.\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n/*\n# PNG.js\n# Copyright (c) 2011 Devon Govett\n# MIT LICENSE\n#\n*/\n/*\n * Extracted from pdf.js\n * https://github.com/andreasgal/pdf.js\n * Copyright (c) 2011 Mozilla Foundation\n * Contributors: Andreas Gal <gal@mozilla.com>\n *               Chris G Jones <cjones@mozilla.com>\n *               Shaon Barman <shaon.barman@gmail.com>\n *               Vivien Nicolas <21@vingtetun.org>\n *               Justin D'Arcangelo <justindarc@gmail.com>\n *               Yury Delendik\n */\n/**\n * JavaScript Polyfill functions for jsPDF\n * Collected from public resources by\n * https://github.com/diegocr\n */\n!function(t,e){e[\"true\"]=t;var r=function(t){\"use strict\";function e(e){var r={};this.subscribe=function(t,e,n){if(\"function\"!=typeof e)return!1;r.hasOwnProperty(t)||(r[t]={});var s=Math.random().toString(35);return r[t][s]=[e,!!n],s},this.unsubscribe=function(t){for(var e in r)if(r[e][t])return delete r[e][t],!0;return!1},this.publish=function(n){if(r.hasOwnProperty(n)){var s=Array.prototype.slice.call(arguments,1),o=[];for(var i in r[n]){var a=r[n][i];try{a[0].apply(e,s)}catch(u){t.console&&console.error(\"jsPDF PubSub Error\",u.message,u)}a[1]&&o.push(i)}o.length&&o.forEach(this.unsubscribe)}}}function r(a,u,c,l){var f={};\"object\"==typeof a&&(f=a,a=f.orientation,u=f.unit||u,c=f.format||c,l=f.compress||f.compressPdf||l),u=u||\"mm\",c=c||\"a4\",a=(\"\"+(a||\"P\")).toLowerCase();var d,h,p,m,w,y=(\"\"+c).toLowerCase(),g=!!l&&\"function\"==typeof Uint8Array,v=f.textColor||\"0 g\",b=f.drawColor||\"0 G\",q=f.fontSize||16,x=f.lineHeight||1.15,k=f.lineWidth||.200025,_=2,A=!1,C=[],S={},E={},z=0,I=[],T=[],B=0,O=0,P=0,R={title:\"\",subject:\"\",author:\"\",keywords:\"\",creator:\"\"},D={},U=new e(D),F=function(t){return t.toFixed(2)},L=function(t){return t.toFixed(3)},j=function(t){return(\"0\"+parseInt(t)).slice(-2)},N=function(t){A?I[z].push(t):(P+=t.length+1,T.push(t))},M=function(){return _++,C[_]=P,N(_+\" 0 obj\"),_},H=function(t){N(\"stream\"),N(t),N(\"endstream\")},G=function(){var e,n,o,i,a,u,c,l=m*h,f=w*h;for(c=t.adler32cs||r.adler32cs,g&&\"undefined\"==typeof c&&(g=!1),e=1;z>=e;e++){if(M(),N(\"<</Type /Page\"),N(\"/Parent 1 0 R\"),N(\"/Resources 2 0 R\"),N(\"/Contents \"+(_+1)+\" 0 R>>\"),N(\"endobj\"),n=I[e].join(\"\\n\"),M(),g){for(o=[],i=n.length;i--;)o[i]=n.charCodeAt(i);u=c.from(n),a=new s(6),a.append(new Uint8Array(o)),n=a.flush(),o=new Uint8Array(n.length+6),o.set(new Uint8Array([120,156])),o.set(n,2),o.set(new Uint8Array([255&u,u>>8&255,u>>16&255,u>>24&255]),n.length+2),n=String.fromCharCode.apply(null,o),N(\"<</Length \"+n.length+\" /Filter [/FlateDecode]>>\")}else N(\"<</Length \"+n.length+\">>\");H(n),N(\"endobj\")}C[1]=P,N(\"1 0 obj\"),N(\"<</Type /Pages\");var d=\"/Kids [\";for(i=0;z>i;i++)d+=3+2*i+\" 0 R \";N(d+\"]\"),N(\"/Count \"+z),N(\"/MediaBox [0 0 \"+F(l)+\" \"+F(f)+\"]\"),N(\">>\"),N(\"endobj\")},J=function(t){t.objectNumber=M(),N(\"<</BaseFont/\"+t.PostScriptName+\"/Type/Font\"),\"string\"==typeof t.encoding&&N(\"/Encoding/\"+t.encoding),N(\"/Subtype/Type1>>\"),N(\"endobj\")},V=function(){for(var t in S)S.hasOwnProperty(t)&&J(S[t])},W=function(){U.publish(\"putXobjectDict\")},X=function(){N(\"/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]\"),N(\"/Font <<\");for(var t in S)S.hasOwnProperty(t)&&N(\"/\"+t+\" \"+S[t].objectNumber+\" 0 R\");N(\">>\"),N(\"/XObject <<\"),W(),N(\">>\")},Y=function(){V(),U.publish(\"putResources\"),C[2]=P,N(\"2 0 obj\"),N(\"<<\"),X(),N(\">>\"),N(\"endobj\"),U.publish(\"postPutResources\")},K=function(t,e,r){E.hasOwnProperty(e)||(E[e]={}),E[e][r]=t},Q=function(t,e,r,n){var s=\"F\"+(Object.keys(S).length+1).toString(10),o=S[s]={id:s,PostScriptName:t,fontName:e,fontStyle:r,encoding:n,metadata:{}};return K(s,e,r),U.publish(\"addFont\",o),s},$=function(){for(var t=\"helvetica\",e=\"times\",r=\"courier\",n=\"normal\",s=\"bold\",o=\"italic\",i=\"bolditalic\",a=\"StandardEncoding\",u=[[\"Helvetica\",t,n],[\"Helvetica-Bold\",t,s],[\"Helvetica-Oblique\",t,o],[\"Helvetica-BoldOblique\",t,i],[\"Courier\",r,n],[\"Courier-Bold\",r,s],[\"Courier-Oblique\",r,o],[\"Courier-BoldOblique\",r,i],[\"Times-Roman\",e,n],[\"Times-Bold\",e,s],[\"Times-Italic\",e,o],[\"Times-BoldItalic\",e,i]],c=0,l=u.length;l>c;c++){var f=Q(u[c][0],u[c][1],u[c][2],a),d=u[c][0].split(\"-\");K(f,d[0],d[1]||\"\")}U.publish(\"addFonts\",{fonts:S,dictionary:E})},Z=function(e){return e.foo=function(){try{return e.apply(this,arguments)}catch(r){var n=r.stack||\"\";~n.indexOf(\" at \")&&(n=n.split(\" at \")[1]);var s=\"Error in function \"+n.split(\"\\n\")[0].split(\"<\")[0]+\": \"+r.message;if(!t.console)throw new Error(s);console.log(s,r),t.alert&&alert(s),console.trace()}},e.foo.bar=e,e.foo},te=function(t,e){var r,n,s,o,i,a,u,c,l;if(e=e||{},s=e.sourceEncoding||\"Unicode\",i=e.outputEncoding,(e.autoencode||i)&&S[d].metadata&&S[d].metadata[s]&&S[d].metadata[s].encoding&&(o=S[d].metadata[s].encoding,!i&&S[d].encoding&&(i=S[d].encoding),!i&&o.codePages&&(i=o.codePages[0]),\"string\"==typeof i&&(i=o[i]),i)){for(u=!1,a=[],r=0,n=t.length;n>r;r++)c=i[t.charCodeAt(r)],c?a.push(String.fromCharCode(c)):a.push(t[r]),a[r].charCodeAt(0)>>8&&(u=!0);t=a.join(\"\")}for(r=t.length;void 0===u&&0!==r;)t.charCodeAt(r-1)>>8&&(u=!0),r--;if(!u)return t;for(a=e.noBOM?[]:[254,255],r=0,n=t.length;n>r;r++){if(c=t.charCodeAt(r),l=c>>8,l>>8)throw new Error(\"Character at position \"+r+\" of string '\"+t+\"' exceeds 16bits. Cannot be encoded into UCS-2 BE\");a.push(l),a.push(c-(l<<8))}return String.fromCharCode.apply(void 0,a)},ee=function(t,e){return te(t,e).replace(/\\\\/g,\"\\\\\\\\\").replace(/\\(/g,\"\\\\(\").replace(/\\)/g,\"\\\\)\")},re=function(){N(\"/Producer (jsPDF \"+r.version+\")\");for(var t in R)R.hasOwnProperty(t)&&R[t]&&N(\"/\"+t.substr(0,1).toUpperCase()+t.substr(1)+\" (\"+ee(R[t])+\")\");var e=new Date;N([\"/CreationDate (D:\",e.getFullYear(),j(e.getMonth()+1),j(e.getDate()),j(e.getHours()),j(e.getMinutes()),j(e.getSeconds()),\")\"].join(\"\"))},ne=function(){N(\"/Type /Catalog\"),N(\"/Pages 1 0 R\"),N(\"/OpenAction [3 0 R /FitH null]\"),N(\"/PageLayout /OneColumn\"),U.publish(\"putCatalog\")},se=function(){N(\"/Size \"+(_+1)),N(\"/Root \"+_+\" 0 R\"),N(\"/Info \"+(_-1)+\" 0 R\")},oe=function(){z++,A=!0,I[z]=[]},ie=function(){oe(),N(F(k*h)+\" w\"),N(b),0!==B&&N(B+\" J\"),0!==O&&N(O+\" j\"),U.publish(\"addPage\",{pageNumber:z})},ae=function(t,e){var r;t=void 0!==t?t:S[d].fontName,e=void 0!==e?e:S[d].fontStyle;try{r=E[t][e]||E[t].normal}catch(n){}if(!r)throw new Error(\"Unable to look up font label for font '\"+t+\"', '\"+e+\"'. Refer to getFontList() for available fonts.\");return r},ue=function(){A=!1,_=2,T=[],C=[],N(\"%PDF-\"+o),G(),Y(),M(),N(\"<<\"),re(),N(\">>\"),N(\"endobj\"),M(),N(\"<<\"),ne(),N(\">>\"),N(\"endobj\");var t,e=P,r=\"0000000000\";for(N(\"xref\"),N(\"0 \"+(_+1)),N(r+\" 65535 f \"),t=1;_>=t;t++)N((r+C[t]).slice(-10)+\" 00000 n \");return N(\"trailer\"),N(\"<<\"),se(),N(\">>\"),N(\"startxref\"),N(e),N(\"%%EOF\"),A=!0,T.join(\"\\n\")},ce=function(t){var e=\"S\";return\"F\"===t?e=\"f\":\"FD\"===t||\"DF\"===t?e=\"B\":(\"f\"===t||\"f*\"===t||\"B\"===t||\"B*\"===t)&&(e=t),e},le=function(){for(var t=ue(),e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r);e--;)n[e]=t.charCodeAt(e);return r},fe=function(){return new Blob([le()],{type:\"application/pdf\"})},de=Z(function(e,r){switch(e){case void 0:return ue();case\"save\":if(navigator.getUserMedia&&(void 0===t.URL||void 0===t.URL.createObjectURL))return D.output(\"dataurlnewwindow\");n(fe(),r),\"function\"==typeof n.unload&&t.setTimeout&&setTimeout(n.unload,70);break;case\"arraybuffer\":return le();case\"blob\":return fe();case\"datauristring\":case\"dataurlstring\":return\"data:application/pdf;base64,\"+btoa(ue());case\"datauri\":case\"dataurl\":t.document.location.href=\"data:application/pdf;base64,\"+btoa(ue());break;case\"dataurlnewwindow\":t.open(\"data:application/pdf;base64,\"+btoa(ue()));break;default:throw new Error('Output type \"'+e+'\" is not supported.')}});switch(u){case\"pt\":h=1;break;case\"mm\":h=72/25.4;break;case\"cm\":h=72/2.54;break;case\"in\":h=72;break;case\"px\":h=96/72;break;case\"pc\":h=12;break;case\"em\":h=12;break;case\"ex\":h=6;break;default:throw\"Invalid unit: \"+u}if(i.hasOwnProperty(y))w=i[y][1]/h,m=i[y][0]/h;else try{w=c[1],m=c[0]}catch(he){throw new Error(\"Invalid format: \"+c)}if(\"p\"===a||\"portrait\"===a)a=\"p\",m>w&&(p=m,m=w,w=p);else{if(\"l\"!==a&&\"landscape\"!==a)throw\"Invalid orientation: \"+a;a=\"l\",w>m&&(p=m,m=w,w=p)}D.internal={pdfEscape:ee,getStyle:ce,getFont:function(){return S[ae.apply(D,arguments)]},getFontSize:function(){return q},getLineHeight:function(){return q*x},write:function(t){N(1===arguments.length?t:Array.prototype.join.call(arguments,\" \"))},getCoordinateString:function(t){return F(t*h)},getVerticalCoordinateString:function(t){return F((w-t)*h)},collections:{},newObject:M,putStream:H,events:U,scaleFactor:h,pageSize:{width:m,height:w},output:function(t,e){return de(t,e)},getNumberOfPages:function(){return I.length-1},pages:I},D.addPage=function(){return ie(),this},D.text=function(t,e,r,n,s){function o(t){return t=t.split(\"\t\").join(Array(f.TabLen||9).join(\" \")),ee(t,n)}\"number\"==typeof t&&(p=r,r=e,e=t,t=p),\"string\"==typeof t&&t.match(/[\\n\\r]/)&&(t=t.split(/\\r\\n|\\r|\\n/g)),\"number\"==typeof n&&(s=n,n=null);var i=\"\",a=\"Td\";if(s){s*=Math.PI/180;var u=Math.cos(s),c=Math.sin(s);i=[F(u),F(c),F(-1*c),F(u),\"\"].join(\" \"),a=\"Tm\"}if(n=n||{},\"noBOM\"in n||(n.noBOM=!0),\"autoencode\"in n||(n.autoencode=!0),\"string\"==typeof t)t=o(t);else{if(!(t instanceof Array))throw new Error('Type of text must be string or Array. \"'+t+'\" is not recognized.');for(var l=t.concat(),m=[],y=l.length;y--;)m.push(o(l.shift()));t=m.join(\") Tj\\nT* (\")}return N(\"BT\\n/\"+d+\" \"+q+\" Tf\\n\"+q*x+\" TL\\n\"+v+\"\\n\"+i+F(e*h)+\" \"+F((w-r)*h)+\" \"+a+\"\\n(\"+t+\") Tj\\nET\"),this},D.line=function(t,e,r,n){return this.lines([[r-t,n-e]],t,e)},D.lines=function(t,e,r,n,s,o){var i,a,u,c,l,f,d,m,y,g,v;for(\"number\"==typeof t&&(p=r,r=e,e=t,t=p),n=n||[1,1],N(L(e*h)+\" \"+L((w-r)*h)+\" m \"),i=n[0],a=n[1],c=t.length,g=e,v=r,u=0;c>u;u++)l=t[u],2===l.length?(g=l[0]*i+g,v=l[1]*a+v,N(L(g*h)+\" \"+L((w-v)*h)+\" l\")):(f=l[0]*i+g,d=l[1]*a+v,m=l[2]*i+g,y=l[3]*a+v,g=l[4]*i+g,v=l[5]*a+v,N(L(f*h)+\" \"+L((w-d)*h)+\" \"+L(m*h)+\" \"+L((w-y)*h)+\" \"+L(g*h)+\" \"+L((w-v)*h)+\" c\"));return o&&N(\" h\"),null!==s&&N(ce(s)),this},D.rect=function(t,e,r,n,s){ce(s);return N([F(t*h),F((w-e)*h),F(r*h),F(-n*h),\"re\"].join(\" \")),null!==s&&N(ce(s)),this},D.triangle=function(t,e,r,n,s,o,i){return this.lines([[r-t,n-e],[s-r,o-n],[t-s,e-o]],t,e,[1,1],i,!0),this},D.roundedRect=function(t,e,r,n,s,o,i){var a=4/3*(Math.SQRT2-1);return this.lines([[r-2*s,0],[s*a,0,s,o-o*a,s,o],[0,n-2*o],[0,o*a,-(s*a),o,-s,o],[-r+2*s,0],[-(s*a),0,-s,-(o*a),-s,-o],[0,-n+2*o],[0,-(o*a),s*a,-o,s,-o]],t+s,e,[1,1],i),this},D.ellipse=function(t,e,r,n,s){var o=4/3*(Math.SQRT2-1)*r,i=4/3*(Math.SQRT2-1)*n;return N([F((t+r)*h),F((w-e)*h),\"m\",F((t+r)*h),F((w-(e-i))*h),F((t+o)*h),F((w-(e-n))*h),F(t*h),F((w-(e-n))*h),\"c\"].join(\" \")),N([F((t-o)*h),F((w-(e-n))*h),F((t-r)*h),F((w-(e-i))*h),F((t-r)*h),F((w-e)*h),\"c\"].join(\" \")),N([F((t-r)*h),F((w-(e+i))*h),F((t-o)*h),F((w-(e+n))*h),F(t*h),F((w-(e+n))*h),\"c\"].join(\" \")),N([F((t+o)*h),F((w-(e+n))*h),F((t+r)*h),F((w-(e+i))*h),F((t+r)*h),F((w-e)*h),\"c\"].join(\" \")),null!==s&&N(ce(s)),this},D.circle=function(t,e,r,n){return this.ellipse(t,e,r,r,n)},D.setProperties=function(t){for(var e in R)R.hasOwnProperty(e)&&t[e]&&(R[e]=t[e]);return this},D.setFontSize=function(t){return q=t,this},D.setFont=function(t,e){return d=ae(t,e),this},D.setFontStyle=D.setFontType=function(t){return d=ae(void 0,t),this},D.getFontList=function(){var t,e,r,n={};for(t in E)if(E.hasOwnProperty(t)){n[t]=r=[];for(e in E[t])E[t].hasOwnProperty(e)&&r.push(e)}return n},D.setLineWidth=function(t){return N((t*h).toFixed(2)+\" w\"),this},D.setDrawColor=function(t,e,r,n){var s;return s=void 0===e||void 0===n&&t===e===r?\"string\"==typeof t?t+\" G\":F(t/255)+\" G\":void 0===n?\"string\"==typeof t?[t,e,r,\"RG\"].join(\" \"):[F(t/255),F(e/255),F(r/255),\"RG\"].join(\" \"):\"string\"==typeof t?[t,e,r,n,\"K\"].join(\" \"):[F(t),F(e),F(r),F(n),\"K\"].join(\" \"),N(s),this},D.setFillColor=function(t,e,r,n){var s;return s=void 0===e||void 0===n&&t===e===r?\"string\"==typeof t?t+\" g\":F(t/255)+\" g\":void 0===n?\"string\"==typeof t?[t,e,r,\"rg\"].join(\" \"):[F(t/255),F(e/255),F(r/255),\"rg\"].join(\" \"):\"string\"==typeof t?[t,e,r,n,\"k\"].join(\" \"):[F(t),F(e),F(r),F(n),\"k\"].join(\" \"),N(s),this},D.setTextColor=function(t,e,r){if(\"string\"==typeof t&&/^#[0-9A-Fa-f]{6}$/.test(t)){var n=parseInt(t.substr(1),16);t=n>>16&255,e=n>>8&255,r=255&n}return v=0===t&&0===e&&0===r||\"undefined\"==typeof e?L(t/255)+\" g\":[L(t/255),L(e/255),L(r/255),\"rg\"].join(\" \"),this},D.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},D.setLineCap=function(t){var e=this.CapJoinStyles[t];if(void 0===e)throw new Error(\"Line cap style of '\"+t+\"' is not recognized. See or extend .CapJoinStyles property for valid styles\");return B=e,N(e+\" J\"),this},D.setLineJoin=function(t){var e=this.CapJoinStyles[t];if(void 0===e)throw new Error(\"Line join style of '\"+t+\"' is not recognized. See or extend .CapJoinStyles property for valid styles\");return O=e,N(e+\" j\"),this},D.output=de,D.save=function(t){D.output(\"save\",t)};for(var pe in r.API)r.API.hasOwnProperty(pe)&&(\"events\"===pe&&r.API.events.length?!function(t,e){var r,n,s;for(s=e.length-1;-1!==s;s--)r=e[s][0],n=e[s][1],t.subscribe.apply(t,[r].concat(\"function\"==typeof n?[n]:n))}(U,r.API.events):D[pe]=r.API[pe]);return $(),d=\"F1\",ie(),U.publish(\"initialized\"),D}var o=\"1.3\",i={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],\"government-letter\":[576,756],legal:[612,1008],\"junior-legal\":[576,360],ledger:[1224,792],tabloid:[792,1224],\"credit-card\":[153,243]};return r.API={events:[]},r.version=\"1.0.150-git 2014-05-30T00:40:diegocr\",\"function\"==typeof define&&define.amd?define(function(){return r}):t.jsPDF=r,r}(\"undefined\"!=typeof self&&self||\"undefined\"!=typeof window&&window||this);!function(t){\"use strict\";t.addHTML=function(t,e,r,n,s){if(\"undefined\"==typeof html2canvas&&\"undefined\"==typeof rasterizeHTML)throw new Error(\"You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js\");\"number\"!=typeof e&&(n=e,s=r),\"function\"==typeof n&&(s=n,n=null);var o=this.internal,i=o.scaleFactor,a=o.pageSize.width,u=o.pageSize.height;if(n=n||{},n.onrendered=function(t){e=parseInt(e)||0,r=parseInt(r)||0;var o=n.dim||{},c=o.h||0,l=o.w||Math.min(a,t.width/i)-e,f=\"JPEG\";if(n.format&&(f=n.format),t.height>u&&n.pagesplit){var d=function(){for(var n=0;;){var o=document.createElement(\"canvas\");o.width=Math.min(a*i,t.width),o.height=Math.min(u*i,t.height-n);var c=o.getContext(\"2d\");c.drawImage(t,0,n,t.width,o.height,0,0,o.width,o.height);var d=[o,e,n?0:r,o.width/i,o.height/i,f,null,\"SLOW\"];if(this.addImage.apply(this,d),n+=o.height,n>=t.height)break;this.addPage()}s(l,n,null,d)}.bind(this);if(\"CANVAS\"===t.nodeName){var h=new Image;h.onload=d,h.src=t.toDataURL(\"image/png\"),t=h}else d()}else{var p=Math.random().toString(35),m=[t,e,r,l,c,f,p,\"SLOW\"];this.addImage.apply(this,m),s(l,c,p,m)}}.bind(this),\"undefined\"!=typeof html2canvas&&!n.rstz)return html2canvas(t,n);if(\"undefined\"!=typeof rasterizeHTML){var c=\"drawDocument\";return\"string\"==typeof t&&(c=/^http/.test(t)?\"drawURL\":\"drawHTML\"),n.width=n.width||a*i,rasterizeHTML[c](t,void 0,n).then(function(t){n.onrendered(t.image)},function(t){s(null,t)})}return null}}(r.API),function(t){\"use strict\";var e=\"addImage_\",r=[\"jpeg\",\"jpg\",\"png\"],n=function(t){var e=this.internal.newObject(),r=this.internal.write,s=this.internal.putStream;if(t.n=e,r(\"<</Type /XObject\"),r(\"/Subtype /Image\"),r(\"/Width \"+t.w),r(\"/Height \"+t.h),t.cs===this.color_spaces.INDEXED?r(\"/ColorSpace [/Indexed /DeviceRGB \"+(t.pal.length/3-1)+\" \"+(\"smask\"in t?e+2:e+1)+\" 0 R]\"):(r(\"/ColorSpace /\"+t.cs),t.cs===this.color_spaces.DEVICE_CMYK&&r(\"/Decode [1 0 1 0 1 0 1 0]\")),r(\"/BitsPerComponent \"+t.bpc),\"f\"in t&&r(\"/Filter /\"+t.f),\"dp\"in t&&r(\"/DecodeParms <<\"+t.dp+\">>\"),\"trns\"in t&&t.trns.constructor==Array){for(var o=\"\",i=0,a=t.trns.length;a>i;i++)o+=t.trns[i]+\" \"+t.trns[i]+\" \";r(\"/Mask [\"+o+\"]\")}if(\"smask\"in t&&r(\"/SMask \"+(e+1)+\" 0 R\"),r(\"/Length \"+t.data.length+\">>\"),s(t.data),r(\"endobj\"),\"smask\"in t){var u=\"/Predictor 15 /Colors 1 /BitsPerComponent \"+t.bpc+\" /Columns \"+t.w,c={w:t.w,h:t.h,cs:\"DeviceGray\",bpc:t.bpc,dp:u,data:t.smask};\"f\"in t&&(c.f=t.f),n.call(this,c)}t.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),r(\"<< /Length \"+t.pal.length+\">>\"),s(this.arrayBufferToBinaryString(new Uint8Array(t.pal))),r(\"endobj\"))},s=function(){var t=this.internal.collections[e+\"images\"];for(var r in t)n.call(this,t[r])},o=function(){var t,r=this.internal.collections[e+\"images\"],n=this.internal.write;for(var s in r)t=r[s],n(\"/I\"+t.i,t.n,\"0\",\"R\")},i=function(e){return e&&\"string\"==typeof e&&(e=e.toUpperCase()),e in t.image_compression?e:t.image_compression.NONE},a=function(){var t=this.internal.collections[e+\"images\"];return t||(this.internal.collections[e+\"images\"]=t={},this.internal.events.subscribe(\"putResources\",s),this.internal.events.subscribe(\"putXobjectDict\",o)),t},u=function(t){var e=0;return t&&(e=Object.keys?Object.keys(t).length:function(t){var e=0;for(var r in t)t.hasOwnProperty(r)&&e++;return e}(t)),e},c=function(t){return\"undefined\"==typeof t||null===t},l=function(){return void 0},f=function(t){return-1===r.indexOf(t)},d=function(e){return\"function\"!=typeof t[\"process\"+e.toUpperCase()]},h=function(t){return\"object\"==typeof t&&1===t.nodeType},p=function(t,e){if(\"IMG\"===t.nodeName&&t.hasAttribute(\"src\")&&0===(\"\"+t.getAttribute(\"src\")).indexOf(\"data:image/\"))return t.getAttribute(\"src\");if(\"CANVAS\"===t.nodeName)var r=t;else{var r=document.createElement(\"canvas\");r.width=t.clientWidth||t.width,r.height=t.clientHeight||t.height;var n=r.getContext(\"2d\");if(!n)throw\"addImage requires canvas to be supported by browser.\";n.drawImage(t,0,0,r.width,r.height)}return r.toDataURL(\"png\"==e?\"image/png\":\"image/jpeg\")},m=function(t,e){var r;if(e)for(var n in e)if(t===e[n].alias){r=e[n];break}return r},w=function(t,e,r){return t||e||(t=-96,e=-96),0>t&&(t=-1*r.w*72/t/this.internal.scaleFactor),0>e&&(e=-1*r.h*72/e/this.internal.scaleFactor),0===t&&(t=e*r.w/r.h),0===e&&(e=t*r.h/r.w),[t,e]},y=function(t,e,r,n,s,o,i){var a=w.call(this,r,n,s),u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;r=a[0],n=a[1],i[o]=s,this.internal.write(\"q\",u(r),\"0 0\",u(n),u(t),c(e+n),\"cm /I\"+s.i,\"Do Q\")};t.color_spaces={DEVICE_RGB:\"DeviceRGB\",DEVICE_GRAY:\"DeviceGray\",DEVICE_CMYK:\"DeviceCMYK\",CAL_GREY:\"CalGray\",CAL_RGB:\"CalRGB\",LAB:\"Lab\",ICC_BASED:\"ICCBased\",INDEXED:\"Indexed\",PATTERN:\"Pattern\",SEPERATION:\"Seperation\",DEVICE_N:\"DeviceN\"},t.decode={DCT_DECODE:\"DCTDecode\",FLATE_DECODE:\"FlateDecode\",LZW_DECODE:\"LZWDecode\",JPX_DECODE:\"JPXDecode\",JBIG2_DECODE:\"JBIG2Decode\",ASCII85_DECODE:\"ASCII85Decode\",ASCII_HEX_DECODE:\"ASCIIHexDecode\",RUN_LENGTH_DECODE:\"RunLengthDecode\",CCITT_FAX_DECODE:\"CCITTFaxDecode\"},t.image_compression={NONE:\"NONE\",FAST:\"FAST\",MEDIUM:\"MEDIUM\",SLOW:\"SLOW\"},t.isString=function(t){return\"string\"==typeof t},t.extractInfoFromBase64DataURI=function(t){return/^data:([\\w]+?\\/([\\w]+?));base64,(.+?)$/g.exec(t)},t.supportsArrayBuffer=function(){return\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof Uint8Array},t.isArrayBuffer=function(t){return this.supportsArrayBuffer()?t instanceof ArrayBuffer:!1},t.isArrayBufferView=function(t){return this.supportsArrayBuffer()?\"undefined\"==typeof Uint32Array?!1:t instanceof Int8Array||t instanceof Uint8Array||\"undefined\"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array:!1},t.binaryStringToUint8Array=function(t){for(var e=t.length,r=new Uint8Array(e),n=0;e>n;n++)r[n]=t.charCodeAt(n);return r},t.arrayBufferToBinaryString=function(t){this.isArrayBuffer(t)&&(t=new Uint8Array(t));for(var e=\"\",r=t.byteLength,n=0;r>n;n++)e+=String.fromCharCode(t[n]);return e},t.arrayBufferToBase64=function(t){for(var e,r,n,s,o,i=\"\",a=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",u=new Uint8Array(t),c=u.byteLength,l=c%3,f=c-l,d=0;f>d;d+=3)o=u[d]<<16|u[d+1]<<8|u[d+2],e=(16515072&o)>>18,r=(258048&o)>>12,n=(4032&o)>>6,s=63&o,i+=a[e]+a[r]+a[n]+a[s];return 1==l?(o=u[f],e=(252&o)>>2,r=(3&o)<<4,i+=a[e]+a[r]+\"==\"):2==l&&(o=u[f]<<8|u[f+1],e=(64512&o)>>10,r=(1008&o)>>4,n=(15&o)<<2,i+=a[e]+a[r]+a[n]+\"=\"),i},t.createImageInfo=function(t,e,r,n,s,o,i,a,u,c,l,f){var d={alias:a,w:e,h:r,cs:n,bpc:s,i:i,data:t};return o&&(d.f=o),u&&(d.dp=u),c&&(d.trns=c),l&&(d.pal=l),f&&(d.smask=f),d},t.addImage=function(t,e,n,s,o,w,g,v){if(\"number\"==typeof e){var b=w;w=o,o=s,s=n,n=e,e=b}var q,x,k=a.call(this);if(v=i(v),e=(e||\"JPEG\").toLowerCase(),c(g)&&(g=l(t)),h(t)&&(t=p(t,e)),this.isString(t)){var _=this.extractInfoFromBase64DataURI(t);_?(e=_[2],t=atob(_[3]),this.supportsArrayBuffer()&&(x=t,t=this.binaryStringToUint8Array(t))):255!==t.charCodeAt(0)&&(q=m(t,k))}if(f(e))throw new Error(\"addImage currently only supports formats \"+r+\", not '\"+e+\"'\");if(d(e))throw new Error(\"please ensure that the plugin for '\"+e+\"' support is added\");var A=u(k),C=q;if(C||(C=this[\"process\"+e.toUpperCase()](t,A,g,v,x)),!C)throw new Error(\"An unkwown error occurred whilst processing the image\");return y.call(this,n,s,o,w,C,A,k),this};var g=function(t){var e,r;if(255===!t.charCodeAt(0)||216===!t.charCodeAt(1)||255===!t.charCodeAt(2)||224===!t.charCodeAt(3)||!t.charCodeAt(6)===\"J\".charCodeAt(0)||!t.charCodeAt(7)===\"F\".charCodeAt(0)||!t.charCodeAt(8)===\"I\".charCodeAt(0)||!t.charCodeAt(9)===\"F\".charCodeAt(0)||0===!t.charCodeAt(10))throw new Error(\"getJpegSize requires a binary string jpeg file\");for(var n=256*t.charCodeAt(4)+t.charCodeAt(5),s=4,o=t.length;o>s;){if(s+=n,255!==t.charCodeAt(s))throw new Error(\"getJpegSize could not find the size of the image\");if(192===t.charCodeAt(s+1)||193===t.charCodeAt(s+1)||194===t.charCodeAt(s+1)||195===t.charCodeAt(s+1)||196===t.charCodeAt(s+1)||197===t.charCodeAt(s+1)||198===t.charCodeAt(s+1)||199===t.charCodeAt(s+1))return r=256*t.charCodeAt(s+5)+t.charCodeAt(s+6),e=256*t.charCodeAt(s+7)+t.charCodeAt(s+8),[e,r];s+=2,n=256*t.charCodeAt(s)+t.charCodeAt(s+1)}},v=function(t){var e=t[0]<<8|t[1];if(65496!==e)throw new Error(\"Supplied data is not a JPEG\");for(var r,n,s,o=t.length,i=(t[4]<<8)+t[5],a=4;o>a;){if(a+=i,r=b(t,a),i=(r[2]<<8)+r[3],(192===r[1]||194===r[1])&&255===r[0]&&i>7)return r=b(t,a+5),n=(r[2]<<8)+r[3],s=(r[0]<<8)+r[1],{width:n,height:s};a+=2}throw new Error(\"getJpegSizeFromBytes could not find the size of the image\")},b=function(t,e){return t.subarray(e,e+4)};t.processJPEG=function(t,e,r,n,s){var o,i=this.color_spaces.DEVICE_RGB,a=this.decode.DCT_DECODE,u=8;return this.isString(t)?(o=g(t),this.createImageInfo(t,o[0],o[1],i,u,a,e,r)):(this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)?(o=v(t),t=s||this.arrayBufferToBinaryString(t),this.createImageInfo(t,o.width,o.height,i,u,a,e,r)):null)},t.processJPG=function(){return this.processJPEG.apply(this,arguments)}}(r.API),function(t){\"use strict\";t.autoPrint=function(){var t;return this.internal.events.subscribe(\"postPutResources\",function(){t=this.internal.newObject(),this.internal.write(\"<< /S/Named /Type/Action /N/Print >>\",\"endobj\")}),this.internal.events.subscribe(\"putCatalog\",function(){this.internal.write(\"/OpenAction \"+t+\" 0 R\")}),this}}(r.API),function(t){\"use strict\";var e,r,n,s,o=3,i=13,a={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},u=1,c=function(t,e,r,n,s){a={x:t,y:e,w:r,h:n,ln:s}},l=function(){return a},f={left:0,top:0,bottom:0};t.setHeaderFunction=function(t){s=t},t.getTextDimensions=function(t){e=this.internal.getFont().fontName,r=this.table_font_size||this.internal.getFontSize(),n=this.internal.getFont().fontStyle;var s,o,i=19.049976/25.4;return o=document.createElement(\"font\"),o.id=\"jsPDFCell\",o.style.fontStyle=n,o.style.fontName=e,o.style.fontSize=r+\"pt\",o.innerText=t,document.body.appendChild(o),s={w:(o.offsetWidth+1)*i,h:(o.offsetHeight+1)*i},document.body.removeChild(o),s},t.cellAddPage=function(){var t=this.margins||f;this.addPage(),c(t.left,t.top,void 0,void 0),u+=1},t.cellInitialize=function(){a={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},u=1},t.cell=function(t,e,r,n,s,a,u){var d=l();if(void 0!==d.ln)if(d.ln===a)t=d.x+d.w,e=d.y;else{var h=this.margins||f;d.y+d.h+n+i>=this.internal.pageSize.height-h.bottom&&(this.cellAddPage(),this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(a,!0)),e=l().y+l().h}if(void 0!==s[0])if(this.printingHeaderRow?this.rect(t,e,r,n,\"FD\"):this.rect(t,e,r,n),\"right\"===u){if(s instanceof Array)for(var p=0;p<s.length;p++){var m=s[p],w=this.getStringUnitWidth(m)*this.internal.getFontSize();this.text(m,t+r-w-o,e+this.internal.getLineHeight()*(p+1))}}else this.text(s,t+o,e+this.internal.getLineHeight());return c(t,e,r,n,a),this},t.arrayMax=function(t,e){var r,n,s,o=t[0];for(r=0,n=t.length;n>r;r+=1)s=t[r],e?-1===e(o,s)&&(o=s):s>o&&(o=s);return o},t.table=function(e,r,n,s,o){if(!n)throw\"No data for PDF table\";var i,c,l,d,h,p,m,w,y,g,v=[],b=[],q={},x={},k=[],_=[],A=!1,C=!0,S=12,E=f;if(E.width=this.internal.pageSize.width,o&&(o.autoSize===!0&&(A=!0),o.printHeaders===!1&&(C=!1),o.fontSize&&(S=o.fontSize),o.margins&&(E=o.margins)),this.lnMod=0,a={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},u=1,this.printHeaders=C,this.margins=E,this.setFontSize(S),this.table_font_size=S,void 0===s||null===s)v=Object.keys(n[0]);else if(s[0]&&\"string\"!=typeof s[0]){var z=19.049976/25.4;for(c=0,l=s.length;l>c;c+=1)i=s[c],v.push(i.name),b.push(i.prompt),x[i.name]=i.width*z}else v=s;if(A)for(g=function(t){return t[i]},c=0,l=v.length;l>c;c+=1){for(i=v[c],q[i]=n.map(g),k.push(this.getTextDimensions(b[c]||i).w),p=q[i],m=0,d=p.length;d>m;m+=1)h=p[m],k.push(this.getTextDimensions(h).w);x[i]=t.arrayMax(k)}if(C){var I=this.calculateLineHeight(v,x,b.length?b:v);for(c=0,l=v.length;l>c;c+=1)i=v[c],_.push([e,r,x[i],I,String(b.length?b[c]:i)]);this.setTableHeaderRow(_),this.printHeaderRow(1,!1)}for(c=0,l=n.length;l>c;c+=1){var I;for(w=n[c],I=this.calculateLineHeight(v,x,w),m=0,y=v.length;y>m;m+=1)i=v[m],this.cell(e,r,x[i],I,w[i],c+2,i.align)}return this.lastCellPos=a,this.table_x=e,this.table_y=r,this},t.calculateLineHeight=function(t,e,r){for(var n,s=0,i=0;i<t.length;i++){n=t[i],r[n]=this.splitTextToSize(String(r[n]),e[n]-o);var a=this.internal.getLineHeight()*r[n].length+o;a>s&&(s=a)}return s},t.setTableHeaderRow=function(t){this.tableHeaderRow=t},t.printHeaderRow=function(t,e){if(!this.tableHeaderRow)throw\"Property tableHeaderRow does not exist.\";var r,n,o,i;if(this.printingHeaderRow=!0,void 0!==s){var a=s(this,u);c(a[0],a[1],a[2],a[3],-1)}this.setFontStyle(\"bold\");var l=[];for(o=0,i=this.tableHeaderRow.length;i>o;o+=1)this.setFillColor(200,200,200),r=this.tableHeaderRow[o],e&&(r[1]=this.margins&&this.margins.top||0,l.push(r)),n=[].concat(r),this.cell.apply(this,n.concat(t));l.length>0&&this.setTableHeaderRow(l),this.setFontStyle(\"normal\"),this.printingHeaderRow=!1}}(r.API),function(t){var e,r,n,s,o,i,a,u,c,l,f,d,h,p,m,w,y;e=function(){function t(){}return function(e){return t.prototype=e,new t}}(),a=function(t){var e,r,n,s,o,i,a;for(r=0,n=t.length,e=void 0,s=!1,i=!1;!s&&r!==n;)e=t[r]=t[r].trimLeft(),e&&(s=!0),r++;for(r=n-1;n&&!i&&-1!==r;)e=t[r]=t[r].trimRight(),e&&(i=!0),r--;for(o=/\\s+$/g,a=!0,r=0;r!==n;)e=t[r].replace(/\\s+/g,\" \"),a&&(e=e.trimLeft()),e&&(a=o.test(e)),t[r]=e,r++;return t},u=function(t,e,r,n){return this.pdf=t,this.x=e,this.y=r,this.settings=n,this.init(),this},c=function(t){var e,r,s;for(e=void 0,s=t.split(\",\"),r=s.shift();!e&&r;)e=n[r.trim().toLowerCase()],r=s.shift();return e},l=function(t){t=\"auto\"===t?\"0px\":t,t.indexOf(\"em\")>-1&&!isNaN(Number(t.replace(\"em\",\"\")))&&(t=18.719*Number(t.replace(\"em\",\"\"))+\"px\"),t.indexOf(\"pt\")>-1&&!isNaN(Number(t.replace(\"pt\",\"\")))&&(t=1.333*Number(t.replace(\"pt\",\"\"))+\"px\");var e,r,n;return r=void 0,e=16,(n=f[t])?n:(n={\"xx-small\":9,\"x-small\":11,small:13,medium:16,large:19,\"x-large\":23,\"xx-large\":28,auto:0}[{css_line_height_string:t}],n!==r?f[t]=n/e:(n=parseFloat(t))?f[t]=n/e:(n=t.match(/([\\d\\.]+)(px)/),f[t]=3===n.length?parseFloat(n[1])/e:1))},i=function(t){var e,r,n;return n=function(t){var e;return e=function(t){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle?t.currentStyle:t.style}(t),function(t){return t=t.replace(/-\\D/g,function(t){return t.charAt(1).toUpperCase()}),e[t]}}(t),e={},r=void 0,e[\"font-family\"]=c(n(\"font-family\"))||\"times\",e[\"font-style\"]=s[n(\"font-style\")]||\"normal\",e[\"text-align\"]=TextAlignMap[n(\"text-align\")]||\"left\",r=o[n(\"font-weight\")]||\"normal\",\"bold\"===r&&(e[\"font-style\"]=\"normal\"===e[\"font-style\"]?r:r+e[\"font-style\"]),e[\"font-size\"]=l(n(\"font-size\"))||1,e[\"line-height\"]=l(n(\"line-height\"))||1,e.display=\"inline\"===n(\"display\")?\"inline\":\"block\",\"block\"===e.display&&(e[\"margin-top\"]=l(n(\"margin-top\"))||0,e[\"margin-bottom\"]=l(n(\"margin-bottom\"))||0,e[\"padding-top\"]=l(n(\"padding-top\"))||0,e[\"padding-bottom\"]=l(n(\"padding-bottom\"))||0,e[\"margin-left\"]=l(n(\"margin-left\"))||0,e[\"margin-right\"]=l(n(\"margin-right\"))||0,e[\"padding-left\"]=l(n(\"padding-left\"))||0,e[\"padding-right\"]=l(n(\"padding-right\"))||0),e},d=function(t,e,r){var n,s,o,i,a;if(o=!1,s=void 0,i=void 0,a=void 0,n=r[\"#\"+t.id])if(\"function\"==typeof n)o=n(t,e);else for(s=0,i=n.length;!o&&s!==i;)o=n[s](t,e),s++;if(n=r[t.nodeName],!o&&n)if(\"function\"==typeof n)o=n(t,e);else for(s=0,i=n.length;!o&&s!==i;)o=n[s](t,e),s++;return o},y=function(t,e){var r,n,s,o,i,a,u,c,l,f;for(r=[],n=[],s=0,f=t.rows[0].cells.length,c=t.clientWidth;f>s;)l=t.rows[0].cells[s],n[s]={name:l.textContent.toLowerCase().replace(/\\s+/g,\"\"),prompt:l.textContent.replace(/\\r?\\n/g,\"\"),width:l.clientWidth/c*e.pdf.internal.pageSize.width},s++;for(s=1;s<t.rows.length;){for(a=t.rows[s],i={},o=0;o<a.cells.length;)i[n[o].name]=a.cells[o].textContent.replace(/\\r?\\n/g,\"\"),o++;r.push(i),s++}return u={rows:r,headers:n}};var g={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},v=1;r=function(t,e,n){var s,o,a,u,c,l,f,p,m;for(o=t.childNodes,s=void 0,a=i(t),c=\"block\"===a.display,c&&(e.setBlockBoundary(),e.setBlockStyle(a)),f=19.049976/25.4,u=0,l=o.length;l>u;){if(s=o[u],\"object\"==typeof s){if(1===s.nodeType&&\"HEADER\"===s.nodeName){var w=s,b=e.pdf.margins_doc.top;e.pdf.internal.events.subscribe(\"addPage\",function(){e.y=b,r(w,e,n),e.pdf.margins_doc.top=e.y+10,e.y+=10},!1)}if(8===s.nodeType&&\"#comment\"===s.nodeName)~s.textContent.indexOf(\"ADD_PAGE\")&&(e.pdf.addPage(),e.y=e.pdf.margins_doc.top);else if(1!==s.nodeType||g[s.nodeName])if(3===s.nodeType){var q=s.nodeValue;if(s.nodeValue&&\"LI\"===s.parentNode.nodeName)if(\"OL\"===s.parentNode.parentNode.nodeName)q=v++ +\". \"+q;else{var x=16*a[\"font-size\"],k=2;x>20&&(k=3),m=function(t,e){this.pdf.circle(t,e,k,\"FD\")}}e.addText(q,a)}else\"string\"==typeof s&&e.addText(s,a);else if(\"IMG\"===s.nodeName&&h[s.getAttribute(\"src\")])e.pdf.internal.pageSize.height-e.pdf.margins_doc.bottom<e.y+s.height&&e.y>e.pdf.margins_doc.top&&(e.pdf.addPage(),e.y=e.pdf.margins_doc.top),e.pdf.addImage(h[s.getAttribute(\"src\")],e.x,e.y,s.width,s.height),e.y+=s.height;else if(\"TABLE\"===s.nodeName)p=y(s,e),e.y+=10,e.pdf.table(e.x,e.y,p.rows,p.headers,{autoSize:!1,printHeaders:!0,margins:e.pdf.margins_doc}),e.y=e.pdf.lastCellPos.y+e.pdf.lastCellPos.h+20;else if(\"OL\"===s.nodeName||\"UL\"===s.nodeName)v=1,d(s,e,n)||r(s,e,n),e.y+=10;else if(\"LI\"===s.nodeName){var _=e.x;e.x+=\"UL\"===s.parentNode.nodeName?22:10,e.y+=3,d(s,e,n)||r(s,e,n),e.x=_}else d(s,e,n)||r(s,e,n)}u++}return c?e.setBlockBoundary(m):void 0},h={},p=function(t,e,r,n){function s(){e.pdf.internal.events.publish(\"imagesLoaded\"),n()}function o(t,e,r){if(t){var n=new Image;++u,n.crossOrigin=\"\",n.onerror=n.onload=function(){n.complete&&(0===n.src.indexOf(\"data:image/\")&&(n.width=e||n.width||0,n.height=r||n.height||0),n.width+n.height&&(h[t]=h[t]||n)),--u||s()},n.src=t}}for(var i=t.getElementsByTagName(\"img\"),a=i.length,u=0;a--;)o(i[a].getAttribute(\"src\"),i[a].width,i[a].height);return u||s()},m=function(t,e,n,s){var o=t.getElementsByTagName(\"footer\");if(o.length>0){o=o[0];var i=e.pdf.internal.write,a=e.y;e.pdf.internal.write=function(){},r(o,e,n);var u=Math.ceil(e.y-a)+5;e.y=a,e.pdf.internal.write=i,e.pdf.margins_doc.bottom+=u;\nfor(var c=function(t){var s=void 0!==t?t.pageNumber:1,i=e.y;e.y=e.pdf.internal.pageSize.height-e.pdf.margins_doc.bottom,e.pdf.margins_doc.bottom-=u;for(var a=o.getElementsByTagName(\"span\"),c=0;c<a.length;++c)(\" \"+a[c].className+\" \").replace(/[\\n\\t]/g,\" \").indexOf(\" pageCounter \")>-1&&(a[c].innerHTML=s),(\" \"+a[c].className+\" \").replace(/[\\n\\t]/g,\" \").indexOf(\" totalPages \")>-1&&(a[c].innerHTML=\"###jsPDFVarTotalPages###\");r(o,e,n),e.pdf.margins_doc.bottom+=u,e.y=i},l=o.getElementsByTagName(\"span\"),f=0;f<l.length;++f)(\" \"+l[f].className+\" \").replace(/[\\n\\t]/g,\" \").indexOf(\" totalPages \")>-1&&e.pdf.internal.events.subscribe(\"htmlRenderingFinished\",e.pdf.putTotalPages.bind(e.pdf,\"###jsPDFVarTotalPages###\"),!0);e.pdf.internal.events.subscribe(\"addPage\",c,!1),c(),g.FOOTER=1}s()},w=function(t,e,n,s,o,i){if(!e)return!1;\"string\"==typeof e||e.parentNode||(e=\"\"+e.innerHTML),\"string\"==typeof e&&(e=function(t){var e,r,n,s;return n=\"jsPDFhtmlText\"+Date.now().toString()+(1e3*Math.random()).toFixed(0),s=\"position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;\",r=document.createElement(\"div\"),r.style.cssText=s,r.innerHTML='<iframe style=\"height:1px;width:1px\" name=\"'+n+'\" />',document.body.appendChild(r),e=window.frames[n],e.document.body.innerHTML=t,e.document.body}(e.replace(/<\\/?script[^>]*?>/gi,\"\")));var a=new u(t,n,s,o);return i=i||function(){},p.call(this,e,a,o.elementHandlers,function(){m.call(this,e,a,o.elementHandlers,function(){r(e,a,o.elementHandlers),a.pdf.internal.events.publish(\"htmlRenderingFinished\"),i(a.dispose())})}),a.dispose()},u.prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write(\"q\")},u.prototype.dispose=function(){return this.pdf.internal.write(\"Q\"),{x:this.x,y:this.y}},u.prototype.splitFragmentsIntoLines=function(t,r){var n,s,o,i,a,u,c,l,f,d,h,p,m,w,y;for(s=12,h=this.pdf.internal.scaleFactor,a={},o=void 0,d=void 0,i=void 0,u=void 0,y=void 0,f=void 0,l=void 0,c=void 0,p=[],m=[p],n=0,w=this.settings.width;t.length;)if(u=t.shift(),y=r.shift(),u)if(o=y[\"font-family\"],d=y[\"font-style\"],i=a[o+d],i||(i=this.pdf.internal.getFont(o,d).metadata.Unicode,a[o+d]=i),f={widths:i.widths,kerning:i.kerning,fontSize:y[\"font-size\"]*s,textIndent:n},l=this.pdf.getStringUnitWidth(u,f)*f.fontSize/h,n+l>w){for(c=this.pdf.splitTextToSize(u,w,f),p.push([c.shift(),y]);c.length;)p=[[c.shift(),y]],m.push(p);n=this.pdf.getStringUnitWidth(p[0][0],f)*f.fontSize/h}else p.push([u,y]),n+=l;if(void 0!==y[\"text-align\"]&&(\"center\"===y[\"text-align\"]||\"right\"===y[\"text-align\"]||\"justify\"===y[\"text-align\"]))for(var g=0;g<m.length;++g){var v=this.pdf.getStringUnitWidth(m[g][0][0],f)*f.fontSize/h;g>0&&(m[g][0][1]=e(m[g][0][1]));var b=w-v;if(\"right\"===y[\"text-align\"])m[g][0][1][\"margin-left\"]=b;else if(\"center\"===y[\"text-align\"])m[g][0][1][\"margin-left\"]=b/2;else if(\"justify\"===y[\"text-align\"]){var q=m[g][0][0].split(\" \").length-1;m[g][0][1][\"word-spacing\"]=b/q,g===m.length-1&&(m[g][0][1][\"word-spacing\"]=0)}}return m},u.prototype.RenderTextFragment=function(t,e){var r,n;this.pdf.internal.pageSize.height-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write(\"ET\",\"Q\"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write(\"q\",\"BT\",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),\"Td\")),r=12,n=this.pdf.internal.getFont(e[\"font-family\"],e[\"font-style\"]),void 0!==e[\"word-spacing\"]&&e[\"word-spacing\"]>0&&this.pdf.internal.write(e[\"word-spacing\"].toFixed(2),\"Tw\"),this.pdf.internal.write(\"/\"+n.id,(r*e[\"font-size\"]).toFixed(2),\"Tf\",\"(\"+this.pdf.internal.pdfEscape(t)+\") Tj\"),void 0!==e[\"word-spacing\"]&&this.pdf.internal.write(0,\"Tw\")},u.prototype.renderParagraph=function(t){var e,r,n,s,o,i,u,c,l,f,d,h,p,m,w;if(s=a(this.paragraph.text),m=this.paragraph.style,e=this.paragraph.blockstyle,p=this.paragraph.blockstyle||{},this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:e},s.join(\"\").trim()){c=this.splitFragmentsIntoLines(s,m),u=void 0,l=void 0,r=12,n=r/this.pdf.internal.scaleFactor,h=(Math.max((e[\"margin-top\"]||0)-(p[\"margin-bottom\"]||0),0)+(e[\"padding-top\"]||0))*n,d=((e[\"margin-bottom\"]||0)+(e[\"padding-bottom\"]||0))*n,f=this.pdf.internal.write,o=void 0,i=void 0,this.y+=h,f(\"q\",\"BT\",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),\"Td\");for(var y=0;c.length;){for(u=c.shift(),l=0,o=0,i=u.length;o!==i;)u[o][0].trim()&&(l=Math.max(l,u[o][1][\"line-height\"],u[o][1][\"font-size\"]),w=7*u[o][1][\"font-size\"]),o++;var g=0;for(void 0!==u[0][1][\"margin-left\"]&&u[0][1][\"margin-left\"]>0&&(wantedIndent=this.pdf.internal.getCoordinateString(u[0][1][\"margin-left\"]),g=wantedIndent-y,y=wantedIndent),f(g,(-1*r*l).toFixed(2),\"Td\"),o=0,i=u.length;o!==i;)u[o][0]&&this.RenderTextFragment(u[o][0],u[o][1]),o++;this.y+=l*n}return t&&\"function\"==typeof t&&t.call(this,this.x-9,this.y-w/2),f(\"ET\",\"Q\"),this.y+=d}},u.prototype.setBlockBoundary=function(t){return this.renderParagraph(t)},u.prototype.setBlockStyle=function(t){return this.paragraph.blockstyle=t},u.prototype.addText=function(t,e){return this.paragraph.text.push(t),this.paragraph.style.push(e)},n={helvetica:\"helvetica\",\"sans-serif\":\"helvetica\",\"times new roman\":\"times\",serif:\"times\",times:\"times\",monospace:\"courier\",courier:\"courier\"},o={100:\"normal\",200:\"normal\",300:\"normal\",400:\"normal\",500:\"bold\",600:\"bold\",700:\"bold\",800:\"bold\",900:\"bold\",normal:\"normal\",bold:\"bold\",bolder:\"bold\",lighter:\"normal\"},s={normal:\"normal\",italic:\"italic\",oblique:\"italic\"},TextAlignMap={left:\"left\",right:\"right\",center:\"center\",justify:\"justify\"},f={normal:1},t.fromHTML=function(t,e,r,n,s,o){\"use strict\";return this.margins_doc=o||{top:0,bottom:0},n||(n={}),n.elementHandlers||(n.elementHandlers={}),w(this,t,e||4,r||4,n,s)}}(r.API),function(t){\"use strict\";var e,r,n;t.addJS=function(t){return n=t,this.internal.events.subscribe(\"postPutResources\",function(){e=this.internal.newObject(),this.internal.write(\"<< /Names [(EmbeddedJS) \"+(e+1)+\" 0 R] >>\",\"endobj\"),r=this.internal.newObject(),this.internal.write(\"<< /S /JavaScript /JS (\",n,\") >>\",\"endobj\")}),this.internal.events.subscribe(\"putCatalog\",function(){void 0!==e&&void 0!==r&&this.internal.write(\"/Names <</JavaScript \"+e+\" 0 R>>\")}),this}}(r.API),function(t){\"use strict\";var e=function(){return\"function\"!=typeof PNG||\"function\"!=typeof i},r=function(e){return e!==t.image_compression.NONE&&n()},n=function(){var t=\"function\"==typeof s;if(!t)throw new Error(\"requires deflate.js for compression\");return t},o=function(e,r,n,o){var i=5,l=d;switch(o){case t.image_compression.FAST:i=3,l=f;break;case t.image_compression.MEDIUM:i=6,l=h;break;case t.image_compression.SLOW:i=9,l=p}e=c(e,r,n,l);var m=new Uint8Array(a(i)),w=u(e),y=new s(i),g=y.append(e),v=y.flush(),b=m.length+g.length+v.length,q=new Uint8Array(b+4);return q.set(m),q.set(g,m.length),q.set(v,m.length+g.length),q[b++]=w>>>24&255,q[b++]=w>>>16&255,q[b++]=w>>>8&255,q[b++]=255&w,t.arrayBufferToBinaryString(q)},a=function(t,e){var r=8,n=Math.LOG2E*Math.log(32768)-8,s=n<<4|r,o=s<<8,i=Math.min(3,(e-1&255)>>1);return o|=i<<6,o|=0,o+=31-o%31,[s,255&o&255]},u=function(t,e){for(var r,n=1,s=65535&n,o=n>>>16&65535,i=t.length,a=0;i>0;){r=i>e?e:i,i-=r;do s+=t[a++],o+=s;while(--r);s%=65521,o%=65521}return(o<<16|s)>>>0},c=function(t,e,r,n){for(var s,o,i,a=t.length/e,u=new Uint8Array(t.length+a),c=w(),l=0;a>l;l++){if(i=l*e,s=t.subarray(i,i+e),n)u.set(n(s,r,o),i+l);else{for(var f=0,d=c.length,h=[];d>f;f++)h[f]=c[f](s,r,o);var p=y(h.concat());u.set(h[p],i+l)}o=s}return u},l=function(t){var e=Array.apply([],t);return e.unshift(0),e},f=function(t,e){var r,n=[],s=0,o=t.length;for(n[0]=1;o>s;s++)r=t[s-e]||0,n[s+1]=t[s]-r+256&255;return n},d=function(t,e,r){var n,s=[],o=0,i=t.length;for(s[0]=2;i>o;o++)n=r&&r[o]||0,s[o+1]=t[o]-n+256&255;return s},h=function(t,e,r){var n,s,o=[],i=0,a=t.length;for(o[0]=3;a>i;i++)n=t[i-e]||0,s=r&&r[i]||0,o[i+1]=t[i]+256-(n+s>>>1)&255;return o},p=function(t,e,r){var n,s,o,i,a=[],u=0,c=t.length;for(a[0]=4;c>u;u++)n=t[u-e]||0,s=r&&r[u]||0,o=r&&r[u-e]||0,i=m(n,s,o),a[u+1]=t[u]-i+256&255;return a},m=function(t,e,r){var n=t+e-r,s=Math.abs(n-t),o=Math.abs(n-e),i=Math.abs(n-r);return o>=s&&i>=s?t:i>=o?e:r},w=function(){return[l,f,d,h,p]},y=function(t){for(var e,r,n,s=0,o=t.length;o>s;)e=g(t[s].slice(1)),(r>e||!r)&&(r=e,n=s),s++;return n},g=function(t){for(var e=0,r=t.length,n=0;r>e;)n+=Math.abs(t[e++]);return n};t.processPNG=function(t,n,s,i){var a,u,c,l,f,d,h=this.color_spaces.DEVICE_RGB,p=this.decode.FLATE_DECODE,m=8;if(this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)){if(e())throw new Error(\"PNG support requires png.js and zlib.js\");if(a=new PNG(t),t=a.imgData,m=a.bits,h=a.colorSpace,l=a.colors,-1!==[4,6].indexOf(a.colorType)){if(8===a.bits)for(var w,y,g=window[\"Uint\"+a.pixelBitlength+\"Array\"],v=new g(a.decodePixels().buffer),b=v.length,q=new Uint8Array(b*a.colors),x=new Uint8Array(b),k=a.pixelBitlength-a.bits,_=0,A=0;b>_;_++){for(w=v[_],y=0;k>y;)q[A++]=w>>>y&255,y+=a.bits;x[_]=w>>>y&255}if(16===a.bits){for(var w,v=new Uint32Array(a.decodePixels().buffer),b=v.length,q=new Uint8Array(b*(32/a.pixelBitlength)*a.colors),x=new Uint8Array(b*(32/a.pixelBitlength)),C=a.colors>1,_=0,A=0,S=0;b>_;)w=v[_++],q[A++]=w>>>0&255,C&&(q[A++]=w>>>16&255,w=v[_++],q[A++]=w>>>0&255),x[S++]=w>>>16&255;m=8}r(i)?(t=o(q,a.width*a.colors,a.colors,i),d=o(x,a.width,1,i)):(t=q,d=x,p=null)}if(3===a.colorType&&(h=this.color_spaces.INDEXED,f=a.palette,a.transparency.indexed)){for(var E=a.transparency.indexed,z=0,_=0,b=E.length;b>_;++_)z+=E[_];if(z/=255,z===b-1&&-1!==E.indexOf(0))c=[E.indexOf(0)];else if(z!==b){for(var v=a.decodePixels(),x=new Uint8Array(v.length),_=0,b=v.length;b>_;_++)x[_]=E[v[_]];d=o(x,a.width,1)}}return u=p===this.decode.FLATE_DECODE?\"/Predictor 15 /Colors \"+l+\" /BitsPerComponent \"+m+\" /Columns \"+a.width:\"/Colors \"+l+\" /BitsPerComponent \"+m+\" /Columns \"+a.width,(this.isArrayBuffer(t)||this.isArrayBufferView(t))&&(t=this.arrayBufferToBinaryString(t)),(d&&this.isArrayBuffer(d)||this.isArrayBufferView(d))&&(d=this.arrayBufferToBinaryString(d)),this.createImageInfo(t,a.width,a.height,h,m,p,n,s,u,c,f,d)}throw new Error(\"Unsupported PNG image data, try using JPEG instead.\")}}(r.API),function(t){\"use strict\";t.addSVG=function(t,e,r,n,s){function o(t,e){var r=e.createElement(\"style\");r.type=\"text/css\",r.styleSheet?r.styleSheet.cssText=t:r.appendChild(e.createTextNode(t)),e.getElementsByTagName(\"head\")[0].appendChild(r)}function i(t){var e=\"childframe\",r=t.createElement(\"iframe\");return o(\".jsPDF_sillysvg_iframe {display:none;position:absolute;}\",t),r.name=e,r.setAttribute(\"width\",0),r.setAttribute(\"height\",0),r.setAttribute(\"frameborder\",\"0\"),r.setAttribute(\"scrolling\",\"no\"),r.setAttribute(\"seamless\",\"seamless\"),r.setAttribute(\"class\",\"jsPDF_sillysvg_iframe\"),t.body.appendChild(r),r}function a(t,e){var r=(e.contentWindow||e.contentDocument).document;return r.write(t),r.close(),r.getElementsByTagName(\"svg\")[0]}function u(t){for(var e=parseFloat(t[1]),r=parseFloat(t[2]),n=[],s=3,o=t.length;o>s;)\"c\"===t[s]?(n.push([parseFloat(t[s+1]),parseFloat(t[s+2]),parseFloat(t[s+3]),parseFloat(t[s+4]),parseFloat(t[s+5]),parseFloat(t[s+6])]),s+=7):\"l\"===t[s]?(n.push([parseFloat(t[s+1]),parseFloat(t[s+2])]),s+=3):s+=1;return[e,r,n]}var c;if(e===c||e===c)throw new Error(\"addSVG needs values for 'x' and 'y'\");var l=i(document),f=a(t,l),d=[1,1],h=parseFloat(f.getAttribute(\"width\")),p=parseFloat(f.getAttribute(\"height\"));h&&p&&(n&&s?d=[n/h,s/p]:n?d=[n/h,n/h]:s&&(d=[s/p,s/p]));var m,w,y,g,v=f.childNodes;for(m=0,w=v.length;w>m;m++)y=v[m],y.tagName&&\"PATH\"===y.tagName.toUpperCase()&&(g=u(y.getAttribute(\"d\").split(\" \")),g[0]=g[0]*d[0]+e,g[1]=g[1]*d[1]+r,this.lines.call(this,g[2],g[0],g[1],d));return this}}(r.API),function(t){\"use strict\";var e=t.getCharWidthsArray=function(t,e){e||(e={});var r,n,s,o=e.widths?e.widths:this.internal.getFont().metadata.Unicode.widths,i=o.fof?o.fof:1,a=e.kerning?e.kerning:this.internal.getFont().metadata.Unicode.kerning,u=a.fof?a.fof:1,c=0,l=o[0]||i,f=[];for(r=0,n=t.length;n>r;r++)s=t.charCodeAt(r),f.push((o[s]||l)/i+(a[s]&&a[s][c]||0)/u),c=s;return f},r=function(t){for(var e=t.length,r=0;e;)e--,r+=t[e];return r},n=t.getStringUnitWidth=function(t,n){return r(e.call(this,t,n))},s=function(t,e,r,n){for(var s=[],o=0,i=t.length,a=0;o!==i&&a+e[o]<r;)a+=e[o],o++;s.push(t.slice(0,o));var u=o;for(a=0;o!==i;)a+e[o]>n&&(s.push(t.slice(u,o)),a=0,u=o),a+=e[o],o++;return u!==o&&s.push(t.slice(u,o)),s},o=function(t,o,i){i||(i={});var a,u,c,l,f,d,h=[],p=[h],m=i.textIndent||0,w=0,y=0,g=t.split(\" \"),v=e(\" \",i)[0];if(d=-1===i.lineIndent?g[0].length+2:i.lineIndent||0){var b=Array(d).join(\" \"),q=[];g.map(function(t){t=t.split(/\\s*\\n/),t.length>1?q=q.concat(t.map(function(t,e){return(e&&t.length?\"\\n\":\"\")+t})):q.push(t[0])}),g=q,d=n(b,i)}for(c=0,l=g.length;l>c;c++){var x=0;if(a=g[c],d&&\"\\n\"==a[0]&&(a=a.substr(1),x=1),u=e(a,i),y=r(u),m+w+y>o||x){if(y>o){for(f=s(a,u,o-(m+w),o),h.push(f.shift()),h=[f.pop()];f.length;)p.push([f.shift()]);y=r(u.slice(a.length-h[0].length))}else h=[a];p.push(h),m=y+d,w=v}else h.push(a),m+=w+y,w=v}if(d)var k=function(t,e){return(e?b:\"\")+t.join(\" \")};else var k=function(t){return t.join(\" \")};return p.map(k)};t.splitTextToSize=function(t,e,r){r||(r={});var n,s=r.fontSize||this.internal.getFontSize(),i=function(t){var e={0:1},r={};if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var n=this.internal.getFont(t.fontName,t.fontStyle),s=\"Unicode\";return n.metadata[s]?{widths:n.metadata[s].widths||e,kerning:n.metadata[s].kerning||r}:{widths:e,kerning:r}}.call(this,r);n=Array.isArray(t)?t:t.split(/\\r?\\n/);var a=1*this.internal.scaleFactor*e/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var u,c,l=[];for(u=0,c=n.length;c>u;u++)l=l.concat(o(n[u],a,i));return l}}(r.API),function(t){\"use strict\";var e=function(t){for(var e=\"0123456789abcdef\",r=\"klmnopqrstuvwxyz\",n={},s=0;s<r.length;s++)n[r[s]]=e[s];var o,i,a,u,c,l={},f=1,d=l,h=[],p=\"\",m=\"\",w=t.length-1;for(s=1;s!=w;)c=t[s],s+=1,\"'\"==c?i?(u=i.join(\"\"),i=o):i=[]:i?i.push(c):\"{\"==c?(h.push([d,u]),d={},u=o):\"}\"==c?(a=h.pop(),a[0][a[1]]=d,u=o,d=a[0]):\"-\"==c?f=-1:u===o?n.hasOwnProperty(c)?(p+=n[c],u=parseInt(p,16)*f,f=1,p=\"\"):p+=c:n.hasOwnProperty(c)?(m+=n[c],d[u]=parseInt(m,16)*f,f=1,u=o,m=\"\"):m+=c;return l},r={codePages:[\"WinAnsiEncoding\"],WinAnsiEncoding:e(\"{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}\")},n={Unicode:{Courier:r,\"Courier-Bold\":r,\"Courier-BoldOblique\":r,\"Courier-Oblique\":r,Helvetica:r,\"Helvetica-Bold\":r,\"Helvetica-BoldOblique\":r,\"Helvetica-Oblique\":r,\"Times-Roman\":r,\"Times-Bold\":r,\"Times-BoldItalic\":r,\"Times-Italic\":r}},s={Unicode:{\"Courier-Oblique\":e(\"{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}\"),\"Times-BoldItalic\":e(\"{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}\"),\"Helvetica-Bold\":e(\"{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}\"),Courier:e(\"{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}\"),\"Courier-BoldOblique\":e(\"{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}\"),\"Times-Bold\":e(\"{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}\"),Helvetica:e(\"{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}\"),\"Helvetica-BoldOblique\":e(\"{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}\"),\"Courier-Bold\":e(\"{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}\"),\"Times-Italic\":e(\"{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}\"),\"Times-Roman\":e(\"{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}\"),\"Helvetica-Oblique\":e(\"{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}\")}};t.events.push([\"addFonts\",function(t){var e,r,o,i,a,u=\"Unicode\";for(r in t.fonts)t.fonts.hasOwnProperty(r)&&(e=t.fonts[r],o=s[u][e.PostScriptName],o&&(i=e.metadata[u]?e.metadata[u]:e.metadata[u]={},i.widths=o.widths,i.kerning=o.kerning),a=n[u][e.PostScriptName],a&&(i=e.metadata[u]?e.metadata[u]:e.metadata[u]={},i.encoding=a,a.codePages&&a.codePages.length&&(e.encoding=a.codePages[0])))}])}(r.API),function(t){\"use strict\";t.putTotalPages=function(t){for(var e=new RegExp(t,\"g\"),r=1;r<=this.internal.getNumberOfPages();r++)for(var n=0;n<this.internal.pages[r].length;n++)this.internal.pages[r][n]=this.internal.pages[r][n].replace(e,this.internal.getNumberOfPages());return this}}(r.API),function(t){\"use strict\";if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return new Blob,void 0}catch(e){}var r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\\[object\\s(.*)\\]$/)[1]},r=function(){this.data=[]},n=function(t,e,r){this.data=t,this.size=t.length,this.type=e,this.encoding=r},s=r.prototype,o=n.prototype,i=t.FileReaderSync,a=function(t){this.code=this[this.name=t]},u=\"NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR\".split(\" \"),c=u.length,l=t.URL||t.webkitURL||t,f=l.createObjectURL,d=l.revokeObjectURL,h=l,p=t.btoa,m=t.atob,w=t.ArrayBuffer,y=t.Uint8Array;for(n.fake=o.fake=!0;c--;)a.prototype[u[c]]=c+1;return l.createObjectURL||(h=t.URL={}),h.createObjectURL=function(t){var e,r=t.type;return null===r&&(r=\"application/octet-stream\"),t instanceof n?(e=\"data:\"+r,\"base64\"===t.encoding?e+\";base64,\"+t.data:\"URI\"===t.encoding?e+\",\"+decodeURIComponent(t.data):p?e+\";base64,\"+p(t.data):e+\",\"+encodeURIComponent(t.data)):f?f.call(l,t):void 0},h.revokeObjectURL=function(t){\"data:\"!==t.substring(0,5)&&d&&d.call(l,t)},s.append=function(t){var r=this.data;if(y&&(t instanceof w||t instanceof y)){for(var s=\"\",o=new y(t),u=0,c=o.length;c>u;u++)s+=String.fromCharCode(o[u]);r.push(s)}else if(\"Blob\"===e(t)||\"File\"===e(t)){if(!i)throw new a(\"NOT_READABLE_ERR\");var l=new i;r.push(l.readAsBinaryString(t))}else t instanceof n?\"base64\"===t.encoding&&m?r.push(m(t.data)):\"URI\"===t.encoding?r.push(decodeURIComponent(t.data)):\"raw\"===t.encoding&&r.push(t.data):(\"string\"!=typeof t&&(t+=\"\"),r.push(unescape(encodeURIComponent(t))))},s.getBlob=function(t){return arguments.length||(t=null),new n(this.data.join(\"\"),t,\"raw\")},s.toString=function(){return\"[object BlobBuilder]\"},o.slice=function(t,e,r){var s=arguments.length;return 3>s&&(r=null),new n(this.data.slice(t,s>1?e:this.data.length),r,this.encoding)\n},o.toString=function(){return\"[object Blob]\"},o.close=function(){this.size=this.data.length=0},r}(t);t.Blob=function(t,e){var n=e?e.type||\"\":\"\",s=new r;if(t)for(var o=0,i=t.length;i>o;o++)s.append(t[o]);return s.getBlob(n)}}(\"undefined\"!=typeof self&&self||\"undefined\"!=typeof window&&window||this.content||this);var n=n||\"undefined\"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(t){\"use strict\";if(\"undefined\"==typeof navigator||!/MSIE [1-9]\\./.test(navigator.userAgent)){var e=t.document,r=function(){return t.URL||t.webkitURL||t},n=e.createElementNS(\"http://www.w3.org/1999/xhtml\",\"a\"),s=!t.externalHost&&\"download\"in n,o=function(r){var n=e.createEvent(\"MouseEvents\");n.initMouseEvent(\"click\",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(n)},i=t.webkitRequestFileSystem,a=t.requestFileSystem||i||t.mozRequestFileSystem,u=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},c=\"application/octet-stream\",l=0,f=[],d=function(){for(var t=f.length;t--;){var e=f[t];\"string\"==typeof e?r().revokeObjectURL(e):e.remove()}f.length=0},h=function(t,e,r){e=[].concat(e);for(var n=e.length;n--;){var s=t[\"on\"+e[n]];if(\"function\"==typeof s)try{s.call(t,r||t)}catch(o){u(o)}}},p=function(e,u){var d,p,m,w=this,y=e.type,g=!1,v=function(){var t=r().createObjectURL(e);return f.push(t),t},b=function(){h(w,\"writestart progress write writeend\".split(\" \"))},q=function(){(g||!d)&&(d=v(e)),p?p.location.href=d:window.open(d,\"_blank\"),w.readyState=w.DONE,b()},x=function(t){return function(){return w.readyState!==w.DONE?t.apply(this,arguments):void 0}},k={create:!0,exclusive:!1};return w.readyState=w.INIT,u||(u=\"download\"),s?(d=v(e),n.href=d,n.download=u,o(n),w.readyState=w.DONE,b(),void 0):(t.chrome&&y&&y!==c&&(m=e.slice||e.webkitSlice,e=m.call(e,0,e.size,c),g=!0),i&&\"download\"!==u&&(u+=\".download\"),(y===c||i)&&(p=t),a?(l+=e.size,a(t.TEMPORARY,l,x(function(t){t.root.getDirectory(\"saved\",k,x(function(t){var r=function(){t.getFile(u,k,x(function(t){t.createWriter(x(function(r){r.onwriteend=function(e){p.location.href=t.toURL(),f.push(t),w.readyState=w.DONE,h(w,\"writeend\",e)},r.onerror=function(){var t=r.error;t.code!==t.ABORT_ERR&&q()},\"writestart progress write abort\".split(\" \").forEach(function(t){r[\"on\"+t]=w[\"on\"+t]}),r.write(e),w.abort=function(){r.abort(),w.readyState=w.DONE},w.readyState=w.WRITING}),q)}),q)};t.getFile(u,{create:!1},x(function(t){t.remove(),r()}),x(function(t){t.code===t.NOT_FOUND_ERR?r():q()}))}),q)}),q),void 0):(q(),void 0))},m=p.prototype,w=function(t,e){return new p(t,e)};return m.abort=function(){var t=this;t.readyState=t.DONE,h(t,\"abort\")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,t.addEventListener(\"unload\",d,!1),w.unload=function(){d(),t.removeEventListener(\"unload\",d,!1)},w}}(\"undefined\"!=typeof self&&self||\"undefined\"!=typeof window&&window||this.content);\"undefined\"!=typeof module&&null!==module?module.exports=n:\"undefined\"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return n}),void function(t,e){\"object\"==typeof module?module.exports=e():t.adler32cs=e()}(r,function(){var t=\"function\"==typeof ArrayBuffer&&\"function\"==typeof Uint8Array,e=null,r=function(){if(!t)return function(){return!1};try{var r=require(\"buffer\");\"function\"==typeof r.Buffer&&(e=r.Buffer)}catch(n){}return function(t){return t instanceof ArrayBuffer||null!==e&&t instanceof e}}(),n=function(){return null!==e?function(t){return new e(t,\"utf8\").toString(\"binary\")}:function(t){return unescape(encodeURIComponent(t))}}(),s=65521,o=function(t,e){for(var r=65535&t,n=t>>>16,o=0,i=e.length;i>o;o++)r=(r+(255&e.charCodeAt(o)))%s,n=(n+r)%s;return(n<<16|r)>>>0},i=function(t,e){for(var r=65535&t,n=t>>>16,o=0,i=e.length;i>o;o++)r=(r+e[o])%s,n=(n+r)%s;return(n<<16|r)>>>0},a={},u=a.Adler32=function(){var e=function(t){if(!(this instanceof e))throw new TypeError(\"Constructor cannot called be as a function.\");if(!isFinite(t=null==t?1:+t))throw new Error(\"First arguments needs to be a finite number.\");this.checksum=t>>>0},s=e.prototype={};return s.constructor=e,e.from=function(t){return t.prototype=s,t}(function(t){if(!(this instanceof e))throw new TypeError(\"Constructor cannot called be as a function.\");if(null==t)throw new Error(\"First argument needs to be a string.\");this.checksum=o(1,t.toString())}),e.fromUtf8=function(t){return t.prototype=s,t}(function(t){if(!(this instanceof e))throw new TypeError(\"Constructor cannot called be as a function.\");if(null==t)throw new Error(\"First argument needs to be a string.\");var r=n(t.toString());this.checksum=o(1,r)}),t&&(e.fromBuffer=function(t){return t.prototype=s,t}(function(t){if(!(this instanceof e))throw new TypeError(\"Constructor cannot called be as a function.\");if(!r(t))throw new Error(\"First argument needs to be ArrayBuffer.\");var n=new Uint8Array(t);return this.checksum=i(1,n)})),s.update=function(t){if(null==t)throw new Error(\"First argument needs to be a string.\");return t=t.toString(),this.checksum=o(this.checksum,t)},s.updateUtf8=function(t){if(null==t)throw new Error(\"First argument needs to be a string.\");var e=n(t.toString());return this.checksum=o(this.checksum,e)},t&&(s.updateBuffer=function(t){if(!r(t))throw new Error(\"First argument needs to be ArrayBuffer.\");var e=new Uint8Array(t);return this.checksum=i(this.checksum,e)}),s.clone=function(){return new u(this.checksum)},e}();return a.from=function(t){if(null==t)throw new Error(\"First argument needs to be a string.\");return o(1,t.toString())},a.fromUtf8=function(t){if(null==t)throw new Error(\"First argument needs to be a string.\");var e=n(t.toString());return o(1,e)},t&&(a.fromBuffer=function(t){if(!r(t))throw new Error(\"First argument need to be ArrayBuffer.\");var e=new Uint8Array(t);return i(1,e)}),a});var s=function(){function t(){function t(t){var e,r,s,o,a,u,c=n.dyn_tree,l=n.stat_desc.static_tree,f=n.stat_desc.extra_bits,h=n.stat_desc.extra_base,p=n.stat_desc.max_length,m=0;for(o=0;i>=o;o++)t.bl_count[o]=0;for(c[2*t.heap[t.heap_max]+1]=0,e=t.heap_max+1;d>e;e++)r=t.heap[e],o=c[2*c[2*r+1]+1]+1,o>p&&(o=p,m++),c[2*r+1]=o,r>n.max_code||(t.bl_count[o]++,a=0,r>=h&&(a=f[r-h]),u=c[2*r],t.opt_len+=u*(o+a),l&&(t.static_len+=u*(l[2*r+1]+a)));if(0!==m){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(r=t.bl_count[o];0!==r;)s=t.heap[--e],s>n.max_code||(c[2*s+1]!=o&&(t.opt_len+=(o-c[2*s+1])*c[2*s],c[2*s+1]=o),r--)}}function e(t,e){var r=0;do r|=1&t,t>>>=1,r<<=1;while(--e>0);return r>>>1}function r(t,r,n){var s,o,a,u=[],c=0;for(s=1;i>=s;s++)u[s]=c=c+n[s-1]<<1;for(o=0;r>=o;o++)a=t[2*o+1],0!==a&&(t[2*o]=e(u[a]++,a))}var n=this;n.build_tree=function(e){var s,o,i,a=n.dyn_tree,u=n.stat_desc.static_tree,c=n.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=d,s=0;c>s;s++)0!==a[2*s]?(e.heap[++e.heap_len]=l=s,e.depth[s]=0):a[2*s+1]=0;for(;e.heap_len<2;)i=e.heap[++e.heap_len]=2>l?++l:0,a[2*i]=1,e.depth[i]=0,e.opt_len--,u&&(e.static_len-=u[2*i+1]);for(n.max_code=l,s=Math.floor(e.heap_len/2);s>=1;s--)e.pqdownheap(a,s);i=c;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],e.pqdownheap(a,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,a[2*i]=a[2*s]+a[2*o],e.depth[i]=Math.max(e.depth[s],e.depth[o])+1,a[2*s+1]=a[2*o+1]=i,e.heap[1]=i++,e.pqdownheap(a,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],t(e),r(a,n.max_code,e.bl_count)}}function e(t,e,r,n,s){var o=this;o.static_tree=t,o.extra_bits=e,o.extra_base=r,o.elems=n,o.max_length=s}function r(t,e,r,n,s){var o=this;o.good_length=t,o.max_lazy=e,o.nice_length=r,o.max_chain=n,o.func=s}function n(t,e,r,n){var s=t[2*e],o=t[2*r];return o>s||s==o&&n[e]<=n[r]}function s(){function r(){var t;for(Ie=2*Ce,Be[Pe-1]=0,t=0;Pe-1>t;t++)Be[t]=0;We=L[Xe].max_lazy,Ke=L[Xe].good_length,Qe=L[Xe].nice_length,Ve=L[Xe].max_chain,Me=0,Fe=0,Ge=0,Le=Je=Z-1,Ne=0,Oe=0}function s(){var t;for(t=0;f>t;t++)$e[2*t]=0;for(t=0;a>t;t++)Ze[2*t]=0;for(t=0;u>t;t++)tr[2*t]=0;$e[2*h]=1,er.opt_len=er.static_len=0,ar=cr=0}function o(){rr.dyn_tree=$e,rr.stat_desc=e.static_l_desc,nr.dyn_tree=Ze,nr.stat_desc=e.static_d_desc,sr.dyn_tree=tr,sr.stat_desc=e.static_bl_desc,fr=0,dr=0,lr=8,s()}function i(t,e){var r,n,s=-1,o=t[1],i=0,a=7,u=4;for(0===o&&(a=138,u=3),t[2*(e+1)+1]=65535,r=0;e>=r;r++)n=o,o=t[2*(r+1)+1],++i<a&&n==o||(u>i?tr[2*n]+=i:0!==n?(n!=s&&tr[2*n]++,tr[2*m]++):10>=i?tr[2*w]++:tr[2*y]++,i=0,s=n,0===o?(a=138,u=3):n==o?(a=6,u=3):(a=7,u=4))}function c(){var e;for(i($e,rr.max_code),i(Ze,nr.max_code),sr.build_tree(er),e=u-1;e>=3&&0===tr[2*t.bl_order[e]+1];e--);return er.opt_len+=3*(e+1)+5+5+4,e}function d(t){er.pending_buf[er.pending++]=t}function p(t){d(255&t),d(t>>>8&255)}function O(t){d(t>>8&255),d(255&t&255)}function re(t,e){var r,n=e;dr>g-n?(r=t,fr|=r<<dr&65535,p(fr),fr=r>>>g-dr,dr+=n-g):(fr|=t<<dr&65535,dr+=n)}function ne(t,e){var r=2*t;re(65535&e[r],65535&e[r+1])}function se(t,e){var r,n,s=-1,o=t[1],i=0,a=7,u=4;for(0===o&&(a=138,u=3),r=0;e>=r;r++)if(n=o,o=t[2*(r+1)+1],!(++i<a&&n==o)){if(u>i){do ne(n,tr);while(0!==--i)}else 0!==n?(n!=s&&(ne(n,tr),i--),ne(m,tr),re(i-3,2)):10>=i?(ne(w,tr),re(i-3,3)):(ne(y,tr),re(i-11,7));i=0,s=n,0===o?(a=138,u=3):n==o?(a=6,u=3):(a=7,u=4)}}function oe(e,r,n){var s;for(re(e-257,5),re(r-1,5),re(n-4,4),s=0;n>s;s++)re(tr[2*t.bl_order[s]+1],3);se($e,e-1),se(Ze,r-1)}function ie(){16==dr?(p(fr),fr=0,dr=0):dr>=8&&(d(255&fr),fr>>>=8,dr-=8)}function ae(){re(Q<<1,3),ne(h,e.static_ltree),ie(),9>1+lr+10-dr&&(re(Q<<1,3),ne(h,e.static_ltree),ie()),lr=7}function ue(e,r){var n,s,o;if(er.pending_buf[ur+2*ar]=e>>>8&255,er.pending_buf[ur+2*ar+1]=255&e,er.pending_buf[or+ar]=255&r,ar++,0===e?$e[2*r]++:(cr++,e--,$e[2*(t._length_code[r]+l+1)]++,Ze[2*t.d_code(e)]++),0===(8191&ar)&&Xe>2){for(n=8*ar,s=Me-Fe,o=0;a>o;o++)n+=Ze[2*o]*(5+t.extra_dbits[o]);if(n>>>=3,cr<Math.floor(ar/2)&&n<Math.floor(s/2))return!0}return ar==ir-1}function ce(e,r){var n,s,o,i,a=0;if(0!==ar)do n=er.pending_buf[ur+2*a]<<8&65280|255&er.pending_buf[ur+2*a+1],s=255&er.pending_buf[or+a],a++,0===n?ne(s,e):(o=t._length_code[s],ne(o+l+1,e),i=t.extra_lbits[o],0!==i&&(s-=t.base_length[o],re(s,i)),n--,o=t.d_code(n),ne(o,r),i=t.extra_dbits[o],0!==i&&(n-=t.base_dist[o],re(n,i)));while(ar>a);ne(h,e),lr=e[2*h+1]}function le(){dr>8?p(fr):dr>0&&d(255&fr),fr=0,dr=0}function fe(t,e,r){le(),lr=8,r&&(p(e),p(~e)),er.pending_buf.set(ze.subarray(t,t+e),er.pending),er.pending+=e}function de(t,e,r){re((K<<1)+(r?1:0),3),fe(t,e,!0)}function he(t,r,n){var o,i,a=0;Xe>0?(rr.build_tree(er),nr.build_tree(er),a=c(),o=er.opt_len+3+7>>>3,i=er.static_len+3+7>>>3,o>=i&&(o=i)):o=i=r+5,o>=r+4&&-1!=t?de(t,r,n):i==o?(re((Q<<1)+(n?1:0),3),ce(e.static_ltree,e.static_dtree)):(re(($<<1)+(n?1:0),3),oe(rr.max_code+1,nr.max_code+1,a+1),ce($e,Ze)),s(),n&&le()}function pe(t){he(Fe>=0?Fe:-1,Me-Fe,t),Fe=Me,qe.flush_pending()}function me(){var t,e,r,n;do{if(n=Ie-Ge-Me,0===n&&0===Me&&0===Ge)n=Ce;else if(-1==n)n--;else if(Me>=Ce+Ce-ee){ze.set(ze.subarray(Ce,Ce+Ce),0),He-=Ce,Me-=Ce,Fe-=Ce,t=Pe,r=t;do e=65535&Be[--r],Be[r]=e>=Ce?e-Ce:0;while(0!==--t);t=Ce,r=t;do e=65535&Te[--r],Te[r]=e>=Ce?e-Ce:0;while(0!==--t);n+=Ce}if(0===qe.avail_in)return;t=qe.read_buf(ze,Me+Ge,n),Ge+=t,Ge>=Z&&(Oe=255&ze[Me],Oe=(Oe<<Ue^255&ze[Me+1])&De)}while(ee>Ge&&0!==qe.avail_in)}function we(t){var e,r=65535;for(r>ke-5&&(r=ke-5);;){if(1>=Ge){if(me(),0===Ge&&t==k)return N;if(0===Ge)break}if(Me+=Ge,Ge=0,e=Fe+r,(0===Me||Me>=e)&&(Ge=Me-e,Me=e,pe(!1),0===qe.avail_out))return N;if(Me-Fe>=Ce-ee&&(pe(!1),0===qe.avail_out))return N}return pe(t==C),0===qe.avail_out?t==C?H:N:t==C?G:M}function ye(t){var e,r,n=Ve,s=Me,o=Je,i=Me>Ce-ee?Me-(Ce-ee):0,a=Qe,u=Ee,c=Me+te,l=ze[s+o-1],f=ze[s+o];Je>=Ke&&(n>>=2),a>Ge&&(a=Ge);do if(e=t,ze[e+o]==f&&ze[e+o-1]==l&&ze[e]==ze[s]&&ze[++e]==ze[s+1]){s+=2,e++;do;while(ze[++s]==ze[++e]&&ze[++s]==ze[++e]&&ze[++s]==ze[++e]&&ze[++s]==ze[++e]&&ze[++s]==ze[++e]&&ze[++s]==ze[++e]&&ze[++s]==ze[++e]&&ze[++s]==ze[++e]&&c>s);if(r=te-(c-s),s=c-te,r>o){if(He=t,o=r,r>=a)break;l=ze[s+o-1],f=ze[s+o]}}while((t=65535&Te[t&u])>i&&0!==--n);return Ge>=o?o:Ge}function ge(t){for(var e,r=0;;){if(ee>Ge){if(me(),ee>Ge&&t==k)return N;if(0===Ge)break}if(Ge>=Z&&(Oe=(Oe<<Ue^255&ze[Me+(Z-1)])&De,r=65535&Be[Oe],Te[Me&Ee]=Be[Oe],Be[Oe]=Me),0!==r&&Ce-ee>=(Me-r&65535)&&Ye!=q&&(Le=ye(r)),Le>=Z)if(e=ue(Me-He,Le-Z),Ge-=Le,We>=Le&&Ge>=Z){Le--;do Me++,Oe=(Oe<<Ue^255&ze[Me+(Z-1)])&De,r=65535&Be[Oe],Te[Me&Ee]=Be[Oe],Be[Oe]=Me;while(0!==--Le);Me++}else Me+=Le,Le=0,Oe=255&ze[Me],Oe=(Oe<<Ue^255&ze[Me+1])&De;else e=ue(0,255&ze[Me]),Ge--,Me++;if(e&&(pe(!1),0===qe.avail_out))return N}return pe(t==C),0===qe.avail_out?t==C?H:N:t==C?G:M}function ve(t){for(var e,r,n=0;;){if(ee>Ge){if(me(),ee>Ge&&t==k)return N;if(0===Ge)break}if(Ge>=Z&&(Oe=(Oe<<Ue^255&ze[Me+(Z-1)])&De,n=65535&Be[Oe],Te[Me&Ee]=Be[Oe],Be[Oe]=Me),Je=Le,je=He,Le=Z-1,0!==n&&We>Je&&Ce-ee>=(Me-n&65535)&&(Ye!=q&&(Le=ye(n)),5>=Le&&(Ye==b||Le==Z&&Me-He>4096)&&(Le=Z-1)),Je>=Z&&Je>=Le){r=Me+Ge-Z,e=ue(Me-1-je,Je-Z),Ge-=Je-1,Je-=2;do++Me<=r&&(Oe=(Oe<<Ue^255&ze[Me+(Z-1)])&De,n=65535&Be[Oe],Te[Me&Ee]=Be[Oe],Be[Oe]=Me);while(0!==--Je);if(Ne=0,Le=Z-1,Me++,e&&(pe(!1),0===qe.avail_out))return N}else if(0!==Ne){if(e=ue(0,255&ze[Me-1]),e&&pe(!1),Me++,Ge--,0===qe.avail_out)return N}else Ne=1,Me++,Ge--}return 0!==Ne&&(e=ue(0,255&ze[Me-1]),Ne=0),pe(t==C),0===qe.avail_out?t==C?H:N:t==C?G:M}function be(t){return t.total_in=t.total_out=0,t.msg=null,er.pending=0,er.pending_out=0,xe=W,Ae=k,o(),r(),S}var qe,xe,ke,_e,Ae,Ce,Se,Ee,ze,Ie,Te,Be,Oe,Pe,Re,De,Ue,Fe,Le,je,Ne,Me,He,Ge,Je,Ve,We,Xe,Ye,Ke,Qe,$e,Ze,tr,er=this,rr=new t,nr=new t,sr=new t;er.depth=[];var or,ir,ar,ur,cr,lr,fr,dr;er.bl_count=[],er.heap=[],$e=[],Ze=[],tr=[],er.pqdownheap=function(t,e){for(var r=er.heap,s=r[e],o=e<<1;o<=er.heap_len&&(o<er.heap_len&&n(t,r[o+1],r[o],er.depth)&&o++,!n(t,s,r[o],er.depth));)r[e]=r[o],e=o,o<<=1;r[e]=s},er.deflateInit=function(t,e,r,n,s,o){return n||(n=Y),s||(s=R),o||(o=x),t.msg=null,e==v&&(e=6),1>s||s>P||n!=Y||9>r||r>15||0>e||e>9||0>o||o>q?I:(t.dstate=er,Se=r,Ce=1<<Se,Ee=Ce-1,Re=s+7,Pe=1<<Re,De=Pe-1,Ue=Math.floor((Re+Z-1)/Z),ze=new Uint8Array(2*Ce),Te=[],Be=[],ir=1<<s+6,er.pending_buf=new Uint8Array(4*ir),ke=4*ir,ur=Math.floor(ir/2),or=3*ir,Xe=e,Ye=o,_e=255&n,be(t))},er.deflateEnd=function(){return xe!=V&&xe!=W&&xe!=X?I:(er.pending_buf=null,Be=null,Te=null,ze=null,er.dstate=null,xe==W?T:S)},er.deflateParams=function(t,e,r){var n=S;return e==v&&(e=6),0>e||e>9||0>r||r>q?I:(L[Xe].func!=L[e].func&&0!==t.total_in&&(n=t.deflate(_)),Xe!=e&&(Xe=e,We=L[Xe].max_lazy,Ke=L[Xe].good_length,Qe=L[Xe].nice_length,Ve=L[Xe].max_chain),Ye=r,n)},er.deflateSetDictionary=function(t,e,r){var n,s=r,o=0;if(!e||xe!=V)return I;if(Z>s)return S;for(s>Ce-ee&&(s=Ce-ee,o=r-s),ze.set(e.subarray(o,o+s),0),Me=s,Fe=s,Oe=255&ze[0],Oe=(Oe<<Ue^255&ze[1])&De,n=0;s-Z>=n;n++)Oe=(Oe<<Ue^255&ze[n+(Z-1)])&De,Te[n&Ee]=Be[Oe],Be[Oe]=n;return S},er.deflate=function(t,e){var r,n,s,o,i;if(e>C||0>e)return I;if(!t.next_out||!t.next_in&&0!==t.avail_in||xe==X&&e!=C)return t.msg=j[z-I],I;if(0===t.avail_out)return t.msg=j[z-B],B;if(qe=t,o=Ae,Ae=e,xe==V&&(n=Y+(Se-8<<4)<<8,s=(Xe-1&255)>>1,s>3&&(s=3),n|=s<<6,0!==Me&&(n|=J),n+=31-n%31,xe=W,O(n)),0!==er.pending){if(qe.flush_pending(),0===qe.avail_out)return Ae=-1,S}else if(0===qe.avail_in&&o>=e&&e!=C)return qe.msg=j[z-B],B;if(xe==X&&0!==qe.avail_in)return t.msg=j[z-B],B;if(0!==qe.avail_in||0!==Ge||e!=k&&xe!=X){switch(i=-1,L[Xe].func){case D:i=we(e);break;case U:i=ge(e);break;case F:i=ve(e)}if((i==H||i==G)&&(xe=X),i==N||i==H)return 0===qe.avail_out&&(Ae=-1),S;if(i==M){if(e==_)ae();else if(de(0,0,!1),e==A)for(r=0;Pe>r;r++)Be[r]=0;if(qe.flush_pending(),0===qe.avail_out)return Ae=-1,S}}return e!=C?S:E}}function o(){var t=this;t.next_in_index=0,t.next_out_index=0,t.avail_in=0,t.total_in=0,t.avail_out=0,t.total_out=0}var i=15,a=30,u=19,c=29,l=256,f=l+1+c,d=2*f+1,h=256,p=7,m=16,w=17,y=18,g=16,v=-1,b=1,q=2,x=0,k=0,_=1,A=3,C=4,S=0,E=1,z=2,I=-2,T=-3,B=-5,O=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];t._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],t.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],t.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],t.d_code=function(t){return 256>t?O[t]:O[256+(t>>>7)]},t.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],t.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],t.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],t.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],e.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],e.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],e.static_l_desc=new e(e.static_ltree,t.extra_lbits,l+1,f,i),e.static_d_desc=new e(e.static_dtree,t.extra_dbits,0,a,i),e.static_bl_desc=new e(null,t.extra_blbits,0,u,p);var P=9,R=8,D=0,U=1,F=2,L=[new r(0,0,0,0,D),new r(4,4,8,4,U),new r(4,5,16,8,U),new r(4,6,32,32,U),new r(4,4,16,16,F),new r(8,16,32,32,F),new r(8,16,128,128,F),new r(8,32,128,256,F),new r(32,128,258,1024,F),new r(32,258,258,4096,F)],j=[\"need dictionary\",\"stream end\",\"\",\"\",\"stream error\",\"data error\",\"\",\"buffer error\",\"\",\"\"],N=0,M=1,H=2,G=3,J=32,V=42,W=113,X=666,Y=8,K=0,Q=1,$=2,Z=3,te=258,ee=te+Z+1;return o.prototype={deflateInit:function(t,e){var r=this;return r.dstate=new s,e||(e=i),r.dstate.deflateInit(r,t,e)},deflate:function(t){var e=this;return e.dstate?e.dstate.deflate(e,t):I},deflateEnd:function(){var t=this;if(!t.dstate)return I;var e=t.dstate.deflateEnd();return t.dstate=null,e},deflateParams:function(t,e){var r=this;return r.dstate?r.dstate.deflateParams(r,t,e):I},deflateSetDictionary:function(t,e){var r=this;return r.dstate?r.dstate.deflateSetDictionary(r,t,e):I},read_buf:function(t,e,r){var n=this,s=n.avail_in;return s>r&&(s=r),0===s?0:(n.avail_in-=s,t.set(n.next_in.subarray(n.next_in_index,n.next_in_index+s),e),n.next_in_index+=s,n.total_in+=s,s)},flush_pending:function(){var t=this,e=t.dstate.pending;e>t.avail_out&&(e=t.avail_out),0!==e&&(t.next_out.set(t.dstate.pending_buf.subarray(t.dstate.pending_out,t.dstate.pending_out+e),t.next_out_index),t.next_out_index+=e,t.dstate.pending_out+=e,t.total_out+=e,t.avail_out-=e,t.dstate.pending-=e,0===t.dstate.pending&&(t.dstate.pending_out=0))}},function(t){var e=this,r=new o,n=512,s=k,i=new Uint8Array(n);\"undefined\"==typeof t&&(t=v),r.deflateInit(t),r.next_out=i,e.append=function(t,e){var o,a,u=[],c=0,l=0,f=0;if(t.length){r.next_in_index=0,r.next_in=t,r.avail_in=t.length;do{if(r.next_out_index=0,r.avail_out=n,o=r.deflate(s),o!=S)throw\"deflating: \"+r.msg;r.next_out_index&&(r.next_out_index==n?u.push(new Uint8Array(i)):u.push(new Uint8Array(i.subarray(0,r.next_out_index)))),f+=r.next_out_index,e&&r.next_in_index>0&&r.next_in_index!=c&&(e(r.next_in_index),c=r.next_in_index)}while(r.avail_in>0||0===r.avail_out);return a=new Uint8Array(f),u.forEach(function(t){a.set(t,l),l+=t.length}),a}},e.flush=function(){var t,e,s=[],o=0,a=0;do{if(r.next_out_index=0,r.avail_out=n,t=r.deflate(C),t!=E&&t!=S)throw\"deflating: \"+r.msg;n-r.avail_out>0&&s.push(new Uint8Array(i.subarray(0,r.next_out_index))),a+=r.next_out_index}while(r.avail_in>0||0===r.avail_out);return r.deflateEnd(),e=new Uint8Array(a),s.forEach(function(t){e.set(t,o),o+=t.length}),e}}}(this);!function(t){var e;e=function(){function e(t){var e,r,n,s,o,i,a,u,c,l,f,d,h,p,m;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},i=null;;){switch(e=this.readUInt32(),l=function(){var t,e;for(e=[],a=t=0;4>t;a=++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}.call(this).join(\"\")){case\"IHDR\":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case\"acTL\":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case\"PLTE\":this.palette=this.read(e);break;case\"fcTL\":i&&this.animation.frames.push(i),this.pos+=4,i={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},o=this.readUInt16(),s=this.readUInt16()||100,i.delay=1e3*o/s,i.disposeOp=this.data[this.pos++],i.blendOp=this.data[this.pos++],i.data=[];break;case\"IDAT\":case\"fdAT\":for(\"fdAT\"===l&&(this.pos+=4,e-=4),t=(null!=i?i.data:void 0)||this.imgData,a=h=0;e>=0?e>h:h>e;a=e>=0?++h:--h)t.push(this.data[this.pos++]);break;case\"tRNS\":switch(this.transparency={},this.colorType){case 3:if(n=this.palette.length/3,this.transparency.indexed=this.read(e),this.transparency.indexed.length>n)throw new Error(\"More transparent colors than palette size\");if(f=n-this.transparency.indexed.length,f>0)for(a=p=0;f>=0?f>p:p>f;a=f>=0?++p:--p)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case\"tEXt\":d=this.read(e),u=d.indexOf(0),c=String.fromCharCode.apply(String,d.slice(0,u)),this.text[c]=String.fromCharCode.apply(String,d.slice(u+1));break;case\"IEND\":return i&&this.animation.frames.push(i),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(m=this.colorType)||6===m,r=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*r,this.colorSpace=function(){switch(this.colors){case 1:return\"DeviceGray\";case 3:return\"DeviceRGB\"}}.call(this),this.imgData=new Uint8Array(this.imgData),void 0;default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error(\"Incomplete or corrupt PNG file\")}}var r,n,s,o,a,u,c,l;e.load=function(t,r,n){var s;return\"function\"==typeof r&&(n=r),s=new XMLHttpRequest,s.open(\"GET\",t,!0),s.responseType=\"arraybuffer\",s.onload=function(){var t,o;return t=new Uint8Array(s.response||s.mozResponseArrayBuffer),o=new e(t),\"function\"==typeof(null!=r?r.getContext:void 0)&&o.render(r),\"function\"==typeof n?n(o):void 0},s.send(null)},o=0,s=1,a=2,n=0,r=1,e.prototype.read=function(t){var e,r,n;for(n=[],e=r=0;t>=0?t>r:r>t;e=t>=0?++r:--r)n.push(this.data[this.pos++]);return n},e.prototype.readUInt32=function(){var t,e,r,n;return t=this.data[this.pos++]<<24,e=this.data[this.pos++]<<16,r=this.data[this.pos++]<<8,n=this.data[this.pos++],t|e|r|n},e.prototype.readUInt16=function(){var t,e;return t=this.data[this.pos++]<<8,e=this.data[this.pos++],t|e},e.prototype.decodePixels=function(t){var e,r,n,s,o,a,u,c,l,f,d,h,p,m,w,y,g,v,b,q,x,k,_;if(null==t&&(t=this.imgData),0===t.length)return new Uint8Array(0);for(t=new i(t),t=t.getBytes(),h=this.pixelBitlength/8,y=h*this.width,p=new Uint8Array(y*this.height),a=t.length,w=0,m=0,r=0;a>m;){switch(t[m++]){case 0:for(s=b=0;y>b;s=b+=1)p[r++]=t[m++];break;case 1:for(s=q=0;y>q;s=q+=1)e=t[m++],o=h>s?0:p[r-h],p[r++]=(e+o)%256;break;case 2:for(s=x=0;y>x;s=x+=1)e=t[m++],n=(s-s%h)/h,g=w&&p[(w-1)*y+n*h+s%h],p[r++]=(g+e)%256;break;case 3:for(s=k=0;y>k;s=k+=1)e=t[m++],n=(s-s%h)/h,o=h>s?0:p[r-h],g=w&&p[(w-1)*y+n*h+s%h],p[r++]=(e+Math.floor((o+g)/2))%256;break;case 4:for(s=_=0;y>_;s=_+=1)e=t[m++],n=(s-s%h)/h,o=h>s?0:p[r-h],0===w?g=v=0:(g=p[(w-1)*y+n*h+s%h],v=n&&p[(w-1)*y+(n-1)*h+s%h]),u=o+g-v,c=Math.abs(u-o),f=Math.abs(u-g),d=Math.abs(u-v),l=f>=c&&d>=c?o:d>=f?g:v,p[r++]=(e+l)%256;break;default:throw new Error(\"Invalid filter algorithm: \"+t[m-1])}w++}return p},e.prototype.decodePalette=function(){var t,e,r,n,s,o,i,a,u,c;for(n=this.palette,i=this.transparency.indexed||[],o=new Uint8Array((i.length||0)+n.length),s=0,r=n.length,t=0,e=a=0,u=n.length;u>a;e=a+=3)o[s++]=n[e],o[s++]=n[e+1],o[s++]=n[e+2],o[s++]=null!=(c=i[t++])?c:255;return o},e.prototype.copyToImageData=function(t,e){var r,n,s,o,i,a,u,c,l,f,d;if(n=this.colors,l=null,r=this.hasAlphaChannel,this.palette.length&&(l=null!=(d=this._decodedPalette)?d:this._decodedPalette=this.decodePalette(),n=4,r=!0),s=t.data||t,c=s.length,i=l||e,o=a=0,1===n)for(;c>o;)u=l?4*e[o/4]:a,f=i[u++],s[o++]=f,s[o++]=f,s[o++]=f,s[o++]=r?i[u++]:255,a=u;else for(;c>o;)u=l?4*e[o/4]:a,s[o++]=i[u++],s[o++]=i[u++],s[o++]=i[u++],s[o++]=r?i[u++]:255,a=u},e.prototype.decode=function(){var t;return t=new Uint8Array(this.width*this.height*4),this.copyToImageData(t,this.decodePixels()),t};try{c=t.document.createElement(\"canvas\"),l=c.getContext(\"2d\")}catch(f){return-1}return u=function(t){var e;return l.width=t.width,l.height=t.height,l.clearRect(0,0,t.width,t.height),l.putImageData(t,0,0),e=new Image,e.src=c.toDataURL(),e},e.prototype.decodeFrames=function(t){var e,r,n,s,o,i,a,c;if(this.animation){for(a=this.animation.frames,c=[],r=o=0,i=a.length;i>o;r=++o)e=a[r],n=t.createImageData(e.width,e.height),s=this.decodePixels(new Uint8Array(e.data)),this.copyToImageData(n,s),e.imageData=n,c.push(e.image=u(n));return c}},e.prototype.renderFrame=function(t,e){var r,o,i;return o=this.animation.frames,r=o[e],i=o[e-1],0===e&&t.clearRect(0,0,this.width,this.height),(null!=i?i.disposeOp:void 0)===s?t.clearRect(i.xOffset,i.yOffset,i.width,i.height):(null!=i?i.disposeOp:void 0)===a&&t.putImageData(i.imageData,i.xOffset,i.yOffset),r.blendOp===n&&t.clearRect(r.xOffset,r.yOffset,r.width,r.height),t.drawImage(r.image,r.xOffset,r.yOffset)},e.prototype.animate=function(t){var e,r,n,s,o,i,a=this;return r=0,i=this.animation,s=i.numFrames,n=i.frames,o=i.numPlays,(e=function(){var i,u;return i=r++%s,u=n[i],a.renderFrame(t,i),s>1&&o>r/s?a.animation._timeout=setTimeout(e,u.delay):void 0})()},e.prototype.stopAnimation=function(){var t;return clearTimeout(null!=(t=this.animation)?t._timeout:void 0)},e.prototype.render=function(t){var e,r;return t._png&&t._png.stopAnimation(),t._png=this,t.width=this.width,t.height=this.height,e=t.getContext(\"2d\"),this.animation?(this.decodeFrames(e),this.animate(e)):(r=e.createImageData(this.width,this.height),this.copyToImageData(r,this.decodePixels()),e.putImageData(r,0,0))},e}(),t.PNG=e}(\"undefined\"!=typeof window&&window||this);var o=function(){function t(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return t.prototype={ensureBuffer:function(t){var e=this.buffer,r=e?e.byteLength:0;if(r>t)return e;for(var n=512;t>n;)n<<=1;for(var s=new Uint8Array(n),o=0;r>o;++o)s[o]=e[o];return this.buffer=s},getByte:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(t){var e=this.pos;if(t){this.ensureBuffer(e+t);for(var r=e+t;!this.eof&&this.bufferLength<r;)this.readBlock();var n=this.bufferLength;r>n&&(r=n)}else{for(;!this.eof;)this.readBlock();var r=this.bufferLength}return this.pos=r,this.buffer.subarray(e,r)},lookChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(t,e,r){for(var n=t+e;this.bufferLength<=n&&!this.eof;)this.readBlock();return new Stream(this.buffer,t,e,r)},skip:function(t){t||(t=1),this.pos+=t},reset:function(){this.pos=0}},t}(),i=function(){function t(t){throw new Error(t)}function e(e){var r=0,n=e[r++],s=e[r++];(-1==n||-1==s)&&t(\"Invalid header in flate stream\"),8!=(15&n)&&t(\"Unknown compression method in flate stream\"),((n<<8)+s)%31!=0&&t(\"Bad FCHECK in flate stream\"),32&s&&t(\"FDICT bit set in flate stream\"),this.bytes=e,this.bytesPos=r,this.codeSize=0,this.codeBuf=0,o.call(this)}if(\"undefined\"==typeof Uint32Array)return void 0;var r=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),n=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),s=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),i=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],a=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];\nreturn e.prototype=Object.create(o.prototype),e.prototype.getBits=function(e){for(var r,n=this.codeSize,s=this.codeBuf,o=this.bytes,i=this.bytesPos;e>n;)\"undefined\"==typeof(r=o[i++])&&t(\"Bad encoding in flate stream\"),s|=r<<n,n+=8;return r=s&(1<<e)-1,this.codeBuf=s>>e,this.codeSize=n-=e,this.bytesPos=i,r},e.prototype.getCode=function(e){for(var r=e[0],n=e[1],s=this.codeSize,o=this.codeBuf,i=this.bytes,a=this.bytesPos;n>s;){var u;\"undefined\"==typeof(u=i[a++])&&t(\"Bad encoding in flate stream\"),o|=u<<s,s+=8}var c=r[o&(1<<n)-1],l=c>>16,f=65535&c;return(0==s||l>s||0==l)&&t(\"Bad encoding in flate stream\"),this.codeBuf=o>>l,this.codeSize=s-l,this.bytesPos=a,f},e.prototype.generateHuffmanTable=function(t){for(var e=t.length,r=0,n=0;e>n;++n)t[n]>r&&(r=t[n]);for(var s=1<<r,o=new Uint32Array(s),i=1,a=0,u=2;r>=i;++i,a<<=1,u<<=1)for(var c=0;e>c;++c)if(t[c]==i){for(var l=0,f=a,n=0;i>n;++n)l=l<<1|1&f,f>>=1;for(var n=l;s>n;n+=u)o[n]=i<<16|c;++a}return[o,r]},e.prototype.readBlock=function(){function e(t,e,r,n,s){for(var o=t.getBits(r)+n;o-->0;)e[k++]=s}var o=this.getBits(3);if(1&o&&(this.eof=!0),o>>=1,0==o){var u,c=this.bytes,l=this.bytesPos;\"undefined\"==typeof(u=c[l++])&&t(\"Bad block header in flate stream\");var f=u;\"undefined\"==typeof(u=c[l++])&&t(\"Bad block header in flate stream\"),f|=u<<8,\"undefined\"==typeof(u=c[l++])&&t(\"Bad block header in flate stream\");var d=u;\"undefined\"==typeof(u=c[l++])&&t(\"Bad block header in flate stream\"),d|=u<<8,d!=(65535&~f)&&t(\"Bad uncompressed block length in flate stream\"),this.codeBuf=0,this.codeSize=0;var h=this.bufferLength,p=this.ensureBuffer(h+f),m=h+f;this.bufferLength=m;for(var w=h;m>w;++w){if(\"undefined\"==typeof(u=c[l++])){this.eof=!0;break}p[w]=u}return this.bytesPos=l,void 0}var y,g;if(1==o)y=i,g=a;else if(2==o){for(var v=this.getBits(5)+257,b=this.getBits(5)+1,q=this.getBits(4)+4,x=Array(r.length),k=0;q>k;)x[r[k++]]=this.getBits(3);for(var _=this.generateHuffmanTable(x),A=0,k=0,C=v+b,S=new Array(C);C>k;){var E=this.getCode(_);16==E?e(this,S,2,3,A):17==E?e(this,S,3,3,A=0):18==E?e(this,S,7,11,A=0):S[k++]=A=E}y=this.generateHuffmanTable(S.slice(0,v)),g=this.generateHuffmanTable(S.slice(v,C))}else t(\"Unknown block type in flate stream\");for(var p=this.buffer,z=p?p.length:0,I=this.bufferLength;;){var T=this.getCode(y);if(256>T)I+1>=z&&(p=this.ensureBuffer(I+1),z=p.length),p[I++]=T;else{if(256==T)return this.bufferLength=I,void 0;T-=257,T=n[T];var B=T>>16;B>0&&(B=this.getBits(B));var A=(65535&T)+B;T=this.getCode(g),T=s[T],B=T>>16,B>0&&(B=this.getBits(B));var O=(65535&T)+B;I+A>=z&&(p=this.ensureBuffer(I+A),z=p.length);for(var P=0;A>P;++P,++I)p[I]=p[I-O]}}},e}();!function(t){var e=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\"undefined\"==typeof t.btoa&&(t.btoa=function(t){var r,n,s,o,i,a,u,c,l=0,f=0,d=\"\",h=[];if(!t)return t;do r=t.charCodeAt(l++),n=t.charCodeAt(l++),s=t.charCodeAt(l++),c=r<<16|n<<8|s,o=c>>18&63,i=c>>12&63,a=c>>6&63,u=63&c,h[f++]=e.charAt(o)+e.charAt(i)+e.charAt(a)+e.charAt(u);while(l<t.length);d=h.join(\"\");var p=t.length%3;return(p?d.slice(0,p-3):d)+\"===\".slice(p||3)}),\"undefined\"==typeof t.atob&&(t.atob=function(t){var r,n,s,o,i,a,u,c,l=0,f=0,d=\"\",h=[];if(!t)return t;t+=\"\";do o=e.indexOf(t.charAt(l++)),i=e.indexOf(t.charAt(l++)),a=e.indexOf(t.charAt(l++)),u=e.indexOf(t.charAt(l++)),c=o<<18|i<<12|a<<6|u,r=c>>16&255,n=c>>8&255,s=255&c,h[f++]=64==a?String.fromCharCode(r):64==u?String.fromCharCode(r,n):String.fromCharCode(r,n,s);while(l<t.length);return d=h.join(\"\")}),Array.prototype.map||(Array.prototype.map=function(t){if(void 0===this||null===this||\"function\"!=typeof t)throw new TypeError;for(var e=Object(this),r=e.length>>>0,n=new Array(r),s=arguments.length>1?arguments[1]:void 0,o=0;r>o;o++)o in e&&(n[o]=t.call(s,e[o],o,e));return n}),Array.isArray||(Array.isArray=function(t){return\"[object Array]\"===Object.prototype.toString.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){\"use strict\";if(void 0===this||null===this||\"function\"!=typeof t)throw new TypeError;for(var r=Object(this),n=r.length>>>0,s=0;n>s;s++)s in r&&t.call(e,r[s],s,r)}),Object.keys||(Object.keys=function(){\"use strict\";var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable(\"toString\"),r=[\"toString\",\"toLocaleString\",\"valueOf\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"constructor\"],n=r.length;return function(s){if(\"object\"!=typeof s&&(\"function\"!=typeof s||null===s))throw new TypeError;var o,i,a=[];for(o in s)t.call(s,o)&&a.push(o);if(e)for(i=0;n>i;i++)t.call(s,r[i])&&a.push(r[i]);return a}}()),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\\s+|\\s+$/g,\"\")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\\s+/g,\"\")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\\s+$/g,\"\")})}(\"undefined\"!=typeof self&&self||\"undefined\"!=typeof window&&window||this)}({},function(){return this}());\n","/**\n * For parsing color values.\n * @module RGBColor\n * @author Stoyan Stefanov <sstoo@gmail.com>\n * @see https://www.phpied.com/rgb-color-parser-in-javascript/\n * @license MIT\n*/\nconst simpleColors = {\n  aliceblue: 'f0f8ff',\n  antiquewhite: 'faebd7',\n  aqua: '00ffff',\n  aquamarine: '7fffd4',\n  azure: 'f0ffff',\n  beige: 'f5f5dc',\n  bisque: 'ffe4c4',\n  black: '000000',\n  blanchedalmond: 'ffebcd',\n  blue: '0000ff',\n  blueviolet: '8a2be2',\n  brown: 'a52a2a',\n  burlywood: 'deb887',\n  cadetblue: '5f9ea0',\n  chartreuse: '7fff00',\n  chocolate: 'd2691e',\n  coral: 'ff7f50',\n  cornflowerblue: '6495ed',\n  cornsilk: 'fff8dc',\n  crimson: 'dc143c',\n  cyan: '00ffff',\n  darkblue: '00008b',\n  darkcyan: '008b8b',\n  darkgoldenrod: 'b8860b',\n  darkgray: 'a9a9a9',\n  darkgreen: '006400',\n  darkkhaki: 'bdb76b',\n  darkmagenta: '8b008b',\n  darkolivegreen: '556b2f',\n  darkorange: 'ff8c00',\n  darkorchid: '9932cc',\n  darkred: '8b0000',\n  darksalmon: 'e9967a',\n  darkseagreen: '8fbc8f',\n  darkslateblue: '483d8b',\n  darkslategray: '2f4f4f',\n  darkturquoise: '00ced1',\n  darkviolet: '9400d3',\n  deeppink: 'ff1493',\n  deepskyblue: '00bfff',\n  dimgray: '696969',\n  dodgerblue: '1e90ff',\n  feldspar: 'd19275',\n  firebrick: 'b22222',\n  floralwhite: 'fffaf0',\n  forestgreen: '228b22',\n  fuchsia: 'ff00ff',\n  gainsboro: 'dcdcdc',\n  ghostwhite: 'f8f8ff',\n  gold: 'ffd700',\n  goldenrod: 'daa520',\n  gray: '808080',\n  green: '008000',\n  greenyellow: 'adff2f',\n  honeydew: 'f0fff0',\n  hotpink: 'ff69b4',\n  indianred: 'cd5c5c',\n  indigo: '4b0082',\n  ivory: 'fffff0',\n  khaki: 'f0e68c',\n  lavender: 'e6e6fa',\n  lavenderblush: 'fff0f5',\n  lawngreen: '7cfc00',\n  lemonchiffon: 'fffacd',\n  lightblue: 'add8e6',\n  lightcoral: 'f08080',\n  lightcyan: 'e0ffff',\n  lightgoldenrodyellow: 'fafad2',\n  lightgrey: 'd3d3d3',\n  lightgreen: '90ee90',\n  lightpink: 'ffb6c1',\n  lightsalmon: 'ffa07a',\n  lightseagreen: '20b2aa',\n  lightskyblue: '87cefa',\n  lightslateblue: '8470ff',\n  lightslategray: '778899',\n  lightsteelblue: 'b0c4de',\n  lightyellow: 'ffffe0',\n  lime: '00ff00',\n  limegreen: '32cd32',\n  linen: 'faf0e6',\n  magenta: 'ff00ff',\n  maroon: '800000',\n  mediumaquamarine: '66cdaa',\n  mediumblue: '0000cd',\n  mediumorchid: 'ba55d3',\n  mediumpurple: '9370d8',\n  mediumseagreen: '3cb371',\n  mediumslateblue: '7b68ee',\n  mediumspringgreen: '00fa9a',\n  mediumturquoise: '48d1cc',\n  mediumvioletred: 'c71585',\n  midnightblue: '191970',\n  mintcream: 'f5fffa',\n  mistyrose: 'ffe4e1',\n  moccasin: 'ffe4b5',\n  navajowhite: 'ffdead',\n  navy: '000080',\n  oldlace: 'fdf5e6',\n  olive: '808000',\n  olivedrab: '6b8e23',\n  orange: 'ffa500',\n  orangered: 'ff4500',\n  orchid: 'da70d6',\n  palegoldenrod: 'eee8aa',\n  palegreen: '98fb98',\n  paleturquoise: 'afeeee',\n  palevioletred: 'd87093',\n  papayawhip: 'ffefd5',\n  peachpuff: 'ffdab9',\n  peru: 'cd853f',\n  pink: 'ffc0cb',\n  plum: 'dda0dd',\n  powderblue: 'b0e0e6',\n  purple: '800080',\n  red: 'ff0000',\n  rosybrown: 'bc8f8f',\n  royalblue: '4169e1',\n  saddlebrown: '8b4513',\n  salmon: 'fa8072',\n  sandybrown: 'f4a460',\n  seagreen: '2e8b57',\n  seashell: 'fff5ee',\n  sienna: 'a0522d',\n  silver: 'c0c0c0',\n  skyblue: '87ceeb',\n  slateblue: '6a5acd',\n  slategray: '708090',\n  snow: 'fffafa',\n  springgreen: '00ff7f',\n  steelblue: '4682b4',\n  tan: 'd2b48c',\n  teal: '008080',\n  thistle: 'd8bfd8',\n  tomato: 'ff6347',\n  turquoise: '40e0d0',\n  violet: 'ee82ee',\n  violetred: 'd02090',\n  wheat: 'f5deb3',\n  white: 'ffffff',\n  whitesmoke: 'f5f5f5',\n  yellow: 'ffff00',\n  yellowgreen: '9acd32'\n};\n\n// array of color definition objects\nconst colorDefs = [\n  {\n    re: /^rgb\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,\n    // re: /^rgb\\((?<r>\\d{1,3}),\\s*(?<g>\\d{1,3}),\\s*(?<b>\\d{1,3})\\)$/,\n    example: ['rgb(123, 234, 45)', 'rgb(255,234,245)'],\n    process (_, ...bits) {\n      return bits.map((b) => Number.parseInt(b));\n    }\n  },\n  {\n    re: /^(\\w{2})(\\w{2})(\\w{2})$/,\n    // re: /^(?<r>\\w{2})(?<g>\\w{2})(?<b>\\w{2})$/,\n    example: ['#00ff00', '336699'],\n    process (_, ...bits) {\n      return bits.map((b) => Number.parseInt(b, 16));\n    }\n  },\n  {\n    re: /^(\\w)(\\w)(\\w)$/,\n    // re: /^(?<r>\\w{1})(?<g>\\w{1})(?<b>\\w{1})$/,\n    example: ['#fb0', 'f0f'],\n    process (_, ...bits) {\n      return bits.map((b) => Number.parseInt(b + b, 16));\n    }\n  }\n];\n\n/**\n * A class to parse color values.\n */\nexport default class RGBColor {\n  /**\n  * @param {string} colorString\n  */\n  constructor (colorString) {\n    this.ok = false;\n\n    // strip any leading #\n    if (colorString.charAt(0) === '#') { // remove # if any\n      colorString = colorString.substr(1, 6);\n    }\n\n    colorString = colorString.replace(/ /g, '');\n    colorString = colorString.toLowerCase();\n\n    // before getting into regexps, try simple matches\n    // and overwrite the input\n    if (colorString in simpleColors) {\n      colorString = simpleColors[colorString];\n    }\n    // end of simple type-in colors\n\n    // search through the definitions to find a match\n\n    colorDefs.forEach(({re, process: processor}) => {\n      const bits = re.exec(colorString);\n      if (bits) {\n        const [r, g, b] = processor(...bits);\n        Object.assign(this, {r, g, b});\n        this.ok = true;\n      }\n    });\n\n    // validate/cleanup values\n    this.r = (this.r < 0 || isNaN(this.r)) ? 0 : ((this.r > 255) ? 255 : this.r);\n    this.g = (this.g < 0 || isNaN(this.g)) ? 0 : ((this.g > 255) ? 255 : this.g);\n    this.b = (this.b < 0 || isNaN(this.b)) ? 0 : ((this.b > 255) ? 255 : this.b);\n  }\n\n  // some getters\n  /**\n  * @returns {string}\n  */\n  toRGB () {\n    return 'rgb(' + this.r + ', ' + this.g + ', ' + this.b + ')';\n  }\n\n  /**\n  * @returns {string}\n  */\n  toHex () {\n    let r = this.r.toString(16);\n    let g = this.g.toString(16);\n    let b = this.b.toString(16);\n    if (r.length === 1) { r = '0' + r; }\n    if (g.length === 1) { g = '0' + g; }\n    if (b.length === 1) { b = '0' + b; }\n    return '#' + r + g + b;\n  }\n\n  /**\n  * Offers a bulleted list of help.\n  * @returns {HTMLUListElement}\n  */\n  static getHelpXML () {\n    const examples = [\n      // add regexps\n      ...colorDefs.flatMap(({example}) => {\n        return example;\n      }),\n      // add type-in colors\n      ...Object.keys(simpleColors)\n    ];\n\n    const xml = document.createElement('ul');\n    xml.setAttribute('id', 'rgbcolor-examples');\n\n    xml.append(...examples.map((example) => {\n      try {\n        const listItem = document.createElement('li');\n        const listColor = new RGBColor(example);\n        const exampleDiv = document.createElement('div');\n        exampleDiv.style.cssText = `\n  margin: 3px;\n  border: 1px solid black;\n  background: ${listColor.toHex()};\n  color: ${listColor.toHex()};`;\n        exampleDiv.append('test');\n        const listItemValue = ` ${example} -> ${listColor.toRGB()} -> ${listColor.toHex()}`;\n        listItem.append(exampleDiv, listItemValue);\n        return listItem;\n      } catch (e) {\n        return '';\n      }\n    }));\n    return xml;\n  }\n}\n","/* globals jsPDF */\n/*\n * svgToPdf.js\n *\n * Copyright 2012-2014 Florian HÃ¼lsmann <fh@cbix.de>\n * Copyright 2014 Ben Gribaudo <www.bengribaudo.com>\n *\n * This script is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This script is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this file.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport RGBColor from '../canvg/rgbcolor.js';\n\nconst jsPDFAPI = jsPDF.API;\nconst pdfSvgAttr = {\n  // allowed attributes. all others are removed from the preview.\n  g: ['stroke', 'fill', 'stroke-width'],\n  line: ['x1', 'y1', 'x2', 'y2', 'stroke', 'stroke-width'],\n  rect: ['x', 'y', 'width', 'height', 'stroke', 'fill', 'stroke-width'],\n  ellipse: ['cx', 'cy', 'rx', 'ry', 'stroke', 'fill', 'stroke-width'],\n  circle: ['cx', 'cy', 'r', 'stroke', 'fill', 'stroke-width'],\n  polygon: ['points', 'stroke', 'fill', 'stroke-width'],\n  // polyline attributes are the same as those of polygon\n  path: ['d', 'stroke', 'fill', 'stroke-width'],\n  text: ['x', 'y', 'font-size', 'font-family', 'text-anchor', 'font-weight', 'font-style', 'fill']\n};\n\nconst attributeIsNotEmpty = function (node, attr) {\n  const attVal = attr ? node.getAttribute(attr) : node;\n  return attVal !== '' && attVal !== null && attVal !== 'null';\n};\n\nconst nodeIs = function (node, possible) {\n  return possible.includes(node.tagName.toLowerCase());\n};\n\nconst removeAttributes = function (node, attributes) {\n  const toRemove = [];\n  [].forEach.call(node.attributes, function (a) {\n    if (attributeIsNotEmpty(a) && !attributes.includes(a.name.toLowerCase())) {\n      toRemove.push(a.name);\n    }\n  });\n\n  toRemove.forEach((a) => {\n    node.removeAttribute(a.name);\n  });\n};\n\nconst numRgx = /[+-]?(?:\\d+\\.\\d*|\\d+|\\.\\d+)(?:[eE]\\d+|[eE][+-]\\d+|)/g;\nconst getLinesOptionsOfPoly = function (node) {\n  let nums = node.getAttribute('points');\n  nums = (nums && nums.match(numRgx)) || [];\n  if (nums && nums.length) {\n    nums = nums.map((n) => Number(n));\n    if (nums.length % 2) {\n      nums.length--;\n    }\n  }\n  if (nums.length < 4) {\n    console.log('invalid points attribute:', node); // eslint-disable-line no-console\n    return undefined;\n  }\n  const [x, y] = nums, lines = [];\n  for (let i = 2; i < nums.length; i += 2) {\n    lines.push([nums[i] - nums[i - 2], nums[i + 1] - nums[i - 1]]);\n  }\n  return {x, y, lines};\n};\n\nconst getLinesOptionsOfPath = function (node) {\n  const segList = node.pathSegList, n = segList.numberOfItems, opsList = [];\n  let ops = {\n    lines: []\n  };\n  const curr = {x: 0, y: 0};\n  const reflectControl = {x: 0, y: 0};\n  const toRelative = function (nums, relativeTo) {\n    const re = [];\n    for (let i = 0; i < nums.length - 1; i += 2) {\n      re[i] = nums[i] - relativeTo.x;\n      re[i + 1] = nums[i + 1] - relativeTo.y;\n    }\n    return re;\n  };\n  const curveQToC = function (nums) {\n    const a = 2 / 3;\n    const re = [\n      nums[0] * a,\n      nums[1] * a,\n      nums[2] + (nums[0] - nums[2]) * a,\n      nums[3] + (nums[1] - nums[3]) * a,\n      nums[2],\n      nums[3]\n    ];\n    return re;\n  };\n  for (let i = 0, letterPrev; i < n; i++) {\n    const seg = segList.getItem(i);\n    const {x1, y1, x2, y2, x, y, pathSegTypeAsLetter: letter} = seg;\n    const isRelative = letter >= 'a'; // lowercase letter\n    switch (letter) {\n    case 'M':\n    case 'm': {\n      if (ops.lines.length && Object.prototype.hasOwnProperty.call(ops, 'x')) {\n        opsList.push(ops);\n      }\n      ops = {\n        lines: [],\n        x: isRelative ? x + curr.x : x,\n        y: isRelative ? y + curr.y : y,\n        closed: false\n      };\n      ops.closed = false;\n      break;\n    }\n    case 'L': {\n      ops.lines.push(toRelative([x, y], curr));\n      break;\n    }\n    case 'l': {\n      ops.lines.push([x, y]);\n      break;\n    }\n    case 'H': {\n      ops.lines.push([x - curr.x, 0]);\n      break;\n    }\n    case 'h': {\n      ops.lines.push([x, 0]);\n      break;\n    }\n    case 'V': {\n      ops.lines.push([0, y - curr.y]);\n      break;\n    }\n    case 'v': {\n      ops.lines.push([0, y]);\n      break;\n    }\n    case 'Q': {\n      ops.lines.push(curveQToC(toRelative([x1, y1, x, y], curr)));\n      reflectControl.x = x - x1;\n      reflectControl.y = y - y1;\n      break;\n    }\n    case 'q': {\n      ops.lines.push(curveQToC([x1, y1, x, y]));\n      reflectControl.x = x - x1;\n      reflectControl.y = y - y1;\n      break;\n    }\n    case 'T': {\n      const p1 = letterPrev && 'QqTt'.includes(letterPrev) ? reflectControl : {x: 0, y: 0};\n      ops.lines.push(curveQToC([p1.x, p1.y, x - curr.x, y - curr.y]));\n      reflectControl.x = x - curr.x - p1.x;\n      reflectControl.y = y - curr.y - p1.y;\n      break;\n    }\n    case 't': {\n      const p1 = letterPrev && 'QqTt'.includes(letterPrev) ? reflectControl : {x: 0, y: 0};\n      ops.lines.push([p1.x, p1.y, x, y]);\n      reflectControl.x = x - p1.x;\n      reflectControl.y = y - p1.y;\n      break;\n    }\n    case 'C': {\n      ops.lines.push(toRelative([x1, y1, x2, y2, x, y], curr));\n      break;\n    }\n    case 'c': {\n      ops.lines.push([x1, y1, x2, y2, x, y]);\n      break;\n    }\n    case 'S':\n    case 's': {\n      const p1 = letterPrev && 'CcSs'.includes(letterPrev) ? reflectControl : {x: 0, y: 0};\n      if (isRelative) {\n        ops.lines.push([p1.x, p1.y, x2, y2, x, y]);\n      } else {\n        ops.lines.push([p1.x, p1.y].concat(toRelative([x2, y2, x, y], curr)));\n      }\n      reflectControl.x = x - x2;\n      reflectControl.y = y - y2;\n      break;\n    }\n    case 'A':\n    case 'a': {\n      // Not support command 'A' and 'a' yet. Treat it as straight line instead.\n      if (isRelative) {\n        ops.lines.push([x, y]);\n      } else {\n        ops.lines.push(toRelative([x, y], curr));\n      }\n      break;\n    }\n    case 'z':\n    case 'Z': {\n      ops.closed = true;\n      break;\n    }\n    default: {\n      // throw new Error('Unknown path command ' + letter);\n      return opsList;\n    }\n    }\n    if (letter === 'Z' || letter === 'z') {\n      curr.x = ops.x;\n      curr.y = ops.y;\n    } else {\n      if (letter !== 'V' && letter !== 'v') {\n        curr.x = isRelative ? x + curr.x : x;\n      }\n      if (letter !== 'H' && letter !== 'h') {\n        curr.y = isRelative ? y + curr.y : y;\n      }\n    }\n    letterPrev = letter;\n  }\n  if (ops.lines.length && Object.prototype.hasOwnProperty.call(ops, 'x')) {\n    opsList.push(ops);\n  }\n  return opsList;\n};\n\nconst svgElementToPdf = function (element, pdf, options) {\n  // pdf is a jsPDF object\n  // console.log('options =', options);\n  const remove = (options.removeInvalid === undefined ? false : options.removeInvalid);\n  const k = (options.scale === undefined ? 1.0 : options.scale);\n  let colorMode = null;\n  [].forEach.call(element.children, function (node) {\n    // console.log('passing: ', node);\n    // let hasStrokeColor = false;\n    let hasFillColor = false;\n    let fillRGB;\n    colorMode = null;\n    if (nodeIs(node, ['g', 'line', 'rect', 'ellipse', 'circle', 'polygon', 'polyline', 'path', 'text'])) {\n      const fillColor = node.getAttribute('fill');\n      if (attributeIsNotEmpty(fillColor) && node.getAttribute('fill-opacity') !== '0') {\n        fillRGB = new RGBColor(fillColor);\n        if (fillRGB.ok) {\n          hasFillColor = true;\n          colorMode = 'F';\n        } else {\n          colorMode = null;\n        }\n      }\n    }\n    if (nodeIs(node, ['g', 'line', 'rect', 'ellipse', 'circle', 'polygon', 'polyline', 'path'])) {\n      if (hasFillColor) {\n        pdf.setFillColor(fillRGB.r, fillRGB.g, fillRGB.b);\n      }\n      if (attributeIsNotEmpty(node, 'stroke-width')) {\n        pdf.setLineWidth(k * Number.parseInt(node.getAttribute('stroke-width')));\n      }\n      const strokeColor = node.getAttribute('stroke');\n      if (attributeIsNotEmpty(strokeColor) &&\n        node.getAttribute('stroke-width') !== '0' &&\n        node.getAttribute('stroke-opacity') !== '0'\n      ) {\n        const strokeRGB = new RGBColor(strokeColor);\n        if (strokeRGB.ok) {\n          // hasStrokeColor = true;\n          pdf.setDrawColor(strokeRGB.r, strokeRGB.g, strokeRGB.b);\n          if (hasFillColor) {\n            colorMode = 'FD';\n          } else {\n            colorMode = 'S';\n          }\n        } else {\n          colorMode = null;\n        }\n      }\n    }\n    const tag = node.tagName.toLowerCase();\n    switch (tag) {\n    case 'svg':\n    case 'a':\n    case 'g':\n      svgElementToPdf(node, pdf, options);\n      removeAttributes(node, pdfSvgAttr.g);\n      break;\n    case 'line':\n      pdf.line(\n        k * Number.parseInt(node.getAttribute('x1')),\n        k * Number.parseInt(node.getAttribute('y1')),\n        k * Number.parseInt(node.getAttribute('x2')),\n        k * Number.parseInt(node.getAttribute('y2'))\n      );\n      removeAttributes(node, pdfSvgAttr.line);\n      break;\n    case 'rect':\n      pdf.rect(\n        k * Number.parseInt(node.getAttribute('x')),\n        k * Number.parseInt(node.getAttribute('y')),\n        k * Number.parseInt(node.getAttribute('width')),\n        k * Number.parseInt(node.getAttribute('height')),\n        colorMode\n      );\n      removeAttributes(node, pdfSvgAttr.rect);\n      break;\n    case 'ellipse':\n      pdf.ellipse(\n        k * Number.parseInt(node.getAttribute('cx')),\n        k * Number.parseInt(node.getAttribute('cy')),\n        k * Number.parseInt(node.getAttribute('rx')),\n        k * Number.parseInt(node.getAttribute('ry')),\n        colorMode\n      );\n      removeAttributes(node, pdfSvgAttr.ellipse);\n      break;\n    case 'circle':\n      pdf.circle(\n        k * Number.parseInt(node.getAttribute('cx')),\n        k * Number.parseInt(node.getAttribute('cy')),\n        k * Number.parseInt(node.getAttribute('r')),\n        colorMode\n      );\n      removeAttributes(node, pdfSvgAttr.circle);\n      break;\n    case 'polygon':\n    case 'polyline': {\n      const linesOptions = getLinesOptionsOfPoly(node);\n      if (linesOptions) {\n        pdf.lines(\n          linesOptions.lines,\n          k * linesOptions.x,\n          k * linesOptions.y,\n          [k, k],\n          colorMode,\n          tag === 'polygon' // polygon is closed, polyline is not closed\n        );\n      }\n      removeAttributes(node, pdfSvgAttr.polygon);\n      break;\n    } case 'path': {\n      if (colorMode) {\n        const linesOptionsList = getLinesOptionsOfPath(node);\n        if (linesOptionsList.length > 0) {\n          linesOptionsList.forEach(function (linesOptions) {\n            pdf.lines(\n              linesOptions.lines,\n              k * linesOptions.x,\n              k * linesOptions.y,\n              [k, k],\n              null,\n              linesOptions.closed\n            );\n          });\n          // svg fill rule default is nonzero\n          const fillRule = node.getAttribute('fill-rule');\n          if (fillRule === 'evenodd') {\n            // f* : fill using even-odd rule\n            // B* : stroke and fill using even-odd rule\n            if (colorMode === 'F') {\n              colorMode = 'f*';\n            } else if (colorMode === 'FD') {\n              colorMode = 'B*';\n            }\n          }\n          pdf.internal.write(pdf.internal.getStyle(colorMode));\n        }\n      }\n      removeAttributes(node, pdfSvgAttr.path);\n      break;\n    } case 'text': {\n      if (node.hasAttribute('font-family')) {\n        switch ((node.getAttribute('font-family') || '').toLowerCase()) {\n        case 'serif': pdf.setFont('times'); break;\n        case 'monospace': pdf.setFont('courier'); break;\n        case 'times': pdf.setFont('times'); break;\n        case 'courier': pdf.setFont('courier'); break;\n        case 'helvetica': pdf.setFont('helvetica'); break;\n        default:\n          node.setAttribute('font-family', 'sans-serif');\n          pdf.setFont('helvetica');\n        }\n      }\n      if (hasFillColor) {\n        pdf.setTextColor(fillRGB.r, fillRGB.g, fillRGB.b);\n      }\n      let fontType = '';\n      if (node.hasAttribute('font-weight')) {\n        if (node.getAttribute('font-weight') === 'bold') {\n          fontType = 'bold';\n        } else {\n          node.removeAttribute('font-weight');\n        }\n      }\n      if (node.hasAttribute('font-style')) {\n        if (node.getAttribute('font-style') === 'italic') {\n          fontType += 'italic';\n        } else {\n          node.removeAttribute('font-style');\n        }\n      }\n      pdf.setFontType(fontType);\n      const pdfFontSize = node.hasAttribute('font-size')\n        ? Number.parseInt(node.getAttribute('font-size'))\n        : 16;\n\n      /**\n       *\n       * @param {Element} elem\n       * @returns {Float}\n       */\n      const getWidth = (elem) => {\n        let box;\n        try {\n          box = elem.getBBox(); // Firefox on MacOS will raise error here\n        } catch (err) {\n          // copy and append to body so that getBBox is available\n          const nodeCopy = elem.cloneNode(true);\n          const svg = elem.ownerSVGElement.cloneNode(false);\n          svg.appendChild(nodeCopy);\n          document.body.appendChild(svg);\n          try {\n            box = nodeCopy.getBBox();\n          } catch (error) {\n            box = {width: 0};\n          }\n          svg.remove();\n        }\n        return box.width;\n      };\n      // TODO: use more accurate positioning!!\n      let x, y, xOffset = 0;\n      if (node.hasAttribute('text-anchor')) {\n        switch (node.getAttribute('text-anchor')) {\n        case 'end': xOffset = getWidth(node); break;\n        case 'middle': xOffset = getWidth(node) / 2; break;\n        case 'start': break;\n        case 'default': node.setAttribute('text-anchor', 'start'); break;\n        }\n        x = Number.parseInt(node.getAttribute('x')) - xOffset;\n        y = Number.parseInt(node.getAttribute('y'));\n      }\n      // console.log('fontSize:', pdfFontSize, 'text:', node.textContent);\n      pdf.setFontSize(pdfFontSize).text(\n        k * x,\n        k * y,\n        node.textContent\n      );\n      removeAttributes(node, pdfSvgAttr.text);\n      break;\n    // TODO: image\n    } default:\n      if (remove) {\n        console.log(\"can't translate to pdf:\", node); // eslint-disable-line no-console\n        node.remove();\n      }\n    }\n  });\n  return pdf;\n};\n\njsPDFAPI.addSVG = function (element, x, y, options) {\n  options = (options === undefined ? {} : options);\n  options.x_offset = x;\n  options.y_offset = y;\n\n  if (typeof element === 'string') {\n    element = new DOMParser().parseFromString(element, 'text/xml').documentElement;\n  }\n  svgElementToPdf(element, this, options);\n  return this;\n};\n"],"names":["check","it","Math","globalThis","window","self","global","Function","exec","error","fails","Object","defineProperty","get","nativePropertyIsEnumerable","propertyIsEnumerable","getOwnPropertyDescriptor","NASHORN_BUG","call","V","descriptor","enumerable","bitmap","value","configurable","writable","toString","slice","split","classof","undefined","TypeError","IndexedObject","requireObjectCoercible","input","PREFERRED_STRING","isObject","fn","val","valueOf","hasOwnProperty","key","document","EXISTS","createElement","DESCRIPTORS","a","nativeGetOwnPropertyDescriptor","O","P","toIndexedObject","toPrimitive","IE8_DOM_DEFINE","has","createPropertyDescriptor","propertyIsEnumerableModule","f","String","nativeDefineProperty","Attributes","anObject","object","definePropertyModule","createNonEnumerableProperty","SHARED","store","setGlobal","functionToString","inspectSource","WeakMap","test","module","push","version","mode","copyright","id","postfix","random","keys","shared","uid","set","enforce","getterFor","TYPE","state","type","NATIVE_WEAK_MAP","wmget","wmhas","wmset","metadata","STATE","sharedKey","hiddenKeys","objectHas","getInternalState","InternalStateModule","enforceInternalState","TEMPLATE","options","unsafe","simple","noTargetGet","source","join","prototype","aFunction","variable","namespace","method","arguments","length","path","ceil","floor","argument","isNaN","min","toInteger","max","index","integer","createMethod","IS_INCLUDES","$this","el","fromIndex","toLength","toAbsoluteIndex","includes","indexOf","require$$0","names","i","result","enumBugKeys","concat","getOwnPropertyNames","internalObjectKeys","getOwnPropertySymbols","getBuiltIn","ownKeys","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","target","getOwnPropertyDescriptorModule","replacement","isForced","feature","detection","data","normalize","POLYFILL","NATIVE","string","replace","toLowerCase","TARGET","GLOBAL","STATIC","stat","FORCED","targetProperty","sourceProperty","forced","copyConstructorProperties","sham","redefine","Symbol","NATIVE_SYMBOL","iterator","Array","isArray","arg","defineProperties","Properties","objectKeys","GT","LT","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","content","NullProtoObjectViaActiveX","activeXDocument","write","close","temp","parentWindow","NullProtoObjectViaIFrame","iframe","documentCreateElement","JS","iframeDocument","style","display","html","appendChild","src","contentWindow","open","F","NullProtoObject","domain","ActiveXObject","create","nativeGetOwnPropertyNames","windowNames","getWindowNames","WellKnownSymbolsStore","createWellKnownSymbol","USE_SYMBOL_AS_UID","withoutSetter","name","wellKnownSymbol","NAME","wrappedWellKnownSymbolModule","TO_STRING_TAG","TAG","that","b","c","apply","SPECIES","originalArray","C","constructor","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","callbackfn","specificCreate","toObject","boundFunction","bind","arraySpeciesCreate","forEach","map","filter","some","every","find","findIndex","$forEach","HIDDEN","SYMBOL","TO_PRIMITIVE","setInternalState","ObjectPrototype","$Symbol","$stringify","getOwnPropertyNamesExternal","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","QObject","USE_SETTER","findChild","setSymbolDescriptor","nativeObjectCreate","ObjectPrototypeDescriptor","wrap","tag","description","symbol","isSymbol","$defineProperty","$defineProperties","properties","$getOwnPropertySymbols","$propertyIsEnumerable","$create","$getOwnPropertyDescriptor","$getOwnPropertyNames","IS_OBJECT_PROTOTYPE","setter","$","defineWellKnownSymbol","keyFor","sym","useSetter","useSimple","FORCED_JSON_STRINGIFY","stringify","replacer","space","args","$replacer","setToStringTag","NativeSymbol","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","native","regexp","desc","propertyKey","process","versions","v8","match","userAgent","METHOD_NAME","V8_VERSION","array","foo","Boolean","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","arrayMethodHasSpeciesSupport","isConcatSpreadable","spreadable","proto","A","n","k","len","E","createProperty","copyWithin","start","to","from","end","count","inc","UNSCOPABLES","ArrayPrototype","addToUnscopables","cache","thrower","ACCESSORS","argument0","argument1","$every","STRICT_METHOD","arrayMethodIsStrict","USES_TO_LENGTH","arrayMethodUsesToLength","fill","argumentsLength","endPos","$filter","HAS_SPECIES_SUPPORT","$find","FIND","SKIPS_HOLES","$findIndex","FIND_INDEX","flattenIntoArray","original","sourceLen","depth","mapper","thisArg","targetIndex","sourceIndex","mapFn","element","flat","depthArg","flatMap","ENTRIES","returnMethod","ITERATOR","Iterators","CORRECT_ARGUMENTS","classofRaw","tryGet","TO_STRING_TAG_SUPPORT","callee","arrayLike","mapfn","mapping","iteratorMethod","getIteratorMethod","step","next","isArrayIteratorMethod","done","callWithSafeIterationClosing","SAFE_CLOSING","called","iteratorWithReturn","SKIP_CLOSING","ITERATION_SUPPORT","INCORRECT_ITERATION","checkCorrectnessOfIteration","iterable","$includes","$indexOf","nativeIndexOf","NEGATIVE_ZERO","searchElement","getPrototypeOf","CORRECT_PROTOTYPE_GETTER","BUGGY_SAFARI_ITERATORS","returnThis","IteratorPrototype","PrototypeOfArrayIteratorPrototype","arrayIterator","IteratorConstructor","setPrototypeOf","CORRECT_SETTER","aPossiblePrototype","__proto__","IteratorsCore","KEYS","VALUES","Iterable","DEFAULT","IS_SET","createIteratorConstructor","getIterationMethod","KIND","defaultIterator","IterablePrototype","values","entries","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","CurrentIteratorPrototype","methods","KEY","ARRAY_ITERATOR","defineIterator","iterated","kind","Arguments","nativeJoin","ES3_STRINGS","separator","nativeLastIndexOf","lastIndexOf","$map","ISNT_GENERIC","of","IS_RIGHT","memo","left","right","$reduce","reduce","$reduceRight","reduceRight","nativeReverse","reverse","nativeSlice","fin","Constructor","$some","nativeSort","sort","FAILS_ON_UNDEFINED","FAILS_ON_NULL","comparefn","CONSTRUCTOR_NAME","setSpecies","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","splice","deleteCount","actualStart","insertCount","actualDeleteCount","ArrayBuffer","DataView","number","RangeError","Infinity","abs","pow","log","LN2","pack","mantissaLength","bytes","buffer","exponentLength","eMax","eBias","rt","sign","exponent","mantissa","unpack","nBits","NaN","require$$1","ARRAY_BUFFER","DATA_VIEW","WRONG_LENGTH","WRONG_INDEX","NativeArrayBuffer","$ArrayBuffer","$DataView","$DataViewPrototype","packIEEE754","IEEE754","unpackIEEE754","packInt8","packInt16","packInt32","unpackInt32","packFloat32","packFloat64","addGetter","view","isLittleEndian","intIndex","toIndex","byteLength","byteOffset","conversion","NATIVE_ARRAY_BUFFER","anInstance","arrayFill","bufferLength","offset","redefineAll","getInt8","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat32","getFloat64","setInt8","setUint8","setInt16","setUint16","setInt32","setUint32","setFloat32","setFloat64","ArrayBufferPrototype","j","testView","nativeSetInt8","arrayBufferModule","Int8Array","Int8ArrayPrototype","Uint8ClampedArray","Uint8ClampedArrayPrototype","TypedArray","TypedArrayPrototype","isPrototypeOf","TYPED_ARRAY_TAG","NATIVE_ARRAY_BUFFER_VIEWS","opera","TYPED_ARRAY_TAG_REQIRED","TypedArrayConstructorsList","Uint8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","isView","klass","isTypedArray","aTypedArray","aTypedArrayConstructor","ARRAY","TypedArrayConstructor","exportTypedArrayMethod","property","exportTypedArrayStaticMethod","ArrayBufferViewCore","defaultConstructor","S","ArrayBufferModule","nativeArrayBufferSlice","INCORRECT_SLICE","first","speciesConstructor","viewSource","viewTarget","now","Date","getTime","repeat","str","IS_END","maxLength","fillString","stringLength","fillStr","intMaxLength","fillLen","stringFiller","padStart","DatePrototype","nativeDateToISOString","toISOString","isFinite","date","year","getUTCFullYear","milliseconds","getUTCMilliseconds","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","toJSON","pv","hint","dateToPrimitive","INVALID_DATE","TO_STRING","nativeDateToString","factories","construct","argsLength","list","partArgs","bound","HAS_INSTANCE","FunctionPrototype","FunctionPrototypeToString","nameRE","re","low","hi","fix","prev","charAt","charCodeAt","JSON","isExtensible","preventExtensions","METADATA","setMetadata","objectID","weakData","fastKey","getWeakData","onFreeze","FREEZING","meta","REQUIRED","Result","stopped","iterate","AS_ENTRIES","IS_ITERATOR","iterFn","stop","dummy","Wrapper","NewTarget","NewTargetPrototype","wrapper","common","IS_WEAK","ADDER","NativeConstructor","NativePrototype","exported","fixMethod","nativeMethod","add","getConstructor","InternalMetadataModule","instance","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","inheritIfRequired","clear","setStrong","internalStateGetterFor","last","size","define","entry","getEntry","previous","removed","ITERATOR_NAME","getInternalCollectionState","getInternalIteratorState","collection","init","Map","collectionStrong","log1p","x","nativeAcosh","acosh","sqrt","Number","MAX_VALUE","nativeAsinh","asinh","nativeAtanh","atanh","cbrt","LOG2E","clz32","nativeExpm1","expm1","exp","nativeCosh","cosh","t","EPSILON","EPSILON32","MAX32","MIN32","roundTiesToEven","fround","$abs","$sign","$hypot","hypot","BUGGY","value1","value2","sum","aLen","larg","div","nativeImul","imul","y","UINT16","xn","yn","xl","yl","LOG10E","log10","log2","sinh","tanh","trunc","whitespace","whitespaces","ltrim","RegExp","rtrim","trim","require$$2","require$$3","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","third","radix","maxCode","digits","code","parseInt","NumberWrapper","globalIsFinite","numberIsFinite","isInteger","isSafeInteger","MIN_SAFE_INTEGER","$parseFloat","parseFloat","trimmedString","$parseInt","hex","nativeToFixed","toFixed","acc","x2","fractionDigits","thisNumberValue","fractDigits","e","z","multiply","c2","divide","dataToString","s","nativeToPrecision","toPrecision","precision","nativeAssign","assign","B","alphabet","chr","T","__defineSetter__","__defineGetter__","getter","objectDefinePropertyModile","TO_ENTRIES","$entries","nativeFreeze","freeze","FAILS_ON_PRIMITIVES","fromEntries","obj","v","getOwnPropertyDescriptors","nativeGetPrototypeOf","is","nativeIsExtensible","nativeIsFrozen","isFrozen","nativeIsSealed","isSealed","nativeKeys","__lookupGetter__","__lookupSetter__","nativePreventExtensions","nativeSeal","seal","$values","parseFloatImplementation","parseIntImplementation","Promise","location","setImmediate","clearImmediate","MessageChannel","Dispatch","counter","queue","ONREADYSTATECHANGE","defer","channel","port","run","runner","listener","event","post","postMessage","protocol","host","nextTick","IS_IOS","port2","port1","onmessage","addEventListener","importScripts","removeChild","setTimeout","macrotask","MutationObserver","WebKitMutationObserver","IS_NODE","queueMicrotaskDescriptor","queueMicrotask","flush","head","notify","toggle","node","promise","then","parent","exit","enter","createTextNode","observe","characterData","resolve","task","PromiseCapability","reject","$$resolve","$$reject","promiseCapability","newPromiseCapability","console","PROMISE","getInternalPromiseState","PromiseConstructor","NativePromise","$fetch","newPromiseCapabilityModule","newGenericPromiseCapability","DISPATCH_EVENT","createEvent","dispatchEvent","UNHANDLED_REJECTION","REJECTION_HANDLED","PENDING","FULFILLED","REJECTED","HANDLED","UNHANDLED","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","GLOBAL_CORE_JS_PROMISE","PromiseRejectionEvent","FakePromise","all","isThenable","isReject","notified","chain","reactions","microtask","ok","reaction","handler","fail","exited","rejection","onHandleUnhandled","onUnhandled","reason","initEvent","hostReportErrors","IS_UNHANDLED","isUnhandled","perform","emit","unwrap","internalReject","internalResolve","executor","onFulfilled","onRejected","fetch","promiseResolve","r","capability","$promiseResolve","remaining","alreadyCalled","race","allSettled","status","NON_GENERIC","real","onFinally","isFunction","nativeApply","functionApply","OPTIONAL_ARGUMENTS_LIST","thisArgument","argumentsList","nativeConstruct","NEW_TARGET_BUG","ARGS_BUG","Target","newTarget","$args","ERROR_INSTEAD_OF_FALSE","Reflect","attributes","deleteProperty","receiver","objectGetPrototypeOf","objectIsExtensible","objectPreventExtensions","ownDescriptor","existingDescriptor","MS_EDGE_BUG","objectSetPrototypeOf","MATCH","isRegExp","ignoreCase","multiline","dotAll","unicode","sticky","RE","lastIndex","NativeRegExp","RegExpPrototype","re1","re2","CORRECT_NEW","UNSUPPORTED_Y","stickyHelpers","RegExpWrapper","pattern","flags","thisIsRegExp","patternIsRegExp","flagsAreUndefined","getFlags","proxy","nativeExec","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","BROKEN_CARET","NPCG_INCLUDED","PATCH","reCopy","regexpFlags","charsAdded","strCopy","objectDefinePropertyModule","regExpFlags","DELEGATES_TO_EXEC","execCalled","nativeTest","Error","nativeToString","NOT_GENERIC","INCORRECT_NAME","R","p","rf","Set","CONVERT_TO_STRING","pos","position","second","codeAt","codePointAt","nativeEndsWith","endsWith","CORRECT_IS_REGEXP_LOGIC","correctIsRegExpLogic","MDN_POLYFILL_BUG","searchString","notARegExp","endPosition","search","fromCharCode","nativeFromCodePoint","fromCodePoint","INCORRECT_LENGTH","elements","STRING_ITERATOR","point","REPLACE_SUPPORTS_NAMED_GROUPS","groups","REPLACE_KEEPS_$0","REPLACE","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","DELEGATES_TO_SYMBOL","nativeRegExpMethod","arg2","forceStringMethod","regexpExec","stringMethod","regexMethod","fixRegExpWellKnownSymbolLogic","nativeMatch","maybeCallNative","matcher","res","rx","regExpExec","fullUnicode","matchStr","advanceStringIndex","MATCH_ALL","REGEXP_STRING","REGEXP_STRING_ITERATOR","regExpBuiltinExec","nativeMatchAll","matchAll","WORKS_WITH_NON_GLOBAL_REGEX","$RegExpStringIterator","RegExpStringIterator","$matchAll","flagsValue","getRegExpFlags","IS_PURE","$padEnd","WEBKIT_BUG","padEnd","$padStart","raw","template","rawTemplate","literalSegments","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","UNSAFE_SUBSTITUTE","searchValue","replaceValue","functionalReplace","results","accumulatedResult","nextSourcePosition","matched","captures","namedCaptures","replacerArgs","getSubstitution","tailPos","m","symbols","ch","capture","SEARCH","nativeSearch","searcher","previousLastIndex","sameValue","arrayPush","MAX_UINT32","SUPPORTS_Y","SPLIT","nativeSplit","internalSplit","limit","lim","output","lastLastIndex","separatorCopy","lastLength","splitter","unicodeMatching","callRegExpExec","q","nativeStartsWith","startsWith","non","$trim","forcedStringTrimMethod","$trimEnd","trimEnd","trimRight","$trimStart","trimStart","trimLeft","quot","attribute","p1","forcedStringHTMLMethod","anchor","createHTML","big","blink","bold","fixed","fontcolor","color","fontsize","italics","link","url","small","strike","sub","sup","BYTES","toPositiveInteger","round","BYTES_PER_ELEMENT","fromList","isArrayBuffer","isTypedArrayIndex","wrappedGetOwnPropertyDescriptor","wrappedDefineProperty","CLAMPED","GETTER","SETTER","NativeTypedArrayConstructor","TypedArrayConstructorPrototype","addElement","$length","toOffset","$len","typedArrayFrom","TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS","typedArrayOffset","createTypedArrayConstructor","$copyWithin","$fill","predicate","arrayValues","ArrayIterators","arrayKeys","arrayEntries","nativeTypedArrayIterator","CORRECT_ITER_NAME","typedArrayValues","$join","$lastIndexOf","middle","$slice","$sort","subarray","begin","beginIndex","$toLocaleString","toLocaleString","TO_LOCALE_STRING_BUG","Uint8ArrayPrototype","arrayToString","arrayJoin","IS_NOT_ARRAY_METHOD","ArrayIterationModule","uncaughtFrozenStore","frozen","UncaughtFrozenStore","findUncaughtFrozen","$has","enforceIternalState","IS_IE11","InternalWeakMap","$WeakMap","collectionWeak","WeakMapPrototype","nativeDelete","nativeHas","nativeGet","nativeSet","WeakSet","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","COLLECTION_NAME","DOMIterables","Collection","CollectionPrototype","ArrayValues","ArrayIteratorMethods","isNode","URL","searchParams","pathname","href","URLSearchParams","username","hash","maxInt","base","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexNonASCII","regexSeparators","OVERFLOW_ERROR","baseMinusTMin","stringFromCharCode","ucs2decode","extra","digitToBasic","digit","adapt","delta","numPoints","firstTime","encode","inputLength","bias","currentValue","basicLength","handledCPCount","handledCPCountPlusOne","qMinusT","baseMinusT","encoded","labels","label","Headers","URL_SEARCH_PARAMS","URL_SEARCH_PARAMS_ITERATOR","getInternalParamsState","plus","sequences","percentSequence","percentDecode","sequence","decodeURIComponent","deserialize","serialize","encodeURIComponent","parseSearchParams","query","shift","updateSearchParams","validateArgumentsLength","passed","required","URLSearchParamsIterator","Iterator","params","getIterator","URLSearchParamsConstructor","entryIterator","entryNext","updateURL","hasOwn","URLSearchParamsPrototype","append","getAll","found","entriesIndex","sliceIndex","callback","USE_NATIVE_URL","body","headers","getState","NativeURL","URLSearchParamsModule","getInternalSearchParamsState","getInternalURLState","INVALID_AUTHORITY","INVALID_SCHEME","INVALID_HOST","INVALID_PORT","ALPHA","ALPHANUMERIC","DIGIT","HEX_START","OCT","DEC","HEX","FORBIDDEN_HOST_CODE_POINT","FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT","LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE","TAB_AND_NEW_LINE","EOF","parseHost","codePoints","parseIPv6","isSpecial","arrayFrom","percentEncode","C0ControlPercentEncodeSet","toASCII","parseIPv4","parts","partsLength","numbers","part","ipv4","pop","address","pieceIndex","compress","pointer","numbersSeen","ipv4Piece","swaps","swap","char","findLongestZeroSequence","ipv6","maxIndex","currStart","currLength","serializeHost","ignore0","unshift","fragmentPercentEncodeSet","pathPercentEncodeSet","userinfoPercentEncodeSet","specialSchemes","ftp","file","http","https","ws","wss","scheme","includesCredentials","password","cannotHaveUsernamePasswordPort","cannotBeABaseURL","isWindowsDriveLetter","normalized","startsWithWindowsDriveLetter","shortenURLsPath","pathSize","isSingleDot","segment","isDoubleDot","SCHEME_START","SCHEME","NO_SCHEME","SPECIAL_RELATIVE_OR_AUTHORITY","PATH_OR_AUTHORITY","RELATIVE","RELATIVE_SLASH","SPECIAL_AUTHORITY_SLASHES","SPECIAL_AUTHORITY_IGNORE_SLASHES","AUTHORITY","HOST","HOSTNAME","PORT","FILE","FILE_SLASH","FILE_HOST","PATH_START","PATH","CANNOT_BE_A_BASE_URL_PATH","QUERY","FRAGMENT","parseURL","stateOverride","seenAt","seenBracket","seenPasswordToken","bufferCodePoints","failure","fragment","codePoint","encodedCodePoints","URLConstructor","urlString","baseState","searchParamsState","serializeURL","origin","getOrigin","getProtocol","getUsername","getPassword","getHost","hostname","getHostname","getPort","getPathname","getSearch","getSearchParams","getHash","URLPrototype","accessorDescriptor","nativeCreateObjectURL","createObjectURL","nativeRevokeObjectURL","revokeObjectURL","blob","runtime","exports","Op","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","err","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","makeInvokeMethod","tryCatch","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","getProto","NativeIteratorPrototype","Gp","displayName","defineIteratorMethods","isGeneratorFunction","genFun","ctor","mark","awrap","__await","AsyncIterator","PromiseImpl","invoke","record","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","async","iter","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","info","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","skipTempReset","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","touchHandler","ev","changedTouches","screenX","screenY","clientX","clientY","simulatedEvent","MouseEvent","bubbles","cancelable","detail","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","preventDefault","NS","HTML","MATH","SE","SVG","XLINK","XML","XMLNS","getReverseNS","reverseNS","URI","SVGPathSeg","typeAsLetter","owningPathSegList","pathSegType","pathSegTypeAsLetter","_owningPathSegList","segmentChanged","classname","PATHSEG_UNKNOWN","PATHSEG_CLOSEPATH","PATHSEG_MOVETO_ABS","PATHSEG_MOVETO_REL","PATHSEG_LINETO_ABS","PATHSEG_LINETO_REL","PATHSEG_CURVETO_CUBIC_ABS","PATHSEG_CURVETO_CUBIC_REL","PATHSEG_CURVETO_QUADRATIC_ABS","PATHSEG_CURVETO_QUADRATIC_REL","PATHSEG_ARC_ABS","PATHSEG_ARC_REL","PATHSEG_LINETO_HORIZONTAL_ABS","PATHSEG_LINETO_HORIZONTAL_REL","PATHSEG_LINETO_VERTICAL_ABS","PATHSEG_LINETO_VERTICAL_REL","PATHSEG_CURVETO_CUBIC_SMOOTH_ABS","PATHSEG_CURVETO_CUBIC_SMOOTH_REL","PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS","PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL","SVGPathSegClosePath","SVGPathSegMovetoAbs","_x","_y","_segmentChanged","SVGPathSegMovetoRel","SVGPathSegLinetoAbs","SVGPathSegLinetoRel","SVGPathSegCurvetoCubicAbs","x1","y1","y2","_x1","_y1","_x2","_y2","SVGPathSegCurvetoCubicRel","SVGPathSegCurvetoQuadraticAbs","SVGPathSegCurvetoQuadraticRel","SVGPathSegArcAbs","r1","r2","angle","largeArcFlag","sweepFlag","_r1","_r2","_angle","_largeArcFlag","_sweepFlag","SVGPathSegArcRel","SVGPathSegLinetoHorizontalAbs","SVGPathSegLinetoHorizontalRel","SVGPathSegLinetoVerticalAbs","SVGPathSegLinetoVerticalRel","SVGPathSegCurvetoCubicSmoothAbs","SVGPathSegCurvetoCubicSmoothRel","SVGPathSegCurvetoQuadraticSmoothAbs","SVGPathSegCurvetoQuadraticSmoothRel","SVGPathElement","createSVGPathSegClosePath","createSVGPathSegMovetoAbs","createSVGPathSegMovetoRel","createSVGPathSegLinetoAbs","createSVGPathSegLinetoRel","createSVGPathSegCurvetoCubicAbs","createSVGPathSegCurvetoCubicRel","createSVGPathSegCurvetoQuadraticAbs","createSVGPathSegCurvetoQuadraticRel","createSVGPathSegArcAbs","createSVGPathSegArcRel","createSVGPathSegLinetoHorizontalAbs","createSVGPathSegLinetoHorizontalRel","createSVGPathSegLinetoVerticalAbs","createSVGPathSegLinetoVerticalRel","createSVGPathSegCurvetoCubicSmoothAbs","createSVGPathSegCurvetoCubicSmoothRel","createSVGPathSegCurvetoQuadraticSmoothAbs","createSVGPathSegCurvetoQuadraticSmoothRel","getPathSegAtLength","distance","measurementElement","createElementNS","setAttribute","getAttribute","lastPathSegment","pathSegList","numberOfItems","removeItem","getTotalLength","pathElement","_pathElement","_list","_parsePath","_mutationObserverConfig","attributeFilter","_pathElementMutationObserver","_updateListFromPathMutations","takeRecords","mutationRecords","hasPathMutations","attributeName","disconnect","_pathSegArrayAsString","pathSeg","_writeListToPath","_checkPathSynchronizedToList","newItem","_checkValidIndex","clone","item","Builder","Source","_string","_currentIndex","_endIndex","_previousCommand","_skipOptionalSpaces","character","_isCurrentSpace","lookahead","_pathSegTypeFromChar","previousCommand","hasMoreData","command","peekSegmentType","frac","decimal","expsign","startIndex","startIntPartIndex","scanIntPartIndex","multiplier","_skipOptionalSpacesOrDelimiter","flag","flagChar","_nextCommandHelper","_parseNumber","points","arcAngle","arcLarge","_parseArcFlag","arcSweep","builder","initialCommandIsMoveTo","parseSegment","appendSegment","pathSegArray","_asPathString","_pathSegList","normalizedPathSegList","animatedPathSegList","animatedNormalizedPathSegList","jQuery","supportsSVG_","createSVGRect","navigator","svg","isOpera_","isWebkit_","isGecko_","isIE_","isChrome_","isWindows_","isMac_","isTouch_","supportsSelectors_","querySelector","supportsXpath_","evaluate","supportsPathReplaceItem_","seglist","seg","replaceItem","supportsPathInsertItemBefore_","insertItemBefore","supportsGoodTextCharPos_","svgroot","svgcontent","documentElement","text","textContent","getStartPositionOfChar","remove","supportsPathBBox_","bbox","getBBox","height","supportsHVLineContainerBBox_","path2","g","width","supportsGoodDecimals_","rect","crect","cloneNode","retValue","alert","supportsNonScalingStroke_","vectorEffect","supportsNativeSVGTransformLists_","rxform","transform","baseVal","t1","createSVGTransform","appendItem","getItem","isSVGTransform","o","setMatrix","matrix","d","isOpera","isWebkit","isGecko","isIE","isChrome","isMac","isTouch","supportsSelectors","supportsXpath","supportsPathReplaceItem","supportsPathInsertItemBefore","supportsPathBBox","supportsHVLineContainerBBox","supportsGoodTextCharPos","supportsNonScalingStroke","supportsNativeTransformLists","jQueryPluginSVG","proxied","attr","svgns","elem","namespaceURI","aname","transformToString","xform","cx","cy","K","listMap_","_elem","_xforms","_update","tstr","_init","bits","valBits","valArr","letters","mtx","createSVGMatrix","fname","toUpperCase","_removeFromOtherLists","tl","newxforms","resetListMap","removeElementFromListMap","getTransformList","gradientTransform","patternTransform","wAttrs","hAttrs","unitAttrs","elementContainer_","typeMap_","elementContainer","bb","inch","em","ex","cm","mm","pt","pc","px","getTypeMap","shortFloat","getRoundDigits","convertUnit","unit","getBaseUnit","setUnitAttr","convertToNum","substr","num","getWidth","getHeight","isValidUnit","selectedElement","getElement","NEAR_ZERO","transformPoint","isIdentity","matrixMultiply","m1","hasMatrixTransform","tlist","transformBox","l","w","h","tr","bl","br","minx","maxx","miny","maxy","aabox","transformListToTransform","createSVGTransformFromMatrix","mtom","getMatrix","snapToAngle","snap","PI","dx","dy","atan2","dist","snapangle","cos","sin","rectsIntersect","KEYSTR","visElems","visElemsArr","editorContext_","domdoc_","domcontainer_","svgroot_","editorContext","getDOMDocument","getDOMContainer","getSVGRoot","dropXMLInternalSubset","toXml","encode64","encodeUTF8","btoa","chr1","chr2","chr3","enc1","enc2","enc3","enc4","decode64","atob","decodeUTF8","argString","escape","unescape","dataURLToObjectURL","dataurl","Blob","arr","mime","bstr","u8arr","blankPageObjectURL","text2xml","sXML","out","dXML","DOMParser","loadXML","parseFromString","e2","bboxToObj","walkTree","cbFn","nodeType","childNodes","walkTreePost","getUrlFromAttr","attrVal","substring","getHref","getAttributeNS","setHref","setAttributeNS","findDefs","svgElement","getSVGContent","defs","getElementsByTagNameNS","ownerDocument","firstChild","insertBefore","nextSibling","getPathBBox","tot","bounds","P0","getCalc","P1","P2","P3","calc","b2ac","t2","groupBBFix","selected","ref","ret","copy","children","issue","each","elems","getStrokedBBox","geSelectedElements","elname","nodeName","extent","getExtentOfChar","getComputedTextLength","fo","closest","getPathDFromSegments","pathSegments","singleChar","pts","getPathDFromElement","ry","tagName","getExtraAttributesForConvertToPath","attrs","getBBoxOfElementAsPath","addSVGElementFromJson","pathActions","eltrans","parentNode","before","resetOrientation","convertToPath","clearSelection","addToSelection","hstry","addCommandToHistory","batchCmd","BatchCommand","extend","addSubCommand","RemoveElementCommand","InsertElementCommand","removeAttribute","bBoxCanBeOptimizedOverNativeGetBBox","hasAMatrixTransform","angleModulo90","closeTo90","closeTo0","getBBoxWithTransform","getRotationAngleFromTransformList","hasMatrixXForm","goodBb","elemNames","getStrokeOffsetForBBox","sw","fullBb","maxX","maxY","minX","minY","curBb","getVisibleElements","parentElement","contentElems","getStrokedBBoxDefaultVisible","toRad","N","getRotationAngle","getSelectedElements","getRefElem","getElem","singleNodeValue","assignAttributes","suspendLength","unitCheck","ns","isNullish","removeAttributeNS","cleanupElement","defaults","opacity","stroke","snapToGrid","stepSize","getSnappingStep","regexEscape","preventClickDefault","img","click","$q","sel","contextMenuExtensions","hasCustomHandler","handlerKey","getCustomHandler","action","injectExtendedContextMenuItemIntoDom","menuItem","shortcut","injectExtendedContextMenuItemsIntoDom","coerce_types","deparam","coerce","param","keys_last","cur","jQueryPluginDBox","okString","cancel","cancelString","draggable","containment","css","box","btnHolder","dialogContent","dbox","msg","defaultVal","opts","changeListener","checkbox","toggleClass","empty","appendTo","hide","ctrl","chkbx","prependTo","tooltip","prop","checked","opt","show","response","focus","confirm","process_cancel","prompt","defaultText","select","txt","HistoryEventTypes","BEFORE_APPLY","AFTER_APPLY","BEFORE_UNAPPLY","AFTER_UNAPPLY","Command","applyFunction","handleHistoryEvent","unapplyFunction","MoveElementCommand","oldNextSibling","oldParent","newNextSibling","newParent","ChangeElementCommand","newValues","oldValues","bChangedTransform","rotate","stack","stackItem","assert","unapply","cmd","thisElems","UndoManager","historyEventHandler","handler_","undoStackPointer","undoStack","undoChangeStackPointer","undoableChangeStack","getText","attrName","changeset","changes","segData","uiStrings","setUiStrings","strs","ui","pathFuncs","linkControlPts","pathData","setLinkControlPoints","lcp","pathFuncsStrs","newseg","curSeg","ptObjToArr","segItem","props","getGripPt","altPt","pth","currentZoom","getCurrentZoom","getPointFromGrip","imatrix","addPointGrip","pointGripContainer","getGripContainer","pointGrip","atts","cursor","pathNodeTooltip","grip","dblclick","setSegType","addCtrlGrip","pathCtrlPtTooltip","getCtrlLine","ctrlLine","getPointGrip","update","getControlPoints","cpt","segs","segItems","gpt","replacePathSeg","func","segList","getSegSelector","segLine","smoothControlPoints","ct1","ct2","nct1","createSVGPoint","nct2","anglea","angleb","angleBetween","angleDiff","newAnglea","newAngleb","Segment","ctrlpts","ptgrip","segsel","showCtrlPts","selectCtrls","full","curPts","nextPts","mate","itm","anum","newType","Path","selected_pts","first_seg","startI","nextSeg","prevSeg","startSeg","addGrip","newX","newY","p0x","p1x","p2x","p01x","p12x","p0y","p1y","p2y","p01y","p12y","eachSeg","last_d","selectPt","move","moveCtrl","dragctrl","setLinked","storeD","selPt","oldType","curX","curY","prevX","prevY","olditem","old","diffX","diffY","ct1x","ct1y","ct2x","ct2y","setType","endChanges","ctrlNum","addPtsToSelection","inverse","resetD","indexes","grips","closedSubpath","subpathIsClosed","clsd","getPath_","removePath_","newcx","newcy","oldcx","oldcy","getRotVals","theta","recalcRotatedPath","currentPath","oldbox","oldbbox","rvals","cVals1","cVals2","Rnc","setRotate","clearData","reorientGrads","utilsGetBBox","grad","pt1","pt2","gCoords","newgrad","getNextId","pathMap","convertPath","toRel","curx","cury","lastM","letter","pathDSegment","morePoints","lastPoint","pnt","subpath","newPoint","firstCtrl","hasMoved","smoothPolylineIntoPath","curpos","prevCtlPt","newpts","prevArr","curStyles","getId","mouseDown","evt","mouseTarget","startX","startY","getCurrentMode","mouseX","mouseY","stretchy","getGridSnapping","keep","drawnPath","getDrawnPath","dAttr","setDrawnPath","getOpacity","FUZZ","clickOnPoint","py","newpath","sSeg","absX","absY","endseg","setStarted","remapElement","newD","origD","toEditMode","contains","getContainer","getMouseTarget","lastx","lasty","xya","curPt","cur_pt","dragging","removePtFromSelection","rubberBox","getRubberBox","setRubberBox","selectorManager","getRubberBandBox","mouseMove","pointGrip1","pointGrip2","ptX","ptY","altX","altY","lastX","lastY","mpt","movePts","rbb","ptBb","mouseUp","lastPt","toSelectMode","setCurrentMode","selPath","addSubPath","on","reorient","angl","zoomChange","getNodePoint","linkControlPoints","linkPoints","clonePathNode","selPts","nums","addSeg","opencloseSubPath","openPt","startItem","closer","zSeg","deletePathNode","canDeleteNodes","deleteSeg","cleanup","remItems","nprev","prevType","canvas","deleteSelectedElements","cp","moveNode","newValue","diff","fixEnd","Layer","group","svgElem","name_","group_","svgdoc","layerTitle","after","addLayerClass","visible","expected","oldDisplay","child","hrService","previousName","title","getTitleElement","changeElement","CLASS_NAME","CLASS_REGEX","classes","HistoryRecordingService","undoManager","undoManager_","currentBatchCommand_","batchCommandStack_","batchCommand","addCommand_","NO_HISTORY","copyElem","newEl","localName","fixedD","nodeValue","RandomizeModes","LET_DOCUMENT_DECIDE","ALWAYS_RANDOMIZE","NEVER_RANDOMIZE","randIds","disabledElems","historyRecordingService","canvas_","undoMgr","findLayerNameInGroup","querySelectorAll","getNewLayerName","existingLayerNames","Drawing","optIdPrefix","svgElem_","obj_num","idPrefix","releasedNums","all_layers","layer_map","current_layer","nonce_","setNonce","oldObjNum","restoreOldObjNum","getElem_","front","getNumLayers","getName","getGroup","layer","finalName","oldName","setName","newpos","layerCount","oldpos","currentGroup","refGroup","identifyLayers","setCurrentLayer","getLayerName","prevGroup","startBatchCommand","layerNextSibling","removeElement","moveElement","removeGroup","endBatchCommand","mergeLayer","deactivate","activate","oldLayerGroup","numchildren","orphans","layernames","childgroups","appendChildren","insertElement","layerName","isVisible","bVisible","setVisible","setOpacity","getNextIdClosure","utilCopyElem","randomizeIds","enableRandomization","currentDrawing","getNonce","clearNonce","leaveContext","getCurrentDrawing","createLayer","newLayer","cloneLayer","deleteCurrentLayer","currentLayer","getCurrentLayer","renameCurrentLayer","newName","drawing","setCurrentLayerName","setCurrentLayerPosition","newPos","setLayerVisibility","prevVisibility","getLayerVisibility","moveSelectedToLayer","getLayerByName","selElems","oldLayer","changeSVGContent","mergeAllLayers","orig","elData","setCurrentGroup","setContext","parentsUntil","andSelf","siblings","opac","getCurrentGroup","REVERSE_NS","svgWhiteList_","circle","clipPath","ellipse","feGaussianBlur","feMorphology","foreignObject","image","line","linearGradient","marker","mask","polygon","polyline","radialGradient","textPath","tspan","use","annotation","maction","math","menclose","merror","mfrac","mi","mmultiscripts","mn","mo","mover","mpadded","mphantom","mprescripts","mroot","mrow","mspace","msqrt","mstyle","msub","msubsup","msup","mtable","mtd","mtext","mtr","munder","munderover","none","semantics","svgWhiteListNS_","elt","attNS","att","sanitizeSvg","doc","allowedAttrs","allowedAttrsNS","seAttrs","attrLocalName","attrNsURI","styleAttrName","styleAttrVal","hasChildNodes","remap","scalew","scaleh","doSnapping","finishUp","getDrawing","elName","existing","tNew","chlist","mt","tbox","gsvg","pstr","firstseg","currentpt","thisx","thisy","dstr","context_","updateClipPath","tx","ty","cpXform","newxlate","setTranslate","recalculateDimensions","noi","mxs","mNew","initial","getStartTransform","oldcenter","newcenter","gangle","rm","operation","firstM","oldStartTransform","tm","sm","tmn","childTlist","setStartTransform","e2t","t2n","s2","translateOrigin","scale","translateBack","setScale","T_M","mInv","M2","clipPathsDone","uses","u","useElem","usexlate","e2m","avg","newRot","roldt","rold","rnew","rnewInv","extrat","paint","gtlist","gmatrix","mStr","oldxlate","meq","meqInv","tspanChanges","svgFactory_","config_","selectorManager_","gripRadius","Selector","locked","selectorGroup","createSVGElement","selectorRect","gripCoords","nw","ne","se","resize","bShow","selectorGripsGroup","hasGrips","updateGripCursors","selectedBox","mgr","selectedGrips","selectorGrips","strokedBbox","nbox","nbax","nbay","nbaw","nbah","rot","svgRoot","rotm","dir","coords","rotateGripConnector","rotateGrip","dirArr","steps","gripElement","SelectorManager","selectorParentGroup","rubberBandBox","selectors","selectorMap","initGroup","imgPath","dimensions","canvasbg","overflow","svgContent","showGrips","config","svgFactory","getSelectorManager","postError","SvgCanvas","container","curConfig","show_outside_canvas","selectNew","importNode","clearSvgContentElement","xmlns","comment","createComment","idprefix","setIdPrefix","current_drawing_","draw","allProperties","shape","initFill","fill_paint","fill_opacity","initStroke","stroke_paint","stroke_opacity","stroke_width","stroke_dasharray","stroke_linejoin","stroke_linecap","initOpacity","font_size","font_family","curShape","selectedElements","getJsonFromSvgElement","retval","baseUnit","unitsInit","saveOptions","round_digits","getSelectedElems","pathModule","utilsInit","snappingStep","gridSnapping","coordsInit","recalculateInit","startTransform","nsMap","eventType","EventTypes","cmdType","isApply","restoreRefElems","setUseData","stdDeviation","setBlurOffsets","getZoom","selectInit","jsonMap","events","noCall","releaseSelector","elemsToAdd","requestSelector","compareDocumentPosition","correspondingUseElement","$target","started","rb","closed_subpath","currentMode","dp","refAttrs","opacAni","dur","removedElements","childs","getElementsByTagName","encodableImages","importIds","curText","extensions","lastGoodImgUrl","currentResizeMode","curProperties","justSelected","curBBoxes","lastClickPoint","runExtension","vars","runExtensions","returnArray","nameFilter","ext","addExtension","extInitFunc","jq","importLocale","argObj","getPrivateMethods","nonce","extObj","getIntersectionList","rubberBBox","resultList","getVisibleElementsAndBBoxes","groupSvgElem","replaceWith","prepareSvg","newDoc","paths","ffClone","setRotationAngle","preventUndo","oldTransform","center","newTransform","changeSelectedAttribute","selector","recalculateAllSelectedDimensions","isEmpty","logMatrix","rootSctm","selectOnly","removeFromSelection","elemsToRemove","newSelectedItems","selectAllInCurrentLayer","freehand","THRESHOLD_DIST","STEP_COUNT","rStartX","rStartY","initBbox","sumDistance","controllPoint2","controllPoint1","bSpline","nextPos","parameter","nextParameter","getBsplinePoint","spline","p0","p2","p3","t3","spaceKey","rightClick","cloneSelectedElements","getScreenCTM","pageX","pageY","realX","realY","griptype","slist","iswebkit","delayedStroke","ele","stroke_","newImage","strokeW","textActions","beginUndoableChange","extResult","start_x","start_y","newList","intElem","foundInd","hasMatrix","top","sy","sx","square","rad","mouse_x","mouse_y","tempJustSelected","factor","commaIndex","finishUndoableChange","releaseId","setMode","addedNew","aniDur","cAni","beginElement","dblClick","evtTarget","pushGroupProperties","handleLinkInCanvas","mousedown","mousemove","mouseup","originalEvent","workarea","scrbar","rulerwidth","showRulers","editorFullW","editorFullH","editorW","editorH","workareaViewW","workareaViewH","wOffset","wOffsetLeft","wOffsetTop","wheelDelta","wZoom","hZoom","zoomlevel","topLeftOld","topLeftNew","topLeftNewCanvas","newCtr","setZoom","curtext","textinput","selblock","blinker","chardata","textbb","allowDbl","setCursor","selectionEnd","selectionStart","charbb","setSelectionRange","setInterval","startPt","ptToScreen","endPt","visibility","setSelection","skipInput","startbb","endbb","getIndexFromPoint","charpos","getCharNumAtPosition","mid","setCursorFromPoint","setEndSelectionFromPoint","i1","i2","screenToPt","xIn","yIn","selectAll","unbind","selectWord","ept","selectElem","clearInterval","blur","setInputElem","inputElem","getEndPositionOfChar","contentW","removeUnusedDefElems","defelemUses","numRemoved","alen","allEls","allLen","defelems","defelem","svgCanvasToString","nakedSvgs","svgToString","indent","unitRe","getResolution","vb","nsuris","uri","attrNames","mozAttrs","styleName","images","bOneLine","embedImage","Image","load","xhr","statusText","cvs","getContext","drawImage","urldata","toDataURL","setGoodImage","save","getIssues","issues","issueCodes","issueList","exportNoBlur","exportNoforeignObject","exportNoDashArray","exportNoText","descr","canvg","rasterExport","imgType","quality","exportWindowName","mimeType","canvgPath","contentH","dataURLType","datauri","bloburl","avoidEvent","toBlob","exportPDF","outputType","jsPDF","orientation","format","docTitle","getDocumentTitle","setProperties","addSVG","getSvgString","uniquifyElems","ids","refElems","hrefs","attrnode","getAttributeNode","refid","oldid","newid","ownerElement","hreffers","hreffer","refElem","convertGradients","fillStrokeElems","convertToGroup","$elem","ts","removeData","hasMore","dupeGrads","setSvgString","xmlString","firstElementChild","oldzoom","adoptNode","pa","percs","dim","importSvgString","useEl","useExisting","parents","innerw","innerh","innervb","canvash","dr","propVal","cg","resetUndoStack","getContentElem","getRootElem","zoom","getSnapToGrid","getVersion","notification","setConfig","getTitle","setGroupTitle","tsNextSibling","prepend","setDocumentTitle","newTitle","oldTitle","getEditorNS","setResolution","visEls","moveSelectedElements","viewBox","getOffset","setBBoxZoom","spacer","calcZoom","newzoom","selectedElems","zoomLevel","getMode","getColor","setColor","addNonG","changeSelectedAttributeNoUndo","setGradient","duplicateGrad","findDuplicateGradient","existingGrads","radAttrs","og","gradAttrs","ogAttrs","stops","ostops","ostop","setPaint","jGraduate","Paint","setPaintOpacity","alpha","solidColor","setStrokePaint","setFillPaint","getStrokeWidth","setStrokeWidth","setStrokeAttr","getStyle","getFillOpacity","getStrokeOpacity","getPaintOpacity","getBlur","filterUrl","curCommand","filterHidden","setBlurNoUndo","setBlur","finishChange","bCmd","filterElem","stdDev","elemId","newblur","getBold","setBold","getItalic","setItalic","getFontFamily","setFontFamily","setFontColor","getFontColor","getFontSize","setFontSize","setTextContent","setImageURL","setsize","curHref","setLinkURL","parentsA","setRectRadius","makeHyperlink","groupSelectedElements","removeHyperlink","ungroupSelectedElement","noXYElems","oldval","newrot","selectedCopy","cutSelectedElements","copySelectedElements","CLIPBOARD_ID","flashStorage","sessionStorage","localStorage","setItem","storageChange","menu","enableContextMenuItems","pasteElements","clipb","parse","pasted","changedIDs","checkIDs","extChanges","removeID","clipBoardItem","ctrX","ctrY","urlArg","cmdStr","undoable","glist","gattrs","gfilter","gblur","newOpac","cblur","origCblur","suffix","chtlist","rgm","rcm","cangle","cbox","ceqm","coldc","sangle","trm","oldxform","newxform","chm","chmInv","gm","gNextSibling","moveToTopSelectedElement","moveToBottomSelectedElement","moveUpDownSelected","foundCur","toArray","sortfunction","copiedElements","alignSelectedElements","relativeTo","bboxes","MIN_VALUE","curwidth","curheight","updateCanvas","bg","oldX","oldY","bgImg","new_x","new_y","old_x","old_y","d_x","d_y","setBackground","border","bgPattern","preserveAspectRatio","cycleElement","curElem","allElems","SVGEditTransformList","hotkeys","specialKeys","shiftNums","which","special","fixIDs","svgEl","svgNum","force","idElems","newId","oldVal","newVal","jQueryPluginSVGIcons","svgIcons","xlinkns","iconW","iconH","testImg","iconsMade","dataLoaded","loadAttempts","dataPre","dataEl","svgz","contentDocument","getIcons","err1","useFallback","parser","ajax","dataType","success","responseText","noWait","isReady","getElementById","no_img","testSrc","alt","testIconAlt","makeIcons","setIcon","icon","setID","cl","alts","removeAttr","holder","addIcon","id_match","toImage","fallback","tempHolder","fallback_path","imgsrc","XMLSerializer","serializeToString","placement","resizeSvgIcons","regFile","getSvgIcon","uniqueClone","changeSel","widget","xlink","jQueryPluginJGraduate","jGraduateDefaults","pickerTitle","clientPath","newstop","setAttrs","mkElem","newparent","okCallback","cancelCallback","$settings","idref","okClicked","cancelClicked","$win","addClass","colPicker","gradPicker","MAX","MARGINX","MARGINY","SIZEX","SIZEY","attrInput","SLIDERW","curType","curGradient","gradalpha","isSolid","stopGroup","mkStop","inverted","inv","fx","fy","previewRect","beginCoord","endCoord","centerCoord","focusCoord","showFocus","isRadial","attrval","change","cssName","colr","stopElem","pickerD","pathbg","selectStop","drag","curStop","dragColor","remDrags","stopOffset","stopMakerDiv","colorhandle","stopOpacity","stopColor","thisAlpha","bottom","jPicker","active","alphaSupport","clr","curS","newcolor","newopac","remStop","delStop","scaleX","scaleY","cX","cY","xfStr","sX","stopMakerSVG","transPattern","patternUnits","transImg","bgImage","stopPropagation","mouseover","spreadMethodOpt","draggingCoord","onCoordDrag","fracx","fracy","grd","onCoordUp","numstops","lastfx","lastfy","fX","fY","slider","setSlider","posx","ellipVal","angleVal","sliders","radius","ellip","dragSlider","stopSlider","isRad","xpos","effects","speed","tabs","removeClass","newGrad","curStops","tab","jQueryPluginSpinButton","SpinButton","cfg","coord","offsetParent","browser","msie","currentStyle","repeating","spinCfg","stepfunc","page","upClass","downClass","delay","interval","_btn_width","_direction","_delay","_repeat","smallStep","adjustValue","spinClass","stateObj","tool_scale","direction","offsetWidth","mouseout","clearTimeout","adjust","keydown","keyCode","keypress","keyup","jQueryContextMenu","win","contextMenu","inSpeed","outSpeed","srcElement","allowLeft","hasClass","xOff","yOff","fadeIn","prevAll","eq","nextAll","trigger","docX","docY","fadeOut","mozilla","MozUserSelect","disableContextMenuItems","disableContextMenu","enableContextMenu","destroyContextMenu","toFixedNumeric","Slider","bar","fireChangeEvents","changeEvents","changeEvent","off","timeout","setValuesFromMousePosition","barW","barH","locX","locY","rangeX","rangeY","arrowW","arrow","arrowH","arrowOffsetX","arrowOffsetY","changed","range","newMinX","newMaxX","newMinY","newMaxY","destroy","ColorValuePicker","picker","bindedHex","alphaPrecision","inputs","keyDown","validateKey","red","setValueInRange","green","blue","hue","saturation","keyUp","ahex","colorChanged","List","Color","ColorMethods","rgbaToHex","nameLength","hexToRgba","newV","rgb","hsv","rgbToHsv","hsvToRgb","intToHex","validateHex","hexToInt","rgba","dec","commitCallback","liveCallback","settings","bindToInput","expandable","current","liveUpdate","isLessThanIE7","appVersion","filters","setColorMode","colorMode","rgbMap","rgbBar","setBG","colorMapDiv","setImgLoc","colorMapL1","setAlpha","colorMapL2","colorBarDiv","colorBarL1","colorBarL2","colorBarL3","colorBarL4","colorBarL6","colorMap","colorBar","activeColorChanged","positionMapAndBarArrows","updatePreview","updateMapVisuals","updateBarVisuals","mapValueChanged","xy","colorBarValueChanged","sv","hv","hs","rg","activePreview","backgroundColor","colorMapL3","colorBarL5","hva","saturatedColor","hsa","valueColor","hValue","vValue","setImg","backgroundImage","revertColor","commitColor","radioClicked","currentClicked","cancelButton","okButton","iconImageClicked","currentColorChanged","currentPreview","expandableColorChanged","va","iconColor","iconAlpha","updateInputColor","moveBarMouseDown","elementStartX","elementStartY","pageStartX","pageStartY","documentMouseMove","documentMouseUp","support","boxModel","quickPickClicked","attachIFrame","table","zIndex","slideDown","removeIFrame","slideUp","initialize","popup","onselectstart","controlHtml","localization","newColor","tooltips","colors","currentColor","buttons","radio","textbox","tbody","MapMaps","BarMaps","colorPicker","preview","grid","quickList","quickHex","iconImage","moveBar","langParam","setStrings","editor_","editor","readLang","langData","addLangData","more","merge","tools","layers","curve_segments","fitToContent","fit_to_all","fit_to_canvas","fit_to_layer_content","fit_to_sel","icon_large","icon_medium","icon_small","icon_xlarge","image_opt_embed","image_opt_ref","includedImages","included_images","largest_object","layersLabel","relativeToLabel","selLayerLabel","move_elems_to","selectedPredefined","select_predefined","selected_objects","smallest_object","straight_segments","svginfo_bg_url","editor_img_url","svginfo_bg_note","editor_bg_note","svginfo_change_background","background","svginfo_dim","doc_dims","svginfo_editor_prefs","editor_prefs","svginfo_height","svginfo_icons","icon_size","svginfo_image_props","image_props","svginfo_lang","language","svginfo_title","doc_title","svginfo_width","tool_docprops_cancel","tool_docprops_save","tool_source_cancel","tool_source_save","tool_prefs_cancel","tool_prefs_save","sidepanel_handle","tool_clear","new_doc","tool_docprops","docprops","tool_export","export_img","tool_import","import_doc","tool_open","open_doc","tool_save","save_doc","tool_editor_prefs","tool_editor_homepage","editor_homepage","svginfo_units_rulers","units_and_rulers","svginfo_rulers_onoff","show_rulers","svginfo_unit","base_unit","svginfo_grid_settings","svginfo_snap_onoff","snapping_onoff","svginfo_snap_step","snapping_stepsize","svginfo_grid_color","grid_color","del","ariaLabels","tool_blur","tool_position","align_to_page","tool_font_family","zoom_panel","zoom_level","linejoin_miter","linecap_butt","tool_opacity","group_opacity","align_relative_to","circle_cx","circle_cy","circle_r","cornerRadiusLabel","corner_radius","ellipse_cx","ellipse_cy","ellipse_rx","ellipse_ry","fill_color","idLabel","image_height","image_url","image_width","layer_delete","layer_down","move_down","layer_new","layer_rename","rename","layer_moreopts","more_opts","layer_up","move_up","line_x1","line_x2","line_y1","line_y2","linecap_round","linecap_square","linejoin_bevel","linejoin_round","main_icon","main_menu","palette","palette_info","path_node_x","node_x","path_node_y","node_y","rect_height_tool","rect_height","rect_width_tool","rect_width","seg_type","selLayerNames","move_selected","selected_x","pos_x","selected_y","pos_y","stroke_color","stroke_style","text_contents","toggle_stroke_tools","tool_add_subpath","add_subpath","tool_alignbottom","align_bottom","tool_aligncenter","align_center","tool_alignleft","align_left","tool_alignmiddle","align_middle","tool_alignright","align_right","tool_aligntop","align_top","tool_angle","tool_bold","tool_circle","mode_circle","tool_clone","tool_clone_multi","tool_delete","tool_delete_multi","tool_ellipse","mode_ellipse","tool_fhellipse","mode_fhellipse","tool_fhpath","mode_fhpath","tool_fhrect","mode_fhrect","tool_font_size","tool_group_elements","group_elements","tool_make_link","make_link","tool_link_url","set_link_url","tool_image","mode_image","tool_italic","italic","tool_line","mode_line","tool_move_bottom","move_bottom","tool_move_top","move_top","tool_node_clone","node_clone","tool_node_delete","node_delete","tool_node_link","node_link","tool_openclose_path","openclose_path","tool_path","mode_path","tool_rect","mode_rect","tool_redo","redo","tool_reorient","reorient_path","tool_select","mode_select","tool_source","source_save","tool_square","mode_square","tool_text","mode_text","tool_topath","to_path","tool_undo","undo","tool_ungroup","ungroup","tool_wireframe","wireframe_mode","tool_zoom","mode_zoom","url_notice","no_embed","putLocale","givenParam","goodLangs","conf","userLanguage","langPath","Utils","jQueryPluginJSHotkeys","jQueryPluginContextMenu","jQueryPluginJPicker","homePage","exportWindowCt","langChanged","showSaveWarning","storagePromptState","callbacks","defaultPrefs","lang","iconsize","bkgd_color","bkgd_url","img_save","save_notice_done","export_notice_done","defaultExtensions","defaultConfig","canvasName","canvas_expansion","colorPickerCSS","initTool","exportWindowType","wireframe","showlayers","no_save_warning","extPath","jspdfPath","jGraduatePath","extIconsPath","gridColor","preventAllURLConfig","preventURLContentLoading","lockExtensions","noDefaultExtensions","showGrid","noStorageOnLoad","forceStorage","emptyStorageOnDecline","avoidClientSide","avoidClientSideDownload","avoidClientSideOpen","svgCanvas","customExportImage","customExportPDF","curPrefs","allowedOrigins","loadSvgString","noAlert","errorLoadingSVG","getImportLocale","defaultLang","defaultName","locale","importLocaleDefaulting","pref","mayBeEmpty","loadContentAndPrefs","cookie","storage","cached","loadFromString","storeKey","preferenceForKey","cfgCfg","extendOrAdd","cfgObj","overwrite","allowInitialUserOverride","setCustomHandlers","ready","exportImage","setupCurPrefs","setupCurConfig","grep","pathConfig","loadFromDataURI","loadFromURL","iconId","forcedSize","extAndLocaleFunc","setLang","setIcons","extname","extensionName","imported","extensionsAdded","Actions","setAll","messageQueue","messageObj","setFlyoutPositions","shower","outerWidth","uaPrefix","regex","someScript","scaleElements","sides","outerHeight","setIconSize","selToscale","iconSizes","hiddenPs","cssResizeRules","ruleElem","styleStr","rules","prefix","logo","select_node","fh_rect","fh_ellipse","pencil","pen","close_path","open_path","arrow_right","arrow_right_big","arrow_down","new_image","go_up","go_down","context_menu","link_controls","unlink_use","c_radius","align","eye","no_color","warning","globe_link","icons","tleft","minHeight","runCallbacks","modKey","canvMenu","paintBox","resizeTimer","curScrollPos","exportWindow","defaultImageURL","zoomInIcon","zoomOutIcon","uiContext","opener","svgEditorReadyEvent","CustomEvent","setSelectMode","curr","origTitle","rIntervals","toggleHighlightLayer","layerNameToHighlight","curNames","numLayers","curName","setLayerOpacity","populateLayers","layerlist","currentLayerName","getCurrentLayerName","layerTr","layerVis","row","vis","editingsource","origSource","showSourceEditor","forSaving","multiselected","togglePathEditMode","editmode","saveHandler","wind","download","note","saveFromBrowser","defsFailOnSave","exportHandler","closed","popupWindowBlocked","pre","noteTheseIssues","operaRepaint","setStrokeOpt","changeElem","toolButtonClick","noHiding","fadeFlyouts","clickSelect","dataURI","promptImgURL","cancelDeletes","curhref","enterNewImgURL","setInputWidth","updateRulers","scanvas","contentElem","units","isX","lentype","contentDim","$hcanvOrig","$hcanv","hcanv","rulerLen","totalLen","ctx","ctxArr","ctxArrNum","fillStyle","fillRect","uMulti","rawM","multi","bigInt","font","rulerD","labelPos","ctxNum","curD","moveTo","lineTo","decs","fillText","subD","lineNum","strokeStyle","wArea","cnvs","wOrig","hOrig","oldCtr","scrollLeft","scrollTop","oldCanY","oldCanX","newCanY","newCanX","ratio","scrollX","scrollY","oldDistX","oldDistY","scroll","storagePrompt","updateToolButtonState","bNoFill","bNoStroke","buttonsNeedingStroke","buttonsNeedingFillAndStroke","btn","nofill","nostroke","hasEnabled","updateToolbar","gWidth","swidth","opacPerc","updateContextPanel","menuItems","blurval","noPath","segType","panels","linkHref","curPanel","bv","getUndoStackSize","getRedoStackSize","updateWireFrame","supportsNonSS","rule","curContext","updateTitle","selectedChanged","elementTransition","ang","isLayer","elementChanged","isSvgElem","zoomDone","zoomChanged","autoCenter","zInfo","changeZoom","ctl","contextChanged","linkStr","prepPaints","prep","flyoutFuncs","setFlyoutTitles","allHolders","setupFlyouts","holders","holdSel","btnOpts","not","showSel","def","idSel","_","isDefault","flyoutAction","flyoutIsSelected","currentOperation","tool","timer","time","animate","makeFlyoutHolder","addAltDropDown","elemSel","listSel","dropUp","seticon","onButton","hover","multiclick","extsPreLang","extAdded","prepResize","resizeDone","cbCalled","langReady","loadedExtensionNames","runCallback","btnSelects","context_tools","contId","container_id","panel","defval","colnum","inp","spindata","svgicons","fallbackObj","altsObj","placementObj","svgicon","cls","flyoutHolder","showBtn","refData","refBtn","includeWith","tlsId","getButtonData","curH","getPaint","colorBlocks","blocks","curBg","blk","changeRectRadius","changeFontSize","changeStrokeWidth","changeRotationAngle","changeOpacity","changeBlur","noUndo","promptMoveLayerOnce","destLayer","selectedIndex","confirmStr","QmoveElemsToLayer","moveToLayer","valid","invalidAttrValGiven","unitData","panning","keypan","setPanning","overlay","jsHover","setClick","islib","listItems","addDropDown","perc","slide","noop","slideStart","unfocus","clickFHPath","clickLine","clickSquare","clickRect","clickFHRect","clickCircle","clickEllipse","clickFHEllipse","clickImage","clickZoom","zoomImage","dblclickZoom","clickText","clickPath","deleteSelected","cutSelected","copySelected","pasteInCenter","moveToTopSelected","moveToBottomSelected","reorientPath","enterNewLinkURL","moveSelected","linked","sp","selectNext","selectPrev","rotateSelected","cw","clickClear","QwantToClear","clickBold","clickItalic","clickSave","saveOpts","loadingURL","clickExport","openExportWindow","loadingImage","popHTML","popURL","chrome","clickOpen","clickImport","clickUndo","clickRedo","clickGroup","clickClone","clickAlign","clickWireframe","wfRules","preferences","showDocProperties","showPreferences","canvasBg","isBg","openHomePage","hideSourceEditor","saveSourceEditor","saveChanges","QerrorsRevertToSource","hideDocProperties","hidePreferences","saveDocProperties","noContentToFitTo","savePreferences","resetScrollPos","cancelOverlays","QignoreSourceChanges","winWh","curval","toolnames","curClass","allTools","shortcutButtons","pick_stroke_paint_opacity","pick_fill_paint_opacity","PaintBox","svgdocbox","ctr","docElem","ptype","fillAttr","_paintColor","_paintOpacity","gPaint","defColor","testEl","blurTest","stdDeviationX","featNotSupported","uniqName","hasLayer","enterUniqueLayerName","dupeLayerName","deleteLayer","moveLayer","total","curIndex","enterNewLayerName","layerHasThatName","SIDEPANEL_MAXWIDTH","SIDEPANEL_OPENWIDTH","sidedrag","sidedragging","allowmove","changeSidePanelWidth","rulerX","resizeSidePanel","deltaX","sideWidth","toggleSidePanel","dpr","devicePixelRatio","isOpened","zoomAdjustedSidepanelWidth","centerCanvas","stepFontSize","origVal","sugVal","increasing","stepZoom","wh","dims","dialogSelectors","toolButtons","hidekey","keyAssocs","flyouts","keyHandler","fH","margin","keyval","pd","setTitles","keyStr","modBits","mod","lastChild","itool","preTool","regTool","lmenuFunc","enableOrDisableClipboard","svgeditClipboard","returnValue","unsavedChanges","getUIStrings","openPrep","QwantToOpen","onDragEnter","onDragOver","onDragLeave","FileReader","importImage","dataTransfer","files","reader","onloadend","newElement","readAsText","insertNewImage","imgWidth","imgHeight","naturalWidth","offsetHeight","naturalHeight","readAsDataURL","imgImport","allStrings","oldLayerName","renameLayer","loadedExtensionName","dest","localeInit","cb","disableUI","featList","beforeSend","URLLoadFail","base64","initArgs","messageListener","svgEditor","this","_wrapped","VERSION","ur","Cn","Ln","Kn","ir","or","iteratee","M","Sn","I","Tn","D","On","ln","W","ar","Dn","L","J","U","G","H","Q","X","Vn","Y","rn","Z","er","nn","tn","en","un","an","cn","pn","sn","vn","hn","placeholder","gn","dn","bn","jn","_n","wn","An","Mn","En","Nn","kn","In","Bn","Rn","Fn","qn","Wn","zn","Pn","Jn","Un","$n","Gn","Hn","Qn","Xn","Yn","Zn","nr","rr","fr","cr","lr","pr","sr","vr","hr","gr","templateSettings","interpolate","yr","mr","jr","_chain","_r","wr","restArguments","collect","foldl","inject","foldr","detect","any","include","pluck","where","findWhere","shuffle","sample","sortBy","criteria","groupBy","indexBy","countBy","partition","take","rest","tail","drop","compact","flatten","without","uniq","unique","union","intersection","difference","unzip","zip","findLastIndex","sortedIndex","chunk","partial","bindAll","memoize","throttle","leading","trailing","debounce","negate","compose","once","allKeys","mapObject","pairs","invert","functions","extendOwn","findKey","pick","omit","tap","isMatch","isEqual","isElement","isArguments","isString","isNumber","isDate","isError","isMap","isWeakMap","isSet","isWeakSet","isBoolean","isNull","isUndefined","identity","constant","propertyOf","matches","times","uniqueId","mixin","lookup","revLookup","Arr","inited","toByteArray","b64","tmp","placeHolders","tripletToBase64","encodeChunk","uint8","fromByteArray","extraBytes","maxChunkLength","len2","read","isLE","mLen","nBytes","eLen","INSPECT_MAX_BYTES","Buffer","TYPED_ARRAY_SUPPORT","_kMaxLength","kMaxLength","createBuffer","encodingOrOffset","allocUnsafe","poolSize","_augment","fromArrayBuffer","fromString","fromObject","assertSize","alloc","encoding","allocUnsafeSlow","isEncoding","actual","fromArrayLike","internalIsBuffer","isnan","SlowBuffer","isBuffer","_isBuffer","compare","buf","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap16","swap32","swap64","equals","inspect","thisStart","thisEnd","thisCopy","targetCopy","bidirectionalIndexOf","arrayIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","hexWrite","strLen","parsed","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","_arr","firstByte","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","MAX_ARGUMENTS_LENGTH","toHex","newBuf","sliceLen","checkOffset","readUIntLE","noAssert","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","checkInt","writeUIntLE","maxBytes","writeUIntBE","writeUInt8","objectWriteUInt16","littleEndian","writeUInt16LE","writeUInt16BE","objectWriteUInt32","writeUInt32LE","writeUInt32BE","writeIntLE","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","checkIEEE754","writeFloat","writeFloatLE","writeFloatBE","writeDouble","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","base64clean","stringtrim","leadSurrogate","byteArray","lo","dst","isFastBuffer","isSlowBuffer","subscribe","unsubscribe","publish","message","compressPdf","textColor","drawColor","fontSize","lineHeight","lineWidth","subject","author","keywords","creator","adler32cs","objectNumber","PostScriptName","fontName","fontStyle","fonts","dictionary","trace","te","sourceEncoding","outputEncoding","autoencode","codePages","noBOM","ee","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","oe","ie","pageNumber","ae","normal","ue","ce","le","fe","de","getUserMedia","unload","he","internal","pdfEscape","getFont","getLineHeight","getCoordinateString","getVerticalCoordinateString","collections","newObject","putStream","scaleFactor","pageSize","getNumberOfPages","pages","addPage","TabLen","lines","triangle","roundedRect","SQRT2","setFont","setFontStyle","setFontType","getFontList","setLineWidth","setDrawColor","setFillColor","setTextColor","CapJoinStyles","butt","but","miter","rounded","projecting","project","bevel","setLineCap","setLineJoin","pe","API","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","b10","c0","c1","c3","c4","c5","c6","c7","c8","c9","c10","dl","legal","ledger","tabloid","addHTML","html2canvas","rasterizeHTML","onrendered","pagesplit","addImage","onload","rstz","cs","color_spaces","INDEXED","pal","DEVICE_CMYK","bpc","trns","smask","arrayBufferToBinaryString","image_compression","NONE","hasAttribute","clientWidth","clientHeight","alias","DEVICE_RGB","DEVICE_GRAY","CAL_GREY","CAL_RGB","LAB","ICC_BASED","PATTERN","SEPERATION","DEVICE_N","decode","DCT_DECODE","FLATE_DECODE","LZW_DECODE","JPX_DECODE","JBIG2_DECODE","ASCII85_DECODE","ASCII_HEX_DECODE","RUN_LENGTH_DECODE","CCITT_FAX_DECODE","FAST","MEDIUM","SLOW","extractInfoFromBase64DataURI","supportsArrayBuffer","isArrayBufferView","binaryStringToUint8Array","arrayBufferToBase64","createImageInfo","processJPEG","processJPG","autoPrint","setHeaderFunction","getTextDimensions","table_font_size","innerText","cellAddPage","margins","cellInitialize","cell","printHeaders","tableHeaderRow","printHeaderRow","printingHeaderRow","getStringUnitWidth","arrayMax","autoSize","lnMod","calculateLineHeight","setTableHeaderRow","lastCellPos","table_x","table_y","splitTextToSize","pdf","medium","large","auto","css_line_height_string","defaultView","getComputedStyle","TextAlignMap","rows","cells","STYLE","NOSCRIPT","OBJECT","EMBED","SELECT","setBlockBoundary","setBlockStyle","margins_doc","addText","crossOrigin","onerror","className","innerHTML","putTotalPages","FOOTER","cssText","frames","elementHandlers","dispose","paragraph","splitFragmentsIntoLines","Unicode","widths","kerning","textIndent","RenderTextFragment","renderParagraph","blockstyle","priorblockstyle","wantedIndent","helvetica","serif","monospace","courier","bolder","lighter","oblique","justify","fromHTML","addJS","PNG","processPNG","imgData","colorSpace","colorType","pixelBitlength","decodePixels","transparency","indexed","styleSheet","getCharWidthsArray","fof","lineIndent","WinAnsiEncoding","Courier","Helvetica","webkitURL","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","FileReaderSync","fake","readAsBinaryString","getBlob","msSaveOrOpenBlob","externalHost","initMouseEvent","webkitRequestFileSystem","requestFileSystem","mozRequestFileSystem","readyState","DONE","exclusive","INIT","webkitSlice","TEMPORARY","root","getDirectory","getFile","createWriter","onwriteend","toURL","ABORT_ERR","abort","WRITING","NOT_FOUND_ERR","onwritestart","onprogress","onwrite","onabort","removeEventListener","Adler32","checksum","fromUtf8","fromBuffer","updateUtf8","updateBuffer","dyn_tree","stat_desc","static_tree","extra_bits","extra_base","max_length","bl_count","heap","heap_max","max_code","opt_len","static_len","build_tree","heap_len","pqdownheap","good_length","max_lazy","nice_length","max_chain","Ie","Ce","Be","Pe","We","Xe","Ke","Qe","Ve","Me","Fe","Ge","Le","Je","Ne","Oe","$e","Ze","static_l_desc","static_d_desc","static_bl_desc","bl_order","pending_buf","pending","static_ltree","_length_code","d_code","extra_dbits","extra_lbits","base_length","base_dist","ze","static_dtree","qe","flush_pending","me","He","Te","avail_in","read_buf","Ue","De","we","ke","avail_out","ye","Ee","ge","Ye","ve","je","be","total_in","total_out","pending_out","xe","Ae","Se","Re","deflateInit","dstate","deflateEnd","deflateParams","deflate","deflateSetDictionary","next_out","next_in","next_in_index","next_out_index","extra_blbits","animation","readUInt32","compressionMethod","filterMethod","interlaceMethod","numFrames","numPlays","xOffset","yOffset","readUInt16","disposeOp","blendOp","grayscale","hasAlphaChannel","XMLHttpRequest","responseType","mozResponseArrayBuffer","render","send","getBytes","decodePalette","copyToImageData","_decodedPalette","clearRect","putImageData","decodeFrames","createImageData","imageData","renderFrame","_timeout","stopAnimation","_png","eof","ensureBuffer","getByte","readBlock","lookChar","getChar","makeSubStream","Stream","skip","bytesPos","codeSize","codeBuf","getBits","getCode","generateHuffmanTable","simpleColors","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","feldspar","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslateblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","violetred","wheat","white","whitesmoke","yellow","yellowgreen","colorDefs","example","RGBColor","colorString","processor","examples","xml","listItem","listColor","exampleDiv","listItemValue","toRGB","jsPDFAPI","pdfSvgAttr","attributeIsNotEmpty","attVal","nodeIs","possible","removeAttributes","toRemove","numRgx","getLinesOptionsOfPoly","getLinesOptionsOfPath","opsList","ops","reflectControl","toRelative","curveQToC","letterPrev","isRelative","svgElementToPdf","removeInvalid","hasFillColor","fillRGB","fillColor","strokeColor","strokeRGB","linesOptions","linesOptionsList","fillRule","fontType","pdfFontSize","nodeCopy","ownerSVGElement","x_offset","y_offset"],"mappings":"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"}